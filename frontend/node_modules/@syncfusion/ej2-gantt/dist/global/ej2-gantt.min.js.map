{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/renderer/virtual-content-render.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/models/loading-indicator.js","../../src/gantt/models/week-working-time.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/actions/keyboard.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/base/constant.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/critical-path.js","../../src/gantt/actions/undo-redo.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-event-marker.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/gantt/actions/virtual-scroll.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor, RemoteSaveAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\n/**\n * @param {Element} elem .\n * @param {string} selector .\n * @param {boolean} isID .\n * @returns {Element} .\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {ITaskData} ganttProp .\n * @returns {boolean} .\n * @hidden\n */\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Gantt} parent .\n * @returns {boolean} .\n * @hidden\n */\nexport function isCountRequired(parent) {\n    if (parent.dataSource && !(parent.dataSource instanceof DataManager) &&\n        'result' in parent.dataSource) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {object} obj .\n * @returns {object} .\n * @hidden\n */\nexport function getSwapKey(obj) {\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\n/**\n * @param {object} dataSource .\n * @returns {boolean} .\n * @hidden\n */\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor || (adaptor instanceof ODataV4Adaptor) ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || (adaptor instanceof RemoteSaveAdaptor) ||\n            adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\n/**\n * @param {IGanttData[]} records .\n * @param {boolean} isNotExtend .\n * @param {ITaskAddedEventArgs} eventArgs .\n * @param {Gantt} parent .\n * @returns {object[]} .\n * @hidden\n */\nexport function getTaskData(records, isNotExtend, eventArgs, parent) {\n    if (eventArgs) {\n        var result = void 0;\n        for (var i = 0; i < records.length; i++) {\n            var data = isNotExtend ?\n                (records[parseInt(i.toString(), 10)].taskData) : extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result = (data);\n        }\n        return result;\n    }\n    else {\n        var result = [];\n        for (var i = 0; i < records.length; i++) {\n            if (!isNullOrUndefined(parent) && parent.timezone) {\n                updateDates(records[i], parent);\n            }\n            var data = isNotExtend ? (records[parseInt(i.toString(), 10)].taskData) :\n                extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result.push(data);\n        }\n        return result;\n    }\n}\n/**\n * @param {IGanttData} record .\n * @param {Gantt} parent .\n * @returns {null} .\n * @hidden\n */\nexport function updateDates(record, parent) {\n    // let startDate: Date = (record as IGanttData).taskData[parent.taskFields.startDate];\n    if (record && !isNullOrUndefined(record.ganttProperties)) {\n        record.taskData[parent.taskFields.startDate] = parent.dateValidationModule.remove(record.ganttProperties.startDate, parent.timezone);\n        if (parent.taskFields.endDate !== null) {\n            record.taskData[parent.taskFields.endDate] = parent.dateValidationModule.remove(record.ganttProperties.endDate, parent.timezone);\n        }\n        if (parent.taskFields.baselineEndDate || parent.taskFields.baselineStartDate) {\n            record.taskData[parent.taskFields.baselineStartDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineStartDate, parent.timezone);\n            record.taskData[parent.taskFields.baselineEndDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineEndDate, parent.timezone);\n        }\n    }\n    return null;\n}\n/**\n * @param {string} str .\n * @param {string[]} args .\n * @returns {string} .\n * @hidden\n */\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/**\n * @param {any} value .\n * @param {string} key1 .\n * @param {any} collection .\n * @param {string} key2\n * @returns {number} .\n * @hidden\n */\n/* eslint-disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\nvar uid = 0;\n/**\n * @returns {number} .\n * @hidden\n */\nexport function getUid() {\n    return uid++;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.fromSegments = false;\n        this.mondayTimeRangeLength = 0;\n        this.tuesdayTimeRangeLength = 0;\n        this.wednesdayTimeRangeLength = 0;\n        this.thursdayTimeRangeLength = 0;\n        this.fridayTimeRangeLength = 0;\n        this.saturdayTimeRangeLength = 0;\n        this.sundayTimeRangeLength = 0;\n        this.parent = parent;\n    }\n    /**\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone, isLoad) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var currentDay = new Date(date.getTime());\n        var dayStartTime = this.parent['getCurrentDayStartTime'](currentDay);\n        var dayEndTime = this.parent['getCurrentDayEndTime'](currentDay);\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < dayStartTime && (!validateAsMilestone || isLoad)) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour < dayStartTime && validateAsMilestone) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if ((hour === dayEndTime && (!ganttProp || !validateAsMilestone)) || hour > dayEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            dayStartTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            var workingRange = this.parent.workingTimeRanges;\n            if (this.parent.weekWorkingTime.length > 0) {\n                workingRange = this.parent['getWorkingRange'](cloneStartDate);\n            }\n            for (var index = 0; index < workingRange.length; index++) {\n                var value = workingRange[index];\n                if (hour >= value.to && (workingRange[index + 1] &&\n                    hour < workingRange[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if ((hour === value.to && (!ganttProp || !validateAsMilestone)) || hour !== value.to) {\n                        this.setTime(workingRange[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tStartDate = new Date(cloneStartDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                // check holidays and weekends\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    dayStartTime = this.parent['getCurrentDayStartTime'](tStartDate);\n                    if (ganttProp) {\n                        dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : tStartDate);\n                    }\n                    var startTime = (!validateAsMilestone || isLoad) ? dayStartTime : dayEndTime;\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneStartDate.getTime());\n                        cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                        startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                        if (tempDate.getTime() !== cloneStartDate.getTime() && !validateAsMilestone) {\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                            startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                }\n            } while (tStartDate.getTime() !== cloneStartDate.getTime());\n            return new Date(cloneStartDate.getTime());\n        }\n        else {\n            return new Date(cloneStartDate.getTime());\n        }\n    };\n    /**\n     * To update given date value to valid end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var dayStartTime;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            var currentDay = date;\n            if (!this.parent.includeWeekend && ganttProp && ganttProp.isAutoSchedule || (this.parent.editModule\n                && this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditRecord\n                && !this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.isAutoSchedule)) {\n                currentDay = this.getNextWorkingDay(date);\n            }\n            dayStartTime = this.parent['getStartTime'](currentDay);\n            dayEndTime = this.parent['getEndTime'](currentDay);\n        }\n        else {\n            dayStartTime = this.parent.defaultStartTime;\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > dayEndTime) {\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour <= dayStartTime && !validateAsMilestone) {\n            var taskfields = this.parent.taskFields;\n            if (this.parent.editModule && this.parent.editModule['editedRecord'] && (!this.parent.editModule['editedRecord'][taskfields.startDate] && this.parent.editModule['editedRecord'][taskfields.endDate])) {\n                cloneEndDate.setDate(cloneEndDate.getDate());\n            }\n            else {\n                cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            }\n            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tempCheckDate = new Date(cloneEndDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneEndDate.getTime());\n                        cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                        dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                        if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                            this.setTime(dayEndTime, cloneEndDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        var tempHoliday = new Date(cloneEndDate.getTime());\n                        tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                            tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                            if (!(cloneEndDate.getTime() === holidayFrom.getTime() && dayEndTime === 86400 &&\n                                this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                                this.setTime(dayEndTime, cloneEndDate);\n                            }\n                        }\n                    }\n                }\n            } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n            return new Date(cloneEndDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(cloneEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](date);\n                this.setTime(dayEndTime, cloneEndDate);\n            }\n            return new Date(cloneEndDate.getTime());\n        }\n    };\n    /**\n     * To validate the baseline start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](date);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp ? ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < dayStartTime) {\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](cloneDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                }\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n            var dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp ? ganttProp.startDate ? ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > dayEndTime) {\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour < dayStartTime && !isNullOrUndefined(ganttProp) && !ganttProp.isMilestone) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                dayEndTime = this.parent['getCurrentDayEndTime'](cloneDate);\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            if (ganttProp && ganttProp.baselineStartDate && cloneDate &&\n                ganttProp.baselineStartDate.getTime() > cloneDate.getTime()) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp.isAutoSchedule ? ganttProp.autoStartDate : ganttProp.startDate);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.isAutoSchedule ? ganttProp.autoEndDate : ganttProp.endDate);\n                    this.setTime(dayStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                var duration = !isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 1 ?\n                    this.totalDuration(ganttProp.segments) : ganttProp.duration;\n                tempEndDate = this.getEndDate(ganttProp.startDate, duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        else {\n            tempEndDate = ganttData[this.parent.taskFields.endDate];\n            if (!isNullOrUndefined(tempEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](tempEndDate);\n                this.setTime(dayEndTime, tempEndDate);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    DateProcessor.prototype.totalDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            duration += segments[i].duration + segments[i].offsetDuration;\n        }\n        return duration;\n    };\n    /**\n     * To calculate duration from start date and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration;\n        if (!isNullOrUndefined(ganttProperties.segments) && ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            tDuration = this.parent.editModule.taskbarEditModule.sumOfDuration(ganttProperties.segments);\n        }\n        else {\n            if ((!isNullOrUndefined(this.parent.taskFields.milestone)) && (!isNullOrUndefined(ganttProperties.startDate))\n                && !isNullOrUndefined(ganttProperties.endDate) &&\n                (ganttProperties.startDate).getTime() === (ganttProperties.endDate).getTime()\n                && (ganttData.taskData[this.parent.taskFields.milestone] === false)) {\n                tDuration = 1;\n            }\n            else {\n                tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n            }\n        }\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        var col = this.parent.columnByField[this.parent.columnMapping.duration];\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isCellEdit && !isNullOrUndefined(col)) {\n            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                var dialog = this.parent.editModule.dialogModule.dialog;\n                if (!isNullOrUndefined(dialog)) {\n                    var textBox = dialog.querySelector('#' + this.parent.element.id + 'Duration')\n                        .ej2_instances[0];\n                    if (!isNullOrUndefined(textBox) && textBox.value !== tDuration.toString()) {\n                        textBox.value = tDuration.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n            if (this.parent.taskFields.duration) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                if (this.parent.taskFields.durationUnit) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} sDate Method to get total nonworking time between two date values\n     * @param {Date} eDate .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var weekendCount = (!this.parent.includeWeekend && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) && isAutoSchedule ?\n            this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (this.parent.weekWorkingTime.length > 0 ?\n            this.nonWorkingSeconds(sDate, eDate, isAutoSchedule, totWorkDays) : (totWorkDays * (86400 - this.parent.secondsPerDay))) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    DateProcessor.prototype.nonWorkingSeconds = function (sDate, eDate, isAutoSchedule, workDays, fromDuration) {\n        var newStartDate = sDate.getTime() > eDate.getTime() ? new Date(eDate.getTime()) : new Date(sDate.getTime());\n        var newEndDate = sDate.getTime() > eDate.getTime() ? new Date(sDate.getTime()) : new Date(eDate.getTime());\n        var timeDiff = 0;\n        var count = 0;\n        if (fromDuration) {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](newStartDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](newStartDate);\n            if (!(newStartDate.getHours() < dayEndTime / 3600 && newStartDate.getHours() >= dayStartTime / 3600)) {\n                newStartDate.setDate(newStartDate.getDate() + 1);\n            }\n        }\n        else {\n            newStartDate.setDate(newStartDate.getDate() + 1);\n            newStartDate.setHours(0, 0, 0, 0);\n            newEndDate.setHours(0, 0, 0, 0);\n        }\n        if (workDays > 0 || isNullOrUndefined(workDays)) {\n            while ((fromDuration && newStartDate.getTime() <= newEndDate.getTime())\n                || (!fromDuration && newStartDate.getTime() < newEndDate.getTime())) {\n                if (isAutoSchedule) {\n                    if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                        do {\n                            newStartDate.setDate(newStartDate.getDate() + 1);\n                        } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                    }\n                    if (!this.parent.includeWeekend) {\n                        this.getNextWorkingDay(newStartDate);\n                    }\n                }\n                if (newStartDate.getTime() <= newEndDate.getTime()) {\n                    count++;\n                    var currentDaySeconds = this.parent['getSecondsPerDay'](newStartDate);\n                    if (fromDuration) {\n                        timeDiff += currentDaySeconds;\n                    }\n                    else {\n                        timeDiff += 86400 - currentDaySeconds;\n                    }\n                    newStartDate.setDate(newStartDate.getDate() + 1);\n                    if (isAutoSchedule) {\n                        if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                            do {\n                                newStartDate.setDate(newStartDate.getDate() + 1);\n                            } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                        }\n                        if (!this.parent.includeWeekend) {\n                            this.getNextWorkingDay(newStartDate);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            return 0;\n        }\n        if (fromDuration) {\n            if (timeDiff > 0) {\n                timeDiff = timeDiff / count;\n            }\n            else {\n                timeDiff = this.parent.secondsPerDay;\n            }\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} durationUnit .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.nonWorkingSeconds(startDate, endDate, isAutoSchedule, undefined, true);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = durationHours / totSeconds;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {Date} date .\n     *  @returns {number} .\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit, date) {\n        var value = 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](date);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (!durationUnit || durationUnit.toLocaleLowerCase() === 'day') {\n            value = totSeconds * duration;\n        }\n        else if (durationUnit.toLocaleLowerCase() === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     *\n     * @param {Date} startDate .\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var sDate = new Date(startDate.getTime());\n        var secondDuration;\n        if (this.parent.weekWorkingTime.length > 0 && (!durationUnit || durationUnit.toLocaleLowerCase() === 'day')) {\n            secondDuration = this.calculateSecondDuration(duration, sDate, secondDuration, startDate, true);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, startDate);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     * Calculate start date based on end date and duration.\n     *\n     * @param {Date} endDate - To calculate start date value from end date and duration.\n     * @param {number} duration - The duration value.\n     * @param {string} durationUnit - The unit of duration.\n     * @param {ITaskData} ganttProp - The Gantt task properties.\n     * @param {boolean} fromValidation - A flag indicating if the calculation is from validation.\n     * @returns {Date} The calculated start date.\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp, fromValidation) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration;\n        var eDate = new Date(tempEnd.getTime());\n        if (this.parent.weekWorkingTime.length > 0) {\n            secondDuration = this.calculateSecondDuration(duration, eDate, secondDuration, tempEnd, false);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, tempEnd);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        /* To render the milestone in proper date while loading */\n        if (fromValidation && ganttProp.isMilestone) {\n            startDate.setDate(startDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : startDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, startDate);\n            startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp, true);\n        }\n        return startDate;\n    };\n    DateProcessor.prototype.calculateSecondDuration = function (duration, sDate, secondDuration, startDate, fromEndDate) {\n        if (duration < 1) {\n            secondDuration = this.parent['getSecondsPerDay'](sDate) * duration;\n        }\n        else {\n            secondDuration = 0;\n            var durationValue = duration;\n            var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](sDate);\n            if (!(sDate.getHours() < dayEndTime / 3600 && sDate.getHours() > dayStartTime / 3600) && this.fromSegments) {\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n            }\n            while (durationValue > 0) {\n                if (this.isOnHolidayOrWeekEnd(sDate, true)) {\n                    do {\n                        if (fromEndDate) {\n                            sDate.setDate(sDate.getDate() + 1);\n                        }\n                        else {\n                            sDate.setDate(sDate.getDate() - 1);\n                        }\n                    } while (this.isOnHolidayOrWeekEnd(sDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    sDate = fromEndDate ? this.getNextWorkingDay(sDate) : this.getPreviousWorkingDay(sDate);\n                }\n                var totSeconds = this.parent['getSecondsPerDay'](sDate);\n                var num = 0;\n                if (this.getSecondsInDecimal(startDate) !== this.parent['getStartTime'](startDate) && !Number.isInteger(durationValue)) {\n                    var deciNumber = duration.toString().split('.');\n                    num = parseFloat('.' + deciNumber[1]);\n                    totSeconds = totSeconds * num;\n                    durationValue = durationValue - num;\n                }\n                if (durationValue < 1) {\n                    totSeconds = totSeconds * durationValue;\n                }\n                secondDuration = secondDuration + totSeconds;\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n                if (!num) {\n                    durationValue--;\n                }\n            }\n        }\n        return secondDuration;\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            if (typeof this.parent.cloneProjectStartDate === 'string') {\n                this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            }\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n                this.setTime(dayStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var ganttTask = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n                if (this.parent.allowUnscheduledTasks && ganttTask &&\n                    ganttTask.parentItem && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)) {\n                    var parentTask = this.parent.getParentTask(ganttTask.parentItem);\n                    while (parentTask && !parentTask.ganttProperties.startDate) {\n                        parentTask = this.parent.getParentTask(parentTask.parentItem);\n                    }\n                    sDate = (!parentTask || !parentTask.ganttProperties.startDate) ? this.parent.cloneProjectStartDate\n                        : parentTask.ganttProperties.startDate;\n                }\n                else {\n                    sDate = this.getProjectStartDate(ganttProp);\n                }\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](endDate ? endDate : eDate);\n                    this.setTime(dayEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    DateProcessor.prototype.getWorkingTime = function (day, currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n            startDate.setHours(0, 0, 0, 0);\n            var tempDate = new Date(startDate.getTime());\n            startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n            var startHour = new Date(startDate.getTime());\n            if (currentRange.to === 24) {\n                var currentRangeTo = 24 * 60 * 60 * 1000;\n                tempDate.setTime(tempDate.getTime() + (currentRangeTo));\n            }\n            else {\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n            }\n            var endHour = new Date(tempDate.getTime());\n            var timeDiff = endHour.getTime() - startHour.getTime();\n            var sdSeconds = this.getSecondsInDecimal(startHour);\n            var edSeconds = this.getSecondsInDecimal(endHour);\n            if (edSeconds === 0) {\n                edSeconds = 86400;\n            }\n            totalSeconds += timeDiff / 1000;\n            if (count === 0) {\n                this.parent.defaultStartTime = sdSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignStartTime(day, sdSeconds);\n                }\n            }\n            if (count === this[day.toLowerCase() + 'TimeRangeLength'] - 1 || day === '') {\n                this.parent.defaultEndTime = edSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignEndTime(day, edSeconds);\n                }\n            }\n            if (count > 0) {\n                if (day === '') {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(this.parent[day.toLowerCase() + 'NonWorkingHours'][this.parent[day.toLowerCase() + 'NonWorkingHours'].length - 1] +\n                        sdSeconds - this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'][count - 1].to);\n                    if (this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to < sdSeconds) {\n                        this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                            from: this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to)\n                        });\n                    }\n                }\n            }\n            else {\n                if (day === '') {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(0);\n                    this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n            }\n            if (day === '') {\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n            else {\n                this.parent[day.toLowerCase() + 'WorkingTimeRanges'].push({ from: sdSeconds, to: edSeconds });\n                this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        return totalSeconds;\n    };\n    DateProcessor.prototype.assignStartTime = function (day, sdSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultStartTime = sdSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultStartTime = sdSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultStartTime = sdSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.assignEndTime = function (day, edSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultEndTime = edSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultEndTime = edSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultEndTime = edSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultEndTime = edSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultEndTime = edSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.calculateWeekWorkTime = function (day, currentDay, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        var seconds = 0;\n        for (var j = 0; j < currentDay.length; j++) {\n            var currentRange = currentDay[j];\n            seconds = seconds + this.getWorkingTime(day, currentRange, startDate, totalSeconds, j, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent[day.toLowerCase() + 'DefaultStartTime'] / 3600 !== 24) {\n            this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                from: this.parent[day.toLowerCase() + 'DefaultEndTime'], to: 86400,\n                isWorking: false, interval: 86400 - this.parent[day.toLowerCase() + 'DefaultEndTime']\n            });\n        }\n        return seconds;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var _i = 0, _a = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _i < _a.length; _i++) {\n            var day = _a[_i];\n            this[day.toLowerCase() + \"TimeRangeLength\"] = this.parent.dayWorkingTime.length;\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            for (var i = 0; i < this.parent.weekWorkingTime.length; i++) {\n                this[this.parent.weekWorkingTime[i].dayOfWeek.toLowerCase() + 'TimeRangeLength']\n                    = this.parent.weekWorkingTime[i].timeRange.length;\n            }\n            var weekWorkingTime = this.parent.weekWorkingTime;\n            var dayWorkingTime_1 = this.parent.dayWorkingTime;\n            for (var _b = 0, weekWorkingTime_1 = weekWorkingTime; _b < weekWorkingTime_1.length; _b++) {\n                var weekDay = weekWorkingTime_1[_b];\n                if (weekDay.timeRange && weekDay.timeRange.length > 0) {\n                    var seconds_1 = this.calculateWeekWorkTime(weekDay.dayOfWeek, weekDay.timeRange, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[weekDay.dayOfWeek.toLowerCase() + \"Seconds\"] = seconds_1;\n                }\n            }\n            for (var _c = 0, _d = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _c < _d.length; _c++) {\n                var day = _d[_c];\n                var dayDefaultStartTime = this.parent[day.toLowerCase() + \"DefaultStartTime\"];\n                if (isNullOrUndefined(dayDefaultStartTime)) {\n                    var seconds_2 = this.calculateWeekWorkTime(day, dayWorkingTime_1, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[day.toLowerCase() + \"Seconds\"] = seconds_2;\n                }\n            }\n        }\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var seconds = 0;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            seconds = seconds + this.getWorkingTime('', currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        totalSeconds = seconds;\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param {string} value .\n     * @param {boolean} isFromDialog .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() > currentHoliday.getTime()) {\n                    if ((!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) ||\n                        this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @returns {number[]} .\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /**\n     * @param {Date} date .\n     * @param {boolean} checkWeekEnd .\n     * @returns {boolean} .\n     * @private\n     */\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            checkWeekEnd = true;\n        }\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isAutoSchedule .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        var startnonWorkingTimeRange;\n        var endnonWorkingTimeRange;\n        if (this.parent.weekWorkingTime.length > 0) {\n            startnonWorkingTimeRange = this.parent['getNonWorkingRange'](startDate);\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n            }\n            endnonWorkingTimeRange = this.parent['getNonWorkingRange'](endDate);\n            for (var i = 0; i < endnonWorkingTimeRange.length; i++) {\n                var val = endnonWorkingTimeRange[i];\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        else {\n            startnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            endnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < startnonWorkingTimeRange.length; i++) {\n                    if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!endnonWorkingTimeRange[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - endnonWorkingTimeRange[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += endnonWorkingTimeRange[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - startnonWorkingTimeRange[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += startnonWorkingTimeRange[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = startnonWorkingTimeRange[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && dayEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} seconds .\n     * @param {Date} date .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     * @param {Date} sDate .\n     * @param {Date} eDate .\n     * @returns {void} .\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ >= 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {number} localOffset .\n     * @param {string} timezone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.offset = function (date, timezone) {\n        var localOffset = date.getTimezoneOffset();\n        try {\n            var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n            if (!isNaN(convertedDate.getTime())) {\n                return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n            }\n            return 0;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    DateProcessor.prototype.remove = function (date, timezone) {\n        if (!isNullOrUndefined(date)) {\n            date = this.reverse(date, timezone, date.getTimezoneOffset());\n        }\n        return date;\n    };\n    DateProcessor.prototype.reverse = function (date, fromOffset, toOffset) {\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {string} timezone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.convert = function (date, timezone) {\n        var fromOffset = date.getTimezoneOffset();\n        var toOffset = this.offset(date, timezone);\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {string | Date} date .\n     * @param {boolean} toConvert .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date, toConvert) {\n        var updatedDate;\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            updatedDate = new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.getDateFormat(), type: 'dateTime' });\n            updatedDate = isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n        if (!isNullOrUndefined(this.parent.timezone) && toConvert) {\n            var convertedDate = this.convert(updatedDate, this.parent.timezone);\n            return convertedDate;\n        }\n        else {\n            return updatedDate;\n        }\n    };\n    /**\n     * @param {Date} date1 .\n     * @param {Date} date2 .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     *\n     * @param {number} work .\n     * @param {string} workUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDatesForValidatedTasks = function (editArgs) {\n        var _this = this;\n        var projectStartDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var projectEndDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = (getValue('dataOperation.dataArray', this.parent));\n        if ((!projectStartDate || !projectEndDate) && (flatData && flatData.length === 0)) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        else if (flatData.length > 0) {\n            var sortedStartDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(a[_this.parent.taskFields.startDate])).getTime() -\n                    (new Date(b[_this.parent.taskFields.startDate])).getTime());\n            });\n            var sortedEndDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(b[_this.parent.taskFields.endDate])).getTime() - (new Date(a[_this.parent.taskFields.endDate])).getTime());\n            });\n            minStartDate = sortedStartDate[0][this.parent.taskFields.startDate];\n            maxEndDate = sortedEndDate[sortedEndDate.length - 1][this.parent.taskFields.endDate];\n        }\n        this.parent.cloneProjectStartDate = projectStartDate ? new Date(projectStartDate.getTime()) :\n            typeof minStartDate === 'string' ? new Date(minStartDate) : minStartDate;\n        this.parent.cloneProjectEndDate = projectEndDate ? new Date(projectEndDate.getTime()) :\n            typeof maxEndDate === 'string' ? new Date(maxEndDate) : maxEndDate;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        if (this.parent.isLoad && this.parent.enablePersistence &&\n            this.parent.cloneProjectStartDate && this.parent.cloneProjectEndDate) {\n            this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectEndDate = this.getDateFromFormat(this.parent.cloneProjectEndDate);\n            return;\n        }\n        var sDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var eDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(sDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(eDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate;\n                var tempEndDate;\n                if (isNullOrUndefined(task.startDate) && isNullOrUndefined(task.endDate)) {\n                    tempStartDate = null;\n                    tempEndDate = null;\n                }\n                else {\n                    tempStartDate = _this.getValidStartDate(task);\n                    tempEndDate = _this.getValidEndDate(task);\n                }\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline && !_this.parent.timelineModule.isZoomToFit) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0 && !_this.parent.timelineModule.isZoomToFit) {\n                    task.indicators.forEach(function (item) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var eventMarkers = this.parent.eventMarkers;\n                // eslint-disable-next-line\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var holidays = this.parent.totalHolidayDates;\n                // eslint-disable-next-line\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                if (!minStartDate) {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                    minStartDate.setHours(0, 0, 0, 0);\n                }\n                else {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                }\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.prevProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.cloneProjectStartDate = minStartDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectStartDate)) ? new Date(projectStartDate.getTime()) :\n                    minStartDate : minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectEndDate)) ? new Date(projectEndDate.getTime()) :\n                    maxEndDate : maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n        this.parent['isProjectDateUpdated'] = true;\n    };\n    /**\n     *\n     * @param {ITaskSegment} segments .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.splitTasksDuration = function (segments) {\n        var duration = 0;\n        var sDate = segments[0].startDate;\n        var eDate = segments[segments.length - 1].endDate;\n        if (this.parent.timelineModule.bottomTier === 'Hour') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60));\n        }\n        else if (this.parent.timelineModule.bottomTier === 'Minutes') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60));\n        }\n        else {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24));\n        }\n        return duration;\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, extend, setValue } from '@syncfusion/ej2-base';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isCountRequired, isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.customSegmentProperties = [];\n        _this.isBaseline = false;\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        var _this = this;\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.parent.updatedRecords = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n            this.parent.taskIds = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else {\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n                var ganttdata = getValue('result', this.parent.dataSource);\n                this.dataArray = ganttdata;\n            }\n            else {\n                this.dataArray = this.parent.dataSource;\n            }\n            this.processTimeline();\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n            this.parent.flatData.map(function (data) {\n                _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n            });\n        }\n        this.parent.flatData.map(function (data) {\n            _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n        });\n    };\n    TaskProcessor.prototype.processTimeline = function () {\n        this.parent.processTimeline();\n        if (!this.parent.enableValidation) {\n            this.parent.dataOperation.calculateProjectDatesForValidatedTasks();\n            this.parent.timelineModule.validateTimelineProp();\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            this.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else {\n            dataManager.executeQuery(queryManager).then(function (e) {\n                _this.dataArray = e.result;\n                _this.processTimeline();\n                if (!_this.parent.loadChildOnDemand || (_this.parent.loadChildOnDemand && !(_this.parent.taskFields.hasChildMapping))) {\n                    _this.cloneDataSource();\n                }\n                _this.parent.renderGantt(isChange);\n            }).catch(function (e) {\n                // Trigger action failure event\n                _this.parent.processTimeline();\n                _this.parent.renderGantt(isChange);\n                _this.parent.trigger('actionFailure', { error: e });\n            });\n        }\n    };\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        var rootData = [];\n        var index;\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            if (index !== -1) {\n                rootData.push.apply(rootData, groupData.items); // eslint-disable-line\n            }\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            var data = [];\n            for (var i = 0; i < this.dataArray.length; i++) {\n                var tempData = this.dataArray[i];\n                if (tempData['parentItem']) {\n                    delete tempData['parentItem'];\n                }\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.setProperties({ taskFields: { child: 'Children' } }, true);\n            }\n            this.constructDataSource(data);\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                hierarchicalData = this.dataArray;\n            }\n            else {\n                hierarchicalData = this.hierarchyData;\n            }\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.taskFields.segmentId) {\n            this.segmentCollection = new DataManager(this.parent.segmentData).executeLocal(new Query()\n                .group(this.parent.taskFields.segmentId));\n            if (!this.parent.taskFields.segments) {\n                this.parent.taskFields.segments = 'Segments';\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var resources = extend([], [], this.parent.resources, true);\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                var record = {};\n                var resourceName = this.parent.resourceFields.name || 'resourceName';\n                record[this.parent.resourceFields.id] = 0;\n                record[resourceName] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     * @param {object[]} resources .\n     * @param {object[]} data .\n     * @param {object[]} unassignedTasks .\n     * @returns {void} .\n     *\n     */\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child !== null ? this_1.parent.taskFields.child : this_1.parent.taskFields.child = 'Children';\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if ((!tempData[child] || tempData[child].length === 0) && resourceData && resourceData.length) {\n                if (typeof (resourceData) === 'string') {\n                    this_1.isResourceString = true;\n                    var id = resourceData;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][this_1.parent.resourceFields.name].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                }\n                else {\n                    resourceData.forEach(function (resource) {\n                        var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                            resource;\n                        for (var j = 0; j < resources.length; j++) {\n                            if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                                if (resources[j][child]) {\n                                    resources[j][child].push(tempData);\n                                }\n                                else {\n                                    resources[j][child] = [tempData];\n                                }\n                                break;\n                            }\n                        }\n                    });\n                }\n            }\n            else if (!tempData[child] || (tempData[child] && tempData[child].length === 0)) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     *\n     * @param {object[]} data .\n     * @returns {void} .\n     * @hidden\n     */\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        this.parent.initialLoadData = extend({}, {}, this.parent.flatData, true);\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.parent.dataMap = this.parent.flatData.reduce(function (map, val) {\n                map.set(val.uniqueID, val);\n                return map;\n            }, new Map());\n        }\n        // Method to maintain the shared task uniqueIds\n        if (this.parent.viewType === 'ResourceView') {\n            this.calculateSharedTaskUniqueIds();\n        }\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.calculateSharedTaskUniqueIds = function () {\n        var _loop_2 = function (i) {\n            var value = [];\n            value[0] = this_2.parent.getTaskIds()[i][0];\n            value[1] = this_2.parent.getTaskIds()[i].slice(1);\n            if (value[0] !== 'R') {\n                var sharedRecords_1 = [];\n                var ids_1 = [];\n                this_2.parent.flatData.filter(function (data) {\n                    if (data.ganttProperties.taskId.toString() === value[1] && data.level !== 0) {\n                        ids_1.push(data.ganttProperties.rowUniqueID);\n                        sharedRecords_1.push(data);\n                    }\n                });\n                for (var j = 0; j < sharedRecords_1.length; j++) {\n                    sharedRecords_1[j].ganttProperties.sharedTaskUniqueIds = ids_1;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            _loop_2(i);\n        }\n    };\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var _this = this;\n        var length = data.length;\n        var _loop_3 = function (i) {\n            var tempData = data[i];\n            if (!isNullOrUndefined(this_3.parent.taskFields.segmentId)) {\n                var segmentData = this_3.segmentCollection.\n                    filter(function (x) { return x.key === tempData[_this.parent.taskFields.id]; });\n                if (segmentData.length > 0) {\n                    tempData[this_3.parent.taskFields.segments] = segmentData[0].items;\n                }\n            }\n            if (this_3.parent.taskFields.hasChildMapping && tempData['parentUniqueID']) {\n                parentItem = this_3.parent.getTaskByUniqueID(tempData['parentUniqueID']);\n            }\n            var ganttData = this_3.createRecord(tempData, level, parentItem, true);\n            if (!this_3.parent.enableValidation || (!this_3.parent.autoCalculateDateScheduling || (this_3.parent.isLoad &&\n                this_3.parent.treeGrid.loadChildOnDemand && this_3.parent.taskFields.hasChildMapping))) {\n                this_3.updateTaskLeftWidth(ganttData);\n            }\n            ganttData.index = this_3.recordIndex++;\n            this_3.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this_3.parent.flatData.push(ganttData);\n            this_3.parent.setTaskIds(ganttData);\n            var childData = tempData[this_3.parent.taskFields.child] || (tempData['taskData'] && tempData['taskData'][this_3.parent.taskFields.child]);\n            if (this_3.parent.viewType === 'ResourceView' && isNullOrUndefined(childData)\n                && isNullOrUndefined(ganttData.parentItem) && ganttData.level === 0) {\n                var ganttProp = ganttData.ganttProperties;\n                var parentData = ganttData;\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', null, parentData.ganttProperties, true);\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', null, parentData.ganttProperties, true);\n                var parentProgress = 0;\n                var parentProp = parentData.ganttProperties;\n                this_3.parent.setRecordValue('isMilestone', false, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this_3.calculateDuration(parentData);\n                }\n                this_3.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                this_3.parent.setRecordValue('work', parentWork, parentProp, true);\n                this_3.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this_3.parent.taskFields.type)) {\n                    this_3.updateMappingData(parentData, 'type');\n                }\n                this_3.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this_3.parent.setRecordValue('totalProgress', 0, parentProp, true);\n                this_3.parent.setRecordValue('totalDuration', 0, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this_3.parent.setRecordValue('autoDuration', this_3.calculateAutoDuration(parentProp), parentProp, true);\n                    this_3.updateAutoWidthLeft(parentData);\n                }\n                if (!this_3.parent.allowParentDependency) {\n                    this_3.resetDependency(parentData);\n                }\n                this_3.updateWidthLeft(parentData);\n                this_3.updateTaskData(parentData);\n            }\n            if (this_3.parent.taskFields.hasChildMapping) {\n                parentItem = null;\n            }\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this_3.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_3(i);\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                var fieldName = ganttRecord[columns[i].field];\n                if (fieldName === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To populate Gantt record\n     *\n     * @param {object} data .\n     * @param {number} level .\n     * @param {IGanttData} parentItem .\n     * @param {boolean} isLoad .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        var notes = data[taskSettings.notes];\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        progress = (100 < progress) ? 100 : progress;\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate], true);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate], true);\n        var ganttData = {};\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessor && data['ganttProperties'].predecessor.length > 0 && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessor', data['ganttProperties'].predecessor, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            name = data[taskSettings.name];\n            var shouldLoadChild = (this.parent.loadChildOnDemand &&\n                taskSettings.hasChildMapping && data['taskData']) ? true : false;\n            if (shouldLoadChild) {\n                ganttData['taskData'] = data['taskData'];\n            }\n            else {\n                if (data['taskData'] && data['ganttProperties']) {\n                    this.addTaskData(ganttData, data['taskData'], isLoad);\n                }\n                else {\n                    this.addTaskData(ganttData, data, isLoad);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            if (isNullOrUndefined(data[resourceFields.name]) && data['resourceName'] === 'Unassigned Task') {\n                name = data['resourceName'];\n            }\n            else {\n                name = data[resourceFields.name];\n            }\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        // eslint-disable-next-line\n        this.parent && taskSettings.parentID && this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n            this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        }\n        else if (data['ganttProperties']) {\n            this.parent.setRecordValue('resourceInfo', data['ganttProperties'].resourceInfo, ganttProperties, true);\n        }\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.updateResourceName(ganttData);\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate, ganttProperties), ganttProperties, true);\n        // set default end time, if hour is 0\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0 && baselineEndDate) {\n            dayEndTime = this.parent['getEndTime'](baselineEndDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, baselineEndDate);\n        }\n        if ((ganttProperties.baselineStartDate && baselineEndDate &&\n            (ganttProperties.baselineStartDate.getTime() > baselineEndDate.getTime())) ||\n            ((!isNullOrUndefined(ganttProperties.baselineStartDate) && !isNullOrUndefined(ganttProperties.startDate)\n                && (ganttProperties.baselineStartDate.getTime() === ganttProperties.startDate.getTime()))\n                && (!isNullOrUndefined(baselineEndDate) && !isNullOrUndefined(ganttProperties.endDate)\n                    && (baselineEndDate.toLocaleDateString() === ganttProperties.endDate.toLocaleDateString())) &&\n                ganttProperties.isMilestone)) {\n            baselineEndDate = ganttProperties.baselineStartDate;\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate, ganttProperties), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessorsName && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessorsName', data['ganttProperties'].predecessorsName, ganttProperties, true);\n        }\n        else {\n            this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        }\n        this.parent.setRecordValue('notes', notes, ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && this.parent.currentViewData.length > 0) {\n            this.parent.setRecordValue('parentItem', ganttData.parentItem, this.parent.currentViewData[this.taskIds.indexOf(data[taskSettings.id].toString())]);\n        }\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(taskSettings.parentID)\n            && !isNullOrUndefined(ganttData.parentItem)) {\n            this.parent.setRecordValue('parentId', ganttData.parentItem.taskId, ganttProperties, true);\n        }\n        this.parent.setRecordValue('level', data['level'] ? data['level'] : level, ganttData);\n        if (data['ganttProperties'] && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && data['uniqueID']) {\n                this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n            }\n            else {\n                this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), ganttData);\n            }\n        }\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n            !isNullOrUndefined(taskSettings.child)) {\n            this.parent.setRecordValue(taskSettings.child, [], ganttData);\n        }\n        if ((!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) ||\n            (data['taskData'] && data['taskData'][taskSettings.child] && data['taskData'][taskSettings.child].length > 0)) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            if (!this.parent.allowParentDependency) {\n                this.resetDependency(ganttData);\n            }\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && ganttData.taskData[taskSettings.hasChildMapping]) {\n                this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('hasChildRecords', false, ganttData);\n            }\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        this.updateExpandStateMappingValue(ganttData, data);\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n                !isNullOrUndefined(this.parent.taskFields.child)) {\n                parentItem[this.parent.taskFields.child].push(ganttData.taskData);\n            }\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            // if (this.parent.viewType === 'ResourceView' && typeof(ganttData.ganttProperties.taskId) === 'string') {\n            //     uniqueId = ganttProperties.taskId.toString();\n            // }\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n            this.parent.setRecordValue('sharedTaskUniqueIds', [], ganttProperties, true);\n        }\n        if (this.parent.allowUnscheduledTasks && ganttData.ganttProperties.startDate\n            && (ganttData.ganttProperties.endDate || ganttData.ganttProperties.duration)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n            if (!isLoad) {\n                this.updateWidthLeft(ganttData);\n            }\n        }\n        this.parent.chartRowsModule.updateSegment(ganttData.ganttProperties.segments, ganttData.ganttProperties.taskId);\n        return ganttData;\n    };\n    TaskProcessor.prototype.sortSegmentsData = function (segments, onLoad, ganttProp) {\n        var _this = this;\n        if (onLoad) {\n            segments.sort(function (a, b) {\n                var startDate = _this.parent.taskFields.startDate;\n                return _this.getDateFromFormat(a[startDate]).getTime() - _this.getDateFromFormat(b[startDate]).getTime();\n            });\n        }\n        else {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n        }\n        return segments;\n    };\n    TaskProcessor.prototype.setSegmentsInfo = function (data, onLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var ganttSegments = [];\n        var segments;\n        var sumOfDuration = 0;\n        var remainingDuration = 0;\n        var predefinedProperties = [this.parent.taskFields.duration, this.parent.taskFields.endDate,\n            this.parent.taskFields.startDate, this.parent.taskFields.id];\n        var taskData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.segments)) {\n            segments = onLoad ? data.taskData[this.parent.taskFields.segments] : data.ganttProperties.segments;\n            if (!onLoad) {\n                if (data.taskData[this.parent.taskFields.segments] && data.taskData[this.parent.taskFields.segments].length > 0) {\n                    data.taskData[this.parent.taskFields.segments].forEach(function (segment) {\n                        var cleanedObject = {};\n                        var extraProperties = {};\n                        for (var key in segment) {\n                            if (predefinedProperties.indexOf(key) !== -1) {\n                                cleanedObject[key] = segment[key];\n                            }\n                            else {\n                                extraProperties[key] = segment[key];\n                            }\n                        }\n                        _this.customSegmentProperties.push(extraProperties);\n                    });\n                }\n            }\n            if (!isNullOrUndefined(segments) && segments.length > 1) {\n                this.sortSegmentsData(segments, onLoad, data.ganttProperties);\n                for (var i = 0; i < segments.length; i++) {\n                    var segment = segments[i];\n                    var startDate = onLoad ? segment[taskSettings.startDate] : segment.startDate;\n                    var endDate = onLoad ? segment[taskSettings.endDate] : segment.endDate;\n                    var duration = onLoad ? segment[taskSettings.duration] : segment.duration;\n                    startDate = this.getDateFromFormat(startDate);\n                    startDate = this.checkStartDate(startDate, data.ganttProperties, false);\n                    if (!isNullOrUndefined(duration)) {\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    else {\n                        endDate = this.getDateFromFormat(endDate);\n                        if (endDate && (isNullOrUndefined(duration) || String(duration) === '')) {\n                            var dayEndTime = void 0;\n                            if (this.parent.weekWorkingTime.length > 0) {\n                                dayEndTime = this.parent['getEndTime'](endDate);\n                            }\n                            else {\n                                dayEndTime = this.parent.defaultEndTime;\n                            }\n                            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                                this.setTime(dayEndTime, endDate);\n                            }\n                        }\n                        endDate = this.checkEndDate(endDate, data.ganttProperties, false);\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration - 1;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    segment = {};\n                    if (!(startDate && endDate) || !(startDate && duration)) {\n                        break;\n                    }\n                    sumOfDuration += Number(duration);\n                    segment.startDate = startDate;\n                    segment.endDate = endDate;\n                    segment.duration = Number(duration);\n                    segment.width = 0;\n                    segment.left = 0;\n                    segment.segmentIndex = i;\n                    ganttSegments.push(segment);\n                    if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                        var unit = void 0;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            if (this.parent.timelineSettings.bottomTier.unit === 'Minutes') {\n                                unit = 'minute';\n                            }\n                            else if (this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n                                unit = 'hour';\n                            }\n                            else {\n                                unit = data.ganttProperties.durationUnit;\n                            }\n                        }\n                        else {\n                            unit = data.ganttProperties.durationUnit;\n                        }\n                        var offsetDuration = this.getDuration(ganttSegments[i - 1].endDate, ganttSegments[i].startDate, unit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        segment.offsetDuration = offsetDuration;\n                        if (offsetDuration < 1) {\n                            if (this.parent.weekWorkingTime.length === 0) {\n                                segment.startDate = this.getEndDate(ganttSegments[i - 1].endDate, 1, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            }\n                            else {\n                                var prevSegmentDate = new Date(ganttSegments[i - 1].endDate.getTime());\n                                segment.startDate = new Date(prevSegmentDate.setHours(prevSegmentDate.getHours() + 24));\n                                if (this.isOnHolidayOrWeekEnd(segment.startDate, true)) {\n                                    do {\n                                        segment.startDate.setDate(segment.startDate.getDate() + 1);\n                                    } while (this.isOnHolidayOrWeekEnd(segment.startDate, true));\n                                }\n                                if (!this.parent.includeWeekend) {\n                                    segment.startDate = this.getNextWorkingDay(segment.startDate);\n                                }\n                                var dayEndTime = this.parent['getEndTime'](ganttSegments[i - 1].endDate);\n                                if (this.getSecondsInDecimal(ganttSegments[i - 1].endDate) === dayEndTime) {\n                                    this.setTime(this.parent['getEndTime'](segment.startDate), segment.startDate);\n                                }\n                            }\n                            segment.startDate = this.checkStartDate(segment.startDate, data.ganttProperties, false);\n                            segment.endDate = this.getEndDate(segment.startDate, segment.duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.endDate = !taskSettings.duration && taskSettings.endDate\n                                && segment.endDate > data.ganttProperties.endDate ? data.ganttProperties.endDate : segment.endDate;\n                            segment.offsetDuration = 1;\n                        }\n                    }\n                    else {\n                        segment.offsetDuration = 0;\n                    }\n                    taskData.push(this.setSegmentTaskData(segment, segments[i]));\n                }\n                this.parent.setRecordValue('duration', sumOfDuration, data.ganttProperties, true);\n                if (!isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue('endDate', ganttSegments[ganttSegments.length - 1].endDate, data.ganttProperties, true);\n                }\n                if (!isNullOrUndefined(taskSettings.endDate) && !isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue(this.parent.taskFields.endDate, ganttSegments[ganttSegments.length - 1].endDate, data, true);\n                }\n                if (!onLoad && taskData && taskData.length > 0) {\n                    taskData.forEach(function (task, index) {\n                        var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                        taskData[index] = mergedObject;\n                    });\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, taskData, data);\n            }\n        }\n        if (ganttSegments.length > 1) {\n            this.parent.setRecordValue('segments', ganttSegments, data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.segments, data.taskData[this.parent.taskFields.segments], data, true);\n        }\n        else {\n            ganttSegments = null;\n        }\n        return ganttSegments;\n    };\n    TaskProcessor.prototype.setSegmentTaskData = function (segments, segmenttaskData) {\n        var taskSettings = this.parent.taskFields;\n        var taskData = extend({}, {}, segmenttaskData, true);\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            taskData[this.parent.taskFields.startDate] = segments.startDate;\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            taskData[this.parent.taskFields.endDate] = segments.endDate;\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            taskData[this.parent.taskFields.duration] = Number(segments.duration);\n        }\n        return taskData;\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        if (this.parent['triggeredColumnName'] === this.parent.taskFields.work && ganttData.ganttProperties.duration !== 0 &&\n            (isNullOrUndefined(ganttData.ganttProperties.resourceInfo) || ganttData.ganttProperties.resourceInfo.length !== 0)) {\n            return;\n        }\n        var resources = (this.parent.editModule && this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : ganttData.ganttProperties.resourceInfo;\n        var work = 0;\n        var resourceOneDayWork;\n        if ((!isNullOrUndefined(resources) && resources.length > 0) && !ganttData.hasChildRecords) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                // const resource: any = ganttData.ganttProperties.resourceInfo ? ganttData.ganttProperties.resourceInfo : resources;\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                resourceOneDayWork = (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? actualOneDayWork : 0));\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        else if (!ganttData.hasChildRecords && !isNullOrUndefined(ganttData.ganttProperties.work) &&\n            (!isNullOrUndefined(ganttData.ganttProperties.duration) && ganttData.ganttProperties.duration > 0)) {\n            work = ganttData.ganttProperties.work;\n        }\n        if (ganttData.childRecords) {\n            if (ganttData.childRecords.length > 0 && this.parent.isOnEdit) {\n                var childCompletedWorks = 0;\n                for (var i = 0; i < ganttData.childRecords.length; i++) {\n                    childCompletedWorks += ganttData.childRecords[i].ganttProperties.work;\n                }\n                work += childCompletedWorks;\n            }\n        }\n        if (ganttData.ganttProperties.taskType === 'FixedUnit' && resourceOneDayWork === 0) {\n            work = 0;\n            this.parent.setRecordValue('duration', 0, ganttData.ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                this.parent.setRecordValue(this.parent.taskFields.duration, 0, ganttData, true);\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.work) && !this.parent.isLoad) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} parent .\n     * @returns {IParent} .\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    var tempData_1 = (index > -1) ? this.dataArray[index] : {};\n                    if (!isNullOrUndefined(this.parent.taskFields.segmentId)) {\n                        var segmentDataCollection = this.segmentCollection.\n                            filter(function (x) { return x.key === tempData_1[_this.parent.taskFields.id]; });\n                        if (segmentDataCollection.length > 0) {\n                            tempData_1[this.parent.taskFields.segments] = segmentDataCollection[0].items;\n                        }\n                    }\n                    this.parent.setRecordValue('taskData', tempData_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue(expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.setValidatedDates = function (ganttData, data) {\n        var ganttProperties = ganttData.ganttProperties;\n        var taskSettings = this.parent.taskFields;\n        var duration = data[taskSettings.duration];\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        this.parent.setRecordValue('startDate', new Date(startDate.getTime()), ganttProperties, true);\n        if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n        }\n        else {\n            this.calculateDuration(ganttData);\n        }\n        this.parent.setRecordValue('endDate', new Date((endDate.getTime())), ganttProperties, true);\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @param {boolean} isLoad .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate;\n        var endDate;\n        if (ganttProperties.startDate && ganttProperties.endDate) {\n            startDate = this.getDateFromFormat(ganttProperties.startDate, true);\n            endDate = this.getDateFromFormat(ganttProperties.endDate, true);\n        }\n        else {\n            startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n            endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        }\n        var segments = taskSettings.segments ? (data[taskSettings.segments] ||\n            ganttData.taskData[taskSettings.segments]) : null;\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseFloat(data[taskSettings.work]) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        var taskTypeMapping = data[taskSettings.type] ? data[taskSettings.type] : '';\n        var tType = this.validateTaskTypeMapping(taskTypeMapping);\n        this.parent.setRecordValue('taskType', tType, ganttProperties, true);\n        var isUnassignedTask = data[this.parent.resourceFields.name] === this.parent.localeObj.getConstant('unassignedTask');\n        if (isUnassignedTask) {\n            this.parent.setRecordValue('taskType', 'FixedDuration', ganttProperties, true);\n        }\n        if (isLoad && !this.parent.enableValidation && startDate && endDate) {\n            this.setValidatedDates(ganttData, data);\n        }\n        else {\n            if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n                if (this.parent.allowUnscheduledTasks) {\n                    return;\n                }\n                else {\n                    this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            else if (startDate) {\n                this.calculateDateFromStartDate(startDate, endDate, duration, ganttData, isLoad);\n            }\n            else if (endDate) {\n                this.calculateDateFromEndDate(endDate, duration, ganttData);\n            }\n            else if (!isNullOrUndefined(duration) && duration !== '') {\n                this.updateDurationValue(duration, ganttProperties);\n                if (this.parent.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                    this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n        }\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(ganttData.ganttProperties.startDate)) {\n                ganttData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n                ganttData.taskData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n            }\n            if (!isNullOrUndefined(ganttData.ganttProperties.endDate)) {\n                ganttData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n                ganttData.taskData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n            }\n        }\n        if (!isNullOrUndefined(segments)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            this.parent.setRecordValue('durationUnit', this.parent.durationUnit, ganttProperties, true);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                }\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                switch (tType) {\n                    case 'FixedDuration':\n                        // To validate the work column as well,when initial dataset have 0 duration\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) || ganttProperties.duration === 0) {\n                            this.updateWorkWithDuration(ganttData);\n                        }\n                        break;\n                    case 'FixedWork':\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) || (ganttProperties.work === 0)) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                    case 'FixedUnit':\n                        this.updateDurationWithWork(ganttData);\n                        break;\n                }\n                if (!isNullOrUndefined(taskSettings.type)) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'type');\n                }\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                    }\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, false, ganttData, true);\n                    }\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n        else if (taskSettings.type && ganttProperties.taskType) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'type');\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = (this.parent.editModule && this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources) && resources.length > 0) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? ((ganttProperties.taskType !== 'FixedWork' && ganttProperties.duration !== 0) ? actualOneDayWork : 0) : 0)); //in hours\n            }\n            var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0 && totalResourceOneDayWork > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            if (ganttProperties.taskType === 'FixedUnit' && totalResourceOneDayWork === 0) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.work, 0, ganttData, true);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule) && !this.parent.editModule.dialogModule['isEdit'] &&\n            (!isNullOrUndefined(this.parent.editModule.cellEditModule) && !this.parent.editModule.cellEditModule.isCellEdit))\n            ? this.parent.editModule.dialogModule.ganttResources : ganttProperties.resourceInfo;\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            (this.parent.editModule.taskbarEditModule.taskBarEditAction === 'LeftResizing' || this.parent.editModule.taskbarEditModule.taskBarEditAction === 'RightResizing')) {\n            resources = ganttData.ganttProperties.resourceInfo;\n        }\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        var actualOneDayWork = (totSeconds) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage === 0 ? 0 : totalUnitInPercentage > 0 ?\n            totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n            if (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule) &&\n                !this.parent.editModule.dialogModule['isEdit'] &&\n                (!isNullOrUndefined(this.parent.editModule.cellEditModule) && !this.parent.editModule.cellEditModule.isCellEdit)) {\n                if (ganttProperties.resourceInfo) {\n                    ganttProperties.resourceInfo[index][this.parent.resourceFields.unit] = individualUnit;\n                }\n            }\n            if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule.ganttResources[index])) {\n                this.parent.editModule.dialogModule.ganttResources[index][this.parent.resourceFields.unit] = individualUnit;\n            }\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            dayEndTime = this.parent['getEndTime'](endDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, endDate);\n        }\n        var validateAsMilestone = (parseInt(duration, 10) === 0) ? true : null;\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties, validateAsMilestone), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData, isLoad) {\n        var ganttProperties = ganttData.ganttProperties;\n        var validateAsMilestone = (parseInt(duration, 10) === 0 || ((startDate && endDate) &&\n            (new Date(startDate.getTime()) === new Date(endDate.getTime())))) ? true : null;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties, validateAsMilestone, isLoad), ganttProperties, true);\n        if (this.parent.isTreeGridRendered && ganttData) {\n            this.updateTaskData(ganttData);\n        }\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                this.setTime(dayEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.calculateEndDate(ganttData);\n            }\n            else {\n                this.parent.setRecordValue('endDate', endDate, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} parentWidth .\n     * @param {number} percent .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate, ganttProp);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration; // eslint-disable-line\n        var milestone = ganttProp.isMilestone;\n        var ganttRecord = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n        if (ganttRecord && this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)\n            && !isNullOrUndefined(duration) && !ganttRecord.hasChildRecords && ganttRecord.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && ganttRecord[this.parent.taskFields.manual]))) {\n            var parentRec = this.parent.getParentTask(ganttRecord.parentItem);\n            if (parentRec.ganttProperties.startDate) {\n                startDate = parentRec.ganttProperties.startDate;\n            }\n        }\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = isNullOrUndefined(startDate) && this.parent.allowUnscheduledTasks ? false : true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            left = this.getTaskLeft(sDate, milestone);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate && (baselineStartDate.getTime() !== baselineEndDate.getTime())) {\n            this.isBaseline = true;\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {ITaskData} [ganttData] .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate, ganttData) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        var isValid = false;\n        var modifiedsDate = new Date(startDate.getTime());\n        var hour = 0;\n        if (!isNullOrUndefined(ganttData) && ganttData.durationUnit === 'hour') {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 60 * 1000);\n        }\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute') || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 1000);\n        }\n        if (this.isBaseline && tierMode === 'Day') {\n            var duration = this.getDuration(sDate, eDate, 'day', true, false);\n            this.isBaseline = false;\n            if (duration > 0 && duration < 1) {\n                return (duration * this.parent.perDayWidth);\n            }\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            var date = new Date(startDate.getTime());\n            for (var count = startDate.getDate(); count <= endDate.getDate(); count++) {\n                var day = date.getDay();\n                var currentDay = void 0;\n                var weekWorkingTime = this.parent.weekWorkingTime;\n                switch (day) {\n                    case 0:\n                        currentDay = 'Sunday';\n                        break;\n                    case 1:\n                        currentDay = 'Monday';\n                        break;\n                    case 2:\n                        currentDay = 'Tuesday';\n                        break;\n                    case 3:\n                        currentDay = 'Wednesday';\n                        break;\n                    case 4:\n                        currentDay = 'Thursday';\n                        break;\n                    case 5:\n                        currentDay = 'Friday';\n                        break;\n                    case 6:\n                        currentDay = 'Saturday';\n                        break;\n                    default:\n                        currentDay = '';\n                }\n                var isValid_1 = true;\n                for (var i = 0; i < weekWorkingTime.length; i++) {\n                    if (weekWorkingTime[i][currentDay]\n                        && weekWorkingTime[i][currentDay].length > 0) {\n                        isValid_1 = false;\n                        for (var j = 0; j < weekWorkingTime[i][currentDay].length; j++) {\n                            hour = hour + weekWorkingTime[i][currentDay][j].to\n                                - weekWorkingTime[i][currentDay][j].from;\n                        }\n                    }\n                }\n                if (isValid_1) {\n                    for (var k = 0; k < this.parent.dayWorkingTime.length; k++) {\n                        hour = hour + this.parent.dayWorkingTime[k].to - this.parent.dayWorkingTime[k].from;\n                    }\n                }\n                date = new Date(date.setDate(date.getDate() + 1));\n                if (!this.parent.includeWeekend) {\n                    date = this.parent.dataOperation.getNextWorkingDay(date);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < this.parent.dayWorkingTime.length; i++) {\n                hour = hour + this.parent.dayWorkingTime[i].to - this.parent.dayWorkingTime[i].from;\n            }\n        }\n        var dateDiff = modifiedsDate.getTime() - sDate.getTime();\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute' && ganttData.duration < (hour * 60)) || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' &&\n            !isNullOrUndefined(ganttData.duration) && /^\\d+\\.\\d+$/.test(ganttData.duration.toString())) {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if ((Math.floor((dateDiff / (1000 * 60 * 60)) % 24) >= hour || dateDiff === 0)) {\n                    isValid = true;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime && isValid) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime && isValid) {\n                    eDate.setHours(24);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            else {\n                isValid = true;\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (isValid) {\n                    if (ganttData.durationUnit === 'day' && /^\\d+\\.\\d+$/.test(ganttData.duration.toString()) && this.parent.timelineModule.bottomTier === 'Day'\n                        && isNullOrUndefined(ganttData.segments)) {\n                        var holidaysCount = this.parent.holidays && this.parent.holidays.length > 0\n                            ? this.getHolidaysCount(sDate, eDate)\n                            : 0;\n                        var weekendCount = !this.parent.includeWeekend ? this.getWeekendCount(sDate, eDate) : 0;\n                        return ((holidaysCount + weekendCount + ganttData.duration) * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                    }\n                }\n                else {\n                    if (ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n                        return (ganttData.duration * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * hour)) * this.parent.perDayWidth);\n                    }\n                }\n            }\n        }\n        else {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime) {\n                    eDate.setHours(24);\n                    eDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (this.parent.isInDst(sDate) || this.parent.isInDst(eDate)) {\n                    var timeDifference = this.getTimeDifference(sDate, eDate, true);\n                    var totalWidth = (timeDifference / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    var sOffset = sDate.getTimezoneOffset();\n                    var eOffset = eDate.getTimezoneOffset();\n                    var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n                    if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                        tierMode = topTier['unit'];\n                        countValue = topTier['count'];\n                    }\n                    var unitHour = ((tierMode === 'Hour' && countValue === 1) || (tierMode === 'Minutes' && countValue === 60));\n                    if (unitHour && sOffset !== eOffset && sOffset > eOffset) {\n                        totalWidth = totalWidth - (this.parent.perDayWidth / 24);\n                    }\n                    return totalWidth;\n                }\n                else {\n                    return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getDSTTransitions = function (year, timeZone) {\n        function findNthWeekday(year, month, dayOfWeek, n) {\n            var firstDayOfMonth = new Date(Date.UTC(year, month, 1));\n            var firstDayOfWeek = firstDayOfMonth.getUTCDay();\n            var offset = (dayOfWeek - firstDayOfWeek + 7) % 7;\n            return new Date(Date.UTC(year, month, 1 + offset + (n - 1) * 7, 2, 0, 0));\n        }\n        function convertToTimezone(date, timeZone) {\n            var formatter = new Intl.DateTimeFormat('en-US', {\n                timeZone: timeZone,\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false\n            });\n            var formatted = formatter.format(date);\n            var _a = formatted.match(/\\d+/g).map(Number), month = _a[0], day = _a[1], year = _a[2], hour = _a[3], minute = _a[4], second = _a[5];\n            return new Date(year, month - 1, day, hour, minute, second);\n        }\n        var dstStartDate = findNthWeekday(year, 2, 0, 5);\n        var dstEndDate = findNthWeekday(year, 9, 0, 5);\n        return {\n            dstStart: convertToTimezone(dstStartDate, timeZone),\n            dstEnd: convertToTimezone(dstEndDate, timeZone)\n        };\n    };\n    TaskProcessor.prototype.hasDSTTransition = function (year) {\n        var january = new Date(year, 0, 1);\n        var july = new Date(year, 6, 1);\n        var janOffset = january.getTimezoneOffset();\n        var julOffset = july.getTimezoneOffset();\n        // If the offsets are different, it means there is a DST transition\n        return janOffset !== julOffset;\n    };\n    /**\n     * Get task left value\n     *\n     * @param {Date} startDate .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isFromTimelineVirtulization .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone, isFromTimelineVirtulization) {\n        var isTimeSet = false;\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        if (tierMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](date);\n                dayEndTime = this.parent['getEndTime'](date);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(date) === dayStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === dayEndTime) {\n                date.setHours(24);\n                isTimeSet = true;\n            }\n            else if (this.getSecondsInDecimal(date) === dayEndTime && this.parent.allowUnscheduledTasks) {\n                date.setHours(22);\n                isTimeSet = true;\n            }\n        }\n        var leftValueForStartDate;\n        var isValid = true;\n        if ((this.parent.editModule && ((this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditAction) || (this.parent.editModule.dialogModule && this.parent.editModule.dialogModule['isEdit']) ||\n            (this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit) ||\n            this.parent.ganttChartModule.scrollObject['isSetScrollLeft'])) && !isFromTimelineVirtulization) {\n            isValid = false;\n        }\n        if (this.parent.enableTimelineVirtualization && isValid && !this.parent.timelineModule['performedTimeSpanAction']) {\n            leftValueForStartDate = (this.parent.enableTimelineVirtualization\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n                ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        }\n        var timelineStartDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).toString()) : new Date(this.parent.timelineModule.timelineStartDate);\n        if (timelineStartDate) {\n            var leftValue = void 0;\n            var hasDST = this.hasDSTTransition(startDate.getFullYear());\n            var transitions = void 0;\n            if (hasDST) {\n                transitions = this.getDSTTransitions(startDate.getFullYear(), this.systemTimeZone);\n            }\n            if (this.parent.isInDst(startDate) && !this.parent.isInDst(timelineStartDate)) {\n                var newTimelineStartDate = void 0;\n                if (this.parent.isInDst(date)) {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n                }\n                else {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime());\n                }\n                leftValue = (date.getTime() - newTimelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            }\n            else {\n                var width = void 0;\n                if (this.parent.timelineModule.bottomTier === 'Day' && this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.getSecondsInDecimal(date) !== 0 &&\n                    !isTimeSet && !this.parent['isFromEventMarker']) {\n                    var newDate = new Date(startDate.getTime());\n                    var setStartDate = new Date(newDate.setHours(0, 0, 0, 0));\n                    var duration = this.getDuration(setStartDate, startDate, 'day', true, false);\n                    width = duration * this.parent.perDayWidth;\n                    date.setHours(0, 0, 0, 0);\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                    if (this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.parent.timelineModule.bottomTier === 'Day') {\n                        leftValue += width;\n                    }\n                }\n                else {\n                    var newTimelineStartDate = void 0;\n                    if (date.getTimezoneOffset() < timelineStartDate.getTimezoneOffset()) {\n                        newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n                    }\n                    else {\n                        newTimelineStartDate = new Date(timelineStartDate.getTime());\n                    }\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                }\n            }\n            var timelineStartTime = timelineStartDate.getTime();\n            var dstStartTime = void 0;\n            if (transitions && transitions['dstStart']) {\n                dstStartTime = transitions['dstStart'].getTime();\n            }\n            var isBeforeOrAtDSTStart = timelineStartTime <= dstStartTime;\n            if (hasDST && this.parent.dayWorkingTime[0]['properties'].from > transitions['dstStart'].getHours() && isBeforeOrAtDSTStart && tierMode === 'Day' && this.getSecondsInDecimal(date) === this.parent.defaultStartTime) {\n                if ((leftValue % this.parent.perDayWidth) !== 0) {\n                    var leftDifference = this.parent.perDayWidth - (leftValue % this.parent.perDayWidth);\n                    leftValue = leftValue + leftDifference;\n                }\n            }\n            if (this.parent.isInDst(timelineStartDate) && !this.parent.isInDst(startDate) && (this.parent.timelineModule.topTier === 'Hour' || this.parent.timelineModule.bottomTier === 'Hour')) {\n                leftValue = leftValue - this.parent.timelineSettings.timelineUnitSize;\n            }\n            var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n            if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                tierMode = topTier['unit'];\n                countValue = topTier['count'];\n            }\n            var unitHour = ((tierMode === 'Hour' && countValue === 1) || (tierMode === 'Minutes' && countValue === 60));\n            if (hasDST && unitHour && startDate >= transitions['dstStart'] && isBeforeOrAtDSTStart) {\n                leftValue = leftValue - (this.parent.perDayWidth / 24);\n            }\n            return leftValue;\n        }\n        else {\n            return 0;\n        }\n    };\n    TaskProcessor.prototype.getSplitTaskWidth = function (sDate, duration, data) {\n        var startDate = new Date(sDate.getTime());\n        var endDate = new Date((this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false).getTime()));\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](startDate);\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(startDate) === dayStartTime) {\n                startDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayEndTime) {\n                endDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayStartTime) {\n                endDate.setHours(0, 0, 0, 0);\n            }\n        }\n        return ((this.getTimeDifference(startDate, endDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n    };\n    TaskProcessor.prototype.getSplitTaskLeft = function (sDate, segmentTaskStartDate) {\n        var stDate = new Date(sDate.getTime());\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var segmentStartTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](stDate);\n                segmentStartTime = this.parent['getStartTime'](segmentTaskStartDate);\n            }\n            else {\n                segmentStartTime = dayStartTime = this.parent.defaultStartTime;\n            }\n            if (this.getSecondsInDecimal(stDate) === dayStartTime) {\n                stDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(segmentTaskStartDate) === segmentStartTime) {\n                segmentTaskStartDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (segmentTaskStartDate) {\n            return (stDate.getTime() - segmentTaskStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {string} fieldName .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType' && fieldName !== 'segments') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            // eslint-disable-next-line\n            var resourcesId = [];\n            var resourcesName = [];\n            if (!isNullOrUndefined(resourceData)) {\n                for (var i = 0; i < resourceData.length; i++) {\n                    resourcesId.push(resourceData[i][resourceSettings.id]);\n                    var resName = resourceData[i][resourceSettings.name];\n                    var resourceUnit = resourceData[i][resourceSettings.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (resName) {\n                        resourcesName.push(resName);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            if (this.isResourceString) {\n                ganttData.taskData[this.parent.taskFields.resourceInfo] =\n                    ganttData.taskData[this.parent.taskFields.resourceInfo][0][resourceSettings.name];\n                this.updateTaskDataResource(ganttData);\n            }\n            else {\n                this.updateTaskDataResource(ganttData);\n            }\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.work, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'type') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.taskType, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp.taskType, ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else if (fieldName === 'segments') {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, this.segmentTaskData(ganttData), ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    TaskProcessor.prototype.segmentTaskData = function (data) {\n        var _this = this;\n        var segments = data.ganttProperties.segments;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(segments)) {\n            return null;\n        }\n        var taskData = extend([], [], data.taskData[taskSettings.segments], true);\n        for (var i = 0; i < segments.length; i++) {\n            if (this.parent.isEdit || (this.parent.editModule && this.parent.editModule.dialogModule &&\n                getValue('isEdit', this.parent.editModule.dialogModule)) || (this.parent.contextMenuModule && getValue('isEdit', this.parent.contextMenuModule))) {\n                taskData[i] = {};\n            }\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[i][this.parent.taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[i][this.parent.taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[i][this.parent.taskFields.duration] = Number(segments[i].duration);\n            }\n        }\n        if (this.customSegmentProperties.length > 0 && taskData && taskData.length > 0) {\n            taskData.forEach(function (task, index) {\n                var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                taskData[index] = mergedObject;\n            });\n        }\n        return taskData;\n    };\n    /**\n     * Method to update the task data resource values\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateTaskDataResource = function (ganttData) {\n        var resourceData = ganttData.ganttProperties.resourceInfo;\n        var preTaskResources = ganttData.taskData[this.parent.taskFields.resourceInfo];\n        var resourceSettings = this.parent.resourceFields;\n        if (isNullOrUndefined(preTaskResources)) {\n            ganttData.taskData[this.parent.taskFields.resourceInfo] = resourceData;\n        }\n        else if (resourceData && resourceData.length) {\n            for (var i = 0; i < resourceData.length; i++) {\n                var isAdded = false;\n                if (typeof (preTaskResources) === 'string') {\n                    if (typeof preTaskResources === 'string') {\n                        if ((preTaskResources) === (resourceData[i][resourceSettings.name])) {\n                            preTaskResources = resourceData[i][resourceSettings.name];\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var j = 0; j < preTaskResources.length; j++) {\n                        if (typeof preTaskResources[j] === 'number' || typeof preTaskResources[j] === 'string') {\n                            if (parseInt(preTaskResources[j], 10) ===\n                                parseInt(resourceData[i][resourceSettings.id], 10)) {\n                                preTaskResources[j] = resourceData[i];\n                                isAdded = true;\n                                break;\n                            }\n                        }\n                        else if (preTaskResources[j][resourceSettings.id] === resourceData[i][resourceSettings.id] && typeof preTaskResources[j] !== 'number') {\n                            preTaskResources[j] = extend({}, preTaskResources[j], resourceData[i], true);\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                if (!isAdded) {\n                    if (typeof (preTaskResources) === 'string') {\n                        preTaskResources = resourceData[i][resourceSettings.name];\n                    }\n                    else {\n                        preTaskResources.push(resourceData[i]);\n                    }\n                }\n            }\n            var data_1 = [];\n            if (!isNullOrUndefined(preTaskResources)) {\n                if (typeof (preTaskResources) !== 'string') {\n                    var _loop_4 = function (k) {\n                        resourceData.filter(function (resourceInfo) {\n                            if (resourceInfo[resourceSettings.id] === preTaskResources[k][resourceSettings.id]\n                                && data_1.indexOf(preTaskResources[k]) === -1) {\n                                data_1.push(preTaskResources[k]);\n                            }\n                        });\n                    };\n                    for (var k = 0; k < preTaskResources.length; k++) {\n                        _loop_4(k);\n                    }\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, data_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, preTaskResources, ganttData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        var tempDate = typeof value === 'string' ? new Date(value) : value;\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        if (!this.parent.isLoad && !this.parent.isDynamicData) {\n            this.parent.setRecordValue('taskData.' + mapping, value, task);\n        }\n        this.parent.isDynamicData = false;\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, task.ganttProperties.duration, task);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var durationValue = (getValue(mapping, task.taskData));\n            if (isNaN(durationValue) && isNullOrUndefined(this.parent.taskFields.durationUnit) && !isNullOrUndefined(durationValue)) {\n                this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n            }\n            else {\n                if (typeof durationValue === 'string') {\n                    this.parent.setRecordValue('taskData.' + mapping, duration.toString(), task);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + mapping, duration, task);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n        if (this.parent.taskFields.durationUnit) {\n            task.taskData[this.parent.taskFields.durationUnit] = task.ganttProperties.durationUnit;\n        }\n    };\n    TaskProcessor.prototype.setDataSource = function (data) {\n        var dataArray;\n        var createData = [];\n        if (Array.isArray(data)) {\n            dataArray = data;\n        }\n        var length = dataArray.length;\n        for (var i = 0; i < length; i++) {\n            var record = data[i];\n            createData.push(record);\n            if (!(isNullOrUndefined(data[i][this.parent.taskFields.child]))) {\n                this.setDataSource(data[i][this.parent.taskFields.child]);\n            }\n        }\n        return createData;\n    };\n    TaskProcessor.prototype.setStartDate = function (task) {\n        var _this = this;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.parentID) && !isNullOrUndefined(this.parent.taskFields.id)) {\n            hierarchicalData = this.setDataSource(this.parent.dataSource);\n        }\n        else {\n            hierarchicalData = this.parent.dataSource;\n        }\n        hierarchicalData.map(function (record) {\n            if (task.ganttProperties.taskId === record[_this.parent.taskFields.id]) {\n                if (!isNullOrUndefined(_this.parent.taskFields.startDate)) {\n                    task[_this.parent.taskFields.startDate] = record[_this.parent.taskFields.startDate];\n                }\n                if (!isNullOrUndefined(_this.parent.taskFields.endDate)) {\n                    task[_this.parent.taskFields.endDate] = record[_this.parent.taskFields.endDate];\n                }\n            }\n        });\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                if (isNullOrUndefined(dataMapping.milestone) || (!isNullOrUndefined(dataMapping.milestone) &&\n                    !ganttData.taskData[dataMapping.milestone])) {\n                    this.setRecordDuration(ganttData, dataMapping.duration);\n                }\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                var parentID = this.parent.viewType === 'ProjectView' ? ganttProperties.parentId : data[dataMapping.parentID];\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, parentID, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.work, ganttProperties.work, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n            if (dataMapping.type) {\n                this.parent.setRecordValue('taskData.' + dataMapping.type, ganttProperties.taskType, ganttData);\n                this.parent.setRecordValue(dataMapping.type, ganttProperties.taskType, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     *\n     * @param {object} data .\n     * @returns {object[]} .\n     * @private\n     */\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        var _this = this;\n        // eslint-disable-next-line\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        if (this.parent.isLoad) {\n            resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        }\n        else {\n            resourceIdCollection = data['taskData'] && this.parent.taskFields.resourceInfo in data['taskData']\n                ? data['taskData'][this.parent.taskFields.resourceInfo]\n                : data[this.parent.taskFields.resourceInfo];\n        }\n        var resourceData;\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule)\n            && this.parent.editModule.dialogModule.isAddNewResource) {\n            resourceData = this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            resourceData = this.parent.resources;\n        }\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        var resources = [];\n        if (typeof (resourceIdCollection) === 'string' && resourceIdCollection !== '') {\n            var resource_1 = [];\n            var resourceIds_1 = data[this.parent.taskFields.resourceInfo].split(',');\n            if (resourceIds_1) {\n                resourceData.forEach(function (resourceInfo) {\n                    if (resourceIds_1.includes(resourceInfo[_this.parent.resourceFields.name])) {\n                        resource_1.push(resourceInfo);\n                    }\n                });\n                var ganttDataResource = extend({}, resource_1[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[resourceGroup];\n                }\n            }\n        }\n        else {\n            var _loop_5 = function (count) {\n                var resource = resourceData.filter(function (resourceInfo) {\n                    if (typeof (resourceIdCollection[count]) === 'object' &&\n                        resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                        return true;\n                    }\n                    else {\n                        return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                    }\n                });\n                var ganttDataResource = extend({}, resource[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n                }\n            };\n            for (var count = 0; count < resourceIdCollection.length; count++) {\n                _loop_5(count);\n            }\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     *\n     * @param {object[]} resourceData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        var resourceName = [];\n        var taskMapping = this.parent.taskFields;\n        if (resourceInfo && resourceInfo.length > 0) {\n            var resourceLength = resourceInfo.length;\n            if (typeof data.taskData[this.parent.taskFields.resourceInfo] === 'string') {\n                var taskResources = data.taskData[this.parent.taskFields.resourceInfo];\n                var stringResourceName = taskResources;\n                this.parent.setRecordValue('resourceNames', stringResourceName, data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, stringResourceName, data, true);\n                this.updateTaskDataResource(data);\n            }\n            else {\n                var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n                for (var i = 0; i < resourceLength; i++) {\n                    var resource = resourceInfo[i];\n                    var resName = resource[this.parent.resourceFields.name];\n                    var resourceUnit = resource[this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (!isNullOrUndefined(resName)) {\n                        resourceName.push(resName);\n                    }\n                    if (data.taskData) {\n                        var mapping = taskMapping.resourceInfo;\n                        if (taskResources[i] && typeof (taskResources[parseInt(i.toString(), 10)] === 'object')) {\n                            data.taskData[mapping].push(taskResources[i]);\n                        }\n                        else {\n                            data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                        }\n                    }\n                }\n                this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n                this.updateTaskDataResource(data);\n            }\n        }\n    };\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if ((unit === 'minute') || (unit === 'minutes') || (unit === 'm') || (unit === 'min')) {\n            unit = 'minute';\n        }\n        else if ((unit === 'hour') || (unit === 'hours') || (unit === 'h') || (unit === 'hr')) {\n            unit = 'hour';\n        }\n        else if ((unit === 'day') || (unit === 'days') || (unit === 'd')) {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateTaskTypeMapping = function (taskType) {\n        var type = taskType;\n        if (type === 'FixedDuration') {\n            type = 'FixedDuration';\n        }\n        else if (type === 'FixedUnit') {\n            type = 'FixedUnit';\n        }\n        else if (type === 'FixedWork') {\n            type = 'FixedWork';\n        }\n        else {\n            type = this.parent.taskType;\n        }\n        return type;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     *\n     * @param {string} duration .\n     * @param {ITaskData} ganttProperties .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration))) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                if (this.parent.isLoad) {\n                    this.setStartDate(ganttData);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInStartDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() >= from.getTime() && day.getTime() < to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInEndDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() > from.getTime() && day.getTime() <= to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    /**\n     * Method to find overlapping value of the parent task\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingValues = function (resourceTask) {\n        var tasks = resourceTask.childRecords;\n        var currentTask;\n        var ranges = [];\n        if (tasks.length <= 1) {\n            resourceTask.ganttProperties.workTimelineRanges = [];\n            return;\n        }\n        tasks = this.setSortedChildTasks(resourceTask);\n        this.updateOverlappingIndex(tasks);\n        for (var count = 1; count < tasks.length; count++) {\n            currentTask = tasks[count];\n            var cStartDate = void 0;\n            var cEndDate = void 0;\n            if (currentTask.ganttProperties.startDate) {\n                cStartDate = new Date(currentTask.ganttProperties.startDate.getTime());\n            }\n            if (currentTask.ganttProperties.endDate) {\n                cEndDate = new Date(currentTask.ganttProperties.endDate.getTime()); //task 2\n            }\n            var range = [];\n            // eslint-disable-next-line\n            var rangeObj = {};\n            for (var index = 0; index < count; index++) {\n                var tStartDate = tasks[index].ganttProperties.startDate;\n                var tEndDate = tasks[index].ganttProperties.endDate; // task 1\n                var rangeObj_1 = {};\n                if (cStartDate && cEndDate && tEndDate\n                    && (this._isInStartDateRange(cStartDate, tStartDate, tEndDate)\n                        || this._isInEndDateRange(cEndDate, tStartDate, tEndDate))) {\n                    if ((tStartDate.getTime() > cStartDate.getTime() && tStartDate.getTime() < cEndDate.getTime()\n                        && tEndDate.getTime() > cStartDate.getTime() && tEndDate.getTime() >= cEndDate.getTime())\n                        || (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() <= tEndDate.getTime())) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    else if (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() > tEndDate.getTime()) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    range.push(rangeObj_1);\n                }\n            }\n            // eslint-disable-next-line\n            ranges.push.apply(ranges, this.mergeRangeCollections(range));\n        }\n        this.parent.setRecordValue('workTimelineRanges', this.mergeRangeCollections(ranges, true), resourceTask.ganttProperties, true);\n        this.calculateRangeLeftWidth(resourceTask.ganttProperties.workTimelineRanges);\n    };\n    /**\n     * @param {IGanttData[]} tasks .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingIndex = function (tasks) {\n        for (var i = 0; i < tasks.length; i++) {\n            tasks[i].ganttProperties.eOverlapIndex = i;\n        }\n    };\n    /**\n     * Method to calculate the left and width value of oarlapping ranges\n     *\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateRangeLeftWidth = function (ranges) {\n        for (var count = 0; count < ranges.length; count++) {\n            ranges[count].left = this.getTaskLeft(ranges[count].from, false);\n            ranges[count].width = this.getTaskWidth(ranges[count].from, ranges[count].to);\n        }\n    };\n    /**\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @param {boolean} isSplit .\n     * @returns {IWorkTimelineRanges[]} .\n     * @private\n     */\n    TaskProcessor.prototype.mergeRangeCollections = function (ranges, isSplit) {\n        var finalRange = [];\n        var currentTopRange = {};\n        var cCompareRange = {};\n        var cStartDate;\n        var cEndDate;\n        var tStartDate;\n        var tEndDate;\n        var sortedRanges = new DataManager(ranges).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        for (var i = 0; i < sortedRanges.length; i++) {\n            if (finalRange.length === 0 && i === 0) {\n                finalRange.push(sortedRanges[i]);\n                continue;\n            }\n            currentTopRange = finalRange[finalRange.length - 1];\n            cStartDate = currentTopRange.from;\n            cEndDate = currentTopRange.to;\n            cCompareRange = sortedRanges[i];\n            tStartDate = cCompareRange.from;\n            tEndDate = cCompareRange.to;\n            if ((cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())\n                || (cStartDate.getTime() < tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())) {\n                continue;\n            }\n            /* eslint-disable-next-line */\n            else if ((cStartDate.getTime() <= tStartDate.getTime() && cEndDate.getTime() >= tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime())\n                || (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() === tStartDate.getTime())) {\n                currentTopRange.to = tEndDate;\n            }\n            else if (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() !== tStartDate.getTime()) {\n                finalRange.push(sortedRanges[i]);\n            }\n        }\n        if (isSplit) {\n            finalRange = this.splitRangeCollection(finalRange);\n        }\n        return finalRange;\n    };\n    /**\n     * Sort resource child records based on start date\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.setSortedChildTasks = function (resourceTask) {\n        var sortedRecords = [];\n        sortedRecords = new DataManager(resourceTask.childRecords).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        return sortedRecords;\n    };\n    TaskProcessor.prototype.splitRangeCollection = function (rangeCollection, fromField, toField) {\n        var splitArray = [];\n        var unit;\n        if (this.parent.timelineModule.isSingleTier) {\n            unit = this.parent.timelineModule.bottomTier !== 'None' ?\n                this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        }\n        else {\n            unit = this.parent.timelineModule.bottomTier;\n        }\n        if (unit === 'Week' || unit === 'Month' || unit === 'Year') {\n            splitArray = rangeCollection;\n        }\n        else if (unit === 'Day') {\n            splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n        }\n        else {\n            if (this.parent.workingTimeRanges[0].from === 0 && this.parent.workingTimeRanges[0].to === 86400) {\n                splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n            }\n            else {\n                splitArray = this.getRangeWithDay(rangeCollection, fromField, toField);\n            }\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.getRangeWithDay = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            splitArray.push.apply(splitArray, this.splitRangeForDayMode(ranges[parseInt(i.toString(), 10)], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForDayMode = function (range, fromField, toField) {\n        var fromString = fromField ? fromField : 'from';\n        var toString = toField ? toField : 'to';\n        var tempStart = new Date(range[fromString]);\n        var end = new Date(range[toString]);\n        var ranges = [];\n        var rangeObject = {};\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                var nStart = new Date(tempStart.getTime());\n                var nEndDate = new Date(tempStart.getTime());\n                var nextAvailDuration = 0;\n                var sHour = this.parent.dataOperation.getSecondsInDecimal(tempStart);\n                var startRangeIndex = -1;\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var val = this.parent.workingTimeRanges[i];\n                    if (sHour >= val.from && sHour <= val.to) {\n                        startRangeIndex = i;\n                        break;\n                    }\n                }\n                if (startRangeIndex !== -1) {\n                    nextAvailDuration = Math.round(this.parent.workingTimeRanges[startRangeIndex].to - sHour);\n                    nEndDate.setSeconds(nEndDate.getSeconds() + nextAvailDuration);\n                }\n                var taskName = 'task';\n                if (nEndDate.getTime() < end.getTime()) {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = nEndDate;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                else {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = end;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                tempStart = this.checkStartDate(nEndDate);\n            } while (tempStart.getTime() < end.getTime());\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    TaskProcessor.prototype.getRangeWithWeek = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForWeekMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForWeekMode = function (range, fromField, toField) {\n        var from = fromField ? fromField : 'from';\n        var to = toField ? toField : 'to';\n        var start = new Date(range[from]);\n        var tempStart = new Date(range[from]);\n        var end = new Date(range[to]);\n        var isInSplit = false;\n        var ranges = [];\n        var rangeObj = {};\n        tempStart.setDate(tempStart.getDate() + 1);\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                if (this.parent.dataOperation.isOnHolidayOrWeekEnd(tempStart, null)) {\n                    var tempEndDate = new Date(tempStart.getTime());\n                    tempEndDate.setDate(tempStart.getDate() - 1);\n                    var dayEndTime = void 0;\n                    if (this.parent.weekWorkingTime.length > 0) {\n                        dayEndTime = this.parent['getEndTime'](tempEndDate);\n                    }\n                    else {\n                        dayEndTime = this.parent.defaultEndTime;\n                    }\n                    this.setTime(dayEndTime, tempEndDate);\n                    rangeObj = {};\n                    rangeObj[from] = start;\n                    rangeObj.isSplit = true;\n                    rangeObj[to] = new Date(tempEndDate);\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    var isStartNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(start, null);\n                    var isTempEndDateNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(tempEndDate, null);\n                    var isDifferentDates = start.getTime() !== tempEndDate.getTime();\n                    if (isStartNotHolidayOrWeekend && isTempEndDateNotHolidayOrWeekend && isDifferentDates) {\n                        ranges.push(rangeObj);\n                    }\n                    tempEndDate.setDate(tempEndDate.getDate() + 1);\n                    start = this.checkStartDate(tempEndDate);\n                    tempStart = new Date(start.getTime());\n                    isInSplit = true;\n                }\n                else {\n                    tempStart.setDate(tempStart.getDate() + 1);\n                }\n            } while (tempStart.getTime() < end.getTime());\n            if (isInSplit) {\n                if (start.getTime() !== end.getTime()) {\n                    rangeObj = {};\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    rangeObj[from] = start;\n                    rangeObj[to] = end;\n                    rangeObj.isSplit = true;\n                    ranges.push(rangeObj);\n                }\n            }\n            else {\n                ranges.push(range);\n            }\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        var flatData = this.parent.flatData;\n        var length = flatData.length;\n        this.systemTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            this.updateTaskLeftWidth(data);\n        }\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @public\n     */\n    TaskProcessor.prototype.updateTaskLeftWidth = function (data) {\n        var task = data.ganttProperties;\n        if (!data.hasChildRecords || (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping))) {\n            this.updateWidthLeft(data);\n        }\n        this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n        this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n        var childData = [];\n        var parentItem;\n        if (data.parentItem) {\n            parentItem = this.parent.getParentTask(data.parentItem);\n            childData = parentItem.childRecords;\n        }\n        if (parentItem && childData.indexOf(data) === childData.length - 1 && !data.hasChildRecords && this.parent.enableValidation) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n            if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.updateWidthLeft(parentItem);\n            }\n        }\n        else if (parentItem && !this.parent.enableValidation) {\n            this.updateWidthLeft(parentItem);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n            && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            flatData = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            flatData = this.parent.flatData;\n        }\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        var totalSegmentsProgressWidth = 0;\n        // task endDate may be changed in segment calculation so this must be calculated first.\n        // task width calculating was based on endDate\n        var progressResizer = 0;\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            var segments = ganttRecord.segments;\n            for (var i = 0; i < segments.length; i++) {\n                var segment = segments[i];\n                if (i === 0 && !isNullOrUndefined(ganttRecord.startDate)\n                    && !isNullOrUndefined(segment.startDate) && !isNullOrUndefined(segment.startDate.getTime()) &&\n                    segment.startDate.getTime() !== ganttRecord.startDate.getTime()) {\n                    segment.startDate = ganttRecord.startDate;\n                    var endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttRecord.durationUnit, ganttRecord, false);\n                    segment.endDate = this.parent.dataOperation.checkEndDate(endDate, ganttRecord, false);\n                    this.parent.chartRowsModule.incrementSegments(segments, 0, data);\n                }\n                segment.width = this.getSplitTaskWidth(segment.startDate, segment.duration, data);\n                totalSegmentsProgressWidth = totalSegmentsProgressWidth + segment.width;\n                segment.showProgress = false;\n                segment.progressWidth = -1;\n                if (i !== 0) {\n                    var pStartDate = new Date(ganttRecord.startDate.getTime());\n                    segment.left = this.getSplitTaskLeft(segment.startDate, pStartDate);\n                }\n            }\n            var setProgress = this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress);\n            var isValid = true;\n            for (var i = 0; i < segments.length; i++) {\n                if (isValid) {\n                    if (setProgress <= segments[i].width) {\n                        segments[i].progressWidth = setProgress;\n                        segments[i].showProgress = true;\n                        isValid = false;\n                    }\n                    else {\n                        segments[i].progressWidth = segments[i].width;\n                        setProgress = setProgress - segments[i].progressWidth;\n                    }\n                    if (segments[i].showProgress) {\n                        progressResizer = progressResizer + segments[i].left + segments[i].progressWidth;\n                    }\n                }\n            }\n            this.parent.setRecordValue('segments', ganttRecord.segments, ganttRecord, true);\n            this.parent.dataOperation.updateMappingData(data, 'segments');\n        }\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord), ganttRecord, true);\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            this.parent.setRecordValue('progressWidth', progressResizer, ganttRecord, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, true), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule ||\n            !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @returns {object} .\n     * @private\n     */\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        var progressValues = {};\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](childGanttRecord.ganttProperties.startDate ? childGanttRecord.ganttProperties.startDate : childGanttRecord.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration ? childGanttRecord.ganttProperties.totalDuration : 0, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    TaskProcessor.prototype.isUnscheduledTask = function (ganttProperties, parantData) {\n        var properties = ['startDate', 'endDate', 'duration'];\n        var count = 0;\n        var filledProperty = null;\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            if (ganttProperties && ganttProperties[prop]) {\n                count++;\n                filledProperty = prop;\n            }\n        }\n        if (count === 1 || (count === 0 && !isNullOrUndefined(parantData) && parantData.hasChildRecords)) {\n            return [true, filledProperty];\n        }\n        else {\n            return [false, null];\n        }\n    };\n    TaskProcessor.prototype.isFromManual = function (childData) {\n        if (this.parent.allowUnscheduledTasks && this.parent.editModule && this.parent['oldRecords'] && this.parent['oldRecords'].length > 0 &&\n            isNullOrUndefined(childData.ganttProperties.startDate) && isNullOrUndefined(childData.ganttProperties.endDate)\n            && !isNullOrUndefined(childData.ganttProperties.duration) && !childData.hasChildRecords && childData.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && childData[this.parent.taskFields.manual]))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @param {IParent | IGanttData} cloneParent .\n     * @param {boolean} isParent .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var _this = this;\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        parentData = parentData ? parentData : cloneParent;\n        var deleteUpdate = false;\n        var ganttProp = !isNullOrUndefined(parentData) ? parentData.ganttProperties : null;\n        /* eslint-disable-next-line */\n        var _a = this.isUnscheduledTask(ganttProp, parentData), isParentUnschecule = _a[0], propertyWithValue = _a[1];\n        if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n            if (parentData && parentData.childRecords && parentData.childRecords.length > 0) {\n                var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n                var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                    ganttProp.autoEndDate;\n                var childRecords_1 = parentData.childRecords;\n                var childLength = childRecords_1.length;\n                var totalDuration = 0;\n                var progressValues = {};\n                var minStartDate = null;\n                var maxEndDate = null;\n                var milestoneCount = 0;\n                var totalProgress = 0;\n                var childCompletedWorks = 0;\n                var childData_1;\n                var countOfScheduled_1 = 0;\n                var countOfUnScheduled_1 = 0;\n                childRecords_1.some(function (childRecord) {\n                    var _a = _this.isUnscheduledTask(childRecord['ganttProperties']), isUnscheduled = _a[0], propertyWithValue = _a[1];\n                    if (isUnscheduled && propertyWithValue === 'duration') {\n                        ++countOfUnScheduled_1;\n                    }\n                    else if (!isUnscheduled) {\n                        ++countOfScheduled_1;\n                    }\n                    if (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) {\n                        return true;\n                    }\n                    return false;\n                });\n                var isChildBoth = (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) ? true : undefined;\n                var _loop_6 = function (count) {\n                    childData_1 = (this_4.parent.loadChildOnDemand && this_4.parent.taskFields.hasChildMapping) ?\n                        this_4.parent.currentViewData.filter(function (item) {\n                            return item.ganttProperties.taskId === childRecords_1[count][_this.parent.taskFields.id];\n                        })[0] :\n                        childRecords_1[count];\n                    if (this_4.parent.isOnDelete && childData_1.isDelete) {\n                        if (childLength === 1 && this_4.parent.viewType === 'ProjectView') {\n                            deleteUpdate = true;\n                        }\n                        return \"continue\";\n                    }\n                    var startDate = void 0;\n                    var endDate = void 0;\n                    var _a = this_4.isUnscheduledTask(childData_1.ganttProperties), isUnscheduled = _a[0], propertyWithValue_1 = _a[1];\n                    var parentRec = void 0;\n                    if (this_4.isFromManual(childData_1)) {\n                        var ganttRec = this_4.parent['oldRecords'].filter(function (record) { return record.ganttProperties.uniqueID === childData_1.ganttProperties.uniqueID; })[0];\n                        if (ganttRec) {\n                            parentRec = this_4.parent.getParentTask(ganttRec.parentItem);\n                        }\n                    }\n                    var rec = parentRec ? parentRec : childData_1;\n                    var prop = parentRec ? parentRec.ganttProperties : ganttProp;\n                    startDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.startDate : this_4.getValidStartDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoStartDate)) {\n                        startDate = rec.ganttProperties.autoStartDate;\n                    }\n                    endDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.endDate : this_4.getValidEndDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoEndDate)) {\n                        endDate = rec.ganttProperties.autoEndDate;\n                    }\n                    if (isNullOrUndefined(minStartDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    if (isNullOrUndefined(maxEndDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(endDate) && maxEndDate && this_4.compareDates(endDate, maxEndDate) === 1) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(startDate) && minStartDate && this_4.compareDates(startDate, minStartDate) === -1) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    var condition = (!childData_1.ganttProperties.isMilestone &&\n                        isScheduledTask(childData_1.ganttProperties)) ? true : false;\n                    if (condition) {\n                        progressValues = this_4.getParentProgress(childData_1);\n                        totalProgress += getValue('totalProgress', progressValues);\n                        if (childData_1[this_4.parent.taskFields.duration] < 1) {\n                            totalDuration += getValue('totalDuration', progressValues);\n                            totalDuration = Number(totalDuration.toFixed(4));\n                        }\n                        else {\n                            totalDuration += getValue('totalDuration', progressValues);\n                        }\n                    }\n                    else {\n                        milestoneCount++;\n                    }\n                    var work = childData_1.ganttProperties.work;\n                    if (typeof work === 'string') {\n                        // If it's a string, convert it to a number\n                        var numericValue = parseFloat(work);\n                        if (!isNaN(numericValue)) {\n                            childCompletedWorks += numericValue;\n                        }\n                    }\n                    else if (typeof work === 'number') {\n                        // If it's already a number, simply add it to childCompletedWorks\n                        childCompletedWorks += work;\n                    }\n                };\n                var this_4 = this;\n                for (var count = 0; count < childLength; count++) {\n                    _loop_6(count);\n                }\n                if (!deleteUpdate) {\n                    var taskCount = void 0;\n                    if (this.parent.isOnDelete && childData_1.isDelete) {\n                        taskCount = childLength - milestoneCount - 1;\n                    }\n                    else {\n                        taskCount = childLength - milestoneCount;\n                    }\n                    var parentProgress = (taskCount > 0 && totalDuration > 0) ?\n                        Number((totalProgress / totalDuration).toFixed(2)) : 0;\n                    var parentProp = parentData.ganttProperties;\n                    var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                        minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                    if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData[this.parent.taskFields.manual] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('startDate', minStartDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData[this.parent.taskFields.manual] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('endDate', maxEndDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.updateMappingData(parentData, 'milestone');\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, milestone, parentData, true);\n                        this.parent.setRecordValue('taskData.' + this.parent.taskFields.milestone, milestone, parentData, true);\n                    }\n                    if (parentProp.isAutoSchedule) {\n                        if (this.isFromManual(childData_1)) {\n                            if (parentData.childRecords.length === 1) {\n                                parentData.ganttProperties.duration = childData_1.ganttProperties.duration;\n                            }\n                            this.calculateEndDate(parentData);\n                        }\n                        else {\n                            this.calculateDuration(parentData);\n                        }\n                    }\n                    this.updateWorkWithDuration(parentData);\n                    var parentWork = parentProp.work;\n                    parentWork = this.parent.isOnEdit ? parentWork : (parentWork + childCompletedWorks);\n                    this.parent.setRecordValue('work', parentWork, parentProp, true);\n                    this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.type)) {\n                        this.updateMappingData(parentData, 'type');\n                    }\n                    this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                    this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                    this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                    this.parent.setRecordValue('autoDuration', parentProp.duration, parentProp, true);\n                    if (!parentProp.isAutoSchedule) {\n                        this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                        this.updateAutoWidthLeft(parentData);\n                    }\n                    if (!this.parent.allowParentDependency) {\n                        this.resetDependency(parentData);\n                    }\n                    this.updateWidthLeft(parentData);\n                    this.updateTaskData(parentData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('endDate', parentData.taskData[this.parent.taskFields.endDate], parentData.ganttProperties, true);\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = !isNullOrUndefined(parentData) ?\n            this.parent.getParentTask(parentData.parentItem) : null;\n        if (parentItem) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var ganttSingleTimeline = 'e-gantt-single-timeline';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\nexport var virtualTable = 'e-virtualtable';\nexport var virtualTrack = 'e-virtualtrack';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var criticalChildTaskBarInnerDiv = 'e-gantt-child-critical-taskbar-inner-div';\nexport var criticalChildProgressBarInnerDiv = 'e-gantt-child-critical-progressbar-inner-div';\nexport var criticalMilestone = 'e-critical-milestone';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var collapseParent = 'e-collapse-parent';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var criticalUnscheduledTask = 'e-gantt-critical-unscheduled-taskbar';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineSVG = 'e-connector-line';\nexport var criticalConnectorLineSVG = 'e-critical-line';\nexport var criticalConnectorArrowSVG = 'e-critical-line-arrow';\nexport var connectorLineArrow = 'e-connector-line-arrow';\nexport var criticalConnectorLine = 'e-criticalconnector-line';\nexport var criticalConnectorLineRightArrow = 'e-criticalconnector-line-right-arrow';\nexport var criticalConnectorLineLeftArrow = 'e-criticalconnector-line-left-arrow';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var criticalConnectorLineHover = 'e-critical-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var criticalConnectorLineRightArrowHover = 'e-critical-connector-line-right-arrow-hover';\nexport var criticalConnectorLineLeftArrowHover = 'e-critical-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var indentIcon = 'e-indent';\nexport var outdentIcon = 'e-outdent';\nexport var addIcon = 'e-add';\nexport var criticalPathIcon = 'e-critical-path';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n//Over allocation range container\nexport var rangeContainer = 'e-rangecontainer';\nexport var rangeChildContainer = 'e-rg-rangdiv';\nexport var rangeChildMiddleContainer = 'e-rg-middlerangdiv';\n","import { formatUnit, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n *\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousCount = -1;\n        this.isSetScrollLeft = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n        this.parent.treeGrid.grid.on('showGanttShimmer', this.updateShimmer, this);\n        this.parent.treeGrid.grid.on('removeGanttShimmer', this.removeShimmer, this);\n        this.parent.treeGrid.grid.on('virtualTransform', this.transformChange, this);\n    };\n    /**\n     * Unbind events\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n        this.parent.treeGrid.grid.off('showGanttShimmer', this.updateShimmer);\n        this.parent.treeGrid.grid.off('removeGanttShimmer', this.removeShimmer);\n        this.parent.treeGrid.grid.off('virtualTransform', this.transformChange);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     */\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Method to update vertical grid line, holiday, event markers and weekend container's top position on scroll action\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.updateContent = function () {\n        var ganttElement = this.parent.element;\n        var currentCount = Math.round(this.element.scrollLeft / ganttElement.offsetWidth);\n        if (this.previousCount !== currentCount || this.parent.timelineModule['performedTimeSpanAction']) {\n            this.deleteTableElements();\n            this.parent.timelineModule.createTimelineSeries();\n            if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n                this.parent['renderChartVerticalLines']();\n            }\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule['eventMarkerRender'].renderEventMarkers();\n            }\n            this.parent.timelineModule['performedTimeSpanAction'] = false;\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule.nonworkingDayRender.renderWeekends();\n                this.parent.dayMarkersModule.nonworkingDayRender.renderHolidays();\n            }\n            this.updateChartElementStyles();\n            this.previousCount = currentCount;\n            if (this.isSetScrollLeft) {\n                this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            }\n        }\n    };\n    ChartScroll.prototype.getTimelineLeft = function () {\n        var tLeft;\n        var ganttElement = this.parent.element;\n        var resultantWidth = this.parent.timelineModule.wholeTimelineWidth > (ganttElement.offsetWidth * 3) ?\n            this.parent.timelineModule.wholeTimelineWidth - ganttElement.offsetWidth * 3 : 0;\n        if (this.element.scrollLeft === (this.parent.enableRtl ? -resultantWidth : resultantWidth)) {\n            tLeft = this.element.scrollLeft;\n        }\n        else {\n            var left = this.parent.enableRtl ? -this.element.scrollLeft : this.element.scrollLeft;\n            tLeft = (left > ganttElement.offsetWidth) ? left - ganttElement.offsetWidth : 0;\n        }\n        if (tLeft >= resultantWidth) {\n            tLeft = resultantWidth;\n        }\n        if ((tLeft <= ganttElement.offsetWidth) && this.isBackwardScrolled) {\n            tLeft = 0;\n        }\n        if (this.parent.timelineModule.isZoomToFit || this.parent.timelineModule.isZooming) {\n            tLeft = 0;\n        }\n        return tLeft;\n    };\n    ChartScroll.prototype.deleteTableElements = function () {\n        var tableContainer = this.parent.element.getElementsByClassName('e-timeline-header-table-container');\n        do {\n            tableContainer[0].remove();\n        } while (tableContainer.length > 0);\n        if (this.parent.element.querySelector('#ganttContainerline-container')) {\n            this.parent.element.querySelector('#ganttContainerline-container').innerHTML = '';\n        }\n        if (this.parent.element.querySelector('.e-nonworking-day-container')) {\n            this.parent.element.querySelector('.e-nonworking-day-container').outerHTML = null;\n        }\n    };\n    ChartScroll.prototype.updateChartElementStyles = function () {\n        var translateXValue = this.getTimelineLeft();\n        if (this.parent.enableTimelineVirtualization) {\n            // updating connector line & task table styles\n            var dependencyViewer = this.parent.connectorLineModule.dependencyViewContainer;\n            var taskTable = this.parent.chartRowsModule.taskTable;\n            if (!this.parent.enableRtl) {\n                dependencyViewer.style.left = -translateXValue + 'px';\n                taskTable.style.left = -translateXValue + 'px';\n            }\n            else {\n                dependencyViewer.style.left = translateXValue + 'px';\n                taskTable.style.right = -translateXValue + 'px';\n            }\n            taskTable.style.width = this.parent.timelineModule.wholeTimelineWidth + 'px';\n        }\n    };\n    ChartScroll.prototype.updateTopPosition = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        var contentScrollTop = content.scrollTop;\n        var scrollTop;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var top_1 = this.parent.virtualScrollModule.getTopPosition();\n            scrollTop = contentScrollTop - top_1;\n        }\n        else {\n            scrollTop = contentScrollTop;\n        }\n        if (!isNullOrUndefined(this.parent.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.parent.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.parent.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.parent.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.top = formatUnit(scrollTop);\n            }\n            if (weekendContainer) {\n                weekendContainer.style.top = formatUnit(scrollTop);\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.top = formatUnit(scrollTop);\n            }\n        }\n        if (this.parent.chartVerticalLineContainer) {\n            this.parent.chartVerticalLineContainer.style.top = formatUnit(scrollTop);\n        }\n    };\n    ChartScroll.prototype.removeShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.hideMaskRow();\n            if (!parent.allowTaskbarOverlap && parent.showOverAllocation) {\n                for (var i = 0; i < parent.currentViewData.length; i++) {\n                    var tr = parent.chartRowsModule.ganttChartTableBody.childNodes[i];\n                    if (tr['style'].display !== 'none' && parent.currentViewData[i].hasChildRecords && !parent.currentViewData[i].expanded) {\n                        if (parent.ganttChartModule.isExpandAll || parent.ganttChartModule.isCollapseAll) {\n                            parent.treeGrid.getRowByIndex(i)['style'].height = tr['style'].height;\n                        }\n                        else {\n                            parent.treeGrid.getRows()[i]['style'].height = tr['style'].height;\n                        }\n                    }\n                }\n                parent.contentHeight = parent.enableRtl ? parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                parent.element.getElementsByClassName('e-chart-rows-container')[0]['style'].height = parent.contentHeight + 'px';\n            }\n        }, 0);\n    };\n    ChartScroll.prototype.transformChange = function () {\n        this.parent.ganttChartModule.virtualRender.adjustTable();\n        this.parent.ganttChartModule.scrollObject.updateTopPosition();\n    };\n    ChartScroll.prototype.updateShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.showMaskRow();\n        }, 0);\n    };\n    ChartScroll.prototype.updateSpinner = function () {\n        var parent = this.parent;\n        this.parent.showSpinner();\n        window.clearTimeout(this.isScrolling);\n        this.isScrolling = setTimeout(function () {\n            parent.hideSpinner();\n        }, 200);\n    };\n    /**\n     * Scroll event handler\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var _this = this;\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            // eslint-disable-next-line\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n            this.updateTopPosition();\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.isBackwardScrolled = (this.element.scrollLeft < this.previousScroll.left && !this.parent.enableRtl);\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n            if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth >\n                this.parent.element.offsetWidth * 3) {\n                this.isSetScrollLeft = true;\n                if (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    this.updateContent();\n                }\n                this.parent.ganttChartModule.updateWidthAndHeight();\n                if (this.parent.element.getElementsByClassName('e-weekend-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-weekend-container')[0]['style'].height = '100%';\n                }\n                if (this.parent.element.getElementsByClassName('e-holiday-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-holiday-container')[0]['style'].height = '100%';\n                }\n            }\n            else if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth <\n                this.parent.element.offsetWidth * 3) {\n                this.parent.connectorLineModule.svgObject.setAttribute('width', '100%');\n            }\n        }\n        this.parent.timelineModule['performedTimeSpanAction'] = false;\n        if ((!isNullOrUndefined(scrollArgs.scrollDirection)) && (this.parent.enableVirtualization === true ||\n            this.parent.enableTimelineVirtualization === true) && (this.parent.isToolBarClick ||\n            isNullOrUndefined(this.parent.isToolBarClick))) {\n            this.parent.isVirtualScroll = true;\n            if (this.parent.showIndicator || isNullOrUndefined(this.parent.showIndicator)) {\n                if (!this.parent.enableVirtualMaskRow && this.parent.enableVirtualization && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                    this.updateSpinner();\n                }\n                else if (this.parent.enableTimelineVirtualization && !this.parent['isRowSelected'] && Math.abs(this.element.scrollLeft - scrollArgs.previousScrollLeft) > 1000) {\n                    if (!this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                        this.updateSpinner();\n                    }\n                    else {\n                        this.parent.showMaskRow();\n                        setTimeout(function () {\n                            _this.removeShimmer();\n                        }, 0);\n                    }\n                }\n                this.parent['isRowSelected'] = false;\n            }\n        }\n        this.isSetScrollLeft = false;\n        this.parent.isToolBarClick = true;\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     *\n     * @param {string | number} height - To set height for scroll container in chart side\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     *\n     * @param {string | number} width - To set width to scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     *\n     * @param {number} scrollTop - To set scroll top for scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n        this.parent.treeGrid.element.querySelector('.e-content').scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     *\n     * @param {number} scrollLeft  - To set scroll left for scroll container\n     * @param {number} leftSign - specifies left sign\n     * @returns {void} .\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft, leftSign) {\n        scrollLeft = leftSign === -1 && this.parent.enableRtl ? -scrollLeft : scrollLeft;\n        this.isSetScrollLeft = true;\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        if (!this.parent.enableTimelineVirtualization) {\n            this.previousScroll.left = this.element.scrollLeft;\n        }\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * virtual Content renderer for Gantt\n */\nvar VirtualContentRenderer = /** @class */ (function () {\n    function VirtualContentRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * To render a wrapper for chart body content when virtualization is enabled.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.renderWrapper = function () {\n        this.wrapper = createElement('div', { className: 'e-virtualtable', styles: 'position: absolute; transform: translate(0px, 0px);' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.wrapper);\n        this.virtualTrack = createElement('div', { className: 'e-virtualtrack', styles: 'position: relative; pointer-events: none; width: 100%;' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.virtualTrack);\n        this.wrapper.appendChild(this.parent.ganttChartModule.chartBodyContent);\n    };\n    /**\n     * To append child elements for wrappered element when virtualization is enabled.\n     *\n     * @param {HTMLElement} element .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.appendChildElements = function (element) {\n        this.wrapper.appendChild(element);\n    };\n    /**\n     * To adjust gantt content table's style when virtualization is enabled\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.adjustTable = function () {\n        var content = this.parent.treeGrid.getContent().querySelector('.e-content').querySelector('.e-virtualtable');\n        if (this.parent.enableTimelineVirtualization) {\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var translateXValue = void 0;\n            if (virtualTable !== '') {\n                translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            else {\n                var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n        }\n        else {\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = content.style.transform;\n        }\n    };\n    return VirtualContentRenderer;\n}());\nexport { VirtualContentRenderer };\n","import { createElement, formatUnit, EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\nimport { VirtualContentRenderer } from '../renderer/virtual-content-render';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n        this.debounceTimeoutNext = 0;\n        this.debounceTimeout = 0;\n        this.isGanttElement = false;\n        this.previousPinchDistance = 0;\n        this.currentToolbarIndex = -1;\n        this.isPinching = false;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.rangeViewContainer =\n            createElement('div', { className: cls.rangeContainer });\n        this.rangeViewContainer.setAttribute('role', 'button');\n        this.rangeViewContainer.setAttribute('aria-label', 'RangeContainer');\n        this.virtualRender = new VirtualContentRenderer(this.parent);\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     *\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderOverAllocationContainer = function () {\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            var data = this.parent.flatData[i];\n            if (data.childRecords.length > 0) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n            }\n        }\n        var rangeContainer = this.parent.element.querySelector('.' + cls.rangeContainer);\n        if (rangeContainer) {\n            rangeContainer.innerHTML = '';\n        }\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            this.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        if (this.parent.isFromOnPropertyChange) {\n            this.rangeViewContainer.innerHTML = '';\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n            this.parent.isFromOnPropertyChange = false;\n        }\n        else {\n            this.parent.chartRowsModule.renderChartRows();\n            if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n                this.parent.connectorLineIds = [];\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.predecessorModule.createConnectorLinesCollection();\n            }\n            this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n            for (var i = 0; i < this.parent.chartRowsModule.ganttChartTableBody.children.length; i++) {\n                if (this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4]) {\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[2].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4].setAttribute('tabindex', '-1');\n                }\n                else {\n                    if (this.parent.viewType === 'ProjectView') {\n                        var node = this.parent.chartRowsModule.ganttChartTableBody.\n                            children[parseInt(i.toString(), 10)].children[0].children[1].children[1];\n                        if (!isNullOrUndefined(node)) {\n                            this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                        }\n                    }\n                    else if (this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(i.toString(), 10)].children[0].\n                        children[1].children[0]) {\n                        this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[0].setAttribute('tabindex', '-1');\n                    }\n                }\n            }\n            var criticalModule = this.parent.criticalPathModule;\n            if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, this.parent.enableCriticalPath, criticalModule.predecessorCollectionTaskIds);\n            }\n            if (this.parent.showOverAllocation) {\n                this.renderOverAllocationContainer();\n            }\n        }\n        this.updateWidthAndHeight();\n        if (this.parent.isLoad) {\n            this.parent.notify('selectRowByIndex', {});\n        }\n        if (this.parent.timelineModule.isZoomToFit) {\n            this.parent.timelineModule.processZoomToFit();\n        }\n    };\n    /**\n     * @param {IGanttData[]} records .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderRangeContainer = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var rangeCollection;\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            for (count = 0; count < recordLength; count++) {\n                ganttRecord = records[count];\n                rangeCollection = ganttRecord.ganttProperties.workTimelineRanges;\n                if (rangeCollection) {\n                    this.renderRange(rangeCollection, ganttRecord);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.getTopValue = function (currentRecord) {\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var recordIndex = updatedRecords.indexOf(currentRecord);\n        if (currentRecord.parentItem && recordIndex === -1) {\n            var nestedParent = this.parent.getRecordByID(currentRecord.parentItem.taskId);\n            recordIndex = updatedRecords.indexOf(nestedParent);\n        }\n        if (!currentRecord.expanded) {\n            return (recordIndex * this.parent.rowHeight);\n        }\n        return ((recordIndex + 1) * this.parent.rowHeight);\n    };\n    /*get height for range bar*/\n    GanttChart.prototype.getRangeHeight = function (data) {\n        if (!data.expanded && data.hasChildRecords) {\n            return (this.parent.rowHeight - Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight)));\n        }\n        return (data.childRecords.length * this.parent.rowHeight) -\n            Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight));\n    };\n    GanttChart.prototype.renderRange = function (rangeCollection, currentRecord) {\n        var topValue = 0;\n        var rowIndex = this.parent.currentViewData.indexOf(currentRecord);\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            topValue = !currentRecord.expanded ? this.parent.getRowByIndex(rowIndex).offsetTop :\n                this.parent.getRowByIndex(rowIndex).offsetTop + this.parent.rowHeight;\n        }\n        else {\n            topValue = this.getTopValue(currentRecord);\n        }\n        var sameIDElement = this.rangeViewContainer.querySelector('.' + 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID);\n        if (sameIDElement) {\n            sameIDElement.remove();\n        }\n        var parentDiv = createElement('div', {\n            className: 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID, styles: \"top:\" + topValue + \"px; position: absolute;\"\n        });\n        if (currentRecord.level === 0 && !currentRecord.expanded && isNullOrUndefined(currentRecord.parentItem)\n            && !this.parent.enableMultiTaskbar) {\n            return;\n        }\n        if (currentRecord.level > 0 && currentRecord.expanded && !this.parent.getRecordByID(currentRecord.parentItem.taskId).expanded) {\n            return;\n        }\n        for (var i = 0; i < rangeCollection.length; i++) {\n            var height = void 0;\n            var node = this.parent.chartRowsModule.ganttChartTableBody.childNodes;\n            if (!this.parent.allowTaskbarOverlap && !currentRecord.expanded && this.parent.enableMultiTaskbar && !this.isCollapseAll) {\n                height = parseInt(node[rowIndex].style.height, 10) -\n                    (this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n            }\n            else {\n                height = this.getRangeHeight(currentRecord);\n            }\n            var leftDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-leftarc', styles: (this.parent.enableRtl ? 'right:' : 'left:') +\n                    ((this.parent.enableRtl ? rangeCollection[i].left + rangeCollection[i].width - 5 : rangeCollection[i].left) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px;\\n                height: \" + (height + 1) + \"px; border-right: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            var rightDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-rightarc',\n                styles: (this.parent.enableRtl ? 'right:' : 'left:') + ((this.parent.enableRtl ? rangeCollection[i].left :\n                    rangeCollection[i].left + rangeCollection[i].width - 5) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px; height: \" + (height + 1) + \"px;\\n                border-left: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            parentDiv.appendChild(leftDiv);\n            parentDiv.appendChild(rightDiv);\n            this.rangeViewContainer.appendChild(parentDiv);\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        if (this.parent.enableRtl) {\n            this.chartTimelineContainer.style.borderLeftWidth = '1px';\n            this.chartTimelineContainer.style.borderRightWidth = '0px';\n        }\n        this.chartTimelineContainer.setAttribute('role', 'presentation');\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; overflow:hidden ' });\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization || this.parent.enableTimelineVirtualization) {\n            this.parent.ganttChartModule.virtualRender.renderWrapper();\n        }\n        else {\n            this.scrollElement.appendChild(this.chartBodyContent);\n        }\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        //empty row height\n        var emptydivHeight = 36;\n        var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n            this.parent.contentHeight;\n        var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (emptyHeight >= contentElement['offsetHeight'] || this.parent.height === 'auto' || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n            this.chartBodyContent.style.height = formatUnit(emptyHeight);\n        }\n        else {\n            var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            if (contentElement['offsetHeight'] >= scrollHeight) {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n            }\n            else {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n            }\n        } //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n        if (this.parent.timelineModule.isZoomToFit && this.parent.enableTimelineVirtualization) {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth - this.parent.timelineModule['clientWidthDifference']);\n        }\n        else {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        }\n        // To handle the width of chartbody element after zoomtofit action followed by vertical scroll actions\n        if (this.parent.timelineModule.isZoomedToFit && this.parent.enableVirtualization) {\n            var clientWidth = Math.abs(this.parent.timelineModule.totalTimelineWidth -\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth);\n            this.parent.ganttChartModule.chartBodyContent.style.width =\n                formatUnit(this.parent.timelineModule.totalTimelineWidth - clientWidth);\n        }\n        this.setVirtualHeight();\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    GanttChart.prototype.setVirtualHeight = function () {\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var wrapper = getValue('virtualTrack', this.parent.ganttChartModule.virtualRender);\n            wrapper.style.height = this.parent.treeGrid.element.getElementsByClassName('e-virtualtrack')[0].style.height;\n            var wrapper1 = getValue('wrapper', this.parent.ganttChartModule.virtualRender);\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            if (this.parent.enableTimelineVirtualization) {\n                var translateXValue = void 0;\n                // Firefox whitespace issue, Firefox omit y axis value if both axis values are 0 and returns translate(0px)-Task(888356)\n                if (treegridVirtualHeight === 'translate(0px)' && navigator.userAgent.includes('Firefox')) {\n                    treegridVirtualHeight = 'translate(0px, 0px)';\n                }\n                if (virtualTable !== '') {\n                    translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                else {\n                    var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                    translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n                wrapper1.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n            }\n            else {\n                wrapper1.style.transform = treegridVirtualHeight;\n            }\n        }\n    };\n    /**\n     * Method to update bottom border for chart rows\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    var emptydivHeight = 36;\n                    var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n                        this.parent.contentHeight;\n                    var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n                    if (emptyHeight >= contentElement['offsetHeight'] || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n                        this.chartBodyContent.style.height = formatUnit(emptyHeight);\n                    }\n                    else {\n                        var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n                        if (contentElement['offsetHeight'] >= scrollHeight) {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n                        }\n                        else {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        var cancel = false;\n        if (e.type === 'touchstart' && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate initial distance between two Pinch touch points\n            this.initPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            this.isPinching = true;\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule &&\n            this.parent.editSettings.allowTaskbarEditing && !this.isPinching) {\n            var editAction = this.parent.editModule.taskbarEditModule['getTaskBarAction'](e);\n            if (editAction === 'ChildDrag' || editAction === 'ParentDrag' || editAction === 'MilestoneDrag' || editAction === 'ManualParentDrag') {\n                var args = {\n                    cancel: cancel,\n                    data: this.getRecordByTaskBar(e.target),\n                    target: e.target,\n                    chartRow: closest(e.target, 'tr')\n                };\n                this.parent.trigger('rowDragStartHelper', args);\n                cancel = args['cancel'];\n            }\n        }\n        if (!cancel && !this.isPinching) {\n            if (e.which !== 3 && this.parent.editSettings.allowTaskbarEditing) {\n                this.parent.notify('chartMouseDown', e);\n                this.parent.element.tabIndex = 0;\n            }\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing && (this.parent.element.querySelector('.e-left-resize-gripper') || this.parent.element.querySelector('.e-left-connectorpoint-outer-div'))) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited || e.button === 2) {\n                if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                    this.parent.treeGrid.endEdit();\n                }\n            }\n        }\n    };\n    GanttChart.prototype.calculatePinchDistance = function (touch1, touch2) {\n        var dx = touch2.clientX - touch1.clientX;\n        var dy = touch2.clientY - touch1.clientY;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n            if (!isNullOrUndefined(resizeCheck)) {\n                resizeCheck.remove();\n            }\n            var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar') || this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n            var falseline = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-gantt-false-line');\n            if (!isNullOrUndefined(falseline)) {\n                this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        if (!this.parent.editSettings.allowEditing) {\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing &&\n                getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n                getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited) {\n                /** Expand/collapse action */\n                var target = e.target;\n                var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                    || closest(e.target, '.' + cls.taskBarMainContainer);\n                if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                    this.chartExpandCollapseRequest(e);\n                }\n                else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                    this.scrollToTarget(e); /** Scroll to task */\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            var dateObjLeft = this.parent.currentViewData[rowIndex].ganttProperties.left;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = !this.parent.enableTimelineVirtualization ?\n                    this.parent.dataOperation.getTaskLeft(dateObject, false) : {};\n                if (this.parent.autoFocusTasks) {\n                    if (this.parent.enableTimelineVirtualization) {\n                        this.updateScrollLeft(dateObjLeft);\n                    }\n                    else {\n                        this.updateScrollLeft(left);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     *\n     * @param {number} scrollLeft .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft - 50, this.parent.enableRtl ? -1 : 0);\n        }\n        //  this.parent.ganttChartModule.scrollObject.updateLeftPosition();\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void}\n     * @private\n     */\n    GanttChart.prototype.mouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n        }\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(false);\n        }\n        var resizeCheck = this.parent.element.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule['previousLeftValue'] = 0;\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (!this.isGanttElement) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        this.isGanttElement = false;\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            this.previousPinchDistance = 0;\n        }\n        this.isGanttElement = true;\n        if (e.target.classList.contains('e-treegridexpand') ||\n            e.target.classList.contains('e-treegridcollapse')) {\n            if (getValue('isEditCollapse', this.parent.treeGrid) === true) {\n                setValue('isEditCollapse', false, this.parent.treeGrid);\n            }\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        var Check = this.parent.element.getElementsByClassName('e-clone-taskbar')[0];\n        if (!isNullOrUndefined(Check)) {\n            var clonetbody = Check.parentElement;\n            var cloneTable = clonetbody.parentElement;\n            cloneTable.remove();\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            this.parent.showIndicator = true;\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     *\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @param {EventTarget} target .\n     * @param {Element} taskbarElement .\n     * @returns {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var rowIndex;\n        var chartRow = closest(target, 'tr');\n        if (!isNullOrUndefined(chartRow)) {\n            rowIndex = getValue('rowIndex', chartRow);\n        }\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseLeave', e);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        if (e.type === 'touchmove' && this.isPinching === true && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate current distance between two touch points\n            var currentPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            if (Math.abs(this.previousPinchDistance - currentPinchDistance) > 15) {\n                if (currentPinchDistance > this.previousPinchDistance) {\n                    // Pinch out detected - Perform Zoom in\n                    this.parent.timelineModule.processZooming(true);\n                }\n                else if (currentPinchDistance < this.previousPinchDistance) {\n                    // Pinch in detected - Perform Zoom out\n                    this.parent.timelineModule.processZooming(false);\n                }\n                this.previousPinchDistance = currentPinchDistance;\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && this.isPinching === false) {\n            if (this.parent.element.getElementsByClassName('e-clone-taskbar').length > 0 && !this.parent.enableRtl) {\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (xValue <= this.parent.getOffsetRect(this.parent.ganttChartModule.chartElement).left) {\n                    return;\n                }\n            }\n            this.parent.notify('chartMouseMove', e);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n                this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n            }\n        }\n    };\n    /**\n     *  Method trigger while perform right click action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.contextClick = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterModule) {\n            this.parent.filterModule.closeFilterOnContextClick(e.srcElement);\n        }\n        if (this.parent.allowTaskbarDragAndDrop) {\n            var Check = this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        this.parent.notify('chartDblClick', e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     *\n     * @param {RecordDoubleClickEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var ganttData;\n        var row = closest(e.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            var id = row.getAttribute('rowUniqueId');\n            ganttData = this.parent.getRecordByID(id);\n        }\n        else {\n            row = closest(e.target, 'tr');\n            if (row) {\n                var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     *\n     * @returns {NodeListOf<Element>} .\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        if (document.getElementById(this.parent.element.id + 'GanttTaskTableBody') !== null) {\n            return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        if (this.parent.enableMultiTaskbar) {\n            return;\n        }\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To collapse gantt rows\n     *\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.collapseGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('collapsing', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.collapsedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties[_this.parent.taskFields.id] === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = false;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            var idField_1 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_1] === args['data'][idField_1]; })[0];\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after collapsing\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n    };\n    /**\n     * To expand gantt rows\n     *\n     * @returns {void} .\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @private\n     */\n    GanttChart.prototype.expandGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('expanding', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.expandedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties.taskId === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = true;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            var idField_2 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_2] === args['data'][idField_2]; })[0];\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            if (!this.parent.isExpandCollapseLevelMethod) {\n                this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            }\n            this.parent.isExpandCollapseLevelMethod = false;\n        }\n        // To render the child record on parent row after expanding.\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n    };\n    GanttChart.prototype.renderMultiTaskbar = function (record) {\n        if (this.parent.enableMultiTaskbar) {\n            this.parent.chartRowsModule.refreshRecords([record], true);\n        }\n        else if (this.parent.showOverAllocation) {\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     *\n     * @param {string} action .\n     * @param {Node} rowElement .\n     * @param {IGanttData} record .\n     * @param {boolean} isChild .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        if (!this.parent.enableVirtualization) {\n            var childRecords = record.childRecords;\n            var chartRows = this.getChartRows();\n            var rows = [];\n            for (var i = 0; i < chartRows.length; i++) {\n                if (chartRows[i].classList.contains('gridrowtaskId' +\n                    record.ganttProperties.rowUniqueID +\n                    'level' +\n                    (record.level + 1))) {\n                    rows.push(chartRows[i]);\n                }\n            }\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].style.display = displayType;\n                if (childRecords[i].childRecords &&\n                    childRecords[i].childRecords.length &&\n                    (action === 'collapse' ||\n                        childRecords[i].expanded ||\n                        this.isExpandAll)) {\n                    this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n                }\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     *\n     * @returns {void}\n     * @param {string} action .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.isCollapseAll = true;\n            this.parent.treeGrid.collapseAll();\n            if (this.isCollapseAll && !this.parent.allowTaskbarOverlap) {\n                var treeGridContentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.contentHeight = treeGridContentHeight;\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        if (this.parent.enableVirtualization) {\n            this.parent.isExpandCollapseLevelMethod = true;\n        }\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n        EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n        EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n        EventHandler.add(this.parent.chartPane, 'wheel', this.onWheelZoom, this);\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n            EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(this.parent.element, mouseUp, this.documentMouseUp, this);\n            EventHandler.add(document, mouseUp, this.mouseUp, this);\n        }\n        EventHandler.add(this.parent.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(document.body, 'contextmenu', this.contextClick, this);\n        EventHandler.add(document, 'mouseup', this.contextClick, this);\n        EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n        }\n        if (!isNullOrUndefined(this.parent.chartPane)) {\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n            EventHandler.remove(this.parent.chartPane, 'wheel', this.onWheelZoom);\n            EventHandler.remove(this.parent.chartPane, mouseDown, this.ganttChartMouseDown);\n        }\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.chartPane)) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.element)) {\n                EventHandler.remove(this.parent.element, mouseUp, this.documentMouseUp);\n            }\n            if (!isNullOrUndefined(document)) {\n                EventHandler.remove(document, mouseUp, this.mouseUp);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.element)) {\n            EventHandler.remove(this.parent.element, 'mousemove', this.mouseMoveHandler);\n        }\n        if (!isNullOrUndefined(document)) {\n            EventHandler.remove(document, 'mouseup', this.contextClick);\n            if (!isNullOrUndefined(document.body)) {\n                EventHandler.remove(document.body, 'contextmenu', this.contextClick);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n        }\n    };\n    // Triggers while perform ctrl+mouse wheel Pinch IN/OUT actions\n    GanttChart.prototype.onWheelZoom = function (e) {\n        if (e.ctrlKey) {\n            e.preventDefault();\n            var zoomIn1_1 = e.deltaY < 0;\n            // Differentiating between touchpad and mouse wheel\n            var isTouchpad_1 = false;\n            if (Math.abs(e.deltaY) < 75) { // Smaller deltaY typically indicates touchpad\n                isTouchpad_1 = true;\n            }\n            if (this.debounceTimeout) {\n                if (((this.debounceTimeoutNext + 20) > this.debounceTimeout)) {\n                    clearTimeout(this.debounceTimeout);\n                }\n                if ((this.debounceTimeoutNext + 20) <= this.debounceTimeout || !this.debounceTimeoutNext) {\n                    this.debounceTimeoutNext = this.debounceTimeout;\n                }\n            }\n            this.debounceTimeout = setTimeout(function () {\n                var verticalScrollDelta = Math.abs(e.deltaY);\n                // Adjust threshold based on the input method\n                var isValidScrollDelta = isTouchpad_1\n                    ? (verticalScrollDelta > 0.5 && verticalScrollDelta < 15)\n                    : (verticalScrollDelta > 5 && verticalScrollDelta <= 200);\n                if (isValidScrollDelta) {\n                    this.parent.timelineModule.processZooming(zoomIn1_1);\n                }\n            }.bind(this), 100);\n        }\n    };\n    /**\n     * To get record by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item;\n        if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n            item = this.parent.flatData[this.getIndexByTaskBar(target)];\n        }\n        else {\n            item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        }\n        return item;\n    };\n    GanttChart.prototype.updateElement = function (next, currentColumn, isTab, isInEditedState, row) {\n        if (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress) {\n            var rowIndex = row.index;\n            do {\n                if (row.hasChildRecords) {\n                    next = this.getNextElement(next, isTab, isInEditedState);\n                }\n                currentColumn = this.parent.ganttColumns[next.getAttribute('data-colindex')];\n                rowIndex = this.parent.treeGrid.getRows().indexOf(next.parentElement);\n            } while (!currentColumn.allowEditing);\n            this.parent.treeGrid.saveCell();\n            this.parent.treeGrid.editCell(rowIndex, this.parent.ganttColumns[next.getAttribute('data-colindex')].field);\n        }\n        return next;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        this.parent.treeGrid.grid.enableHeaderFocus = this.parent.enableHeaderFocus;\n        var toolbarItems = document.getElementsByClassName('e-toolbar-item');\n        var isInEditedState = this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n            $target = this.parent.element.querySelectorAll('.e-focused')[0];\n        }\n        if ($target && !($target.classList.contains('e-toolbar-item') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn'))) {\n            this.currentToolbarIndex = -1;\n        }\n        if ($target.closest('.e-rowcell') || $target.closest('.e-chart-row')) {\n            this.parent.focusModule.setActiveElement($target);\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.focusedRowIndex = $target.closest('.e-rowcell') ? $target.parentElement.rowIndex :\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            $target.closest('.e-chart-row') ? $target.closest('.e-chart-row').rowIndex : -1;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab, isInEditedState);\n        if (nextElement && (nextElement === 'noNextRow' || nextElement.classList.contains('e-rowdragheader'))) {\n            // eslint-disable-next-line\n            (nextElement === 'noNextRow' && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) ? this.parent.treeGrid.saveCell() : '';\n            nextElement = null;\n        }\n        if (nextElement && $target.classList.contains('e-headercell')) {\n            var colIndex = parseInt(nextElement.getAttribute('data-colindex'), 10);\n            if (e.action === 'shiftTab') {\n                while (colIndex !== -1 && !this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex - 1;\n                }\n                if (colIndex !== -1) {\n                    colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n                }\n                else {\n                    var toolbarItems_1 = document.getElementsByClassName('e-toolbar-item');\n                    for (var i = toolbarItems_1.length - 1; i > 0; i--) {\n                        if (!document.getElementsByClassName('e-toolbar-item')[i].classList.contains('e-hidden')) {\n                            nextElement = document.getElementsByClassName('e-toolbar-item')[i];\n                            this.currentToolbarIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                while (!this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex + 1;\n                }\n                colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n            }\n        }\n        if (!nextElement && $target.classList.contains('e-headercell') && e.action === 'tab') {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (!nextElement && ($target.classList.contains('e-headercell') || $target.classList.contains('e-toolbar-item') || $target.classList.contains('e-treegrid') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn')) && this.parent.toolbarModule && this.parent.toolbar.length > 0) {\n            var itemIndex = this.currentToolbarIndex !== -1 ? (e.action === 'tab' ? this.currentToolbarIndex + 1 :\n                this.currentToolbarIndex - 1) : (e.action === 'shiftTab' ? toolbarItems.length - 1 : 1);\n            var isUpdated = false;\n            if (itemIndex !== -1 && (e.action === 'shiftTab' || (e.action === 'tab' && itemIndex < toolbarItems.length))) {\n                do {\n                    if (!toolbarItems[itemIndex].classList.contains('e-hidden')) {\n                        nextElement = toolbarItems[itemIndex];\n                        nextElement.setAttribute('tabindex', '-1');\n                        if (nextElement.querySelector('.e-btn') === $target) {\n                            // eslint-disable-next-line\n                            e.action === 'tab' ? itemIndex++ : itemIndex--;\n                            nextElement = toolbarItems[itemIndex];\n                        }\n                        if (nextElement.querySelector('.e-btn')) {\n                            (nextElement.querySelector('.e-btn')).setAttribute('tabindex', '0');\n                        }\n                        isUpdated = true;\n                        this.currentToolbarIndex = itemIndex;\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        e.action === 'tab' ? itemIndex++ : itemIndex--;\n                    }\n                } while (!isUpdated);\n            }\n        }\n        if (e.action === 'tab' && !nextElement && (this.currentToolbarIndex === toolbarItems.length - 1 &&\n            ($target.classList.contains('e-toolbar-item') || $target.classList.contains('e-input') ||\n                $target.classList.contains('e-btn')))) {\n            for (var i = 0; i < this.parent.treeGrid.columns.length; i++) {\n                if (this.parent.treeGrid.columns[i]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i];\n                    break;\n                }\n            }\n        }\n        if (e.action === 'shiftTab' && !nextElement && !$target.classList.contains('e-headercell')) {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (e.action === 'shiftTab' && $target.classList.contains('e-timeline-header-container')) {\n            for (var i = this.parent.treeGrid.columns.length; i > 0; i--) {\n                if (this.parent.treeGrid.columns[i - 1]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i - 1];\n                    break;\n                }\n            }\n        }\n        this.tempNextElement = nextElement;\n        if (!isNullOrUndefined(nextElement) && !isNullOrUndefined(nextElement['cellIndex'])) {\n            if (this.parent.allowRowDragAndDrop) {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'] - 1;\n            }\n            else {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'];\n            }\n            if (this.nextElementIndex !== -1 && !this.parent.ganttColumns[this.nextElementIndex]['allowEditing'] &&\n                this.parent.ganttColumns[this.nextElementIndex]['field'] !== this.parent.taskFields.id) {\n                this.isEditableElement = true;\n            }\n            else {\n                this.isEditableElement = false;\n            }\n        }\n        if (nextElement === 'noNextRow') {\n            this.manageFocus($target, 'remove', true);\n            return;\n        }\n        if (typeof nextElement !== 'string') {\n            if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell') ||\n                $target.classList.contains('e-headercell') || $target.closest('.e-segmented-taskbar') ||\n                $target.classList.contains('e-timeline-header-container')) {\n                e.preventDefault();\n            }\n            if (isTab && $target.classList.contains('e-rowdragdrop')) {\n                this.parent.treeGrid.grid.notify('key-pressed', e);\n                return;\n            }\n            if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell')) ||\n                $target.classList.contains('e-headercell')) { // eslint-disable-line                                                                                                                                                                                                                                    \n                if (isTab) {\n                    if (this.parent.editSettings.allowNextRowEdit) {\n                        var rowData = this.parent.currentViewData[this.focusedRowIndex];\n                        var columnName = this.parent.ganttColumns[nextElement.getAttribute('data-colindex')].field;\n                        if (rowData.hasChildRecords) {\n                            if (columnName === this.parent.taskFields.endDate || columnName ===\n                                this.parent.taskFields.duration || columnName === this.parent.taskFields.dependency ||\n                                columnName === this.parent.taskFields.progress || columnName === this.parent.taskFields.work ||\n                                columnName === this.parent.taskFields.type || columnName === 'taskType') {\n                                this.parent.treeGrid.grid.endEdit();\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else if (columnName === this.parent.taskFields.name || columnName === this.parent.taskFields.startDate) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                                if (isInEditedState) {\n                                    this.parent.treeGrid.editCell(this.focusedRowIndex, columnName);\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                    else {\n                        if (!nextElement || (nextElement && !nextElement.classList.contains('e-headercell') && !nextElement.classList.contains('e-timeline-header-container'))) {\n                            if ($target.classList.contains('e-headercell')) {\n                                this.manageFocus($target, 'remove', false);\n                            }\n                            /* eslint-disable-next-line */\n                            var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                            var next = nextElement;\n                            if (row.hasChildRecords &&\n                                (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                    !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                                this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                                && $target.classList.contains('e-editedbatchcell')) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            }\n                            else if (!nextElement || $target.classList.contains('e-editedbatchcell')) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (nextElement && !nextElement.classList.contains('e-headercell') && nextElement.classList.contains('e-rowcell')\n                        && !nextElement.classList.contains('e-toolbar-item')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                        var next = nextElement;\n                        if (row.hasChildRecords &&\n                            (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                            && $target.classList.contains('e-editedbatchcell')) {\n                            var currentColumn = void 0;\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                next = this.getNextElement(next, isTab, isInEditedState);\n                            }\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                        }\n                        else if (parseInt(next.parentElement.getAttribute('data-rowindex'), 10) !== 0 &&\n                            parseInt(next.getAttribute('data-colindex'), 10) === 0 &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.id &&\n                            $target.classList.contains('e-editedbatchcell')) {\n                            /* eslint-disable-next-line */\n                            var rowIndex = $target.parentElement.rowIndex;\n                            var rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                            next = this.getChildElement(rowElement, isTab);\n                            var rowData = this.parent.flatData[parseInt(rowElement.getAttribute('data-rowindex'), 10)];\n                            if (rowData.hasChildRecords && (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing ||\n                                this.parent.ganttColumns[next.getAttribute('data-colindex')].field ===\n                                    this.parent.taskFields.progress)) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                }\n            }\n            if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n                this.manageFocus(this.parent.element.querySelectorAll('.e-focused')[0], 'remove', false);\n            }\n            if (!(this.parent.editModule && this.parent.editModule.cellEditModule\n                && !isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn))) {\n                if (nextElement) {\n                    if ($target.classList.contains('e-rowcell')) {\n                        this.manageFocus($target, 'remove', false);\n                    }\n                    else {\n                        this.manageFocus($target, 'remove', true);\n                    }\n                    if ((nextElement.classList.contains('e-rowcell') && $target.nextElementSibling && !$target.classList.contains('e-timeline-header-container'))\n                        || $target.classList.contains('e-right-label-container')) {\n                        if (!$target.classList.contains('e-rowcell')) {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                            var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                            fmodule.currentInfo.element = nextElement;\n                            fmodule.currentInfo.elementToFocus = nextElement;\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                        }\n                        this.manageFocus(nextElement, 'add', false);\n                    }\n                    else {\n                        if (nextElement && (nextElement.classList.contains('e-toolbar-item') || nextElement.classList.contains('e-headercell')\n                            || nextElement.classList.contains('e-rowcell'))) {\n                            this.manageFocus($target, 'remove', false);\n                            if (!nextElement.classList.contains('e-toolbar-item')) {\n                                this.manageFocus(nextElement, 'add', false);\n                            }\n                            if ($target.classList.contains('e-treegrid')) {\n                                e.preventDefault();\n                            }\n                        }\n                        else {\n                            this.manageFocus(nextElement, 'add', true);\n                        }\n                    }\n                    this.parent.focusModule.setActiveElement(nextElement);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     *\n     * @param {Element} $target .\n     * @param {boolean} isTab .\n     * @param {boolean} isInEditedState .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab, isInEditedState) {\n        if ($target.classList.contains('e-timeline-header-container') && isTab) {\n            var rowElement = this.getNextRowElement(-1, isTab, true);\n            return this.getChildElement(rowElement, isTab);\n        }\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        if ($target.parentElement.classList.contains('e-taskbar-main-container')) {\n            if (this.parent.labelSettings.rightLabel && isTab) {\n                return $target.parentElement.nextElementSibling;\n            }\n            else if (!isTab && this.parent.labelSettings.leftLabel) {\n                return $target.parentElement.previousElementSibling;\n            }\n        }\n        while (nextElement && nextElement.parentElement.classList.contains('e-row')) {\n            if (!nextElement.matches('.e-hide') && !nextElement.matches('.e-rowdragdrop')) {\n                return nextElement;\n            }\n            nextElement = isTab ? nextElement.nextElementSibling : nextElement.previousElementSibling;\n        }\n        if (!isNullOrUndefined(nextElement) && (nextElement.classList.contains('e-taskbar-main-container')\n            || nextElement.classList.contains('e-right-connectorpoint-outer-div'))) {\n            var record = this.parent.currentViewData[this.focusedRowIndex];\n            if (!isNullOrUndefined(record.ganttProperties.segments) && record.ganttProperties.segments.length > 0) {\n                nextElement = nextElement.classList.contains('e-right-connectorpoint-outer-div')\n                    ? nextElement.parentElement.nextElementSibling\n                    : nextElement.getElementsByClassName('e-gantt-child-taskbar-inner-div')[0];\n            }\n        }\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            var childElement = void 0;\n            if ($target.classList.contains('e-rowcell') && isInEditedState && this.parent.editSettings.allowNextRowEdit) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                childElement = this.getChildElement(rowElement, isTab);\n                return childElement;\n            }\n            else if ($target.classList.contains('e-rowcell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                        rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                        var childElement_1 = this.getChildElement(rowElement, isTab);\n                        return childElement_1;\n                    }\n                    else {\n                        if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                            return rowElement.getElementsByClassName('e-left-label-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                            return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                            return rowElement.getElementsByClassName('e-right-label-container')[0];\n                        }\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell') ||\n                $target.parentElement.parentElement.classList.contains('e-chart-row-cell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    if (!isTab && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        /* eslint-disable-next-line */\n                        var rowRecord = this.parent.currentViewData[rowIndex];\n                        rowIndex = this.parent.flatData.indexOf(rowRecord);\n                    }\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                }\n                else {\n                    rowElement = this.parent.treeGrid.getRows()[rowIndex];\n                }\n                var childElement_2 = this.getChildElement(rowElement, isTab);\n                return childElement_2;\n            }\n            nextElement = $target;\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     *\n     * @param {number} rowIndex .\n     * @param {boolean} isTab .\n     * @param {boolean} isChartRow .\n     * @returns {Element} .\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.getRows()[nextRowIndex] : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     *\n     * @param {Element} $target .\n     * @param {string} className .\n     * @returns {boolean} .\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Getting child element based on row element.\n     *\n     * @param {Element} rowElement .\n     * @param {boolean} isTab .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getChildElement = function (rowElement, isTab) {\n        var childElement;\n        if (rowElement) {\n            childElement = isTab ? rowElement.children[0] : rowElement.children[rowElement.children.length - 1];\n            while (childElement) {\n                if (!childElement.matches('.e-hide') && !childElement.matches('.e-rowdragdrop')) {\n                    return childElement;\n                }\n                childElement = isTab ? childElement.nextElementSibling : childElement.previousElementSibling;\n            }\n        }\n        else {\n            return 'noNextRow';\n        }\n        return childElement;\n    };\n    /**\n     * Add/Remove active element.\n     *\n     * @private\n     * @param {HTMLElement} element .\n     * @param {string} focus .\n     * @param {boolean} isChartElement .\n     * @param {string} keyAction .\n     * @returns {void} .\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement, keyAction) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')\n                || element.classList.contains('e-gantt-child-taskbar-inner-div')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? data.ganttProperties.isAutoSchedule ? 'e-gantt-parent-taskbar' :\n                    'e-manualparent-main-container' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : !isNullOrUndefined(data.ganttProperties.segments)\n                        && data.ganttProperties.segments.length > 0 ? 'e-segmented-taskbar' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n                if (isNullOrUndefined(childElement)) {\n                    childElement = element;\n                }\n            }\n            if (element.classList.contains('e-right-label-temp-container') || element.classList.contains('e-left-label-temp-container') || element.classList.contains('e-indicator-span') || element.classList.contains('e-timeline-header-container')) {\n                if (focus === 'add') {\n                    element.setAttribute('tabIndex', '0');\n                    addClass([element], 'e-active-container');\n                    element.focus();\n                }\n                else {\n                    if (keyAction !== 'downArrow' && keyAction !== 'upArrow') {\n                        removeClass([element], 'e-active-container');\n                        element.setAttribute('tabIndex', '-1');\n                        element.blur();\n                    }\n                }\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement) && (keyAction !== 'downArrow' && keyAction !== 'upArrow')) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {number} .\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row;\n        var recordIndex;\n        if (!target.classList.contains(cls.taskBarMainContainer)) {\n            row = closest(target, 'div.' + cls.taskBarMainContainer);\n        }\n        else {\n            row = target;\n        }\n        if (isNullOrUndefined(row)) {\n            row = closest(target, 'tr.' + cls.chartRow);\n            recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        }\n        else {\n            var id = row.getAttribute('rowUniqueId');\n            var record = this.parent.getRecordByID(id);\n            if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n                recordIndex = this.parent.flatData.indexOf(record);\n            }\n            else {\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth\n                    && this.parent.pdfExportModule.isPdfExport) {\n                    recordIndex = this.parent.ids.indexOf(record.ganttProperties.taskId.toString());\n                }\n                else {\n                    recordIndex = this.parent.currentViewData.indexOf(record);\n                }\n            }\n        }\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.chartElement = null;\n        this.rangeViewContainer = null;\n        this.chartBodyContent = null;\n        this.scrollElement = null;\n        this.chartTimelineContainer = null;\n        this.chartBodyContainer = null;\n        if (!isNullOrUndefined(this.scrollObject)) {\n            this.scrollObject.destroy();\n            this.scrollObject = null;\n        }\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, extend, append } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.pdfExportTopTierCollection = [];\n        this.pdfExportBottomTierCollection = [];\n        this.restrictRender = true;\n        this.performedTimeSpanAction = false;\n        this.isZoomedToFit = false;\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        if (this.parent.enablePersistence && this.parent.isLoad) {\n            this.parent.timelineSettings = this.parent.currentZoomingLevel;\n        }\n    };\n    /**\n     * To render timeline header series.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        if (!this.parent.isFromOnPropertyChange) {\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        }\n        var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        this.parent.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        if (!this.parent.pdfExportModule || (this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport) ||\n            (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                this.parent.pdfExportModule.helper.exportProps &&\n                !this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        }\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        var currentScrollLeft = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n        this.parent.element.getElementsByClassName('e-timeline-header-container')[0].scrollLeft = currentScrollLeft;\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     *\n     * @param {boolean} isZoomIn .\n     * @private\n     * @returns {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        this.isZoomToFit = false;\n        this.isZoomedToFit = false;\n        var action = isZoomIn ? 'ZoomIn' : 'ZoomOut';\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent'](action)) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var previousTimeline = {};\n            previousTimeline['action'] = action;\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent['isProjectDateUpdated']) {\n            this.parent.dateValidationModule.calculateProjectDates();\n        }\n        if (!isNullOrUndefined(this.parent.zoomingProjectStartDate)) {\n            this.parent.cloneProjectStartDate = this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = null;\n        this.parent.zoomingProjectEndDate = null;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        var currentLevel;\n        var level = isZoomIn ? currentZoomingLevel + 1 : currentZoomingLevel - 1;\n        var foundLevel = this.parent.zoomingLevels.find(function (tempLevel) { return tempLevel.level === level; });\n        if (foundLevel) {\n            currentLevel = level;\n        }\n        else {\n            currentLevel = currentZoomingLevel;\n        }\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n        currentLevel = this.parent.zoomingLevels.findIndex(function (tempLevel) {\n            return tempLevel.level === currentLevel;\n        });\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline,\n            cancel: false\n        };\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (!args.cancel) {\n            newTimeline = args.timeline;\n            this.changeTimelineSettings(newTimeline);\n        }\n        this.isZooming = false;\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     *\n     * @param {ZoomTimelineSettings} newTimeline .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        if (this.isZoomToFit) {\n            this.isSingleTier = this.customTimelineSettings.topTier.unit === 'None' || this.customTimelineSettings.bottomTier.unit === 'None' ? true : false;\n        }\n        else if (!this.isZoomIn) {\n            this.isSingleTier = newTimeline.topTier.unit === 'None' || newTimeline.bottomTier.unit === 'None' ? true : false;\n        }\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                if (newTimeline[\"\" + assignValue].unit !== 'None') {\n                    _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n                }\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n                timeline: this.parent.currentZoomingLevel\n            };\n            this.parent.trigger('actionComplete', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        if (this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule || this.parent.pdfExportModule\n            && !this.parent.pdfExportModule.isPdfExport)) {\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n            if (this.wholeTimelineWidth <= this.totalTimelineWidth) {\n                this.wholeTimelineWidth = this.totalTimelineWidth;\n            }\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n            if (this.isZoomToFit) {\n                this.clientWidthDifference = Math.abs(this.wholeTimelineWidth - this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                }\n            }\n            else {\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                }\n            }\n            this.parent.ganttChartModule.updateWidthAndHeight();\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        this.isZoomedToFit = true;\n        var previousTimeline = {};\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('ZoomToFit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            previousTimeline['action'] = 'ZoomToFit';\n            previousTimeline['previousTimelineStartDate'] = extend([], [], [this.parent.cloneProjectStartDate], true)[0];\n            previousTimeline['previousTimelineEndDate'] = extend([], [], [this.parent.cloneProjectEndDate], true)[0];\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        var scrollHeight = this.parent.ganttChartModule.scrollElement.offsetHeight - 17; //17 is horizontal scrollbar width\n        var contentHeight = this.parent.ganttChartModule.chartBodyContent.offsetHeight;\n        var emptySpace = contentHeight <= scrollHeight ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin', this.parent.controlId + '_zoomout'], true);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        this.changeTimelineSettings(newTimeline);\n        this.parent.isTimelineRoundOff = isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.isZoomToFit = false;\n    };\n    Timeline.prototype.bottomTierCellWidthCalc = function (mode, zoomLevel, date) {\n        var convertedMilliSeconds;\n        switch (mode) {\n            case 'Minutes':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 1000);\n                break;\n            case 'Hour':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 1000);\n                break;\n            case 'Week':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (7 * 24 * 60 * 60 * 1000);\n                break;\n            case 'Day':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (24 * 60 * 60 * 1000);\n                break;\n            case 'Month':\n                {\n                    var daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInMonth * 1000);\n                    break;\n                }\n            case 'Year':\n                {\n                    var daysInYear = (date.getFullYear() % 400 === 0 ||\n                        (date.getFullYear() % 100 !== 0 && date.getFullYear() % 4 === 0)) ? 366 : 365;\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInYear * 1000);\n                    break;\n                }\n        }\n        return convertedMilliSeconds;\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode, zoomingLevel) {\n        var roundOffTime = this.bottomTierCellWidthCalc(tierMode, zoomingLevel, date);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n    };\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var sDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var eDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var numberOfDays = Math.abs((eDate.getTime() - sDate.getTime()) / (24 * 60 * 60 * 1000));\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        if (!(this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.checkCurrentZoomingLevel();\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var tier = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            'bottomTier' : 'topTier';\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count, tier);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @param {string} unit .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count, tier) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            if (tier === 'bottomTier') {\n                return tempLevel.bottomTier.unit === unit;\n            }\n            else {\n                return tempLevel.topTier.unit === unit;\n            }\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                if (tier === 'bottomTier') {\n                    return tempLevel.bottomTier.unit === closestUnit_1;\n                }\n                else {\n                    return tempLevel.topTier.unit === closestUnit_1;\n                }\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            if (tier === 'bottomTier') {\n                return (!a.bottomTier.count || !b.bottomTier.count) ? 0 : ((a.bottomTier.count < b.bottomTier.count) ? 1 : -1);\n            }\n            else {\n                return (!a.topTier.count || !b.topTier.count) ? 0 : ((a.topTier.count < b.topTier.count) ? 1 : -1);\n            }\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue[\"\" + tier].count && count > secondValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     *\n     * @param {string} unit .\n     * @param {string} closetUnit .\n     * @param {boolean} isCont .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            this.parent.element.classList.add(cls.ganttSingleTimeline);\n        }\n        else {\n            this.parent.element.classList.remove(cls.ganttSingleTimeline);\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    Timeline.prototype.dateByLeftValue = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            pStartDate.setDate(pStartDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var virtualTableDiv;\n        var virtualTrackDiv;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        if (this.restrictRender === true) {\n            this.updateTimelineHeaderHeight();\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n        }\n        if (this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                virtualTableDiv = createElement('div', { className: cls.virtualTable });\n                virtualTrackDiv = createElement('div', { className: cls.virtualTrack });\n                td.appendChild(div);\n                tr.appendChild(td);\n                virtualTableDiv.appendChild(tr);\n                thead.appendChild(virtualTableDiv);\n                thead.appendChild(virtualTrackDiv);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n                this.restrictRender = false;\n            }\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n            this.timelineVirtualizationStyles();\n        }\n        else {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                td.appendChild(div);\n                tr.appendChild(td);\n                thead.appendChild(tr);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n            }\n            this.wholeTimelineWidth = this.totalTimelineWidth;\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n        }\n    };\n    Timeline.prototype.timelineVirtualizationStyles = function () {\n        var translateXValue = 0;\n        var translateYValue = 0;\n        var trackWidth = this.wholeTimelineWidth;\n        if (this.parent.enableTimelineVirtualization) {\n            //e-content styles updating\n            translateXValue = (this.parent.enableTimelineVirtualization &&\n                !isNullOrUndefined(this.parent.ganttChartModule.scrollObject.element.scrollLeft)\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0) ?\n                this.parent.ganttChartModule.scrollObject.getTimelineLeft() : 0;\n            if (this.parent.enableRtl) {\n                translateXValue = -(translateXValue);\n            }\n            var contentVirtualTable = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtable');\n            contentVirtualTable.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            var contentVirtualTrack = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack');\n            contentVirtualTrack.style.position = 'relative';\n            contentVirtualTrack.style.width = trackWidth + 'px';\n            //timeline styles updating\n            if (this.parent.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                var virtualTableStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtable');\n                var virtualTableStylesB = void 0;\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                    virtualTableStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtable');\n                }\n                virtualTableStylesT.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                if (!isNullOrUndefined(virtualTableStylesB)) {\n                    virtualTableStylesB.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                }\n            }\n            var virtualTrackStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtrack');\n            var virtualTrackStylesB = void 0;\n            if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                virtualTrackStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtrack');\n            }\n            if (!isNullOrUndefined(virtualTrackStylesB)) {\n                virtualTrackStylesB.style.position = 'relative';\n                virtualTrackStylesB.style.width = trackWidth + 'px';\n            }\n            virtualTrackStylesT.style.position = 'relative';\n            virtualTrackStylesT.style.width = trackWidth + 'px';\n            //dependency viewer styles updating\n            var dependencyViewer = this.parent.connectorLineModule.svgObject;\n            dependencyViewer['style'].width = trackWidth + 'px';\n            // timeline header container width updating\n            var timelineHeader = this.parent.element.querySelector('.' + cls.timelineHeaderContainer);\n            timelineHeader['style'].width = 'calc(100% - ' + 17 + 'px)';\n            if (this.parent.timelineModule.isZooming || this.parent.timelineModule.isZoomToFit) {\n                this.parent.ganttChartModule.scrollElement.scrollLeft = 0;\n                this.parent.ganttChartModule.scrollObject.updateChartElementStyles();\n            }\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     *\n     * @param {string} mode .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? (difference + 1) : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     *\n     * @param {string} mode .\n     * @param {number} tierCount .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     *\n     * @param {string} mode .\n     * @param {string} format .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     *\n     * @param {object} cloneObj .\n     * @param {string[]} propertyCollection .\n     * @param {object} innerProperty .\n     * @returns {object} .\n     * @private\n     */\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     *\n     * @param {string} dayFormat .\n     * @param {Date} data .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data) {\n        var date = new Date(data.getTime());\n        var dateString;\n        if (dayFormat === '') {\n            dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n            if (this.parent.locale === 'zh') {\n                dateString = dateString.slice(1);\n            }\n            else {\n                if (this.parent.locale === 'ar') {\n                    var dateStringValue = dateString;\n                    dateString = dateStringValue;\n                }\n                else {\n                    dateString = dateString.slice(0, 1);\n                }\n            }\n        }\n        else {\n            dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n        }\n        return dateString;\n    };\n    /**\n     * Custom Formatting.\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @param {string} tier .\n     * @param {string} mode .\n     * @param {string | ITimelineFormatter} formatter .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     *\n     * @param {string} tier .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var isFirstCell = false;\n        var parent = this.parent;\n        var parentTh = createElement('th');\n        var parentTr;\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit :\n            parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var increment;\n        var newTime;\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.dateByLeftValue(leftValueForStartDate)).toString()) :\n            new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        var width = 0;\n        var WidthForVirtualTable = this.parent.element.offsetWidth * 3;\n        do {\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            if ((mode === 'Month' || mode === 'Hour') && tier === 'bottomTier' && (count !== 1) && scheduleDateCollection.length === 0) {\n                isFirstCell = true;\n            }\n            parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell);\n            scheduleDateCollection.push(new Date(startDate.toString()));\n            if (isFirstCell && mode === 'Month') {\n                newTime = this.calculateQuarterEndDate(startDate, count).getTime();\n            }\n            else {\n                increment = Math.abs(this.getIncrement(startDate, count, mode));\n                newTime = startDate.getTime() + increment;\n            }\n            var dubStartDate = new Date(startDate.getTime());\n            isFirstCell = false;\n            startDate.setTime(newTime);\n            var dubStartHour = dubStartDate.getHours();\n            var startHour = startDate.getHours();\n            var difference = startHour - dubStartHour;\n            if (difference !== count && difference > 1) {\n                if ((!this.parent.isInDst(startDate) && this.parent.isInDst(dubStartDate)) ||\n                    (this.parent.isInDst(startDate) && !this.parent.isInDst(dubStartDate))) {\n                    if (startDate.getTimezoneOffset() > dubStartDate.getTimezoneOffset()) {\n                        startDate.setTime(startDate.getTime() - ((1000 * 60 * 60) * (difference - count)));\n                    }\n                }\n            }\n            if (startDate.getHours() === 5 && count === 2 && tier === 'bottomTier' &&\n                parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n            }\n            if (startDate.getHours() === 8 && count === 12 && tier === 'bottomTier' &&\n                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 8));\n            }\n            if (startDate >= endDate) {\n                /* eslint-disable-next-line */\n                parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n            }\n            parentTh.appendChild(parentTr);\n            var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n            timelineCell.endDate = new Date(startDate.getTime());\n            if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.enableTimelineVirtualization) {\n                if (tier === 'topTier') {\n                    this.pdfExportTopTierCollection.push(timelineCell);\n                }\n                else {\n                    this.pdfExportBottomTierCollection.push(timelineCell);\n                }\n            }\n            else {\n                tierCollection.push(timelineCell);\n            }\n            width += timelineCell.width;\n            this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n        } while ((this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule ||\n            this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport)) ? (width < WidthForVirtualTable) &&\n            (startDate < endDate) : (startDate < endDate));\n        return parentTh;\n    };\n    Timeline.prototype.updateTimelineAfterZooming = function (endDate, resized) {\n        var timeDiff;\n        var perDayWidth;\n        var totWidth;\n        var contentElement = document.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (!isNullOrUndefined(contentElement)) {\n            var contentWidth = contentElement['offsetWidth'];\n            var contentHeight = contentElement['offsetHeight'];\n            var scrollHeight = document.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            timeDiff = Math.abs(this.timelineStartDate.getTime() - endDate.getTime());\n            timeDiff = timeDiff / (1000 * 3600 * 24);\n            if (this.bottomTier === 'None') {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.topTier.count, this.topTier);\n            }\n            else {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.bottomTier.count, this.bottomTier);\n            }\n            if (contentHeight < scrollHeight) {\n                totWidth = (perDayWidth * timeDiff) + 17;\n            }\n            else {\n                totWidth = (perDayWidth * timeDiff);\n            }\n            if (contentWidth >= totWidth) {\n                var widthDiff = contentWidth - totWidth;\n                widthDiff = Math.round(widthDiff / perDayWidth);\n                endDate.setDate(endDate.getDate() + widthDiff);\n                this.parent.timelineModule.timelineEndDate = endDate;\n                if (resized) {\n                    this.parent.updateProjectDates(this.timelineStartDate, this.timelineEndDate, this.parent.isTimelineRoundOff);\n                }\n            }\n        }\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.updateTimelineAfterZooming(endDate, false);\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {number} count .\n     * @param {string} mode .\n     * @param {boolean} isFirstCell .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode, isFirstCell) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        switch (mode) {\n            case 'Year':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24);\n                break;\n            case 'Month':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                increment = lastDay.getTime() - firstDay.getTime();\n                break;\n            case 'Week':\n                {\n                    var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                    var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                        (6 - startDate.getDay()) + dayIndex;\n                    count = dayIntervel > 0 ? count - 1 : 0;\n                    lastDay.setHours(24, 0, 0, 0);\n                    dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                        dayIntervel - 1 : dayIntervel : dayIntervel;\n                    lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                    increment = lastDay.getTime() - firstDay.getTime();\n                    break;\n                }\n            case 'Day':\n                lastDay.setHours(24, 0, 0, 0);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n            case 'Hour':\n                {\n                    lastDay.setMinutes(60);\n                    lastDay.setSeconds(0);\n                    increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * (count - 1));\n                    var date = new Date(lastDay);\n                    date.setTime(date.getTime() + increment);\n                    if (isFirstCell && count === 12) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(0, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    if (isFirstCell && count === 6) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(6, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                    break;\n                }\n            case 'Minutes':\n                lastDay.setSeconds(60);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n        }\n        return increment;\n    };\n    Timeline.prototype.checkDate = function (firstDay, lastDay, increment, count, mode) {\n        var date = new Date(firstDay.getTime());\n        date.setTime(date.getTime() + increment);\n        if (mode === 'Day' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Hour' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Minutes' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2 && count !== 15 && count !== 60) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     *\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {Date} day .\n     * @returns {boolean} .\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') && (this.customTimelineSettings[tier].count === 1 ||\n            mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.calculateQuarterEndDate = function (date, count) {\n        var month = date.getMonth();\n        if (count === 3) {\n            if (month >= 0 && month <= 2) {\n                return new Date(date.getFullYear(), 3, 1);\n            }\n            else if (month >= 3 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else if (month >= 6 && month <= 8) {\n                return new Date(date.getFullYear(), 9, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n        else {\n            if (month >= 0 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n    };\n    Timeline.prototype.calculateTotalHours = function (mode, count) {\n        var totalHour = 0;\n        switch (mode) {\n            case 'Hour':\n                totalHour = 1 * count;\n                break;\n            case 'Day':\n                totalHour = 24 * count;\n                break;\n            case 'Week':\n                totalHour = 7 * 24 * count;\n                break;\n            case 'Minutes':\n                totalHour = count / 60;\n                break;\n        }\n        return totalHour;\n    };\n    /**\n     * To construct template string.\n     *\n     * @param {Date} scheduleWeeks .\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {boolean} isLast .\n     * @param {number} count .\n     * @param {TimelineFormat} timelineCell .\n     * @returns {string} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell, isFirstCell) {\n        var parentTr = '';\n        var template;\n        var timelineTemplate = null;\n        if (!isNullOrUndefined(this.parent.timelineTemplate)) {\n            timelineTemplate = this.parent.chartRowsModule.templateCompiler(this.parent.timelineTemplate);\n        }\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(scheduleWeeks, { format: this.parent.getDateFormat() }) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter);\n        thWidth = Math.abs((this.getIncrement(scheduleWeeks, count, mode, isFirstCell) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n        var incrementValue = this.getIncrement(scheduleWeeks, count, mode);\n        var newDate = new Date(scheduleWeeks.getTime() + incrementValue);\n        var dubNewDate = new Date(scheduleWeeks.getTime() + ((60 * 60 * 1000) * count));\n        var newDateOffset = newDate.getTime();\n        var dubNewDateOffset = dubNewDate.getTime();\n        var timelineStartDate = this.parent.timelineModule.timelineStartDate;\n        var timelineStartTime = timelineStartDate.getTime();\n        var hasDST = this.parent.dataOperation.hasDSTTransition(scheduleWeeks.getFullYear());\n        var timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        var transitions;\n        var dstStartTime;\n        if (hasDST) {\n            transitions = this.parent.dataOperation.getDSTTransitions(scheduleWeeks.getFullYear(), timeZone);\n            dstStartTime = transitions['dstStart'].getTime();\n        }\n        if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks)) ||\n            (this.parent.isInDst(newDate) && !this.parent.isInDst(scheduleWeeks)) ||\n            (newDateOffset !== dubNewDateOffset && hasDST && dubNewDateOffset > newDateOffset &&\n                timelineStartTime <= dstStartTime)) {\n            var temp = void 0;\n            var totalHour = 0;\n            var incrementHour = incrementValue / (1000 * 60 * 60);\n            if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks))) {\n                totalHour = this.calculateTotalHours(mode, count);\n                if (incrementHour !== totalHour && totalHour !== 0 && incrementHour > totalHour) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) - ((1000 * 60 * 60) * (incrementHour - totalHour));\n                    thWidth = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    if (thWidth === 0 && mode === 'Minutes') {\n                        var perMinuteWidth = this.parent.perDayWidth / 1440;\n                        thWidth = perMinuteWidth * count;\n                    }\n                }\n            }\n            else {\n                var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n                var bottomTierSettings = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'] :\n                    zoomOrTimeline['topTier'];\n                var bottomTierCountIsOneAndUnitIsHour = ((bottomTierSettings['count'] === 1 && bottomTierSettings['unit'] === 'Hour') ||\n                    (bottomTierSettings['count'] === 60 && bottomTierSettings['unit'] === 'Minutes'));\n                totalHour = this.calculateTotalHours(mode, count);\n                if (incrementHour !== totalHour && incrementHour < totalHour && !(tier === 'topTier' && bottomTierCountIsOneAndUnitIsHour)) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) + (1000 * 60 * 60);\n                    var value_1 = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    var tierWidth = tier === 'topTier' ? this.topTierCellWidth : this.bottomTierCellWidth;\n                    if (tierWidth >= value_1) {\n                        thWidth = value_1;\n                        if (thWidth === 0 && mode === 'Minutes') {\n                            var perMinuteWidth = this.parent.perDayWidth / 1440;\n                            thWidth = perMinuteWidth * count;\n                        }\n                    }\n                }\n            }\n        }\n        var cellWidth = thWidth;\n        thWidth = isLast\n            ? (this.parent.isInDst(this.timelineRoundOffEndDate)\n                ? thWidth\n                : this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate))\n            : (isFirstCell && mode !== 'Hour')\n                ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.calculateQuarterEndDate(scheduleWeeks, count))\n                : thWidth;\n        var isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        if (isFirstCell && scheduleWeeks.getHours() === 20 && count === 12 && tier === 'bottomTier' &&\n            this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n            scheduleWeeks.setTime(scheduleWeeks.getTime() - (1000 * 60 * 60 * 20));\n        }\n        var value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, scheduleWeeks) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter));\n        if (!isNullOrUndefined(timelineTemplate)) {\n            var args = {\n                date: date,\n                tier: tier,\n                value: value\n            };\n            template = timelineTemplate(extend({}, args), this.parent, 'TimelineTemplate', this.parent.chartRowsModule.getTemplateID('TimelineTemplate'), false, undefined, null, this.parent['root']);\n        }\n        var className = this.parent.timelineModule.isSingleTier ? cls.timelineSingleHeaderCell : cls.timelineTopHeaderCell;\n        var weekendClass = isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        var th = createElement('th', {\n            className: \"\" + className + weekendClass,\n            styles: \"width:\" + thWidth + \"px;\" + (isWeekendCell && this.customTimelineSettings.weekendBackground ? 'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '')\n        });\n        th.tabIndex = -1;\n        th.setAttribute('aria-label', this.parent.localeObj.getConstant('timelineCell') + \" \" + date);\n        var div = createElement('div', {\n            className: \"\" + cls.timelineHeaderCellLabel + textClassName,\n            styles: \"width:\" + (thWidth - 1) + \"px;\"\n        });\n        div.title = this.parent.timelineSettings.showTooltip ? date : '';\n        div.textContent = value;\n        if (this.parent.isReact && !isNullOrUndefined(template) && template.length > 0) {\n            template[0]['style'].width = '100%';\n            template[0]['style'].height = '100%';\n        }\n        if (!isNullOrUndefined(timelineTemplate) && !isNullOrUndefined(template) && template.length > 0) {\n            append(template, th);\n        }\n        else {\n            th.append(div);\n        }\n        /* eslint-disable-next-line */\n        parentTr += th.outerHTML;\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = thWidth;\n        return th;\n    };\n    /**\n     * To calculate last 'th' width.\n     *\n     * @param {string} mode .\n     * @param {Date} scheduleWeeks .\n     * @param {Date} endDate .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate) {\n        var sDate = new Date(scheduleWeeks.getTime());\n        var eDate = new Date(endDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var timeDifference = (eDate.getTime() - sDate.getTime());\n        var balanceDay = (timeDifference / (1000 * 60 * 60 * 24));\n        return balanceDay * this.parent.perDayWidth;\n    };\n    /**\n     * To calculate timeline width.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        if (this.bottomTier === 'None') {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n        }\n        else {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     *\n     * @param {number} timelineUnitSize .\n     * @param {number} bottomTierCount .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = !isNullOrUndefined(this.customTimelineSettings.weekStartDay) ?\n                    this.parent.timelineModule.customTimelineSettings.weekStartDay : 0;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} mode .\n     * @param {string} span .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {IGanttData[]} tempArray .\n     * @param {string} action .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        if (tempArray[0].length >= 1) {\n            for (var i = 0; i < tempArray.length; i++) {\n                var temp = tempArray[parseInt(i.toString(), 10)];\n                var filteredStartDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n                var filteredEndDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n                var minStartDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n                var minEndDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var maxEndDate = filteredEndDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n                var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n                var maxStartLeft = isNullOrUndefined(minStartDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n                var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n                var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n                var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n                var isChanged = void 0;\n                var taskbarModule = this.parent.editModule.taskbarEditModule;\n                var startDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')).setHours(0, 0, 0, 0) : null;\n                var timelineStartDate = new Date(this.timelineStartDate.getTime()).setHours(0, 0, 0, 0);\n                if (!isNullOrUndefined(maxStartLeft) && (((((!isNullOrUndefined(taskbarModule)) && ((taskbarModule.taskBarEditAction && taskbarModule.taskBarEditAction !== 'RightResizing') || isNullOrUndefined(taskbarModule.taskBarEditAction)))) &&\n                    (startDate <= timelineStartDate))) && (maxStartLeft < this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n                    isChanged = 'prevTimeSpan';\n                    minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n                }\n                else {\n                    minStartDate = this.timelineStartDate;\n                }\n                if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= ((this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth) - this.bottomTierCellWidth) &&\n                    maxEndLeft > validEndLeft)) {\n                    isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n                    maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n                }\n                else {\n                    maxEndDate = this.timelineEndDate;\n                }\n                if (isChanged) {\n                    this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n                }\n                else if (!isNullOrUndefined(temp[0].ganttProperties.segments)) {\n                    this.parent.dataOperation.updateWidthLeft(temp[0]);\n                }\n                if (!isNullOrUndefined(minStartDate) && !isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks) {\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), minEndDate.getTime()));\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), this.timelineStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                else if (isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks && tempArray[0].length === 1 &&\n                    !isNullOrUndefined(tempArray[0][0].ganttProperties.endDate) && (isNullOrUndefined(temp[0].ganttProperties.startDate) &&\n                    temp[0].ganttProperties.endDate <= this.timelineStartDate)) {\n                    minStartDate = new Date(Math.min(tempArray[0][0].ganttProperties.endDate.getTime(), minStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     *\n     * @param {string} type .\n     * @param {string} isFrom .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} mode .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.restrictRender = true;\n            this.performedTimeSpanAction = true;\n            var previousScrollLeft = this.parent.ganttChartModule.scrollElement.scrollLeft;\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'TaskbarEditing') {\n                var currentScrollLeft = document.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n                this.parent.element.querySelector('.e-timeline-header-container').scrollLeft = currentScrollLeft;\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            if (isFrom === 'TaskbarEditing' && this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3 || (isNullOrUndefined(this.parent.projectStartDate) && isNullOrUndefined(this.parent.projectEndDate)))) {\n                this.parent.ganttChartModule.scrollObject.setScrollLeft(previousScrollLeft);\n                this.parent.ganttChartModule.scrollObject.updateContent();\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} eventType .\n     * @param {string} requestType .\n     * @param {string} isFrom .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default, all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default, all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default, all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default, all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default, all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject, remove, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { setValue } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\nimport { isCountRequired } from './utils';\nimport { AutoComplete } from '@syncfusion/ej2-dropdowns';\n/** @hidden */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.isPersist = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n            document.querySelector('.e-colmenu').addEventListener('mousemove', function () {\n                var filPopOptions = document.querySelector('.e-filter-popup');\n                var filOptions = document.querySelector('.e-filter-item');\n                if (!isNullOrUndefined(filPopOptions)) {\n                    if (!filOptions.classList.contains('e-focused')) {\n                        remove(_this.parent.filterModule.filterMenuElement);\n                    }\n                }\n            });\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.objectEqualityChecker = function (old, current) {\n            if (old) {\n                var keys = Object.keys(old);\n                var isEqual = true;\n                var excludeKeys = ['Children', 'childRecords', 'taskData', 'uniqueID', 'parentItem', 'parentUniqueID', 'ganttProperties'];\n                for (var i = 0; i < keys.length; i++) {\n                    var oldKey = old[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(old[keys[parseInt(i.toString(), 10)]]).getTime() : old[keys[parseInt(i.toString(), 10)]];\n                    var currentKey = current[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(current[keys[parseInt(i.toString(), 10)]]).getTime() : current[keys[parseInt(i.toString(), 10)]];\n                    if (oldKey !== currentKey && excludeKeys.indexOf(keys[i]) === -1) {\n                        _this.parent.modifiedRecords.push(current);\n                        isEqual = false;\n                        break;\n                    }\n                }\n                return isEqual;\n            }\n            else {\n                return false;\n            }\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.parent.treeGrid['${enableHtmlSanitizer}'] = this.parent.enableHtmlSanitizer;\n        this.parent.treeGrid.enableImmutableMode = this.parent.enableImmutableMode;\n        this.treeGridColumns = [];\n        if (!this.parent.isLocaleChanged && this.parent.isLoad) {\n            this.parent.previousGanttColumns = extend([], [], this.parent.columns, true);\n        }\n        this.validateGanttColumns();\n        if (this.parent.isLocaleChanged) {\n            this.parent.isLocaleChanged = false;\n        }\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n        this.parent.treeGrid.on('renderReactTemplate', this.renderReactTemplate, this);\n    };\n    GanttTreeGrid.prototype.renderReactTemplate = function (args) {\n        var portals = 'portals';\n        for (var _i = 0, args_1 = args; _i < args_1.length; _i++) {\n            var portal = args_1[_i];\n            if (this.parent[portals].indexOf(portal) === -1) {\n                this.parent[portals].push(portal);\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid'\n            //  styles: 'height:' + height + 'px;'\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        var root = 'root';\n        this.parent.treeGrid[root] = this.parent[root] ? this.parent[root] : this.parent;\n        setValue('registeredTemplate', this.registeredTemplate, this.parent.treeGrid);\n        var ref = 'viewContainerRef';\n        setValue('viewContainerRef', this.parent[\"\" + ref], this.parent.treeGrid);\n        this.parent.treeGrid.appendTo(this.treeGridElement);\n        if (this.parent.treeGrid.grid && this.parent.toolbarModule && this.parent.isReact) {\n            this.parent.treeGrid.grid.portals = this.parent.portals;\n        }\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        this.parent.treeGrid.hasChildMapping = this.parent.taskFields.hasChildMapping;\n        this.parent.treeGrid.query = this.parent.query;\n        this.parent.treeGrid.loadChildOnDemand = this.parent.loadChildOnDemand;\n        this.parent.treeGrid['isFromGantt'] = true;\n        this.parent.treeGrid.parentIdMapping = this.parent.taskFields.parentID;\n        if (this.parent.taskFields.parentID) {\n            this.parent.treeGrid.idMapping = this.parent.taskFields.id;\n        }\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.enableCollapseAll = this.parent.collapseAllParentTasks;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.enableRtl = this.parent.enableRtl;\n        this.parent.treeGrid.childMapping = isNullOrUndefined(this.parent.taskFields.child) ? '' : this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        this.parent.treeGrid.loadingIndicator = this.parent.loadingIndicator;\n        this.parent.treeGrid.enableVirtualMaskRow = this.parent.enableVirtualMaskRow;\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n            // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n            this.parent.treeGrid.hasChildMapping = 'isParent';\n            var count = getValue('count', this.parent.dataSource);\n            this.parent.treeGrid.dataSource = { result: this.parent.flatData, count: count };\n        }\n        else {\n            if (this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                this.parent.treeGrid.dataSource = this.parent.dataSource;\n            }\n            else {\n                this.parent.treeGrid.hasChildMapping = null;\n                this.parent.treeGrid.dataSource = this.parent.flatData;\n            }\n        }\n        this.parent.treeGrid.expandStateMapping = this.parent.taskFields.expandState;\n        var isGantt = 'isGantt';\n        this.parent.treeGrid[isGantt] = true;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        if (this.parent.searchSettings.fields.length !== 0 || this.parent.searchSettings.key !== '') {\n            this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        }\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        this.parent.treeGrid.height =\n            this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['offsetHeight'] - (this.parent.flatData.length === 0 ? 0 : 19);\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        // For Firefox scrollWidth value return 0, causes the grid side column misalign- Task(888356)\n        if (scrollWidth !== 0 || navigator.userAgent.includes('Firefox')) {\n            content.style.cssText += 'width: calc(100% + ' + (scrollWidth + 1) + 'px);'; //actual scrollbar width 17 px but here scrollbar width set to 16px hence adding increment of 1\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n        this.parent.treeGrid.beforeDataBound = this.beforeDataBound.bind(this);\n        this.parent.treeGrid.dataStateChange = this.dataStateChange.bind(this);\n    };\n    GanttTreeGrid.prototype.beforeDataBound = function (args) {\n        if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n            this.parent.selectionSettings.persistSelection && this.parent.selectionModule.getSelectedRowIndexes().length > 0 &&\n            args['actionArgs']['requestType'] === 'sorting') {\n            this.isPersist = true;\n        }\n        this.parent.updatedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : getValue('result', args);\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.updateContentHeight(args);\n        }\n        setValue('contentModule.objectEqualityChecker', this.objectEqualityChecker, this.parent.treeGrid.grid);\n    };\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n        if (this.parent.isVirtualScroll) {\n            if ((this.parent.enableVirtualMaskRow && this.parent.enableVirtualization) ||\n                (this.parent.enableVirtualization && !this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Shimmer') ||\n                (this.parent.loadingIndicator.indicatorType === 'Shimmer')) {\n                this.parent.hideMaskRow();\n            }\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n            }\n            this.parent.isVirtualScroll = false;\n            if (!isNullOrUndefined(this.parent.selectionModule) && !isNullOrUndefined(this.parent.toolbarModule)) {\n                this.parent.toolbarModule.refreshToolbarItems();\n            }\n        }\n        this.prevCurrentView = extend([], [], this.parent.currentViewData, true);\n    };\n    GanttTreeGrid.prototype.dataStateChange = function (args) {\n        if (args.action && args.action.requestType === 'refresh') {\n            this.parent.treeGrid.dataSource = {\n                result: getValue('result', this.parent.treeGrid.dataSource),\n                count: getValue('count', this.parent.treeGrid.dataSource)\n            };\n        }\n        this.parent.trigger('dataStateChange', args);\n    };\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        // Collapsing event\n        var collapsingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                }\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n            else {\n                collapsingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.expanding = function (args) {\n        // Expanding event\n        var expandingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                }\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n            else {\n                expandingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var collapsedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n                }\n            }\n            else {\n                collapsedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n            }\n            if (!this.parent.ganttChartModule.isCollapseAll && collapsedArgs['gridRow'] && !this.parent.allowTaskbarOverlap) {\n                collapsedArgs['gridRow'].style.height = collapsedArgs['chartRow'].style.height;\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.trigger('collapsed', args);\n    };\n    GanttTreeGrid.prototype.expanded = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var expandedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n                }\n            }\n            else {\n                expandedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n            }\n            if (!this.parent.ganttChartModule.isExpandAll && args['row'] && !this.parent.allowTaskbarOverlap) {\n                args['row'].style.height = this.parent.rowHeight + 'px';\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.isCollapseAll = false;\n        this.parent.trigger('expanded', args);\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        if (this.parent.undoRedoModule && (args.requestType === 'filtering' || args.requestType === 'searching' || args.requestType === 'sorting' || args.requestType === 'filterAfterOpen')) {\n            this.parent.undoRedoModule['canUpdateIndex'] = false;\n        }\n        this.parent.notify('actionBegin', args);\n        var flag = getValue('doubleClickTarget', this.parent.treeGrid.editModule);\n        if (flag !== null) {\n            setValue('doubleClickTarget', null, this.parent.treeGrid.editModule);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (args.requestType !== 'virtualscroll' && args.type !== 'edit' && args.requestType !== 'beginEdit' && !args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args, currentRecord) {\n        var chartRow;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!isNullOrUndefined(recordLength)) {\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(currentRecord)];\n            var eventArgs = { data: currentRecord, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n        else {\n            var recordOne = getValue('data', args);\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(recordOne)];\n            var eventArgs = { data: recordOne, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n    };\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        var _this = this;\n        var updatedArgs = extend({}, args);\n        if (getValue('requestType', args) === 'reorder') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnReorder')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = {};\n                record['action'] = 'ColumnReorder';\n                record['fromIndex'] = extend([], [], [args['fromIndex']], true)[0];\n                record['toIndex'] = extend([], [], [args['toIndex']], true)[0];\n                record['toColumn'] = extend([], [], [this.parent.treeGrid.columns[args['toIndex']]['field']], true)[0];\n                record['fromColumn'] = extend([], [], [this.parent.treeGrid.columns[args['fromIndex']]['field']], true)[0];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'columnstate') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnState')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'ColumnState' };\n                record['showhideColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'sorting') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Sorting')) {\n                if (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['currentAction']['sortColumns'].length > 1) {\n                    this.parent.undoRedoModule['sortedColumnsLength']++;\n                }\n                if ((!this.parent.undoRedoModule['currentAction'] || (this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['sortedColumnsLength'] !== this.parent.undoRedoModule['currentAction']['sortColumns'].length)) && !this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { action: 'Sorting' };\n                    record['sortColumns'] = [];\n                    record['sortColumns'] = this.parent.undoRedoModule['previousSortedColumns'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['previousSortedColumns'] = this.parent.treeGrid.sortSettings.columns;\n            }\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('Filtering')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'Filtering' };\n                record['filteredColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            this.parent.notify('updateModel', {});\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        else if (getValue('type', args) === 'save') {\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                var data = getValue('data', args);\n                if (!isNullOrUndefined(data) && !isNullOrUndefined(this.parent.getTaskByUniqueID(data.uniqueID))) {\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.duration] = data.taskData[this.parent.taskFields.duration];\n                    if (!isNullOrUndefined(data.taskData[this.parent.taskFields.resourceInfo])) {\n                        /* eslint-disable-next-line */\n                        this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                    }\n                }\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterAfterOpen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Search')) {\n                if (!this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { 'action': 'Search' };\n                    record['searchString'] = this.parent.undoRedoModule['searchString'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['searchString'] = this.parent.treeGrid.searchSettings.key;\n            }\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(getValue('batchChanges', args))) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        if (getValue('requestType', args) === 'refresh' && isNullOrUndefined(getValue('type', args)) && this.parent.addDeleteRecord) {\n            if (this.parent.selectedRowIndex !== -1) {\n                if (!isNullOrUndefined(this.parent.selectionModule) &&\n                    this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection &&\n                    this.parent.editModule.isAdded) {\n                    var selectedIndexes = this.parent.selectionModule.selectedRowIndexes;\n                    if (selectedIndexes.length > 1 && this.parent.selectionSettings.persistSelection) {\n                        for (var i = 0; i < selectedIndexes.length; i++) {\n                            var records = this.parent.flatData[selectedIndexes[i].toString()];\n                            this.parent.selectRows(records);\n                        }\n                    }\n                }\n                else {\n                    this.parent.selectRow(this.parent.selectedRowIndex);\n                    if (this.parent.selectedRowIndex > this.parent.currentViewData.length - 1) {\n                        this.parent.selectedRowIndex = -1;\n                    }\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection\n                    && this.parent.editModule && !this.parent.editModule.isAdded) {\n                    var selectedRecords = this.parent.selectionModule.getSelectedRecords();\n                    var _loop_1 = function (i) {\n                        var selectedTaskId = selectedRecords[i][this_1.parent.taskFields.id];\n                        var existIndeletedRecords = this_1.parent.editModule.deletedRecord.some(function (item) {\n                            return item.ganttProperties.taskId === selectedTaskId;\n                        });\n                        if (existIndeletedRecords) {\n                            selectedRecords.splice(i, 1);\n                        }\n                    };\n                    var this_1 = this;\n                    for (var i = selectedRecords.length - 1; i >= 0; i--) {\n                        _loop_1(i);\n                    }\n                }\n                var indexvalue_1 = 0;\n                var dataCollection = this.parent.enableVirtualization ? this.parent.flatData : this.parent.currentViewData;\n                // To maintain 1st record selection, while deleting the last parent record at Virtual mode\n                dataCollection.map(function (data, index) {\n                    if (!isNullOrUndefined(_this.parent.currentSelection)\n                        && (data['ganttProperties'].taskId === _this.parent.currentSelection[_this.parent.taskFields.id])) {\n                        indexvalue_1 = index;\n                    }\n                });\n                this.addedRecord = true;\n                this.parent.selectRow((isNullOrUndefined(indexvalue_1) ? 0 : indexvalue_1));\n            }\n            if (!this.parent['isExpandPerformed']) {\n                this.parent.addDeleteRecord = false;\n            }\n            this.parent['isExpandPerformed'] = false;\n        }\n        if (this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['isFromUndoRedo'] = false;\n        }\n        this.parent.trigger('actionComplete', updatedArgs);\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.currentViewData[i].hasChildRecords && !this.parent.currentViewData[i].expanded) {\n                    this.parent.chartRowsModule.updateDragDropRecords(this.parent.currentViewData[i]);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual', 'type', 'milestone', 'segments'];\n        var _loop_2 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    return column.field === tasks[name];\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_2.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_2.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                this_2.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                var index = tasksMapping.indexOf(columnName[0]);\n                tasksMapping.splice(index, 1);\n                this_2.createTreeGridColumn(column, true);\n                this_2.parent.columnMapping[columnName[0]] = column.field;\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_2(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param {GanttColumnModel} column .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        column.disableHtmlEncode = !isNullOrUndefined(column.disableHtmlEncode) ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('name');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.endDate === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            column.valueAccessor = column.valueAccessor ?\n                column.valueAccessor : !isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.read) ? null :\n                this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.dependencyValueAccessor.bind(this);\n            if (isNullOrUndefined(column.filter) && this.parent.locale !== 'en-US') {\n                column.filter = {\n                    'ui': {\n                        create: function (args) {\n                            var flValInput = createElement('input', { className: 'flm-input' });\n                            args.target.appendChild(flValInput);\n                            _this.dropInstance = new AutoComplete({\n                                dataSource: _this.changeLocale(_this.parent.treeGrid.grid.dataSource),\n                                fields: { text: _this.parent.taskFields.dependency, value: _this.parent.taskFields.dependency },\n                                placeholder: _this.parent.localeObj.getConstant('enterValue'),\n                                popupHeight: '200px'\n                            });\n                            _this.dropInstance.appendTo(flValInput);\n                        },\n                        write: function (args) {\n                            _this.dropInstance.value = args.filteredValue;\n                        },\n                        read: function (args) {\n                            args.fltrObj.filterByColumn(args.column.field, args.operator, _this.changeDelocale((_this.dropInstance.value)));\n                        }\n                    }\n                };\n            }\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    var contentTemp = function () {\n                        return \"<div class=\\\"e-ganttnotes-info\\\">\\n                            <span class=\\\"e-icons e-notes-info\\\"></span>\\n                        </div>\";\n                    };\n                    column.template = initializeCSPTemplate(contentTemp);\n                }\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field ||\n            taskSettings.baselineEndDate === column.field) {\n            var colName = (taskSettings.baselineEndDate === column.field) ? 'baselineEndDate' :\n                'baselineStartDate';\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('work');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            }\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (taskSettings.type === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                }\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    GanttTreeGrid.prototype.changeLocale = function (data) {\n        var _this = this;\n        var filter = [];\n        var flatdatas = data.map(function (task) { return task.ganttProperties.predecessorsName; });\n        flatdatas.map(function (predecessorsName) {\n            if (!isNullOrUndefined(predecessorsName)) {\n                var value_1 = '';\n                var splitString_1 = predecessorsName.split(',');\n                splitString_1.map(function (splitvalue, index) {\n                    if (splitvalue.includes('FS')) {\n                        value_1 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('FF')) {\n                        value_1 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SS')) {\n                        value_1 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SF')) {\n                        value_1 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                });\n                filter.push(value_1);\n            }\n        });\n        return filter;\n    };\n    GanttTreeGrid.prototype.changeDelocale = function (dependency) {\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        if (!isNullOrUndefined(dependency)) {\n            var splitString_2 = dependency.split(',');\n            var value_2 = '';\n            splitString_2.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value_2 += splitvalue.replace(FF, 'FF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value_2 += splitvalue.replace(FS, 'FS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value_2 += splitvalue.replace(SS, 'SS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value_2 += splitvalue.replace(SF, 'SF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value_2 += splitvalue;\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_2;\n        }\n        return null;\n    };\n    /**\n     * Compose Resource columns\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (previousColumn && this.parent.isLocaleChanged) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {object} .\n     * @private\n     */\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        var isProjectView = this.parent.viewType === 'ProjectView';\n        var lengthDataSource = this.parent.dataSource ? this.parent.dataSource['length'] : 0;\n        var taskIDName;\n        column.isPrimaryKey = isProjectView ? true : false;\n        if (this.parent.isLocaleChanged) {\n            var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n                return column.field === prevcolumn.field;\n            })[0];\n            if (previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('id');\n            }\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        }\n        column.width = column.width ? column.width : 100;\n        for (var i = 0; i < lengthDataSource; i++) {\n            if (!isNullOrUndefined(this.parent.dataSource[i][this.parent.taskFields.id])) {\n                taskIDName = this.parent.dataSource[i][this.parent.taskFields.id];\n                break;\n            }\n        }\n        if (typeof (taskIDName) === 'string' || isNullOrUndefined(taskIDName)) {\n            if (this.parent.viewType === 'ResourceView') {\n                column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            }\n            else {\n                column.allowEditing = column.allowEditing ? column.allowEditing : true;\n            }\n            column.editType = column.editType ? column.editType : 'stringedit';\n        }\n        else {\n            column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        column.valueAccessor = isProjectView ? null : this.idValueAccessor.bind(this);\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     * @param {GanttColumnModel} newGanttColumn .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        if (!isNullOrUndefined(data) && !isNullOrUndefined(data.ganttProperties)) {\n            var ganttProp = data.ganttProperties;\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        else if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            return this.parent.dataOperation.getDurationString(parseInt(data[this.parent.taskFields.duration], 10), this.parent.durationUnit);\n        }\n        return '';\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.dependencyValueAccessor = function (field, data, column) {\n        var _this = this;\n        if (data && data.ganttProperties && !isNullOrUndefined(data.ganttProperties.predecessorsName)) {\n            var value_3 = '';\n            var predecessorsName = data.ganttProperties.predecessorsName;\n            var splitString_3 = predecessorsName.split(',');\n            splitString_3.map(function (splitvalue, index) {\n                if (splitvalue.includes('FS')) {\n                    value_3 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('FF')) {\n                    value_3 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SS')) {\n                    value_3 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SF')) {\n                    value_3 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_3;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        var newScrollTop = getValue('top', args);\n        this.treeGridElement.querySelector('.e-content').scrollTop = newScrollTop;\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n        this.parent.treeGrid.off('reactTemplateRender', this.renderReactTemplate);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the working time of the day in the project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], AddDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], EditDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"hasChildMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segments\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segmentId\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the mapping properties to extract resource details from the resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Configures the Loading Indicator of the Gantt.\n */\nvar LoadingIndicator = /** @class */ (function (_super) {\n    __extends(LoadingIndicator, _super);\n    function LoadingIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Spinner')\n    ], LoadingIndicator.prototype, \"indicatorType\", void 0);\n    return LoadingIndicator;\n}(ChildProperty));\nexport { LoadingIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { DayWorkingTime } from '../models/day-working-time';\n/**\n * Defines the working time of the day in the project.\n */\nvar WeekWorkingTime = /** @class */ (function (_super) {\n    __extends(WeekWorkingTime, _super);\n    function WeekWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], WeekWorkingTime.prototype, \"dayOfWeek\", void 0);\n    __decorate([\n        Collection([], DayWorkingTime)\n    ], WeekWorkingTime.prototype, \"timeRange\", void 0);\n    return WeekWorkingTime;\n}(ChildProperty));\nexport { WeekWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, isNullOrUndefined, extend, compile, getValue, setValue, SanitizeHtmlHelper, append } from '@syncfusion/ej2-base';\nimport { formatUnit, addClass } from '@syncfusion/ej2-base';\nimport { isScheduledTask, getTaskData } from '../base/utils';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constants';\nimport { DateProcessor } from '../base/date-processor';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function (_super) {\n    __extends(ChartRows, _super);\n    function ChartRows(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.taskBarHeight = 0;\n        _this.milestoneHeight = 0;\n        _this.milesStoneRadius = 0;\n        _this.baselineTop = 0;\n        _this.baselineHeight = 8;\n        _this.touchLeftConnectorpoint = '';\n        _this.touchRightConnectorpoint = '';\n        _this.dropSplit = false;\n        _this.refreshedTr = [];\n        _this.refreshedData = [];\n        _this.isUpdated = true;\n        _this.taskBaselineTemplateNode = null;\n        /**\n         * To trigger the touchmove.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchMove = function (event) {\n            _this.parent.ganttChartModule['ganttChartMove'](event);\n        };\n        /**\n         * To trigger the touchend.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchEnd = function (event) {\n            _this.parent.ganttChartModule['documentMouseUp'](event);\n        };\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        var prevDate = getValue('prevProjectStartDate', this.parent.dataOperation);\n        var isUpdated = false;\n        if (prevDate) {\n            isUpdated = prevDate.getTime() === this.parent.cloneProjectStartDate.getTime();\n        }\n        this.isUpdated = this.parent.isFromOnPropertyChange && isUpdated &&\n            getValue('mutableData', this.parent.treeGrid.grid.contentModule) ? true : false;\n        this.refreshGanttRows();\n        this.isUpdated = true;\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'position: absolute;width:' + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {IIndicator} indicator .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\" style=\"display: inline-flex; align-items: center; margin-top: 0; line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            (this.parent.enableRtl ? 'right:' : 'left:') + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\" style=\"margin-right: 3px;\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {Date | string} date .\n     * @returns {number} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     *\n     *  @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i, rootElement) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        var direction;\n        if (this.parent.enableRtl) {\n            direction = 'right:';\n        }\n        else {\n            direction = 'left:';\n        }\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var taskLabel = '';\n            var taskbarInnerDiv = void 0;\n            var progressDiv = void 0;\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) {\n                taskbarInnerDiv = this.createDivElement('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar +\n                    ' ' + (data.ganttProperties.isAutoSchedule ? '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                    (this.taskBarHeight) + 'px; margin-top :-1px\"></div>');\n                progressDiv = this.createDivElement('<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                    cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildProgressBar) + '\"' +\n                    ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                    'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                    'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                    'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                    '</div>');\n            }\n            var tempDiv = createElement('div');\n            if (this.taskLabelTemplateFunction && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressDiv[0]);\n                if (taskLabelTemplateNode && taskLabelTemplateNode.length > 0) {\n                    append(taskLabelTemplateNode, tempDiv);\n                    labelString = tempDiv.innerHTML;\n                }\n            }\n            else {\n                var field = this.parent.labelSettings.taskLabel;\n                labelString = this.getTaskLabel(field);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? ('text-align:' +\n                        (this.parent.enableRtl ? 'right;' : 'left;')) : '') +\n                        +(this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        +(this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n            }\n            var template = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ?\n                this.splitTaskbar(data, labelString) : (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? (taskLabel) :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"' + direction + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0) {\n                var progress = this.getSplitProgressResizerNode();\n                template = template + progress;\n            }\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration &&\n                (isNullOrUndefined(data.ganttProperties.segments) || (!isNullOrUndefined(data.ganttProperties.segments) &&\n                    data.ganttProperties.segments.length === 0))) {\n                if (template !== '' && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                    /* eslint-disable-next-line */\n                    var templateElement = this.createDivElement(template)[0];\n                    if (this.parent.disableHtmlEncode) {\n                        templateElement.innerText = labelString;\n                    }\n                    else {\n                        templateElement.innerHTML = labelString;\n                    }\n                    var childLabel = this.parent.labelSettings.taskLabel;\n                    if (childLabel && childLabel['elementRef']) {\n                        templateElement.appendChild(tempDiv);\n                    }\n                    progressDiv[0].appendChild(templateElement);\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                        !this.isTemplate(childLabel) &&\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                    }\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                        childLabel && !childLabel['elementRef'] && tempDiv.innerHTML !== '') {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].textContent = childLabel;\n                    }\n                }\n                if (!isNullOrUndefined(taskbarInnerDiv) && taskbarInnerDiv.length > 0) {\n                    taskbarInnerDiv[0].appendChild([].slice.call(progressDiv)[0]);\n                }\n                childTaskbarNode = taskbarInnerDiv;\n            }\n            else {\n                childTaskbarNode = this.createDivElement(template);\n            }\n        }\n        if (this.parent.enableRtl && !isNullOrUndefined(childTaskbarNode) && childTaskbarNode[0] && childTaskbarNode[0].querySelector('.e-task-label')) {\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (childTaskbarNode[0].querySelector('.e-gantt-child-progressbar')) {\n                childTaskbarNode[0].querySelector('.e-gantt-child-progressbar').style.textAlign = 'left';\n            }\n        }\n        return childTaskbarNode;\n    };\n    ChartRows.prototype.splitTaskbar = function (data, labelString) {\n        var splitTasks = '';\n        for (var i = 0; i < data.ganttProperties.segments.length; i++) {\n            var segment = data.ganttProperties.segments[i];\n            var progressBarVisible = void 0;\n            if (!segment.showProgress) {\n                progressBarVisible = 'hidden';\n            }\n            else {\n                progressBarVisible = 'initial';\n            }\n            var segmentPosition = (i === 0) ? 'e-segment-first' : (i === data.ganttProperties.segments.length - 1)\n                ? 'e-segment-last' : 'e-segment-inprogress';\n            splitTasks += (\n            //split taskbar\n            '<div class=\"' + cls.childTaskBarInnerDiv + ' ' + segmentPosition + ' ' + cls.traceChildTaskBar + ' ' +\n                ' e-segmented-taskbar' +\n                '\"style=\"width:' + segment.width + 'px;position: absolute;' + (this.parent.enableRtl ? 'right:' : 'left:') + segment.left + 'px;height:' +\n                (this.taskBarHeight) + 'px; overflow:' + progressBarVisible + ';\" data-segment-index = \"' + i + '\" aria-label = \"' +\n                this.generateSpiltTaskAriaLabel(segment, data.ganttProperties) + '\"> ' +\n                this.getSplitTaskbarLeftResizerNode() +\n                //split progress bar\n                '<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildProgressBar + ' ' +\n                '\" style=\"border-style:' + (segment.progressWidth ? 'solid;' : 'none;') +\n                'display:' + (segment.progressWidth >= 0 ? 'block;' : 'none;') +\n                'width:' + segment.progressWidth + 'px;height:100%;' + 'text-align:' + (this.parent.enableRtl ? 'left;' : 'right;') +\n                'border-top-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;' +\n                'border-bottom-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;\">' +\n                // progress label\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;display:' + (segment.showProgress ? 'inline;' : 'none;') +\n                'height:' + this.taskBarHeight + 'px;\">' + labelString + '</span>' +\n                '</div>' +\n                this.getSplitTaskbarRightResizerNode(segment) +\n                '</div></div>');\n        }\n        return splitTasks;\n    };\n    ChartRows.prototype.getSplitTaskbarLeftResizerNode = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitTaskbarRightResizerNode = function (segment) {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (segment.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitProgressResizerNode = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return template;\n    };\n    ChartRows.prototype.getSegmentIndex = function (splitStartDate, record) {\n        var segmentIndex = -1;\n        var ganttProp = record.ganttProperties;\n        var segments = ganttProp.segments;\n        if (!isNullOrUndefined(segments)) {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n            var length_1 = segments.length;\n            for (var i = 0; i < length_1; i++) {\n                var segment = segments[i];\n                // To find if user tend to split the start date of a main taskbar\n                // purpose of this to restrict the split action\n                if (splitStartDate.getTime() === ganttProp.startDate.getTime()) {\n                    this.dropSplit = true;\n                    segmentIndex = 0;\n                    // To find the if user tend to split the first date of already segmented task.\n                    // purpose of this to move on day of a segment\n                }\n                else if (splitStartDate.getTime() === segment.startDate.getTime()) {\n                    this.dropSplit = true;\n                    var sDate = segment.startDate;\n                    sDate.setDate(sDate.getDate() + 1);\n                    sDate = segment.startDate = this.parent.dataOperation.checkStartDate(sDate, ganttProp, false);\n                    segment.startDate = sDate;\n                    var eDate = segment.endDate;\n                    eDate = this.parent.dataOperation.getEndDate(sDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    segment.endDate = eDate;\n                    if (i === segments.length - 1) {\n                        this.parent.setRecordValue('endDate', eDate, ganttProp, true);\n                    }\n                    this.incrementSegments(segments, i, record);\n                    segmentIndex = segment.segmentIndex;\n                    // To find if the user tend to split the segment and find the segment index\n                }\n                else {\n                    segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    if (splitStartDate.getTime() >= segment.startDate.getTime() && splitStartDate.getTime() <= segment.endDate.getTime()) {\n                        segmentIndex = segment.segmentIndex;\n                    }\n                }\n                this.parent.setRecordValue('segments', ganttProp.segments, ganttProp, true);\n            }\n        }\n        if (segmentIndex === -1) {\n            this.dropSplit = true;\n        }\n        return segmentIndex;\n    };\n    ChartRows.prototype.mergeTask = function (taskId, segmentIndexes) {\n        var mergeArrayLength = segmentIndexes.length;\n        var taskFields = this.parent.taskFields;\n        var mergeData = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                if (this.parent.editModule && this.parent.editModule.taskbarEditModule['isDragged'] && this.parent.getUndoActions().length > 0) {\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var rec = this.parent.previousFlatData[mergeData.index];\n                details['modifiedRecords'] = extend([], [rec], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var segments = mergeData.ganttProperties.segments;\n        segmentIndexes = segmentIndexes.sort(function (a, b) {\n            return b.firstSegmentIndex - a.firstSegmentIndex;\n        });\n        for (var arrayLength = 0; arrayLength < mergeArrayLength; arrayLength++) {\n            var firstSegment = segments[segmentIndexes[arrayLength].firstSegmentIndex];\n            var secondSegment = segments[segmentIndexes[arrayLength].secondSegmentIndex];\n            var duration = firstSegment.duration + secondSegment.duration;\n            var endDate = this.parent.dataOperation.getEndDate(firstSegment.startDate, duration, mergeData.ganttProperties.durationUnit, mergeData.ganttProperties, false);\n            var segment = {\n                startDate: firstSegment.startDate,\n                endDate: endDate,\n                duration: duration\n            };\n            var insertIndex = segmentIndexes[arrayLength].firstSegmentIndex;\n            segments.splice(insertIndex, 2, segment);\n            this.parent.setRecordValue('segments', segments, mergeData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            if (segments.length === 1) {\n                this.parent.setRecordValue('endDate', endDate, mergeData.ganttProperties, true);\n                this.parent.setRecordValue('EndDate', endDate, mergeData, true);\n                this.parent.setRecordValue('segments', null, mergeData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            }\n            else if (mergeData.ganttProperties.endDate !== segments[segments.length - 1].endDate) {\n                this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, mergeData.ganttProperties, true);\n            }\n        }\n        var segmentFields;\n        if (!isNullOrUndefined(mergeData[taskFields.segments]) && !isNullOrUndefined(mergeData[taskFields.segments][0])) {\n            segmentFields = Object.keys(mergeData[taskFields.segments][0]);\n        }\n        var modifiedSegments = [];\n        for (var i = 0; i < segments.length; i++) {\n            if (!isNullOrUndefined(segmentFields) && !modifiedSegments[i]) {\n                modifiedSegments[i] = {};\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('StartDate') !== -1) {\n                modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('EndDate') !== -1) {\n                modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('Duration') !== -1) {\n                modifiedSegments[i][taskFields.duration] = segments[i].duration;\n            }\n        }\n        mergeData[taskFields.segments] = modifiedSegments;\n        this.updateSegment(mergeData.ganttProperties.segments, taskId);\n        this.refreshChartAfterSegment(mergeData, 'mergeSegment');\n    };\n    ChartRows.prototype.updateSegment = function (segmentData, taskId) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.taskFields.segmentId) && this.parent.segmentData.length > 0) {\n            if (!isNullOrUndefined(segmentData)) {\n                var segmentsArray = [];\n                for (var i = 0; i < segmentData.length; i++) {\n                    var segmentObj = {};\n                    var segment = segmentData[i];\n                    segmentObj[this.parent.taskFields.segmentId] = taskId;\n                    if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n                        segmentObj[this.parent.taskFields.startDate] = segment.startDate;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        segmentObj[this.parent.taskFields.duration] = segment.duration;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n                        segmentObj[this.parent.taskFields.endDate] = segment.endDate;\n                    }\n                    segmentsArray.push(segmentObj);\n                }\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                for (var i = 0; i < segmentsArray.length; i++) {\n                    filterData.push(segmentsArray[i]);\n                }\n                this.parent.segmentData = filterData;\n            }\n            else {\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                this.parent.segmentData = filterData;\n            }\n        }\n    };\n    ChartRows.prototype.refreshChartAfterSegment = function (data, requestType) {\n        this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(data, false), data.ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(data, 'segments');\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateParentItems(data);\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n            this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData);\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData);\n            if (data.parentItem && this.parent.getParentTask(data.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(data.parentItem);\n            }\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        else {\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        var tr = this.ganttChartTableBody.querySelectorAll('tr')[this.parent.currentViewData.indexOf(data)];\n        var args = {\n            requestType: requestType,\n            rowData: data,\n            modifiedRecords: this.parent.editedRecords,\n            modifiedTaskData: getTaskData(this.parent.editedRecords, true)\n        };\n        this.triggerQueryTaskbarInfoByIndex(tr, data);\n        if (this.parent.selectionModule) {\n            this.parent.selectionModule.clearSelection();\n        }\n        var segments = args.rowData.taskData[this.parent.taskFields.segments];\n        if (this.parent.timezone && segments != null) {\n            for (var i = 0; i < segments.length; i++) {\n                segments[i][this.parent.taskFields.startDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].startDate, this.parent.timezone);\n                if (this.parent.taskFields.endDate) {\n                    segments[i][this.parent.taskFields.endDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].endDate, this.parent.timezone);\n                }\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        setValue('isEdit', false, this.parent.contextMenuModule);\n        setValue('isEdit', false, this.parent);\n    };\n    /**\n     * public method to split task bar.\n     *\n     * @public\n     */\n    ChartRows.prototype.splitTask = function (taskId, splitDates) {\n        var taskFields = this.parent.taskFields;\n        var splitDate = splitDates;\n        var splitRecord = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                details['modifiedRecords'] = extend([], [splitRecord], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var ganttProp = splitRecord.ganttProperties;\n        this.dropSplit = false;\n        var segmentIndex = -1;\n        var segments = ganttProp.segments;\n        if (isNullOrUndefined(splitDates.length) || splitDates.length < 0) {\n            var splitStartDate = this.parent.dataOperation.checkStartDate(splitDate, ganttProp, false);\n            if (splitStartDate.getTime() !== ganttProp.startDate.getTime()) {\n                if (ganttProp.isAutoSchedule) {\n                    if (!isNullOrUndefined(segments) && segments.length > 0) {\n                        segmentIndex = this.getSegmentIndex(splitStartDate, splitRecord);\n                    }\n                    //check atleast one day difference is there to split\n                    if (this.dropSplit === false && splitDate.getTime() > ganttProp.startDate.getTime() &&\n                        splitDate.getTime() < ganttProp.endDate.getTime()) {\n                        segments = segmentIndex !== -1 ? segments : [];\n                        var startDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].startDate : new Date(ganttProp.startDate.getTime());\n                        var endDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].endDate : new Date(ganttProp.endDate.getTime());\n                        var segmentDuration = this.parent.dataOperation.getDuration(startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                        this.parent.setRecordValue('segments', this.splitSegmentedTaskbar(startDate, endDate, splitDate, segmentIndex, segments, splitRecord, segmentDuration), ganttProp, true);\n                        var modifiedSegments = [];\n                        for (var i = 0; i < segments.length; i++) {\n                            if (!modifiedSegments[i]) {\n                                modifiedSegments[i] = {};\n                            }\n                            modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n                            modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n                            modifiedSegments[i][taskFields.duration] = segments[i].duration;\n                        }\n                        splitRecord[taskFields.segments] = modifiedSegments;\n                        if (segmentIndex !== -1) {\n                            this.incrementSegments(segments, segmentIndex + 1, splitRecord);\n                        }\n                        this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, ganttProp, true);\n                        if (this.parent.taskFields.endDate) {\n                            this.parent.dataOperation.updateMappingData(splitRecord, 'endDate');\n                        }\n                    }\n                    this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n                    this.refreshChartAfterSegment(splitRecord, 'splitTaskbar');\n                }\n            }\n        }\n        else {\n            splitDates.sort(function (a, b) {\n                return a.getTime() - b.getTime();\n            });\n            this.parent.setRecordValue('segments', this.constructSegments(splitDates, splitRecord.ganttProperties), splitRecord.ganttProperties, true);\n            this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n            this.refreshChartAfterSegment(splitRecord, 'splitTask');\n        }\n    };\n    ChartRows.prototype.constructSegments = function (dates, taskData) {\n        var segmentsArray = [];\n        var segment;\n        var startDate = new Date();\n        var endDate;\n        var duration;\n        for (var i = 0; i < dates.length + 1; i++) {\n            startDate = i === 0 ? taskData.startDate : startDate;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, taskData, false);\n            endDate = i !== dates.length ? new Date(dates[i].getTime()) > taskData.endDate ? taskData.endDate\n                : new Date(dates[i].getTime()) : taskData.endDate;\n            endDate = this.parent.dataOperation.checkEndDate(endDate, taskData, false);\n            duration = this.parent.dataOperation.getDuration(startDate, endDate, taskData.durationUnit, taskData.isAutoSchedule, taskData.isMilestone);\n            if (endDate.getTime() >= startDate.getTime()) {\n                segment = {\n                    startDate: startDate,\n                    endDate: endDate,\n                    duration: duration\n                };\n                segmentsArray.push(segment);\n            }\n            if (i === dates.length) {\n                break;\n            }\n            startDate = new Date(dates[i].getTime());\n            startDate.setDate(dates[i].getDate() + 1);\n        }\n        return segmentsArray;\n    };\n    ChartRows.prototype.splitSegmentedTaskbar = function (startDate, endDate, splitDate, segmentIndex, segments, ganttData, segmentDuration) {\n        var ganttProp = ganttData.ganttProperties;\n        var checkClickState;\n        var endDateState;\n        if (this.parent.includeWeekend) {\n            checkClickState = -1;\n        }\n        else {\n            checkClickState = this.parent.nonWorkingDayIndex.indexOf(splitDate.getDay());\n        }\n        var increment = checkClickState === -1 ? 0 : checkClickState === 0 ? 1 : checkClickState === 1 ? 1 : 2;\n        startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n        var segmentEndDate = new Date(splitDate.getTime());\n        segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n        for (var i = 0; i < 2; i++) {\n            if (this.parent.weekWorkingTime.length > 0) {\n                var dayEndTime = this.parent['getCurrentDayEndTime'](segmentEndDate);\n                this.setTime(dayEndTime, segmentEndDate);\n            }\n            var segment = {\n                startDate: startDate,\n                endDate: segmentEndDate,\n                duration: this.parent.dataOperation.getDuration(startDate, segmentEndDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone),\n                offsetDuration: 1\n            };\n            if (this.parent.includeWeekend) {\n                endDateState = -1;\n            }\n            else {\n                endDateState = this.parent.nonWorkingDayIndex.indexOf(segmentEndDate.getDay());\n            }\n            if (segmentIndex !== -1) {\n                segments.splice(segmentIndex, 1);\n                segmentIndex = -1;\n            }\n            segments.push(segment);\n            var mode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n            if (mode === 'Hour' || mode === 'Minutes') {\n                startDate = new Date(splitDate.getTime());\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                var count = this.parent.timelineModule.customTimelineSettings.bottomTier.count;\n                var mode_1 = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n                var timeIncrement = this.parent.timelineModule.getIncrement(startDate, count, mode_1);\n                var newTime = startDate.getTime() + timeIncrement;\n                startDate.setTime(newTime + increment);\n                segmentEndDate = new Date(endDate.getTime());\n                timeIncrement = this.parent.timelineModule.getIncrement(segmentEndDate, count, mode_1);\n                newTime = segmentEndDate.getTime() + timeIncrement;\n                segmentEndDate.setTime(newTime + increment);\n            }\n            else {\n                startDate = new Date(splitDate.getTime());\n                startDate.setDate(startDate.getDate() + 1 + increment);\n                var dayStartTime = this.parent['getCurrentDayStartTime'](startDate);\n                this.setTime(dayStartTime, startDate);\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                if (!this.parent.taskFields.duration && increment <= 0) {\n                    startDate.setDate(startDate.getDate() + 1);\n                }\n                segmentEndDate = new Date(endDate.getTime());\n                if (this.isOnHolidayOrWeekEnd(segmentEndDate, true)) {\n                    do {\n                        segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                    } while (this.isOnHolidayOrWeekEnd(segmentEndDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    segmentEndDate = this.getNextWorkingDay(segmentEndDate);\n                }\n            }\n            if (endDateState !== -1) {\n                var diff = segmentDuration - segment.duration;\n                segmentEndDate =\n                    this.parent.dataOperation.getEndDate(startDate, diff, ganttProp.durationUnit, ganttProp, false);\n            }\n            else {\n                segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        return segments;\n    };\n    ChartRows.prototype.incrementSegments = function (segments, segmentIndex, ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        for (var i = segmentIndex + 1; i < segments.length; i++) {\n            var segment = segments[i];\n            var startDate = i !== 0 ? new Date(segments[i - 1].endDate.getTime()) : new Date(segment.startDate.getTime());\n            this.parent.dataOperation['fromSegments'] = true;\n            startDate = this.parent.dataOperation.getEndDate(startDate, segment.offsetDuration, ganttProp.durationUnit, ganttProp, false);\n            this.parent.dataOperation['fromSegments'] = false;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segment.startDate = startDate;\n            var endDate = segment.endDate = this.parent.dataOperation.getEndDate(startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n            segment.endDate = endDate;\n            if (i === segments.length - 1) {\n                this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                if (this.parent.taskFields.endDate) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n                }\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        this.parent.setRecordValue('segments', segments, ganttProp, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n    };\n    ChartRows.prototype.calculateLeftValue = function (rowHeight) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if ((!isNullOrUndefined(this.parent.taskbarHeight) && this.parent.taskbarHeight <= defaultTaskbarHeight) ||\n            (isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36)) {\n            return 1;\n        }\n        else {\n            if (rowHeight <= 36) {\n                return 1;\n            }\n            return (-1 / 12) * (rowHeight - 36) + 1;\n        }\n    };\n    /**\n     * To get milestone node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i, rootElement) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        var rowHeight = this.parent.rowHeight;\n        var leftValue = this.calculateLeftValue(rowHeight);\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;position:absolute;transform: rotate(45deg);left:' + leftValue + 'px;\"> </div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.updateTaskBaselineNode = function (childData) {\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + childData.ganttProperties.baselineLeft + 'px;' +\n            'width:' + childData.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var baselineMilestoneHeight = this.parent.renderBaseline ? 5 : 2;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;position:absolute;transform:rotate(45deg);' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.parent.enableRtl ? (data.ganttProperties.left -\n            (this.milestoneHeight / 2) + 3) : (data.ganttProperties.baselineLeft - (this.milestoneHeight / 2) + 1)) + 'px;' + (this.baselineColor ?\n            'background-color: ' + this.baselineColor + ';' : '') + 'margin-top:' + ((-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + baselineMilestoneHeight) + 2) + 'px\"> </div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        if (this.generateTaskLabelAriaLabel('left') !== '') {\n            leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        }\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false, undefined, leftLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                }\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            if (leftLabelTemplateNode[0]['data'] === 'null') {\n                leftLabelTemplateNode[0]['data'] = '';\n            }\n            append(leftLabelTemplateNode, leftLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            leftLabelNode[0].style.paddingLeft = '25px';\n            leftLabelNode[0].style.paddingRight = '0px';\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var leftLabelHeight = this.parent.renderBaseline ?\n            ((this.parent.rowHeight - this.taskBarHeight) / 2) : this.taskBarMarginTop;\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + leftLabelHeight + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        if (this.generateTaskLabelAriaLabel('right') !== '') {\n            rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        }\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false, undefined, rightLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                }\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            if (rightLabelTemplateNode[0]['data'] === 'null') {\n                rightLabelTemplateNode[0]['data'] = '';\n            }\n            append(rightLabelTemplateNode, rightLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            rightLabelNode[0].style.marginLeft = '0px';\n            rightLabelNode[0].style.paddingRight = '25px';\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var childEle = innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            (this.parent.enableRtl ? 'margin-right:0px;' : '') + '\"height:' + ((taskbarHeight / 5) + 8) + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=' + (this.parent.enableRtl ? 'margin-right:-8px;' : '') +\n            (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.width - Math.floor(((taskbarHeight / 5) + 8) / 5)) + 'px;height:' +\n            ((taskbarHeight / 5) + 8) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;>' + '</div></div>' : '');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;') + '</div>';\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) +\n            'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:'\n            + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n        return this.createDivElement((data.ganttProperties.duration === 0 && data.hasChildRecords &&\n            !data.ganttProperties.isAutoSchedule) ? milestoneTemplate + childEle : template + childEle);\n    };\n    /**\n     * To get parent taskbar node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i, rootElement) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var labelDiv = void 0;\n            var tHeight = this.taskBarHeight / 5;\n            var template = this.createDivElement('<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? -1 :\n                (tHeight * 2)) + 'px; \">' +\n                '</div>');\n            var progressBarInnerDiv = this.createDivElement('<div class=\"' + cls.parentProgressBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"></div>');\n            var div = createElement('div');\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressBarInnerDiv[0]);\n                if (parentTaskLabelNode && parentTaskLabelNode.length > 0) {\n                    append(parentTaskLabelNode, div);\n                    labelString = div.innerHTML;\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    labelDiv = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) :\n                            (this.taskBarHeight - 1)) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    labelDiv = '<span class=\"' +\n                        cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) + 'px;' +\n                        (this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? 'display: inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                var labelElement = this.createDivElement(labelDiv)[0];\n                if (this.parent.disableHtmlEncode) {\n                    labelElement.innerText = labelString;\n                }\n                else {\n                    labelElement.innerHTML = labelString;\n                }\n                var parentLabel = this.parent.labelSettings.taskLabel;\n                if (parentLabel && parentLabel['elementRef']) {\n                    labelElement.appendChild(div);\n                }\n                progressBarInnerDiv[0].appendChild(labelElement);\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                    !this.isTemplate(parentLabel) &&\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                }\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                    parentLabel && !parentLabel['elementRef'] && div.innerHTML !== '') {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent = parentLabel;\n                }\n            }\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n            template[0].appendChild([].slice.call(progressBarInnerDiv)[0]);\n            parentTaskbarNode = data.ganttProperties.isMilestone ?\n                this.createDivElement(data.ganttProperties.isAutoSchedule ? milestoneTemplate : '') : template;\n        }\n        if (this.parent.enableRtl && parentTaskbarNode[0] && parentTaskbarNode[0].querySelector('.e-task-label')) {\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar')) {\n                parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar').style.textAlign = 'left';\n            }\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function (i) {\n        var _this = this;\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        /* eslint-disable-next-line */\n        var activecls;\n        var rows;\n        if (this.parent.treeGridModule.isPersist) {\n            setTimeout(function () {\n                if (!isNullOrUndefined(_this.parent.treeGrid.grid) && !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule) &&\n                    !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule.getRows())) {\n                    rows = _this.parent.treeGrid.grid.contentModule.getRows()[i];\n                    if (rows && rows.isSelected) {\n                        activecls = 'e-active';\n                    }\n                    else {\n                        activecls = '';\n                    }\n                }\n            }, 0);\n        }\n        else {\n            rows = this.parent.treeGrid.grid.contentModule.getRows()[i];\n            if (rows && rows.isSelected) {\n                activecls = 'e-active';\n            }\n            else {\n                activecls = '';\n            }\n        }\n        table.innerHTML = '<tr class=\"' + this.getRowClassName(this.templateData) + ' ' + cls.chartRow + ' ' + (activecls) + '\"' +\n            'style=\"display:' + this.getExpandDisplayProp(this.templateData) + ';height:' +\n            this.parent.rowHeight + 'px;\">' +\n            '<td class=\"' + cls.chartRowCell + ' ' + className\n            + '\"style=\"width:' + this.parent.timelineModule.totalTimelineWidth + 'px;\"></td></tr>';\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = createElement('div');\n        div.innerHTML = template;\n        return div.childNodes;\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            if (template === this.parent.ganttColumns[i].field) {\n                result = true;\n                break;\n            }\n        }\n        if (typeof template !== 'string' || template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1 || !result) {\n            result = true;\n        }\n        else {\n            result = false;\n        }\n        return result;\n    };\n    /**\n     * @param {string} templateName .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" role=\"term\" style=\"height:' +\n            (this.parent.rowHeight - 2) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + ' ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') + '\" ' +\n            ' tabindex=\"-1\" role=\"term\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent && !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule)) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;')) : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" role=\"term\" style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + this.getRightLabelLeft(this.templateData) + 'px; height:'\n            + (this.parent.rowHeight - 2) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -11;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n        var mileStoneLeftValue = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 6 : 3;\n        var pointerLeft = -(2 + this.connectorPointWidth + left);\n        var mileStoneLeft = -(this.connectorPointWidth + mileStoneLeftValue);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : (marginTop + ';left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointLeft : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' + (this.parent.enableRtl ? 'margin-right:2px;' : '') +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var right = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -12 : 0;\n        var pointerRight = -(3 + right);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.milestoneHeight + 5) : this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;' + marginTop + ';')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointRight : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     *\n     * @param {string} field .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.getSplitTaskBorderRadius = function (data) {\n        var diff = data.width - data.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.autoLeft : ganttProp.left;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_2 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_2 > 0) {\n                for (var i = 0; i < length_2; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var taskBarMarginTopValue = this.parent.renderBaseline ? 4 : 2;\n        var milestoneHeightValue = this.parent.renderBaseline ? 1.13 : 0.82;\n        this.parent.rowHeight = isNullOrUndefined(this.parent.rowHeight) ? 36 : this.parent.rowHeight;\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * taskbarHeightValue) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * milestoneHeightValue); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / taskBarMarginTopValue);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 4);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 9;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 1.5));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        if (this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var data = this.parent.currentViewData[i];\n                if (data.childRecords.length > 0) {\n                    this.parent.setRecordValue('workTimelineRanges', this.parent.dataOperation.mergeRangeCollections(data.ganttProperties.workTimelineRanges, true), data.ganttProperties, true);\n                    this.parent.dataOperation.calculateRangeLeftWidth(data.ganttProperties.workTimelineRanges);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        this.parent.ganttChartModule.updateLastRowBottomWidth();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        var _this = this;\n        var _a;\n        var trs = [].slice.call(this.ganttChartTableBody.querySelectorAll('tr'));\n        this.ganttChartTableBody.innerHTML = '';\n        var collapsedResourceRecord = [];\n        var prevCurrentView = this.parent.treeGridModule.prevCurrentView;\n        this.refreshedTr = [];\n        this.refreshedData = [];\n        if (this.parent.enableImmutableMode && prevCurrentView && prevCurrentView.length > 0 && this.isUpdated) {\n            var oldKeys = {};\n            var oldRowElements = [];\n            var key = this.parent.treeGrid.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < prevCurrentView.length; i++) {\n                oldRowElements[i] = trs[i];\n                oldKeys[prevCurrentView[i][key]] = i;\n            }\n            for (var index = 0; index < this.parent.currentViewData.length; index++) {\n                var oldIndex = oldKeys[this.parent.currentViewData[index][key]];\n                var modifiedRecIndex = this.parent.modifiedRecords.indexOf(this.parent.currentViewData[index]);\n                if (isNullOrUndefined(oldIndex) || modifiedRecIndex !== -1 || this.parent.isFromRenderBaseline) {\n                    var tRow = this.getGanttChartRow(index, this.parent.currentViewData[index]);\n                    this.ganttChartTableBody.appendChild(tRow);\n                    this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll('tr')[index]);\n                    this.refreshedData.push(this.parent.currentViewData[index]);\n                }\n                else {\n                    this.ganttChartTableBody.appendChild(oldRowElements[oldIndex]);\n                }\n                this.ganttChartTableBody.querySelectorAll('tr')[index].setAttribute('data-rowindex', index.toString());\n            }\n        }\n        else {\n            var dupChartBody = createElement('tbody', {\n                id: this.parent.element.id + 'GanttTaskTableBody'\n            });\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var tempTemplateData = this.parent.currentViewData[i];\n                if (!tempTemplateData.expanded && this.parent.enableMultiTaskbar) {\n                    collapsedResourceRecord.push(tempTemplateData);\n                }\n                var tRow = this.getGanttChartRow(i, tempTemplateData);\n                if (tempTemplateData.hasChildRecords && (!tempTemplateData.expanded) && this.parent.enableMultiTaskbar\n                    && !this.parent.allowTaskbarOverlap) {\n                    this.updateDragDropRecords(tempTemplateData, tRow);\n                }\n                dupChartBody.appendChild(tRow);\n                if (this.parent.enableImmutableMode) {\n                    this.refreshedTr.push(dupChartBody.querySelectorAll('tr')[i]);\n                    this.refreshedData.push(this.parent.currentViewData[i]);\n                }\n                // To maintain selection when virtualization is enabled\n                if (this.parent.selectionModule && this.parent.allowSelection) {\n                    this.parent.selectionModule.maintainSelectedRecords(parseInt(tRow.getAttribute('data-rowindex'), 10));\n                }\n            }\n            /* eslint-disable-next-line */\n            (_a = this.ganttChartTableBody).replaceChildren.apply(_a, dupChartBody.childNodes);\n            // To trigger the touchend event while perform touch Pinch In/Out action\n            (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n                if (tr instanceof Element) {\n                    tr.addEventListener('touchmove', _this.handleTouchMove);\n                    tr.addEventListener('touchend', _this.handleTouchEnd);\n                }\n            });\n            this.parent.initialChartRowElements = this.parent.ganttChartModule.getChartRows();\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            if (criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n        }\n        this.parent.renderTemplates();\n        this.triggerQueryTaskbarInfo();\n        this.parent.modifiedRecords = [];\n        if (this.parent.showOverAllocation) {\n            this.updateOverlapped();\n        }\n        if (collapsedResourceRecord.length) {\n            for (var j = 0; j < collapsedResourceRecord.length; j++) {\n                if (collapsedResourceRecord[j].hasChildRecords) {\n                    this.parent.isGanttChartRendered = true;\n                    this.parent.chartRowsModule.refreshRecords([collapsedResourceRecord[j]]);\n                }\n            }\n        }\n        this.parent.isGanttChartRendered = true;\n        this.parent.renderTemplates();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @param {number} i .\n     * @param {IGanttData} tempTemplateData .\n     * @returns {Node} .\n     * @private\n     */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var parentTrNode = this.getTableTrNode(i);\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        taskbarContainerNode[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n        var connectorLineLeftNode;\n        var connectorLineRightNode;\n        connectorLineLeftNode = this.getLeftPointNode();\n        if ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords) {\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = void 0;\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                parentTaskbarTemplateNode = this.getParentTaskbarNode(i, taskbarContainerNode);\n            }\n            else {\n                taskbarContainerNode = [];\n                for (var j = 0; j < this.templateData.childRecords.length; j++) {\n                    this.templateData = this.templateData.childRecords[j];\n                    var taskbarContainerNode1 = this.taskbarContainer();\n                    taskbarContainerNode1[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n                    taskbarContainerNode1[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n                    if (!this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                    }\n                    else {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        if ((this.templateData.ganttProperties.isAutoSchedule) || !this.templateData.hasChildRecords) {\n                            taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        }\n                    }\n                    this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode1, connectorLineRightNode, taskbarContainerNode);\n                }\n            }\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                if (!isNullOrUndefined(manualTaskbar[0])) {\n                    if (this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        var connectorLineRightNode_1 = this.getRightPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineRightNode_1)[0]);\n                    }\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n                }\n            }\n            if ((this.templateData.ganttProperties.autoDuration !== 0) && !this.templateData.ganttProperties.isMilestone &&\n                parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                append(parentTaskbarTemplateNode, taskbarContainerNode[0]);\n            }\n            else if ((this.templateData.ganttProperties.duration === 0 && this.templateData.ganttProperties.isMilestone &&\n                this.templateData.ganttProperties.isAutoSchedule)) {\n                var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n                if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                    append(milestoneTemplateNode, taskbarContainerNode[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n                else if (!this.parent.allowParentDependency) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n            }\n        }\n        else {\n            this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode, connectorLineRightNode);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        if (this.parent.enableMultiTaskbar && this.templateData.hasChildRecords && !this.templateData.expanded) {\n            var collapseParent = createElement('div', {\n                className: 'e-collapse-parent'\n            });\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild(collapseParent);\n            for (var j = 0; j < taskbarContainerNode.length; j++) {\n                addClass([taskbarContainerNode[j]], 'collpse-parent-border');\n                parentTrNode[0].childNodes[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[j]);\n            }\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n        }\n        else {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n            if (rightLabelNode && rightLabelNode.length > 0) {\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n            }\n        }\n        if (!isNullOrUndefined(this.taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(this.taskBaselineTemplateNode)[0]);\n        }\n        this.taskBaselineTemplateNode = null;\n        var tRow = parentTrNode[0].childNodes[0];\n        this.setAriaRowIndex(tempTemplateData, tRow);\n        return tRow;\n    };\n    /**\n     * To set data-rowindex for chart rows\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.setAriaRowIndex = function (tempTemplateData, tRow) {\n        var _this = this;\n        var dataSource = this.parent.treeGrid.getCurrentViewRecords();\n        var visualData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : dataSource;\n        var index;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            /* eslint-disable-next-line */\n            var gridData = this.parent.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.parent.taskFields.id] === tempTemplateData.ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            tRow.setAttribute('data-rowindex', data['index'].toString());\n        }\n        else {\n            index = visualData.indexOf(tempTemplateData);\n            tRow.setAttribute('aria-rowindex', (index + 1).toString());\n            tRow.setAttribute('data-rowindex', index.toString());\n        }\n    };\n    /**\n     * To trigger query taskbar info event.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        if (!this.parent.queryTaskbarInfo) {\n            return;\n        }\n        var length = this.parent.enableImmutableMode ?\n            this.refreshedTr.length : this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.parent.enableImmutableMode ? this.refreshedTr[index] : this.ganttChartTableBody.querySelectorAll('tr')[index];\n            data = this.refreshedData.length > 0 ? this.refreshedData[index] : this.parent.currentViewData[index];\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = trElement.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else if (trElement) {\n                this.triggerQueryTaskbarInfoByIndex(trElement, data);\n            }\n        }\n    };\n    ChartRows.prototype.appendIndicators = function (i, parentTrNode) {\n        var taskIndicatorNode;\n        var taskIndicatorTextFunction;\n        var taskIndicatorTextNode;\n        var indicators = this.templateData.ganttProperties.indicators;\n        for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n            taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n            taskIndicatorNode[0].setAttribute('aria-label', indicators[indicatorIndex].name);\n            if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n            }\n            else {\n                var text = createElement('Text');\n                text.innerHTML = indicators[indicatorIndex].name;\n                if (this.parent.enableHtmlSanitizer && typeof (indicators[indicatorIndex].name) === 'string') {\n                    indicators[indicatorIndex].name = SanitizeHtmlHelper.sanitize(indicators[indicatorIndex].name);\n                }\n                taskIndicatorTextNode = text.childNodes;\n            }\n            taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n            taskIndicatorNode[0].title =\n                !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n        }\n    };\n    ChartRows.prototype.appendChildTaskbars = function (tempTemplateData, i, taskbarContainerNode, connectorLineRightNode, taskbarCollection) {\n        if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                append(milestoneTemplateNode, taskbarContainerNode[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (taskbarCollection) {\n                /* eslint-disable-next-line */\n                taskbarCollection.push(taskbarContainerNode[0]);\n                this.templateData = tempTemplateData;\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties); // eslint-disable-line\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask && (isNullOrUndefined(this.templateData.ganttProperties.segments)\n                        || this.templateData.ganttProperties.segments.length <= 0)) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i, taskbarContainerNode);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    if (this.templateData.ganttProperties.segments && this.templateData.ganttProperties.segments.length > 0) {\n                        var length_3 = this.templateData.ganttProperties.segments.length;\n                        var connector = ('<div class=\"e-gantt-split-container-line\"></div>');\n                        var segmentConnector = null;\n                        segmentConnector = this.createDivElement(connector);\n                        taskbarContainerNode[0].appendChild([].slice.call(segmentConnector)[0]);\n                        for (var i_1 = 0; i_1 < length_3; i_1++) {\n                            append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                        }\n                    }\n                    else {\n                        append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                    }\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n        }\n        if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        else if (!this.parent.allowParentDependency) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        if (taskbarCollection) {\n            /* eslint-disable-next-line */\n            taskbarCollection.push(taskbarContainerNode[0]);\n            this.templateData = tempTemplateData;\n        }\n    };\n    ChartRows.prototype.customizeTaskbars = function (data, trElement, taskbarElement) {\n        var _this = this;\n        var rowElement;\n        var segmentRowElement;\n        if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0 && trElement && trElement.parentElement\n            && trElement.parentElement.parentElement && trElement.parentElement.parentElement.parentElement) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: taskbarElement,\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor :\n                (trElement.querySelector('.' + cls.baselineBar) ? getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null);\n        }\n        else if (taskbarElement) {\n            var childTask = taskbarElement.querySelector(classCollections[0]);\n            var progressTask = taskbarElement.querySelector(classCollections[1]);\n            args.taskbarBgColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor;\n            args.taskbarBorderColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor;\n            args.progressBarBgColor = isNullOrUndefined(progressTask) ? null :\n                taskbarElement.classList.contains(cls.traceChildProgressBar) ?\n                    getComputedStyle(taskbarElement).backgroundColor :\n                    getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            if (segmentRowElement) {\n                args.baselineColor = segmentRowElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            else {\n                args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        if (segmentRowElement) {\n            args.rightLabelColor = segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        else {\n            args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     *\n     * @param {Element} trElement .\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        // eslint-disable-next-line\n        if (isNullOrUndefined(trElement)) {\n            return;\n        }\n        var taskbarElement;\n        var currentData = data;\n        if (!(!isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0)) {\n            if (this.parent.enableMultiTaskbar) {\n                var taskbarElements = trElement.querySelectorAll('.' + cls.taskBarMainContainer);\n                for (var i = 0; i < taskbarElements.length; i++) {\n                    taskbarElement = taskbarElements[i];\n                    currentData = (!data.expanded && data.hasChildRecords) ? data.childRecords[i] : currentData;\n                    var id = this.parent.viewType === 'ResourceView' ?\n                        taskbarElement.getAttribute('rowUniqueId') : currentData.ganttProperties.taskId.toString();\n                    if (currentData.ganttProperties.segments && currentData.ganttProperties.segments.length > 0 &&\n                        currentData.parentItem && !data.expanded) {\n                        id = this.parent.viewType === 'ResourceView' ?\n                            data.ganttProperties.rowUniqueID : data.ganttProperties.taskId.toString();\n                    }\n                    trElement = this.parent.getRowByID(id);\n                    trElement = trElement ? trElement : (taskbarElement.querySelector('.e-gantt-child-taskbar'));\n                    if (isNullOrUndefined(trElement) && currentData.ganttProperties.isMilestone) {\n                        trElement = taskbarElement;\n                    }\n                    if (trElement) {\n                        var segmentElements = trElement.querySelectorAll('.e-segmented-taskbar');\n                        if (segmentElements && segmentElements.length > 0) {\n                            /* eslint-disable-next-line */\n                            var taskContainer = trElement.querySelector(\".e-taskbar-main-container[rowuniqueid=\\\"\" + currentData.ganttProperties.rowUniqueID + \"\\\"]\") ||\n                                trElement;\n                            var segmentedTasks = taskContainer.querySelectorAll('.e-segmented-taskbar');\n                            for (var i_2 = 0; i_2 < segmentedTasks.length; i_2++) {\n                                taskbarElement = segmentedTasks[i_2];\n                                this.customizeTaskbars(currentData, segmentedTasks[i_2], taskbarElement);\n                            }\n                        }\n                        else {\n                            this.customizeTaskbars(currentData, trElement, taskbarElement);\n                        }\n                    }\n                }\n            }\n            else {\n                var taskbarElement_1 = trElement.querySelector('.' + cls.taskBarMainContainer);\n                if (trElement) {\n                    this.customizeTaskbars(currentData, trElement, taskbarElement_1);\n                }\n            }\n        }\n        else {\n            taskbarElement = trElement;\n            if (trElement) {\n                this.customizeTaskbars(data, trElement, taskbarElement);\n            }\n        }\n    };\n    /**\n     * To update query taskbar info args.\n     *\n     * @param {IQueryTaskbarInfoEventArgs} args .\n     * @param {Element} rowElement .\n     * @param {Element} taskBarElement .\n     * @returns {void}\n     * @private\n     */\n    /* eslint-disable-next-line */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = args.rowElement;\n        var taskbarElement = this.parent.enableVirtualization ? args.rowElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        var segmentRowElement;\n        if (args.data.ganttProperties.segments && args.data.ganttProperties.segments.length > 0) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.backgroundColor = args.baselineColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).borderTopColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        else if (taskbarElement) {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildProgressBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (segmentRowElement) {\n                if (segmentRowElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    segmentRowElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n            else {\n                if (trElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n        }\n        if (segmentRowElement) {\n            if (segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n        else {\n            if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.traceMilestone));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneContainer));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @returns {Function} .\n     * @private\n     */\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    // to update the eOverlapped property\n    ChartRows.prototype.updateOverlapped = function () {\n        for (var k = 0; k < this.parent.treeGrid.parentData.length; k++) {\n            var childRecords = this.parent.treeGrid.parentData[k].childRecords;\n            for (var i = 0; i < childRecords.length; i++) {\n                if (childRecords[i + 1]) {\n                    childRecords[i].ganttProperties.eOverlapped = undefined;\n                }\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    childRecords[j].ganttProperties.eOverlapped = undefined;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <\n                        childRecords[j].ganttProperties.endDate.getTime() &&\n                        childRecords[i].ganttProperties.endDate.getTime() >\n                            childRecords[j].ganttProperties.startDate.getTime()) {\n                        childRecords[j].ganttProperties.eOverlapped = true;\n                        childRecords[i].ganttProperties.eOverlapped = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(childRecords[j].ganttProperties.eOverlapped)) {\n                            childRecords[j].ganttProperties.eOverlapped = false;\n                        }\n                        if (isNullOrUndefined(childRecords[i].ganttProperties.eOverlapped)) {\n                            childRecords[i].ganttProperties.eOverlapped = false;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    // To update the row height when allow overallocation set to false\n    ChartRows.prototype.updateDragDropRecords = function (data, tr) {\n        var childRecords = data.childRecords;\n        var rowIndex = this.parent.currentViewData.indexOf(data);\n        var treeGridContentHeight = this.parent.enableRtl ?\n            this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n            this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n        if (!tr) {\n            tr = this.ganttChartTableBody.childNodes[rowIndex];\n        }\n        if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n            tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = this.parent.rowHeight + 'px';\n        }\n        else {\n            tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = this.parent.rowHeight + 'px';\n        }\n        this.parent.contentHeight = treeGridContentHeight;\n        var rowIDs = [];\n        var rowCounts = 0;\n        if (data) {\n            for (var i = 0; i < childRecords.length; i++) {\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    var taskbarContainer = tr.getElementsByClassName('e-taskbar-main-container');\n                    for (var k = 0; k < taskbarContainer.length; k++) {\n                        var rowuniqueid = this.parent.viewType === 'ResourceView' ? childRecords[j]['rowUniqueID'] : childRecords[j].ganttProperties.rowUniqueID;\n                        if (childRecords[i].ganttProperties.startDate.getTime() <\n                            childRecords[j].ganttProperties.endDate.getTime() &&\n                            childRecords[i].ganttProperties.endDate.getTime() >\n                                childRecords[j].ganttProperties.startDate.getTime()) {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1) {\n                                rowIDs.push(rowuniqueid);\n                                rowCounts++;\n                                tr.children[0]['style'].verticalAlign = 'baseline';\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    (rowCounts * this.parent.rowHeight) + this.taskBarMarginTop + 'px';\n                                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                                    tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                                else {\n                                    tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                            }\n                        }\n                        else {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1 && this.parent.rowDragAndDropModule &&\n                                this.parent.rowDragAndDropModule['draggedRecord'] && taskbarContainer[k].getAttribute('rowuniqueid') ===\n                                this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] && this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] ===\n                                childRecords[j]['rowUniqueID']) {\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    this.parent.editModule.taskbarEditModule.draggedRecordMarginTop;\n                            }\n                        }\n                    }\n                }\n            }\n            this.parent.contentHeight = treeGridContentHeight;\n            document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n        }\n    };\n    /**\n     * To refresh edited TR\n     *\n     * @param {number} index .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index, isValidateRange, isUndoRedo) {\n        var _this = this;\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem;\n        if (isUndoRedo) {\n            selectedItem = this.parent.previousFlatData[index];\n        }\n        else {\n            selectedItem = this.parent.currentViewData[index];\n        }\n        if (index !== -1 && selectedItem) {\n            var data = selectedItem;\n            if (!this.parent.allowTaskbarOverlap && data.expanded) {\n                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                    tr['style'].height = this.parent.treeGrid.getRowByIndex(index)['style'].height = this.parent.rowHeight + 'px';\n                }\n                else {\n                    tr['style'].height = this.parent.treeGrid.getRows()[index]['style'].height = this.parent.rowHeight + 'px';\n                }\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar) {\n                tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                if (this.parent.renderBaseline) {\n                    data.childRecords.forEach(function (childRecord) {\n                        if (!isNullOrUndefined(childRecord.ganttProperties.baselineStartDate &&\n                            childRecord.ganttProperties.baselineEndDate)) {\n                            tr.childNodes[0].appendChild((_this.updateTaskBaselineNode(childRecord))[0]);\n                        }\n                    });\n                }\n            }\n            else {\n                if (this.parent.allowTaskbarDragAndDrop && !data.expanded) {\n                    tr.replaceWith(this.getGanttChartRow(index, data));\n                }\n                else {\n                    tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                }\n            }\n            this.parent.renderTemplates();\n            if (data.hasChildRecords && this.parent.showOverAllocation && this.parent.allowTaskbarOverlap) {\n                if (isValidateRange) {\n                    this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                }\n                else {\n                    this.parent.dataOperation.updateOverlappingValues(data);\n                    this.parent.ganttChartModule.renderRangeContainer([data]);\n                }\n            }\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = tr.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(tr, data);\n            }\n            var dataId = this.parent.viewType === 'ProjectView' ? data.ganttProperties.taskId : data.ganttProperties.rowUniqueID;\n            if (!this.parent.ganttChartModule.isExpandAll && !this.parent.ganttChartModule.isCollapseAll) {\n                this.parent.treeGrid.grid.setRowData(dataId, data);\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar && !this.parent.allowTaskbarOverlap) {\n                this.updateDragDropRecords(selectedItem, tr);\n            }\n            if (data.hasChildRecords && this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n            }\n            var nextEditableElement = this.parent.ganttChartModule.tempNextElement;\n            if (this.parent.ganttChartModule.isEditableElement && nextEditableElement) {\n                this.parent.treeGrid.grid.focusModule.focus();\n                addClass([this.parent.treeGrid.getRows()[tr.getAttribute('data-rowindex')].children[this.parent.ganttChartModule.childrenIndex]], 'e-focused');\n                this.parent.ganttChartModule.tempNextElement = null;\n            }\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            if (!isNullOrUndefined(row)) {\n                row.data = data;\n            }\n        }\n    };\n    ChartRows.prototype.updateResourceTaskbarElement = function (tRow, parentTr) {\n        var cloneElement = tRow.querySelector('.e-taskbar-main-container');\n        if (this.parent.viewType === 'ProjectView' && tRow.querySelector('.e-collapse-parent')) {\n            cloneElement = tRow.querySelector('.e-collapse-parent');\n        }\n        if (tRow.querySelector('.e-collapse-parent') === null) {\n            addClass([cloneElement], 'collpse-parent-border');\n        }\n        var id = tRow.querySelector('.' + cls.taskBarMainContainer).getAttribute('rowUniqueId');\n        var ganttData = this.parent.getRecordByID(id);\n        if (!(isNullOrUndefined(ganttData)) && ganttData.ganttProperties.segments && ganttData.ganttProperties.segments.length > 0) {\n            var segmentedTasks = cloneElement.getElementsByClassName('e-segmented-taskbar');\n            for (var i = 0; i < segmentedTasks.length; i++) {\n                this.triggerQueryTaskbarInfoByIndex(segmentedTasks[i], ganttData);\n            }\n        }\n        else if (this.parent.queryTaskbarInfo) {\n            var mainTaskbar = (cloneElement.querySelector('.e-gantt-child-taskbar'));\n            if (!isNullOrUndefined(mainTaskbar)) {\n                this.triggerQueryTaskbarInfoByIndex(mainTaskbar, ganttData);\n            }\n        }\n        var zIndex = '';\n        if (ganttData && !isNullOrUndefined(ganttData.ganttProperties.eOverlapIndex)) {\n            zIndex = (ganttData.ganttProperties.eOverlapIndex).toString();\n        }\n        var cloneChildElement = cloneElement.cloneNode(true);\n        cloneChildElement.style.zIndex = zIndex;\n        parentTr[0].childNodes[0].childNodes[0].childNodes[0].appendChild(cloneChildElement);\n    };\n    /**\n     * To refresh all edited records\n     *\n     * @param {IGanttData} items .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items, isValidateRange, isUndoRedo) {\n        if (this.parent.isGanttChartRendered) {\n            this.parent.renderTemplates();\n            if (this.parent.enableMultiTaskbar) {\n                var sortedRecords = [];\n                sortedRecords = new DataManager(items).executeLocal(new Query()\n                    .sortBy('expanded', 'Descending'));\n                items = sortedRecords;\n            }\n            for (var i = 0; i < items.length; i++) {\n                var index = void 0;\n                if (isUndoRedo) {\n                    index = this.parent.ids.indexOf(items[i].ganttProperties.taskId.toString());\n                }\n                else {\n                    index = this.parent.currentViewData.indexOf(items[i]);\n                }\n                if (!this.parent.enableMultiTaskbar ||\n                    (this.parent.enableMultiTaskbar && (items[i].expanded || !this.parent.isLoad))) {\n                    this.refreshRow(index, isValidateRange, isUndoRedo);\n                }\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n            if (tr instanceof Element) {\n                tr.removeEventListener('touchmove', _this.handleTouchMove);\n                tr.removeEventListener('touchend', _this.handleTouchEnd);\n            }\n        });\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateBaselineAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.baselineStartDate;\n        var endDateVal = data.ganttProperties.baselineEndDate;\n        defaultValue += 'Baseline' + ' ';\n        defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n        defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        return defaultValue;\n    };\n    ChartRows.prototype.generateSpiltTaskAriaLabel = function (data, ganttProp) {\n        var defaultValue = '';\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var startDateVal = data.startDate;\n        var endDateVal = data.endDate;\n        var durationVal = data.duration;\n        if (startDateVal) {\n            defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        }\n        if (endDateVal) {\n            defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        }\n        if (durationVal) {\n            defaultValue += durationConstant + ' '\n                + this.parent.getDurationString(durationVal, ganttProp.durationUnit);\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}(DateProcessor));\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parentRecord = [];\n        this.parentIds = [];\n        this.parentPredecessors = [];\n        this.validatedParentIds = [];\n        this.storeId = null;\n        this.isChildRecordValidated = [];\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        var length = predecessorTasks.length - 1;\n        for (var count = length; count >= 0; count--) {\n            var ganttData = predecessorTasks[count];\n            var ganttProp = ganttData.ganttProperties;\n            if ((!ganttData.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttProp);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {ITaskData} ganttProp .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem) ? getValue('from', predecessorItem) : predecessorVal[c];\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    var startDate = void 0;\n                    var parentItem = predData.parentItem;\n                    if (parentItem) {\n                        var parentTask = this.parent.getParentTask(predData.parentItem);\n                        while (parentTask && !parentTask.ganttProperties.startDate) {\n                            parentTask = this.parent.getParentTask(parentTask.parentItem);\n                        }\n                        startDate = parentTask ? parentTask.ganttProperties.startDate : this.parent.cloneProjectStartDate;\n                    }\n                    else {\n                        startDate = this.parent.cloneProjectStartDate;\n                    }\n                    record[task.startDate] = startDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} fromId .\n     * @returns {boolean} .\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.connectorLineModule.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     *\n     * @param {string | number} predecessorValue .\n     * @param {IGanttData} ganttRecord .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values = [];\n        var offsetValue;\n        var predecessorText;\n        var parentRecords = [];\n        predecessor.split(',').forEach(function (el) {\n            var isGUId = false;\n            var firstPart;\n            var predecessorName;\n            var isAlpha = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = el.split('-');\n            var id;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = el.substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (el.includes('-')) {\n                var lastIndex = el.lastIndexOf('-');\n                var lastPart = el.substring(lastIndex + 1);\n                var baseString = el.replace(lastPart, '').trim();\n                var match_1 = baseString.match(/(FS|SS|SF|FF)-$/);\n                var processedResult = (match_1 ? match_1[0] : '') + lastPart;\n                if (!/^(FS|SS|SF|FF)/.test(processedResult)) {\n                    var prefixMatch = processedResult.match(/(FS|SS|SF|FF)/);\n                    processedResult = prefixMatch\n                        ? prefixMatch[0] + processedResult.slice(processedResult.indexOf(prefixMatch[0]) + prefixMatch[0].length)\n                        : el;\n                }\n                predecessorName = processedResult;\n                if (el.includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = el.indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = el.substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = el;\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = el.slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                offsetValue = '+';\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = el;\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = el.slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                    offsetValue = '-';\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = el.split('+');\n                    offsetValue = '+';\n                    if (el.indexOf('-') >= 0) {\n                        values = el.split('-');\n                        offsetValue = '-';\n                    }\n                }\n            }\n            match = [];\n            var ids = _this.parent.viewType === 'ResourceView' ? _this.parent.getTaskIds() : _this.parent.ids;\n            var isExist1 = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + values[0]) : ids.indexOf(values[0]);\n            if (isExist1 !== -1) {\n                match[0] = values[0];\n            }\n            else {\n                if (ids.indexOf(values[0]) === -1) {\n                    match = values[0].split(' ');\n                    if (match.length === 1) {\n                        if (match[0].indexOf(' ') !== -1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        else {\n                            match[0] = values[0].slice(0, -2);\n                            match[1] = values[0].slice(-2);\n                        }\n                    }\n                }\n                else {\n                    match[0] = values[0];\n                }\n            }\n            var isExist = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + match[0]) : ids.indexOf(match[0]);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && isExist !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        var e = \"The provided dependency type, \" + type + \", is invalid. Please ensure that the Dependency Type is FS or FF or SS or SF\";\n                        _this.parent.trigger('actionFailure', { error: e });\n                        predecessorText = 'FS';\n                    }\n                }\n                else if (el.includes('-') && /[A-Za-z]/.test(predecessorName) && firstPart.includes('-')) {\n                    var type = el.slice(-2).toString();\n                    type.toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                    : ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!_this.parent.allowParentDependency) {\n                if (!isOwnParent) {\n                    collection.push(obj);\n                }\n            }\n            else {\n                var fromData = _this.parent.connectorLineModule.getRecordByID(obj.to);\n                var toData = _this.parent.connectorLineModule.getRecordByID(obj.from);\n                var isValid = void 0;\n                if (_this.parent.connectorLineEditModule && toData && fromData) {\n                    isValid = _this.parent.connectorLineEditModule.validateParentPredecessor(toData, fromData);\n                    if (isValid) {\n                        collection.push(obj);\n                        if (parentRecords.indexOf(toData) === -1 && toData.hasChildRecords && _this.parent.editModule.cellEditModule &&\n                            _this.parent.editModule.cellEditModule.isCellEdit) {\n                            parentRecords.push(extend([], [], [toData], true)[0]);\n                        }\n                    }\n                }\n                else {\n                    collection.push(obj);\n                }\n                match.splice(0);\n            }\n        });\n        if (parentRecords.length > 0 && this.parent.undoRedoModule && this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit) {\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecords;\n        }\n        var creatCollection = [];\n        collection.map(function (data) {\n            var from = data.from;\n            var to = data.to;\n            var checkColloction = [];\n            checkColloction = collection.filter(function (fdata) { return fdata.from === from && fdata.to === to; });\n            if (creatCollection.indexOf(checkColloction[checkColloction.length - 1]) === -1) {\n                creatCollection.push(checkColloction[checkColloction.length - 1]);\n            }\n        });\n        return creatCollection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     *\n     * @param {IGanttData} data .\n     * @returns {string} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var resultString = '';\n        var temp1;\n        var match = [];\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                var id = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId\n                    : data.ganttProperties.rowUniqueID;\n                if (currentValue.from !== id.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (typeof (data.ganttProperties.taskId) === 'string') {\n                        match[0] = temp.slice(0, -2);\n                        match[1] = temp.slice(-2);\n                        temp1 = match[0] + ' ' + match[1];\n                    }\n                    else {\n                        temp1 = temp;\n                    }\n                    temp = temp1;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                        }\n                        else {\n                            temp += multiple ? this.parent.localeObj.getConstant('minutes') : this.parent.localeObj.getConstant('minute');\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            var err = 'The provided value for the offset field is invalid.Please ensure the offset field contains only valid numeric values';\n            this.parent.trigger('actionFailure', { error: err });\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function () {\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if ((!ganttRecord.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection);\n                if (!ganttRecord.ganttProperties.isAutoSchedule && this.parent.editSettings.allowEditing) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IGanttData[]} predecessorsCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection) {\n        var connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        var successorGanttRecord;\n        var connectorCount = connectorsCollection.length;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            successorGanttRecord = this.parent.connectorLineModule.getRecordByID(connector.from);\n            var id = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (connector.from !== id.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.traverseParents = function (record) {\n        this.parent.dataOperation.updateParentItems(record);\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function () {\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        var flatData = this.parent.flatData;\n        var totLength = this.parent.flatData.length;\n        for (var count = 0; count < totLength; count++) {\n            if (flatData[count].ganttProperties.predecessorsName) {\n                this.validatePredecessorDates(flatData[count]);\n                var predecessorCollection = flatData[count].ganttProperties.predecessor;\n                if (predecessorCollection && predecessorCollection.length > 1) {\n                    for (var i = 0; i < predecessorCollection.length; i++) {\n                        var validateRecord = this.parent.getRecordByID(predecessorCollection[i].to);\n                        if (validateRecord) {\n                            this.validatePredecessorDates(validateRecord);\n                        }\n                    }\n                }\n                if (flatData[count].hasChildRecords && flatData[count].ganttProperties.startDate\n                    && this.parent.allowParentDependency) {\n                    this.updateChildItems(flatData[count]);\n                }\n                if (flatData[count].parentItem) {\n                    var recordId = flatData[count].parentItem.taskId;\n                    this.traverseParents(this.parent.getRecordByID(recordId));\n                }\n            }\n        }\n    };\n    Dependency.prototype.updateParentPredecessor = function () {\n        if (this.parent.enablePredecessorValidation) {\n            var parentPredecessorLength = this.parentPredecessors.length;\n            for (var i = parentPredecessorLength - 1; i >= 0; i--) {\n                var item = this.parentPredecessors[i];\n                this.validatePredecessorDates(item);\n                if (item.ganttProperties.startDate) {\n                    this.updateChildItems(item);\n                }\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord) {\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                : ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                if (this.parent.allowParentDependency && parentGanttRecord.hasChildRecords) {\n                    this.parent.dataOperation.updateParentItems(parentGanttRecord);\n                }\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop) {\n                    var index = void 0;\n                    if (isNullOrUndefined(record)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n                        record = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                    else if (isNullOrUndefined(parentGanttRecord)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n                        parentGanttRecord = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                }\n                if (this.parent.allowParentDependency && this.parent.isLoad && this.parentPredecessors.indexOf(ganttRecord) === -1\n                    && (ganttRecord.hasChildRecords || record.hasChildRecords)) {\n                    this.parentPredecessors.push(ganttRecord);\n                }\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord) {\n        if (this.parent.editedTaskBarItem === childGanttRecord || (parentGanttRecord &&\n            isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties)))\n            || (childGanttRecord && isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties)))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = this.parent.viewType === 'ResourceView' ? childRecordProperty.taskId.toString()\n                : childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            var segments = childGanttRecord.ganttProperties.segments;\n            if (isNullOrUndefined(segments) || !isNullOrUndefined(segments) && segments.length === 0) {\n                this.dateValidateModule.calculateEndDate(childGanttRecord);\n            }\n            this.parent.dataOperation.updateWidthLeft(childGanttRecord);\n            if (!this.parent.isLoad && !this.parent.isFromOnPropertyChange && childGanttRecord.parentItem &&\n                this.parent.isInPredecessorValidation &&\n                this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule) {\n                if (this.parentIds.indexOf(childGanttRecord.parentItem.uniqueID) === -1) {\n                    this.parentIds.push(childGanttRecord.parentItem.uniqueID);\n                    this.parentRecord.push(childGanttRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessorsCollection .\n     * @returns {Date} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection) {\n        var _this = this;\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            var id = _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (data.to === id.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(childGanttRecord) &&\n                    isNullOrUndefined(parentGanttRecord))) {\n                    childGanttRecord = isNullOrUndefined(childGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : childGanttRecord;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : parentGanttRecord;\n                }\n                if (childGanttRecord && parentGanttRecord) {\n                    tempStartDate =\n                        this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                }\n                if (maxStartDate === null || this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     *\n     * @param {ITaskData} ganttProperty .\n     * @param {ITaskData} parentRecordProperty .\n     * @param {IPredecessor} predecessor .\n     * @returns {Date} .\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    var date = new Date(tempDate);\n                    date.setDate(date.getDate() - 1);\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                if (ganttProperty.segments && ganttProperty.segments.length !== 0) {\n                    var duration = this.dateValidateModule.getDuration(ganttProperty.startDate, ganttProperty.endDate, ganttProperty.durationUnit, ganttProperty.isAutoSchedule, ganttProperty.isMilestone);\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                else {\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {IPredecessor} predecessor .\n     * @param {ITaskData} record .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0 && !isNullOrUndefined(date)) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record, true);\n        }\n        else {\n            if (!isNullOrUndefined(date)) {\n                resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            }\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param {IGanttData} records .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var ganttRecords = records ? records : this.parent.currentViewData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            ganttRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneCurrentViewData'];\n        }\n        var recordLength = ganttRecords.length;\n        var count;\n        var ganttRecord;\n        var predecessorsCollection;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        }\n        for (count = 0; count < recordLength; count++) {\n            if (this.parent.editModule && this.parent.editModule.deletedTaskDetails.length > 0) {\n                if (ganttRecords[count].parentItem) {\n                    var parentItem = this.parent.getRecordByID(ganttRecords[count].parentItem.taskId.toString());\n                    this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), ganttRecords[count]);\n                }\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['canUpdateIndex']) {\n                ganttRecords[count].index = count;\n                if (ganttRecords[count].parentItem && this.parent.getParentTask(ganttRecords[count].parentItem)) {\n                    ganttRecords[count].parentItem.index = this.parent.getParentTask(ganttRecords[count].parentItem).index;\n                }\n            }\n            ganttRecord = ganttRecords[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection);\n            }\n        }\n    };\n    /**\n     *\n     * @param {object[]} predecessorsCollection .\n     * @returns {void} .\n     */\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection) {\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                var isValid = true;\n                if (((parentGanttRecord && parentGanttRecord.hasChildRecords && !parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.hasChildRecords && !childGanttRecord.expanded)) &&\n                    !this.parent.allowTaskbarOverlap && this.parent.viewType === 'ProjectView') {\n                    isValid = false;\n                }\n                if (isValid && this.parent.connectorLineModule.expandedRecords &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor} predecessor .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor) {\n        var connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n        if (connectorObj) {\n            if (childGanttRecord.isCritical && parentGanttRecord.isCritical) {\n                connectorObj.isCritical = true;\n            }\n            if ((this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) ||\n                this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor[]} previousValue .\n     * @param {string} validationOn .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var taskBarModule = this.parent.editModule.taskbarEditModule;\n            var ganttProp = void 0;\n            if (taskBarModule) {\n                ganttProp = taskBarModule.taskBarEditRecord;\n            }\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var successor = void 0;\n            var currentTaskId_3 = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId.toString()\n                : childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var parentRec = void 0;\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, predecessor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, predecessor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                var id = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId\n                    : childGanttRecord.ganttProperties.rowUniqueID;\n                if ((id.toString() === predecessor.to\n                    || id.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                        this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                    }\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                successor = successors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(successor.from);\n                record = this.parent.connectorLineModule.getRecordByID(successor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, successor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, successor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && record) {\n                        var rootParent = parentGanttRecord.parentItem ?\n                            this.parent.connectorLineEditModule.getRootParent(parentGanttRecord) : null;\n                        if (record.hasChildRecords && (!this.parent.editModule['editedRecord'].hasChildRecords || (!record.parentItem &&\n                            (!rootParent || (rootParent && rootParent.ganttProperties.taskId === this.parent.editModule['editedRecord'].ganttProperties.taskId)))) &&\n                            this.isValidatedParentTaskID !== record.ganttProperties.taskId) {\n                            this.updateChildItems(record);\n                            for (var i = 0; i < record.childRecords.length; i++) {\n                                var ganttProp_1 = record.childRecords[i].ganttProperties;\n                                if (this.isChildRecordValidated.indexOf(ganttProp_1.taskId) !== -1) {\n                                    return;\n                                }\n                                this.isChildRecordValidated.push(ganttProp_1.taskId);\n                                if (ganttProp_1.predecessor && ganttProp_1.predecessor.length > 0) {\n                                    for (var j = 0; j < ganttProp_1.predecessor.length; j++) {\n                                        var childRec = void 0;\n                                        if (ganttProp_1.predecessor[j].to !== record.ganttProperties.taskId.toString()) {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].to)];\n                                        }\n                                        else {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].from)];\n                                        }\n                                        if (childRec) {\n                                            this.validatePredecessor(childRec, [], '');\n                                            if (childRec.hasChildRecords && this.parent.editModule['editedRecord'].hasChildRecords) {\n                                                this.updateChildItems(childRec);\n                                            }\n                                            this.isValidatedParentTaskID = childRec.ganttProperties.taskId;\n                                        }\n                                    }\n                                }\n                            }\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                        if (this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                }\n                else if (!record.ganttProperties.isAutoSchedule && this.parent.updateOffsetOnTaskbarEdit) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    if (this.parent.editModule.isFirstCall) {\n                        var taskIdsForView = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                        this.storeId = JSON.parse(JSON.stringify(taskIdsForView));\n                        this.parent.editModule.isFirstCall = false;\n                    }\n                    if (this.storeId) {\n                        var index = void 0;\n                        var idAsString = record[this.parent.taskFields.id].toString();\n                        if (this.parent.viewType === 'ResourceView') {\n                            var taskId = \"T\" + idAsString;\n                            index = this.storeId.includes(taskId) ? this.storeId.indexOf(taskId) : -1;\n                        }\n                        else {\n                            index = this.storeId.indexOf(idAsString);\n                        }\n                        if (index !== -1) {\n                            this.storeId = this.storeId.slice(0, index).concat(this.storeId.slice(index + 1));\n                            this.validatePredecessor(record, undefined, 'successor');\n                        }\n                    }\n                    else {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                }\n            }\n            if (record && !record.hasChildRecords && record.parentItem &&\n                this.validatedParentIds.indexOf(record.parentItem.taskId) === -1) {\n                this.validatedParentIds.push(record.parentItem.taskId);\n            }\n            var validUpdate = true;\n            if (record && record.hasChildRecords && this.validatedParentIds.indexOf(record.ganttProperties.taskId.toString()) !== -1) {\n                validUpdate = false;\n            }\n            if (validUpdate) {\n                if (record && record.ganttProperties.taskId !== this.isValidatedParentTaskID && ganttProp) {\n                    if ((taskBarModule.taskBarEditAction !== 'ParentDrag' && taskBarModule.taskBarEditAction !== 'ChildDrag')) {\n                        if (!ganttProp.hasChildRecords && record.hasChildRecords) {\n                            this.updateChildItems(record);\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                    if (record.parentItem) {\n                        this.parent.dataOperation.updateParentItems(record, true);\n                        var parentData = this.parent.getParentTask(record.parentItem);\n                        var index = (this.storeId && this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) : -1;\n                        if (parentData.ganttProperties.predecessor && parentData.ganttProperties.predecessor.length > 0 && index !== -1) {\n                            for (var i = 0; i < parentData.ganttProperties.predecessor.length; i++) {\n                                if (parentData.ganttProperties.predecessor[i].to !==\n                                    parentData.ganttProperties.taskId.toString()) {\n                                    var childRec = this.parent.flatData[this.parent.ids.indexOf(parentData.ganttProperties.predecessor[i].to)];\n                                    if (childRec && childRec.parentItem) {\n                                        this.validateChildGanttRecord(record, childRec);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (record && record.hasChildRecords && this.isValidatedParentTaskID !== record.ganttProperties.taskId && !ganttProp) {\n                    this.updateChildItems(record);\n                    this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateChildItems = function (ganttRecord) {\n        var _this = this;\n        if (ganttRecord.childRecords.length > 0 && this.validatedChildItems && this.validatedChildItems.length > 0) {\n            var isPresent = true;\n            isPresent = !ganttRecord.childRecords.some(function (record) {\n                return _this.validatedChildItems['includes'](record);\n            });\n            if (!isPresent) {\n                return;\n            }\n        }\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(previousData.ganttProperties.startDate)) {\n                previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n            }\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (!isNullOrUndefined(previousStartDate) && !isNullOrUndefined(currentStartDate) &&\n            previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (!isNullOrUndefined(validStartDate) && !isNullOrUndefined(validEndDate) && validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <= calcEndDate.getTime()) {\n                        this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    }\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n        if (childRecords.length) {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n    };\n    /**\n     * To get updated child records.\n     *\n     * @param {IGanttData} parentRecord .\n     * @param {IGanttData} childLists .\n     * @returns {void} .\n     */\n    Dependency.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} data .\n     * @param {Date} newStartDate .\n     * @returns {void} .\n     */\n    Dependency.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, false), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    Dependency.prototype.getRecord = function (parentGanttRecord, record, predecessor) {\n        var index;\n        var data;\n        if (isNullOrUndefined(record)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        else if (isNullOrUndefined(parentGanttRecord)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        return data;\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     *\n     * @param {IGanttData} record .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var _this = this;\n        var validPredecessor = [];\n        if (!isNullOrUndefined(record)) {\n            var recPredecessor = record.ganttProperties.predecessor;\n            if (recPredecessor && recPredecessor.length > 0) {\n                validPredecessor = recPredecessor.filter(function (value) {\n                    var id = _this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId\n                        : record.ganttProperties.rowUniqueID;\n                    return value.from !== id.toString();\n                });\n            }\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined, isObject, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.transform = '';\n        this.connectorLinePath = '';\n        this.arrowPath = '';\n        this.taskLineValue = 0;\n        this.expandedRecords = [];\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', {\n                className: cls.dependencyViewContainer\n            });\n        Object.assign(this.dependencyViewContainer.style, {\n            width: '100%',\n            height: '100%',\n            zIndex: 2,\n            position: 'absolute',\n            pointerEvents: 'none'\n        });\n        this.renderer = new SvgRenderer(this.parent.element.id);\n        this.initPublicProp();\n        this.svgObject = this.renderer.createSvg({\n            id: this.parent.element.id + '_svg'\n        });\n        this.svgObject.setAttribute('height', '100%');\n        this.svgObject.setAttribute('width', '100%');\n    }\n    /**\n     * To get connector line gap.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     *\n     * @param {IGanttData} parentGanttData .\n     * @param {IGanttData} childGanttData .\n     * @param {IPredecessor}  predecessor .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor) {\n        var connectorObj = {};\n        var updatedRecords;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            updatedRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            updatedRecords = this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport ?\n                this.parent.flatData : this.expandedRecords;\n        }\n        var parentIndex;\n        var childIndex;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var parentData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === parentGanttData.ganttProperties.taskId.toString();\n            })[0];\n            var childData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === childGanttData.ganttProperties.taskId.toString();\n            })[0];\n            parentIndex = parentData.index;\n            childIndex = childData.index;\n        }\n        else {\n            parentIndex = updatedRecords.indexOf(parentGanttData);\n            childIndex = updatedRecords.indexOf(childGanttData);\n        }\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var currentData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n        }\n        connectorObj.parentIndexInCurrentView = currentData.indexOf(parentGanttData);\n        connectorObj.childIndexInCurrentView = currentData.indexOf(childGanttData);\n        var isVirtualScroll = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        if ((!isVirtualScroll && (connectorObj.parentIndexInCurrentView === -1 || connectorObj.childIndexInCurrentView === -1)) ||\n            connectorObj.parentIndexInCurrentView === -1 && connectorObj.childIndexInCurrentView === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            connectorObj.rowHeight = !isNullOrUndefined(this.parent.ganttChartModule.getChartRows()) &&\n                this.parent.ganttChartModule.getChartRows()[0] &&\n                this.parent.ganttChartModule.getChartRows()[0].offsetHeight;\n            connectorObj.type = predecessor.type;\n            var parentId = this.parent.viewType === 'ResourceView' ? parentGanttRecord.taskId : parentGanttRecord.rowUniqueID;\n            var childId = this.parent.viewType === 'ResourceView' ? childGanttRecord.taskId : childGanttRecord.rowUniqueID;\n            connectorObj.connectorLineId = 'parent' + parentId + 'child' + childId;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            connectorObj.parentEndPoint = connectorObj.parentLeft + connectorObj.parentWidth;\n            connectorObj.childEndPoint = connectorObj.childLeft + connectorObj.childWidth;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     *\n     * @param {IConnectorLineObject} connectorLinesCollection .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLine = '';\n        var ariaConnector = [];\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = connectorLine + this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        this.svgObject.innerHTML = connectorLine;\n        var childNodes = this.parent.connectorLineModule.svgObject.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = 'Connector Line ' + this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n                innerChild[j].setAttribute('role', 'img');\n            }\n        }\n        this.parent.ganttChartModule.chartBodyContent.insertBefore(this.dependencyViewContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        this.dependencyViewContainer.appendChild(this.svgObject);\n        for (var i = 0; i < this.svgObject.children.length; i++) {\n            this.svgObject.children[i].children[0].setAttribute('tabindex', '-1');\n        }\n    };\n    /**\n     * To get parent position.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function (data) {\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            return (data.parentIndex * this.parent.rowHeight) > (data.childIndex * this.parent.rowHeight) ?\n                ((data.parentIndex * this.parent.rowHeight) - (data.childIndex * this.parent.rowHeight)) :\n                ((data.childIndex * this.parent.rowHeight) - (data.parentIndex * this.parent.rowHeight));\n        }\n        else {\n            return (data.parentIndex * data.rowHeight) > (data.childIndex * data.rowHeight) ?\n                ((data.parentIndex * data.rowHeight) - (data.childIndex * data.rowHeight)) :\n                ((data.childIndex * data.rowHeight) - (data.parentIndex * data.rowHeight));\n        }\n    };\n    /**\n     * To get sstype2 inner element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    // private getBorderStyles(cssType: string, unit: number): string {\n    //     const borderWidth: string = 'border-' + cssType + '-width:' + unit + 'px;';\n    //     const borderStyle: string = 'border-' + cssType + '-style:solid;';\n    //     const borderColor: string = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n    //     return (borderWidth + borderStyle + borderColor);\n    // }\n    ConnectorLine.prototype.calculateAdjustments = function (rowHeight, isMilestone, type) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if (((isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36) || (!isNullOrUndefined(this.parent.taskbarHeight) &&\n            this.parent.taskbarHeight <= defaultTaskbarHeight)) || !isMilestone) {\n            return {\n                adjustY1: 0,\n                adjustX: 0,\n                adjustY2: 0,\n                adjustZ: 0\n            };\n        }\n        else {\n            // Calculate adjustments dynamically for rowHeight greater than 36\n            var divisorY1 = ((type === 'FSType2' || type === 'FSType3' || type === 'FSType4' || type === 'SSType1' || type === 'SSType2' || type === 'SSType4' || type === 'SFType2')) ? 12 : 24;\n            var adjustY1 = (rowHeight - 36) / divisorY1;\n            var adjustX = -(rowHeight - 36) / 4;\n            var adjustZ = -2 * (rowHeight - 36) / 24;\n            if (rowHeight <= 36) {\n                return {\n                    adjustY1: 0,\n                    adjustX: 0,\n                    adjustY2: 0,\n                    adjustZ: 0\n                };\n            }\n            return {\n                adjustY1: adjustY1,\n                adjustX: adjustX,\n                adjustZ: adjustZ\n            };\n        }\n    };\n    /**\n     * To get connector line template.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        var height = this.getHeightValue(data);\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var isVirtual = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        var connectorLine = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPosition = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPositionHeight = rowPosition.top;\n        var isMilestoneValue = 0;\n        if (this.parent.renderBaseline) {\n            var modifiedValue = (this.parent.rowHeight / 36) * 5;\n            isMilestoneValue = (data.milestoneParent && data.milestoneChild) ? 0 : data.milestoneParent ? -modifiedValue :\n                data.milestoneChild ? modifiedValue : 0;\n        }\n        var heightValue = isVirtual ? connectorLine.height : (height + isMilestoneValue);\n        var borderTopWidth = 0;\n        var addTop = 0;\n        var parentOverlapTopValue = 0;\n        var childOverlapTopValue = 0;\n        var count = 0;\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.getRowByIndex(i).style.display !== 'none') {\n                    if (count < data.parentIndex) {\n                        count++;\n                        parentOverlapTopValue = parentOverlapTopValue + this.parent.getRowByIndex(i).offsetHeight;\n                    }\n                }\n            }\n            count = 0;\n            for (var j = 0; j < this.parent.currentViewData.length; j++) {\n                if (this.parent.getRowByIndex(j).style.display !== 'none') {\n                    if (count < data.childIndex) {\n                        count++;\n                        childOverlapTopValue = childOverlapTopValue + this.parent.getRowByIndex(j).offsetHeight;\n                    }\n                }\n            }\n            if (!this.parent.enableVirtualization) {\n                heightValue = Math.abs(parentOverlapTopValue - childOverlapTopValue);\n            }\n        }\n        if (this.parent.currentViewData[data.parentIndex] && this.parent.currentViewData[data.childIndex] &&\n            this.parent.allowParentDependency) {\n            var fromRecordIsParent = this.parent.currentViewData[data.parentIndex].hasChildRecords;\n            var toRecordIsParent = this.parent.currentViewData[data.childIndex].hasChildRecords;\n            var fromRecordIsManual = this.parent.currentViewData[data.parentIndex].ganttProperties.isAutoSchedule;\n            var toRecordIsManual = this.parent.currentViewData[data.childIndex].ganttProperties.isAutoSchedule;\n            var isValid = true;\n            if (((fromRecordIsParent && fromRecordIsManual) && !toRecordIsParent) || ((toRecordIsParent && toRecordIsManual) &&\n                !fromRecordIsParent) || (fromRecordIsParent && fromRecordIsManual && toRecordIsManual && toRecordIsParent)\n                || (!fromRecordIsParent && !toRecordIsParent)) {\n                isValid = false;\n            }\n            if (isValid) {\n                if (((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    addTop = -11;\n                }\n                else if (!((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    if (data.childIndex > data.parentIndex) {\n                        if (!fromRecordIsParent && toRecordIsParent) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                    else {\n                        if ((fromRecordIsParent && !toRecordIsParent)) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                }\n                if (this.parent.currentViewData[data.parentIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = -11;\n                        borderTopWidth = 12;\n                    }\n                    else if (data.type === 'SS' || data.type === 'FF') {\n                        addTop = -5;\n                    }\n                }\n                else if (this.parent.currentViewData[data.childIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = 5;\n                        borderTopWidth = -10;\n                    }\n                    else if (data.parentIndex < data.childIndex) {\n                        if (data.type === 'SS' || data.type === 'FF') {\n                            addTop = -10;\n                        }\n                    }\n                }\n                else {\n                    if (data.parentIndex < data.childIndex && fromRecordIsManual && !toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                    else if (data.childIndex < data.parentIndex && !fromRecordIsManual && toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                }\n            }\n        }\n        if (this.getParentPosition(data)) {\n            // Create the group element\n            var type = this.getParentPosition(data);\n            var rowHeight1 = this.parent.rowHeight;\n            var adjustments = this.calculateAdjustments(rowHeight1, isMilestone, type);\n            this.transform = this.parent.enableRtl ? \"translate(\" + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + \", 0) scale(-1, 1)\" : '';\n            this.connectorId = 'ConnectorLine' + data.connectorLineId;\n            this.groupObject = this.renderer.createGroup({\n                id: this.connectorId,\n                transform: this.transform,\n                style: 'pointer-events: stroke',\n                class: cls.connectorLineContainer\n            });\n            //  Create the path element for the connector line\n            this.connectorPath = this.renderer.drawPath({\n                class: cls.connectorLineSVG,\n                d: this.connectorLinePath,\n                fill: 'transparent',\n                'stroke-width': this.lineStroke\n            });\n            // Create the path element for the arrow\n            this.arrowlinePath = this.renderer.drawPath({\n                d: this.arrowPath,\n                class: cls.connectorLineArrow\n            });\n            var outlineColor = (this.lineColor) && !(this.parent.enableCriticalPath) ? this.lineColor : '';\n            this.connectorPath.setAttribute('style', \"stroke: \" + outlineColor);\n            this.arrowlinePath.setAttribute('style', \"fill: \" + outlineColor);\n            // Append the path element to the group element\n            this.groupObject.appendChild(this.connectorPath);\n            this.groupObject.appendChild(this.arrowlinePath);\n            if (this.getParentPosition(data) === 'FSType1') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneParent ? -1 : (data.milestoneChild ? -1 : 0));\n                this.x2 = data.milestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + (this.y1) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + 4) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType2') {\n                this.x1 = data.parentLeft;\n                this.x2 = data.parentWidth + (data.milestoneParent ? -1 : 0);\n                this.x3 = this.x2 + (data.milestoneParent ? 11 : 10);\n                this.x4 = data.parentWidth - ((data.parentEndPoint - data.childLeft) + 20);\n                this.y1 = (this.parent.enableVirtualization ?\n                    rowPositionHeight : ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                    (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = (!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                    (this.y1 + this.y2 - ((this.y1 + this.y2) % data.rowHeight)));\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' ' + ' L ' + (this.x1 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x3) + ' ' + this.y4 +\n                    ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + this.y4 + ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) + ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x4 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType3') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                        (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = (data.childLeft + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0)) - 20;\n                this.x2 = (data.parentEndPoint - data.childLeft) + 30;\n                this.y1 = this.point1 + (this.parent.renderBaseline ?\n                    (data.milestoneChild && !(data.milestoneParent) ? 11 :\n                        data.milestoneParent && !(data.milestoneChild) ? -12 : 0) : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke +\n                    this.taskLineValue;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y4 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + this.x2 - 12) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType4') {\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0);\n                this.x2 = data.childLeft - data.parentEndPoint - 20;\n                this.y1 = this.point1 + (data.milestoneChild ? -1 : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.lineStroke + 1 + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 11 : 0) : 0);\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + this.y2 +\n                    ' L ' + this.x1 + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = data.childLeft - data.parentLeft;\n                this.y1 = this.point2 + (data.milestoneChild ? 1 : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                    data.milestoneChild && !(data.milestoneParent) ? -13 : 0) : 0);\n                this.connectorLinePath = 'M ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + 10) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - (this.lineStroke - 1);\n                this.x1 = data.childLeft - 20;\n                this.y1 = (data.milestoneChild ? 1 : 0) + (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -11 :\n                    data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + this.x2) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = setInnerElementLeftSSType2;\n                this.x2 = setInnerChildWidthSSType2 + 1;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + setInnerElementWidthSSType2 + 8) + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = data.childLeft - 20;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.childEndPoint;\n                this.x2 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.x3 = data.milestoneParent ? 22 : 21;\n                this.x4 = data.milestoneChild ? 4 : 8;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + (this.x1 + this.x4) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1) + adjustedX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneParent ? 22 : 21);\n                this.x3 = data.childEndPoint + (data.milestoneChild ? 9 : 8);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(data.milestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + this.x3 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x3 - 8) + arrowX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 4 : 8);\n                this.x3 = data.parentEndPoint - data.childEndPoint + (data.milestoneChild ? 16 : 10);\n                this.x4 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 : data.milestoneChild && !(data.milestoneParent) ? -11 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x4 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneChild ? 7 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 12 : 11);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                        data.milestoneChild && !(data.milestoneParent) ? -12 : 0) : 0) - this.lineStroke + 1;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x1 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? -1 : 0);\n                this.point1 = (this.taskLineValue + heightValue + borderTopWidth - this.getconnectorLineGap(data) - (this.lineStroke - 1));\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = this.x1 + ((data.childEndPoint - data.parentLeft) + 18);\n                this.x3 = this.x2 + (data.milestoneChild ? 16 : 11);\n                this.y1 = this.point2 + (data.milestoneChild ? 2 : 0) + (this.parent.renderBaseline ? (data.milestoneParent ? -5 : 0) : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -9 :\n                    data.milestoneParent && !(data.milestoneChild) ? 9 : 0) : 0);\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + this.y4 + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + this.x1 + ' ' + ((this.y2 + this.y3)) + ' L ' + (this.x1 + 11) + ' ' + ((this.y2 + this.y3));\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + ((this.y1) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 - (4 + this.lineStroke)) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 + 4 + this.lineStroke) - adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = (data.parentLeft - (data.childEndPoint + (data.milestoneParent ? 23 : 20))) + 1;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 9 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 17 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + heightValue + borderTopWidth - (this.lineStroke - 1) + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) +\n                    ' L ' + this.x3 + ' ' + this.y2 + ' L ' + (this.x3 + this.point1) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x2 - 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + borderTopWidth - this.getconnectorLineGap(data) + this.taskLineValue - this.lineStroke;\n                this.point2 = this.getconnectorLineGap(data);\n                this.x1 = data.parentLeft - 10;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x2 = (data.childEndPoint - data.parentLeft) + 31;\n                this.y2 = this.y1 + this.point1;\n                this.x3 = (data.childEndPoint - data.parentLeft) + 18;\n                this.y3 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + (this.x1 + 11) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y3 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y3 + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x3) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x3 - 8) + arrowX) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.x2 = (data.parentLeft - data.childEndPoint);\n                this.y2 = this.y1 + heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 1) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y2 + adjustments['adjustY1']) + ' L ' + (this.x1 + 8) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            this.connectorPath.setAttribute('d', this.connectorLinePath);\n            this.arrowlinePath.setAttribute('d', this.arrowPath);\n        }\n        return this.groupObject.outerHTML;\n    };\n    /**\n     * @param {IConnectorLineObject} data .\n     * @param {string} type .\n     * @param {number} heightValue .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getPosition = function (data, type, heightValue) {\n        var topPosition = 0;\n        var lineHeight = 0;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var isMilestoneParent = data.milestoneParent ? true : false;\n            var isMilestone = data.milestoneChild ? true : false;\n            var midPointParent = this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1);\n            var midPoint = this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1);\n            var isParentIndex = data.parentIndexInCurrentView !== -1;\n            var isChildIndex = data.childIndexInCurrentView !== -1;\n            var lastRowIndex = this.parent.currentViewData.length - 1;\n            if (type === 'SSType1' || type === 'SSType2' || type === 'FFType1' || type === 'FFType2' || type === 'SFType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPointParent : (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SSType3' || type === 'SSType4' || type === 'FSType4' || type === 'FFType3' ||\n                type === 'FFType4' || type === 'SFType4' || type === 'SFType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n            else if (type === 'FSType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SFType1' || type === 'FSType1' || type === 'FSType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n        }\n        return { top: topPosition, height: lineHeight };\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param {string} fromTaskName .\n     * @param {string} fromPredecessorText .\n     * @param {string} toTaskName .\n     * @param {string} toPredecessorText .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var innerTd = '<tr  id=\"fromPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('from') + '</td><td> ';\n        innerTd = innerTd + fromTaskName + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(fromPredecessorText) + ' </td> </tr>';\n        innerTd = innerTd + '<tr id=\"toPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('to') + '</td><td> ' + toTaskName;\n        innerTd = innerTd + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(toPredecessorText) + ' </td></tr></tbody><table>';\n        return innerTd;\n    };\n    /**\n     * Generate aria-label for connectorline\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.expandedRecords;\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    /**\n     * To get the record based on the predecessor value\n     *\n     * @param {string} id .\n     * @returns {IGanttData} .\n     * @private\n     */\n    ConnectorLine.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var a = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'].filter(function (data) {\n                return data.ganttProperties.taskId.toString() === id.toString();\n            })[0];\n            return a;\n        }\n        else {\n            return this.parent.viewType === 'ResourceView' ? this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id.toString())] :\n                this.parent.flatData[this.parent.ids.indexOf(id.toString())];\n        }\n    };\n    /**\n     * Method to remove connector line from DOM\n     *\n     * @param {IGanttData[] | object} records .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            var predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} id .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id.replace(/([.])/g, '\\\\$1'));\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.isSplitterResized = false;\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        addClass([this.parent.chartPane], 'e-droppable');\n        if (this.parent.enableRtl) {\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        }\n        else {\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n        }\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            enableRtl: this.parent.enableRtl,\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                if (_this.parent.contextMenuModule && _this.parent.contextMenuModule.isOpen) {\n                    _this.parent.contextMenuModule.contextMenu.close();\n                }\n                var leftPane = args.pane[0];\n                var rightPane = args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n                if (_this.parent.timelineModule.isZoomToFit) {\n                    _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                }\n            },\n            resizeStop: function (args) {\n                _this.parent['calculateDimensions']();\n                _this.isSplitterResized = true;\n                var leftPane = args.pane[0];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                _this.splitterObject.paneSettings[1].size = (_this.parent.ganttWidth - parseInt(_this.splitterPreviousPositionGrid, 10) - _this.parent.splitterSettings.separatorSize) + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    if (isNullOrUndefined(_this.parent.projectEndDate)) {\n                        _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n        var splitterLeftPane = this.splitterObject.element.querySelector('.e-split-bar');\n        if (splitterLeftPane) {\n            var numericValue = parseFloat(splitterPosition.replace('%', ''));\n            var ariaValueNow = Math.min(100, Math.max(0, numericValue));\n            splitterLeftPane.setAttribute('aria-valuenow', ariaValueNow.toString());\n        }\n    };\n    /**\n     * @param {SplitterSettingsModel} splitter .\n     * @returns {string} .\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter) {\n        if (!isNullOrUndefined(this.splitterObject) && this.parent.enablePersistence) {\n            return this.splitterObject.paneSettings[0].size;\n        }\n        if (splitter.view === 'Grid') {\n            return this.parent.enableRtl ? '0%' : '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return this.parent.enableRtl ? '100%' : '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                if ((splitter.columnIndex * 150) < this.parent.ganttWidth || !this.parent.element.classList.contains('e-device')) {\n                    return this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px');\n                }\n                else {\n                    return this.getSpliterPositionInPercentage((splitter.columnIndex * 130) + 'px');\n                }\n            }\n            else {\n                var ganttWidth = this.parent.ganttWidth;\n                var width = ganttWidth - 250;\n                var widthAsString = width + 'px';\n                return (this.parent.enableRtl) ? this.getSpliterPositionInPercentage(widthAsString) : this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     * @param {string} position .\n     * @returns {string} .\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                if (this.parent.enableRtl) {\n                    var newPosition = 100 - parseFloat(position);\n                    value = newPosition + '%';\n                }\n                else {\n                    value = position.indexOf('%') === -1 ?\n                        position + '%' : position;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * @param {number} index .\n     * @returns {number} .\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var ganttWidth = this.parent.ganttWidth;\n        var originalArray = this.parent.ganttColumns;\n        var newArray = originalArray.filter(function (obj) { return obj.visible === undefined || obj.visible === true; });\n        var deepCopiedArray = newArray.map(function (obj) { return Object.assign({}, obj); });\n        var tr = deepCopiedArray;\n        index = tr.length > index ? index : tr.length;\n        if (this.parent.enableRtl) {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n            width = ganttWidth - width;\n        }\n        else {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n        }\n        return width;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        if (!this.isSplitterResized) {\n            this.splitterObject.paneSettings[0].size = splitterPosition;\n        }\n        this.isSplitterResized = false;\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.parent.timelineModule.updateTimelineAfterZooming(this.parent.timelineModule.timelineEndDate, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableRtl = this.parent.enableRtl;\n        this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n            return;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer') ||\n                    (args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar)) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    var tooltipTemplate = document.createElement('div');\n                    if (taskbarTemplateNode) {\n                        append(taskbarTemplateNode, tooltipTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    var baselineTemplate = document.createElement('div');\n                    if (baseLineTemplateNode) {\n                        append(baseLineTemplateNode, baselineTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            this.toolTipObj.content = argsData.content;\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n                return;\n            }\n            var postion = this.getPointorPosition(this.tooltipMouseEvent);\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = postion.x;\n            var tooltipPositionY = postion.y;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                while (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                    tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n                    args.element.style.left = tooltipPositionX + 'px';\n                }\n            }\n            else {\n                tooltipPositionX = tooltipPositionX + 10;\n                args.element.style.left = tooltipPositionX + 'px';\n            }\n            if (args.event.clientY > args.element.offsetHeight) {\n                if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                if ((topEnd < (tooltipPositionY + args.element.offsetHeight + 20))) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                else {\n                    tooltipPositionY = tooltipPositionY + 10;\n                }\n            }\n            else {\n                tooltipPositionY = tooltipPositionY + 10;\n            }\n            args.element.style.top = tooltipPositionY + 'px';\n        }\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string | Function} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            var taskNameValue = data.taskName;\n            if (this.parent.enableHtmlSanitizer && typeof (taskNameValue) === 'string') {\n                taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n            }\n            taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var milestoneStartDate = void 0;\n                    if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n                        milestoneStartDate = data.baselineStartDate;\n                    }\n                    else if (!isNullOrUndefined(data.startDate)) {\n                        milestoneStartDate = data.startDate;\n                    }\n                    var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer && typeof (sDateValue) === 'string') {\n                        sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n                    }\n                    var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        sDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + sDate_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n                    var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n                    var durationValue = this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit);\n                    var progressValue = data.progress;\n                    if (this.parent.enableHtmlSanitizer) {\n                        startDateValue = typeof (startDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n                        endDateValue = typeof (endDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n                        durationValue = SanitizeHtmlHelper.sanitize(durationValue);\n                    }\n                    var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n                    var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n                    var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td style=\"padding: 2px;\">:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationValue +\n                        '</td></tr>' : '';\n                    var progress_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td style=\"padding: 2px;\">:</td><td>' + progressValue +\n                        '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'baseline':\n                {\n                    var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n                    var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        baselineStartDateValue_1 = SanitizeHtmlHelper.sanitize(baselineStartDateValue_1);\n                        baselineEndDateValue_1 = SanitizeHtmlHelper.sanitize(baselineEndDateValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            baselineStartDateValue_1 + '</td></tr><tr>' +\n                            '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            baselineEndDateValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n                    var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    if (this.parent.enableHtmlSanitizer) {\n                        markerLabel_1 = SanitizeHtmlHelper.sanitize(markerLabel_1);\n                        markerTooltipElementValue_1 = SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                            markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n                    var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n                    var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n                    var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n                    var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n                    var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n                    if (this.parent.enableHtmlSanitizer) {\n                        fromNameValue_1 = SanitizeHtmlHelper.sanitize(fromNameValue_1);\n                        fromIdValue_1 = SanitizeHtmlHelper.sanitize(fromIdValue_1);\n                        toNameValue_1 = SanitizeHtmlHelper.sanitize(toNameValue_1);\n                        toIdValue_1 = SanitizeHtmlHelper.sanitize(toIdValue_1);\n                        linkTextValue_1 = SanitizeHtmlHelper.sanitize(linkTextValue_1);\n                        offsetStringValue_1 = SanitizeHtmlHelper.sanitize(offsetStringValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                            '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' +\n                            (this.parent.disableHtmlEncode ? (typeof (fromIdValue_1) === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1) : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 +\n                            '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            offsetStringValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    var titleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (titleValue_1) === 'string') {\n                        titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                }\n                break;\n            case 'timeline':\n                {\n                    var timlineTitleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (timlineTitleValue_1) === 'string') {\n                        timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualtaskbar':\n                {\n                    var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n                    var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartDateValue = SanitizeHtmlHelper.sanitize(autoStartDateValue);\n                        autoEndDateValue = SanitizeHtmlHelper.sanitize(autoEndDateValue);\n                        durationUnitValue = SanitizeHtmlHelper.sanitize(durationUnitValue);\n                        manualStartDateValue = SanitizeHtmlHelper.sanitize(manualStartDateValue);\n                        manualEndDateValue = SanitizeHtmlHelper.sanitize(manualEndDateValue);\n                    }\n                    var autoStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartDateValue + '</td></tr>';\n                    var autoEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndDateValue + '</td></tr>';\n                    var durationValue_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue +\n                        '</td></tr>';\n                    var manualStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        manualStartDateValue + '</td></tr>';\n                    var manualEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        manualEndDateValue + '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartValue = SanitizeHtmlHelper.sanitize(autoStartValue);\n                        autoEndValue = SanitizeHtmlHelper.sanitize(autoEndValue);\n                        dateValue = SanitizeHtmlHelper.sanitize(dateValue);\n                    }\n                    var autoStart_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartValue + '</td></tr>';\n                    var autoEnd_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndValue + '</td></tr>';\n                    var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        dateValue + '</tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.id;\n        if (this.parent.enableHtmlSanitizer && typeof (predeceesorParent) === 'string') {\n            predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n        }\n        var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n        taskIds.shift();\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string | Function} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { isNullOrUndefined, getValue, removeClass } from '@syncfusion/ej2-base';\n/**\n * Focus module is used to handle certain action on focus elements in keyboard navigations.\n */\nvar FocusModule = /** @class */ (function () {\n    function FocusModule(parent) {\n        this.parent = parent;\n        this.activeElement = null;\n        this.previousActiveElement = null;\n    }\n    FocusModule.prototype.getActiveElement = function (isPreviousActiveElement) {\n        return isPreviousActiveElement ? this.previousActiveElement : this.activeElement;\n    };\n    FocusModule.prototype.setActiveElement = function (element) {\n        this.previousActiveElement = this.activeElement;\n        this.activeElement = element;\n    };\n    /**\n     * To perform key interaction in Gantt\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    FocusModule.prototype.onKeyPress = function (e) {\n        var ganttObj = this.parent;\n        var ele = e.target;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (isNullOrUndefined(this.parent.focusModule.getActiveElement()) && (e.action === 'expandAll' || e.action === 'collapseAll')) {\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        if (!this.parent.isEdit && !isNullOrUndefined(ele) && ele.closest('.e-headercell') && (e.key === 'Enter') && this.parent.sortModule\n            && this.parent.allowSorting) {\n            e.action = 'enter';\n            this.parent.treeGrid.grid.notify('key-pressed', e);\n        }\n        var targetElement = this.parent.focusModule.getActiveElement();\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll' || e.action === 'undo' || e.action === 'redo' || e.action === 'selectAll') {\n            if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                ganttObj.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (ganttObj.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.type === 'Multiple') {\n                    ganttObj.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    if (ganttObj.selectedRowIndex === 0) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(0, false, true);\n                    }\n                }\n                break;\n            case 'end':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (ganttObj.selectedRowIndex === ganttObj.flatData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                {\n                    var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                    if (searchElement && searchElement.parentElement.classList.contains('e-input-focus')) {\n                        ganttObj.selectionModule.clearSelection();\n                    }\n                    if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                        this.upDownKeyNavigate(e);\n                        if (!isNullOrUndefined(targetElement) && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                            ganttObj.ganttChartModule.manageFocus(this.getActiveElement(), 'remove', true, e.action);\n                        }\n                        if (ganttObj.selectionSettings && ganttObj.selectionSettings.mode === 'Both' && e.target instanceof HTMLElement && e.target.classList.contains('e-cellselectionbackground')) {\n                            e.target.classList.remove('e-cellselectionbackground');\n                        }\n                    }\n                    break;\n                }\n            case 'expandAll':\n                ganttObj.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                ganttObj.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                    ganttObj.editModule.cellEditModule.isCellEdit) {\n                    var col = ganttObj.editModule.cellEditModule.editedColumn;\n                    if (col.field === ganttObj.columnMapping.duration && !isNullOrUndefined(col.edit) &&\n                        !isNullOrUndefined(col.edit.read)) {\n                        var textBox = e.target.ej2_instances[0];\n                        var textValue = e.target.value;\n                        // const ganttProp: ITaskData = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties;\n                        var tempValue = void 0;\n                        if (col.field === ganttObj.columnMapping.duration) {\n                            // tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? (col.edit.read as Function)() :\n                            //     // eslint-disable-next-line\n                            //     !isNullOrUndefined(col.valueAccessor) ? (col.valueAccessor as Function)(ganttObj.columnMapping.duration, ganttObj.editedRecords, col) :\n                            //         ganttObj.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                                tempValue = col.edit.read();\n                            }\n                            if (textValue !== tempValue.toString()) {\n                                textBox.value = textValue;\n                                textBox.dataBind();\n                            }\n                        }\n                    }\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.treeGrid.grid.saveCell();\n                    var focussedElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedElement.focus();\n                }\n                // if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isNullOrUndefined(targetElement)\n                //     && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                //     const target: EventTarget = e.target;\n                //     const taskbarElement: Element = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                //             '.e-gantt-child-taskbar,.e-gantt-milestone');\n                //     if (taskbarElement) {\n                //         this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                //     }\n                // }\n                if (!isNullOrUndefined(targetElement)\n                    && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                    var target = e.target;\n                    var taskbarElement = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                        '.e-gantt-child-taskbar,.e-gantt-milestone');\n                    if (taskbarElement) {\n                        this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                    }\n                }\n                break;\n            case 'cancelRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule)) {\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(ganttObj.toolbarModule)) {\n                        ganttObj.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                {\n                    if (ganttObj.editModule && ganttObj.editModule.cellEditModule && ganttObj.editModule.cellEditModule.isCellEdit) {\n                        e.stopPropagation();\n                    }\n                    else if (isNullOrUndefined(document.getElementById(this.parent.element.id + '_dialog'))) {\n                        e.preventDefault();\n                        ganttObj.addRecord(undefined, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n                        var focussedElement = ganttObj.element;\n                        focussedElement.focus();\n                    }\n                    break;\n                }\n            case 'addRowDialog':\n                e.preventDefault();\n                if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowAdding) {\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                {\n                    e.preventDefault();\n                    var focussedTreeElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedTreeElement.focus();\n                    if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowEditing) {\n                        if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                            return;\n                        }\n                        ganttObj.editModule.dialogModule.openToolbarEditDialog();\n                    }\n                    break;\n                }\n            case 'delete':\n                if (ganttObj.selectionModule && ganttObj.editModule && ganttObj.editModule.dialogModule &&\n                    (!ganttObj.editModule.dialogModule.dialogObj || (ganttObj.editModule.dialogModule.dialogObj &&\n                        !ganttObj.editModule.dialogModule.dialogObj.visible)) && (!ganttObj.editSettings.allowTaskbarEditing\n                    || (ganttObj.editSettings.allowTaskbarEditing && !ganttObj.editModule.taskbarEditModule.touchEdit))) {\n                    if ((ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectionModule.selectedRowIndexes.length)\n                        || (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length)) {\n                        if (!isNullOrUndefined(e.target)) {\n                            if (e.target['tagName'] !== 'INPUT') {\n                                ganttObj.editModule.startDeleteAction();\n                            }\n                        }\n                        else {\n                            ganttObj.editModule.startDeleteAction();\n                        }\n                    }\n                }\n                break;\n            case 'focusTask':\n                {\n                    e.preventDefault();\n                    var selectedId = void 0;\n                    if (ganttObj.selectionModule) {\n                        var currentViewData = ganttObj.currentViewData;\n                        if (ganttObj.selectionSettings.mode !== 'Cell' &&\n                            !isNullOrUndefined(currentViewData[ganttObj.selectedRowIndex])) {\n                            selectedId = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties.rowUniqueID;\n                        }\n                        else if (ganttObj.selectionSettings.mode === 'Cell' &&\n                            ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                            var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                            selectedId = currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                        }\n                    }\n                    if (selectedId) {\n                        ganttObj.scrollToTask(selectedId.toString());\n                    }\n                    break;\n                }\n            case 'focusSearch':\n                {\n                    if (ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar')) {\n                        var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                        searchElement.setAttribute('tabIndex', '-1');\n                        searchElement.focus();\n                    }\n                    break;\n                }\n            case 'tab':\n            case 'shiftTab':\n                if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                    ganttObj.ganttChartModule.onTabAction(e);\n                }\n                break;\n            case 'contextMenu':\n                {\n                    var contextMenu = document.getElementById(this.parent.element.id +\n                        '_contextmenu').ej2_instances[0];\n                    var containerPosition = this.parent.getOffsetRect(e.target);\n                    var top_1 = containerPosition.top + (containerPosition.height / 2);\n                    var left = containerPosition.left + (containerPosition.width / 2);\n                    this.setActiveElement(e.target);\n                    contextMenu.open(top_1, left);\n                    e.preventDefault();\n                    break;\n                }\n            case 'undo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                        this.parent.undo();\n                    }\n                    break;\n                }\n            case 'redo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getRedoCollection'].length > 0) {\n                        this.parent.redo();\n                    }\n                    break;\n                }\n            case 'selectAll':\n                {\n                    e.preventDefault();\n                    var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n                    if (ganttRow.length > 0) {\n                        var firstRowIndex = ganttRow[0].getAttribute('data-rowindex');\n                        var lastRowIndex = ganttRow[ganttRow.length - 1].getAttribute('data-rowindex');\n                        if (!isNullOrUndefined(firstRowIndex)) {\n                            firstRowIndex = Number(firstRowIndex);\n                        }\n                        if (!isNullOrUndefined(lastRowIndex)) {\n                            lastRowIndex = Number(lastRowIndex);\n                        }\n                        if (!isNullOrUndefined(firstRowIndex) && !isNullOrUndefined(lastRowIndex)) {\n                            this.parent.selectionModule.selectRowsByRange(firstRowIndex, lastRowIndex);\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    var eventArgs = {\n                        requestType: 'keyPressed',\n                        action: e.action,\n                        keyEvent: e\n                    };\n                    ganttObj.trigger('actionComplete', eventArgs);\n                    break;\n                }\n        }\n    };\n    FocusModule.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var ganttObj = this.parent;\n        var expandedRecords;\n        if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.flatData);\n        }\n        else {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        }\n        if (ganttObj.selectionModule) {\n            if (ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectedRowIndex !== -1) {\n                var selectedItem = void 0;\n                if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                    selectedItem = ganttObj.flatData[ganttObj.selectedRowIndex];\n                }\n                else {\n                    selectedItem = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n                }\n                var focussedElement = ganttObj.element.querySelector('.e-focused');\n                if (focussedElement) {\n                    removeClass([focussedElement], 'e-focused');\n                }\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var activeElement = this.parent['args'];\n                if (document.activeElement !== activeElement) {\n                    if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                    else {\n                        ganttObj.selectionModule.selectRow(ganttObj.currentViewData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = ganttObj.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: ganttObj.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                ganttObj.selectionModule.selectCell(cellInfo);\n            }\n            this.parent.ganttChartModule.focusedRowIndex = this.parent.selectedRowIndex;\n        }\n    };\n    FocusModule.prototype.expandCollapseKey = function (e) {\n        var ganttObj = this.parent;\n        if (ganttObj.selectionModule && ganttObj.selectedRowIndex !== -1) {\n            var selectedRowIndex_1;\n            if (ganttObj.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex_1 = ganttObj.selectedRowIndex;\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex_1 = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                selectedRowIndex_1 = this.parent.currentViewData.findIndex(function (obj) { return obj.ganttProperties.rowUniqueID ===\n                    selectedRowIndex_1.toString(); }) + 1;\n            }\n            if (e.action === 'expandRow') {\n                ganttObj.expandByIndex(selectedRowIndex_1);\n            }\n            else {\n                ganttObj.collapseByIndex(selectedRowIndex_1);\n            }\n        }\n    };\n    return FocusModule;\n}());\nexport { FocusModule };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, EventHandler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { LoadingIndicator } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\nimport { FocusModule } from '../actions/keyboard';\nimport { isCountRequired } from './utils';\nimport { WeekWorkingTime } from '../models/week-working-time';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRowSelected = false;\n        _this.showIndicator = true;\n        _this.singleTier = 0;\n        _this.expandedRecords = [];\n        _this.isLocaleChanged = false;\n        _this.triggeredColumnName = '';\n        _this.totalUndoAction = 0;\n        _this.previousFlatData = [];\n        _this.isExpandPerformed = false;\n        _this.oldRecords = [];\n        _this.updateDuration = false;\n        _this.isConvertedMilestone = false;\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        _this.isCollapseAll = false;\n        /** @hidden */\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.modifiedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isOnAdded = false;\n        /** @hidden */\n        _this.isExpandCollapseLevelMethod = false;\n        /** @hidden */\n        _this.isFromEventMarker = false;\n        /** @hidden */\n        _this.isDynamicData = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = true;\n        /** @hidden */\n        _this.addDeleteRecord = false;\n        /** @hidden */\n        _this.enableHeaderFocus = true;\n        /** @hidden */\n        _this.enableValidation = true;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isFromOnPropertyChange = false;\n        /**\n         * @private\n         */\n        _this.isFromRenderBaseline = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        /**\n         * @private\n         */\n        _this.isEdit = false;\n        /**\n         * To get the module name\n         *\n         * @returns {string} .\n         * @private\n         */\n        _this.eventMarkerColloction = [];\n        setValue('mergePersistData', _this.mergePersistGanttData, _this);\n        return _this;\n    }\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.getCurrentDayStartTime = function (date) {\n        var dayStartTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayStartTime = this['getStartTime'](date);\n        }\n        else {\n            dayStartTime = this.defaultStartTime;\n        }\n        return dayStartTime;\n    };\n    Gantt.prototype.getCurrentDayEndTime = function (date) {\n        var dayEndTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayEndTime = this['getEndTime'](date);\n        }\n        else {\n            dayEndTime = this.defaultEndTime;\n        }\n        return dayEndTime;\n    };\n    Gantt.prototype.getStartTime = function (date) {\n        var day = date.getDay();\n        var startTime;\n        switch (day) {\n            case 0:\n                startTime = this.sundayDefaultStartTime;\n                break;\n            case 1:\n                startTime = this.mondayDefaultStartTime;\n                break;\n            case 2:\n                startTime = this.tuesdayDefaultStartTime;\n                break;\n            case 3:\n                startTime = this.wednesdayDefaultStartTime;\n                break;\n            case 4:\n                startTime = this.thursdayDefaultStartTime;\n                break;\n            case 5:\n                startTime = this.fridayDefaultStartTime;\n                break;\n            default:\n                startTime = this.saturdayDefaultStartTime;\n                break;\n        }\n        return startTime;\n    };\n    Gantt.prototype.getEndTime = function (date) {\n        var day = date.getDay();\n        var endTime;\n        switch (day) {\n            case 0:\n                endTime = this.sundayDefaultEndTime;\n                break;\n            case 1:\n                endTime = this.mondayDefaultEndTime;\n                break;\n            case 2:\n                endTime = this.tuesdayDefaultEndTime;\n                break;\n            case 3:\n                endTime = this.wednesdayDefaultEndTime;\n                break;\n            case 4:\n                endTime = this.thursdayDefaultEndTime;\n                break;\n            case 5:\n                endTime = this.fridayDefaultEndTime;\n                break;\n            default:\n                endTime = this.saturdayDefaultEndTime;\n                break;\n        }\n        return endTime;\n    };\n    Gantt.prototype.getNonWorkingRange = function (date) {\n        var day = date.getDay();\n        var nonWorkingTimeRange;\n        switch (day) {\n            case 0:\n                nonWorkingTimeRange = this.sundayNonWorkingTimeRanges;\n                break;\n            case 1:\n                nonWorkingTimeRange = this.mondayNonWorkingTimeRanges;\n                break;\n            case 2:\n                nonWorkingTimeRange = this.tuesdayNonWorkingTimeRanges;\n                break;\n            case 3:\n                nonWorkingTimeRange = this.wednesdayNonWorkingTimeRanges;\n                break;\n            case 4:\n                nonWorkingTimeRange = this.thursdayNonWorkingTimeRanges;\n                break;\n            case 5:\n                nonWorkingTimeRange = this.fridayNonWorkingTimeRanges;\n                break;\n            default:\n                nonWorkingTimeRange = this.saturdayNonWorkingTimeRanges;\n                break;\n        }\n        return nonWorkingTimeRange;\n    };\n    Gantt.prototype.getWorkingRange = function (date) {\n        var day = date.getDay();\n        var workingTimeRanges;\n        switch (day) {\n            case 0:\n                workingTimeRanges = this.sundayWorkingTimeRanges;\n                break;\n            case 1:\n                workingTimeRanges = this.mondayWorkingTimeRanges;\n                break;\n            case 2:\n                workingTimeRanges = this.tuesdayWorkingTimeRanges;\n                break;\n            case 3:\n                workingTimeRanges = this.wednesdayWorkingTimeRanges;\n                break;\n            case 4:\n                workingTimeRanges = this.thursdayWorkingTimeRanges;\n                break;\n            case 5:\n                workingTimeRanges = this.fridayWorkingTimeRanges;\n                break;\n            default:\n                workingTimeRanges = this.saturdayWorkingTimeRanges;\n                break;\n        }\n        return workingTimeRanges;\n    };\n    Gantt.prototype.getSecondsPerDay = function (date) {\n        var day = date.getDay();\n        var totalSeconds;\n        switch (day) {\n            case 0:\n                totalSeconds = this.sundaySeconds;\n                break;\n            case 1:\n                totalSeconds = this.mondaySeconds;\n                break;\n            case 2:\n                totalSeconds = this.tuesdaySeconds;\n                break;\n            case 3:\n                totalSeconds = this.wednesdaySeconds;\n                break;\n            case 4:\n                totalSeconds = this.thursdaySeconds;\n                break;\n            case 5:\n                totalSeconds = this.fridaySeconds;\n                break;\n            case 6:\n                totalSeconds = this.saturdaySeconds;\n                break;\n            default:\n                totalSeconds = this.secondsPerDay;\n                break;\n        }\n        return totalSeconds;\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.updatedRecords = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.updateOffsetOnTaskbarEdit = this.UpdateOffsetOnTaskbarEdit === false ?\n            this.UpdateOffsetOnTaskbarEdit : this.updateOffsetOnTaskbarEdit;\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.mondayNonWorkingHours = [];\n        this.tuesdayNonWorkingHours = [];\n        this.wednesdayNonWorkingHours = [];\n        this.thursdayNonWorkingHours = [];\n        this.fridayNonWorkingHours = [];\n        this.saturdayNonWorkingHours = [];\n        this.sundayNonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.mondayNonWorkingTimeRanges = [];\n        this.tuesdayNonWorkingTimeRanges = [];\n        this.wednesdayNonWorkingTimeRanges = [];\n        this.thursdayNonWorkingTimeRanges = [];\n        this.fridayNonWorkingTimeRanges = [];\n        this.saturdayNonWorkingTimeRanges = [];\n        this.sundayNonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.mondayWorkingTimeRanges = [];\n        this.tuesdayWorkingTimeRanges = [];\n        this.wednesdayWorkingTimeRanges = [];\n        this.thursdayWorkingTimeRanges = [];\n        this.fridayWorkingTimeRanges = [];\n        this.saturdayWorkingTimeRanges = [];\n        this.sundayWorkingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.mondayDefaultStartTime = null;\n        this.mondayDefaultEndTime = null;\n        this.tuesdayDefaultStartTime = null;\n        this.tuesdayDefaultEndTime = null;\n        this.wednesdayDefaultStartTime = null;\n        this.wednesdayDefaultEndTime = null;\n        this.thursdayDefaultStartTime = null;\n        this.thursdayDefaultEndTime = null;\n        this.fridayDefaultStartTime = null;\n        this.fridayDefaultEndTime = null;\n        this.saturdayDefaultStartTime = null;\n        this.saturdayDefaultEndTime = null;\n        this.sundayDefaultStartTime = null;\n        this.sundayDefaultEndTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute'\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedTaskBarItem = null;\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = this.enablePersistence && this.cloneProjectStartDate ?\n            this.cloneProjectStartDate : null;\n        this.cloneProjectEndDate = this.enablePersistence && this.cloneProjectEndDate ?\n            this.cloneProjectEndDate : null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            cancelRequest: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70',\n            contextMenu: 'shift+F10',\n            undo: 'ctrl+z',\n            redo: 'ctrl+y',\n            selectAll: 'ctrl+a'\n        };\n        this.focusModule = new FocusModule(this);\n        if (this.zoomingLevels.length === 0) {\n            this.setProperties({ zoomingLevels: this.getZoomingLevels() }, true);\n        }\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.setProperties({ resourceFields: { unit: 'unit' } }, true);\n        }\n        this.taskIds = [];\n    };\n    Gantt.prototype.isUndoRedoItemPresent = function (action) {\n        if (this.undoRedoModule && this.undoRedoActions && this.undoRedoActions.indexOf(action) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getDateFormat = function () {\n        if (!isNullOrUndefined(this.dateFormat)) {\n            return this.dateFormat;\n        }\n        else {\n            var ganttDateFormat = this.globalize.getDatePattern({ skeleton: 'yMd' });\n            return ganttDateFormat;\n        }\n    };\n    /**\n     * To get timezone offset.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     *\n     * @param {Date} date - Defines the date to check whether it is DST.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * Method to map resource fields.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     *\n     * @param {string | number} value .\n     * @returns {string} .\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        if (this.isReact) {\n            this.treeGrid.isReact = true;\n            this.treeGrid.grid.isReact = true;\n        }\n        if (this.isVue) {\n            this.treeGrid.isVue = true;\n            this.treeGrid.grid.isVue = true;\n            /* eslint-disable-next-line */\n            this.treeGrid.vueInstance = this.vueInstance;\n            /* eslint-disable-next-line */\n            this.treeGrid.grid.vueInstance = this.vueInstance;\n        }\n        this.element.setAttribute('role', 'application');\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        var height = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.rowHeight === 36) ? 46 : this.rowHeight : this.rowHeight;\n        this.rowHeight = isNullOrUndefined(this.rowHeight) ? 36 : height;\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.actionFailures();\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n        if (this.dataMap) {\n            this.dataMap.clear();\n        }\n        this.dataOperation.checkDataBinding();\n    };\n    Gantt.prototype.actionFailures = function () {\n        var failureCases = [];\n        var lettersRegex = /^[a-zA-Z\\s/]+$/;\n        var allPropertiesNull = true;\n        var fields = this.taskFields['properties'];\n        var shouldBreak = false;\n        Object.keys(fields).forEach(function (key) {\n            if (fields[key] !== null) {\n                allPropertiesNull = false;\n                shouldBreak = true;\n            }\n        });\n        var isPrimary = true;\n        for (var i = 0; i < this.columns.length; i++) {\n            if (this.columns[i]['isPrimaryKey']) {\n                isPrimary = false;\n                break;\n            }\n        }\n        if (allPropertiesNull) {\n            failureCases.push('Gantt Task Fields are not configured properly. The task fields are crucial for both the project and resource views to function properly. Please ensure that the gantt task fields are properly configured!');\n        }\n        if (this.viewType === 'ResourceView') {\n            if (!this.resourceFields.id) {\n                failureCases.push('Gantt Resource Fields are not properly configured, which is crucial for the Resource View. Please ensure that the resource fields are configured correctly!');\n            }\n        }\n        if (this.dataSource instanceof DataManager && isNullOrUndefined(this.taskFields.hasChildMapping)) {\n            failureCases.push('hasChildMapping property is not configured for load-on-demand. Please ensure its properly configured in the Gantt Task Fields!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.topTier.format) && this.timelineSettings.topTier.format !== '' && !lettersRegex.test(this.timelineSettings.topTier.format)) {\n            failureCases.push('The provided top tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.bottomTier.format) && this.timelineSettings.bottomTier.format !== '' && !lettersRegex.test(this.timelineSettings.bottomTier.format)) {\n            failureCases.push('The provided bottom  tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (isPrimary && this.viewType !== 'ResourceView') {\n            failureCases.push('Primarykey is not configured properly. The primarykey is crucial for doing CRUD operations or map taskId in column field of gantt!');\n        }\n        if (this.eventMarkers.length > 0) {\n            this.eventMarkers.forEach(function (markers) {\n                if (!markers.day) {\n                    failureCases.push('Day is not configured properly in event markers.Please ensure that the day in event markers is properly configured!');\n                }\n            });\n        }\n        /* eslint-disable-next-line */\n        function checkModule(moduleName, settings, injectedModules, failureCases) {\n            /* eslint-disable-next-line */\n            var modules;\n            if (!isNullOrUndefined(injectedModules)) {\n                modules = injectedModules.filter(function (e) { return e.prototype.getModuleName() === moduleName; });\n            }\n            if (settings && !isNullOrUndefined(modules) && modules.length === 0) {\n                failureCases.push(\"Module \" + moduleName + \" is not available in Gantt component! You either misspelled the module name or forgot to load it!\");\n            }\n        }\n        checkModule('sort', this.allowSorting, this.injectedModules, failureCases);\n        var editSettings;\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing ||\n            this.editSettings.allowNextRowEdit || this.editSettings.allowTaskbarEditing || this.editSettings.mode ||\n            this.editSettings.newRowPosition || this.editSettings.showDeleteConfirmDialog) {\n            editSettings = true;\n        }\n        checkModule('edit', editSettings, this.injectedModules, failureCases);\n        checkModule('reorder', this.allowReordering, this.injectedModules, failureCases);\n        checkModule('excelExport', this.allowExcelExport, this.injectedModules, failureCases);\n        var dragAndDrop;\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            dragAndDrop = true;\n        }\n        checkModule('rowDragAndDrop', dragAndDrop, this.injectedModules, failureCases);\n        checkModule('criticalPath', this.enableCriticalPath, this.injectedModules, failureCases);\n        checkModule('undoRedo', this.enableUndoRedo, this.injectedModules, failureCases);\n        checkModule('resize', this.allowResizing, this.injectedModules, failureCases);\n        var toolbar;\n        if (this.toolbar && this.toolbar.length > 0) {\n            toolbar = true;\n        }\n        checkModule('toolbar', toolbar, this.injectedModules, failureCases);\n        var filter;\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            filter = true;\n        }\n        checkModule('filter', filter, this.injectedModules, failureCases);\n        checkModule('selection', this.allowSelection, this.injectedModules, failureCases);\n        var dayMarkers;\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            dayMarkers = true;\n        }\n        checkModule('dayMarkers', dayMarkers, this.injectedModules, failureCases);\n        checkModule('contextMenu', this.enableContextMenu, this.injectedModules, failureCases);\n        checkModule('columnMenu', this.showColumnMenu, this.injectedModules, failureCases);\n        checkModule('pdfExport', this.allowPdfExport, this.injectedModules, failureCases);\n        checkModule('virtualScroll', this.enableVirtualization, this.injectedModules, failureCases);\n        if (failureCases.length > 0) {\n            /* eslint-disable-next-line */\n            var failureEventArgs_1 = {\n                error: {}\n            };\n            /* eslint-disable-next-line */\n            failureCases.forEach(function (err, index) {\n                failureEventArgs_1.error[parseInt(index, 10)] = err;\n            });\n            this.trigger('actionFailure', failureEventArgs_1);\n        }\n    };\n    Gantt.prototype.hideMaskRow = function () {\n        var isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.contentMaskTable) && (isTablePresent !== 0 || this.contentMaskTable)) {\n            var maskTable = this.contentMaskTable;\n            remove(maskTable);\n            this.contentMaskTable = null;\n        }\n        isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.headerMaskTable) && (isTablePresent !== 0 || this.headerMaskTable)) {\n            var maskTable = this.headerMaskTable;\n            remove(maskTable);\n            this.headerMaskTable = null;\n        }\n        while ((this.element.querySelectorAll('.e-table-background')).length !== 0) {\n            this.element.querySelectorAll('.e-table-background')[0].remove();\n        }\n        while ((this.element.querySelectorAll('.e-temp-timeline')).length !== 0) {\n            this.element.querySelectorAll('.e-temp-timeline')[0].remove();\n        }\n        if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n            for (var i = 0; i < this.singleTier; i++) {\n                if (!isNullOrUndefined(this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)])) {\n                    this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'visible';\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.' + cls.timelineHeaderContainer))) {\n            this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'relative';\n        }\n        if (!isNullOrUndefined(this.element.getElementsByClassName(cls.chartBodyContent)[0])) {\n            this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'visible';\n        }\n    };\n    Gantt.prototype.showMaskRow = function () {\n        var ganttHeader = this.chartPane.childNodes[0].childNodes[0];\n        this.scrollLeftValue = this.chartPane.childNodes[0].childNodes[0]['scrollLeft'];\n        var ganttContent = this.chartPane.childNodes[0].childNodes[1];\n        if (this.treeGrid.element) {\n            this.ganttChartModule['setVirtualHeight']();\n        }\n        if (!this.contentMaskTable) {\n            if (ganttContent) {\n                var content = ganttContent;\n                this.renderBackGround(content);\n                if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n                    this.singleTier = this.timelineModule.isSingleTier ? 1 : 2;\n                    for (var i = 0; i < this.singleTier; i++) {\n                        this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'hidden';\n                    }\n                }\n                if (this.singleTier === 0) {\n                    this.singleTier = 2;\n                }\n                this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'hidden';\n                this.contentMaskTable = this.contentMaskTable = this.createMaskTable(content);\n            }\n            if (ganttHeader) {\n                this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'static';\n                var content = ganttHeader;\n                this.renderHeaderBackground(content);\n                this.headerMaskTable = this.headerMaskTable = this.createMaskTable(content);\n            }\n        }\n    };\n    Gantt.prototype.renderHeaderBackground = function (element) {\n        var parentElement = element;\n        // const timelineHeight: any = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        if (header) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= ((160))) + 'px; top:0px;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += ((160))) + 'px; top:0px;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    Gantt.prototype.renderBackGround = function (element) {\n        var parentElement = element;\n        // const timelineHeight: number = element.getBoundingClientRect().height;\n        var content = closest(parentElement, '.' + cls.chartBodyContainer) ? true : false;\n        if (content) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= (160)) + 'px;z-index:1;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += (160)) + 'px;z-index:1;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    /* eslint-disable-next-line */\n    Gantt.prototype.createMaskTable = function (element) {\n        var parentElement = element;\n        var shimmerContainerHeight = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        /* eslint-disable-next-line */\n        var maskTable;\n        if (header) {\n            maskTable = this.createEmptyTimeLineTable(shimmerContainerHeight);\n            maskTable.style.position = 'sticky';\n            maskTable.style.left = 0 + 'px';\n            if (this.enableRtl) {\n                maskTable.style.removeProperty('left');\n            }\n        }\n        else {\n            maskTable = this.createEmptyMaskTable(shimmerContainerHeight);\n            maskTable.style.position = 'absolute';\n            maskTable.style.zIndex = 1;\n        }\n        if (!header) {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            parentElement.insertBefore(maskTable, parentElement.firstChild);\n        }\n        else {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            var div = this.createElement('div', { className: 'e-temp-timeline' });\n            div.style.width = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] + 'px';\n            div.style.position = 'sticky';\n            if (this.enableRtl) {\n                div.style['margin-right'] = Math.abs(this.scrollLeftValue) + 'px';\n            }\n            else {\n                div.style['margin-left'] = this.scrollLeftValue + 'px';\n            }\n            div.appendChild(maskTable);\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n        return maskTable;\n    };\n    Gantt.prototype.createEmptyTimeLineTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', {\n            className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 2 + 'px;'\n            }\n        });\n        for (var i = 0; i < this.singleTier; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        this.topBottomHeader = 0;\n        for (var i = 0; i < row.length; i++) {\n            tbody.appendChild(this.applyTimelineMaskRow(row[parseInt(i.toString(), 10)]));\n            this.topBottomHeader = this.topBottomHeader + 1;\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        return table;\n    };\n    Gantt.prototype.applyTimelineMaskRow = function (row) {\n        var maskRow = row;\n        var num = 4;\n        if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166 > 4) {\n            num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166;\n        }\n        for (var i = 0; i < num; i++) {\n            maskRow.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n        }\n        for (var i = 0; i < maskRow.childNodes.length - 1; i++) {\n            maskRow.childNodes[parseInt(i.toString(), 10)]['style']['width'] = 166 + 'px';\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.topBottomHeader) {\n                case 0:\n                    {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                            maskCell.children[0]['style'].left = -20 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                        }\n                        break;\n                    }\n                case 1:\n                    {\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        var innerMaskCells = [].slice.call(maskCell.childNodes);\n                        for (var i_1 = 0; i_1 < innerMaskCells.length; i_1++) {\n                            var htmlInner = innerMaskCells[parseInt(i_1.toString(), 10)];\n                            if (i_1 === 0) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                    htmlInner.children[0]['style'].left = -14 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                }\n                            }\n                            else if (i_1 === 1) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                    htmlInner.children[0]['style'].left = -30 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                }\n                            }\n                            else {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                    htmlInner.children[0]['style'].left = -60 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                }\n                            }\n                        }\n                        break;\n                    }\n            }\n        }\n        return maskRow;\n    };\n    Gantt.prototype.createEmptyMaskTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', { className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 7 + 'px;'\n            } });\n        this.columnLoop = 0;\n        for (var i = 0; i < 6; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        for (var j = 0; j < row.length; j++) {\n            if (this.columnLoop < 4) {\n                this.columnLoop = this.columnLoop + 1;\n            }\n            else if (this.columnLoop === 4) {\n                this.columnLoop = 1;\n            }\n            tbody.appendChild(this.applyMaskRow(row[parseInt(j.toString(), 10)]));\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        var div = this.createElement('div', { className: 'e-temp-container' });\n        div.style.width = 'calc(100% - ' + 17 + 'px)';\n        div.style.overflow = 'hidden';\n        div.appendChild(table);\n        return div;\n    };\n    Gantt.prototype.applyMaskRow = function (row) {\n        var maskRow = row;\n        if (this.columnLoop < 4) {\n            var num = 2;\n            if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300 > 2) {\n                num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300;\n            }\n            for (var i = 0; i < num; i++) {\n                maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n            }\n        }\n        else {\n            maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.columnLoop) {\n                case 1:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell02\"></span>';\n                    }\n                    break;\n                case 2:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell04\"></span>';\n                    }\n                    break;\n                case 3:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                            maskCell.children[0]['style'].left = -64 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                        }\n                    }\n                    else {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                            maskCell.children[0]['style'].left = -192 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                        }\n                    }\n                    break;\n                case 4:\n                    if (this.enableRtl) {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                        maskCell.children[0]['style'].left = -388 + 'px';\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                    }\n                    break;\n            }\n        }\n        return maskRow;\n    };\n    /**\n     * Method used to show spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.processTimeline = function () {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n    };\n    /**\n     * @param {boolean} isChange -Defines whether task data is changed.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        if (isChange) {\n            this.isFromOnPropertyChange = isChange;\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n        }\n        if (this.allowParentDependency) {\n            this.predecessorModule.updateParentPredecessor();\n        }\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule['parentIds'] = [];\n            this.predecessorModule['parentRecord'] = [];\n            this.predecessorModule.updatePredecessors();\n            if (this.isInPredecessorValidation && this.enableValidation && this.autoCalculateDateScheduling &&\n                !(this.isLoad && !this.treeGrid.loadChildOnDemand && this.taskFields.hasChildMapping)) {\n                this.predecessorModule.updatedRecordsDateByPredecessor();\n            }\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n            this.dataOperation.updateGanttData();\n        }\n        if (isChange) {\n            if (this.dataSource instanceof Object && isCountRequired(this)) {\n                var count = getValue('count', this.dataSource);\n                this.treeGrid.dataSource = { result: this.flatData, count: count };\n            }\n            else {\n                this.treeGrid.setProperties({ dataSource: this.flatData }, false);\n            }\n            if (!isNullOrUndefined(this.selectionModule)) {\n                this.treeGrid.setProperties({ selectedRowIndex: this.selectedRowIndex }, false);\n            }\n        }\n        else {\n            this.treeGridPane.classList.remove('e-temp-content');\n            if (!isNullOrUndefined(this.treeGridPane.querySelector('.e-gantt-temp-header'))) {\n                remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            }\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        if (!this.isFromOnPropertyChange) {\n            this.splitterModule.updateSplitterPosition();\n        }\n        if ((this.gridLines === 'Vertical' || this.gridLines === 'Both') && (!this.dayMarkersModule)) {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.removeCriticalPathStyles = function () {\n        var ganttChartElement = this.ganttChartModule.chartElement;\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-progressbar-inner-div'), cls.criticalChildProgressBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-critical-milestone'), cls.criticalMilestone);\n        removeClass(this.element.querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n        removeClass(this.element.querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    Gantt.prototype.unwireEvents = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        /* eslint-disable-next-line */\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n    };\n    Gantt.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                this.ganttChartModule.manageFocus(this.treeGrid.element.childNodes[1], 'remove', false);\n                this.ganttChartModule.manageFocus(this.element, 'add', false);\n            }\n        }\n    };\n    /**\n     * Method trigger while user perform window resize.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.windowResize = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.element)) {\n            this.updateContentHeight();\n            this.ganttChartModule.updateWidthAndHeight(); // Updating chart scroll conatiner height for row mismatch\n            this.treeGridModule.ensureScrollBar();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection);\n                this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection);\n            }\n            var criticalModule = this.criticalPathModule;\n            if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n            this.calculateDimensions();\n            var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n            var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n            this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterObject.paneSettings[1].size = (this.ganttWidth - parseInt(this.splitterModule.splitterPreviousPositionGrid, 10) - this.splitterSettings.separatorSize) + 'px';\n            if (this.timelineModule.isZoomedToFit) {\n                setTimeout(function () {\n                    _this.timelineModule.processZoomToFit();\n                }, 0);\n            }\n        }\n        if (this.dayMarkersModule && this.dayMarkersModule['eventMarkerRender']) {\n            this.dayMarkersModule['eventMarkerRender'].updateContainerHeight();\n        }\n        if (this.enableTimelineVirtualization) {\n            this.timelineModule.refreshTimeline();\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        if (this.enableContextMenu && this.contextMenuModule && (e.action === 'downArrow' || e.action === 'upArrow') && document.getElementById(this.element.id + '_contextmenu') && this['args']) {\n            var firstMenuItem = this['args'];\n            if (!isNullOrUndefined(firstMenuItem)) {\n                (firstMenuItem).focus();\n            }\n        }\n        if (e.target && (e.action === 'downArrow' || e.action === 'upArrow') && e.target === this.element.querySelector('.e-rowcell')) {\n            this.treeGrid.grid.notify('key-pressed', e);\n        }\n        else {\n            this.focusModule.onKeyPress(e);\n        }\n    };\n    /**\n     * Method for updating row height value in connector line collections\n     *\n     * @param {IConnectorLineObject[]} collection  -Defines the CollectorLine collection.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateRowHeightInConnectorLine = function (collection) {\n        if (collection && collection.length) {\n            var rowHeight = !isNullOrUndefined(this.ganttChartModule) && this.ganttChartModule.getChartRows()[0]\n                && this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            if (rowHeight && !isNaN(rowHeight)) {\n                for (var count = 0; count < collection.length; count++) {\n                    collection[count].rowHeight = rowHeight;\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        var _this = this;\n        this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        if (this.currentViewData.length > 0 && this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.isLoad = true;\n            this.flatData = [];\n            this.dataOperation.taskIds = [];\n            this.ids = [];\n            this.dataOperation.recordIndex = 0;\n            this.dataOperation.dataArray = this.currentViewData;\n            this.dataOperation.cloneDataSource();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.predecessorModule['parentIds'] = [];\n                this.predecessorModule['parentRecord'] = [];\n                this.predecessorModule.updatePredecessors();\n            }\n            /* eslint-disable-next-line */\n            var gridData = this.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.taskFields.id] === _this.flatData[0].ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            var index = data['index'];\n            for (var i = 0; i < this.flatData.length; i++) {\n                this.flatData[i].index = index;\n                index++;\n            }\n            this.currentViewData = this.flatData;\n            this.treeGrid.grid.currentViewData = this.flatData;\n            if (!isNullOrUndefined(this.treeGrid['virtualScrollModule'])) {\n                this.treeGrid['virtualScrollModule'].visualData = this.flatData;\n                this.updatedRecords = this.flatData;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} records -Defines the delete record collections.\n     * @returns {IGanttData} .\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @param {object} args -Update the gantt element content height.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateContentHeight = function (args) {\n        if ((!this.allowTaskbarOverlap && !this.ganttChartModule.isCollapseAll && !this.ganttChartModule.isExpandAll) && !this.isLoad) {\n            return;\n        }\n        else {\n            if (this.virtualScrollModule && this.enableVirtualization && !isNullOrUndefined(args)) {\n                var length_1 = getValue('result.length', args);\n                this.contentHeight = length_1 * this.rowHeight;\n            }\n            else {\n                var expandedRecords = this.virtualScrollModule && this.enableVirtualization ?\n                    this.currentViewData : this.getExpandedRecords(this.currentViewData);\n                this.expandedRecords = expandedRecords;\n                var height = void 0;\n                var chartRow = (!isNullOrUndefined(this.ganttChartModule) &&\n                    !isNullOrUndefined(this.ganttChartModule.getChartRows())) ? this.ganttChartModule.getChartRows()[0] : null;\n                if (!isNullOrUndefined(chartRow) && chartRow.offsetHeight > 0) {\n                    height = chartRow.offsetHeight;\n                }\n                else {\n                    height = this.rowHeight;\n                }\n                this.contentHeight = expandedRecords.length * height;\n            }\n        }\n    };\n    /**\n     * To get expand status.\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     *\n     * @param {IGanttData[]} records - Defines record collection.\n     * @returns {IGanttData[]} .\n     * @deprecated\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        if (isNullOrUndefined(records)) {\n            return [];\n        }\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        this.expandedRecords = expandedRecords;\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     *\n     * @returns {ZoomTimelineSettings} .\n     * @private\n     */\n    Gantt.prototype.getZoomingLevels = function () {\n        var _WeekStartDay = this.timelineSettings.weekStartDay;\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            }\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 5) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @returns {string} .\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.getDateFormat();\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     *\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     *\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    Gantt.prototype.updateTreeColumns = function () {\n        var temp;\n        // let field: string;\n        var gridColumns = this.treeGrid.grid.getColumns();\n        if (this.treeColumnIndex !== -1 && this.columns[this.treeColumnIndex] &&\n            !isNullOrUndefined(this.columns[this.treeColumnIndex]['template'])) {\n            temp = this.columns[this.treeColumnIndex]['template'];\n            // field = this.columns[this.treeColumnIndex]['field'];\n        }\n        var gridColumn;\n        for (var i = 0; i < gridColumns.length; i++) {\n            gridColumn = {};\n            for (var j = 0; j < this.columns.length; j++) {\n                if (this.columns[j]['field'] === gridColumns[i].field) {\n                    for (var _i = 0, _a = Object.keys(this.columns[j]); _i < _a.length; _i++) {\n                        var prop = _a[_i];\n                        if (!isUndefined(this.columns[j][prop])) {\n                            gridColumn[prop] = gridColumns[i][prop];\n                        }\n                        gridColumn.visible = gridColumns[i].visible;\n                        gridColumn.width = gridColumns[i].width;\n                    }\n                    this.columns[j] = (gridColumn);\n                    if (this.columns[j]['type'] !== 'checkbox' && (!isNullOrUndefined(temp) && temp !== '')) {\n                        this.columns[j]['template'] = temp;\n                    }\n                }\n            }\n        }\n        if (this.columns.length > 0) {\n            this.treeGrid.setProperties({ columns: this.columns }, true);\n        }\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.treeDataBound = function (args) {\n        var _this = this;\n        if (this.isLoad && this.undoRedoModule) {\n            if (this.sortSettings.columns.length > 0) {\n                this.undoRedoModule['previousSortedColumns'] = this.sortSettings.columns;\n            }\n            else if (this.searchSettings.key !== '') {\n                this.undoRedoModule['searchString'] = this.searchSettings.key;\n            }\n        }\n        this.element.getElementsByClassName('e-chart-root-container')[0]['style'].height = '100%';\n        // let gridHeight: string = this.element.getElementsByClassName('e-gridcontent')[0]['style'].height;\n        var gridContent = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0];\n        gridContent.setAttribute('tabindex', '0');\n        var treeGridrole = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0].childNodes[0];\n        treeGridrole.setAttribute('role', 'treegrid');\n        var timelineContainer = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        // gridHeight = 'calc(100% - ' + timelineContainer + 'px)';\n        // this.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        var scrollContainer = this.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        scrollContainer['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        scrollContainer.setAttribute('tabindex', '0');\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.splitterElement.style.height = 'calc(100% - ' + this.toolbarModule.element.offsetHeight + 'px)';\n        }\n        else {\n            this.splitterElement.style.height = '100%';\n        }\n        if (this.filterSettings && this.filterSettings['properties'] && this.filterSettings['properties'].columns) {\n            this.filterSettings['properties'].columns.forEach(function (column) {\n                var searchString = column.properties.field;\n                var matchedObject = null;\n                for (var i = 0; i < _this.treeGrid.columns.length; i++) {\n                    var treeColumn = _this.treeGrid.columns[i];\n                    if (treeColumn['field'] === searchString) {\n                        matchedObject = treeColumn;\n                        break;\n                    }\n                }\n                if (matchedObject && column.properties.uid !== matchedObject['uid']) {\n                    column.properties.uid = matchedObject['uid'];\n                }\n            });\n        }\n        if (this.isLoad) {\n            if (this.enablePersistence) {\n                this.updateTreeColumns();\n            }\n            this.updateCurrentViewData();\n            if (!this.enableVirtualization) {\n                this.updateContentHeight();\n            }\n            else if (this.virtualScrollModule && this.enableVirtualization) {\n                this.ganttChartModule.virtualRender.adjustTable();\n                this.ganttChartModule.scrollObject.updateTopPosition();\n            }\n            if (!this.isTreeGridRendered) {\n                this.isTreeGridRendered = true;\n                // let toolbarHeight: number = 0;\n                // if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                //     toolbarHeight = this.toolbarModule.element.offsetHeight;\n                // }\n                if (this.timelineModule.isSingleTier) {\n                    this.element.classList.add(cls.ganttSingleTimeline);\n                }\n                else {\n                    this.element.classList.remove(cls.ganttSingleTimeline);\n                }\n                var timelineContainer_1 = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                scrollContainer['style'].height = 'calc(100% - ' + timelineContainer_1 + 'px)';\n                this.treeGrid.setProperties({ height: '100%' }, false);\n                this.notify('tree-grid-created', {});\n                this.createGanttPopUpElement();\n                if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.hideMaskRow();\n                }\n                else {\n                    this.hideSpinner();\n                }\n                setValue('isGanttCreated', true, args);\n                this.renderComplete();\n            }\n        }\n        else {\n            this.getCurrentRecords(args);\n        }\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.updateContentHeight();\n        }\n        if (this.enableCriticalPath && this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n        }\n        this.notify('recordsUpdated', {});\n        for (var i = 0; i < document.getElementsByClassName('e-timeline-header-table-container').length; i++) {\n            for (var j = 0; j < document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children.length; j++) {\n                var childElement = document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children[j].children[0];\n                if (childElement) {\n                    childElement.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n        var criticalModule = this.criticalPathModule;\n        if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        this.initialChartRowElements = this.ganttChartModule.getChartRows();\n        this.isLoad = false;\n        this.isExpandPerformed = !this.enableVirtualization ? false : this.isExpandPerformed;\n        if (!this.isExpandPerformed) {\n            this.previousFlatData = extend([], this.flatData, [], true);\n        }\n        this.trigger('dataBound', args);\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getCurrentRecords = function (args) {\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineModule.removePreviousConnectorLines(this.currentViewData);\n        }\n        this.updateCurrentViewData();\n        if (!this.enableVirtualization) {\n            this.updateContentHeight();\n        }\n        // this.chartRowsModule.refreshGanttRows();\n        if (this.virtualScrollModule && this.enableVirtualization) {\n            this.ganttChartModule.virtualRender.adjustTable();\n            this.ganttChartModule.scrollObject.updateTopPosition();\n        }\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {GanttModel} newProp - Defines the New GanttModel.\n     * @param {GanttModel} oldProp - Defines the old GanttModel.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        // eslint-disable-next-line\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                case 'allowRowDragAndDrop':\n                case 'allowFiltering':\n                case 'showColumnMenu':\n                case 'allowResizing':\n                case 'allowReordering':\n                case 'allowSorting':\n                case 'enableImmutableMode':\n                    this.treeGrid[prop] = this[prop];\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                    }\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems =\n                        getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'timezone':\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableCriticalPath':\n                    if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.hideMaskRow();\n                    }\n                    else {\n                        this.hideSpinner();\n                    }\n                    if (this.enableCriticalPath && this.criticalPathModule) {\n                        this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n                        var criticalModule = this.criticalPathModule;\n                        if (criticalModule.criticalPathCollection) {\n                            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                        }\n                    }\n                    else {\n                        this.removeCriticalPathStyles();\n                    }\n                    break;\n                case 'filterSettings':\n                    if (isNullOrUndefined(newProp.filterSettings)) {\n                        this.filterSettings.columns = [];\n                    }\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    if (newProp.searchSettings.key !== ('' || undefined)) {\n                        this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                        this.treeGrid.grid.dataBind();\n                    }\n                    this.treeGrid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.isFromRenderBaseline = true;\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isFromRenderBaseline = false;\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    this.isLoad = true;\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isLoad = false;\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                        this.treeGrid.refreshColumns();\n                        this.chartRowsModule.refreshGanttRows();\n                    }\n                    break;\n                case 'dayWorkingTime':\n                case 'weekWorkingTime':\n                    isRefresh = true;\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention(prop);\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    this.treeGrid.editSettings.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.timelineModule.isZoomToFit = false;\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    this.closeGanttActions();\n                    if (this.dataSource instanceof Object && isCountRequired(this)) {\n                        // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n                        this.treeGrid.hasChildMapping = 'isParent';\n                        var count = getValue('count', this.dataSource);\n                        this.treeGrid.dataSource = { result: this.flatData, count: count };\n                    }\n                    else {\n                        this.treeGrid.hasChildMapping = null;\n                    }\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: true });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                case 'readOnly':\n                case 'viewType':\n                case 'taskFields':\n                case 'allowTaskbarDragAndDrop':\n                case 'allowTaskbarOverlap':\n                case 'allowParentDependency':\n                case 'enableMultiTaskbar':\n                    if (prop === 'locale') {\n                        this.isLocaleChanged = true;\n                    }\n                    if (prop === 'taskFields') {\n                        if (!isNullOrUndefined(newProp.taskFields.child)) {\n                            return;\n                        }\n                    }\n                    if (prop !== 'allowTaskbarDragAndDrop') {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n                case 'showOverAllocation':\n                    this.updateOverAllocationCotainer();\n                    break;\n            }\n        }\n        if (isRefresh) {\n            if (this.isLoad && this.contentMaskTable) {\n                this.contentMaskTable = null;\n            }\n            this.refresh();\n        }\n    };\n    Gantt.prototype.updateOverAllocationCotainer = function () {\n        if (this.showOverAllocation) {\n            this.ganttChartModule.renderOverAllocationContainer();\n        }\n        else {\n            var rangeContainer = this.element.querySelector('.' + cls.rangeContainer);\n            if (rangeContainer) {\n                rangeContainer.innerHTML = '';\n            }\n        }\n    };\n    /**\n     * Returns the properties to be maintained in persisted state.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['sortSettings',\n            'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'treeColumnIndex', 'currentZoomingLevel', 'cloneProjectStartDate', 'cloneProjectEndDate', 'splitterSettings'];\n        var ignoreOnPersist = {\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: []\n        };\n        var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template',\n            'commandTemplate', 'commands', 'dataSource'];\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var k = 0, val = ignoreOnPersist[keyEntity[i]]; (!isNullOrUndefined(val) && k < val.length); k++) {\n                var objVal = val[k];\n                delete currentObject[objVal];\n            }\n        }\n        this.ignoreInArrays(ignoreOnColumn, this.columns);\n        return this.addOnPersist(keyEntity);\n    };\n    Gantt.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n        for (var i = 0; i < columns.length; i++) {\n            this.ignoreInColumn(ignoreOnColumn, columns[i]);\n        }\n    };\n    Gantt.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n        for (var i = 0; i < ignoreOnColumn.length; i++) {\n            delete column[ignoreOnColumn[i]];\n            column.filter = {};\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        this.unwireEvents();\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.editModule && this.editModule.dialogModule) {\n            this.editModule.dialogModule.destroy();\n        }\n        if (this.splitterModule) {\n            this.splitterModule['destroy']();\n        }\n        if (this.toolbarModule && this.toolbarModule.toolbar) {\n            this.toolbarModule.toolbar.destroy();\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            if (!isNullOrUndefined(this.dayMarkersModule['eventMarkerRender']) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer)) {\n                this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer = null;\n            }\n            if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender)) {\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender.nonworkingContainer)) {\n                    this.dayMarkersModule.nonworkingDayRender.nonworkingContainer = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['weekendContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['weekendContainer'] = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['holidayContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['holidayContainer'] = null;\n                }\n            }\n        }\n        if (this.connectorLineModule) {\n            this.connectorLineModule.dependencyViewContainer = null;\n            this.connectorLineModule.svgObject = null;\n            this.connectorLineModule.renderer = null;\n            this.connectorLineModule.tooltipTable = null;\n        }\n        this.treeGridPane = null;\n        this.chartPane = null;\n        this.initialChartRowElements = null;\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n        this.resetTemplates();\n    };\n    /**\n     * Method to get taskbarHeight.\n     *\n     * @returns {number} .\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} .\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.enableCriticalPath) {\n            modules.push({\n                member: 'criticalPath',\n                args: [this]\n            });\n        }\n        if (this.enableUndoRedo) {\n            modules.push({\n                member: 'undoRedo',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar && this.toolbar.length > 0) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    Gantt.prototype.mergePersistGanttData = function () {\n        if (!this.treeGrid) {\n            this.treeGrid = new TreeGrid();\n        }\n        var persist1 = 'mergePersistGridData';\n        this.treeGrid.grid[persist1].apply(this);\n    };\n    Gantt.prototype.mergeColumns = function (storedColumn, columns) {\n        var persist2 = 'mergeColumns';\n        this.treeGrid.grid[persist2].apply(this, [storedColumn, columns]);\n    };\n    Gantt.prototype.setFrozenCount = function () {\n        var persist3 = 'setFrozenCount';\n        this.treeGrid.grid[\"\" + persist3].apply(this);\n    };\n    Gantt.prototype.splitFrozenCount = function (columns) {\n        var persist4 = 'splitFrozenCount';\n        this.treeGrid.grid[\"\" + persist4].apply(this, [columns]);\n    };\n    Gantt.prototype.isFrozenGrid = function () {\n        return this.treeGrid.grid.isFrozenGrid();\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && window.getComputedStyle(verticalLines).display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.getContentHeight());\n        }\n    };\n    /**\n     * To get actual height of grid lines, holidays, weekend and event markers.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getContentHeight = function () {\n        var scrollHeight = this.ganttChartModule.scrollElement.offsetHeight - 16; //16 is horizontal scrollbar height\n        var contentHeight = this.ganttChartModule.chartBodyContent.offsetHeight;\n        var height = contentHeight < scrollHeight ? contentHeight : scrollHeight;\n        return height;\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @param {boolean} currentProp - Update current property change in the Gantt chart.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function (currentProp) {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        if (!isNullOrUndefined(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer.style.height = this.ganttHeight + 'px';\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (weekendContainer) {\n                weekendContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.height = this.ganttHeight + 'px';\n            }\n        }\n        if (currentProp === 'width') {\n            this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        }\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;'\n            });\n            this.ganttChartModule.chartBodyContent.insertBefore(this.chartVerticalLineContainer, this.ganttChartModule.chartBodyContent.lastChild);\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: (this.enableRtl ? 'right:' + (leftPos + 1) : 'left:' + (leftPos !== -1 ? (leftPos + 0.3) : leftPos)) + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        this.chartVerticalLineContainer.innerHTML = containerDiv.innerHTML;\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.getDefaultLocale = function () {\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            criticalPath: 'Critical Path',\n            undo: 'Undo',\n            redo: 'Redo',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'PDF export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessorFS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorFF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            segments: 'Segments',\n            splitTask: 'Split Task',\n            mergeTask: 'Merge Task',\n            left: 'Left',\n            right: 'Right',\n            FF: 'FF',\n            FS: 'FS',\n            SF: 'SF',\n            SS: 'SS'\n        };\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     *\n     * @param {string} columnName - Defines the sorted column name.\n     * @returns {void} .\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param {object} args -Defines the edited event args.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     *\n     * @param  {string} date - Defines the date to which the Gantt chart should scroll.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     *\n     * @param  {string} taskId - Defines the task id of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To update the horizontal (left) and vertical (top) scroll positions of the Gantt chart.\n     *\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left, this.enableRtl ? -1 : 0);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (isNullOrUndefined(cloneParent)) {\n            return null;\n        }\n        if (!this.autoCalculateDateScheduling && this.dataMap && this.dataMap.size > 0 && !this.taskFields.hasChildMapping &&\n            this.isLoad) {\n            var parent_1 = this.dataMap.get(cloneParent.uniqueID);\n            if (parent_1) {\n                return parent_1;\n            }\n        }\n        else {\n            var parent_2 = this.flatData.find(function (val) { return cloneParent.uniqueID === val.uniqueID; });\n            if (parent_2) {\n                return parent_2;\n            }\n        }\n        return null;\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IGanttData} ganttRecord -Defines the Gantt record.\n     * @param {number} level -Defines the selected record level.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getRootParent = function (ganttRecord, level) {\n        if (ganttRecord.level === level) {\n            return ganttRecord;\n        }\n        return this.getRootParent(this.getParentTask(ganttRecord.parentItem), level);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean | number[] | string[] | Date[] | boolean[]} filterValue - Defines the value\n     *  used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @returns {void} .\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* eslint-disable-next-line */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* eslint-disable-next-line */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     *\n     * @param  {PdfExportProperties} pdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param  {boolean} isBlob - If the 'isBlob' parameter is set to true, the method returns PDF data as a blob instead of exporting it as a down-loadable PDF file. The default value is false.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc, isBlob)\n            : null;\n    };\n    /**\n     * Clears the filtered columns in Gantt.\n     *\n     * Can also be used to clear filtering of a specific column in Gantt.\n     *\n     * @param {string[]} fields - Defines the specific column to remove filter.\n     * @returns {void} .\n     */\n    Gantt.prototype.clearFiltering = function (fields) {\n        this.treeGrid.grid.clearFiltering(fields);\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     *\n     * @param {RenderDayCellEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = false;\n        var isCustomManual = false;\n        includeWeekend = (this.taskMode !== 'Auto' && this.taskMode !== 'Custom') ? true : (this.includeWeekend || !this.autoCalculateDateScheduling) ? true : false;\n        if (this.taskMode === 'Custom' && this.taskFields.manual) {\n            var editModule = this.editModule;\n            if (editModule && editModule.cellEditModule && editModule.cellEditModule.isCellEdit) {\n                isCustomManual = editModule.cellEditModule.currentEditedRowData[this.taskFields.manual];\n            }\n            else if (editModule && editModule.dialogModule && editModule.dialogModule['isEdit']) {\n                isCustomManual = editModule.dialogModule['editedRecord'][this.taskFields.manual];\n            }\n            includeWeekend = isCustomManual || this.includeWeekend || !this.autoCalculateDateScheduling;\n        }\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                if (!this.autoCalculateDateScheduling || (this.isLoad && !this.treeGrid.loadChildOnDemand &&\n                    this.taskFields.hasChildMapping)) {\n                    args.isDisabled = false;\n                }\n                else {\n                    args.isDisabled = true;\n                }\n            }\n        }\n    };\n    /**\n     * Updates the Gantt timeline to the previous time span by one unit.\n     *\n     * @param {string} mode - Render previous span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('PreviousTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'PreviousTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     *\n     * @param {string} mode - Render next span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('NextTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'NextTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @param {string} isFrom - Defines whether the call originates from a public method action or a taskbar editing action.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        if (!this.pdfExportModule || (this.pdfExportModule && !this.pdfExportModule.isPdfExport) ||\n            (this.pdfExportModule && this.pdfExportModule.isPdfExport && this.pdfExportModule.helper.exportProps &&\n                this.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n                !this.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.timelineModule.updateChartByNewTimeline();\n            var browserZoomLevel = (window.outerWidth / window.innerWidth);\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser-Task(919516)\n            if (this.timelineModule.isZoomToFit && !this.enableTimelineVirtualization && browserZoomLevel < 1) {\n                var clientWidthDifference = void 0;\n                if (this.enableVirtualization) {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth - this.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                }\n                else {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth -\n                        this.ganttChartModule.chartBodyContent.parentElement.clientWidth);\n                }\n                this.ganttChartModule.chartBodyContent.style.width =\n                    formatUnit(this.timelineModule.totalTimelineWidth - clientWidthDifference);\n            }\n            else {\n                this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n            }\n            this.ganttChartModule.updateLastRowBottomWidth();\n            if (this.taskFields.dependency) {\n                this.ganttChartModule.reRenderConnectorLines();\n            }\n            if (isFrom !== 'beforeAdd') {\n                this.notify('selectRowByIndex', {});\n            }\n        }\n    };\n    /**\n     * Splits the taskbar of a specified task into segments based on the given date.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} splitDate - Defines in which date the taskbar must be split up.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.splitTask = function (taskId, splitDate) {\n        this.isEdit = true;\n        this.chartRowsModule.splitTask(taskId, splitDate);\n    };\n    /**\n     * Merge the split taskbar with the given segment indexes.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} segmentIndexes - Defines the object array of indexes which must be merged.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.mergeTask = function (taskId, segmentIndexes) {\n        this.chartRowsModule.mergeTask(taskId, segmentIndexes);\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     *\n     * @param {boolean} isStart -Defines whether to initiate edit action.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param {string} field Method to update value in Gantt record and make clone record for this\n     * @param {IGanttData | ITaskData} record .\n     * @param {boolean} isTaskData .\n     * @returns {void} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        value = isUndefined(value) ? null : value;\n        var resultIf = (this.isOnEdit || this.isOnDelete) ? true : false;\n        if (resultIf) {\n            this.makeCloneData(field, record, isTaskData);\n            var ganttData = isTaskData ? record : record.ganttProperties;\n            var id = ganttData.rowUniqueID;\n            var task_1 = this.getRecordByID(id);\n            var isValid = false;\n            isValid = (isNullOrUndefined(value) ||\n                (!isNullOrUndefined(value) && !isNullOrUndefined(record[\"\" + field]) &&\n                    (value instanceof Date ? value.getTime() !== record[\"\" + field].getTime() :\n                        record[\"\" + field] !== value))) ? true : isValid;\n            if (task_1 && ((this.editedRecords.indexOf(task_1) === -1 && isValid) || this.editedRecords.length === 0)) {\n                if (this.editModule['draggedRecord'] && this.editModule['draggedRecord'].ganttProperties.taskId === ganttData.taskId) {\n                    this.editedRecords.splice(0, 0, task_1);\n                }\n                else {\n                    this.editedRecords.push(task_1);\n                }\n                if (this.undoRedoModule) {\n                    if (this.undoRedoModule['changedRecords'].indexOf(task_1) === -1) {\n                        this.undoRedoModule['changedRecords'].push(extend({}, {}, task_1, true));\n                    }\n                    var currentAction = this.undoRedoModule['getUndoCollection'].length > 0 ? this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['action'] : null;\n                    if (this.editModule && this.editSettings.allowEditing && !this.undoRedoModule['isUndoRedoPerformed'] && !this.isOnDelete && !this.isOnAdded && currentAction !== 'outdent' && currentAction !== 'indent' &&\n                        currentAction !== 'RowDragAndDrop' && currentAction !== 'TaskbarDragAndDrop') {\n                        var oldRecord = this.previousFlatData.filter(function (data) {\n                            return data.ganttProperties.taskId === task_1.ganttProperties.taskId;\n                        })[0];\n                        if (oldRecord && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords']) {\n                            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords'].push(oldRecord);\n                        }\n                    }\n                }\n                if (this.enableImmutableMode) {\n                    this.modifiedRecords.push(task_1);\n                }\n            }\n        }\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* eslint-disable-next-line */\n        var value = getValue(field, record);\n        /* eslint-disable-next-line */\n        var prevValue;\n        /* eslint-disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        /* eslint-disable-next-line */\n        cloneData = this.previousRecords[record.uniqueID];\n        /* eslint-disable-next-line */\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     *\n     * @param {string} id - Defines the task id.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     *\n     * @param {string} id - Defines the id of record.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     *\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     * @returns {void} .\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings);\n        switch (type) {\n            case 'view':\n                this.splitterSettings.view = tempSplitterSettings[type];\n                break;\n            case 'columnIndex':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.columnIndex = tempSplitterSettings[type];\n                break;\n            case 'position':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.position = tempSplitterSettings[type];\n                break;\n            default:\n                break;\n        }\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.splitterObject.paneSettings[1].size = (parseFloat('99.75%') - parseFloat(splitterPosition)) + '%';\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the records by index value.\n     *\n     * @param {number[] | number} index - Defines the index of rows to be expand.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        if (typeof index === 'number') {\n            var args = this.contructExpandCollapseArgs(null, index);\n            this.ganttChartModule.isExpandCollapseFromChart = true;\n            this.ganttChartModule.expandGanttRow(args);\n        }\n        else {\n            for (var i = 0; i < index.length; i++) {\n                if (typeof index[i] === 'number') {\n                    var ind = index[i];\n                    var args = this.contructExpandCollapseArgs(null, ind);\n                    this.ganttChartModule.isExpandCollapseFromChart = true;\n                    this.ganttChartModule.expandGanttRow(args);\n                }\n            }\n        }\n    };\n    /**\n     * Expand the record by task id.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        if (this.enableVirtualization) {\n            this.isExpandPerformed = true;\n        }\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     *\n     * @param {Object[] | IGanttData | Object} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            if (this.viewType === 'ResourceView') {\n                this.editModule.addRowPosition = rowPosition;\n                this.editModule.addRowIndex = rowIndex;\n                var resources = void 0;\n                if (!isNullOrUndefined(data)) {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        resources = data.ganttProperties.resourceInfo;\n                    }\n                    else {\n                        resources = data[this.taskFields.resourceInfo];\n                    }\n                }\n                var id = void 0;\n                var parentTask = void 0;\n                if (!isNullOrUndefined(resources) && resources.length) {\n                    for (var i = 0; i < resources.length; i++) {\n                        id = (typeof resources[i] === 'object') ? resources[i][this.resourceFields.id] :\n                            resources[0];\n                        parentTask = this.flatData[this.getTaskIds().indexOf('R' + id)];\n                        if (parentTask) {\n                            break;\n                        }\n                    }\n                    if (parentTask && (parentTask.level === 0 || parentTask.childRecords.length)) {\n                        var dropChildRecord = parentTask.childRecords[rowIndex];\n                        if (this.viewType === 'ResourceView' && this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                            this.editModule.addRecord(data, rowPosition, rowIndex);\n                        }\n                        else if (dropChildRecord) {\n                            var position = rowPosition === 'Above' || rowPosition === 'Below' ? rowPosition :\n                                'Child';\n                            if (position === 'Child') {\n                                this.editModule.addRecord(data, position, this.getTaskIds().indexOf('R' + id));\n                            }\n                            else {\n                                this.editModule.addRecord(data, position, this.flatData.indexOf(dropChildRecord));\n                            }\n                        }\n                        else {\n                            this.editModule.addRecord(data, 'Child', this.getTaskIds().indexOf('R' + id));\n                        }\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                else {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        this.editModule.addRecord(data, rowPosition, rowIndex);\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                this.editModule.addRowPosition = null;\n                this.editModule.addRowIndex = null;\n            }\n            else {\n                this.editModule.addRecord(data, rowPosition, rowIndex);\n                if (rowPosition === 'Bottom') {\n                    this.selectedRowIndex = rowIndex;\n                }\n                if (rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') {\n                    this.currentSelection = !isNullOrUndefined(data) ? data : this.currentSelection;\n                }\n            }\n        }\n    };\n    /**\n     * Method to update record by ID.\n     *\n     * @param  {Object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.updateDuration = true;\n            this.editModule.updateRecordByID(data);\n            this.updateDuration = false;\n        }\n    };\n    /**\n     * To update existing taskId with new unique Id.\n     *\n     * @param {number | string} currentId - Defines the current Id of the record.\n     * @param {number | string} newId - Defines the new Id of the record.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateTaskId = function (currentId, newId) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateTaskId(currentId, newId);\n        }\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    Gantt.prototype.expandAtLevel = function (level) {\n        if (this.enableVirtualization) {\n            this.isExpandCollapseLevelMethod = true;\n        }\n        this.ganttChartModule.expandAtLevel(level);\n    };\n    /**\n     * To indent the level of selected task to the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.indent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.indent();\n        }\n    };\n    /**\n     * To outdent the level of selected task from the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.outdent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.outdent();\n        }\n    };\n    /**\n     * To retrieve the collection of previously recorded actions. This method returns an object as a collection that holds the following details.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     * @public\n     */\n    Gantt.prototype.getUndoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getUndoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * To retrieve the collection of actions to reapply.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     *\n     * @public\n     */\n    Gantt.prototype.getRedoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getRedoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Clears the stack collection for undo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearUndoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getUndoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     * Clears the stack collection for redo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearRedoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getRedoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_redo'], false);\n            }\n        }\n    };\n    /**\n     * Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.undo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['undoAction']();\n        }\n    };\n    /**\n     * Initiates a redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.redo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['redoAction']();\n        }\n    };\n    /**\n     * To render the critical path tasks in Gantt.\n     *\n     * @returns {void} .\n     * @param {boolean} isCritical - To checks whether to render critical path or not .\n     * @public\n     */\n    Gantt.prototype.showCriticalPath = function (isCritical) {\n        if (this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(isCritical);\n            var criticalModule = this.criticalPathModule;\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To get all the critical tasks in Gantt.\n     *\n     * @returns {IGanttData[]} .\n     * @public\n     */\n    Gantt.prototype.getCriticalTasks = function () {\n        if (!isNullOrUndefined(this.criticalPathModule) && this.enableCriticalPath) {\n            return this.criticalPathModule.getCriticalTasks();\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position.\n     *\n     * @param {number[]} fromIndexes - Defines the indexes of the dragged records.\n     * @param {number} toIndex - Defines the index where the dragged rows will be dropped.\n     * @param {string} position - Defines the position of the dropped row.\n     * @returns {void} .\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     *\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var tasks = this.taskFields;\n            var record = this.updatedRecords.length > 0 ?\n                !isNullOrUndefined(this.updatedRecords[index]) ? this.updatedRecords[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * To remove dependency from task.\n     *\n     * @param  {number} id - Defines the ID of the task from which the dependency will be removed.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.removePredecessor(ganttRecord);\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     *\n     * @param {number } taskId - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param {string | number} id .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index) && id) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            if (!isNullOrUndefined(chartRow)) {\n                rowIndex = getValue('rowIndex', chartRow);\n            }\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            rowIndex = getValue('rowIndex', chartRow);\n            record = this.currentViewData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        return { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     *\n     * @param {string | number} id - Defines the id of task.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var _this = this;\n        var record = this.getRecordByID(id.toString());\n        var index;\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            index = this.updatedRecords.map(function (item) { return item[_this.taskFields.id]; }).indexOf(record.ganttProperties.taskId);\n        }\n        else {\n            index = this.enableVirtualization ? this.currentViewData.indexOf(record) : this.updatedRecords.indexOf(record);\n        }\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp -Defines the Gantt propertie.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     *\n     * @param {string} type .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     *\n     * @param {string} keyVal - Defines key value to search.\n     * @returns {void} .\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     *\n     * @param {HTMLElement} element .\n     * @returns {number} .\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = this.enableRtl ? box.right + scrollLeft - clientLeft : box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     *\n     * @returns {void} .\n     * @param {object[]} dataSource - Defines a collection of data.\n     * @param {object} args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        this.isDynamicData = true;\n        if (!isNullOrUndefined(args)) {\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) { // eslint-disable-line\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @returns {Column[]} .\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     *\n     * @param {string} field .\n     * @param {ColumnModel[]} columns .\n     * @returns {ColumnModel} .\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     *\n     * @returns {ColumnModel[]} .\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * Hides one or more columns in the Gantt chart based on the specified column names or header texts.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     *\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels the current edit operation and reverts the changes made during editing.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param {ITaskAddedEventArgs | IActionBeginEventArgs} args .\n     * @returns {ITaskAddedEventArgs | IActionBeginEventArgs} .\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     *\n     * @param {string} id - Defines id of record.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (data[taskfields.startDate]) {\n                this.setRecordValue(taskfields.startDate, rowData.ganttProperties.startDate, data, true);\n            }\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.ganttProperties.startDate);\n                data[taskfields.endDate] = new Date(rowData.ganttProperties.endDate);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(taskfields.segments)) {\n                data[taskfields.segments] = null;\n            }\n            var taskType = !isNullOrUndefined(rowData.ganttProperties.taskType) ? rowData.ganttProperties.taskType\n                : this.taskType;\n            if (taskType === 'FixedWork') {\n                if (!isNullOrUndefined(data[taskfields.work])) {\n                    data[taskfields.work] = 0;\n                }\n                else {\n                    rowData.ganttProperties.work = 0;\n                }\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = this.editSettings.newRowPosition;\n                this.addRecord(data, position, this.selectedRowIndex);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.isConvertedMilestone = true;\n                    this.updateRecordByID(data);\n                    this.isConvertedMilestone = false;\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     *\n     * @param {object} data - Use to change the TaskMode either manual, auto or custom.\n     * @returns {void} .\n     */\n    Gantt.prototype.changeTaskMode = function (data) {\n        if (this.undoRedoModule && !this.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'TaskMode';\n            details['modifiedRecords'] = extend([], [data], [], true);\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        if (!isNullOrUndefined(this.taskFields.manual)) {\n            this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n            this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        }\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @returns {string[]} .\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    /**\n     * To render the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.renderTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To reset the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.resetTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowParentDependency\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Complex({}, LoadingIndicator)\n    ], Gantt.prototype, \"loadingIndicator\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableVirtualMaskRow\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"loadChildOnDemand\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"updateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"UpdateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoCalculateDateScheduling\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property(['Sorting', 'Add', 'ColumnReorder', 'ColumnResize', 'ColumnState', 'Delete', 'Edit', 'Filtering', 'Indent', 'Outdent', 'NextTimeSpan', 'PreviousTimeSpan', 'RowDragAndDrop', 'TaskbarDragAndDrop', 'Search', 'ZoomIn', 'ZoomOut', 'ZoomToFit'])\n    ], Gantt.prototype, \"undoRedoActions\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"timezone\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowTaskbarDragAndDrop\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowTaskbarOverlap\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"timelineTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableTimelineVirtualization\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"segmentData\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], WeekWorkingTime)\n    ], Gantt.prototype, \"weekWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"zoomingLevels\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"readOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableCriticalPath\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableUndoRedo\", void 0);\n    __decorate([\n        Property(10)\n    ], Gantt.prototype, \"undoRedoStepsCount\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableMultiTaskbar\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showOverAllocation\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n *\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","import { isNullOrUndefined as isNOU, getValue, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.isResourceCellEdited = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void | Deferred} .\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        this.editedColumn = this.parent.getColumnByField(field, this.parent.ganttColumns);\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.readOnly) {\n            args.cancel = true;\n            return;\n        }\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && !this.parent.allowParentDependency && ((field === taskSettings.endDate &&\n            ((!isNullOrUndefined(data[taskSettings.manual]) && data[taskSettings.manual] === false) ||\n                this.parent.taskMode === 'Auto')) || field === taskSettings.duration || field === taskSettings.dependency ||\n            field === taskSettings.progress || field === taskSettings.work ||\n            field === taskSettings.type || field === 'taskType')) {\n            if ((field === taskSettings.dependency && !this.parent.allowParentDependency) || field !== taskSettings.dependency) {\n                args.cancel = true;\n            }\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            var parentReference_1 = this.parent;\n            this.currentEditedRowData = args.rowData;\n            this.parent.trigger('cellEdit', args, function (arg) {\n                if (arg.columnName === parentReference_1.taskFields.progress && arg.rowData.hasChildRecords) {\n                    arg.cancel = true;\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    arg.cancel = true;\n                }\n                callBackPromise_1.resolve(arg);\n                if (!arg.cancel) {\n                    if (arg.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(arg);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n        if (field === taskSettings.notes && this.parent.showInlineNotes === true) {\n            this.isCellEdit = true;\n        }\n    };\n    // private isValueChange(args: Record<string, unknown>, field: string): boolean {\n    //     const data: IGanttData = getValue('data', args);\n    //     const editedValue: Record<string, unknown> = data[`${field}`];\n    //     const previousValue: Record<string, unknown> = getValue('previousData', args);\n    //     if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n    //         return true;\n    //     } else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n    //         if (editedValue instanceof Date) {\n    //             return editedValue.getTime() !== data.taskData[field as string].getTime() ? true : false;\n    //         } else if (field === this.parent.taskFields.resourceInfo) {\n    //             return editedValue !== previousValue ? true : false;\n    //         } else if (editedValue !== data.taskData[field as string]) {\n    //             return true;\n    //         }\n    //     }\n    //     return false;\n    // }\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     *\n     * @param {object} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var isValid = true;\n        if (args['name'] === 'actionComplete' && args['previousData'] === args['data'][args['column'].field]) {\n            isValid = false;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (isValid) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'CellEditing';\n                action['editedColumn'] = args['column'].field;\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n            }\n        }\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : ((isNullOrUndefined(data[column.field])\n            || data[column.field] === '') && (this.parent.taskFields.duration === column.field ||\n            this.parent.taskFields.startDate === column.field || this.parent.taskFields.endDate === column.field)) ? previousValue\n            : data[column.field];\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            if (this.parent.weekWorkingTime.length > 0 && editedValue && (column.field === this.parent.taskFields.startDate ||\n                column.field === this.parent.taskFields.baselineStartDate)) {\n                var sDate = column.field === this.parent.taskFields.startDate ? data.ganttProperties.startDate :\n                    data.ganttProperties.baselineStartDate;\n                var prevDay = this.parent['getStartTime'](sDate);\n                if (prevDay / 3600 === sDate.getHours()) {\n                    var dayStartTime = this.parent['getStartTime'](editedValue);\n                    this.parent.dataOperation.setTime(dayStartTime, editedValue);\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n                else {\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n            }\n            else {\n                this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            }\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if ((column.field === this.parent.taskFields.type || column.field === 'taskType') &&\n                !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn)) {\n            this.parent.editModule.cellEditModule.editedColumn = null;\n        }\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.notes], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue, ganttData.ganttProperties, ganttData.ganttProperties.isMilestone);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                    this.parent.setRecordValue('duration', null, ganttProb, true);\n                }\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                // if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                //     this.parent.setRecordValue('endDate', null, ganttProb, true);\n                // }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    CellEdit.prototype.validateEndDateWithSegments = function (ganttProp) {\n        var ganttSegments = [];\n        var segments = ganttProp.segments;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[parseInt(i.toString(), 10)];\n            var endDate = segment.endDate;\n            endDate = (!isNullOrUndefined(ganttProp.endDate)) && endDate.getTime() <\n                ganttProp.endDate.getTime() && i !== segments.length - 1 ? endDate : ganttProp.endDate;\n            segment.duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n            if (segments.length > 0 && endDate.getTime() < segment.startDate.getTime()\n                && endDate.getTime() <= ganttProp.endDate.getTime()) {\n                segments[i - 1].duration = this.parent.dataOperation.getDuration(segments[i - 1].startDate, ganttProp.endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                continue;\n            }\n            ganttSegments.push(segment);\n        }\n        return ganttSegments;\n    };\n    /**\n     * To update task end date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.endDateEdited = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n            }\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](currentValue);\n            if ((currentValue.getHours() === 0 && dayEndTime !== 86400)) {\n                this.parent.dateValidationModule.setTime(dayEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb, ganttProb.isMilestone);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProb.endDate);\n                    this.parent.dateValidationModule.setTime(dayEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments)) {\n                ganttProb.segments = this.validateEndDateWithSegments(ganttProb);\n            }\n            if (this.compareDatesFromRecord(ganttProb) <= 0) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.updateDates(args);\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), args.data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(args.data, 'segments');\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var regex = /^[^\\d.-]+$/;\n        if (regex.test(args.data[this.parent.taskFields.duration])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.duration + \" field is invalid. Please ensure the \" + this.parent.taskFields.duration + \" field contains only valid numeric values.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        if (parseInt(args.data[this.parent.taskFields.duration], 10) < 0) {\n            args.data[this.parent.taskFields.duration] = 0;\n        }\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            if (args.data[this.parent.taskFields.duration] !== null) {\n                this.parent.setRecordValue('endDate', null, ganttProb, true);\n            }\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, false, args.data, true);\n                }\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments) && ganttProb.segments.length > 0) {\n                this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), ganttProb, true);\n                this.parent.dataOperation.updateMappingData(args.data, 'segments');\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!ganttRecord.ganttProperties.isAutoSchedule) {\n            this.parent.setRecordValue('autoWidth', this.parent.dataOperation.calculateWidth(ganttRecord, false), ganttRecord.ganttProperties, true);\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.updateSegmentProgress(args.data.ganttProperties);\n        }\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        var dayEndTime = this.parent['getCurrentDayEndTime'](baseLineEndDate);\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(dayEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate, ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @param {IGanttData} previousData .\n     * @returns {void} .\n     */\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            this.isResourceCellEdited = true;\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            var editedResources = [];\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[parseInt(index.toString(), 10)]);\n                }\n                else {\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            if (this.parent.viewType === 'ResourceView') {\n                this.parent.editModule.dialogModule.isResourceUpdate = true;\n                this.parent.editModule.dialogModule.previousResource = previousResource;\n            }\n            this.updateDates(args);\n            this.updateEditedRecord(args);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @param {object} cellEditArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        var specialCharacterPattern = /[!@#$%^&*()_=[\\]{};:<>|./?-]/;\n        if (specialCharacterPattern.test(editedArgs.data[this.parent.taskFields.dependency])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.dependency + \" field is invalid. Please ensure that the \" + this.parent.taskFields.dependency + \" field does not contain any special characters.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        var value = '';\n        if (!isNullOrUndefined(editedArgs.data[this.parent.taskFields.dependency])) {\n            var splitString_1 = editedArgs.data[this.parent.taskFields.dependency].split(',');\n            splitString_1.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value += splitvalue.replace(FF, 'FF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value += splitvalue.replace(FS, 'FS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value += splitvalue.replace(SS, 'SS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value += splitvalue.replace(SF, 'SF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value += splitvalue;\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n            });\n        }\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, value, editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        if (editedArgs.data[this.parent.taskFields.work] < 0 || isNullOrUndefined(editedArgs.data[this.parent.taskFields.work])) {\n            editedArgs.data[this.parent.taskFields.work] = 0;\n        }\n        this.parent['updateDuration'] = true;\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n        this.parent['updateDuration'] = false;\n    };\n    /**\n     * To update task type cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     */\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = this.parent.taskFields.type || 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[\"\" + key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n        if (ganttProb.taskType === 'FixedDuration' && ganttProb.duration === 0) {\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'work');\n        }\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     *\n     * @param {ITaskData} ganttRecord .\n     * @returns {number} .\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateEditedRecord = function (args) {\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To remove all public private properties\n     *\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { getValue, isNullOrUndefined, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     *\n     * @param {string} opensOn .\n     * @param {boolean} mouseTrail .\n     * @param {string} target .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            position: 'TopRight',\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            windowCollision: true,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.target = '.e-connectorpoint-left, .e-connectorpoint-right';\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.afterOpen = function (args) {\n            _this.updateTooltipPosition(args);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    EditTooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = args.element.offsetLeft;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth)) {\n                tooltipPositionX += leftEnd - (tooltipPositionX + args.element.offsetWidth);\n            }\n            args.element.style.left = tooltipPositionX + 'px';\n            args.element.style.visibility = 'visible';\n            if (args.target && this.parent.tooltipSettings.editing) {\n                var top_1 = args.target.getBoundingClientRect().top + window.scrollY;\n                var tooltipPositionY = void 0;\n                if (args.target.classList.contains('e-connectorpoint-left') ||\n                    args.target.classList.contains('e-connectorpoint-right')) {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 14;\n                }\n                else {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 8;\n                }\n                this.toolTipHeight = args.element.style.top = tooltipPositionY + 'px';\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     *\n     * @param {boolean} bool .\n     * @param {number} segmentIndex .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool, segmentIndex) {\n        if (bool && this.parent.tooltipSettings.showTooltip) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip(segmentIndex);\n            if (this.parent.tooltipSettings.editing) {\n                this.toolTipObj.openDelay = 500;\n            }\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function (segmentIndex) {\n        var ganttProp = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        var taskWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.width :\n            ganttProp.segments[segmentIndex].width;\n        var progressWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.progressWidth :\n            ganttProp.segments[segmentIndex].progressWidth;\n        var left = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.left : ganttProp.left +\n            ganttProp.segments[segmentIndex].left;\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (ganttProp.segments && ganttProp.segments.length > 0 && this.taskbarEdit['mainElement'] && this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    var segments = this.taskbarEdit['mainElement'].querySelectorAll('.e-segmented-taskbar');\n                    this.toolTipObj.refresh(segments[segmentIndex]);\n                }\n                else {\n                    this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                }\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -(progressWidth);\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -(taskWidth - progressWidth);\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (taskWidth > 5) {\n                    this.toolTipObj.offsetX = -(taskWidth + left - this.taskbarEdit.tooltipPositionX);\n                }\n                if (this.parent.tooltipSettings.editing && document.getElementsByClassName('e-gantt-tooltip')[0] && this.toolTipHeight) {\n                    document.getElementsByClassName('e-gantt-tooltip')[0].style.top = this.toolTipHeight;\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function (segmentIndex) {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (!isNullOrUndefined(editRecord.segments) && editRecord.segments.length > 0 && segmentIndex !== -1\n            && this.taskbarEdit.taskBarEditAction !== 'ProgressResizing') {\n            editRecord = editRecord.segments[segmentIndex];\n        }\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, this.taskbarEdit.taskBarEditRecord, 'TooltipEditingTemplate');\n            if (getValue('tooltipEle', this.toolTipObj)) {\n                this.parent.renderTemplates();\n            }\n            tooltipString = templateNode[0];\n        }\n        else {\n            var startDate = void 0;\n            var endDate = void 0;\n            var duration = void 0;\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.startDate)) {\n                startDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('startDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.endDate)) {\n                endDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('endDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.duration)) {\n                duration = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getDurationString(editRecord.duration, editRecord.durationUnit) + '</td></tr>';\n            }\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    {\n                        var progress = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('progress') +\n                            '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' + editRecord.progress + '</td></tr>';\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            progress + '</tbody></table>';\n                        break;\n                    }\n                case 'LeftResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            startDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'RightResizing':\n                case 'ParentResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            endDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    {\n                        var sDate = '';\n                        var eDate = '';\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                            sDate = startDate;\n                        }\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                            eDate = endDate;\n                        }\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' + sDate + eDate + '</tbody></table>';\n                        break;\n                    }\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    {\n                        tooltipString = this.parent.connectorLineModule.tooltipTable;\n                        if (isNullOrUndefined(this.toolTipObj)) {\n                            this.parent.connectorLineModule.tooltipTable.innerHTML =\n                                this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                        }\n                        break;\n                    }\n            }\n        }\n        if (typeof tooltipString === 'string') {\n            var contentTemp = function () {\n                return tooltipString;\n            };\n            return initializeCSPTemplate(contentTemp);\n        }\n        else {\n            return tooltipString;\n        }\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, merge, classList, getValue } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport { DateProcessor } from '../base/date-processor';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function (_super) {\n    __extends(TaskbarEdit, _super);\n    function TaskbarEdit(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.leftValue = 0;\n        _this.previousLeftValue = 0;\n        _this.isMouseDragged = false;\n        _this.dependencyCancel = false;\n        _this.isDragged = false;\n        _this.editElement = null;\n        _this.elementOffsetLeft = 0;\n        _this.elementOffsetTop = 0;\n        _this.elementOffsetWidth = 0;\n        _this.elementOffsetHeight = 0;\n        _this.segmentIndex = -1;\n        _this.currentItemTop = 0;\n        _this.currentItemPrevTop = 0;\n        _this.topValue = 0;\n        _this.draggedRecordMarginTop = '0px';\n        _this.isClonedElement = false;\n        _this.updatePosition = false;\n        _this.tooltipValue = 0;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.wireEvents();\n        _this.editTooltip = new EditTooltip(_this.parent, _this);\n        return _this;\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth', 'segments'];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing && !this.parent.readOnly) {\n            this.canDrag = false;\n            if (this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if ((element && element.innerHTML === this.taskBarEditElement.innerHTML ||\n                    this.taskBarEditElement.classList.contains('e-segmented-taskbar') || this.taskBarEditElement.classList.contains('collpse-parent-border'))) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        if (!this.parent.editSettings.allowTaskbarEditing) {\n            return;\n        }\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && !isNullOrUndefined(this.taskBarEditElement) && element &&\n            element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else if (targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        var id = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (id.toString() === predecessor.from || id.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.parent.viewType === 'ProjectView' ? this.taskBarEditRecord.ganttProperties.taskId.toString() :\n            this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.connectorLineModule.getRecordByID(to) :\n            this.parent.connectorLineModule.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        var parentId = this.parent.viewType === 'ResourceView' ? parentRecord.taskId : parentRecord.rowUniqueID;\n        var childId = this.parent.viewType === 'ResourceView' ? childRecord.taskId : childRecord.rowUniqueID;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentId.toString() &&\n                    predecessor.to === childId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childId.toString() &&\n                    predecessor.to === parentId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ProgressResizing' || this.taskBarEditAction === 'LeftResizing' ||\n            this.taskBarEditAction === 'RightResizing') {\n            this.dragMouseLeave = false;\n        }\n        else {\n            this.dragMouseLeave = true;\n        }\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var cloneTaskBar;\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n            if (!isNullOrUndefined(element) && !target.classList.contains('e-connectorpoint-left') &&\n                !target.classList.contains('e-connectorpoint-right')) {\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (!isNullOrUndefined(currentRecord.ganttProperties.segments) && currentRecord.ganttProperties.segments.length > 0) {\n                    if (target.classList.contains('e-progressbar-handler-after')) {\n                        for (var i = 0; i < currentRecord.ganttProperties.segments.length; i++) {\n                            if (currentRecord.ganttProperties.segments[i].showProgress) {\n                                element = element.querySelectorAll('.e-segmented-taskbar')[i];\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        element = parentsUntil(target, cls.childTaskBarInnerDiv);\n                    }\n                }\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.editElement);\n            this.editElement = element;\n            this.realTaskbarElement = this.editElement;\n            var index = this.editElement.getAttribute('data-segment-index');\n            if (!isNullOrUndefined(index)) {\n                this.segmentIndex = Number(index);\n            }\n            else {\n                this.segmentIndex = -1;\n            }\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.editElement);\n            if (e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'click') {\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                var index_1 = this.editElement.getAttribute('data-segment-index');\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                var ganttprop = currentRecord.ganttProperties;\n                var parentleft = this.editElement.parentElement.offsetLeft;\n                this.currentData = currentRecord;\n                var resizeElement = createElement('div', { styles: 'height:100%;border-style:dashed;border-bottom:none;border-top:none;border-width:1px;position:absolute;z-index:10000' });\n                addClass([resizeElement], 'e-taskbar-resize-div');\n                resizeElement.style.setProperty('width', ganttprop.width + 'px');\n                var currentindex = this.editElement.getAttribute('data-segment-index');\n                if (!isNullOrUndefined(ganttprop.segments) && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    resizeElement.style.setProperty('left', ((!isNullOrUndefined(ganttprop.segments) ? parentleft + 'px' : (ganttprop.left) + 'px')));\n                }\n                else {\n                    resizeElement.style.setProperty('left', (((!isNullOrUndefined(ganttprop.segments) && ganttprop.segments.length > 1) ? parentleft + ganttprop.segments[Number(currentindex)].left + 'px' : (ganttprop.left) + 'px')));\n                }\n                var resizeTable = this.parent.createElement('table');\n                var resizetableBody = this.parent.createElement('tbody');\n                resizetableBody.appendChild(resizeElement);\n                resizeTable.appendChild(resizetableBody);\n                var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar');\n                var createTable = null;\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                }\n                else {\n                    if (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' &&\n                        this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                    }\n                    else {\n                        cloneTaskBar = this.editElement.cloneNode(true);\n                    }\n                }\n                if (!Check) {\n                    addClass([cloneTaskBar], 'e-clone-taskbar');\n                    cloneTaskBar.style.setProperty('position', 'absolute');\n                    if (currentRecord.hasChildRecords && !currentRecord.ganttProperties.isAutoSchedule) {\n                        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n                        var taskbarPosition = this.parent.getOffsetRect(this.editElement);\n                        if (this.editElement.classList.contains('e-manualparent-main-container')) {\n                            cloneTaskBar.style.setProperty('left', (currentRecord.ganttProperties.left - currentRecord.ganttProperties.autoLeft) + 'px');\n                        }\n                        else {\n                            cloneTaskBar.style.setProperty(this.parent.enableRtl ?\n                                'right' : 'left', Math.abs(taskbarPosition.left - containerPosition.left + Math.abs(this.parent.ganttChartModule.scrollElement.scrollLeft)) + 'px');\n                        }\n                    }\n                    cloneTaskBar.style.setProperty('top', 0 + 'px');\n                    createTable = this.parent.createElement('table');\n                    var tableBody = this.parent.createElement('tbody');\n                    tableBody.appendChild(cloneTaskBar);\n                    createTable.appendChild(tableBody);\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    var segmentedTasks = cloneTaskBar.getElementsByClassName('e-segmented-taskbar');\n                    this.cloneTaskbarElement = segmentedTasks[Number(index_1)];\n                }\n                else {\n                    this.cloneTaskbarElement = cloneTaskBar;\n                }\n                this.taskBarEditElement = this.cloneTaskbarElement;\n                this.taskbarElement = createTable;\n                this.taskbarResizer = resizeTable;\n                this.currentIndex = index_1;\n                this.roundOffDuration = true;\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n                if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n                    if (this.taskBarEditRecord.level === 0) {\n                        return;\n                    }\n                    else if (this.parent.enableMultiTaskbar) {\n                        var parentRecord = this.parent.getTaskByUniqueID(this.taskBarEditRecord.parentItem.uniqueID);\n                        if (!isNullOrUndefined(parentRecord) && !parentRecord.expanded) {\n                            this.prevZIndex = (this.taskBarEditElement).style.zIndex;\n                            (this.taskBarEditElement).style.zIndex = '1000';\n                            if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')) {\n                                addClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.editElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.editElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     *\n     * @param {Element} element .\n     * @param {Element} secondElement .\n     * @param {boolean} fadeConnectorLine .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        var isShowProgressResizer = this.parent.taskFields.progress ? true : false;\n        var isShowConnectorPoints = true;\n        if (this.parent.readOnly) {\n            return;\n        }\n        var record = element ? this.parent.ganttChartModule.getRecordByTaskBar(element) :\n            secondElement ? this.parent.ganttChartModule.getRecordByTaskBar(secondElement) : null;\n        if (this.parent.enableMultiTaskbar && element) {\n            var parentRecord = this.parent.getParentTask(record.parentItem);\n            if (!isNullOrUndefined(parentRecord)) {\n                if (!parentRecord.expanded) {\n                    isShowProgressResizer = false;\n                    isShowConnectorPoints = false;\n                }\n            }\n        }\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (isShowProgressResizer) {\n                    var progressElement = (record && record.ganttProperties.segments &&\n                        record.ganttProperties.segments.length > 0) ?\n                        this.parent.getRowByIndex(this.parent.enableVirtualization ? this.parent.currentViewData.indexOf(record)\n                            : this.parent.flatData.indexOf(record)).\n                            querySelectorAll('.' + cls.childProgressResizer)[0] :\n                        element.querySelector('.' + cls.childProgressResizer);\n                    if (!isNullOrUndefined(progressElement)) {\n                        addClass([progressElement], [cls.progressResizeGripper]);\n                        progressElement.style.top = '3px';\n                    }\n                }\n            }\n            else if (this.parent.isAdaptive && isShowProgressResizer) {\n                var record_1 = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record_1.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (element.querySelector('.' + cls.connectorPointLeft)\n                    || element.parentElement.querySelector('.' + cls.connectorPointLeft))\n                && isShowConnectorPoints) {\n                var connectorElement = !isNullOrUndefined(element.querySelector('.' + cls.connectorPointLeft)) ?\n                    element : element.parentElement;\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointLeft))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                }\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointRight))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n                }\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                var progressElement = (record && record.ganttProperties.segments && record.ganttProperties.segments.length > 0) ?\n                    this.parent.getRowByIndex(this.parent.enableVirtualization ? this.parent.currentViewData.indexOf(record) :\n                        this.parent.flatData.indexOf(record)) : secondElement;\n                if (progressElement && progressElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([progressElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (secondElement.querySelector('.' + cls.connectorPointLeft)\n                    || secondElement.parentElement.querySelector('.' + cls.connectorPointLeft))) {\n                var connectorElement = !isNullOrUndefined(secondElement.querySelector('.' + cls.connectorPointLeft)) ?\n                    secondElement : secondElement.parentElement;\n                var leftConnector = connectorElement.querySelector('.' + cls.connectorPointLeft);\n                var rightConnector = connectorElement.querySelector('.' + cls.connectorPointRight);\n                if (leftConnector) {\n                    removeClass([leftConnector], [cls.connectorPointLeftHover]);\n                }\n                if (rightConnector) {\n                    removeClass([rightConnector], [cls.connectorPointRightHover]);\n                }\n            }\n            else if (this.parent.isAdaptive) {\n                var record_2 = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record_2 && record_2.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     *\n     * @param {PointerEvent} e .\n     * @returns {string} .\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if ((mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) && (this.parent.taskFields.progress)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? data[this.parent.taskFields.manual] ? '' : 'ParentDrag'\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            if (this.parent.enableRtl) {\n                this.mouseDownX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseDownX = (e.pageX - containerPosition.left) +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = this.dragMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', '');\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                !(this.parent.viewType === 'ResourceView' && this.taskBarEditAction === 'ParentDrag')) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /* eslint-disable-next-line */\n    TaskbarEdit.prototype.removeFirstBorder = function (element) {\n        var canremove = this.parent.rowDragAndDropModule['dropPosition'] === 'bottomSegment';\n        if (this.parent.element.getElementsByClassName('e-firstrow-border').length > 0 && element &&\n            (element.getAttribute('data-rowindex') !== 0 || canremove)) {\n            this.parent.element.getElementsByClassName('e-firstrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removeLastBorder = function (element) {\n        var isEmptyRow = element && (element.classList.contains('e-emptyrow') || element.classList.contains('e-columnheader')\n            || element.classList.contains('e-detailrow'));\n        var islastRowIndex;\n        if (this.parent.enableVirtualization) {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRows()[this.parent.treeGrid.getCurrentViewRecords().length - 1].getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        else {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRowByIndex(this.parent.treeGrid.getCurrentViewRecords().length - 1).getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        var canremove = islastRowIndex || this.parent.rowDragAndDropModule['dropPosition'] === 'topSegment';\n        if (this.parent.element.getElementsByClassName('e-lastrow-border').length > 0 && element && (islastRowIndex || canremove)) {\n            this.parent.element.getElementsByClassName('e-lastrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removetopOrBottomBorder = function () {\n        var border = [].slice.call(this.parent.element.querySelectorAll('.e-dropbottom, .e-droptop'));\n        if (border.length) {\n            this.addRemoveClasses(border, false, 'e-dropbottom');\n            this.addRemoveClasses(border, false, 'e-droptop');\n        }\n    };\n    TaskbarEdit.prototype.topOrBottomBorder = function (target) {\n        var rowElement;\n        if (this.parent.enableVirtualization) {\n            var gridElement = this.parent.treeGrid.getRows().filter(function (data) {\n                return data.getAttribute('data-rowindex') === target.getAttribute('data-rowindex');\n            })[0];\n            var index = this.parent.treeGrid.getRows().indexOf(gridElement);\n            rowElement = this.parent.getRowByIndex(index).children;\n        }\n        else {\n            rowElement = this.parent.getRowByIndex(parseInt(target.getAttribute('data-rowindex'), 10)).children;\n        }\n        if (rowElement) {\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'above') {\n                this.addRemoveClasses(rowElement, true, 'e-droptop');\n                if (this.parent.element.getElementsByClassName('e-lastrow-dragborder').length > 0) {\n                    this.parent.element.getElementsByClassName('e-lastrow-dragborder')[0].remove();\n                }\n            }\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'below') {\n                this.addRemoveClasses(rowElement, true, 'e-dropbottom');\n            }\n        }\n    };\n    TaskbarEdit.prototype.removeChildBorder = function () {\n        var borderElem = [].slice.call(this.parent.element.querySelectorAll('.e-childborder'));\n        if (borderElem.length > 0) {\n            this.addRemoveClasses(borderElem, false, 'e-childborder');\n        }\n    };\n    TaskbarEdit.prototype.addRemoveClasses = function (cells, add, className) {\n        for (var i = 0, len = cells.length; i < len; i++) {\n            if (add) {\n                cells[parseInt(i.toString(), 10)].classList.add(className);\n            }\n            else {\n                cells[parseInt(i.toString(), 10)].classList.remove(className);\n            }\n        }\n    };\n    TaskbarEdit.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-clone-taskbar')[0];\n        var errorelem = document.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                ele.style.paddingTop = this.parent.taskbarHeight + 'px';\n            }\n            dragelem.appendChild(ele);\n        }\n    };\n    TaskbarEdit.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    TaskbarEdit.prototype.ensurePosition = function (draggedRecords, currentRecord) {\n        var _this = this;\n        draggedRecords.filter(function (draggedRecord) {\n            if (draggedRecord.hasChildRecords && !isNullOrUndefined(draggedRecord.childRecords)) {\n                var valid = draggedRecord.childRecords.indexOf(currentRecord);\n                if (valid === -1) {\n                    _this.ensurePosition(draggedRecord.childRecords, currentRecord);\n                }\n                else {\n                    _this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                    _this.addErrorElem();\n                    return;\n                }\n            }\n        });\n    };\n    /**\n     * To handle mouse move action in chart\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        var _this = this;\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (this.parent.enableRtl) {\n            this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n        }\n        else {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        var cancel = false;\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag') {\n            var ganttRowElement = void 0;\n            if (this.parent.enableVirtualization) {\n                var index = this.parent.currentViewData.indexOf(this.taskBarEditRecord);\n                ganttRowElement = this.parent.getRowByIndex(index);\n            }\n            else {\n                ganttRowElement = this.parent.getRowByIndex(this.taskBarEditRecord.index);\n            }\n            var eventArgs = {\n                cancel: cancel,\n                cloneElement: this.taskbarElement,\n                data: this.taskBarEditRecord,\n                target: event.target,\n                rows: ganttRowElement\n            };\n            this.parent.trigger('rowDrag', eventArgs);\n            cancel = eventArgs['cancel'];\n        }\n        if (!cancel) {\n            this.isMouseDragCheck();\n        }\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            event.preventDefault();\n            if (!isNullOrUndefined(this.taskbarElement) && !isNullOrUndefined(this.editElement) && (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointLeftDrag') && !(this.parent.viewType === 'ResourceView' && this.currentData.hasChildRecords)) {\n                var currentElement = this.editElement.parentElement;\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') &&\n                    !isNullOrUndefined(this.currentIndex) && !isNullOrUndefined(this.currentIndex) ? Number(this.currentIndex) === 0 : false) {\n                    this.taskbarElement.childNodes[0].childNodes[0].style.setProperty('top', currentElement.parentElement.offsetTop + 'px');\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.parentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                else {\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                if (this.taskBarEditAction !== 'ProgressResizing') {\n                    if (this.parent.enableTimelineVirtualization &&\n                        this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-scroll-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                    else {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-rows-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                }\n            }\n            if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag')) {\n                var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                var xValue = void 0;\n                if (this.parent.enableRtl) {\n                    xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                }\n                else {\n                    xValue = Math.abs(taskbarPosition.left - pointerLeft - 1);\n                }\n                if (!this.isClonedElement && !this.parent.enableRtl) {\n                    xValue = xValue - this.parent.ganttChartModule.scrollElement.scrollLeft;\n                    this.isClonedElement = true;\n                }\n                var rowPositionHeight = 0;\n                this.parent.rowDragAndDropModule['dropPosition'] = undefined;\n                var target = void 0;\n                var yValue = void 0;\n                if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n                    yValue = event['changedTouches'][0].pageY;\n                }\n                else {\n                    yValue = event.y;\n                }\n                if (this.parent.enableRtl) {\n                    target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth, yValue);\n                    if (target.classList.contains('e-taskbar-resize-div')) {\n                        target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth - target['offsetWidth'], yValue);\n                    }\n                }\n                else {\n                    target = document.elementFromPoint(xValue, yValue);\n                }\n                var draggedTreeGridRowElement = void 0;\n                if (this.parent.enableVirtualization) {\n                    if (!this.draggedTreeGridRowElement) {\n                        var currentElement = this.editElement.parentElement;\n                        draggedTreeGridRowElement = currentElement.parentElement;\n                        this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                else {\n                    draggedTreeGridRowElement = this.parent.treeGrid.getRows()[this.parent.flatData.indexOf(this.taskBarEditRecord)];\n                    this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                    if (this.parent.enableMultiTaskbar) {\n                        if (this.taskBarEditRecord.parentItem &&\n                            !isNullOrUndefined(this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId))) {\n                            this.draggedTreeGridRowHeight = this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId).offsetHeight;\n                            if (this.parent.viewType === 'ProjectView' && this.draggedTreeGridRowHeight === 0) {\n                                var nestedParent = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                                while (nestedParent.parentItem) {\n                                    nestedParent = this.parent.getRecordByID(nestedParent.parentItem.taskId);\n                                    this.draggedTreeGridRowHeight = this.parent.getRowByID(nestedParent['TaskID']).offsetHeight;\n                                }\n                            }\n                        }\n                        else {\n                            var currentElement = this.editElement.parentElement;\n                            this.draggedTreeGridRowElement = currentElement.parentElement;\n                            this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                        }\n                    }\n                    else {\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                var chartRowElement_1;\n                if (target) {\n                    chartRowElement_1 = closest(target, 'tr.' + cls.chartRow);\n                }\n                if (chartRowElement_1) {\n                    var droppedTreeGridRowElement = void 0;\n                    if (this.parent.enableVirtualization) {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows().filter(function (data) {\n                            return data.getAttribute('data-rowindex') === chartRowElement_1.getAttribute('data-rowindex');\n                        })[0];\n                    }\n                    else {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows()[parseInt(chartRowElement_1.getAttribute('data-rowindex'), 10)];\n                    }\n                    this.removeFirstBorder(droppedTreeGridRowElement);\n                    this.removeLastBorder(droppedTreeGridRowElement);\n                    if (!isNullOrUndefined(droppedTreeGridRowElement) && droppedTreeGridRowElement.getAttribute('data-uid') === this.draggedTreeGridRowElement.getAttribute('data-uid')\n                        || !parentsUntil(target, 'e-chart-rows-container')) {\n                        this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                        this.addErrorElem();\n                    }\n                    var tObj = this.parent;\n                    var rowTop = 0;\n                    var toolHeight = tObj.toolbarModule ?\n                        this.parent.toolbarModule.element.offsetHeight : 0;\n                    var positionOffSet = this.parent.getOffsetRect(tObj.element);\n                    var contentHeight = tObj.treeGrid.getHeaderContent().offsetHeight + positionOffSet.top + toolHeight;\n                    var scrollTop = tObj.treeGrid.getContent().firstElementChild.scrollTop;\n                    if (!isNullOrUndefined(droppedTreeGridRowElement)) {\n                        rowPositionHeight = droppedTreeGridRowElement.offsetTop - scrollTop;\n                    }\n                    if (this.parent.enableVirtualization) {\n                        rowTop = this.parent.getOffsetRect(droppedTreeGridRowElement).top;\n                    }\n                    else {\n                        rowTop = rowPositionHeight + contentHeight;\n                    }\n                    var rowBottom = rowTop + this.draggedTreeGridRowHeight;\n                    var difference = rowBottom - rowTop;\n                    var divide = difference / 3;\n                    var topRowSegment = rowTop + divide;\n                    var middleRowSegment = topRowSegment + divide;\n                    var bottomRowSegment = middleRowSegment + divide;\n                    var posy = (event.type === 'mousemove') ? event.pageY : ((!isNullOrUndefined(event['changedTouches'])) ? event['changedTouches'][0].pageY : null);\n                    var isTopSegment = posy <= topRowSegment;\n                    var isMiddleRowSegment = (posy > topRowSegment && posy <= middleRowSegment);\n                    var isBottomRowSegment = (posy > middleRowSegment && posy <= bottomRowSegment);\n                    if (isTopSegment || isMiddleRowSegment || isBottomRowSegment) {\n                        var rowElement = void 0;\n                        if (this.parent.enableVirtualization) {\n                            var index = this.parent.treeGrid.getRows().indexOf(droppedTreeGridRowElement);\n                            rowElement = this.parent.getRowByIndex(index);\n                        }\n                        else {\n                            rowElement = this.parent.getRowByIndex(parseInt(droppedTreeGridRowElement.getAttribute('data-rowindex'), 10));\n                        }\n                        var rowIndex = getValue('rowIndex', rowElement);\n                        var droppedTreeGridRecord = this.parent.flatData[rowIndex];\n                        var isValid = true;\n                        if (this.parent.viewType === 'ResourceView' && !this.taskBarEditRecord.hasChildRecords && !droppedTreeGridRecord.hasChildRecords &&\n                            !isNullOrUndefined(droppedTreeGridRecord.parentItem) &&\n                            this.taskBarEditRecord.parentItem.taskId === droppedTreeGridRecord.parentItem.taskId) {\n                            isValid = false;\n                        }\n                        if (droppedTreeGridRecord) {\n                            this.ensurePosition([this.taskBarEditRecord], droppedTreeGridRecord);\n                        }\n                        if (isValid) {\n                            if (isTopSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'above';\n                                this.removeChildBorder();\n                                this.removeErrorElem();\n                                this.removetopOrBottomBorder();\n                                this.topOrBottomBorder(rowElement);\n                            }\n                            if (isMiddleRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'child';\n                                this.removetopOrBottomBorder();\n                                this.addRemoveClasses(rowElement.children, true, 'e-childborder');\n                            }\n                            if (isBottomRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'below';\n                                this.removetopOrBottomBorder();\n                                this.removeErrorElem();\n                                this.removeChildBorder();\n                                this.removeFirstBorder(droppedTreeGridRowElement);\n                                this.topOrBottomBorder(droppedTreeGridRowElement);\n                            }\n                        }\n                    }\n                }\n            }\n            var args_1 = {\n                cancel: false,\n                requestType: 'taskbarediting',\n                taskBarEditAction: this.taskBarEditAction,\n                data: this.taskBarEditRecord\n            };\n            if (this.segmentIndex !== -1) {\n                args_1.requestType = 'mergeSegment';\n            }\n            this.parent.trigger('actionBegin', args_1, function (arg) {\n                if (args_1.taskBarEditAction === 'ConnectorPointRightDrag' || args_1.taskBarEditAction === 'ConnectorPointLeftDrag'\n                    || args_1.taskBarEditAction === 'LeftResizing' || args_1.taskBarEditAction === 'RightResizing'\n                    || args_1.taskBarEditAction === 'ProgressResizing' || args_1.taskBarEditAction === 'ChildDrag' || args_1.taskBarEditAction === 'ParentDrag' ||\n                    args_1.taskBarEditAction === 'MilestoneDrag' || args_1.taskBarEditAction === 'ManualParentDrag' || args_1.taskBarEditAction === 'ParentResizing') {\n                    _this.parent.showIndicator = false;\n                    if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('Edit')) {\n                        if (_this.parent.undoRedoModule['redoEnabled']) {\n                            _this.parent.undoRedoModule['disableRedo']();\n                        }\n                        var action = {};\n                        if (_this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                        else if (_this.parent.editModule['createArray']) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer' && _this.parent.showIndicator) {\n                    _this.parent.showMaskRow();\n                }\n                else if (_this.parent.showIndicator) {\n                    _this.parent.showSpinner();\n                }\n                if (arg.cancel === false) {\n                    _this.taskBarEditingAction(event, false);\n                }\n            });\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     *\n     * @param {PointerEvent} e .\n     * @param {boolean} isMouseClick .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            args.segmentIndex = this.segmentIndex;\n            this.roundOffDuration = args.roundOffDuration;\n            this.targetElement = args.target = closest(e.target, '.e-gantt-child-taskbar');\n            this.updateMouseMoveProperties(e);\n            if (!this.oldData) {\n                this.oldData = extend([], [], [this.taskBarEditRecord], true)[0];\n            }\n            var segmentIndex = this.segmentIndex !== -1 ? this.segmentIndex : null;\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.mainElement = parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer);\n                if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                    segmentIndex = -1;\n                    for (var i = 0; i < this.taskBarEditRecord.ganttProperties.segments.length; i++) {\n                        var resizeGripper = document.getElementsByClassName('e-child-progress-resizer e-progress-resize-gripper')[0]['style'];\n                        var currentWidth = (this.parent.enableRtl ? parseInt(resizeGripper['right'], 10) - 8 : parseInt(resizeGripper['left'], 10) + 8);\n                        if (currentWidth < this.taskBarEditRecord.ganttProperties.segments[i].width && i === 0) {\n                            segmentIndex = i;\n                        }\n                        if (this.taskBarEditRecord.ganttProperties.segments[i + 1] &&\n                            currentWidth < this.taskBarEditRecord.ganttProperties.segments[i + 1].width +\n                                this.taskBarEditRecord.ganttProperties.segments[i + 1].left && currentWidth >\n                            this.taskBarEditRecord.ganttProperties.segments[i + 1].left) {\n                            segmentIndex = i + 1;\n                        }\n                    }\n                }\n                this.performProgressResize(e, segmentIndex);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(e);\n                this.triggerDependencyEvent(e);\n                this.drawFalseLine();\n            }\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                var parentClientRect = this.parent.getOffsetRect(this.parent.chartPane);\n                var coordinates = this.getCoordinate(e);\n                var position = { top: coordinates.pageY, left: coordinates.pageX };\n                var pos = { left: Math.abs(position.left - parentClientRect.left), top: position.top - parentClientRect.top };\n                if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar) {\n                    var parentRecord = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                    if (!this.parent.allowTaskbarOverlap && this.taskBarEditRecord.parentItem && !parentRecord.expanded) {\n                        var reduceHeight = 0;\n                        if (parseInt(this.editElement['style'].marginTop, 10) > this.parent.rowHeight) {\n                            for (var i = 0; i < parentRecord.childRecords.length; i++) {\n                                if (parentRecord.childRecords[i].ganttProperties.taskId !==\n                                    this.taskBarEditRecord.ganttProperties.taskId) {\n                                    reduceHeight = reduceHeight + this.parent.rowHeight;\n                                }\n                                else {\n                                    break;\n                                }\n                            }\n                            pos.top = pos.top - reduceHeight;\n                        }\n                    }\n                }\n                this.topValue = pos.top;\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (this.parent.enableRtl) {\n                    this.leftValue = pos.left - Math.abs(xValue - (this.parent.getOffsetRect(this.taskBarEditElement).left)) -\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                else {\n                    this.leftValue = pos.left - (xValue - this.parent.getOffsetRect(this.taskBarEditElement).left) +\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                if (this.previousLeftValue === 0) {\n                    if (!this.parent.enableRtl) {\n                        this.leftValue = this.leftValue - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                    }\n                    else {\n                        this.leftValue = this.leftValue - (this.parent.ganttChartModule.scrollObject.previousScroll.left);\n                        if (this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                            this.leftValue = this.leftValue - 60;\n                        }\n                    }\n                }\n                this.previousLeftValue = xValue;\n            }\n            else {\n                this.leftValue = this.taskBarEditRecord.ganttProperties.left;\n            }\n            this.currentSegmentIndex = segmentIndex;\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.tooltipValue = (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') ? e['changedTouches'][0].pageX : e.pageX;\n            if ((!this.taskBarEditRecord.ganttProperties.segments || segmentIndex !== -1)) {\n                this.editTooltip.updateTooltip(segmentIndex);\n            }\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (arg) {\n                if (arg.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, arg.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            if (this.parent.enableRtl) {\n                this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseMoveX = e.pageX - containerPosition.left +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if (((this.taskBarEditRecord.ganttProperties.width > 3 || this.taskBarEditRecord.ganttProperties.isMilestone) && !(this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100))) ||\n            isConnectorLineEdit) {\n            var mouseX = 0;\n            if (this.parent.enableRtl) {\n                mouseX = Math.abs(Math.abs(this.mouseMoveX) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left) +\n                    containerPosition.left);\n            }\n            else {\n                mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                    containerPosition.left;\n            }\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX + 40) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth && this.parent.enableRtl &&\n                this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                this.parent.ganttChartModule.scrollObject.previousScroll.left = -1;\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (((mouseY + 80) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     *\n     * @param {string} direction .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        var leftSign = 0;\n        this.scrollTimer = window.setInterval(function () {\n            if (Math.sign(_this.timerCount) === -1) {\n                leftSign = -1;\n                _this.timerCount = Math.abs(_this.timerCount);\n            }\n            if (direction === 'right') {\n                var timelineWidth = _this.parent.enableTimelineVirtualization ?\n                    _this.parent.timelineModule.wholeTimelineWidth : _this.parent.timelineModule.totalTimelineWidth;\n                _this.timerCount = (_this.timerCount + 1) >= timelineWidth ?\n                    timelineWidth : (_this.timerCount + 1);\n            }\n            else if (direction === 'bottom') {\n                _this.timerCount = _this.timerCount + 1;\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount, leftSign);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var timelineWidth = this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') &&\n            !this.taskBarEditElement.classList.contains('e-segment-first')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left - differenceWidth;\n            }\n            else {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left + differenceWidth;\n            }\n            var previousSegment = segments[this.segmentIndex - 1];\n            var nextSegment = segments[this.segmentIndex + 1];\n            var left = void 0;\n            if (this.taskBarEditElement.classList.contains('e-segment-inprogress')) {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    ((segment.width + segment.left) > (nextSegment.left)) ? nextSegment.left - segment.width : segment.left;\n            }\n            else {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    (item.left + segment.width + segment.left) >= timelineWidth ?\n                        (timelineWidth - segment.width) : segment.left;\n            }\n            segment.left = left;\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (differenceWidth > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                }\n            }\n            else {\n                differenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n            }\n            var left = item.left < 0 ? 0 : (item.left + item.width) >= timelineWidth ?\n                (timelineWidth - item.width) : item.left;\n            this.parent.setRecordValue('left', left, item, true);\n        }\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.validateProgressWidth = function (item, progressWidth, totalTaskWidth) {\n        var reduceWidth = 0;\n        if (this.currentSegmentIndex !== -1 && item.segments) {\n            var startIndex = this.currentSegmentIndex >= this.segmentIndex ? 0 : this.currentSegmentIndex !== 0 ?\n                this.currentSegmentIndex : -1;\n            var endIndex = this.currentSegmentIndex >= this.segmentIndex ? this.currentSegmentIndex : this.segmentIndex;\n            if (startIndex !== -1) {\n                for (var i = startIndex; i < endIndex; i++) {\n                    reduceWidth = (item.segments[i + 1].left) - (item.segments[i].left + item.segments[i].width);\n                    progressWidth = progressWidth - reduceWidth;\n                }\n            }\n        }\n        if (item.segments && item.segments.length > 0) {\n            totalTaskWidth = this.splitTasksDuration(item.segments) * this.parent.perDayWidth;\n        }\n        return { progressWidth: progressWidth, totalTaskWidth: totalTaskWidth };\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.performProgressResize = function (e, segmentIndex) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        var prevProgress = item.progressWidth;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        if (segmentIndex !== -1 || !segmentIndex) {\n            this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', prevProgress, item, true);\n        }\n        this.progressValue = widthValue;\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            this.enableSplitTaskLeftResize(item);\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    if (item.left > 0) {\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                    }\n                }\n                else {\n                    if (this.mouseMoveX > (item.left + item.width)) {\n                        differenceWidth = this.mouseDownX - this.mouseMoveX;\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    if ((item.left) < (item.left + item.width) &&\n                        ((this.previousItem.left + differenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                        this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                    }\n                }\n                else {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n            this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n        }\n    };\n    TaskbarEdit.prototype.enableSplitTaskLeftResize = function (item) {\n        var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n        var segment = segments[this.segmentIndex];\n        var differenceWidth = 0;\n        //when decrease the left and increase the width\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + segment.width + segment.left)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                // when resize other than 0th segment\n                if (segment.left > 0) {\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = segment.width + differenceWidth;\n                    if (this.segmentIndex !== 0) {\n                        var previousSegment = segments[this.segmentIndex - 1];\n                        if ((item.left + segment.left) < (item.left + previousSegment.left + previousSegment.width)) {\n                            var difference = (item.left + previousSegment.left + previousSegment.width) - (item.left + segment.left);\n                            segment.width -= difference;\n                            segment.left = segment.left + difference;\n                        }\n                    }\n                }\n                else if (segment.left <= 0 && this.segmentIndex === 0) {\n                    this.parent.setRecordValue('left', item.left - differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width + differenceWidth, item, true);\n                    segment.width = segment.width + differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_1 = segments[i];\n                        segment_1.left = segment_1.left + differenceWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + segment.width + segment.left)) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = this.parent.perDayWidth;\n                }\n            }\n        }\n        else {\n            // when increase left value and decrease width of segment\n            if (this.mouseMoveX < (item.left + segment.width + segment.left - this.parent.perDayWidth)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                // when decrease the first segment width\n                if (this.segmentIndex === 0 && segment.left <= 0) {\n                    this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                    segment.width = segment.width - differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_2 = segments[i];\n                        segment_2.left = segment_2.left - differenceWidth;\n                    }\n                    // when decrease remaining segments\n                }\n                else if ((segment.left) < (segment.left + segment.width) &&\n                    ((segment.left + differenceWidth) <= (segment.left + segment.width))) {\n                    segment.left = segment.left + differenceWidth;\n                    segment.width = segment.width - differenceWidth;\n                }\n                // when mouse move goes beyond one day width of task bar.\n            }\n            else {\n                if (this.mouseMoveX < (item.left + segment.left + segment.width)) {\n                    if (segment.width > this.parent.perDayWidth) {\n                        differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                            (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                        this.previousMouseMove = this.mouseMoveX;\n                        var singleDayDifference = (segment.width - differenceWidth) < this.parent.perDayWidth ?\n                            this.parent.perDayWidth > segment.width ?\n                                this.parent.perDayWidth - segment.width : segment.width - this.parent.perDayWidth : 0;\n                        differenceWidth -= singleDayDifference;\n                        if (this.segmentIndex === 0) {\n                            this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                            this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                            segment.width = segment.width - differenceWidth;\n                            for (var i = 1; i < item.segments.length; i++) {\n                                var segment_3 = segments[i];\n                                segment_3.left = segment_3.left - differenceWidth;\n                            }\n                        }\n                        else {\n                            segment.left = segment.left + differenceWidth;\n                            segment.width = segment.width - differenceWidth;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.setRecordValue('segments', segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * Update mouse position and edited item value\n     *\n     * @param {PointerEvent} e .\n     * @param {ITaskData} item .\n     * @returns {void} .\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     *\n     * @param {ITaskData} item .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, this.taskBarEditRecord, true);\n            }\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, false, this.taskBarEditRecord, true);\n            }\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > (item.left + segment.left) && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width - differenceWidth;\n                }\n                else {\n                    if (this.mouseMoveX < (item.left + segment.left)) {\n                        var segmentWidth = (this.parent.timelineModule.isSingleTier &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Minutes')) ||\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes') ?\n                            this.parent.timelineModule.customTimelineSettings.timelineUnitSize :\n                            this.parent.perDayWidth;\n                        segment.width = segmentWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > segment.left) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width + differenceWidth;\n                }\n            }\n            var width = void 0;\n            var nextSegment = this.segmentIndex !== segments.length - 1 ? segments[this.segmentIndex + 1] : null;\n            if (!isNullOrUndefined(nextSegment)) {\n                if (!this.taskBarEditElement.classList.contains('e-segment-last')) {\n                    width = (segment.left + segment.width) > nextSegment.left ? (nextSegment.left - segment.left) : segment.width;\n                }\n                segment.width = width;\n            }\n            if (this.segmentIndex === item.segments.length - 1) {\n                if (this.segmentIndex === 0) {\n                    this.parent.setRecordValue('width', segment.width, item, true);\n                }\n            }\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                }\n                else {\n                    if (this.mouseMoveX < item.left) {\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > item.left) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n        }\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                {\n                    var progressWidth = item.progressWidth;\n                    var totalTaskWidth = item.width;\n                    var updatedValues = this.validateProgressWidth(item, progressWidth, totalTaskWidth);\n                    this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), item, true);\n                    break;\n                }\n            case 'LeftResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                    projectStartDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.endDate)) {\n                        endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                        this.parent.setRecordValue('endDate', endDate, item, true);\n                    }\n                    startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                    if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                        && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                        this.parent.setRecordValue('duration', 1, item, true);\n                    }\n                    if (item.isMilestone) {\n                        this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitLeftResize(item);\n                }\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                    var tempEndDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.startDate)) {\n                        startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                        this.parent.setRecordValue('startDate', startDate, item, true);\n                    }\n                    var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                    endDate = item.isMilestone ? tempdate :\n                        this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitRightResizing(item);\n                }\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                if (this.segmentIndex === -1 || this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop)) {\n                    this.updateChildDrag(item);\n                }\n                else {\n                    this.setSplitTaskDrag(item);\n                }\n                break;\n        }\n        if (!isNullOrUndefined(this.taskBarEditRecord.ganttProperties.segments)) {\n            this.parent.chartRowsModule.updateSegment(this.taskBarEditRecord.ganttProperties.segments, this.taskBarEditRecord.ganttProperties.taskId);\n        }\n    };\n    TaskbarEdit.prototype.updateChildDrag = function (item) {\n        var left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left, item.isMilestone, item);\n        var endDate;\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n            item.segments[0].startDate = projectStartDate;\n            item.segments[0].endDate = this.parent.dataOperation.getEndDate(item.segments[0].startDate, item.segments[0].duration, item.durationUnit, item, false);\n            this.parent.setRecordValue('segments', item.segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n            this.parent.chartRowsModule.incrementSegments(item.segments, 0, this.taskBarEditRecord);\n            this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, item.segments, this.taskBarEditRecord, true);\n        }\n        else {\n            if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', endDate, item, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                if (!isNullOrUndefined(item.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.updateSplitLeftResize = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.segmentIndex === 0 ? this.getRoundOffStartLeft(item, this.roundOffDuration) :\n            this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        var startDate = this.parent.dataOperation.checkStartDate(projectStartDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.startDate = new Date(startDate.getTime());\n        segment.duration = duration;\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', segment.startDate, item, true);\n        }\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var segmentOffsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    TaskbarEdit.prototype.updateSplitRightResizing = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n        var tempEndDate = this.getDateByLeft(left);\n        var endDate = this.parent.dataOperation.checkEndDate(tempEndDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.endDate = new Date(endDate.getTime());\n        segment.duration = duration;\n        // update next segment offset duration\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var segmentOffset = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffset;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n    };\n    TaskbarEdit.prototype.sumOfDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            duration += segment.duration;\n        }\n        return duration;\n    };\n    TaskbarEdit.prototype.setSplitTaskDrag = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        projectStartDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n        segment.startDate = projectStartDate;\n        var segmentDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, item.durationUnit, item, false);\n        if (item.segments[this.segmentIndex + 1] && segmentDate.getTime() > item.segments[this.segmentIndex + 1].startDate.getTime()) {\n            segment.endDate = item.segments[this.segmentIndex + 1].startDate;\n        }\n        else {\n            segment.endDate = segmentDate;\n        }\n        segment.duration = this.parent.dataOperation.getDuration(segment.startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'endDate');\n        }\n        //set offset if previous record present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (segment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            segment.offsetDuration = offsetDuration;\n        }\n        //set next record  offset if present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (nextSegment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            nextSegment.offsetDuration = offsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * To get roundoff enddate.\n     *\n     * @param {ITaskData} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        if (this.segmentIndex !== -1 && ganttRecord.segments.length > 1) {\n            var segment = ganttRecord.segments[this.segmentIndex];\n            totalLeft = totalLeft - ganttRecord.width + segment.width + segment.left;\n        }\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     *\n     * @param {ITaskData | ITaskSegment} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = isNullOrUndefined(ganttRecord) ? ganttRecord.left\n            : ganttRecord.left;\n        if (this.segmentIndex !== -1 && isNullOrUndefined(ganttRecord.segments)) {\n            left = ganttRecord.left + this.taskBarEditRecord.ganttProperties.left;\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left, isNullOrUndefined(ganttRecord) ? ganttRecord.isMilestone : null, ganttRecord), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     *\n     * @param {number} left .\n     * @param {boolean} isMilestone .\n     * @param {ITaskData} property .\n     * @returns {Date} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            //  pStartDate.setDate(pStartDate.getDate() -1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            // else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.parent.isInDst(pStartDate)) {\n            //     pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            // }\n        }\n        return pStartDate;\n    };\n    /**\n     * To set item position.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        if (!isNullOrUndefined(this.editElement)) {\n            var currentElement = this.editElement.parentElement;\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag') {\n                currentElement.style.position = null;\n            }\n            else {\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n            }\n        }\n        var item = this.taskBarEditRecord.ganttProperties;\n        var position = this.parent.enableRtl ? 'right' : 'left';\n        var segment = !isNullOrUndefined(item.segments) ? item.segments[this.segmentIndex] : null;\n        var width = this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        if (!isNullOrUndefined(segment)) {\n            rightResizer = this.parent.isAdaptive ? (segment.width - 2) : (segment.width - 10);\n        }\n        this.taskBarEditElement.style.setProperty('opacity', '.75');\n        var taskBarMainContainer;\n        if (this.parent.allowTaskbarDragAndDrop && !item.isAutoSchedule && this.taskBarEditRecord.hasChildRecords) {\n            taskBarMainContainer = this.taskBarEditElement;\n        }\n        else {\n            taskBarMainContainer = (!this.taskBarEditElement.classList.contains(cls.taskBarMainContainer)) ? ((this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'LeftResizing') && this.segmentIndex === 0) ? this.taskBarEditElement.parentElement : closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n                .querySelector('.' + cls.taskBarMainContainer) : this.taskBarEditElement;\n        }\n        var segmentedTaskBarContainer = (this.taskBarEditElement.classList.contains('e-segmented-taskbar') ||\n            this.taskBarEditElement.querySelector('.e-segmented-taskbar')) ? true : false;\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = segmentedTaskBarContainer ? parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer).querySelector('.' + cls.childProgressResizer) : this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var segmentConnectorPointRight = taskBarMainContainer.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        var resizeLine = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (this.parent.allowTaskbarDragAndDrop && !this.updatePosition) {\n            this.leftValue = this.leftValue + 30;\n            this.updatePosition = true;\n        }\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                if (segmentedTaskBarContainer && !isNullOrUndefined(item.segments)\n                    && (this.taskBarEditAction === 'RightResizing' || this.segmentIndex !== 0)) {\n                    if (!isNullOrUndefined(resizeLine)) {\n                        if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag' &&\n                            this.taskBarEditAction !== 'ParentDrag')) {\n                            resizeLine.style.width = (segment.width) + 'px';\n                        }\n                    }\n                    this.taskBarEditElement.style.width = (segment.width) + 'px';\n                    if (this.parent.enableRtl) {\n                        this.taskBarEditElement.style.right = (segment.left) + 'px';\n                    }\n                    else {\n                        this.taskBarEditElement.style.left = (segment.left) + 'px';\n                        if (!isNullOrUndefined(resizeLine)) {\n                            if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag'\n                                && this.taskBarEditAction !== 'ParentDrag')) {\n                                resizeLine.style.left = (segment.left + this.editElement.parentElement.offsetLeft) + 'px';\n                            }\n                        }\n                    }\n                }\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left)) + 'px');\n                taskBarMainContainer.style.width = (width) + 'px';\n                if (segmentedTaskBarContainer && segmentConnectorPointRight) {\n                    segmentConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n                if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'LeftResizing' &&\n                    this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    var addTop = this.parent.taskbarHeight / 2;\n                    taskBarMainContainer.style.setProperty('top', (this.topValue + addTop) + 'px');\n                    taskBarMainContainer.style.zIndex = '4';\n                }\n                if (this.taskBarEditAction === 'LeftResizing' && this.segmentIndex === 0) {\n                    this.taskBarEditElement.style.setProperty('opacity', '.75');\n                    var parent_1 = this.taskBarEditElement.parentElement;\n                    var segmentedTasks = parent_1.getElementsByClassName('e-segmented-taskbar');\n                    for (var i = 0; i < item.segments.length; i++) {\n                        var segment_4 = item.segments[i];\n                        var segmentElement = segmentedTasks[i];\n                        segmentElement.style.width = (segment_4.width) + 'px';\n                        if (item.segments.length === 1) {\n                            resizeLine.style.width = (segment_4.width) + 'px';\n                            resizeLine.style.setProperty(position, (item.left) + 'px');\n                        }\n                        else {\n                            if (i === 0) {\n                                resizeLine.style.width = (segment_4.width) + 'px';\n                                resizeLine.style.setProperty(position, (segment_4.left + item.left) + 'px');\n                            }\n                            if (this.parent.enableRtl) {\n                                segmentElement.style.right = (segment_4.left) + 'px';\n                            }\n                            else {\n                                segmentElement.style.left = (segment_4.left) + 'px';\n                            }\n                        }\n                    }\n                }\n                if (this.taskBarEditAction === 'ChildDrag' && (this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop))) {\n                    resizeLine.style.width = (width) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    taskBarMainContainer.style.setProperty('opacity', '.75');\n                }\n            }\n            if (traceConnectorPointRight) {\n                if (this.parent.enableRtl) {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width - 2)) + 'px';\n                }\n                else {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'LeftResizing') {\n                traceConnectorPointRight.style.left = (width - 2) + 'px';\n            }\n            if (childProgressResizer && traceChildProgressBar && (this.taskBarEditAction === 'LeftResizing' || this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag')) {\n                childProgressResizer.style.display = 'none';\n                traceChildProgressBar.style.display = 'none';\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'ProgressResizing') {\n                traceConnectorPointRight.style.display = 'none';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone) {\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left - (width / 2))) + 'px');\n                resizeLine.style.setProperty(position, (item.left - (width / 2)) + 'px');\n                resizeLine.style.width = (width) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                if (this.segmentIndex === -1) {\n                    traceChildTaskBar.style.setProperty(position, (item.left + item.progressWidth - 10) + 'px');\n                    if (!isNullOrUndefined(traceChildProgressBar)) {\n                        traceChildProgressBar.style.width = item.progressWidth + 'px';\n                        traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                        traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                        var width_1 = this.parent.enableRtl ? item.progressWidth + 8 : item.progressWidth - 8;\n                        childProgressResizer.style.setProperty(position, width_1 + 'px');\n                    }\n                }\n                else {\n                    this.updateSegmentProgress(this.taskBarEditRecord.ganttProperties);\n                    var progressElements = taskBarMainContainer.querySelectorAll('.e-gantt-child-progressbar');\n                    for (var count = 0; count < progressElements.length; count++) {\n                        if (item.segments[count] && item.segments[count].progressWidth && this.segmentIndex !== count) {\n                            progressElements[count]['style'].display = 'block';\n                            progressElements[count].style.width = item.segments[count].progressWidth + 'px';\n                        }\n                    }\n                    traceChildProgressBar.style.width = item.segments[this.segmentIndex].progressWidth + 'px';\n                    traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                    traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                    var width_2 = this.parent.enableRtl ? this.progressValue + 8 : this.progressValue - 8;\n                    childProgressResizer.style.setProperty(position, width_2 + 'px');\n                }\n            }\n            else if (this.taskBarEditAction === 'RightResizing' && !isNullOrUndefined(traceChildTaskBar)) {\n                resizeLine.style.width = (width) + 'px';\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                resizeLine.style.setProperty(position, item.left + 'px');\n                resizeLine.style.width = (width) + 'px';\n                resizeLine.style.width = (item.width) + 'px';\n                if (!isNullOrUndefined(traceParentTaskBar)) {\n                    traceParentTaskBar.style.width = (width) + 'px';\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty('width', (item.width) + 'px');\n                manualTaskbar.style.setProperty('width', (item.width) + 'px');\n                this.editElement.parentElement.style.setProperty('width', (item.width) + 'px');\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty(position, item.left - item.autoLeft + 'px');\n                if (this.parent.allowTaskbarDragAndDrop) {\n                    manualParentTaskbar.style.setProperty(position, this.leftValue + 'px');\n                    manualParentTaskbar.style.setProperty('top', (this.topValue) + 'px');\n                    manualParentTaskbar.style.zIndex = '4';\n                }\n            }\n            else {\n                if (!isNullOrUndefined(traceChildTaskBar) && !segmentedTaskBarContainer) {\n                    traceChildTaskBar.style.width = (item.width) + 'px';\n                    traceChildTaskBar.style.left = (item.left) + 'px';\n                    this.taskBarEditElement.style.width = (item.width) + 'px';\n                    this.taskBarEditElement.style.left = ((this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left))) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n                if (segmentedTaskBarContainer) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (segment.width) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, segment.width - 10 + 'px');\n                    }\n                }\n            }\n        }\n        if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag')) {\n            var resizeValue = this.parent.enableRtl ? parseInt(resizeLine.style.right, 10) : parseInt(resizeLine.style.left, 10);\n            if (this.parent.enableRtl) {\n                resizeLine.style.right = (resizeValue - 30) + 'px';\n            }\n            else {\n                resizeLine.style.left = (resizeValue + 30) + 'px';\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.previousMouseMove = null;\n        this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if ((!this.dragMouseLeave && this.taskBarEditedAction) || (this.parent.allowTaskbarDragAndDrop)) {\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    var coordinates = this.getCoordinate(e);\n                    this['droppedTarget'] = document.elementFromPoint(coordinates.pageX, coordinates.pageY);\n                }\n                else {\n                    if (this.taskBarEditRecord.hasChildRecords && !this.taskBarEditRecord.ganttProperties.isAutoSchedule) {\n                        var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                        var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                        var xValue = void 0;\n                        if (this.parent.enableRtl) {\n                            xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                        }\n                        else {\n                            xValue = Math.abs(Math.abs(taskbarPosition.left - pointerLeft - 1) -\n                                this.parent.ganttChartModule.scrollElement.scrollLeft);\n                        }\n                        this['droppedTarget'] = document.elementFromPoint(xValue, e.y);\n                    }\n                    else {\n                        this['droppedTarget'] = document.elementFromPoint(e.x, e.y);\n                    }\n                    if (this['droppedTarget'] && this['droppedTarget'].classList.contains('e-span-label')) {\n                        this['droppedTarget'] = document.elementFromPoint(e.x + this['droppedTarget']['offsetWidth'], e.y);\n                    }\n                }\n                this.previousIds = this.parent.ids.slice();\n                this.previousFlatData = this.parent.flatData.slice();\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.parent.isOnEdit = false;\n                this.cancelTaskbarEditActionInMouseLeave();\n                var criticalModule = this.parent.criticalPathModule;\n                if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                    criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                }\n            }\n        }\n        if (this.parent.enableMultiTaskbar && !isNullOrUndefined(this.taskBarEditElement)) {\n            if (!isNullOrUndefined(this.taskBarEditElement.querySelector('.e-gantt-child-taskbar'))) {\n                if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar').classList.contains('e-collapsed-taskbar-drag')) {\n                    removeClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                    this.taskBarEditElement.style.zIndex = this.prevZIndex;\n                    this.prevZIndex = '';\n                }\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2 = this.mouseMoveX;\n        var e = this.getCoordinate(event);\n        var resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        var parentRecord = [];\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor && (!this.connectorSecondRecord.hasChildRecords ||\n            this.connectorSecondRecord.hasChildRecords && this.parent.allowParentDependency)) {\n            parentRecord.push(extend([], [], [this.taskBarEditRecord], true)[0]);\n            if (this.parent.undoRedoModule) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') || (this.oldData && JSON.stringify(item.ganttProperties) === JSON.stringify(this.oldData.ganttProperties))) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent['totalUndoAction']--;\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n                    }\n                }\n            }\n            else {\n                if (this.parent.undoRedoModule && this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    args.target = this.targetElement;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n        this.parent['isProjectDateUpdated'] = false;\n    };\n    /**\n     * To cancel the taskbar edt action.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    TaskbarEdit.prototype.updateSegmentProgress = function (taskData) {\n        var segments = taskData.segments;\n        var fixedWidth = true;\n        var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n        var progress = Math.ceil((taskData.progressWidth / totalTaskWidth) * 100);\n        var totalProgressWidth = (totalTaskWidth * progress) / 100;\n        var tempWidth = totalProgressWidth;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            if (i !== 0) {\n                if (segment.left <= tempWidth) {\n                    var newWidth = (tempWidth - segment.left);\n                    totalProgressWidth = newWidth;\n                }\n                else {\n                    totalProgressWidth = 0;\n                }\n            }\n            delete segment.progressWidth;\n            if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                totalProgressWidth = totalProgressWidth - segment.width;\n                segment.progressWidth = segment.width;\n                segment.showProgress = false;\n            }\n            else if (fixedWidth) {\n                segment.progressWidth = totalProgressWidth;\n                segment.showProgress = true;\n                totalProgressWidth = totalProgressWidth - segment.width;\n                fixedWidth = false;\n            }\n        }\n    };\n    /**\n     * To trigger taskbar edited event.\n     *\n     * @param {ITaskbarEditedEventArgs} arg .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        var draggedRecIndex = this.parent.flatData.indexOf(ganttRecord);\n        if (this.parent.allowTaskbarDragAndDrop && this.dragMoveY > 0 && ((this.parent.viewType === 'ResourceView' &&\n            !ganttRecord.hasChildRecords) || this.parent.viewType === 'ProjectView')) {\n            if (this.parent.rowDragAndDropModule) {\n                var flatRecordCol = this.parent.currentViewData;\n                if (this.taskBarEditRecord.parentItem && flatRecordCol[this.taskBarEditRecord.parentItem.index] &&\n                    ((this.parent.editedRecords.indexOf(flatRecordCol[this.taskBarEditRecord.parentItem.index]) === -1))) {\n                    this.parent.editedRecords.push(flatRecordCol[this.taskBarEditRecord.parentItem.index]);\n                }\n                this.removeChildBorder();\n                this.removeErrorElem();\n                this.removetopOrBottomBorder();\n                var droppedRecord = void 0;\n                this.updatePosition = false;\n                this.draggedRecordMarginTop = this.taskBarEditElement.style.marginTop;\n                var row = void 0;\n                if (!isNullOrUndefined(this.droppedTarget)) {\n                    row = closest(this.droppedTarget, 'tr.' + cls.chartRow);\n                }\n                if (row) {\n                    var recordIndex = parseInt(row.getAttribute('data-rowindex'), 10);\n                    droppedRecord = this.parent.flatData[recordIndex];\n                    var droppedParentRecordIndex = this.parent.getRootParent(droppedRecord, 0).index;\n                    var draggedParentRecordIndex = this.parent.getRootParent(this.taskBarEditRecord, 0).index;\n                    var e = {\n                        cancel: false,\n                        data: this.taskBarEditRecord,\n                        fromIndex: this.taskBarEditRecord.index,\n                        dropIndex: droppedRecord.index,\n                        dropPosition: this.parent.rowDragAndDropModule['dropPosition'],\n                        dropRecord: droppedRecord\n                    };\n                    this.parent.trigger('rowDrop', e);\n                    if (!e['cancel'] && droppedRecord && recordIndex !== draggedRecIndex && ((droppedParentRecordIndex !== draggedParentRecordIndex ||\n                        (this.taskBarEditRecord.hasChildRecords && droppedRecord.hasChildRecords)) ||\n                        !this.taskBarEditRecord.hasChildRecords)) {\n                        var droppedRecordIndex = this.parent.flatData.indexOf(droppedRecord);\n                        var position = void 0;\n                        if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(this.parent.rowDragAndDropModule['dropPosition'])) {\n                            position = this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        else {\n                            position = (droppedRecord.hasChildRecords || (!droppedRecord.parentItem &&\n                                droppedRecord.childRecords.length === 0)) ? 'child' : this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        if (this.parent.rowDragAndDropModule) {\n                            if (this.parent.viewType === 'ResourceView' && (position === 'child' && !droppedRecord.hasChildRecords) && !isNullOrUndefined(droppedRecord.parentItem)) {\n                                position = 'Invalid';\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                            }\n                            if (position) {\n                                this.parent.rowDragAndDropModule.reorderRows([draggedRecIndex], droppedRecordIndex, position);\n                            }\n                        }\n                        this.dragMoveY = 0;\n                    }\n                }\n                this.isClonedElement = false;\n            }\n            if (this.parent.showOverAllocation) {\n                this.parent.ganttChartModule.renderOverAllocationContainer();\n            }\n        }\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                var progressWidth = args.data.ganttProperties.progressWidth;\n                var totalTaskWidth = args.data.ganttProperties.width;\n                /* eslint-disable-next-line */\n                var updatedValues = this.validateProgressWidth(args.data.ganttProperties, progressWidth, totalTaskWidth);\n                this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n                if (!isNullOrUndefined(taskData.segments)) {\n                    this.updateSegmentProgress(taskData);\n                }\n            }\n        }\n        else {\n            var segments = args.data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 0\n                && ((this.taskBarEditAction === 'LeftResizing' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'ChildDrag' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'RightResizing'))) {\n                var segment = segments[this.segmentIndex];\n                var ganttProp = this.taskBarEditRecord.ganttProperties;\n                var previousSegment = this.segmentIndex === 0 ? null\n                    : segments[this.segmentIndex - 1];\n                var nextSegment = this.segmentIndex === segments.length - 1 ? null\n                    : segments[this.segmentIndex + 1];\n                var sDate = !isNullOrUndefined(nextSegment) ?\n                    new Date(nextSegment.startDate.getTime()) : this.parent.cloneProjectEndDate;\n                var eDate = !isNullOrUndefined(previousSegment) ?\n                    new Date(previousSegment.endDate.getTime()) : this.parent.cloneProjectStartDate;\n                var cStartDate = new Date(segment.startDate.getTime());\n                var cEndDate = new Date(segment.endDate.getTime());\n                if (this.parent.timelineModule.topTier === 'Day' && this.parent.timelineModule.bottomTier === 'Hour') {\n                    cStartDate.setHours(cStartDate.getHours() - 1);\n                    cEndDate.setHours(cEndDate.getHours() + 1);\n                }\n                else {\n                    cStartDate.setDate(cStartDate.getDate());\n                    cEndDate.setDate(cEndDate.getDate());\n                }\n                if (this.parent.includeWeekend) {\n                    sDate.setHours(0, 0, 0, 0);\n                    eDate.setHours(0, 0, 0, 0);\n                    cStartDate.setDate(cStartDate.getDate() - 1);\n                    cEndDate.setDate(cEndDate.getDate() + 1);\n                    cStartDate.setHours(0, 0, 0, 0);\n                    cEndDate.setHours(0, 0, 0, 0);\n                    if (cStartDate.getTime() <= eDate.getTime() && !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment)) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime() && this.segmentIndex !== segments.length - 1) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime()) {\n                        segment.endDate.setDate(this.parent.cloneProjectEndDate.getDate() - 1);\n                        segment.startDate = this.parent.dataOperation.getStartDate(segment.endDate, segment.duration, ganttProp.durationUnit, ganttProp);\n                        // eslint-disable-next-line\n                        for (var i = segments.length - 2; i >= 0; i++) {\n                            var segment_5 = segments[i];\n                            var eDate_1 = segment_5.endDate;\n                            eDate_1.setDate(eDate_1.getDate() - segment_5.offsetDuration);\n                            segment_5.endDate = eDate_1;\n                            segment_5.startDate = this.parent.dataOperation.getStartDate(segment_5.endDate, segment_5.duration, ganttProp.durationUnit, ganttProp);\n                        }\n                    }\n                }\n                else {\n                    //Hits while dragging taskbar toward right & taskbar rightside resizing:\n                    if (cEndDate.getTime() <= sDate.getTime() && this.segmentIndex !== segments.length - 1 && !this.parent.includeWeekend &&\n                        this.parent.dataOperation.getDuration((this.parent.dataOperation.checkStartDate(cEndDate, taskData, false)), sDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    //Hits while dragging taskbar toward left & taskbar leftside resizing:\n                    else if (cStartDate.getTime() >= eDate.getTime() &&\n                        !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment) &&\n                        !this.parent.includeWeekend && this.parent.dataOperation.getDuration((this.parent.dataOperation.checkEndDate(cStartDate, taskData, false)), eDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                }\n            }\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.isDragged = false;\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To get progress in percentage.\n     *\n     * @param {number} parentwidth .\n     * @param {number} progresswidth .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + (this.parent.enableRtl ? -angle : angle) + 'deg)';\n        var left;\n        var width = 0;\n        if (!isNullOrUndefined(document.querySelectorAll('.e-chart-row')[0])) {\n            width = document.querySelectorAll('.e-chart-row')[0].offsetWidth;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            if (this.parent.enableRtl) {\n                left = ((width - (this.elementOffsetLeft + (this.parent.chartRowsModule.connectorPointWidth / 2)))) -\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            if (this.parent.enableRtl) {\n                left = (width - (this.elementOffsetLeft + this.elementOffsetWidth +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2))) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft + this.elementOffsetWidth) +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n        }\n        var top = ((this.elementOffsetTop) + (this.elementOffsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'top:' + top + 'px;'\n        });\n        if (this.parent.enableRtl) {\n            this.falseLine.style.left = 'auto';\n            this.falseLine.style.right = left + 'px';\n            this.falseLine.style.transformOrigin = '100% 0%';\n        }\n        else {\n            this.falseLine.style.right = 'auto';\n            this.falseLine.style.left = left + 'px';\n            this.falseLine.style.transformOrigin = '0% 100%';\n        }\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param {boolean} isRemoveConnectorPointDisplay .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                this.elementOffsetLeft = 0;\n                this.elementOffsetTop = 0;\n                this.elementOffsetWidth = 0;\n                this.elementOffsetHeight = 0;\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        var isBigger = document.body.className.includes('e-bigger');\n        this.connectorSecondAction = null;\n        var scrollTop = 0;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                var top_1 = this.parent.virtualScrollModule.getTopPosition();\n                scrollTop = top_1;\n            }\n            if ((this.parent.virtualScrollModule && this.parent.enableVirtualization &&\n                !this.elementOffsetLeft) || !this.parent.enableVirtualization) {\n                if (!this.parent.allowParentDependency) {\n                    this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                    this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                        this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                }\n                else {\n                    if (this.taskBarEditElement.children[0].classList.contains('e-manualparent-main-container')) {\n                        this.elementOffsetLeft = this.realTaskbarElement.children[0]['offsetLeft'] +\n                            this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = ((this.realTaskbarElement.parentElement.offsetTop + this.realTaskbarElement.offsetHeight / 3 - 5) + this.taskBarEditElement.children[0]['offsetTop']) + scrollTop;\n                    }\n                    else {\n                        this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                            this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                    }\n                }\n                this.elementOffsetWidth = this.realTaskbarElement.offsetWidth + ((isBigger) ? 20 : 0);\n                this.elementOffsetHeight = this.realTaskbarElement.offsetHeight;\n            }\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement) &&\n            (!this.connectorSecondRecord.hasChildRecords || this.connectorSecondRecord.hasChildRecords &&\n                this.parent.allowParentDependency)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        var zoomedPageY;\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            zoomedPageY = e.pageY / zoom1;\n        }\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        var uniqueId = this.parent.viewType === 'ResourceView' ? fromItem.taskId : fromItem.rowUniqueID;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'F' : 'S');\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'S' : 'F');\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += this.parent.enableRtl ? 'F' : 'S';\n                currentTarget = this.parent.enableRtl ? 'finish' : 'start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += this.parent.enableRtl ? 'S' : 'F';\n                currentTarget = this.parent.enableRtl ? 'start' : 'finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        // eslint-disable-next-line\n        var predecessorArray = this.parent.predecessorModule.calculatePredecessor(predecessor, this.connectorSecondRecord);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.predecessor = predecessorArray && predecessorArray[0];\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer' && args.requestType !== 'ValidateDependency') {\n            this.parent.showMaskRow();\n        }\n        else if (args.requestType !== 'ValidateDependency') {\n            this.parent.showSpinner();\n        }\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            if (!isNullOrUndefined(this.editTooltip.toolTipObj)) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = this.parent.localeObj.getConstant(currentTarget);\n                if (!isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement) &&\n                    !isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement.parentElement)) {\n                    var tooltipElement = this.parent.connectorLineModule.tooltipTable.parentElement.parentElement;\n                    if (tooltipElement.offsetTop + tooltipElement.offsetHeight > zoomedPageY) {\n                        tooltipElement.style.top = (e.pageY - tooltipElement.offsetHeight - 20) + 'px';\n                    }\n                }\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        var e = event;\n        coordinates.pageX = e.pageX;\n        coordinates.pageY = e.pageY;\n        if (event && event.type !== 'click') {\n            var e_1 = event;\n            if (e_1.type === 'touchmove' || e_1.type === 'touchstart' || e_1.type === 'touchend') {\n                coordinates.pageX = e_1.changedTouches[0].pageX;\n                coordinates.pageY = e_1.changedTouches[0].pageY;\n            }\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}(DateProcessor));\nexport { TaskbarEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { remove, extend, isNullOrUndefined, createElement, getValue, setValue, closest, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page, getObject, Sort, RowDD, Group, Aggregate, ColumnChooser, ContextMenu, ColumnMenu, Resize, Reorder, DetailRow, Search, Print, PdfExport, ExcelExport, Filter } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Image, Table, EmojiPicker, FileManager, FormatPainter, MarkdownEditor } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox, FormValidator } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection as TreeGridSelection, Filter as TreeGridFilter, Edit as TreeGridEdit, VirtualScroll, Sort as TreeGridSort, Page as TreeGridPage, Aggregate as TreeGridAggregate, Reorder as TreeGridReorder, Resize as TreeGridResize, Toolbar as TreeGridToolbar, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { getUid } from '../base/utils';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {Gantt} parent .\n     * @returns {void} .\n     */\n    function DialogEdit(parent) {\n        this.isFromDialogPredecessor = false;\n        this.isTriggered = false;\n        this.taskFieldColumn = [];\n        this.customFieldColumn = [];\n        this.processedId = [];\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        this.ganttResources = [];\n        this.isValidData = true;\n        this.isResourceTabUpdated = false;\n        /**\n         * @private\n         */\n        this.previousResource = [];\n        /**\n         * @private\n         */\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox,\n            defaultedit: TextBox\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData) && this.parent.editModule && this.parent.editSettings.allowEditing) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     *\n     * @returns {string[]} .\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     *\n     * @returns {void} .\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var taskFields = this.parent.taskFields;\n        var columnMapping = this.parent.columnMapping;\n        if (Object.keys(columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.dependency.valueOf()].visible !== false) {\n                fieldItem.type = 'Dependency';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.resourceInfo.valueOf()].visible !== false) {\n                fieldItem.type = 'Resources';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.notes.valueOf()].visible !== false) {\n                fieldItem.type = 'Notes';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('segments', taskFields))) {\n            fieldItem = {};\n            fieldItem.type = 'Segments';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.isFromAddDialog = true;\n        this.createDialog();\n    };\n    /**\n     *\n     * @returns {Date} .\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @returns {IGanttData} .\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = this.localeObj.getConstant('addDialogTitle') + ' ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.type) {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        tempData.ganttProperties.isAutoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                tempData[taskSettings.manual] === true ? false : true;\n        return tempData;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            if (this.parent.ganttChartModule.focusedRowIndex > -1 && gObj.selectionModule) {\n                gObj.selectionModule.selectRow(this.parent.ganttChartModule.focusedRowIndex, false, false);\n            }\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.updatedRecords[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.updatedRecords[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param { number | string | object} taskId .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (!isNullOrUndefined(taskId)) {\n            if (!isNullOrUndefined(taskId['ganttProperties'])) {\n                if (typeof taskId['ganttProperties']['taskId'] === 'string') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n            if (isNullOrUndefined(taskId['ganttProperties']) && !isNullOrUndefined(taskId)) {\n                if (isNaN(Number(taskId)) || this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n        }\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.isFromEditDialog = true;\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        dialog.classList.add('e-gantt-dialog');\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.enableRtl = this.parent.enableRtl;\n        dialogModel.allowDragging = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = document.body;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        /* eslint-disable-next-line */\n        dialogModel.beforeClose = function (args) {\n            if (args.closedBy === 'escape') {\n                if (args.event.name === 'key-pressed' && args.event.target.nodeName === 'INPUT') {\n                    args.cancel = true;\n                }\n            }\n        };\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n            if (_this.parent.focusModule) {\n                _this.parent.focusModule.setActiveElement(dialogElement);\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.CustomformObj = null;\n                this.formObj = null;\n                this.storeValidTab = null;\n                this.customFieldColumn = [];\n                this.taskFieldColumn = [];\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            if (this.CustomformObj) {\n                if (!this.CustomformObj.validate()) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.formObj) {\n                /* eslint-disable-next-line */\n                var formValid = this.formObj.validate();\n                if (!formValid) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.storeDependencyTab || this.firstOccuringTab === 'Dependency') {\n                /* eslint-disable-next-line */\n                var dependencyTab = void 0;\n                if (this.firstOccuringTab === 'Dependency') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    dependencyTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    dependencyTab = this.storeDependencyTab.querySelector('.e-gridform');\n                }\n                if (dependencyTab) {\n                    var dependencyTabValid = dependencyTab['ej2_instances'][0].validate();\n                    if (!dependencyTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            if (this.storeResourceTab || this.firstOccuringTab === 'Resources') {\n                /* eslint-disable-next-line */\n                var resourceTab = void 0;\n                if (this.firstOccuringTab === 'Resources') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    resourceTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    resourceTab = this.storeResourceTab.querySelector('.e-gridform');\n                }\n                if (resourceTab) {\n                    var resourceTabValid = resourceTab['ej2_instances'][0].validate();\n                    if (!resourceTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            this.initiateDialogSave();\n            this.parent['updateDuration'] = false;\n            this.CustomformObj = null;\n            this.formObj = null;\n            this.storeValidTab = null;\n            this.customFieldColumn = [];\n            this.taskFieldColumn = [];\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n        if (!isNullOrUndefined(this.parent.focusModule) &&\n            !isNullOrUndefined(this.parent.focusModule.getActiveElement(true))) {\n            this.parent.focusModule.getActiveElement(true).focus();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.isAddNewResource = false;\n        this.editedRecord = {};\n        this.parent['triggeredColumnName'] = '';\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        this.dialogEditValidationFlag = false;\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy === 'string') {\n                            destroy = getObject(destroy, window);\n                            destroy();\n                        }\n                        else {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        tabModel.enableRtl = this.parent.enableRtl;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Segments') {\n                    if (isNullOrUndefined(tasks.segments)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('segments');\n                    }\n                    tabItem.content = 'Segments';\n                    this.beforeOpenArgs[tabItem.content] = this.getSegmentsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab'); // eslint-disable-next-line\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        this.parent.trigger('actionBegin', this.beforeOpenArgs, function (arg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (!arg.cancel) {\n                _this.renderTabItems();\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                var columns = _this.parent.treeGrid.grid.getColumns();\n                /* eslint-disable-next-line */\n                var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n                if (isValidateColumn) {\n                    _this.CustomformObj = null;\n                    _this.formObj = null;\n                    _this.storeValidTab = null;\n                    _this.customFieldColumn = [];\n                    _this.taskFieldColumn = [];\n                    _this.changeFormObj(actionCompleteArgs.element);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArg) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    if (actionCompleteArg.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n            else {\n                arg.cancel = false;\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.hideMaskRow();\n                }\n                else {\n                    _this.parent.hideSpinner();\n                }\n            }\n        });\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.changeFormObj = function (actionCompleteArgs) {\n        if (!this.storeColumn) {\n            this.storeColumn = this.parent.treeGrid.grid.getColumns();\n        }\n        if (!this.taskfields) {\n            this.taskfields = this.parent.taskFields['properties'];\n        }\n        if (!this.storeValidTab) {\n            this.storeValidTab = this.getFilteredDialogFields();\n        }\n        if (this.customFieldColumn.length === 0 || this.taskFieldColumn.length === 0) {\n            this.validateColumn(this.storeColumn, this.taskfields, this.storeValidTab);\n        }\n        if (this.isFromAddDialog && this.parent.addDialogFields && this.parent.addDialogFields.length > 0) {\n            var firstFieldType = this.parent.addDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        else if (this.isFromEditDialog && this.parent.editDialogFields && this.parent.editDialogFields.length > 0) {\n            var firstFieldType = this.parent.editDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        if (!this.CustomformObj || !this.formObj) {\n            var customFieldColumns = this.customFieldColumn;\n            var taskFieldColumns = this.taskFieldColumn;\n            if (!this.CustomformObj && customFieldColumns && customFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < customFieldColumns.length; i++) {\n                    var customColumn = customFieldColumns[i]; // Rename the variable\n                    if (customColumn.visible && customColumn.validationRules) {\n                        validationRulesArray[customColumn.field] = customColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.CustomformObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'Custom0TabContainer');\n                    if (this.CustomformObj) {\n                        this.CustomformObj = this.createFormObj(this.CustomformObj, validationRulesArray);\n                    }\n                }\n            }\n            if (!this.formObj && taskFieldColumns && taskFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < taskFieldColumns.length; i++) {\n                    var taskColumn = taskFieldColumns[i]; // Rename the variable\n                    if (taskColumn.visible && taskColumn.validationRules) {\n                        validationRulesArray[taskColumn.field] = taskColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.formObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'GeneralTabContainer');\n                    if (this.formObj) {\n                        this.formObj = this.createFormObj(this.formObj, validationRulesArray);\n                    }\n                }\n            }\n        }\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n    };\n    DialogEdit.prototype.getFilteredDialogFields = function () {\n        var dialogFields = this.isFromAddDialog\n            ? this.parent.addDialogFields\n            : this.parent.editDialogFields;\n        if (dialogFields.length !== 0) {\n            return dialogFields.filter(function (obj) { return obj.type === 'General' || obj.type === 'Custom'; });\n        }\n        return null;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.validateColumn = function (storeColumn, taskfields, storeValidTab) {\n        var _this = this;\n        if (storeValidTab) {\n            storeValidTab.forEach(function (element) {\n                /* eslint-disable-next-line */\n                var targetArray = element.type === 'General' ? _this.taskFieldColumn : _this.customFieldColumn;\n                element.fields.forEach(function (field) {\n                    var columnValue = _this.parent.getColumnByField(field, storeColumn);\n                    if (columnValue !== null) {\n                        targetArray.push(columnValue);\n                    }\n                    else {\n                        targetArray.push(_this.parent.columnByField[field]);\n                    }\n                });\n            });\n        }\n        else {\n            /* eslint-disable-next-line */\n            storeColumn.forEach(function (column) {\n                if (_this.parent.customColumns.indexOf(column.field) !== -1) {\n                    _this.customFieldColumn.push(column);\n                }\n                else {\n                    _this.taskFieldColumn.push(column);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var nameAttribute = inputElement.getAttribute('name');\n                if (nameAttribute) {\n                    var columnName = nameAttribute;\n                    _this.valErrorPlacement(inputElement, error, columnName);\n                }\n            }\n        });\n    };\n    DialogEdit.prototype.valErrorPlacement = function (inputElement, error, columnName) {\n        var id = columnName + \"-tooltip\";\n        var elem = this.getElemTable(inputElement);\n        if (!elem) {\n            this.createTooltip(inputElement, error, id);\n        }\n        else {\n            var tooltipContent = elem.querySelector('.e-tip-content');\n            if (tooltipContent) {\n                tooltipContent.innerHTML = error.outerHTML;\n            }\n        }\n    };\n    DialogEdit.prototype.createTooltip = function (inputElement, errorMessage, id, display) {\n        if (display === void 0) { display = 'block'; }\n        var existingTooltip = document.getElementById(id);\n        if (existingTooltip) {\n            existingTooltip.remove();\n        }\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            parentElement.style.position = 'relative';\n        }\n        var tooltipContainer = document.createElement('div');\n        tooltipContainer.className = 'e-tooltip-wrap e-lib e-control e-popup e-griderror';\n        tooltipContainer.style.display = display;\n        tooltipContainer.style.zIndex = '1000';\n        var labelId = id + \"-label\";\n        var tooltipLabel = document.createElement('div');\n        tooltipLabel.id = labelId;\n        tooltipLabel.className = 'sr-only';\n        var tooltipContent = document.createElement('div');\n        tooltipContent.className = 'e-tip-content';\n        var errorMessageElement = document.createElement('div');\n        errorMessageElement.className = 'error-message';\n        errorMessageElement.appendChild(errorMessage.cloneNode(true));\n        var arrow = document.createElement('div');\n        arrow.className = 'e-arrow-tip e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-outer e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-inner e-tip-top';\n        tooltipContainer.setAttribute('aria-labelledby', labelId);\n        tooltipContent.appendChild(errorMessageElement);\n        tooltipContainer.appendChild(tooltipContent);\n        tooltipContainer.appendChild(arrow);\n        tooltipContainer.style.top = '125%';\n        tooltipContainer.style.left = '50%';\n        tooltipContainer.style.transform = 'translateX(-50%)';\n        if (parentElement) {\n            parentElement.appendChild(tooltipLabel);\n            parentElement.appendChild(tooltipContainer);\n        }\n    };\n    DialogEdit.prototype.getElemTable = function (inputElement) {\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            return parentElement.querySelector('.e-tooltip-wrap');\n        }\n        return null;\n    };\n    DialogEdit.prototype.validationComplete = function (args) {\n        var elem = this.getElemTable(args.element);\n        if (elem) {\n            if (args.status === 'failure') {\n                elem.style.display = '';\n            }\n            else {\n                elem.style.display = 'none';\n            }\n        }\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        var dialogModule = this.parent.editModule.dialogModule;\n        var dialog = dialogModule.dialog;\n        var hasEditedBatchCell = dialog.getElementsByClassName('e-editedbatchcell').length > 0;\n        var hasEditedOrAddedRow = dialog.getElementsByClassName('e-editedrow').length > 0 ||\n            dialog.getElementsByClassName('e-addedrow').length > 0;\n        if (dialogModule.storeResourceTab && hasEditedBatchCell) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Resources' +\n                'TabContainer_gridcontrol').ej2_instances[0].saveCell();\n        }\n        else if (dialogModule.storeDependencyTab && hasEditedOrAddedRow) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Dependency' +\n                'TabContainer').ej2_instances[0].editModule.batchSave();\n        }\n        if (id === ganttObj.element.id + 'DependencyTabContainer') {\n            this.storeDependencyTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.storeResourceTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'Custom0TabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (id === ganttObj.element.id + 'GeneralTabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.resourceSelection(id);\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            document.getElementById(id).ej2_instances[0].refresh();\n            // const notesTabElement: HTMLElement = document.querySelector('#' + this.parent.element.id + 'NotesTabContainer') as HTMLInputElement;\n        }\n        else if (id === ganttObj.element.id + 'SegmentsTabContainer') {\n            if (isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate)) {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], false);\n            }\n            else {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], true);\n            }\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto'\n        };\n        if (!isNullOrUndefined(this.parent.taskFields.id) && !isNullOrUndefined(this.parent.columnMapping.id)\n            && !isNullOrUndefined(this.numericOrString)) {\n            if (taskSettings.id === column.field) {\n                column.editType = this.numericOrString;\n            }\n        }\n        switch (column.editType) {\n            case 'booleanedit':\n                {\n                    var checkboxModel = {\n                        label: column.headerText,\n                        locale: locale,\n                        enableRtl: this.parent.enableRtl\n                    };\n                    fieldsModel[column.field] = checkboxModel;\n                    break;\n                }\n            case 'defaultedit':\n            case 'stringedit':\n                {\n                    var textBox = common;\n                    textBox.enableRtl = this.parent.enableRtl;\n                    if (column.field === ganttObj.columnMapping.duration ||\n                        column.field === ganttObj.columnMapping.id || column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        textBox.change = function (args) {\n                            if (!_this.isTriggered) {\n                                if ((column.field === _this.parent.taskFields.duration ||\n                                    column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                    _this.isTriggered = true;\n                                    _this.parent['triggeredColumnName'] = column.field;\n                                }\n                                _this.validateScheduleFields(args, column, ganttObj);\n                            }\n                        };\n                    }\n                    fieldsModel[column.field] = common;\n                    break;\n                }\n            case 'numericedit':\n                {\n                    var numeric = common;\n                    numeric.enableRtl = this.parent.enableRtl;\n                    if (taskSettings.progress === column.field) {\n                        numeric.min = 0;\n                        numeric.max = 100;\n                    }\n                    numeric.change = function (args) {\n                        if (!_this.isTriggered) {\n                            if ((column.field === _this.parent.taskFields.duration ||\n                                column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                _this.isTriggered = true;\n                                _this.parent['triggeredColumnName'] = column.field;\n                            }\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        }\n                    };\n                    fieldsModel[column.field] = numeric;\n                    break;\n                }\n            case 'datepickeredit':\n                {\n                    var datePickerObj = common;\n                    datePickerObj.format = this.parent.getDateFormat();\n                    datePickerObj.enableRtl = this.parent.enableRtl;\n                    datePickerObj.strictMode = true;\n                    datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        datePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = datePickerObj;\n                    break;\n                }\n            case 'datetimepickeredit':\n                {\n                    var dateTimePickerObj = common;\n                    dateTimePickerObj.format = this.parent.getDateFormat();\n                    dateTimePickerObj.enableRtl = this.parent.enableRtl;\n                    dateTimePickerObj.strictMode = true;\n                    dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        dateTimePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = dateTimePickerObj;\n                    break;\n                }\n            case 'dropdownedit':\n                if (column.field === ganttObj.columnMapping.type || column.field === ganttObj.columnMapping.manual) {\n                    var dataKey = 'dataSource';\n                    var fieldsKey = 'fields';\n                    var types = [\n                        { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                    ];\n                    common[dataKey] = types;\n                    common[fieldsKey] = { value: 'Value' };\n                    var dropDownListObj = common;\n                    dropDownListObj.enableRtl = this.parent.enableRtl;\n                    dropDownListObj.change = function (args) {\n                        if (column.field === taskSettings.manual) {\n                            _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                        }\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'maskededit':\n                fieldsModel[column.field] = common;\n                break;\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var _a;\n        var dialog;\n        if (!isNullOrUndefined(ganttObj.editModule.dialogModule.dialog)) {\n            dialog = ganttObj.editModule.dialogModule.dialog;\n        }\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        var cellValue = null;\n        var colName = null;\n        var formObject;\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var strViewType = this.parent.viewType;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event) && !isNullOrUndefined(args.event.path) &&\n            !isNullOrUndefined(args.event.path)[1]) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        if (isNullOrUndefined(inputElement)) {\n            cellValue = args.value;\n            colName = column.field;\n        }\n        else {\n            cellValue = inputElement.value;\n            colName = targetId.replace(ganttObj.element.id, '');\n            if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                var customFn = function (args) {\n                    if (strViewType === 'ResourceView') {\n                        return ids.indexOf('T' + args['value']) === -1 && ids.indexOf('R' + args['value']) === -1;\n                    }\n                    else {\n                        return ids.indexOf(args['value']) === -1;\n                    }\n                };\n                var options = {\n                    rules: (_a = {},\n                        _a[this.parent.taskFields.id] = { required: true, minLength: [customFn, 'ID is already present, please enter new value'] },\n                        _a)\n                };\n                /* eslint-disable-next-line */\n                formObject = new FormValidator('#' + this.parent.element.id + 'GeneralTabContainer', options);\n            }\n        }\n        if (colName.search('Segments') === 0) {\n            colName = colName.replace('SegmentsTabContainer', '');\n            this.validateSegmentFields(ganttObj, colName, cellValue, args);\n            this.isTriggered = false;\n            return true;\n        }\n        else {\n            this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n            var ganttProp = currentData.ganttProperties;\n            var tasks = ganttObj.taskFields;\n            if (!isNullOrUndefined(tasks.startDate) && tasks.startDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'startDate');\n            }\n            if (tasks.endDate === colName && !isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(args.value) &&\n                ganttProp.startDate.getTime() > args.value) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.endDate) && tasks.endDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.duration) && tasks.duration !== colName || ganttProp.duration >= 0) {\n                this.updateScheduleFields(dialog, ganttProp, 'duration');\n            }\n            if (!isNullOrUndefined(tasks.work) && (tasks.work !== colName || ganttProp.taskType !== 'FixedWork')) {\n                this.updateScheduleFields(dialog, ganttProp, 'work');\n            }\n            this.dialogEditValidationFlag = false;\n            this.isTriggered = false;\n            return true;\n        }\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        var taskField = this.parent.taskFields;\n        if (col.editType === 'stringedit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var textBox = element.ej2_instances[0];\n                if (textBox) {\n                    tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                        !isNullOrUndefined(col.valueAccessor) ?\n                            col.valueAccessor(columnName, ganttObj.editModule.dialogModule.editedRecord, col) :\n                            this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                    if (textBox.value !== tempValue.toString() && taskField.duration === columnName) {\n                        textBox.value = tempValue;\n                        textBox.dataBind();\n                    }\n                    else if (taskField.startDate === columnName || taskField.endDate === columnName) {\n                        textBox.value = taskField.startDate === columnName ? ganttProp.startDate.toString() : ganttProp.endDate.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var picker = col.editType === 'datepickeredit' ?\n                    element.ej2_instances[0] :\n                    element.ej2_instances[0];\n                if (picker) {\n                    tempValue = ganttProp[ganttField];\n                    if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                        (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                        (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                            && picker.value.toString() !== tempValue.toString())) {\n                        picker.value = tempValue;\n                        picker.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue) && numericTextBox.value !== tempValue) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (!isNullOrUndefined(ganttProp.startDate) && !isScheduledTask(ganttProp) && isNullOrUndefined(ganttProp.duration)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    var updatedStartDate = this.parent.dateValidationModule.checkStartDate(ganttProp.startDate);\n                    this.parent.setRecordValue('startDate', updatedStartDate, ganttProp, true);\n                    if (this.parent.taskFields.startDate) {\n                        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n                    }\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    if (!isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0) {\n                        ganttProp.segments = this.parent.editModule.cellEditModule.validateEndDateWithSegments(ganttProp);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param {string} columnName .\n     * @param {string} value .\n     * @param {IGanttData} currentData .\n     * @returns {boolean} .\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '' && (parseInt(value, 10) >= 0 || parseFloat(value) >= 0)) {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n                this.parent.setRecordValue(taskSettings.duration, value, currentData);\n                this.parent.setRecordValue('taskData.' + taskSettings.duration, ganttProp.duration, currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n                this.validateDuration(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    if ((ganttProp.startDate && ganttProp.endDate && ganttProp.startDate.getTime() > ganttProp.endDate.getTime()) || value.indexOf('-') !== -1) {\n                        this.parent.setRecordValue('duration', 0, ganttProp, true);\n                        if (ganttProp.endDate) {\n                            this.parent.setRecordValue('startDate', ganttProp.endDate, ganttProp, true);\n                        }\n                    }\n                    else {\n                        if (value === '') {\n                            this.parent.setRecordValue('duration', null, ganttProp, true);\n                            if (ganttProp.endDate && ganttProp.startDate) {\n                                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                            }\n                        }\n                        else {\n                            var regex = /^[^\\d.-]+$/;\n                            if (regex.test(value)) {\n                                var err = \"The provided value for the \" + taskSettings.duration + \" field is invalid. Please ensure the \" + taskSettings.duration + \" field contains only valid numeric values.\";\n                                this.parent.trigger('actionFailure', { error: err });\n                            }\n                            this.parent.setRecordValue('duration', ganttProp.duration, ganttProp, true);\n                        }\n                    }\n                }\n            }\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n                this.validateStartDate(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                if (!isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(endDate) &&\n                    ganttProp.startDate.getTime() > endDate.getTime()) {\n                    endDate = ganttProp.endDate;\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() >= (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n                this.validateEndDate(currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === taskSettings.type) {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n            // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n            if (value && value === 'FixedDuration' && ganttProp.duration === 0) {\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n            }\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    DialogEdit.prototype.getSegmentsModel = function (fields) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [];\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                fields.push(this.parent.taskFields.startDate);\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                fields.push(this.parent.taskFields.endDate);\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                fields.push(this.parent.taskFields.duration);\n            }\n            if (!isNullOrUndefined(taskSettings.id)) {\n                fields.push(this.parent.taskFields.id);\n            }\n        }\n        var segmentInputModel = {};\n        segmentInputModel.editSettings = {\n            allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal', newRowPosition: 'Bottom'\n        };\n        segmentInputModel.locale = this.parent.locale;\n        segmentInputModel.dataSource = [];\n        segmentInputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        segmentInputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var gridColumns = [];\n        var _loop_1 = function (i) {\n            var gridColumn = {};\n            var generalTabString = 'General';\n            switch (fields[i]) {\n                case this_1.parent.taskFields.id:\n                    gridColumn = {\n                        field: fields[i], visible: false, isPrimaryKey: true\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.startDate:\n                case this_1.parent.taskFields.endDate:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant((fields[i] === this_1.parent.taskFields.startDate) ? 'startDate' : 'endDate'), editType: 'stringedit', width: '200px',\n                        edit: {\n                            write: function (args) {\n                                var datePickerModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    datePickerModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    datePickerModel = columnModel[fields[i]];\n                                }\n                                var value = args.rowData[args.column.field];\n                                setValue('value', value, datePickerModel);\n                                var datePicker = new _this.inputs[_this.parent.columnByField[fields[i]].editType](datePickerModel);\n                                datePicker.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value;\n                            }\n                        },\n                        format: this_1.parent.getDateFormat()\n                    };\n                    if (fields[i] === this_1.parent.taskFields.startDate) {\n                        gridColumn.validationRules = { required: true };\n                    }\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.duration:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i].toLocaleLowerCase()), editType: 'stringedit',\n                        width: '100px', edit: {\n                            write: function (args) {\n                                var inputTextModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    inputTextModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    inputTextModel = columnModel[fields[i]];\n                                }\n                                inputTextModel.floatLabelType = 'Never';\n                                var value = args.rowData[args.column.field];\n                                if (!isNullOrUndefined(value)) {\n                                    setValue('value', value, inputTextModel);\n                                }\n                                else {\n                                    setValue('value', null, inputTextModel);\n                                }\n                                setValue('value', value, inputTextModel);\n                                var inputModel = new TextBox(inputTextModel);\n                                inputModel.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value.toString();\n                            }\n                        }\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < fields.length; i++) {\n            _loop_1(i);\n        }\n        segmentInputModel.columns = gridColumns;\n        segmentInputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return segmentInputModel;\n    };\n    DialogEdit.prototype.getGridColumnByField = function (fieldName, columns) {\n        var column;\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                column = columns[i];\n            }\n        }\n        return column;\n    };\n    DialogEdit.prototype.updateSegmentField = function (columnName, args, segment) {\n        var dialog = this.parent.editModule.dialogModule.dialog;\n        var gridModel = getValue('Segments', this.beforeOpenArgs);\n        var col = this.getGridColumnByField(columnName, gridModel.columns);\n        var ganttId = this.parent.element.id;\n        var tempValue = segment[columnName];\n        var inputValue;\n        if (col.editType === 'stringedit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        else if (col.editType === 'datepickeredit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        if ((!isNullOrUndefined(inputValue.value)) && (!isNullOrUndefined(tempValue)) &&\n            (inputValue.value.toString() !== tempValue.toString())) {\n            inputValue.value = tempValue;\n            inputValue.dataBind();\n        }\n    };\n    DialogEdit.prototype.validateSegmentFields = function (ganttObj, columnName, cellValue, args) {\n        var taskSettings = this.parent.taskFields;\n        if (!isNullOrUndefined(taskSettings.duration) && taskSettings.duration.toLowerCase() === columnName.toLowerCase()) {\n            if (!isNullOrUndefined(cellValue) && cellValue !== '') {\n                this.selectedSegment[taskSettings.duration] = Number(cellValue);\n                var endDate = ganttObj.dataOperation.getEndDate(this.selectedSegment[taskSettings.startDate], Number(cellValue), this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                endDate = ganttObj.dataOperation.checkEndDate(endDate, this.editedRecord.ganttProperties, false);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate) && taskSettings.startDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.selectedSegment[taskSettings.startDate] = startDate;\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.selectedSegment.endDate = this.parent.dataOperation.getEndDate(startDate, this.selectedSegment[taskSettings.duration], this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                }\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.endDate) && taskSettings.endDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.editedRecord.ganttProperties);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n                this.selectedSegment[taskSettings.duration] = this.parent.dataOperation.getDuration(this.selectedSegment[taskSettings.startDate], this.selectedSegment[taskSettings.endDate], this.editedRecord.ganttProperties.durationUnit, true, false, true);\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            this.updateSegmentField(taskSettings.startDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            this.updateSegmentField(taskSettings.endDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            this.updateSegmentField(taskSettings.duration, args, this.selectedSegment);\n        }\n    };\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset', 'UniqueId'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: this.parent.dataOperation.getDurationString(0, this.beforeOpenArgs.rowData.ganttProperties.durationUnit),\n                    validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'uniqueid') {\n                column = {\n                    field: 'uniqueId', isPrimaryKey: true, visible: false, defaultValue: getUid().toString()\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: -1,\n            childMapping: '',\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'Default', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 }\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit',\n                    edit: { params: { min: 0 } }\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '196px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createFormElement = function (className, id) {\n        return createElement('form', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var isCustomTab = false;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords && !this.parent.allowParentDependency) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                isCustomTab = true;\n                item.content = this.renderCustomTab(item.content, isCustomTab);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n            else if (item.content === 'Segments') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderSegmentsTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.segmentGridActionBegin = function (args) {\n        var _a, _b;\n        var taskFields = this.parent.taskFields;\n        var itemName = 'Segments';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit' || args.requestType === 'save') {\n            var gridData = gridModel.dataSource;\n            var selectedItem = getValue('rowData', args);\n            var startDate = this.beforeOpenArgs.rowData.ganttProperties.startDate;\n            if (!isNullOrUndefined(startDate)) {\n                if (args.requestType === 'add') {\n                    var arg = {};\n                    var sDate = getValue(this.parent.taskFields.startDate, selectedItem);\n                    var eDate = this.parent.taskFields.endDate ? getValue(this.parent.taskFields.endDate, selectedItem) : null;\n                    var duration = void 0;\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        duration = getValue(this.parent.taskFields.duration, selectedItem);\n                    }\n                    var startDate_1 = !isNullOrUndefined(gridData) && gridData.length > 0 ?\n                        (!isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData[0][taskFields.endDate])) ?\n                            new Date(getValue(taskFields.endDate, gridData[0]).getTime()) :\n                            new Date(getValue(taskFields.startDate, gridData[0]).getTime()) :\n                        !isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate) &&\n                            new Date(this.beforeOpenArgs.rowData.ganttProperties.startDate.getTime());\n                    startDate_1.setHours(0, 0, 0, 0);\n                    if (!isNullOrUndefined(gridData) && gridData.length > 0) {\n                        startDate_1.setDate(startDate_1.getDate() + 2);\n                    }\n                    sDate = this.parent.dataOperation.checkStartDate(startDate_1);\n                    eDate = this.parent.dateValidationModule.getDateFromFormat(sDate);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](eDate);\n                    if (eDate.getHours() === 0 && dayEndTime !== 86400) {\n                        this.parent.dateValidationModule.setTime(dayEndTime, eDate);\n                    }\n                    eDate = !isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.endDate : eDate;\n                    var rowData = this.beforeOpenArgs.rowData.ganttProperties;\n                    if (sDate.getTime() === eDate.getTime()) {\n                        duration = 1;\n                    }\n                    else {\n                        duration = this.parent.dataOperation.getDuration(sDate, eDate, rowData.durationUnit, true, false, true);\n                    }\n                    if (!isNullOrUndefined(taskFields['duration'])) {\n                        arg = (_a = {},\n                            _a[taskFields['startDate']] = sDate,\n                            _a[taskFields['endDate']] = eDate,\n                            _a[taskFields['duration']] = duration,\n                            _a);\n                    }\n                    else {\n                        arg = (_b = {},\n                            _b[taskFields['startDate']] = sDate,\n                            _b[taskFields['endDate']] = eDate,\n                            _b);\n                    }\n                    args.rowData = arg;\n                }\n            }\n            if (args.requestType === 'save') {\n                var dataSource = gridModel.dataSource;\n                var taskIdField_1 = this.parent.taskFields.id;\n                var newId_1 = dataSource.length;\n                while (dataSource.some(function (item) { return item[taskIdField_1] === newId_1; })) {\n                    newId_1++;\n                }\n                if (isNullOrUndefined(args.data[taskIdField_1])) {\n                    args.data[taskIdField_1] = newId_1;\n                    args.rowData[taskIdField_1] = newId_1;\n                }\n            }\n            this.selectedSegment = args.rowData;\n            // if (args.requestType === 'save') {\n            //     // let duration: string = 'duration';\n            //     // let tempDuration: Object = this.parent.dataOperation.getDurationValue(args.data[duration]);\n            //     // args.data[duration] = getValue('duration', tempDuration);\n            //     this.selectedSegment = !isNullOrUndefined(this.editedRecord.ganttProperties.segments[args.rowIndex]) ?\n            //         this.editedRecord.ganttProperties.segments[args.rowIndex] : !isNullOrUndefined(gridData[args.rowIndex]) ?\n            //             gridData[args.rowIndex] : gridData;\n            // }\n        }\n    };\n    DialogEdit.prototype.getDialogTabIndex = function (tabName) {\n        var indexValue;\n        if (!this.isEdit) {\n            this.parent.addDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        else {\n            this.parent.editDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        return indexValue;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.setInjected = function (dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection) {\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.renderSegmentsTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        if (this.isEdit) {\n            preData = isNullOrUndefined(ganttData.taskData[this.parent.taskFields['segments']]) ? [] : ganttData.taskData[this.parent.taskFields['segments']];\n        }\n        /* eslint-disable-next-line */\n        preData.map(function (item, index) {\n            if (isNullOrUndefined(item[_this.parent.taskFields['id']])) {\n                item[_this.parent.taskFields['id']] = index;\n            }\n        });\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.segmentGridActionBegin.bind(this);\n        var tabIndex = this.getDialogTabIndex('Segments');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        var toolbarCollection = [];\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = toolbarCollection.concat(gridModel.toolbar);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName, isCustomTab) {\n        var ganttObj = this.parent;\n        /* eslint-disable-next-line */\n        var addFields = [];\n        var divElement;\n        var itemModel = this.beforeOpenArgs[itemName];\n        if (isCustomTab) {\n            divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        else {\n            divElement = this.createFormElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        var table;\n        var tbody;\n        if (this.parent.enableAdaptiveUI) {\n            divElement.style.height = '100%';\n            table = createElement('table', { className: 'e-table' });\n            table.style.width = '100%';\n            tbody = createElement('tbody');\n        }\n        var getId = divElement.id;\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.parent.columnByField[key].visible === false) {\n                continue;\n            }\n            var column = this.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            if (this.parent.enableAdaptiveUI) {\n                tbody.appendChild(this.renderInputElements(inputModel, column));\n            }\n            else {\n                divElement.appendChild(this.renderInputElements(inputModel, column));\n            }\n            addFields.push(key);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            table.appendChild(tbody);\n            divElement.appendChild(table);\n        }\n        if (getId !== divElement.id) {\n            divElement.id = getId;\n        }\n        var tabIndex = this.getDialogTabIndex('General');\n        var fields = [];\n        if (!this.isEdit && !isNullOrUndefined(this.parent.addDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.addDialogFields[tabIndex].fields)) {\n            fields = this.parent.addDialogFields[tabIndex].fields;\n        }\n        else if (this.isEdit && !isNullOrUndefined(this.parent.editDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.editDialogFields[tabIndex].fields)) {\n            fields = this.parent.editDialogFields[tabIndex].fields;\n        }\n        if (!isNullOrUndefined(fields)) {\n            var templateFields = fields.filter(function (item) { return !addFields.includes(item); });\n            if (!isNullOrUndefined(templateFields)) {\n                var template = templateFields;\n                for (var i = 0; i <= template.length - 1; i++) {\n                    var scriptElement = document.getElementById(template[i]);\n                    if (!isNullOrUndefined(scriptElement)) {\n                        var templateContent = scriptElement.innerHTML;\n                        var div = createElement('div');\n                        div.innerHTML = templateContent;\n                        divElement.appendChild(div.children[0]);\n                    }\n                }\n            }\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        var stringOrNumber;\n        if (column.allowEditing === false || column.isPrimaryKey || this.parent.readOnly) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.baselineStartDate || column.field === this.parent.taskFields.baselineEndDate ||\n                    column.field === this.parent.taskFields.work || column.field === this.parent.taskFields.type ||\n                    column.field === this.parent.taskFields.id || column.field === this.parent.taskFields.name ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.startDate || column.field === this.parent.taskFields.endDate) {\n                    for (var i = 0; i < this.parent.currentViewData['length']; i++) {\n                        if (!isNullOrUndefined(this.parent.currentViewData[i].ganttProperties.taskId)) {\n                            stringOrNumber = this.parent.currentViewData[i].ganttProperties.taskId;\n                            break;\n                        }\n                    }\n                    if (typeof (stringOrNumber) === 'string') {\n                        disabled = false;\n                    }\n                    else {\n                        disabled = true;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if ((column.field === this.parent.taskFields.endDate &&\n                    ((!isNullOrUndefined(this.editedRecord[this.parent.taskFields.manual]) &&\n                        this.editedRecord[this.parent.taskFields.manual] === false) || this.parent.taskMode === 'Auto')) ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.work || column.field === this.parent.taskFields.type) {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.isParentValid = function (data) {\n        if (data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                    break;\n                }\n                if (data[i].hasChildRecords) {\n                    this.isParentValid(data[i].childRecords);\n                }\n                if (!this.isValidData) {\n                    break;\n                }\n            }\n        }\n        return this.isValidData;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false || dependencyColumn.isPrimaryKey || this.parent.readOnly) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n            gridModel.editSettings.allowDeleting = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        var predecessorLength;\n        if (ganttData[this.parent.taskFields.dependency]) {\n            predecessorLength = ganttData[this.parent.taskFields.dependency].split(',').length;\n        }\n        if (this.preTableCollection.length === 0 || this.preTableCollection.length === predecessorLength) {\n            gridModel.editSettings.allowAdding = false;\n        }\n        gridModel.actionComplete = this.gridActionComplete.bind(this);\n        gridModel.dataSource = preData;\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        gridModel.actionBegin = this.gridActionBegin.bind(this);\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                if (getValue('requestType', args) === 'add') {\n                    setValue('rowData.uniqueId', getUid(), args);\n                }\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.idCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    enableRtl: _this.parent.enableRtl,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (arg) {\n                        var tr = closest(arg.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (idInput) {\n                            if (!isNullOrUndefined(arg.itemData) && !isNullOrUndefined(arg.item)) {\n                                idInput.value = arg.itemData.id;\n                            }\n                            else {\n                                idInput.value = '';\n                            }\n                        }\n                    },\n                    autofill: true\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        var tabIndex = this.getDialogTabIndex('Dependency');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var toolbarCollection = [];\n        var allProperty;\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = gridModel.toolbar.concat(toolbarCollection);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.updateColumns = function (existingColumns, newColumns) {\n        var columnMap = {};\n        existingColumns.forEach(function (column) {\n            if (typeof column === 'object') {\n                columnMap[column.field] = column;\n            }\n        });\n        newColumns.forEach(function (newColumn) {\n            if (typeof newColumn === 'object') {\n                var field = newColumn.field;\n                if (columnMap[field]) {\n                    Object.assign(columnMap[field], newColumn);\n                }\n                else {\n                    existingColumns.push(newColumn);\n                }\n            }\n        });\n        return existingColumns;\n    };\n    DialogEdit.prototype.gridActionBegin = function (args) {\n        var _this = this;\n        var itemName = 'Dependency';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit') {\n            var isEdit_1 = args.requestType === 'add' ? false : true;\n            this.idCollection = extend([], [], this.preTableCollection, true);\n            var gridData_1 = gridModel.dataSource;\n            var _loop_2 = function (i) {\n                // eslint-disable-next-line\n                this_2.idCollection.forEach(function (data, index) {\n                    if (data.id === getValue('id', gridData_1[i])) {\n                        var selectedItem = getValue('rowData', args);\n                        if (isEdit_1 && getValue('id', selectedItem) === data.id) {\n                            return;\n                        }\n                        _this.idCollection.splice(_this.idCollection.indexOf(data), 1);\n                    }\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i <= gridData_1.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    DialogEdit.prototype.gridActionComplete = function (args) {\n        if (args.requestType === 'save') {\n            var dialogElement = this.parent.editModule.dialogModule.dialog.querySelector('#' + this.parent.element.id + 'DependencyTabContainer');\n            if (!isNullOrUndefined(dialogElement)) {\n                if (!isNullOrUndefined(args['rows']) && args['rows'].length === this.preTableCollection.length) {\n                    /* eslint-disable-next-line */\n                    var gridObj = dialogElement['ej2_instances'][0];\n                    if (gridObj) {\n                        gridObj.editSettings.allowAdding = false;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var treeGridId = document.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    var record = tempRecords[index];\n                    if (!isNullOrUndefined(record.taskData) &&\n                        !isNullOrUndefined(record.taskData[this.parent.resourceFields.unit]) &&\n                        !isNullOrUndefined(args.data[this.parent.resourceFields.unit]) &&\n                        (record.taskData[this.parent.resourceFields.id] === args.data[this.parent.resourceFields.id])) {\n                        record.taskData[this.parent.resourceFields.unit] = args.data[this.parent.resourceFields.unit];\n                    }\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        if (((this.beforeOpenArgs.requestType === 'beforeOpenEditDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo])) || (this.beforeOpenArgs.requestType === 'beforeOpenAddDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo]))) &&\n            (typeof (this.editedRecord[this.parent.taskFields.resourceInfo]) === 'object')) {\n            this.parent.setRecordValue('resourceInfo', this.parent.dataOperation.setResourceInfo(this.editedRecord), ganttData.ganttProperties, true);\n        }\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = [];\n        resourceData = extend([], [], ganttObj.resources, true);\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        else if (!this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        /* eslint-disable-next-line */\n        inputModel.actionBegin = function (args) {\n            if (args.rowData && args.columnName === _this.parent.resourceFields.unit && _this.editedRecord.ganttProperties.resourceInfo) {\n                for (var i = 0; i < _this.editedRecord.ganttProperties.resourceInfo.length; i++) {\n                    if (_this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.id] ===\n                        args.rowData[_this.parent.resourceFields.id]) {\n                        _this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.unit] = args.value;\n                    }\n                }\n            }\n        };\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        var tabIndex = this.getDialogTabIndex('Resources');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbars;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            TreeGrid.Inject(TreeGridFilter);\n                            break;\n                        case 'allowSorting':\n                            TreeGrid.Inject(TreeGridSort);\n                            break;\n                        case 'allowPaging':\n                            TreeGrid.Inject(TreeGridPage);\n                            break;\n                        case 'editSettings':\n                            TreeGrid.Inject(TreeGridEdit);\n                            break;\n                        case 'aggregates':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnChooser':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnMenu':\n                            TreeGrid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            TreeGrid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            TreeGrid.Inject(TreeGridResize);\n                            break;\n                        case 'allowReordering':\n                            TreeGrid.Inject(TreeGridReorder);\n                            break;\n                        case 'detailTemplate':\n                            TreeGrid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            TreeGrid.Inject(TreeGridRowDD);\n                            break;\n                        case 'searchSettings':\n                            TreeGrid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            TreeGrid.Inject(TreeGridSelection);\n                            break;\n                        case 'toolbar':\n                            toolbars = allProperty['toolbar'];\n                            toolbars.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        TreeGrid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        TreeGrid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        TreeGrid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        TreeGrid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            if (!isNullOrUndefined(toolbars)) {\n                                inputModel.toolbar = [];\n                                inputModel.toolbar = inputModel.toolbar.concat(toolbars);\n                            }\n                            TreeGrid.Inject(TreeGridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            TreeGrid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = inputModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        TreeGrid.Inject(TreeGridSelection, TreeGridFilter, TreeGridEdit, VirtualScroll, TreeGridToolbar);\n        inputModel = __assign({}, inputModel, allProperty);\n        var columnCollections = this.updateColumns(columnCollection, inputModel.columns);\n        inputModel.columns = columnCollections;\n        var isColumnMenu = false;\n        if (inputModel.showColumnMenu) {\n            isColumnMenu = inputModel.showColumnMenu;\n            inputModel.showColumnMenu = false;\n        }\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false || resourceColumn.isPrimaryKey || this.parent.readOnly) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.dataBound = function () {\n            if (isColumnMenu) {\n                treeGridObj.showColumnMenu = true;\n            }\n            if (_this.parent.editDialogFields.length >= 1 && _this.parent.editDialogFields[0].type === 'Resources') {\n                var id = _this.parent.element.id + 'ResourcesTabContainer';\n                _this.resourceSelection(id);\n            }\n        };\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.resourceSelection = function (id) {\n        var _this = this;\n        var resourceTreeGrid = document.querySelector('#' + id).ej2_instances[0];\n        this.parent['triggeredColumnName'] = '';\n        var currentViewData = resourceTreeGrid.getCurrentViewRecords();\n        var resources = this.ganttResources;\n        if (resources && resources.length > 0) {\n            currentViewData.forEach(function (data, index) {\n                for (var i = 0; i < resources.length; i++) {\n                    if (data.taskData[_this.parent.resourceFields.id] === resources[i][_this.parent.resourceFields.id] &&\n                        !isNullOrUndefined(resourceTreeGrid.selectionModule) &&\n                        resourceTreeGrid.getSelectedRowIndexes().indexOf(index) === -1) {\n                        resourceTreeGrid.selectRow(index);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName, isCustomTab) {\n        return this.renderGeneralTab(itemName, isCustomTab);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        var tabIndex = this.getDialogTabIndex('Notes');\n        var dialogField;\n        var toolbarCollection = [];\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'toolbarSettings':\n                            for (var j = 0; j < allProperty['toolbarSettings'].items.length; j++) {\n                                /* eslint-disable-next-line */\n                                var key = allProperty['toolbarSettings'].items[j];\n                                if (key) {\n                                    switch (key) {\n                                        case 'Image':\n                                            RichTextEditor.Inject(Image);\n                                            break;\n                                        case 'CreateTable':\n                                            RichTextEditor.Inject(Table);\n                                            break;\n                                        case 'EmojiPicker':\n                                            RichTextEditor.Inject(EmojiPicker);\n                                            break;\n                                        case 'FileManager':\n                                            RichTextEditor.Inject(FileManager);\n                                            break;\n                                        case 'FormatPainter':\n                                            RichTextEditor.Inject(FormatPainter);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                }\n                            }\n                            if (!isNullOrUndefined(allProperty['toolbarSettings'].items)) {\n                                toolbarCollection = inputModel.toolbarSettings.items;\n                            }\n                            RichTextEditor.Inject(RTEToolbar);\n                            break;\n                        case 'editorMode':\n                            RichTextEditor.Inject(MarkdownEditor);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Table);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false || notesColumn.isPrimaryKey || this.parent.readOnly) {\n            inputModel.enabled = false;\n        }\n        inputModel = __assign({}, inputModel, allProperty);\n        inputModel.toolbarSettings.items = toolbarCollection.concat(inputModel.toolbarSettings.items);\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var _this = this;\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var tr;\n        var td;\n        if (this.parent.enableAdaptiveUI) {\n            tr = createElement('tr');\n            td = createElement('td');\n            divElement.style.width = '100%';\n        }\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var create = column.edit.create;\n            if (typeof create === 'string') {\n                create = getObject(create, window);\n                inputElement = create(editArgs);\n            }\n            else {\n                inputElement = column.edit.create(editArgs);\n            }\n            inputElement.className = '';\n            inputElement.setAttribute('type', 'text');\n            inputElement.setAttribute('id', ganttId + '' + column.field);\n            inputElement.setAttribute('name', column.field);\n            inputElement.setAttribute('title', column.field);\n            divElement.appendChild(inputElement);\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !isNullOrUndefined(inputModel.enabled) ? inputModel.enabled : !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            if (!isNullOrUndefined(column.valueAccessor)) {\n                if (typeof column.valueAccessor === 'string') {\n                    var valueAccessor = getObject(column.valueAccessor, window);\n                    inputModel.value = valueAccessor(column.field, ganttData, column);\n                }\n                else {\n                    inputModel.value = column.valueAccessor(column.field, ganttData, column);\n                }\n            }\n            else if (isNullOrUndefined(column.edit)) {\n                var ganttProp = ganttData.ganttProperties;\n                inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            }\n        }\n        else {\n            if (column.editType === 'booleanedit') {\n                if (ganttData[column.field] === true) {\n                    inputModel.checked = true;\n                }\n                else {\n                    inputModel.checked = false;\n                }\n            }\n            else {\n                if (!this.parent.taskFields[column.field] && column.editType === 'numericedit' && (ganttData[column.field] === '' || ganttData[column.field] === 0)) {\n                    inputModel.value = 0;\n                }\n                else {\n                    inputModel.value = ganttData[column.field];\n                }\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var write = column.edit.write;\n            var inputObj = void 0;\n            if (typeof write === 'string') {\n                write = getObject(write, window);\n                inputObj = write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            else {\n                inputObj = column.edit.write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            if (column.field === this.parent.taskFields.duration) {\n                inputObj.change = function (args) {\n                    _this.validateScheduleFields(args, column, _this.parent);\n                };\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            td.appendChild(divElement);\n            tr.appendChild(td);\n            return tr;\n        }\n        else {\n            return divElement;\n        }\n    };\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (this.parent.allowParentDependency) {\n                var currentFlatData = data;\n                if (data.parentUniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                }\n                else {\n                    do {\n                        if (currentFlatData.parentItem) {\n                            currentFlatData = this.parent.flatData[this.parent.ids.indexOf(currentFlatData.parentItem.taskId)];\n                            if (currentFlatData.uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                                this.isValidData = false;\n                                break;\n                            }\n                        }\n                    } while (currentFlatData.parentItem);\n                }\n                if (data.hasChildRecords && this.isValidData) {\n                    this.isValidData = this.isParentValid(data.childRecords);\n                }\n                if (!this.isValidData) {\n                    this.isValidData = true;\n                    continue;\n                }\n            }\n            else {\n                if (data.hasChildRecords) {\n                    continue;\n                }\n            }\n            var taskId = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId.toString()\n                : data.ganttProperties.rowUniqueID.toString();\n            var tempObject = {\n                id: taskId,\n                text: (taskId + '-' + data.ganttProperties.taskName),\n                value: taskId\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                var taskID = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n                if (taskID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = predecessor[i].offset;\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preData.uniqueId = getUid();\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = this.parent.viewType === 'ResourceView' ? ganttData.ganttProperties.taskId.toString()\n            : ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = this.parent.viewType === 'ResourceView' ? ganttProp.taskId.toString() : ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.connectorLineModule.getRecordByID(toId);\n                    var isIdInclude = true;\n                    for (var _i = 0, _a = _this.processedId; _i < _a.length; _i++) {\n                        var item_1 = _a[_i];\n                        if (item_1.id === ganttData.ganttProperties.taskId) {\n                            if (Array.isArray(item_1.value) && Array.isArray(ganttData.ganttProperties.predecessor)) {\n                                if (item_1.value.length === ganttData.ganttProperties.predecessor.length) {\n                                    var arraysMatch = true;\n                                    for (var i = 0; i < item_1.value.length; i++) {\n                                        if (item_1.value[i] !== ganttData.ganttProperties.predecessor[i]) {\n                                            arraysMatch = false;\n                                            break;\n                                        }\n                                    }\n                                    if (arraysMatch) {\n                                        isIdInclude = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (isIdInclude) {\n                        _this.processedId.push({ id: ganttData.ganttProperties.taskId, value: ganttData.ganttProperties.predecessor });\n                        _this.validSuccessorTasks(ganttData, ids, idCollection);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        if (this.currentResources) {\n            this.currentResources = null;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            if (this.isEdit) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'DialogEdit';\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                if (this.parent.viewType === 'ResourceView') {\n                    var isValid = false;\n                    if (!this.rowData.ganttProperties.resourceInfo) {\n                        if (this.ganttResources.length > 0) {\n                            isValid = true;\n                        }\n                    }\n                    else if (this.ganttResources.length !== this.rowData.ganttProperties.resourceInfo.length) {\n                        isValid = true;\n                    }\n                    else {\n                        for (var i = 0; i < this.rowData.ganttProperties.resourceInfo.length; i++) {\n                            if (this.ganttResources[i][this.parent.resourceFields.id] !==\n                                this.rowData.ganttProperties.resourceInfo[i][this.parent.resourceFields.id]) {\n                                isValid = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (isValid) {\n                        var indexes = {};\n                        indexes['deletedIndexes'] = [];\n                        var id_1 = 'T' + this.rowData.ganttProperties.taskId;\n                        var rowItems_1 = [];\n                        this.parent.taskIds.reduce(function (e, i) {\n                            if (i === id_1) {\n                                if (this.ganttResources.length === 0) {\n                                    rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                }\n                                else {\n                                    var parent_1 = this.parent.getTaskByUniqueID(this.parent.flatData[this.parent.taskIds.indexOf(i)].parentUniqueID);\n                                    for (var j = 0; j < this.ganttResources.length; j++) {\n                                        if (parent_1.ganttProperties.taskId !==\n                                            this.ganttResources[j][this.parent.resourceFields.id] &&\n                                            rowItems_1.indexOf(this.parent.flatData[this.parent.taskIds.indexOf(i)]) === -1) {\n                                            rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                        }\n                                    }\n                                }\n                            }\n                        }.bind(this), []);\n                        this.parent.undoRedoModule['findPosition'](extend([], [], rowItems_1, true), indexes, 'deletedIndexes');\n                        if (this['indexes']) {\n                            this['indexes']['deletedIndexes'][this['indexes']['deletedIndexes'].length] = indexes['deletedIndexes'][0];\n                        }\n                        else {\n                            this['indexes'] = indexes;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent['updateDuration'] = true;\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.isFromDialogPredecessor = true;\n                    this.updatePredecessorTab(element);\n                    this.isFromDialogPredecessor = false;\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n                else if (id === 'Segments') {\n                    this.updateSegmentsData(element);\n                }\n            }\n        }\n        if (!this.disableUndo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n            if (this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n            this.parent['totalUndoAction']--;\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.editModule['editedRecord'] = this.rowData;\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            this.parent.editModule.initiateUpdateAction(editArgs);\n        }\n        else {\n            this.parent.editModule['editedRecord'] = this.addedRecord;\n            if (this.parent.viewType === 'ResourceView') {\n                var newRecords = extend({}, this.addedRecord, true);\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    for (var i = 0; i < newRecords[this.parent.taskFields.resourceInfo].length; i++) {\n                        var id = newRecords[this.parent.taskFields.resourceInfo][i].toString();\n                        var parentRecordIndex = this.parent.getTaskIds().indexOf('R' + id.toString());\n                        if (parentRecordIndex !== -1) {\n                            this.parent.editModule.addRecord(this.addedRecord, 'Child', parentRecordIndex);\n                            break;\n                        }\n                    }\n                }\n                else {\n                    this.parent.editModule.addRecord(this.addedRecord, 'Bottom');\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.compareObjects = function (prevSegments, currentSegments) {\n        if (!isNullOrUndefined(prevSegments)) {\n            return prevSegments.every(function (obj1, index) {\n                var obj2 = currentSegments[index];\n                var key = Object.keys(obj1);\n                for (var i = 0; i < key.length; i++) {\n                    if (key[i] === 'startDate' || key[i] === 'endDate') {\n                        if (obj1[key[i]].getTime() !== obj2[key[i]].getTime()) {\n                            return true;\n                        }\n                    }\n                    else if (key[i] === 'duration' && obj1[key[i]] !== obj2[key[i]]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n        }\n        return false;\n    };\n    DialogEdit.prototype.updateSegmentTaskData = function (dataSource) {\n        var taskSettings = this.parent.taskFields;\n        if (!this.isEdit) {\n            this.addedRecord[taskSettings.segments] = dataSource;\n        }\n        else {\n            var prevSegments = this.rowData.ganttProperties.segments;\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, dataSource, this.rowData);\n            var currentSegments = this.parent.dataOperation.setSegmentsInfo(this.rowData, true);\n            if (this.parent.enableUndoRedo && (prevSegments && currentSegments && (prevSegments.length !== currentSegments.length)) ||\n                (!prevSegments && currentSegments) || ((prevSegments && !currentSegments)) ||\n                this.compareObjects(prevSegments, currentSegments)) {\n                this.disableUndo = true;\n            }\n            this.parent.setRecordValue('segments', currentSegments, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, false), this.rowData.ganttProperties, true);\n            if (dataSource.length <= 0) {\n                this.validateDuration(this.rowData);\n            }\n        }\n    };\n    DialogEdit.prototype.updateSegmentsData = function (segmentForm) {\n        var gridObj = segmentForm.ej2_instances[0];\n        var isEdit = gridObj.isEdit;\n        var dataSource;\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        if (isEdit && gridObj.currentViewData.length !== gridObj.dataSource['length']) {\n            dataSource = gridObj.dataSource;\n        }\n        else {\n            dataSource = gridObj.currentViewData;\n        }\n        this.updateSegmentTaskData(dataSource);\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]') || div.querySelector('textarea[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit' && fieldName === this.parent.taskFields.id) {\n                    var valueString = controlObj.value.toString();\n                    controlObj.value = valueString;\n                }\n                var column = ganttObj.columnByField[fieldName];\n                if (fieldName === this.parent.taskFields.duration ?\n                    parseInt(this.rowData[fieldName], 10) !== parseInt(controlObj.value, 10) :\n                    this.rowData[fieldName] !== controlObj.value) {\n                    this.disableUndo = true;\n                }\n                if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    var read = column.edit.read;\n                    if (typeof read === 'string') {\n                        read = getObject(read, window);\n                        tasksData[fieldName] = read(inputElement, controlObj.value);\n                    }\n                    else {\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else if (!isNullOrUndefined(column) && column.editType === 'booleanedit') {\n                    if (inputElement instanceof HTMLInputElement && inputElement.checked === true) {\n                        tasksData[fieldName] = true;\n                    }\n                    else {\n                        tasksData[fieldName] = false;\n                    }\n                }\n                else {\n                    if (fieldName === this.parent.taskFields.duration) {\n                        var numericValue = parseFloat(String(controlObj.value));\n                        tasksData[fieldName] = numericValue;\n                    }\n                    else {\n                        if (this.parent.weekWorkingTime.length > 0 && controlObj.value && (fieldName === this.parent.taskFields.startDate ||\n                            fieldName === this.parent.taskFields.baselineStartDate)) {\n                            var sDate = fieldName === this.parent.taskFields.startDate ? this.beforeOpenArgs.rowData['ganttProperties'].startDate : this.beforeOpenArgs.rowData['ganttProperties'].baselineStartDate;\n                            var prevDay = this.parent['getStartTime'](sDate);\n                            if (prevDay / 3600 === sDate.getHours()) {\n                                var dayStartTime = this.parent['getStartTime'](controlObj.value);\n                                this.parent.dataOperation.setTime(dayStartTime, controlObj.value);\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                            else {\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                        }\n                        else {\n                            tasksData[fieldName] = controlObj.value;\n                        }\n                    }\n                    if (this.parent.enableHtmlSanitizer && typeof (controlObj.value) === 'string') {\n                        controlObj.value = SanitizeHtmlHelper.sanitize(controlObj.value);\n                        tasksData[fieldName] = controlObj.value;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (!isCustom) {\n                this.updateScheduleProperties(this.editedRecord, this.rowData);\n            }\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('type', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskType', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceNames', fromRecord.ganttProperties.resourceNames, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceInfo', fromRecord.ganttProperties.resourceInfo, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.startDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.endDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.duration);\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, toRecord.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.work);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.manual);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.type)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'type');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.resourceInfo)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n        }\n    };\n    DialogEdit.prototype.getMatchingPrefix = function (preData, idArray) {\n        var parts = preData.name.split('-');\n        var current = '';\n        for (var i = 0; i < parts.length; i++) {\n            current = current === '' ? parts[i] : current + '-' + parts[i];\n            if (idArray.indexOf(current) !== -1) {\n                return [current];\n            }\n        }\n        return [];\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.dataSource;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        var parentRecord = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            var splitString = this.getMatchingPrefix(preData, this.parent.ids);\n            if (isNullOrUndefined(preData.id) || (preData.id !== splitString[0] && !isNullOrUndefined(splitString[0]))) {\n                preData.id = splitString[0];\n            }\n            if (ids.indexOf(preData.id) === -1) {\n                if (this.parent.viewType === 'ProjectView') {\n                    var currentRecord = this.parent.flatData[(this.parent.ids.indexOf(preData.id))];\n                    if (currentRecord.hasChildRecords && parentRecord.indexOf(currentRecord) === -1) {\n                        parentRecord.push(currentRecord);\n                    }\n                }\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (predecessorString !== '' || (!isNullOrUndefined(this.rowData.ganttProperties.predecessorsName) && this.rowData.ganttProperties.predecessorsName !== predecessorString) && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (JSON.stringify(this.ganttResources) !== JSON.stringify(this.rowData.ganttProperties.resourceInfo)) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n            else {\n                this.isResourceUpdate = false;\n            }\n        }\n        var idArray = [];\n        if (this.isEdit) {\n            if ((this.rowData.ganttProperties.resourceInfo && selectedItems.length !== this.rowData.ganttProperties.resourceInfo.length) ||\n                (isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) && selectedItems.length > 0)) {\n                this.disableUndo = true;\n            }\n            if (!this.disableUndo) {\n                for (var i = 0; i < selectedItems.length; i++) {\n                    if (JSON.stringify(selectedItems[i]) !==\n                        JSON.stringify(this.rowData.ganttProperties.resourceInfo[i])) {\n                        this.disableUndo = true;\n                        break;\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.editedRecord.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.editedRecord, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.editedRecord, 'resource');\n            this.validateDuration(this.editedRecord);\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n                this.isAddNewResource = true;\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                if (this.rowData.ganttProperties.notes !== rte.getHtml() && (this.rowData.ganttProperties.notes !== null || rte.getHtml() !== '<p><br></p>') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            }\n            else {\n                if (this.rowData.ganttProperties.notes !== rte.getText() && (this.rowData.ganttProperties.notes !== null || rte.getText() !== '') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                if (rte.getHtml().includes('href')) {\n                    this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('notes', rte.getText(), this.rowData.ganttProperties, true);\n                }\n            }\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n            }\n            else {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getText();\n            }\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n *\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.validatedId = [];\n        this.validatedOffsetIds = [];\n        this.isPublicDependencyDelete = false;\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     *\n     * @param {EventTarget} target .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLineSVG);\n        var isArrow = parentsUntil(target, cls.connectorLineArrow);\n        var isCriticalLine = parentsUntil(target, cls.criticalConnectorLineSVG);\n        var isCriticalArrow = parentsUntil(target, cls.criticalConnectorArrowSVG);\n        if (isOnLine || isArrow || isCriticalLine || isCriticalArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        var pathElement = element.querySelector('.' + cls.connectorLineSVG);\n        if (pathElement) {\n            pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke'] + 1).toString());\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (this.connectorLineElement) {\n            var pathElement = this.connectorLineElement.querySelector('.' + cls.connectorLineSVG);\n            if (pathElement) {\n                pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke']).toString());\n            }\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @param {IGanttData[]} records .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idArray = [];\n        var lineArray = [];\n        var editedConnectorLineString = '';\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                    predecessor = predecessorsCollection[predecessorCount];\n                    var from = 'from';\n                    var to = 'to';\n                    this.parent.connectorLineModule.removeConnectorLineById('parent' + predecessor[from] + 'child' + predecessor[to]);\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + from]);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + to]);\n                    if ((!this.parent.allowParentDependency && (parentGanttRecord && parentGanttRecord.expanded === true) ||\n                        (childGanttRecord && childGanttRecord.expanded === true)) || (this.parent.allowParentDependency &&\n                        (parentGanttRecord || childGanttRecord))) {\n                        connectorObj =\n                            this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                        if (!isNullOrUndefined(connectorObj)) {\n                            var lineIndex = idArray.indexOf(connectorObj.connectorLineId);\n                            var lineString = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                            if (lineIndex !== -1) {\n                                lineArray[lineIndex] = lineString;\n                            }\n                            else {\n                                idArray.push(connectorObj.connectorLineId);\n                                lineArray.push(lineString);\n                            }\n                        }\n                    }\n                }\n                editedConnectorLineString = lineArray.join('');\n            }\n        }\n        return editedConnectorLineString;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     *\n     * @param {IGanttData[]} editedRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.previousRecords);\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        var editedConnectorLineString = this.getEditedConnectorLineString(editedRecord);\n        this.parent.connectorLineModule.svgObject.innerHTML =\n            this.parent.connectorLineModule.svgObject.innerHTML + editedConnectorLineString;\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        var values = [];\n        var match = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            var firstPart = void 0;\n            var isAlpha = false;\n            var predecessorName = void 0;\n            var isGUId = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = preArray[j].split('-');\n            var id = void 0;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = preArray[j].substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (preArray[j].includes('-')) {\n                if (preArray[j].includes('-') && preArray[j].includes('days')) {\n                    predecessorName = preArray[j].slice(-9).toString();\n                }\n                if (preArray[j].includes('-') && preArray[j].includes('day')) {\n                    predecessorName = preArray[j].slice(-8).toString();\n                }\n                else {\n                    predecessorName = preArray[j].slice(-2).toString();\n                }\n                if (preArray[j].includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = preArray[j].indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = preArray[j].substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = preArray[j];\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = preArray[j];\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = preArray[j].split('+');\n                    if (preArray[j].indexOf('-') >= 0) {\n                        values = preArray[j].split('-');\n                    }\n                }\n            }\n            if (!isNullOrUndefined(values[0])) {\n                var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                if (ids.indexOf(values[0]) === -1) {\n                    if (values[0].indexOf(' ') !== -1) {\n                        match = values[0].split(' ');\n                        if (match.length === 1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        strArray.push(match[0]);\n                    }\n                    else {\n                        if (values[0].length === 1 || values[0].length === 2) {\n                            strArray.push(values[0]);\n                        }\n                        else {\n                            strArray.push(values[0].slice(0, -2));\n                        }\n                    }\n                }\n                else {\n                    strArray.push(values[0]);\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.connectorLineModule.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.connectorLineModule.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* eslint-disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    // Get the root parent of the record\n    ConnectorLineEdit.prototype.getRootParent = function (rec) {\n        var parentRec = rec;\n        if (rec.parentItem) {\n            parentRec = this.parent.flatData.filter(function (item) {\n                return item.uniqueID === rec.parentUniqueID;\n            })[0];\n            if (parentRec.parentItem) {\n                parentRec = this.getRootParent(parentRec);\n            }\n            return parentRec;\n        }\n        return parentRec;\n    };\n    // To check whether the predecessor drawn is valid for parent task\n    ConnectorLineEdit.prototype.validateParentPredecessor = function (fromRecord, toRecord) {\n        if (fromRecord && toRecord) {\n            if (toRecord.hasChildRecords && !fromRecord.hasChildRecords) {\n                if (fromRecord.parentUniqueID === toRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (fromRecord.parentItem) {\n                            fromRecord = this.parent.flatData[this.parent.ids.indexOf(fromRecord.parentItem.taskId)];\n                            if (fromRecord.uniqueID === toRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (fromRecord.parentItem);\n                }\n            }\n            else if (!toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentUniqueID === fromRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (toRecord.parentItem) {\n                            toRecord = this.parent.flatData[this.parent.ids.indexOf(toRecord.parentItem.taskId)];\n                            if (toRecord.uniqueID === fromRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (toRecord.parentItem);\n                }\n            }\n            else if (toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentItem && fromRecord.parentItem) {\n                    if (fromRecord.parentUniqueID === toRecord.uniqueID || fromRecord.uniqueID === toRecord.parentUniqueID) {\n                        return false;\n                    }\n                }\n                else {\n                    if (!toRecord.parentItem && fromRecord.parentItem) {\n                        var fromRootParent = this.parent.connectorLineEditModule.getRootParent(fromRecord);\n                        if (fromRootParent.uniqueID === toRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                    else if (toRecord.parentItem && !fromRecord.parentItem) {\n                        var toRootParent = this.parent.connectorLineEditModule.getRootParent(toRecord);\n                        if (toRootParent.uniqueID === fromRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n            : ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                if (!this_2.parent.allowParentDependency) {\n                    var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                    if (!checkParent) {\n                        return { value: false };\n                    }\n                }\n                else {\n                    if (parseInt(predecessorIdArray[predecessorIdArray.length - 1], 10) !== ganttRecord[this_2.parent.taskFields.id]) {\n                        var num = this_2.parent.ids.indexOf(predecessorIdArray[predecessorIdArray.length - 1]);\n                        var fromRecord = this_2.parent.currentViewData[num];\n                        if (fromRecord && ganttRecord) {\n                            flag = this_2.validateParentPredecessor(fromRecord, ganttRecord);\n                        }\n                    }\n                }\n                // Check if predecessor exist more then one\n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check\n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.connectorLineModule.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.connectorLineModule.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.isPublicDependencyDelete = true;\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : ((this.parent.contextMenuModule && this.parent.contextMenuModule['isCntxtMenuDependencyDelete']) ||\n                this.isPublicDependencyDelete) ? 'DeleteConnectorLine' : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            if (ganttRecord.taskData[this.parent.taskFields.dependency]) {\n                ganttRecord.taskData[this.parent.taskFields.dependency] = null;\n            }\n            var err = predecessorString + \" is an invalid relation for task \" + this.parent.taskFields.id + \". Kindly ensure the \" + this.parent.taskFields.dependency + \" field contains only valid predecessor relations.\";\n            this.parent.trigger('actionFailure', { error: err });\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule'\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.checkChildRecords(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            var connectedTaskId_1;\n            if (this.parent.updateOffsetOnTaskbarEdit) {\n                var taskId_1 = ganttRecord.ganttProperties.taskId;\n                if (ganttRecord.ganttProperties.predecessor) {\n                    ganttRecord.ganttProperties.predecessor.forEach(function (predecessor) {\n                        if (taskId_1 === predecessor.from) {\n                            connectedTaskId_1 = predecessor.to;\n                            return;\n                        }\n                    });\n                }\n            }\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n            this.processPredecessors(connectedTaskId_1);\n        }\n    };\n    ConnectorLineEdit.prototype.compareArrays = function (arr1, arr2) {\n        if (arr1.length !== arr2.length) {\n            return false;\n        }\n        var str1 = JSON.stringify(arr1);\n        var str2 = JSON.stringify(arr2);\n        return str1 === str2;\n    };\n    ConnectorLineEdit.prototype.processPredecessors = function (parentId) {\n        var _this = this;\n        if (parentId) {\n            var record_1 = this.parent.getRecordByID(parentId);\n            if (record_1 && record_1.ganttProperties && record_1.ganttProperties.predecessor) {\n                this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                this.calculateOffset(record_1);\n                var isIdInclude_1 = true;\n                /* eslint-disable-next-line */\n                var matchedObject = this.validatedId.find(function (item) {\n                    return item.id === record_1.ganttProperties.taskId;\n                });\n                if (matchedObject) {\n                    var predecessorArray = matchedObject.value;\n                    var areArraysEqual = this.compareArrays(predecessorArray, record_1.ganttProperties.predecessor);\n                    if (areArraysEqual) {\n                        isIdInclude_1 = false;\n                    }\n                }\n                var predecessors = record_1.ganttProperties.predecessor;\n                predecessors.forEach(function (predecessor) {\n                    if (record_1.ganttProperties.taskId === predecessor.from && isIdInclude_1) {\n                        _this.processPredecessors(predecessor.to);\n                    }\n                });\n            }\n        }\n    };\n    ConnectorLineEdit.prototype.checkChildRecords = function (ganttRecord) {\n        this.validationPredecessor = ganttRecord.ganttProperties.predecessor;\n        if (!isNullOrUndefined(this.validationPredecessor)) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n        }\n        if (ganttRecord.childRecords.length > 0) {\n            for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                var childRecord = ganttRecord.childRecords[i];\n                this.validationPredecessor = childRecord.ganttProperties.predecessor;\n                if (!isNullOrUndefined(this.validationPredecessor)) {\n                    this.removePredecessors(childRecord, this.validationPredecessor);\n                }\n                if (childRecord.childRecords.length > 0) {\n                    this.checkChildRecords(childRecord);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(ganttRecord.parentItem)) {\n            var parentRecord = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            this.validationPredecessor = parentRecord.ganttProperties.predecessor;\n            this.removePredecessors(parentRecord, this.validationPredecessor);\n        }\n    };\n    ConnectorLineEdit.prototype.compareObjects = function (obj1, obj2) {\n        var keys1 = Object.keys(obj1).filter(function (key) { return key !== 'offset'; });\n        var keys2 = Object.keys(obj2).filter(function (key) { return key !== 'offset'; });\n        if (keys1.length !== keys2.length) {\n            return false;\n        }\n        return keys1.every(function (key) { return obj1[key] === obj2[key]; });\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record, isRecursive) {\n        var _this = this;\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        if (record && isScheduledTask(record.ganttProperties) !== null) {\n            var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n            var validPredecessor_1 = this.parent.predecessorModule.getValidPredecessor(record);\n            if (validPredecessor_1.length > 0) {\n                this.cumulativePredecessorChanges = prevPredecessor;\n                var _loop_5 = function (i) {\n                    var predecessor = validPredecessor_1[parseInt(i.toString(), 10)];\n                    var parentTask = this_4.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    if (this_4.parent.undoRedoModule && this_4.parent.undoRedoModule['isUndoRedoPerformed'] && this_4.parent.viewType === 'ProjectView') {\n                        var isPresent = parentTask.ganttProperties.predecessor.filter(function (pred) {\n                            return pred.from === validPredecessor_1[i].from && pred.to === validPredecessor_1[i].to;\n                        });\n                        if (isPresent.length === 0) {\n                            parentTask.ganttProperties.predecessor.push(validPredecessor_1[i]);\n                        }\n                    }\n                    var offset = void 0;\n                    if ((parentTask.ganttProperties.startDate || parentTask.ganttProperties.endDate) &&\n                        (record.ganttProperties.startDate || record.ganttProperties.endDate)) {\n                        var tempStartDate = void 0;\n                        var tempEndDate = void 0;\n                        var tempDuration = void 0;\n                        var isNegativeOffset = void 0;\n                        switch (predecessor.type) {\n                            case 'FS':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SS':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SF':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                            case 'FF':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempStartDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempEndDate, null);\n                            isNegativeOffset = false;\n                        }\n                        else {\n                            var tempDate = new Date(tempStartDate.getTime());\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempEndDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempDate, null);\n                            isNegativeOffset = true;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempDuration = this_4.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                            if (this_4.parent.durationUnit === predecessor.offsetUnit &&\n                                ((parentTask.ganttProperties.startDate && isNullOrUndefined(parentTask.ganttProperties.endDate)) ||\n                                    (isNullOrUndefined(parentTask.ganttProperties.startDate) && parentTask.ganttProperties.endDate))) {\n                                tempDuration = tempDuration - 1;\n                            }\n                            offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                        }\n                        else {\n                            offset = 0;\n                        }\n                    }\n                    else {\n                        offset = 0;\n                    }\n                    var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n                    if (preIndex !== -1) {\n                        prevPredecessor[preIndex].offset = offset;\n                    }\n                    // Update predecessor in predecessor task\n                    var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n                    var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n                    if (parentPreIndex !== -1) {\n                        parentPredecessors[parentPreIndex].offset = offset;\n                    }\n                    this_4.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n                };\n                var this_4 = this;\n                for (var i = 0; i < validPredecessor_1.length; i++) {\n                    _loop_5(i);\n                }\n            }\n            else {\n                var validPredecessor_2 = record.ganttProperties.predecessor;\n                if (validPredecessor_2) {\n                    if (validPredecessor_2.length > 0) {\n                        validPredecessor_2.forEach(function (element) {\n                            if (_this.validatedOffsetIds.indexOf(element.to) === -1) {\n                                _this.calculateOffset(_this.parent.getRecordByID(element.to), true);\n                            }\n                        });\n                    }\n                }\n            }\n            if (validPredecessor_1.length === 0) {\n                this.cumulativePredecessorChanges = [];\n            }\n            if (!isRecursive && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                if (prevPredecessor && prevPredecessor.length > 0 && this.cumulativePredecessorChanges &&\n                    this.cumulativePredecessorChanges.length > 0) {\n                    var matchingObjects = prevPredecessor.map(function (objectToCompare) {\n                        var matchedObject = _this.cumulativePredecessorChanges.find(function (obj) { return _this.compareObjects(obj, objectToCompare); });\n                        return matchedObject ? __assign({}, matchedObject) : null;\n                    }).filter(function (matchedObject) { return matchedObject !== null; });\n                    this.parent.setRecordValue('predecessor', matchingObjects, record.ganttProperties, true);\n                }\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n            }\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n            if (this.validatedOffsetIds.indexOf(record.ganttProperties.taskId.toString()) === -1) {\n                this.validatedOffsetIds.push(record.ganttProperties.taskId.toString());\n            }\n            if (record.hasChildRecords) {\n                for (var i = 0; i < record.childRecords.length; i++) {\n                    if (this.validatedOffsetIds.indexOf(record.childRecords[i].ganttProperties.taskId.toString()) === -1 &&\n                        record.childRecords[i].ganttProperties.predecessor &&\n                        record.childRecords[i].ganttProperties.predecessor.length > 0) {\n                        this.calculateOffset(record.childRecords[i]);\n                    }\n                }\n            }\n            else if (record.parentItem) {\n                var parentItem = this.parent.getRecordByID(record.parentItem.taskId);\n                if (this.validatedOffsetIds.indexOf(parentItem.ganttProperties.taskId.toString()) === -1 &&\n                    parentItem.ganttProperties.predecessor && parentItem.ganttProperties.predecessor.length > 0) {\n                    this.calculateOffset(parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessor .\n     * @returns {void} .\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        if (isNullOrUndefined(predecessor)) {\n            return;\n        }\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[parseInt(i.toString(), 10)], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     *\n     * @param {object} args .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, this.parent.dateFormat);\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        var topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {any} data .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord, data) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var ganttTaskData;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        if (data) {\n            ganttTaskData = data.ganttProperties;\n        }\n        else {\n            ganttTaskData = ganttRecord.ganttProperties;\n        }\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (this.parent.dateValidationModule.getDuration(startDate, ganttTaskData.startDate, this.parent.durationUnit, ganttTaskData.isAutoSchedule, ganttTaskData.isMilestone, true) !== 0) {\n                    if (ganttTaskData.startDate < startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FS';\n                    }\n                    else if (ganttTaskData.startDate > startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                var endDateOlny = new Date(ganttTaskData.endDate);\n                var startDateOlny = new Date(startDate);\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (this.parent.dateValidationModule.getDuration(startDate, parentGanttRecord.ganttProperties.endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate <= parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FF';\n                    }\n                    else if (endDate > parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (this.parent.dateValidationModule.getDuration(parentGanttRecord.ganttProperties.startDate, endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate < parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (endDate >= parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor_1 = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor_1)) {\n                var _loop_6 = function (p) {\n                    var parentGanttRecord = this_5.parent.connectorLineModule.getRecordByID(prevPredecessor_1[parseInt(p.toString(), 10)].from);\n                    if (parentGanttRecord === data) {\n                        var isValid = data.ganttProperties.predecessor.filter(function (pred) {\n                            return prevPredecessor_1[p].from === pred.from && prevPredecessor_1[p].to === pred.to;\n                        });\n                        if (isValid.length === 0) {\n                            if (data.parentItem && this_5.parent.taskFields.dependency && data.ganttProperties.predecessor &&\n                                this_5.parent.allowParentDependency) {\n                                if (prevPredecessor_1[p].from !== data.parentItem.taskId &&\n                                    prevPredecessor_1[p].to !== data.parentItem.taskId) {\n                                    data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                                }\n                            }\n                            else {\n                                data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                            }\n                        }\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor_1[parseInt(p.toString(), 10)], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this_5.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                };\n                var this_5 = this;\n                for (var p = 0; p < prevPredecessor_1.length; p++) {\n                    _loop_6(p);\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                var _loop_7 = function (n) {\n                    var parentGanttRecord = this_6.parent.connectorLineModule.getRecordByID(newPredecessor[parseInt(n.toString(), 10)].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    var isValid = parentPredecessor.filter(function (pred) {\n                        return newPredecessor[n].from === pred.from && newPredecessor[n].to === pred.to;\n                    });\n                    if (isValid.length === 0) {\n                        parentPredecessor.push(newPredecessor[parseInt(n.toString(), 10)]);\n                        this_6.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                    }\n                };\n                var this_6 = this;\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    _loop_7(n);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     *\n     * @param {IGanttData} childRecord .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'DeleteDependency';\n            details['modifiedRecords'] = extend([], [childRecord], [], true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.connectorLineModule.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog'\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement } from '@syncfusion/ej2-base';\nimport { DataManager, Query, ODataAdaptor, WebApiAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex, isCountRequired, updateDates } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\nimport { TreeGrid, Edit as TreeGridEdit } from '@syncfusion/ej2-treegrid';\n/**\n * The Edit Module is used to handle editing actions.\n *\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        this.isNewRecordAdded = false;\n        this.isValidatedEditedRecord = false;\n        this.createArray = true;\n        this.deletedRecord = [];\n        this.canReset = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.parent.predecessorModule.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog'\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        if (this.parent.editSettings.mode === 'Dialog') {\n            TreeGrid.Inject(TreeGridEdit);\n        }\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo,\n            this.parent.taskFields.type, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                var column = this.parent.getColumnByField(customEditorColumns[parseInt(i.toString(), 10)], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress && isNullOrUndefined(column.edit)) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === this.parent.taskFields.type || column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            enableRtl: this.parent.enableRtl,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            enableRtl: this.parent.enableRtl,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     *\n     * @param {ColumnModel} column .\n     * @param {object} editParam .\n     * @returns {void} .\n     */\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(editParam, column.edit.params);\n        column.edit.params = editParam;\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                enableRtl: _this.parent.enableRtl,\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                enableRtl: _this.parent.enableRtl,\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = _this.parent.taskFields.type || 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog'\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     *\n     * @param {Object} data - Defines new data to update.\n     * @returns {void} .\n     */\n    Edit.prototype.updateRecordByID = function (data) {\n        var _this = this;\n        if (this.parent.enableImmutableMode && this.parent.editSettings.allowEditing &&\n            this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!this.parent.readOnly) {\n            var tasks = this.parent.taskFields;\n            if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n                return;\n            }\n            var ganttData = this.parent.viewType === 'ResourceView' ?\n                this.parent.flatData[this.parent.getTaskIds().indexOf('T' + data[tasks.id])] : this.parent.getRecordByID(data[tasks.id]);\n            if (!isNullOrUndefined(ganttData[tasks.milestone])) {\n                if (ganttData[tasks.milestone] === true) {\n                    ganttData[tasks.milestone] = false;\n                }\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Edit') && ganttData) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['requestType'] = ((this.parent.contextMenuModule && this.parent.contextMenuModule.item) ? this.parent.contextMenuModule.item : 'methodUpdate');\n                details['modifiedRecords'] = extend([], [ganttData], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n                this.parent.isOnEdit = true;\n                this.validateUpdateValues(data, ganttData, true);\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    if (this.parent.viewType === 'ProjectView' && data['ganttProperties'].predecessor) {\n                        var _loop_1 = function (i) {\n                            var isValid = ganttData.ganttProperties.predecessor.filter(function (pred) {\n                                if ((pred.from === data['ganttProperties'].predecessor[i].from &&\n                                    pred.to === data['ganttProperties'].predecessor[i].to\n                                    && data['ganttProperties'].predecessor[i].offset !== pred.offset)) {\n                                    var record = _this.parent.flatData[_this.parent.ids.indexOf(pred.to)];\n                                    var changeValue = record.ganttProperties.predecessor.filter(function (pred) {\n                                        return (pred.from === data['ganttProperties'].predecessor[i].from && pred.to === data['ganttProperties'].predecessor[i].to);\n                                    });\n                                    changeValue[0].offset = data['ganttProperties'].predecessor[i].offset;\n                                }\n                                return pred.from !== data['ganttProperties'].predecessor[i].from && pred.from !== data['ganttProperties'].predecessor[i].to;\n                            });\n                            if (isValid.length > 0) {\n                                for (var j = 0; j < isValid.length; j++) {\n                                    var record = this_1.parent.flatData[this_1.parent.ids.indexOf(isValid[j].from)];\n                                    for (var k = 0; k < record.ganttProperties.predecessor.length; k++) {\n                                        if (record.ganttProperties.predecessor[k].from === isValid[j].from &&\n                                            record.ganttProperties.predecessor[k].to === isValid[j].to) {\n                                            record.ganttProperties.predecessor.splice(k, 1);\n                                            break;\n                                        }\n                                    }\n                                }\n                                return \"break\";\n                            }\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < data['ganttProperties'].predecessor.length; i++) {\n                            var state_1 = _loop_1(i);\n                            if (state_1 === \"break\")\n                                break;\n                        }\n                    }\n                    else if (!data['ganttProperties'].predecessor && ganttData.ganttProperties.predecessor) {\n                        for (var i = 0; i < ganttData.ganttProperties.predecessor.length; i++) {\n                            var id = void 0;\n                            if (ganttData.ganttProperties.taskId.toString() === ganttData.ganttProperties.predecessor[i].from) {\n                                id = ganttData.ganttProperties.predecessor[i].to;\n                            }\n                            else {\n                                id = ganttData.ganttProperties.predecessor[i].from;\n                            }\n                            var parentRec = this.parent.flatData[this.parent.ids.indexOf(id)];\n                            for (var j = 0; j < parentRec.ganttProperties.predecessor.length; j++) {\n                                if (parentRec.ganttProperties.predecessor[j].from ===\n                                    ganttData.ganttProperties.predecessor[i].from &&\n                                    parentRec.ganttProperties.predecessor[j].to ===\n                                        ganttData.ganttProperties.predecessor[i].to) {\n                                    parentRec.ganttProperties.predecessor.splice(j, 1);\n                                }\n                            }\n                        }\n                    }\n                    ganttData.ganttProperties.resourceInfo = data['ganttProperties'].resourceInfo;\n                }\n                if (data[this.parent.taskFields.resourceInfo]) {\n                    if (ganttData.ganttProperties.duration === 0 &&\n                        (ganttData.ganttProperties.taskType !== 'FixedWork' || this.parent['isConvertedMilestone'])) {\n                        this.parent.dataOperation.updateWorkWithDuration(ganttData);\n                    }\n                    if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        this.updateResourceRelatedFields(ganttData, 'resource');\n                    }\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                    keys.indexOf(tasks.duration) !== -1) {\n                    this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n                }\n                this.parent.dataOperation.updateWidthLeft(ganttData);\n                if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                    data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                    this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n                }\n                else {\n                    var args = {};\n                    args.data = ganttData;\n                    if (this.parent.viewType === 'ResourceView') {\n                        args.action = 'methodUpdate';\n                    }\n                    this.parent.editModule.initiateUpdateAction(args);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isFromDialog .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {\n            var key = _b[_i];\n            if ([tasks.startDate, tasks.endDate, tasks.duration].indexOf(key) !== -1) {\n                if (isNullOrUndefined(data[\"\" + key]) && !ganttObj.allowUnscheduledTasks) {\n                    continue;\n                }\n                if (isFromDialog) {\n                    if (tasks.duration === key) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttData.ganttProperties);\n                        if (ganttData.ganttProperties.duration > 0 && ganttData.ganttProperties.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttData.ganttProperties, true);\n                        }\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                    else {\n                        var tempDate = typeof data[key] === 'string' ? new Date(data[key]) : data[key];\n                        if (key === tasks.endDate && isNullOrUndefined(ganttData.ganttProperties.startDate) && (isNullOrUndefined(data[tasks.duration]) || data[tasks.duration] === '' || Number.isNaN(data[tasks.duration]))) {\n                            tempDate = ganttData.ganttProperties.endDate;\n                        }\n                        ganttObj.setRecordValue(ganttPropByMapping[key], tempDate, ganttData.ganttProperties, true);\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (JSON.stringify(resourceData) !== JSON.stringify(ganttData.ganttProperties.resourceInfo)) {\n                        this.parent.editModule.dialogModule.isResourceUpdate = true;\n                        this.parent.editModule.dialogModule.previousResource = !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) ? ganttData.ganttProperties.resourceInfo.slice() : [];\n                    }\n                    else {\n                        this.parent.editModule.dialogModule.isResourceUpdate = false;\n                    }\n                }\n                if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    ganttData.ganttProperties.resourceInfo = resourceData;\n                }\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id, tasks.segments, tasks.cssClass].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                if (key === tasks.id) {\n                    ganttPropKey = 'taskId';\n                }\n                else if (key === tasks.name) {\n                    ganttPropKey = 'taskName';\n                }\n                else if (key === tasks.cssClass) {\n                    ganttPropKey = 'cssClass';\n                }\n                else if (key === tasks.milestone) {\n                    ganttPropKey = 'isMilestone';\n                    if (!isNullOrUndefined(tasks.duration)) {\n                        var ganttProp = ganttData.ganttProperties;\n                        var durationValue = data[tasks.duration];\n                        if (value) {\n                            durationValue = 0;\n                        }\n                        else {\n                            durationValue = durationValue <= 0 ? 1 : durationValue;\n                        }\n                        ganttObj.setRecordValue(tasks.duration, durationValue, ganttData, true);\n                        ganttObj.setRecordValue('duration', durationValue, ganttProp, true);\n                        ganttObj.setRecordValue('taskData.' + tasks.duration, durationValue, ganttData);\n                    }\n                }\n                else if ((key === tasks.segments) && (!isNullOrUndefined(ganttData.ganttProperties.segments))) {\n                    ganttPropKey = 'segments';\n                    /* eslint-disable-next-line */\n                    if (data && !isNullOrUndefined(data[this.parent.taskFields.segments]) && data[this.parent.taskFields.segments].length > 0) {\n                        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                            ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                        }\n                        var totDuration = 0;\n                        for (var i = 0; i < ganttData.ganttProperties.segments.length; i++) {\n                            totDuration = totDuration + ganttData.ganttProperties.segments[i].duration;\n                        }\n                        var sdate = ganttData.ganttProperties.startDate;\n                        /* eslint-disable-next-line */\n                        var edate = this.parent.dataOperation.getEndDate(sdate, totDuration, ganttData.ganttProperties.durationUnit, ganttData.ganttProperties, false);\n                        ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(edate), ganttData.ganttProperties, true);\n                    }\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    var seg = [];\n                    if (ganttPropKey === 'segments' && value && value.length > 0 && !isNullOrUndefined(ganttData.ganttProperties.segments)) {\n                        for (var i = 0; i < value.length; i++) {\n                            var segment = {};\n                            if (value[i][this.parent.taskFields.startDate]) {\n                                segment['startDate'] = value[i][this.parent.taskFields.startDate];\n                            }\n                            if (value[i][this.parent.taskFields.endDate]) {\n                                segment['endDate'] = value[i][this.parent.taskFields.endDate];\n                            }\n                            if (value[i][this.parent.taskFields.duration]) {\n                                segment['duration'] = parseFloat(value[i][this.parent.taskFields.duration]);\n                            }\n                            if (value[i][this.parent.taskFields.id]) {\n                                segment['id'] = value[i][this.parent.taskFields.id];\n                            }\n                            seg.push(segment);\n                        }\n                        ganttObj.setRecordValue(ganttPropKey, seg, ganttData.ganttProperties, true);\n                    }\n                    else {\n                        if (ganttPropKey !== 'segments' || (ganttPropKey === 'segments' && isNullOrUndefined(value))) {\n                            ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                        }\n                    }\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    ganttObj.setRecordValue('baselineStartDate', ganttObj.dataOperation.checkBaselineStartDate(ganttData.ganttProperties.baselineStartDate, ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](ganttData.ganttProperties.baselineEndDate);\n                    if (ganttData.ganttProperties.baselineEndDate && ganttData.ganttProperties.baselineEndDate.getHours() === 0 &&\n                        dayEndTime !== 86400) {\n                        ganttObj.dataOperation.setTime(dayEndTime, ganttData.ganttProperties.baselineEndDate);\n                    }\n                    if ((ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate &&\n                        (ganttData.ganttProperties.baselineStartDate.getTime() > ganttData.ganttProperties.baselineEndDate.getTime())) ||\n                        ((!isNullOrUndefined(ganttData.ganttProperties.baselineStartDate) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.startDate) &&\n                            (ganttData.ganttProperties.baselineStartDate.getTime() === ganttData.ganttProperties.startDate.getTime()))\n                            && (!isNullOrUndefined(ganttData.ganttProperties.baselineEndDate) &&\n                                !isNullOrUndefined(ganttData.ganttProperties.endDate) &&\n                                (ganttData.ganttProperties.baselineEndDate.toLocaleDateString() ===\n                                    ganttData.ganttProperties.endDate.toLocaleDateString())) &&\n                            ganttData.ganttProperties.isMilestone)) {\n                        ganttData.ganttProperties.baselineEndDate = ganttData.ganttProperties.baselineStartDate;\n                    }\n                    ganttObj.setRecordValue('baselineEndDate', ganttObj.dataOperation.checkBaselineEndDate(ganttData.ganttProperties.baselineEndDate), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                /* eslint-disable-next-line */\n                if (key === tasks.segments && data && !isNullOrUndefined(data[this.parent.taskFields.segments]) && data[this.parent.taskFields.segments].length > 0) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                    }\n                    ganttObj.dataOperation.setSegmentsInfo(ganttData, true);\n                }\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === tasks.type) {\n                ganttObj.setRecordValue('taskType', data[key], ganttData.ganttProperties, true);\n                //this.parent.dataOperation.updateMappingData(ganttData, 'taskType');\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     *\n     * @param {IGanttData} currentData .\n     * @param {string} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var taskType = ganttProp.taskType ? ganttProp.taskType : this.parent.taskType;\n        var isEffectDriven;\n        var isAutoSchedule = ganttProp.isAutoSchedule;\n        var resources = (this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : currentData.ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            switch (taskType) {\n                case 'FixedUnit':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule && resources.length) {\n                        if (column === 'resource' || column === 'work') {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                    }\n                    else if (!isAutoSchedule && column === 'work') {\n                        this.parent.dataOperation.updateUnitWithWork(currentData);\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n                case 'FixedWork':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule) {\n                        if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                        else {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                    }\n                    else {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    break;\n                case 'FixedDuration':\n                    if (resources.length === 0) {\n                        // To validate the work column, if set duration as 0 via celledit action, where resource colection is 0\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        return;\n                    }\n                    if (resources.length && (column === 'work' || (isAutoSchedule &&\n                        isEffectDriven && (column === 'resource')))) {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n            }\n        }\n        // To validate the work colum if set duration as 0, while resource is null/undefined\n        else if (isNullOrUndefined(resources) && taskType === 'FixedDuration' && ganttProp.duration === 0) {\n            this.parent.dataOperation.updateWorkWithDuration(currentData);\n        }\n    };\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName &&\n                !(data.ganttProperties.predecessorsName === '' &&\n                    isNullOrUndefined(prevData.ganttProperties.predecessorsName))) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to copy the ganttProperties values\n     *\n     * @param {IGanttData} data .\n     * @param {IGanttData} updateData .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        var parentData;\n        var childRecordIndex;\n        if (!isNullOrUndefined(args.data.parentItem) && !isValidatePredecessor) {\n            parentData = this.parent.getRecordByID(args.data.parentItem.taskId);\n            if (this.isTaskbarMoved(args.data) && this.parent.predecessorModule.getValidPredecessor(parentData).length > 0\n                && this.parent.isInPredecessorValidation) {\n                isValidatePredecessor = true;\n            }\n            else {\n                isValidatePredecessor = false;\n            }\n        }\n        else if (args.data.childRecords.length > 0 && !isValidatePredecessor) {\n            isValidatePredecessor = this.isCheckPredecessor(args.data);\n            if (!isValidatePredecessor && this.isTaskbarMoved(args.data)) {\n                for (var i = 0; i < args.data.childRecords.length; i++) {\n                    if (this.parent.predecessorModule.getValidPredecessor(args.data.childRecords[i]).length > 0) {\n                        childRecordIndex = i;\n                        isValidatePredecessor = true;\n                    }\n                }\n            }\n        }\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['currentAction'] ||\n            (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['action'] !== 'indent' &&\n                this.parent.undoRedoModule['currentAction']['action'] !== 'outdent'))) {\n            this.taskbarMoved = this.isTaskbarMoved(args.data);\n        }\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        var validateObject = {};\n        if (isValidatePredecessor && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(parentData)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(parentData, args.data);\n            }\n            else if (!isNullOrUndefined(childRecordIndex)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data.childRecords[childRecordIndex], args.data);\n            }\n            else {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            }\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                        this.parent.editModule.dialogModule['isEdit'] && this.predecessorUpdated) {\n                        this.isValidatedEditedRecord = true;\n                        this.parent.predecessorModule.validatePredecessor(args.data, [], '');\n                    }\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param {ITaskbarEditedEventArgs} editedEventArgs method to trigger validate predecessor link by dialog\n     * @returns {IValidateArgs} .\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        this.parent.actionBeginTask(newArgs);\n        return newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    Edit.prototype.validateChildPredecessors = function () {\n        for (var i = 0; i < this.parent.predecessorModule.validatedChildItems.length; i++) {\n            var child = this.parent.predecessorModule.validatedChildItems[i];\n            if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                this.parent.editedTaskBarItem = child;\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                }\n                this.parent.predecessorModule.validatePredecessor(child, [], '');\n            }\n        }\n    };\n    /**\n     *\n     * @param {ITaskAddedEventArgs} args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.editedRecord = ganttRecord;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.updateParentChildRecord(ganttRecord);\n        }\n        if (this.parent.predecessorModule) {\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n        }\n        if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            /* validating predecessor for updated child items */\n            this.validateChildPredecessors();\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedTaskBarItem = ganttRecord;\n                }\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n                    this.parent.predecessorModule.isChildRecordValidated = [];\n                }\n                this.isValidatedEditedRecord = false;\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.allowParentDependency && this.parent.predecessorModule.isValidatedParentTaskID !==\n                ganttRecord.ganttProperties.taskId && ganttRecord.hasChildRecords &&\n                (this.parent.previousRecords[ganttRecord.uniqueID].ganttProperties.startDate) && (args.action !== 'TaskbarEditing') &&\n                (!ganttRecord.hasChildRecords || (ganttRecord.hasChildRecords && ganttRecord.ganttProperties.isAutoSchedule))) {\n                this.parent.predecessorModule['updateChildItems'](ganttRecord);\n                this.validateChildPredecessors();\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                    if (ganttRecord.childRecords[i].ganttProperties.predecessor) {\n                        this.parent.predecessorModule.validatePredecessor(ganttRecord.childRecords[i], [], '');\n                    }\n                }\n            }\n            this.updateParentItemOnEditing();\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem) {\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.parent.dataOperation.updateParentItems(ganttRecord, true);\n            }\n            var parentData = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            if (!isNullOrUndefined(parentData)) {\n                if (!parentData.ganttProperties.predecessorsName) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(parentData, [], '');\n                    this.updateParentItemOnEditing();\n                }\n            }\n        }\n        if (this.parent.updateOffsetOnTaskbarEdit && this.parent.connectorLineEditModule && args.data) {\n            this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n            this.parent.connectorLineEditModule['calculateOffset'](args.data);\n        }\n        this.parent.predecessorModule['validatedParentIds'] = [];\n        if (isNullOrUndefined(this.dialogModule) || (this.dialogModule && !this.dialogModule['isFromDialogPredecessor'])) {\n            this.initiateSaveAction(args);\n        }\n    };\n    Edit.prototype.updateParentItemOnEditing = function () {\n        var _this = this;\n        var childRecord = getValue('parentRecord', this.parent.predecessorModule);\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        if (this.parent.editModule['updateParentRecords'] && this.parent.editModule['updateParentRecords'].length > 0) {\n            this.parent.editModule['updateParentRecords'].forEach(function (record) {\n                if (record.ganttProperties.predecessor && record.ganttProperties.predecessor.length > 0) {\n                    _this.parent.predecessorModule.validatePredecessor(record, [], '');\n                }\n            });\n        }\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        setValue('parentRecord', [], this.parent.predecessorModule);\n        setValue('parentIds', [], this.parent.predecessorModule);\n    };\n    /**\n     * To update parent records while perform drag action.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && (ganttRecord[this.parent.taskFields.manual] === false ||\n            this.parent.taskMode === 'Auto') && (!isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isResourceCellEdited)) {\n            this.parent.predecessorModule['updateChildItems'](ganttRecord);\n        }\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n            this.parent.editModule.cellEditModule.isResourceCellEdited = false;\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (this.parent.taskFields.manual) {\n            this.parent.setRecordValue(this.parent.taskFields.manual, !data.ganttProperties.isAutoSchedule, data);\n        }\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('taskData.StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('taskData.EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     * To update progress value of parent tasks\n     *\n     * @param {IParent} cloneParent .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     * @param {boolean} isRefreshChart .\n     * @param {boolean} isRefreshGrid .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                var dataId = this.parent.viewType === 'ProjectView' ? originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n                this.parent.treeGrid.grid.setRowData(dataId, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     *\n     * @param {object} existing .\n     * @param {object} newValue .\n     * @returns {void} .\n     */\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.cancel = false;\n        this.createArray = true;\n        if (this.parent.toolbarModule && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true); // enable toolbar items.\n        }\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        if (!isNullOrUndefined(args.target)) {\n            eventArgs.target = args.target;\n        }\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, true);\n        if (args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n            eventArgs.action = args.action;\n            if (args.action === 'DeleteConnectorLine') {\n                this.parent.connectorLineEditModule['isPublicDependencyDelete'] = false;\n                if (this.parent.contextMenuModule) {\n                    this.parent.contextMenuModule['isCntxtMenuDependencyDelete'] = false;\n                }\n            }\n        }\n        var ganttObj = this.parent;\n        var currentBaselineStart = __assign({}, eventArgs.data.ganttProperties.baselineStartDate);\n        var currentBaselineEnd = __assign({}, eventArgs.data.ganttProperties.baselineEndDate);\n        var currentProgress = eventArgs.data.ganttProperties.progress;\n        /* eslint-disable-next-line */\n        var unModifiedData = JSON.parse(JSON.stringify(eventArgs.data.ganttProperties));\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (currentBaselineStart !== eventArg.data['ganttProperties'].baselineStartDate\n                || currentBaselineEnd !== eventArg.data['ganttProperties'].baselineEndDate) {\n                ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n                ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n            }\n            if (_this.parent.autoCalculateDateScheduling && unModifiedData !== eventArg.data['ganttProperties'] &&\n                !isNullOrUndefined(eventArg.data['parentItem'])) {\n                _this.updateParentItemOnEditing();\n                _this.parent.dataOperation.updateParentItems(eventArg.data, true);\n            }\n            var ganttProps = eventArg.data['ganttProperties'];\n            var startDate = ganttProps.startDate, endDate = ganttProps.endDate, segments = ganttProps.segments, durationUnit = ganttProps.durationUnit, isAutoSchedule = ganttProps.isAutoSchedule, isMilestone = ganttProps.isMilestone;\n            if (startDate && endDate && !segments) {\n                var duration = _this.parent.dateValidationModule.getDuration(startDate, endDate, durationUnit, isAutoSchedule, isMilestone, true);\n                if (duration !== 0) {\n                    ganttProps.isMilestone = false;\n                    _this.parent.dateValidationModule.calculateDuration(eventArg.data);\n                }\n            }\n            _this.parent.dataOperation.updateWidthLeft(eventArg.data);\n            if (!isNullOrUndefined(_this.parent.taskFields.progress) && currentProgress !== eventArg.data['ganttProperties'].progress) {\n                var width = eventArg.data['ganttProperties'].isAutoSchedule ? eventArg.data['ganttProperties'].width :\n                    eventArg.data['ganttProperties'].autoWidth;\n                _this.parent.setRecordValue('progressWidth', _this.parent.dataOperation.getProgressWidth(width, eventArg.data['ganttProperties'].progress), eventArg.data['ganttProperties'], true);\n            }\n            _this.parent.chartRowsModule.updateSegment(eventArg.data['ganttProperties'].segments, eventArg.data['ganttProperties'].taskId);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties(eventArgs);\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                // To update task data for modified records.\n                if (eventArg.modifiedRecords) {\n                    for (var i = 0; i < eventArg.modifiedRecords.length; i++) {\n                        _this.parent.dataOperation.updateTaskData(eventArg.modifiedRecords[i]);\n                    }\n                }\n                eventArg.modifiedTaskData = getTaskData(eventArg.modifiedRecords, null, null, _this.parent);\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    var crud = null;\n                    var dataAdaptor = data.adaptor;\n                    if (!(dataAdaptor instanceof WebApiAdaptor && dataAdaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                        crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, query);\n                    }\n                    else {\n                        var changedRecords = 'changedRecords';\n                        crud = data.update(_this.parent.taskFields.id, updatedData[changedRecords], null, query);\n                    }\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n                if (_this.parent.enableVirtualization && _this.parent.enableTimelineVirtualization) {\n                    _this.parent.ganttChartModule['setVirtualHeight']();\n                }\n                if (_this.parent.undoRedoModule) {\n                    _this.parent.previousFlatData = extend([], _this.parent.flatData, [], true);\n                }\n            }\n        });\n        this.parent.ganttChartModule.reRenderConnectorLines();\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateEditedFields = function (e) {\n        var eLength;\n        var rec;\n        if (e.changedRecords) {\n            eLength = e.changedRecords['length'];\n        }\n        else {\n            eLength = e['length'];\n        }\n        for (var i = 0; i < eLength; i++) {\n            if (e.changedRecords) {\n                rec = e.changedRecords[parseInt(i.toString(), 10)];\n            }\n            else {\n                rec = e[parseInt(i.toString(), 10)];\n            }\n            var _aLength = Object.keys(rec).length;\n            for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n                var key = _a[parseInt(j.toString(), 10)];\n                this.parent.editedRecords[parseInt(i.toString(), 10)][\"\" + key] = rec[\"\" + key];\n                this.parent.editedRecords[parseInt(i.toString(), 10)].taskData[\"\" + key] = rec[\"\" + key];\n            }\n            this.updateEditedRecordFields(rec, this.parent.editedRecords[parseInt(i.toString(), 10)]);\n        }\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.dmSuccess = function (e, args) {\n        this.updateEditedFields(e);\n        this.saveSuccess(args);\n    };\n    Edit.prototype.updateEditedRecordFields = function (rec, editedRecord) {\n        var fields = this.parent.taskFields;\n        var _aLength = Object.keys(rec).length;\n        for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            editedRecord[\"\" + key] = rec[\"\" + key];\n        }\n        if (fields.id !== null) {\n            editedRecord.ganttProperties['taskId'] = rec[fields.id];\n        }\n        if (fields.name !== null) {\n            editedRecord.ganttProperties['taskName'] = rec[fields.name];\n        }\n        if (fields.startDate !== null) {\n            editedRecord.ganttProperties['startDate'] = rec[fields.startDate];\n        }\n        if (fields.endDate !== null) {\n            editedRecord.ganttProperties['endDate'] = rec[fields.endDate];\n        }\n        if (fields.duration !== null) {\n            editedRecord.ganttProperties['duration'] = parseFloat(rec[fields.duration]);\n        }\n        if (fields.durationUnit !== null) {\n            editedRecord.ganttProperties['durationUnit'] = rec[fields.durationUnit];\n        }\n        if (fields.progress !== null) {\n            editedRecord.ganttProperties['progress'] = rec[fields.progress];\n        }\n        if (fields.dependency !== null) {\n            editedRecord.ganttProperties['dependency'] = rec[fields.dependency];\n        }\n        if (fields.parentID !== null) {\n            editedRecord.ganttProperties['parentID'] = rec[fields.parentID];\n        }\n        if (fields.baselineEndDate !== null) {\n            editedRecord.ganttProperties['baselineEndDate'] = rec[fields.baselineEndDate];\n        }\n        if (fields.baselineStartDate !== null) {\n            editedRecord.ganttProperties['baselineStartDate'] = rec[fields.baselineStartDate];\n        }\n        if (fields.resourceInfo !== null) {\n            editedRecord.ganttProperties['resources'] = rec[fields.resourceInfo];\n        }\n    };\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.updateSharedTask = function (data) {\n        var ids = data.ganttProperties.sharedTaskUniqueIds;\n        for (var i = 0; i < ids.length; i++) {\n            var editRecord = this.parent.flatData[this.parent.ids.indexOf(ids[i].toString())];\n            if (editRecord && editRecord.uniqueID !== data.uniqueID) {\n                this.updateGanttProperties(data, editRecord);\n                this.parent.setRecordValue('taskData', data.taskData, editRecord, true);\n                this.parent.dataOperation.updateTaskData(editRecord);\n                this.parent.dataOperation.updateResourceName(editRecord);\n                if (!isNullOrUndefined(editRecord.parentItem)) {\n                    this.parent.dataOperation.updateParentItems(editRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Method for save action success for local and remote data\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.action === 'TaskbarEditing' || args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n                this.updateSharedTask(args.data);\n            }\n            else if (args.action === 'DialogEditing' || args.action === 'CellEditing' || args.action === 'methodUpdate') {\n                if (this.parent.editModule.dialogModule.isResourceUpdate) {\n                    /* eslint-disable-next-line */\n                    this.updateResoures(this.parent.editModule.dialogModule.previousResource, args.data.ganttProperties.resourceInfo, args.data);\n                    this.updateSharedTask(args.data);\n                    this.isTreeGridRefresh = true;\n                }\n                else {\n                    this.updateSharedTask(args.data);\n                }\n            }\n            // method to update the edited parent records\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.editModule.dialogModule.isResourceUpdate = false;\n            this.parent.editModule.dialogModule.previousResource = [];\n        }\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.showCriticalPath(true);\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (!this.isTreeGridRefresh) {\n            if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                if (!this.parent.treeGrid.grid.element.querySelector('form').ej2_instances[0].validate()) {\n                    setValue('isEdit', false, this.parent.treeGrid.grid);\n                    this.parent.editModule.cellEditModule.isCellEdit = false;\n                }\n                this.parent.treeGrid.endEdit();\n            }\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n            if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n                this.parent.contentHeight = this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.ganttChartModule.chartBodyContent.style.height = this.parent.contentHeight + 'px';\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                if (this.parent.taskFields.dependency) {\n                    this.parent.ganttChartModule.reRenderConnectorLines();\n                }\n            }\n            if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['currentAction'] &&\n                this.parent.undoRedoModule['currentAction']['connectedRecords'])) && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.connectorLineIds = [];\n                this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n                this.updateScheduleDatesOnEditing(args);\n            }\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, null, null, this.parent);\n            this.updateRowIndex();\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            this.parent.trigger('actionComplete', eventArgs);\n            if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['draggedRecord']) {\n                this.parent.rowDragAndDropModule['draggedRecord'] = null;\n            }\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n        }\n        if (this.parent.viewType === 'ResourceView' && this.isTreeGridRefresh) {\n            this.parent.treeGrid.parentData = [];\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.connectorLineIds = [];\n            this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n            this.parent.treeGrid.refresh();\n            this.isTreeGridRefresh = false;\n        }\n        this.parent.editedRecords = [];\n    };\n    Edit.prototype.updateResoures = function (prevResource, currentResource, updateRecord) {\n        var flatRecords = this.parent.flatData;\n        var currentLength = currentResource ? currentResource.length : 0;\n        var previousLength = prevResource ? prevResource.length : 0;\n        if (currentLength === 0 && previousLength === 0) {\n            return;\n        }\n        for (var index = 0; index < currentLength; index++) {\n            var recordIndex = [];\n            var resourceID = parseInt(currentResource[index][this.parent.resourceFields.id], 10).toString();\n            if (resourceID === 'NaN') {\n                resourceID = currentResource[index][this.parent.resourceFields.id];\n            }\n            for (var i = 0; i < prevResource.length; i++) {\n                var prevResourceID = parseInt(prevResource[i][this.parent.resourceFields.id], 10).toString();\n                if (prevResourceID === 'NaN') {\n                    prevResourceID = prevResource[i][this.parent.resourceFields.id];\n                }\n                if (prevResourceID === resourceID) {\n                    recordIndex.push(i);\n                    break;\n                }\n            }\n            if (recordIndex.length === 0) {\n                var parentRecord = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n                if (parentRecord) {\n                    this.addNewRecord(updateRecord, parentRecord);\n                }\n            }\n            else {\n                var record1 = parseInt(recordIndex[0].toString(), 10);\n                if (record1.toString() === 'NaN') {\n                    record1 = recordIndex[0].toString();\n                }\n                prevResource.splice(record1, 1);\n            }\n        }\n        var prevLength = prevResource ? prevResource.length : 0;\n        for (var index = 0; index < prevLength; index++) {\n            var taskID = updateRecord.ganttProperties.taskId;\n            var resourceID = prevResource[index][this.parent.resourceFields.id];\n            var record = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n            if (!isNullOrUndefined(record)) {\n                for (var j = 0; j < record.childRecords.length; j++) {\n                    if (record.childRecords[j].ganttProperties.taskId === taskID) {\n                        this.removeChildRecord(record.childRecords[j]);\n                    }\n                }\n            }\n        }\n        if (currentLength > 0) {\n            var parentTask = this.parent.getParentTask(updateRecord.parentItem);\n            if (parentTask) {\n                if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                    this.removeChildRecord(updateRecord);\n                }\n            }\n        }\n        //Assign resource to unassigned task\n        if (currentLength === 0) {\n            this.checkWithUnassignedTask(updateRecord);\n        }\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.flatData[this.parent.flatData.length - 1].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n            this.parent.flatData.splice(this.parent.flatData.length - 1, 1);\n            this.parent.currentViewData.splice(this.parent.currentViewData.length - 1, 1);\n            this.parent.taskIds.splice(this.parent.flatData.length - 1, 1);\n            this.parent.ids.splice(this.parent.flatData.length - 1, 1);\n        }\n    };\n    /**\n     * @param {IGanttData} updateRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.checkWithUnassignedTask = function (updateRecord) {\n        var unassignedTasks = null;\n        // Block for check the unassigned task.\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            if (this.parent.flatData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                unassignedTasks = this.parent.flatData[i];\n            }\n        }\n        if (!isNullOrUndefined(unassignedTasks)) {\n            this.addNewRecord(updateRecord, unassignedTasks);\n        }\n        else {\n            // Block for create the unassigned task.\n            var unassignTaskObj = {};\n            unassignTaskObj[this.parent.taskFields.id] = 0;\n            unassignTaskObj[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n            var beforeEditStatus = this.parent.isOnEdit;\n            this.parent.isOnEdit = false;\n            var cAddedRecord = this.parent.dataOperation.createRecord(unassignTaskObj, 0);\n            this.parent.isOnEdit = beforeEditStatus;\n            this.addRecordAsBottom(cAddedRecord);\n            var parentRecord = this.parent.flatData[this.parent.flatData.length - 1];\n            var index = this.parent.flatData.indexOf(parentRecord);\n            var childIndex = (index + 1) + parentRecord.childRecords.length;\n            updateRecord.index = childIndex;\n            updateRecord.level = parentRecord.level + 1;\n            this.addNewRecord(updateRecord, parentRecord);\n            /* eslint-disable-next-line */\n            var source = this.parent.dataSource;\n            source.push(updateRecord.taskData);\n        }\n        var updatedData = this.parent.currentViewData.filter(function (data) {\n            return (data.ganttProperties.taskId === updateRecord.ganttProperties.taskId &&\n                (data.hasChildRecords === updateRecord.hasChildRecords));\n        })[0];\n        updateRecord.parentItem = updatedData.parentItem;\n        updateRecord.parentUniqueID = updatedData.parentUniqueID;\n    };\n    Edit.prototype.addRecordAsBottom = function (cAddedRecord) {\n        var recordIndex1 = this.parent.flatData.length;\n        this.parent.currentViewData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.flatData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.ids.splice(recordIndex1 + 1, 0, cAddedRecord.ganttProperties.rowUniqueID.toString());\n        var taskId = cAddedRecord.level === 0 ? 'R' + cAddedRecord.ganttProperties.taskId : 'T' + cAddedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n    };\n    Edit.prototype.addNewRecord = function (updateRecord, parentRecord) {\n        var cAddedRecord = null;\n        cAddedRecord = extend({}, {}, updateRecord, true);\n        this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), cAddedRecord);\n        this.parent.setRecordValue('uniqueID', cAddedRecord.uniqueID, cAddedRecord.ganttProperties, true);\n        var uniqueId = cAddedRecord.uniqueID.replace(this.parent.element.id + '_data_', '');\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord);\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord.ganttProperties, true);\n        this.parent.setRecordValue('level', 1, cAddedRecord);\n        if (this.parent.taskFields.parentID) {\n            this.parent.setRecordValue('parentId', parentRecord.ganttProperties.taskId, cAddedRecord.ganttProperties, true);\n        }\n        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentRecord), cAddedRecord);\n        var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n        updateRecord.ganttProperties.sharedTaskUniqueIds.push(uniqueId);\n        cAddedRecord.ganttProperties.sharedTaskUniqueIds = updateRecord.ganttProperties.sharedTaskUniqueIds;\n        this.addRecordAsChild(parentRecord, cAddedRecord);\n    };\n    Edit.prototype.removeChildRecord = function (record) {\n        var gObj = this.parent;\n        var data = [];\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            data = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            data = this.parent.currentViewData;\n        }\n        var dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var deleteChildRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (deleteChildRecords && deleteChildRecords.length > 0) {\n                    if (deleteChildRecords.length === 1) {\n                        //For updating the parent record which has no child reords.\n                        this.parent.isOnDelete = true;\n                        deleteChildRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        deleteChildRecords[0].isDelete = false;\n                    }\n                    childIndex = deleteChildRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            if (deletedRow.ganttProperties.sharedTaskUniqueIds.length) {\n                var uniqueIDIndex = deletedRow.ganttProperties.sharedTaskUniqueIds.indexOf(deletedRow.ganttProperties.rowUniqueID);\n                deletedRow.ganttProperties.sharedTaskUniqueIds.splice(uniqueIDIndex, 1);\n            }\n            this.updateTreeGridUniqueID(deletedRow, 'delete');\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            var flatRecordIndex = this.parent.flatData.indexOf(deletedRow);\n            if (gObj.taskFields.parentID) {\n                var idx = void 0;\n                var ganttData = this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    data.splice(idx, 1);\n                    this.parent.flatData.splice(flatRecordIndex, 1);\n                    this.parent.ids.splice(flatRecordIndex, 1);\n                    this.parent.getTaskIds().splice(flatRecordIndex, 1);\n                }\n            }\n            var recordIndex = data.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                data.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.getTaskIds().splice(flatRecordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParentData);\n                this.parent.setRecordValue('hasChildRecords', false, flatParentData);\n            }\n        }\n    };\n    // Method to add new record after resource edit\n    Edit.prototype.addRecordAsChild = function (droppedRecord, draggedRecord) {\n        var gObj = this.parent;\n        var recordIndex1 = this.parent.flatData.indexOf(droppedRecord);\n        var childRecords = this.parent.editModule.getChildCount(droppedRecord, 0);\n        var childRecordsLength;\n        var spliceIndex;\n        var parentTask = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.dialogModule['indexes'] && this.dialogModule['indexes'].deletedIndexes && this.dialogModule['indexes'].deletedIndexes.length > 0) {\n            if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                childRecordsLength = this.parent.taskIds.length + 1;\n            }\n            else {\n                for (var j = 0; j < this.dialogModule['indexes'].deletedIndexes.length; j++) {\n                    if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID === draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var toIndex = this.dialogModule['indexes'].deletedIndexes[j].index;\n                        if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                            (childRecordsLength = toIndex);\n                        }\n                        else {\n                            (childRecordsLength = toIndex + 1);\n                        }\n                        for (var i = 0; i < droppedRecord.childRecords.length; i++) {\n                            if ('T' + droppedRecord.childRecords[i].ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].id) {\n                                if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                                    spliceIndex = i;\n                                }\n                                else {\n                                    spliceIndex = i + 1;\n                                }\n                                break;\n                            }\n                        }\n                        break;\n                    }\n                    else if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID !== draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var draggedParent = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n                        childRecordsLength = draggedParent.index + draggedParent.childRecords.length + 1;\n                        break;\n                    }\n                }\n            }\n        }\n        else if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask') && this.parent.undoRedoModule['currentAction']['deletedRecordsDetails']) {\n            for (var i = 0; i < this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'].length; i++) {\n                if (this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.ganttProperties.taskId === draggedRecord.ganttProperties.taskId) {\n                    if (parentTask.index) {\n                        childRecordsLength = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.index;\n                        spliceIndex = childRecordsLength - parentTask.index - 1;\n                    }\n                    else {\n                        childRecordsLength = (isNullOrUndefined(childRecords) ||\n                            childRecords === 0) ? recordIndex1 + 1 :\n                            childRecords + recordIndex1 + 1;\n                        spliceIndex = 0;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (!isNullOrUndefined(this.addRowIndex) && this.addRowPosition && droppedRecord.childRecords && this.addRowPosition !== 'Child') {\n            var dropChildRecord = droppedRecord.childRecords[this.addRowIndex];\n            var position = this.addRowPosition === 'Above' || this.addRowPosition === 'Below' ? this.addRowPosition :\n                'Child';\n            childRecordsLength = dropChildRecord ? this.addRowIndex + recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n            childRecordsLength = position === 'Above' ? childRecordsLength : childRecordsLength + 1;\n        }\n        else {\n            childRecordsLength = (isNullOrUndefined(childRecords) ||\n                childRecords === 0) ? recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n        }\n        //this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n        this.parent.currentViewData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.flatData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.ids.splice(childRecordsLength, 0, draggedRecord.ganttProperties.rowUniqueID.toString());\n        this.updateTreeGridUniqueID(draggedRecord, 'add');\n        var recordId = draggedRecord.level === 0 ? 'R' + draggedRecord.ganttProperties.taskId : 'T' + draggedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n        if (!droppedRecord.hasChildRecords) {\n            this.parent.setRecordValue('hasChildRecords', true, droppedRecord);\n            this.parent.setRecordValue('expanded', true, droppedRecord);\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n                    droppedRecord.taskData[this.parent.taskFields.child] = [];\n                }\n            }\n        }\n        if (spliceIndex >= 0) {\n            droppedRecord.childRecords.splice(spliceIndex, 0, draggedRecord);\n        }\n        else {\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n        }\n        if (!isNullOrUndefined(draggedRecord) && !this.parent.taskFields.parentID\n            && !isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n            droppedRecord.taskData[this.parent.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n        }\n        if (!isNullOrUndefined(draggedRecord.parentItem)) {\n            //collection to update the parent records\n            this.updateParentRecords.push(droppedRecord);\n        }\n    };\n    Edit.prototype.resetEditProperties = function (args) {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.editedTaskBarItem = null;\n        this.parent.isOnEdit = false;\n        this.parent.predecessorModule.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedTaskBarItem = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule) && (isNullOrUndefined(args) ||\n            (!isNullOrUndefined(args) && args['requestType'] === 'beforeSave' && !args['cancel']))) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting && !this.parent.readOnly) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n                var focusingElement = this.parent.element.querySelector('.e-treegrid');\n                focusingElement.focus();\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData[]} selectedRecords - Defines the deleted records\n     * @returns {void} .\n     * Method to delete the records from resource view Gantt.\n     */\n    Edit.prototype.deleteResourceRecords = function (selectedRecords) {\n        var _this = this;\n        var deleteRecords = [];\n        var _loop_2 = function (i) {\n            if (selectedRecords[i].parentItem) {\n                if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length === 1) {\n                    var data = selectedRecords[i];\n                    var ids = data.ganttProperties.sharedTaskUniqueIds;\n                    for (var j = 0; j < ids.length; j++) {\n                        if (this_2.parent.ids.indexOf(ids[j].toString()) !== -1) {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(ids[j].toString())]);\n                        }\n                        else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && this_2.parent.undoRedoModule['currentAction'] && this_2.parent.undoRedoModule['currentAction']['action'] === 'Delete') {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.taskIds.indexOf('T' + selectedRecords[i].ganttProperties.taskId)]);\n                        }\n                    }\n                    if (this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID) !== -1 &&\n                        deleteRecords.indexOf(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]) === -1) {\n                        deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]);\n                    }\n                }\n                else if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length > 1) {\n                    selectedRecords.forEach(function (record) {\n                        record.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                            deleteRecords.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                        });\n                    });\n                }\n            }\n            else {\n                var resourceParent = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId === selectedRecords[i].ganttProperties.taskId &&\n                        data.hasChildRecords);\n                })[0];\n                deleteRecords.push(resourceParent);\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < selectedRecords.length; i++) {\n            _loop_2(i);\n        }\n        this.deleteRow(deleteRecords);\n    };\n    Edit.prototype.add = function (record, totalRecords) {\n        totalRecords.push(record);\n        if (record.hasChildRecords) {\n            var child = record.childRecords;\n            for (var i = 0; i < child.length; i++) {\n                this.add(child[i], totalRecords);\n            }\n        }\n        else {\n            if (totalRecords.indexOf(record) === -1) {\n                totalRecords.push(record);\n            }\n        }\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                this.deleteResourceRecords(selectedRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                if (this.parent.viewType === 'ResourceView') {\n                    this.deleteResourceRecords(this.targetedRecords);\n                }\n                else {\n                    this.deleteRow(this.targetedRecords);\n                }\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                {\n                    var taskId = taskDetail.toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(taskId) && this.parent.getTaskIds().indexOf('T' + taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskId)]);\n                        }\n                    }\n                    else {\n                        if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                        }\n                    }\n                    break;\n                }\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     *\n     * @param {object[]} taskDetailArray .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var id = taskDetailArray[i].toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(id) && this.parent.getTaskIds().indexOf('T' + id) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id)]);\n                        }\n                    }\n                    else if (!isNullOrUndefined(id) && this.parent.ids.indexOf(id) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(id));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        this.parent.addDeleteRecord = true;\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Delete')) {\n                if (this.parent.undoRedoModule['redoEnabled'] && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['createUndoCollection']();\n                }\n                var records = {};\n                records['action'] = 'Delete';\n                records['deletedRecordsDetails'] = [];\n                this.parent.undoRedoModule['findPosition'](extend([], [], rowItems, true), records, 'deletedRecordsDetails');\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n            }\n            var _loop_3 = function (i) {\n                var deleteRecord = rowItems[i];\n                if (this_3.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    return \"continue\";\n                }\n                var deleteItems = [deleteRecord];\n                if (this_3.parent.viewType === 'ResourceView' && this_3.parent.undoRedoModule && this_3.parent.undoRedoModule['isUndoRedoPerformed'] && rowItems[i].ganttProperties.resourceInfo && rowItems[i].ganttProperties.resourceInfo.length > 1) {\n                    deleteItems = [];\n                    if (!rowItems[i].hasChildRecords) {\n                        var id_1 = 'T' + rowItems[i].ganttProperties.taskId;\n                        this_3.parent.taskIds.reduce(function (e, j) {\n                            if (e === id_1) {\n                                deleteItems.push(this.parent.flatData[j]);\n                            }\n                        }.bind(this_3), []);\n                    }\n                }\n                for (var j = 0; j < deleteItems.length; j++) {\n                    var parentTask = this_3.parent.getParentTask(deleteItems[j].parentItem);\n                    if (deleteItems[j].parentItem) {\n                        var childRecord = void 0;\n                        if (!isNullOrUndefined(parentTask)) {\n                            childRecord = parentTask.childRecords;\n                            var filteredRecord = childRecord.length === 1 ?\n                                childRecord : childRecord.filter(function (data) {\n                                return !data.isDelete;\n                            });\n                            if (filteredRecord.length > 0) {\n                                this_3.parent.dataOperation.updateParentItems(deleteItems[j].parentItem);\n                            }\n                        }\n                    }\n                    var predecessor = deleteItems[j].ganttProperties.predecessor;\n                    var canDeletePredecessor = true;\n                    if (this_3.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                        this_3.parent.localeObj.getConstant('unassignedTask')) {\n                        canDeletePredecessor = false;\n                    }\n                    if (predecessor && predecessor.length && canDeletePredecessor) {\n                        this_3.removePredecessorOnDelete(deleteItems[j]);\n                    }\n                    this_3.deletedTaskDetails.push(deleteItems[j]);\n                    if (deleteItems[j].hasChildRecords) {\n                        this_3.deleteChildRecords(deleteItems[j]);\n                    }\n                }\n            };\n            var this_3 = this;\n            for (var i = 0; i < rowItems.length; i++) {\n                _loop_3(i);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            var recordId = this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId :\n                record.ganttProperties.rowUniqueID;\n            if (predecessor.from.toString() === recordId.toString()) {\n                var toRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to.toString());\n                if (!isNullOrUndefined(toRecord)) {\n                    var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < toRecordPredcessor.length; t++) {\n                        var toId = this.parent.viewType === 'ResourceView' ? toRecord.ganttProperties.taskId :\n                            toRecord.ganttProperties.rowUniqueID;\n                        if (toRecordPredcessor[t].to.toString() === toId.toString()\n                            && toRecordPredcessor[t].from.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    toRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(toRecord, toRecordPredcessor);\n                }\n            }\n            else if (predecessor.to.toString() === recordId.toString()) {\n                var fromRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from.toString());\n                if (!isNullOrUndefined(fromRecord)) {\n                    var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                        var fromId = this.parent.viewType === 'ResourceView' ? fromRecord.ganttProperties.taskId :\n                            fromRecord.ganttProperties.rowUniqueID;\n                        if (fromRecordPredcessor[t].from.toString() === fromId.toString()\n                            && fromRecordPredcessor[t].to.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    if (record.uniqueID === fromRecord.parentUniqueID ||\n                        record.parentUniqueID === fromRecord.uniqueID || this.parent.isOnDelete) {\n                        fromRecordPredcessor.splice(index, 1);\n                        this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    /**\n     * Method to update TaskID of a gantt record\n     *\n     * @param {string | number} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskId = function (currentId, newId) {\n        if (!this.parent.readOnly) {\n            var cId = typeof currentId === 'number' ? currentId.toString() : currentId;\n            var nId = typeof newId === 'number' ? newId.toString() : newId;\n            var ids = this.parent.ids;\n            if (!isNullOrUndefined(cId) && !isNullOrUndefined(nId)) {\n                var cIndex = ids.indexOf(cId);\n                var nIndex = ids.indexOf(nId);\n                // return false for invalid taskID\n                if (cIndex === -1 || nIndex > -1) {\n                    return;\n                }\n                var thisRecord = this.parent.flatData[cIndex];\n                if (!isNullOrUndefined(thisRecord)) {\n                    this.parent.setRecordValue('taskId', newId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue('rowUniqueID', nId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord.taskData, true);\n                }\n                ids[cIndex] = nId;\n                if (thisRecord.hasChildRecords && this.parent.taskFields.parentID) {\n                    var childRecords = thisRecord.childRecords;\n                    for (var count = 0; count < childRecords.length; count++) {\n                        var childRecord = childRecords[count];\n                        childRecord[this.parent.taskFields.parentID] = newId;\n                        this.parent.chartRowsModule.refreshRecords([childRecord]);\n                    }\n                }\n                if (this.parent.taskFields.dependency && !isNullOrUndefined(thisRecord.ganttProperties.predecessor)) {\n                    var predecessors = thisRecord.ganttProperties.predecessor;\n                    var currentGanttRecord = void 0;\n                    for (var i = 0; i < predecessors.length; i++) {\n                        var predecessor = predecessors[i];\n                        if (predecessor.to === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.from)];\n                        }\n                        else if (predecessor.from === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.to)];\n                        }\n                        this.updatePredecessorOnUpdateId(currentGanttRecord, cId, nId);\n                    }\n                }\n                this.parent.treeGrid.parentData = [];\n                this.parent.treeGrid.refresh();\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorOnUpdateId = function (currentGanttRecord, cId, nId) {\n        if (this.parent.flatData.indexOf(currentGanttRecord) > -1) {\n            var pred = currentGanttRecord.ganttProperties.predecessor;\n            for (var j = 0; j < pred.length; j++) {\n                var pre = pred[j];\n                if (pre.to === cId) {\n                    pre.to = nId;\n                }\n                else if (pre.from === cId) {\n                    pre.from = nId;\n                }\n            }\n        }\n        this.updatePredecessorValues(currentGanttRecord, currentGanttRecord.ganttProperties.predecessor);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var _this = this;\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            var canDeletePredecessor = true;\n            var parentTask = this.parent.getParentTask(childRecord.parentItem);\n            if (this.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                this.parent.localeObj.getConstant('unassignedTask')) {\n                canDeletePredecessor = false;\n            }\n            if (predecessor && predecessor.length && canDeletePredecessor) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            if (!isNullOrUndefined(childRecord.ganttProperties.sharedTaskUniqueIds) &&\n                childRecord.ganttProperties.sharedTaskUniqueIds.length > 1) {\n                childRecord.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                    _this.deletedTaskDetails.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                });\n            }\n            else {\n                this.deletedTaskDetails.push(childRecord);\n            }\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data_1 = _this.parent.dataSource;\n                    if (_this.parent.timezone) {\n                        eventArg.modifiedRecords.forEach(function (modifiedRecord) {\n                            updateDates(modifiedRecord, _this.parent);\n                        });\n                    }\n                    var updatedData_1 = {\n                        deletedRecords: getTaskData(eventArg.data, null, null, _this.parent),\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var adaptor = data_1.adaptor;\n                    var query_1 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_1.dataSource.batchUrl) {\n                        var crud = data_1.saveChanges(updatedData_1, _this.parent.taskFields.id, null, query_1);\n                        crud.then(function () { return _this.deleteSuccess(args); })\n                            .catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                    else {\n                        var deletedRecords = 'deletedRecords';\n                        var deleteCrud = null;\n                        for (var i = 0; i < updatedData_1[deletedRecords].length; i++) {\n                            deleteCrud = data_1.remove(_this.parent.taskFields.id, updatedData_1[deletedRecords][i], null, query_1);\n                        }\n                        deleteCrud.then(function () {\n                            var changedRecords = 'changedRecords';\n                            var _loop_4 = function (i) {\n                                if (updatedData_1['deletedRecords'].some(function (record) { return record[_this.parent.taskFields.id] === updatedData_1[changedRecords][i].taskId; })) {\n                                    updatedData_1[changedRecords].splice(i, 1);\n                                }\n                            };\n                            for (var i = updatedData_1[changedRecords].length - 1; i >= 0; i--) {\n                                _loop_4(i);\n                            }\n                            var updateCrud = data_1.update(_this.parent.taskFields.id, updatedData_1[changedRecords], null, query_1);\n                            updateCrud.then(function () { return _this.deleteSuccess(args); })\n                                .catch(function (e) { return _this.dmFailure(e, args); });\n                        }).catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var _this = this;\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = [];\n        for (var i = 0; i < args.deletedRecordCollection.length; i++) {\n            if (this.parent.viewType === 'ProjectView') {\n                var record = this.parent.getRecordByID(args.deletedRecordCollection[i].ganttProperties.taskId);\n                if (!isNullOrUndefined(record)) {\n                    deletedRecords.push(record);\n                }\n            }\n            else {\n                var id = void 0;\n                var hasChildRecords = args.deletedRecordCollection[i].hasChildRecords;\n                var isUnassignedTask = args.deletedRecordCollection[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask');\n                var isCollapsed = !args.deletedRecordCollection[i].expanded;\n                if (hasChildRecords && isUnassignedTask && isCollapsed) {\n                    if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.parent.hideMaskRow();\n                    }\n                    else {\n                        this.parent.hideSpinner();\n                    }\n                    this.deletedTaskDetails = [];\n                    this.parent.initiateEditAction(false);\n                    return;\n                }\n                if (args.deletedRecordCollection[i].hasChildRecords) {\n                    id = 'R' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                else {\n                    id = 'T' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                deletedRecords.push(this.parent.getTaskByUniqueID(args.deletedRecordCollection[i].uniqueID));\n            }\n        }\n        var deleteRecordIDs = [];\n        if (deletedRecords.length > 0) {\n            var recordIndex = void 0;\n            var record = void 0;\n            if (this.parent.enableVirtualization) {\n                recordIndex = this.parent.flatData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.flatData[this.parent.selectedRowIndex + 1];\n                // perform toolbar CollapseAll later delete action issue handle\n                if (!this.parent.isCollapseAll) {\n                    // Random parent record delete action, maintaining proper record selection\n                    this.parent.staticSelectedRowIndex = (recordIndex - (deletedRecords.length - 1));\n                }\n            }\n            else {\n                recordIndex = this.parent.currentViewData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.currentViewData[this.parent.selectedRowIndex + 1];\n            }\n            if (!isNullOrUndefined(record)) {\n                this.parent.currentSelection = record;\n            }\n            else {\n                var prevRecordIndex = this.parent.selectedRowIndex - 1;\n                if (prevRecordIndex >= 0) {\n                    this.parent.currentSelection = this.parent.enableVirtualization ?\n                        this.parent.flatData[prevRecordIndex] : this.parent.currentViewData[prevRecordIndex];\n                }\n            }\n        }\n        this.deletedRecord = deletedRecords;\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = void 0;\n            var flatIndex = void 0;\n            if (this.parent.viewType === 'ResourceView') {\n                if (deleteRecord.hasChildRecords) {\n                    currentIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                }\n                else {\n                    currentIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                }\n            }\n            else {\n                currentIndex = currentData.indexOf(deleteRecord);\n                flatIndex = flatData.indexOf(deleteRecord);\n            }\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            var dataIndex = tempData.indexOf(deleteRecord.taskData);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            if (dataIndex !== -1) {\n                tempData.splice(dataIndex, 1);\n            }\n            if (!isNullOrUndefined(deleteRecord)) {\n                deleteRecordIDs.push(deleteRecord.ganttProperties.taskId.toString());\n                if (flatIndex !== -1) {\n                    this.parent.ids.splice(flatIndex, 1);\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(flatIndex, 1);\n                        if (!deleteRecord.hasChildRecords) {\n                            deleteRecord.ganttProperties.resourceInfo = null;\n                            delete deleteRecord.ganttProperties.resourceNames;\n                            deleteRecord[this.parent.taskFields.resourceInfo] = null;\n                            deleteRecord.ganttProperties.sharedTaskUniqueIds = [];\n                            delete deleteRecord.taskData[this.parent.taskFields.resourceInfo];\n                        }\n                    }\n                }\n                if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                    this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n                }\n                if (deleteRecord.parentItem) {\n                    var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                    if (parentItem) {\n                        var childRecords = parentItem.childRecords;\n                        childIndex = childRecords.indexOf(deleteRecord);\n                        if (childIndex !== -1) {\n                            childRecords.splice(childIndex, 1);\n                        }\n                        if (!childRecords.length) {\n                            this.parent.setRecordValue('hasChildRecords', false, parentItem);\n                        }\n                    }\n                }\n                this.updateTreeGridUniqueID(deleteRecord, 'delete');\n            }\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        this.updateRowIndex();\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.isAdded = false;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        setValue('action', args.action, eventArgs);\n        this.parent.isOnDelete = false;\n        if (this.parent.viewType === 'ResourceView' && (!this.parent.undoRedoModule || (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Delete'))))) {\n            var updateUnAssignedResources_1 = eventArgs.data.filter(function (data) {\n                return !data.hasChildRecords;\n            });\n            var _loop_5 = function (i) {\n                var unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var isDuplicate = [];\n                if (unassignedTask) {\n                    isDuplicate = unassignedTask.childRecords.filter(function (data) {\n                        return data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId;\n                    });\n                }\n                var parentTask = this_4.parent.getParentTask(updateUnAssignedResources_1[i].parentItem);\n                if (parentTask && parentTask.ganttProperties.taskName !==\n                    this_4.parent.localeObj.getConstant('unassignedTask') && isDuplicate.length === 0) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                else if (!parentTask && (!isDuplicate || isDuplicate.length === 0)) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var parentItem = this_4.parent.currentViewData.filter(function (data) {\n                    if (data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId &&\n                        (!data.hasChildRecords && data.parentItem)\n                        && unassignedTask.uniqueID === data.parentItem.uniqueID) {\n                        return data;\n                    }\n                    else {\n                        return null;\n                    }\n                });\n                if (parentItem[0]) {\n                    this_4.parent.dataOperation.updateParentItems(parentItem[0]);\n                }\n            };\n            var this_4 = this;\n            for (var i = 0; i < updateUnAssignedResources_1.length; i++) {\n                _loop_5(i);\n            }\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    /**\n     *\n     * @returns {number | string} .\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var maxId = ids.length;\n        var newTaskId = maxId + 1;\n        if (this.parent.viewType === 'ResourceView') {\n            if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1);\n                }\n            }\n        }\n        else {\n            if (ids.indexOf(newTaskId.toString()) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf(newTaskId.toString()) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf(newTaskId.toString()) !== -1);\n                }\n            }\n        }\n        if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n            return newTaskId = newTaskId.toString();\n        }\n        else {\n            return newTaskId;\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var newTaskIDmd;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                if (typeof (obj[taskModel.id]) === 'string') {\n                    newTaskIDmd = obj[taskModel.id];\n                }\n                else {\n                    newTaskIDmd = parseInt(obj[taskModel.id], 10);\n                }\n                obj[taskModel.id] = isNullOrUndefined(newTaskIDmd) ? null : newTaskIDmd;\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                if (!isNullOrUndefined(startDate)) {\n                    startDate.setDate(startDate.getDate() + 4);\n                    obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.getDateFormat());\n                }\n            }\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {number} level .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @param {number} rowIndex .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (obj, level, rowPosition, parentItem, rowIndex) {\n        var cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        switch (rowPosition) {\n            case 'Above':\n                cAddedRecord.index = rowIndex;\n                break;\n            case 'Below':\n            case 'Child':\n                cAddedRecord.index = rowIndex + 1;\n                break;\n            case 'Bottom':\n                cAddedRecord.index = this.parent.enableVirtualization ? this.parent.flatData.length : this.parent.currentViewData.length;\n                break;\n            case 'Top':\n                cAddedRecord.index = 0;\n                break;\n            default:\n                break;\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n                }\n                this.parent.setRecordValue('parentId', cAddedRecord.parentItem.taskId, cAddedRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord, true);\n            }\n        }\n        this.parent.isOnEdit = true;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (obj['hasChildRecords']) {\n                var totalRecords = [];\n                var currentAction = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'];\n                for (var i = 0; i < obj['childRecords'].length; i++) {\n                    this.add(obj['childRecords'][i], totalRecords);\n                }\n                for (var j = 0; j < currentAction.length; j++) {\n                    if (obj['ganttProperties'].taskId === currentAction[j]['data'].ganttProperties.taskId) {\n                        if (currentAction[j]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        else if (currentAction[j]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (currentAction[j]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n                        for (var i = 0; i < totalRecords.length; i++) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                if (totalRecords[i].parentItem.taskId === cAddedRecord.ganttProperties.taskId) {\n                                    totalRecords[i].parentItem.index = cAddedRecord.index;\n                                    totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.taskId;\n                                    totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                    totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                }\n                            }\n                            else {\n                                totalRecords[i].parentItem.index = cAddedRecord.index;\n                                totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                                totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        break;\n                    }\n                }\n                this.addRowSelectedItem = cAddedRecord;\n                cAddedRecord.taskData[this.parent.taskFields.child] = [];\n                for (var k = 0; k < totalRecords.length; k++) {\n                    this.parent.isOnEdit = false;\n                    var newRecord = this.parent.dataOperation.createRecord(totalRecords[k], totalRecords[k].level);\n                    if (newRecord.childRecords.length === 0 && newRecord.taskData[this.parent.taskFields.child]) {\n                        newRecord.taskData[this.parent.taskFields.child] = [];\n                    }\n                    parentItem = this.parent.getRecordByID(totalRecords[k].parentItem.taskId);\n                    if (!isNullOrUndefined(parentItem)) {\n                        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), newRecord);\n                        var pIndex = newRecord.parentItem ? newRecord.parentItem.index : null;\n                        this.parent.setRecordValue('parentIndex', pIndex, newRecord);\n                        var parentUniqId = newRecord.parentItem ? newRecord.parentItem.uniqueID : null;\n                        this.parent.setRecordValue('parentUniqueID', parentUniqId, newRecord);\n                        if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                            !isNullOrUndefined(this.parent.taskFields.parentID) && newRecord.parentItem) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord.taskData, true);\n                            }\n                            this.parent.setRecordValue('parentId', newRecord.parentItem.taskId, newRecord.ganttProperties, true);\n                            this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord, true);\n                        }\n                    }\n                    this.parent.isOnEdit = true;\n                    if (newRecord.parentItem) {\n                        if (parentItem.childRecords.length === 0) {\n                            rowPosition = 'Child';\n                        }\n                        else {\n                            rowPosition = 'Below';\n                        }\n                    }\n                    if (this.parent.getParentTask(newRecord.parentItem).childRecords.length > 0) {\n                        this.addRowSelectedItem = this.parent.getParentTask(newRecord.parentItem).childRecords[this.parent.getParentTask(newRecord.parentItem).childRecords.length - 1];\n                    }\n                    this.backUpAndPushNewlyAddedRecord(newRecord, rowPosition, parentItem);\n                    for (var i = 0; i < totalRecords.length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            if (totalRecords[i].parentItem.taskId === newRecord.ganttProperties.taskId) {\n                                totalRecords[i].parentItem.index = newRecord.index;\n                                totalRecords[i].parentItem.taskId = newRecord.ganttProperties.taskId;\n                                totalRecords[i].parentItem.uniqueID = newRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = newRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        else {\n                            totalRecords[i].parentItem.index = cAddedRecord.index;\n                            totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                            totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                        }\n                    }\n                }\n            }\n            else {\n                this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n            }\n        }\n        else {\n            this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        }\n        // need to push in dataSource also.\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            }\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n            this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n        }\n        this.parent.isOnEdit = false;\n        return cAddedRecord;\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @param {number} count .\n     * @param {IGanttData[]} collection .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} parentRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var updatedPredecessor = [];\n        var validPredecessor;\n        for (var count = 0; count < len; count++) {\n            var fromRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n            var toRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n            validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n            if (!validPredecessor || !this.parent.allowParentDependency) {\n                if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    predecessorCollections.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n                }\n                else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                    var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                    var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                    var ind = prdcList.indexOf(str);\n                    prdcList.splice(ind, 1);\n                    this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.dependency, prdcList.join(','), childRecord);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    temppredecessorCollection.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                    this.parent.predecessorModule.validatePredecessorDates(childRecord);\n                }\n            }\n        }\n        if (!validPredecessor || !this.parent.allowParentDependency) {\n            this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n            this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n        }\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item for project view\n                    if (!this.addRowSelectedItem.expanded && !this.parent.enableMultiTaskbar) {\n                        this.parent.expandByID(this.addRowSelectedItem.ganttProperties.rowUniqueID);\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.parent.setRecordValue('hasChildRecords', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('isMilestone', false, this.addRowSelectedItem.ganttProperties, true);\n                    this.parent.setRecordValue('expanded', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('childRecords', [], this.addRowSelectedItem);\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                    if (!isNullOrUndefined(this.addRowSelectedItem.ganttProperties.segments)) {\n                        this.addRowSelectedItem.ganttProperties.segments = null;\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     * @param {number} childIndex .\n     * @param {number} recordIndex .\n     * @param {number} updatedCollectionIndex .\n     * @param {IGanttData} record .\n     * @param {IGanttData} parentItem .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            if (rowPosition === 'Above') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            }\n            else if (rowPosition === 'Below') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem) + 1;\n            }\n            else {\n                childIndex = parentItem.childRecords.length;\n            }\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            if ((this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) ||\n                !isNullOrUndefined(this.parent.dataSource)) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    if (rowPosition === 'Above' || rowPosition === 'Below') {\n                        parentItem.taskData[child].splice(childIndex, 0, record.taskData);\n                    }\n                    else {\n                        parentItem.taskData[child].push(record.taskData);\n                    }\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                this.isNewRecordAdded = true;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} cAddedRecord .\n     * @param {IGanttData} modifiedRecords .\n     * @param {string} event .\n     * @returns {ITaskAddedEventArgs} .\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        if (cAddedRecord.length > 1) {\n            eventArgs.data = [];\n            eventArgs.newTaskData = [];\n            eventArgs.recordIndex = [];\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                eventArgs.data[i] = cAddedRecord[i];\n                (eventArgs.newTaskData[i]) = (getTaskData([cAddedRecord[i]], eventArgs.data[i], eventArgs, this.parent));\n                eventArgs.recordIndex[i] = cAddedRecord[i].index;\n            }\n        }\n        else if (cAddedRecord.length === 1) {\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                (eventArgs.data) = (cAddedRecord[i]);\n                (eventArgs.newTaskData) = (getTaskData([cAddedRecord[i]], eventArgs.data, eventArgs, this.parent));\n                eventArgs.recordIndex = cAddedRecord[i].index;\n            }\n        }\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords, null, null, this.parent);\n        return eventArgs;\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.addDeleteRecord = true;\n        this.parent.treeGrid['isAddedFromGantt'] = true;\n        this.isAdded = true;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.parent.modifiedRecords = args.modifiedRecords;\n            this.parent.modifiedRecords.push(args.data);\n            this.refreshRecordInImmutableMode();\n        }\n    };\n    Edit.prototype.refreshRecordInImmutableMode = function (data, dragged) {\n        if (!dragged && !isNullOrUndefined(data)) {\n            for (var i = data[0].index + 1; i < this.parent.currentViewData.length; i++) {\n                if (data[0].level < this.parent.currentViewData[i].level) {\n                    this.parent.modifiedRecords.push(this.parent.currentViewData[i]);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var _loop_6 = function (i) {\n            var originalData = this_5.parent.modifiedRecords[i];\n            var treeIndex = this_5.parent.rowDragAndDropModule && this_5.parent.allowRowDragAndDrop ? 1 : 0;\n            var uniqueTaskID = this_5.parent.taskFields.id;\n            var originalIndex = this_5.parent.currentViewData.findIndex(function (data) {\n                return (data[uniqueTaskID] === originalData[uniqueTaskID]);\n            });\n            if (this_5.parent.treeGrid.getRows()[originalIndex]) {\n                var row = this_5.parent.treeGrid.grid.getRowObjectFromUID(this_5.parent.treeGrid.grid.getDataRows()[originalIndex].getAttribute('data-uid'));\n                this_5.parent.treeGrid.renderModule.cellRender({\n                    data: row.data,\n                    cell: this_5.parent.treeGrid.getRows()[originalIndex].cells[this_5.parent.treeColumnIndex + treeIndex],\n                    column: this_5.parent.treeGrid.grid.getColumns()[this_5.parent.treeColumnIndex],\n                    requestType: 'rowDragAndDrop'\n                });\n                this_5.parent.treeGrid.renderModule.RowModifier({\n                    data: originalData, row: this_5.parent.treeGrid.getRows()[originalIndex], rowHeight: this_5.parent.rowHeight\n                });\n            }\n        };\n        var this_5 = this;\n        for (var i = 0; i < this.parent.modifiedRecords.length; i++) {\n            _loop_6(i);\n        }\n    };\n    /**\n     * @param {IGanttData} addedRecord .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        var dataSource = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n            this.parent.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        for (var i = 0; i < addedRecord.length; i++) {\n            if (isNullOrUndefined(rowPosition) || isNullOrUndefined(this.addRowSelectedItem)) {\n                rowPosition = rowPosition === 'Bottom' ? 'Bottom' : 'Top';\n            }\n            if (rowPosition === 'Top') {\n                dataSource.splice(0, 0, addedRecord[i].taskData);\n            }\n            else if (rowPosition === 'Bottom') {\n                dataSource.push(addedRecord[i].taskData);\n            }\n            else {\n                if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID) && rowPosition === 'Child') {\n                    dataSource.push(addedRecord[i].taskData);\n                }\n                else {\n                    if (!this.isNewRecordAdded) {\n                        this.addDataInRealDataSource(dataSource, addedRecord[i].taskData, rowPosition);\n                    }\n                    this.isNewRecordAdded = false;\n                }\n            }\n            this.isBreakLoop = false;\n        }\n    };\n    /**\n     * @param {object[]} dataCollection .\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                var index = void 0;\n                if (this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['droppedRecord'] && this.parent.viewType === 'ResourceView') {\n                    for (var i_1 = 0; i_1 < dataCollection.length; i_1++) {\n                        if (dataCollection[i_1][this.parent.taskFields.id] === this.parent.rowDragAndDropModule['droppedRecord'].ganttProperties.taskId) {\n                            index = i_1;\n                            break;\n                        }\n                    }\n                }\n                if (rowPosition === 'Above') {\n                    if (index) {\n                        dataCollection.splice(index, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Below') {\n                    if (index) {\n                        dataCollection.splice(index + 1, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i + 1, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to update the values to client side from server side.\n     *\n     * @param {Object} e - Defines the new modified data from the server.\n     * @param {Object[]} e.addedRecords .\n     * @param {Object[]} e.changedRecords .\n     * @param {ITaskAddedEventArgs} args - Defines the client side data.\n     * @returns {void} .\n     */\n    Edit.prototype.updateClientDataFromServer = function (e, args) {\n        var serverReturnedValue = e.addedRecords[0];\n        var _aLength = Object.keys(serverReturnedValue).length;\n        for (var j = 0, _a = Object.keys(serverReturnedValue); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            args.data[\"\" + key] = serverReturnedValue[\"\" + key];\n        }\n        if (this.parent.taskFields.id !== null) {\n            args.data.ganttProperties['taskId'] = serverReturnedValue[this.parent.taskFields.id];\n        }\n        if (this.parent.taskFields.name !== null) {\n            args.data.ganttProperties['taskName'] = serverReturnedValue[this.parent.taskFields.name];\n        }\n        if (this.parent.taskFields.startDate !== null) {\n            args.data.ganttProperties['startDate'] = serverReturnedValue[this.parent.taskFields.startDate];\n        }\n        if (this.parent.taskFields.endDate !== null) {\n            args.data.ganttProperties['endDate'] = serverReturnedValue[this.parent.taskFields.endDate];\n        }\n        if (this.parent.taskFields.duration !== null) {\n            args.data.ganttProperties['duration'] = parseFloat(serverReturnedValue[this.parent.taskFields.duration]);\n        }\n        if (this.parent.taskFields.durationUnit !== null) {\n            args.data.ganttProperties['durationUnit'] = serverReturnedValue[this.parent.taskFields.durationUnit];\n        }\n        if (this.parent.taskFields.progress !== null) {\n            args.data.ganttProperties['progress'] = serverReturnedValue[this.parent.taskFields.progress];\n        }\n        if (this.parent.taskFields.dependency !== null) {\n            args.data.ganttProperties['dependency'] = serverReturnedValue[this.parent.taskFields.dependency];\n        }\n        if (this.parent.taskFields.parentID !== null) {\n            args.data.ganttProperties['parentID'] = serverReturnedValue[this.parent.taskFields.parentID];\n        }\n        if (this.parent.taskFields.baselineEndDate !== null) {\n            args.data.ganttProperties['baselineEndDate'] = serverReturnedValue[this.parent.taskFields.baselineEndDate];\n        }\n        if (this.parent.taskFields.baselineStartDate !== null) {\n            args.data.ganttProperties['baselineStartDate'] = serverReturnedValue[this.parent.taskFields.baselineStartDate];\n        }\n        if (this.parent.taskFields.resourceInfo !== null) {\n            args.data.ganttProperties['resources'] = serverReturnedValue[this.parent.taskFields.resourceInfo];\n        }\n    };\n    Edit.prototype.addNewUndoCollection = function (record, args) {\n        if (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Add' && this.parent.viewType === 'ResourceView'))\n            && this.parent['isUndoRedoItemPresent']('Add')) {\n            record['action'] = 'Add';\n            var tempArray_1 = args.data.length > 0 ?\n                extend([], [], args.data, true) : [args.data];\n            var addedRec = [];\n            var _loop_7 = function (i) {\n                addedRec = (this_6.parent.flatData.filter(function (data) {\n                    return (tempArray_1[i].index === data.index && tempArray_1[i]['ganttProperties'].taskId === data.ganttProperties.taskId);\n                }));\n            };\n            var this_6 = this;\n            for (var i = 0; i < tempArray_1.length; i++) {\n                _loop_7(i);\n            }\n            record['addedRecords'] = extend([], [], addedRec, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n        }\n    };\n    /**\n     * Method to add new record.\n     *\n     * @param {Object[] | Object} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        var tempTaskID = this.parent.taskFields.id;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            this.parent.isDynamicData = true;\n            this.parent.treeGrid['isAddedFromGantt'] = true;\n            this.parent.isOnAdded = true;\n            var cAddedRecord_1 = [];\n            if (isNullOrUndefined(data)) {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else if (data instanceof Array) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var addData = data;\n                    var addIndex = rowIndex;\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (data[0]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (data[0]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        else if (data[0]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        addIndex = this.parent.taskIds.indexOf(data[0]['id'].toString());\n                        addData = data[0]['data'];\n                    }\n                    this.validateTaskPosition(addData, rowPosition, addIndex, cAddedRecord_1);\n                }\n                else {\n                    for (var i = 0; i < data.length; i++) {\n                        this.validateTaskPosition(data[i], rowPosition, rowIndex, cAddedRecord_1);\n                    }\n                }\n            }\n            else if (typeof (data) === 'object') {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else {\n                return;\n            }\n            var args = {};\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            if (!isNullOrUndefined(rowPosition)) {\n                args.rowPosition = rowPosition;\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Add')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                _this.parent.previousRecords = {};\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                var tasks = _this.parent.taskFields;\n                var ganttData;\n                if (_this.parent.viewType === 'ResourceView') {\n                    if (args.data['childRecords'].length > 0) {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('R' + args.data[tasks.id])];\n                    }\n                    else {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('T' + args.data[tasks.id])];\n                    }\n                }\n                else {\n                    ganttData = _this.parent.getRecordByID(args.data[tasks.id]);\n                }\n                if (!isNullOrUndefined(ganttData)) {\n                    _this.validateUpdateValues(args.newTaskData, ganttData, true);\n                    _this.parent.dateValidationModule.calculateEndDate(ganttData);\n                    _this.parent.dataOperation.updateWidthLeft(ganttData);\n                    _this.parent.dataOperation.updateParentItems(ganttData);\n                }\n                if (!isNullOrUndefined(args.data[\"\" + tempTaskID])) {\n                    if (args.data[tempTaskID] !== args.data['ganttProperties']['taskId']) {\n                        for (var _i = 0, _b = Object.keys(_this.parent.ids); _i < _b.length; _i++) {\n                            var key = _b[_i];\n                            if (_this.parent.ids[key] === args.data['ganttProperties']['taskId'].toString()) {\n                                _this.parent.ids[key] = args.data[tempTaskID].toString();\n                                break;\n                            }\n                        }\n                        args.data['ganttProperties']['taskId'] = args.data[tempTaskID];\n                        args.newTaskData[tempTaskID] = args.data[tempTaskID];\n                        args.data['ganttProperties']['rowUniqueID'] = args.data[tempTaskID].toString();\n                    }\n                }\n                if (!args.cancel) {\n                    var record = {};\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_2 = _this.parent.dataSource;\n                        var updatedData_2 = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        /* tslint:disable-next-line */\n                        var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var adaptor = data_2.adaptor;\n                        if (!(adaptor instanceof WebApiAdaptor || adaptor instanceof ODataAdaptor ||\n                            adaptor instanceof ODataV4Adaptor) || data_2.dataSource.batchUrl) {\n                            /* tslint:disable-next-line */\n                            var crud = data_2.saveChanges(updatedData_2, _this.parent.taskFields.id, null, query);\n                            crud.then(function (e) {\n                                if (e.addedRecords[0][_this.parent.taskFields.id].toString() !== args.data['ganttProperties']['taskId']) {\n                                    args.data['ganttProperties']['taskId'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.newTaskData[tempTaskID] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.data['ganttProperties']['rowUniqueID'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    _this.parent.ids.push(e.addedRecords[0][_this.parent.taskFields.id].toString());\n                                }\n                                var prevID = args.data.ganttProperties.taskId.toString();\n                                if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                    e.addedRecords[0][_this.parent.taskFields.id].toString() === prevID) {\n                                    _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                    _this.parent.setRecordValue('taskData', e.addedRecords[0], args.data);\n                                    _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue('rowUniqueID', e.addedRecords[0][_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                    _this.updateClientDataFromServer(e, args);\n                                    var idsIndex = _this.parent.ids.indexOf(prevID);\n                                    if (idsIndex !== -1) {\n                                        _this.parent.ids[idsIndex] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    }\n                                }\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                        else {\n                            var addedRecords = 'addedRecords';\n                            var insertCrud = data_2.insert(updatedData_2[addedRecords], null, query);\n                            insertCrud.then(function (e) {\n                                var addedRecords;\n                                if (!isNullOrUndefined(e[0])) {\n                                    addedRecords = e[0];\n                                }\n                                else {\n                                    addedRecords = updatedData_2['addedRecords'][0];\n                                }\n                                cAddedRecord_1.forEach(function (record) {\n                                    if (!isNullOrUndefined(record)) {\n                                        _this.updateEditedRecordFields(addedRecords, record);\n                                        _this.parent.dataOperation.updateTaskData(record);\n                                    }\n                                });\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                    }\n                    else {\n                        if (_this.parent.viewType === 'ProjectView') {\n                            if ((rowPosition === 'Top' || rowPosition === 'Bottom') ||\n                                ((rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') || isNullOrUndefined(rowPosition) && !args.data.parentItem)) {\n                                if (args.data instanceof Array) {\n                                    _this.updateRealDataSource(args.data, rowPosition);\n                                }\n                                else {\n                                    var data_3 = [];\n                                    data_3.push(args.data);\n                                    _this.updateRealDataSource(data_3, rowPosition);\n                                    _this.parent.currentSelection = cAddedRecord_1[0];\n                                }\n                            }\n                        }\n                        else {\n                            var dataSource = isCountRequired(_this.parent) ? getValue('result', _this.parent.dataSource) :\n                                _this.parent.dataSource; // eslint-disable-line\n                            dataSource.push(args.data.taskData);\n                        }\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.undoRedoModule && _this.parent.undoRedoModule['currentAction']) {\n                            var canDelete = false;\n                            if (args.data['hasChildRecords']) {\n                                canDelete = true;\n                            }\n                            else {\n                                if (args.data['parentItem']) {\n                                    var parentTask = _this.parent.getTaskByUniqueID(args.data['parentItem'].uniqueID);\n                                    if (parentTask.ganttProperties.taskName !== _this.parent.localeObj.getConstant('unassignedTask')) {\n                                        canDelete = true;\n                                    }\n                                }\n                            }\n                            if (_this.parent.taskIds.indexOf('R0') !== -1 && _this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Delete'\n                                && canDelete) {\n                                var unassignedTask = _this.parent.flatData[_this.parent.taskIds.indexOf('R0')];\n                                var isPresent = unassignedTask.childRecords.filter(function (data) { return data.ganttProperties.taskId === args.data['ganttProperties'].taskId; });\n                                if (args.data['hasChildRecords']) {\n                                    isPresent = args.data['childRecords'];\n                                }\n                                var _loop_8 = function (j) {\n                                    if (unassignedTask.childRecords.length === 1) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                    }\n                                    else {\n                                        var index = _this.parent.taskIds.indexOf('T' + isPresent[j].ganttProperties.taskId);\n                                        var id_2 = 'T' + isPresent[j].ganttProperties.taskId;\n                                        var indexes = _this.parent.taskIds.reduce(function (a, e, i) {\n                                            if (e === id_2) {\n                                                a.push(i);\n                                            }\n                                            return a;\n                                        }, []);\n                                        index = indexes[indexes.length - 1];\n                                        _this.parent.taskIds.splice(index, 1);\n                                        _this.parent.flatData.splice(index, 1);\n                                        _this.parent.ids.splice(index, 1);\n                                    }\n                                };\n                                for (var j = 0; j < isPresent.length; j++) {\n                                    _loop_8(j);\n                                }\n                                if (unassignedTask && _this.parent.viewType === 'ResourceView') {\n                                    var isValid = _this.parent.flatData[_this.parent.taskIds.indexOf('R0') + 1];\n                                    if (!isValid) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                    }\n                                }\n                            }\n                        }\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.taskFields.work && ganttData) {\n                            _this.parent.dataOperation.updateParentItems(ganttData, true);\n                        }\n                        _this.addNewUndoCollection(record, args);\n                        _this._resetProperties();\n                    }\n                    _this.parent.isOnAdded = false;\n                }\n                else {\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    Edit.prototype.createNewRecord = function () {\n        var tempRecord = {};\n        var ganttColumns = this.parent.ganttColumns;\n        var taskSettingsFields = this.parent.taskFields;\n        var taskId = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < ganttColumns.length; i++) {\n            var fieldName = ganttColumns[i].field;\n            if (fieldName === taskSettingsFields.id) {\n                tempRecord[fieldName] = taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.startDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.endDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.endDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.startDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.duration) {\n                tempRecord[fieldName] = 1;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.name) {\n                tempRecord[fieldName] = this.parent.editModule.dialogModule['localeObj'].getConstant('addDialogTitle') + ' ' + taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.progress) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.work) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.type || ganttColumns[i].field === 'taskType') {\n                tempRecord[fieldName] = this.parent.taskType;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.milestone) {\n                tempRecord[fieldName] = null;\n            }\n            else {\n                tempRecord[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        return tempRecord;\n    };\n    /**\n     * Method to validateTaskPosition.\n     *\n     * @param {Object | object[] } data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @param {IGanttData} cAddedRecord - Defines the single data to validate.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateTaskPosition = function (data, rowPosition, rowIndex, cAddedRecord) {\n        var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n            this.parent.selectionModule ?\n                (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                    this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                    this.parent.selectionModule.selectedRowIndexes[0] :\n                    this.parent.selectionSettings.mode === 'Cell' &&\n                        this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n        this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.updatedRecords[selectedRowIndex];\n        rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n        data = isNullOrUndefined(data) ? this.createNewRecord() : data;\n        if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n            isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n            || rowPosition === 'Below'\n            || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n            && rowPosition !== 'Below'\n            && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n            rowPosition !== 'Bottom')) {\n            rowPosition = 'Top';\n        }\n        var level = 0;\n        var parentItem;\n        switch (rowPosition) {\n            case 'Top':\n            case 'Bottom':\n                if (this.parent.viewType === 'ResourceView') {\n                    level = 1;\n                }\n                else {\n                    level = 0;\n                }\n                break;\n            case 'Above':\n            case 'Below':\n                level = this.addRowSelectedItem.level;\n                parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                break;\n            case 'Child':\n                level = this.addRowSelectedItem.level + 1;\n                parentItem = this.addRowSelectedItem;\n                break;\n        }\n        if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.prepareNewlyAddedData(data, rowPosition);\n        }\n        var AddRecord = (this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem, rowIndex));\n        cAddedRecord.push(AddRecord);\n    };\n    Edit.prototype.updateRowIndex = function () {\n        var currentViewData = this.parent.currentViewData;\n        var rowCount = currentViewData.length;\n        for (var index = 0; index < rowCount; index++) {\n            var rowIndex = index;\n            currentViewData[index].index = rowIndex;\n            if (currentViewData[index].parentItem && currentViewData[index].parentItem.taskId) {\n                var parentRecord = this.parent.getRecordByID(currentViewData[index].parentItem.taskId);\n                if (!isNullOrUndefined(parentRecord) && !isNullOrUndefined(parentRecord.index) &&\n                    !isNullOrUndefined(parentRecord.level)) {\n                    currentViewData[index].parentItem.index = parentRecord.index;\n                    currentViewData[index].parentItem.level = parentRecord.level;\n                }\n            }\n        }\n    };\n    Edit.prototype.updateNewRecord = function (cAddedRecord, args) {\n        var _this = this;\n        cAddedRecord.forEach(function (record) {\n            if (record.level === 0) {\n                _this.parent.treeGrid.parentData.splice(0, 0, record);\n                var tempData = getValue('dataOperation.dataArray', _this.parent);\n                tempData.splice(0, 0, record.taskData);\n            }\n            _this.updateTreeGridUniqueID(record, 'add');\n        });\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n        this.refreshNewlyAddedRecord(args, cAddedRecord);\n        var objCollection = {};\n        this.addNewUndoCollection(objCollection, args);\n        this._resetProperties();\n    };\n    /**\n     * Method to reset the flag after adding new record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     *\n     * @param {IGanttData} data .\n     * @param {string} action .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        var _this = this;\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data]; // eslint-disable-next-line\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        if (this.dialogModule.isAddNewResource && !this.parent.isEdit && this.parent.taskFields.work &&\n            this.parent.taskType !== 'FixedWork') {\n            this.parent.dataOperation.updateWorkWithDuration(cAddedRecord[0]);\n        }\n        this.updateRowIndex();\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n        if (this.parent.viewType === 'ResourceView') {\n            if (cAddedRecord.length > 1) {\n                for (var i = 0; i < cAddedRecord.length; i++) {\n                    args.data[i].ganttProperties.sharedTaskUniqueIds.push(args.data[i]\n                        .ganttProperties.rowUniqueID);\n                    if (args.data[i].ganttProperties.resourceInfo) {\n                        // if ((args.data[i] as IGanttData).ganttProperties.resourceInfo.length > 1) {\n                        var resources = extend([], [], args.data[i].ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data[i]);\n                        // }\n                    }\n                    else {\n                        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data[i]['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                            this.removeChildRecord(args.data[i]);\n                            this.parent.editModule.checkWithUnassignedTask(args.data[i]);\n                        }\n                    }\n                    for (var k = 0; k < this.updateParentRecords.length; k++) {\n                        this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                    }\n                    this.updateParentRecords = [];\n                }\n            }\n            else {\n                args.data.ganttProperties.sharedTaskUniqueIds.push(args.data.ganttProperties.rowUniqueID);\n                // eslint-disable-next-line\n                var ganttData = args.data;\n                var ganttProperties = ganttData.ganttProperties;\n                var childRecords = ganttData.childRecords;\n                var undoRedoModule_1 = this.parent.undoRedoModule;\n                var handleResourceUpdate = function (resourceInfo, targetData) {\n                    if (resourceInfo && resourceInfo.length > 1) {\n                        var resources = extend([], [], resourceInfo, true);\n                        resources.splice(0, 1);\n                        if (undoRedoModule_1 && undoRedoModule_1['isUndoRedoPerformed']) {\n                            _this.parent.editModule.addRowIndex = undefined;\n                        }\n                        _this.updateResoures([], resources, targetData);\n                    }\n                };\n                // eslint-disable-next-line\n                if (ganttProperties.resourceInfo && ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(ganttProperties.resourceInfo, ganttData);\n                }\n                else if (childRecords.length > 0 && childRecords[0].ganttProperties.resourceInfo &&\n                    childRecords[0].ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(childRecords[0].ganttProperties.resourceInfo, args.data.childRecords[0]);\n                }\n                else {\n                    if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                        this.removeChildRecord(args.data);\n                        this.parent.editModule.checkWithUnassignedTask(args.data);\n                    }\n                }\n                for (var k = 0; k < this.updateParentRecords.length; k++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                }\n                this.updateParentRecords = [];\n            }\n        }\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    Edit.prototype.getPrevRecordIndex = function () {\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        var parent = this.parent.getRootParent(prevRecord, selectedRecord.level);\n        var prevIndex = this.parent.updatedRecords.indexOf(parent);\n        return prevIndex;\n    };\n    /**\n     * indent a selected record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.indent = function () {\n        var index = this.parent.selectedRowIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var dropIndex;\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || !isNullOrUndefined(this.parent.updatedRecords[index]) && this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n            return;\n        }\n        else {\n            if (prevRecord.level - selectedRecord.level === 0) {\n                dropIndex = this.parent.selectionModule.getSelectedRowIndexes()[0] - 1;\n            }\n            else {\n                dropIndex = this.getPrevRecordIndex();\n            }\n            this.indentOutdentRow([this.parent.selectionModule.getSelectedRowIndexes()[0]], dropIndex, 'child');\n        }\n    };\n    /**\n     * To perform outdent operation for selected row\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.outdent = function () {\n        var index = this.parent.selectionModule.getSelectedRowIndexes()[0];\n        var dropIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        if (!this.parent.editSettings.allowEditing || index === -1 || index === 0 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level === 0) {\n            return;\n        }\n        else {\n            var thisParent = this.parent.getTaskByUniqueID(this.parent.selectionModule.getSelectedRecords()[0].parentItem.uniqueID);\n            dropIndex = this.parent.updatedRecords.indexOf(thisParent);\n            this.indentOutdentRow([index], dropIndex, 'below');\n        }\n    };\n    Edit.prototype.indentOutdentRow = function (fromIndexes, toIndex, pos) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (fromIndexes[0] !== toIndex && pos === 'above' || 'below' || 'child') {\n            if (pos === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (pos === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (pos === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var action = void 0;\n            var record = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']) {\n                    if (this.parent.undoRedoModule['currentAction']['modifiedRecord']) {\n                        record[i] = this.parent.undoRedoModule['currentAction']['modifiedRecord'][i].data;\n                    }\n                    else {\n                        record[i] = this.parent.undoRedoModule['currentAction']['data'][i];\n                    }\n                }\n                else {\n                    record[i] = this.parent.updatedRecords[fromIndexes[i]];\n                }\n            }\n            var isByMethod_1 = true;\n            var args_1 = {\n                data: record,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            if (this.dropPosition === 'middleSegment') {\n                action = 'indenting';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                action = 'outdenting';\n            }\n            var actionArgs = {\n                action: action,\n                data: record[0],\n                cancel: false\n            };\n            this.parent.trigger('actionBegin', actionArgs, function (actionArg) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (!actionArg.cancel) {\n                    _this.reArrangeRows(args_1, isByMethod_1);\n                }\n                else {\n                    return;\n                }\n            });\n        }\n        else {\n            return;\n        }\n    };\n    Edit.prototype.reArrangeRows = function (args, isByMethod) {\n        var _this = this;\n        this.dropPosition = args.dropPosition;\n        this.parent['oldRecords'] = [];\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var obj = this.parent;\n            var draggedRec = void 0;\n            this.droppedRecord = obj.updatedRecords[args.dropIndex];\n            var action = args.dropPosition === 'middleSegment' ? 'Indent' : 'Outdent';\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent'](action)) {\n                var record = {};\n                record['action'] = action;\n                record['modifiedRecord'] = [];\n                record['selectedRowIndexes'] = extend([], [], this.parent.selectionModule.selectedRowIndexes, true);\n                this.parent.undoRedoModule['findPosition'](extend([], [], [args.data], true)[0], record, 'modifiedRecord');\n                record['droppedRecord'] = extend([], [], this.droppedRecord, true);\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['redoEnabled'] = false;\n                    this.parent.undoRedoModule['getUndoCollection'] = [];\n                    this.parent.undoRedoModule['getRedoCollection'] = [];\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n                    }\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            var dragRecords = [];\n            var droppedRec = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var c = 0;\n            var dLength = dragRecords.length;\n            for (var i = 0; i < dLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRec = dragRecords[i];\n                this.draggedRecord = draggedRec;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.treeGridData.indexOf(droppedRec);\n                    this.parent.editModule.updateResourceRelatedFields(droppedRec, '');\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRec.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            c = this.parent.editModule.getChildCount(droppedRec, 0);\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + c + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + c + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                            var idIndex = this.parent.ids.indexOf(this.draggedRecord[this.parent.taskFields.id].toString());\n                            if (idIndex !== recordIndex1 + c + 1) {\n                                this.parent.ids.splice(idIndex, 1);\n                                this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n                            }\n                        }\n                        this.parent.setRecordValue('parentItem', this.treeGridData[recordIndex1].parentItem, draggedRec);\n                        this.parent.setRecordValue('parentUniqueID', this.treeGridData[recordIndex1].parentUniqueID, draggedRec);\n                        this.parent.setRecordValue('level', this.treeGridData[recordIndex1].level, draggedRec);\n                        if (draggedRec.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRec, level);\n                            this.updateChildRecord(draggedRec, recordIndex1 + c + 1);\n                        }\n                        if (droppedRec.parentItem) {\n                            var record = this.parent.getParentTask(droppedRec.parentItem).childRecords;\n                            var childRecords = record;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRec) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRec);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRec.parentItem && this.updateParentRecords.indexOf(draggedRec.parentItem) !== -1)) {\n                        this.updateParentRecords.push(this.parent.getTaskByUniqueID(draggedRec.parentItem.uniqueID));\n                    }\n                }\n                if (isNullOrUndefined(draggedRec.parentItem)) {\n                    var parentRecords = this.parent.treeGrid.parentData;\n                    var newParentIndex = parentRecords.indexOf(this.droppedRecord);\n                    if (this.dropPosition === 'bottomSegment') {\n                        parentRecords.splice(newParentIndex + 1, 0, draggedRec);\n                    }\n                }\n                this.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                    var len = droppedRec.ganttProperties.predecessor.length;\n                    for (var count = len - 1; count >= 0; count--) {\n                        if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                            var fromRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].from);\n                            var toRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].to);\n                            var validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n                            if (droppedRec.ganttProperties.predecessor && (!validPredecessor || !this.parent.allowParentDependency)) {\n                                this.parent.editModule.removePredecessorOnDelete(droppedRec);\n                                droppedRec.ganttProperties.predecessor.splice(count, 1);\n                                droppedRec.ganttProperties.predecessorsName = null;\n                                droppedRec[this.parent.taskFields.dependency] = null;\n                                droppedRec.taskData[this.parent.taskFields.dependency] = null;\n                            }\n                        }\n                    }\n                }\n                if (droppedRec.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRec.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRec.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRec.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRec.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.parent.editedRecords.forEach(function (record) {\n                _this.isFirstCall = true;\n                _this.parent.predecessorModule.validatePredecessor(record, [], '');\n            });\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        this.canReset = true;\n        this.refreshRecord(args);\n    };\n    /**\n     * @returns {void} .\n     * @param {RowDropEventArgs} args .\n     * @param {boolean} isDrag .\n     * @private\n     */\n    Edit.prototype.refreshRecord = function (args, isDrag) {\n        var _this = this;\n        if (isRemoteData(this.parent.dataSource)) {\n            var data = this.parent.dataSource;\n            var updatedData = {\n                changedRecords: getTaskData(this.parent.editedRecords, null, null, this.parent)\n            };\n            var queryValue = this.parent.query instanceof Query ? this.parent.query : new Query();\n            var crud = null;\n            var adaptor = data.adaptor;\n            if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                crud = data.saveChanges(updatedData, this.parent.taskFields.id, null, queryValue);\n            }\n            else {\n                var changedRecords = 'changedRecords';\n                crud = data.update(this.parent.taskFields.id, updatedData[changedRecords], null, queryValue);\n            }\n            crud.then(function (e) { return _this.indentSuccess(e, args, isDrag); })\n                .catch(function (e) { return _this.indentFailure(e); });\n        }\n        else {\n            this.indentOutdentSuccess(args, isDrag);\n        }\n    };\n    Edit.prototype.indentSuccess = function (e, args, isDrag) {\n        this.updateEditedFields(e);\n        this.indentOutdentSuccess(args, isDrag);\n    };\n    Edit.prototype.indentFailure = function (e) {\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.indentOutdentSuccess = function (args, isDrag) {\n        this.parent.treeGrid.parentData = [];\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode(args.data, isDrag);\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n        }\n        if (isDrag) {\n            args.requestType = 'rowDropped';\n        }\n        else {\n            if (this.dropPosition === 'middleSegment') {\n                args.requestType = 'indented';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                args.requestType = 'outdented';\n            }\n        }\n        args.modifiedRecords = this.parent.editedRecords;\n        if (this.parent.timezone) {\n            for (var i = 0; i < args.modifiedRecords.length; i++) {\n                updateDates(args.modifiedRecords[i], this.parent);\n            }\n        }\n        if (this.canReset) {\n            this.parent.previousRecords = {};\n        }\n        this.canReset = false;\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.parent.rowDragAndDropModule) {\n            this.parent.rowDragAndDropModule['draggedRecord'] = null;\n        }\n    };\n    Edit.prototype.refreshDataSource = function () {\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var proxy = this.parent;\n        var tempData;\n        var indx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempData = proxy.dataSource;\n        }\n        if (tempData.length > 0 && (!isNullOrUndefined(droppedRec) && !droppedRec.parentItem)) {\n            for (var i = 0; i < Object.keys(tempData).length; i++) {\n                if (tempData[i][this.parent.taskFields.child] === droppedRec.taskData[this.parent.taskFields.child]) {\n                    indx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx, 0, draggedRec.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx + 1, 0, draggedRec.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRec) && droppedRec.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPos = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRec;\n                var dragRecord = [];\n                if (!Array.isArray(draggedRec)) {\n                    dragRecord[0] = draggedRec;\n                }\n                else {\n                    dragRecord = draggedRec;\n                }\n                this.parent.editModule.updateRealDataSource(dragRecord, rowPos);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRec.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRec[this.parent.taskFields.parentID] = null;\n                draggedRec.taskData[this.parent.taskFields.parentID] = null;\n                draggedRec.ganttProperties['parentId'] = null;\n            }\n        }\n    };\n    Edit.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        this.treeGridData = isCountRequired(this.parent) ?\n            getValue('result', this.parent.treeGrid.dataSource) : this.parent.treeGrid.dataSource;\n        var delRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(delRow);\n    };\n    Edit.prototype.updateIndentedChildRecords = function (indentedRecord) {\n        var createParentItem = {\n            uniqueID: indentedRecord.uniqueID,\n            expanded: indentedRecord.expanded,\n            level: indentedRecord.level,\n            index: indentedRecord.index,\n            taskId: indentedRecord.ganttProperties.rowUniqueID\n        };\n        for (var i = 0; i < indentedRecord.childRecords.length; i++) {\n            this.parent.setRecordValue('parentItem', createParentItem, indentedRecord.childRecords[i]);\n            this.parent.setRecordValue('parentUniqueID', indentedRecord.uniqueID, indentedRecord.childRecords[i]);\n        }\n        if (indentedRecord.hasChildRecords) {\n            indentedRecord = indentedRecord.childRecords;\n            for (var j = 0; j < indentedRecord['length']; j++) {\n                this.updateIndentedChildRecords(indentedRecord[j]);\n            }\n        }\n    };\n    Edit.prototype.dropMiddle = function (recordIndex1) {\n        var obj = this.parent;\n        var childRec;\n        var childRecordsLength;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['modifiedRecord']\n            && this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position !== 'child') {\n            if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'above') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString());\n            }\n            else if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'below') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString()) + 1;\n            }\n        }\n        else {\n            childRec = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n            childRecordsLength = (isNullOrUndefined(childRec) ||\n                childRec === 0) ? recordIndex1 + 1 :\n                childRec + recordIndex1 + 1;\n        }\n        if (this.dropPosition === 'middleSegment') {\n            if (this.droppedRecord.ganttProperties.isAutoSchedule &&\n                !isNullOrUndefined(this.droppedRecord.ganttProperties.predecessorsName) &&\n                this.droppedRecord.ganttProperties.predecessorsName !== '') {\n                var startDate = this.droppedRecord.ganttProperties.startDate;\n                this.parent.setRecordValue('startDate', startDate, this.draggedRecord.ganttProperties, true);\n                this.parent.dateValidationModule.calculateEndDate(this.draggedRecord);\n                this.parent.dataOperation.updateTaskData(this.draggedRecord);\n                this.parent.dataOperation['updateTaskLeftWidth'](this.draggedRecord);\n            }\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n            this.recordLevel();\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n                if (this.parent.enableImmutableMode) {\n                    var indentedRecord = this.draggedRecord;\n                    this.updateIndentedChildRecords(indentedRecord);\n                }\n            }\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    Edit.prototype.updateChildRecordLevel = function (record, levl) {\n        var length = 0;\n        var currentRec;\n        levl++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var j = 0; j < length; j++) {\n            currentRec = record.childRecords[j];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRec.level = record.parentItem ? parentData.level + levl : record.level + 1;\n            if (currentRec.hasChildRecords) {\n                levl--;\n                levl = this.updateChildRecordLevel(currentRec, levl);\n            }\n        }\n        return levl;\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRec;\n        var obj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRec = record.childRecords[i];\n            count++;\n            obj.flatData.splice(count, 0, currentRec);\n            this.parent.ids.splice(count, 0, currentRec.ganttProperties.rowUniqueID.toString());\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(count, 0, currentRec.taskData);\n            }\n            if (currentRec.hasChildRecords) {\n                count = this.updateChildRecord(currentRec, count);\n            }\n        }\n        return count;\n    };\n    Edit.prototype.removeRecords = function (record) {\n        var obj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var delRow = record;\n        if (delRow) {\n            var flatParent = this.parent.getParentTask(delRow.parentItem);\n            if (delRow.parentItem) {\n                var childRecords = flatParent ? flatParent.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(delRow);\n                    flatParent.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParent.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParent);\n                }\n            }\n            if (obj.taskFields.parentID) {\n                if (delRow.hasChildRecords && delRow.childRecords.length > 0) {\n                    this.removeChildItem(delRow);\n                }\n                var indx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                        indx = i;\n                    }\n                }\n                if (indx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(indx, 1);\n                    }\n                    var gridIndx = void 0;\n                    for (var i = 0; i < this.treeGridData.length; i++) {\n                        if (this.treeGridData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                            gridIndx = i;\n                        }\n                    }\n                    this.treeGridData.splice(gridIndx, 1);\n                    this.parent.ids.splice(gridIndx, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(delRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(delRow), 1);\n                    }\n                }\n            }\n            var recordIdx = this.treeGridData.indexOf(delRow);\n            if (!obj.taskFields.parentID) {\n                var deletedRecordCount = this.getChildCount(delRow, 0);\n                this.treeGridData.splice(recordIdx, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIdx, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(delRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n            }\n            if (delRow.parentItem && flatParent && flatParent.childRecords && !flatParent.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParent);\n                this.parent.setRecordValue('hasChildRecords', false, flatParent);\n            }\n        }\n    };\n    Edit.prototype.removeChildItem = function (record) {\n        var currentRec;\n        var indx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRec = record.childRecords[i];\n            var data = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                data = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                data = this.parent.dataSource;\n            }\n            for (var j = 0; j < data.length; j++) {\n                if (data[j][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                    indx = j;\n                }\n            }\n            if (indx !== -1) {\n                if (data.length > 0) {\n                    data.splice(indx, 1);\n                }\n                var gridIndx = void 0;\n                for (var i_2 = 0; i_2 < this.treeGridData.length; i_2++) {\n                    if (this.treeGridData[i_2][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                        gridIndx = i_2;\n                    }\n                }\n                this.treeGridData.splice(gridIndx, 1);\n                this.parent.ids.splice(gridIndx, 1);\n            }\n            if (currentRec.hasChildRecords) {\n                this.removeChildItem(currentRec);\n            }\n        }\n    };\n    Edit.prototype.recordLevel = function () {\n        var obj = this.parent;\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var childItem = obj.taskFields.child;\n        if (!droppedRec.hasChildRecords) {\n            droppedRec.hasChildRecords = true;\n            if (!droppedRec.childRecords.length) {\n                droppedRec.childRecords = [];\n                if (!obj.taskFields.parentID && isNullOrUndefined(droppedRec.taskData[childItem])) {\n                    droppedRec.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRec);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRec);\n            this.parent.setRecordValue('parentUniqueID', droppedRec.uniqueID, draggedRec);\n            droppedRec.childRecords.splice(droppedRec.childRecords.length, 0, draggedRec);\n            if (!isNullOrUndefined(draggedRec) && !obj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRec.taskData[childItem])) {\n                droppedRec.taskData[obj.taskFields.child].splice(droppedRec.childRecords.length, 0, draggedRec.taskData);\n            }\n            if (!isNullOrUndefined(droppedRec.ganttProperties.segments) && droppedRec.ganttProperties.segments.length > 0) {\n                droppedRec.ganttProperties.segments = null;\n                droppedRec.taskData[obj.taskFields.segments] = null;\n            }\n            if (!draggedRec.hasChildRecords) {\n                draggedRec.level = droppedRec.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRec.level = droppedRec.level + 1;\n                this.updateChildRecordLevel(draggedRec, level);\n            }\n            droppedRec.expanded = true;\n        }\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {string} .\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('ColumnResize')) {\n                _this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['action'] = 'ColumnResize';\n                details['resizedColumn'] = __assign({}, args.column);\n                _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties, getCustomDateFormat } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement, addClass, closest, EventHandler } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.wireEvents = function (a) {\n        EventHandler.add(document.getElementById(a), 'click', this.mouseClickHandler, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && (this.parent.filterSettings.type === 'Menu' || this.parent.filterSettings.type === 'Excel') && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.allowFiltering ? column.filter : {};\n        }\n    };\n    /**\n     * To get filter menu UI\n     *\n     * @param {ColumnModel} column .\n     * @returns {IFilterMUI} .\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.mouseClickHandler = function (e) {\n        if (closest(e.target, '.e-excelfilter')) {\n            this.parent.treeGrid.grid.notify('click', e);\n        }\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.element, 'click', this.mouseClickHandler);\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropDateInstance.enableRtl = _this.parent.enableRtl;\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropInstance.enableRtl = _this.parent.enableRtl;\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.enableRtl = _this.parent.enableRtl;\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     *\n     * @param {ColumnMenuOpenEventArgs} args .\n     * @returns {void} .\n     */\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    // eslint-disable-next-line\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.closeFilterOnContextClick = function (element) {\n        var datePickerElement = document.querySelector('body > div.e-datepicker');\n        var dateTimePickerElement = document.querySelector('body > div.e-datetimepicker');\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            var ganttElement = closest(element, '#' + this.parent.element.id)\n                || element.querySelector('#' + this.parent.element.id);\n            if ((!(this.filterMenuElement.contains(element)) && !isNullOrUndefined(ganttElement)) ||\n                (!(this.filterMenuElement.contains(element)) && (isNullOrUndefined(datePickerElement)) &&\n                    (isNullOrUndefined(dateTimePickerElement)) && ((element.nodeName === 'DIV') || (element.nodeName === 'HTML') ||\n                    (element.nodeName === 'SPAN') || (element.nodeName === 'BUTTON'))) && !element.classList.contains('e-dropdownbase')) {\n                remove(this.filterMenuElement);\n                this.parent.treeGrid.grid.notify('filter-menu-close', { isOpen: false });\n                this.filterMenuElement = null;\n            }\n        }\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (!isNullOrUndefined(args['filterModel'])) {\n            if (!isNullOrUndefined(args['filterModel']['dialogObj'])) {\n                if (!isNullOrUndefined(args['filterModel']['dialogObj']['element'])) {\n                    if (this.parent.filterSettings.type === 'Excel') {\n                        this.wireEvents(args['filterModel']['dialogObj']['element'].id);\n                    }\n                }\n            }\n        }\n        if (args.requestType === filterAfterOpen) {\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            }\n            else {\n                this.filterMenuElement = getValue('filterModel.dialogObj.element', args);\n            }\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = void 0;\n                if (!isNullOrUndefined(element)) {\n                    instanceObj = getValue('ej2_instances[0]', element);\n                    instanceObj.index = 2;\n                    instanceObj.dataBind();\n                }\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues)) && this.parent.treeGrid.filterSettings.type === 'Menu') {\n                var element = this.filterMenuElement.querySelector('.e-flmenu-input');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        /* eslint-disable-next-line */\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var gridPosTop = gridPos.top + window.scrollY;\n        var gridPosLeft = gridPos.left;\n        /* eslint-disable-next-line */\n        var parentNode;\n        var parentNodeTop;\n        var parentNodeLeft;\n        var paddingTop;\n        var paddingLeft;\n        var marginTop;\n        var isValid = true;\n        var marginLeft;\n        var isNonBodyTag = false;\n        if (!isNullOrUndefined(this.parent.element.parentNode) && this.parent.element.parentNode['tagName'] !== 'BODY') {\n            isNonBodyTag = true;\n            parentNode = this.parent.element.parentNode;\n            var topValue = Math.abs(parentNode.getBoundingClientRect().top);\n            parentNodeTop = topValue > window.scrollY ? topValue - window.scrollY : window.scrollY - topValue;\n            marginTop = parentNode.style.marginTop;\n            while (isValid) {\n                if (Math.abs(gridPosTop) > Math.abs(parentNodeTop)) {\n                    paddingTop = gridPosTop - parentNodeTop;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    if (parentNode.parentNode && parentNode.parentNode.style) {\n                        marginTop = parentNode.parentNode.style.marginTop;\n                    }\n                }\n                parentNodeTop = parentNode.getBoundingClientRect().top;\n            }\n            parentNodeLeft = parentNode.getBoundingClientRect().left;\n            marginLeft = parentNode.style.marginLeft;\n            while (isValid) {\n                if (Math.abs(gridPosLeft) > Math.abs(parentNodeLeft)) {\n                    paddingLeft = gridPosLeft - parentNodeLeft;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    marginLeft = parentNode.style.marginLeft;\n                }\n                parentNodeLeft = parentNode.getBoundingClientRect().left;\n            }\n        }\n        /* eslint-disable-next-line */\n        var liPos = li.getBoundingClientRect();\n        var left = liPos.right + window.scrollX;\n        var top = isNonBodyTag ? liPos.top - gridPosTop : liPos.top + window.scrollY;\n        if (gridPos.right < (left + ul.offsetWidth)) {\n            if ((liPos.left - ul.offsetWidth) > gridPos.left) {\n                left = (liPos.left - ul.offsetWidth);\n            }\n            else {\n                left -= (left + ul.offsetWidth) - gridPos.right;\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(paddingTop) || !isNullOrUndefined(paddingLeft)) && isNonBodyTag) {\n                left = Math.abs(liPos.right - gridPos.left);\n                top = Math.abs(liPos.top - gridPos.top);\n            }\n        }\n        if (!isNullOrUndefined(paddingTop) && !isNullOrUndefined(paddingLeft)) {\n            ul.style.top = typeof (parseInt(marginTop, 10)) === 'string' ? (top + paddingTop + parseInt(marginTop, 10)) + 'px' : (top + paddingTop) + 'px';\n            ul.style.left = typeof (parseInt(marginLeft, 10)) === 'string' ? (left + paddingLeft + parseInt(marginLeft, 10) + 8) + 'px' : (left + paddingLeft) + 'px';\n        }\n        else {\n            ul.style.top = top + 'px';\n            ul.style.left = left + 'px';\n        }\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        addClass([element], 'e-gantt');\n        if (!this.parent.enableAdaptiveUI) {\n            document.querySelector('#' + this.parent.controlId).appendChild(element);\n        }\n        var targetElement;\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            element.style.zIndex = targetElement.parentElement.style.zIndex;\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n            }\n            else {\n                this.setPosition(targetElement, getValue('filterModel.dialogObj.element', args));\n            }\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args));\n            }\n            else {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dialogObj', args));\n            }\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n            element.querySelector('.e-valid-input').focus();\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Excel') {\n            var inputElement = document.querySelector('.e-searchinput');\n            inputElement.focus();\n        }\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * This method is used to destroy the filter module. When called, it performs any necessary cleanup operations related to the filter module.\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     *\n     * @returns {void} .\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     *\n     * @param {string} columnName - Defines the sorted column name to remove.\n     * @returns {void} .\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.isFromChart = false;\n        this.multipleIndexes = [];\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module\n     *\n     * @returns {string} .\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if ((this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1)) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest || args.isCtrlPressed;\n        args.isShiftPressed = this.isMultiShiftRequest || args.isShiftPressed;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        if (this.parent.selectionSettings && this.parent.selectionSettings.persistSelection) {\n            this.parent.treeGrid.grid.selectionModule['checkSelectAllClicked'] = true;\n        }\n        this.parent.trigger('rowSelecting', args);\n        if (this.isMultiShiftRequest || this.isMultiCtrlRequest) {\n            this.isMultiShiftRequest = this.isMultiCtrlRequest = false;\n        }\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addRemoveClass(index, args['name']);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.grid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            if (this.parent.enableTimelineVirtualization) {\n                this.parent['isRowSelected'] = true;\n            }\n            if (args.data && !isNullOrUndefined(args.data['length'])) {\n                for (var i = 0; i < args.data['length']; i++) {\n                    this.parent.ganttChartModule.updateScrollLeft(args.data[i].ganttProperties.left);\n                }\n            }\n            else {\n                if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping &&\n                    isNullOrUndefined(getValue('data.ganttProperties.left', args))) {\n                    args.data = this.parent.getRecordByID(args.data.taskId);\n                }\n                this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n            }\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems(args);\n        }\n        if (!isNullOrUndefined(this.parent.focusModule['previousActiveElement'])) {\n            var previousSelection = this.parent.focusModule['previousActiveElement'];\n            removeClass([previousSelection], 'e-focused');\n            removeClass([previousSelection], 'e-focus');\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var index;\n        var isContains;\n        if (this.multipleIndexes.length !== 0) {\n            index = this.multipleIndexes;\n        }\n        else {\n            if (!isNullOrUndefined(args.rowIndexes)) {\n                for (var i = 0; i < args.rowIndexes.length; i++) {\n                    if (args.rowIndexes[i] === args.rowIndex) {\n                        isContains = true;\n                    }\n                }\n                if (isContains) {\n                    index = args.rowIndexes;\n                }\n                else {\n                    index = [args.rowIndex];\n                }\n            }\n            else {\n                index = [args.rowIndex];\n            }\n        }\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (this.selectedRowIndexes.length === 1) {\n            this.parent.setProperties({ selectedRowIndex: this.selectedRowIndexes[0] }, true);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n        this.multipleIndexes = [];\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @param {boolean} isPreventFocus .\n     * @returns {void} .\n     */\n    Selection.prototype.selectRow = function (index, isToggle, isPreventFocus) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        if (this.parent.enableVirtualization && (this.parent.treeGridModule.addedRecord ||\n            (this.parent.editModule && this.parent.editModule.isAdded))) {\n            index = this.parent.getExpandedRecords(this.parent.flatData).indexOf(this.parent.flatData[index]);\n            this.parent.treeGridModule.addedRecord = false;\n            if (this.parent.editModule) {\n                this.parent.editModule.isAdded = false;\n            }\n        }\n        var selectedRow = ganttRow.filter(function (e) { return parseInt(e.getAttribute('data-rowindex'), 10) === index; })[0];\n        var condition;\n        if (index === -1 || (isNullOrUndefined(selectedRow) && !this.parent.enableVirtualization) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        if (this.parent.showActiveElement && !isNullOrUndefined(isPreventFocus) && !isPreventFocus || this.isFromChart) {\n            if (this.isFromChart) {\n                this.isFromChart = false;\n            }\n            this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        }\n        else {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = false;\n        }\n        if ((!isNullOrUndefined(this.selectedClass) && (this.selectedClass === selectedRow) && (!isToggle))) {\n            condition = true;\n        }\n        if (condition !== true) {\n            this.parent.treeGrid.selectRow(index, isToggle);\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n        this.selectedClass = selectedRow;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} .\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            var selectedRows = [];\n            var selectedIndexes_1 = this.parent.selectionModule.getSelectedRowIndexes();\n            var _loop_1 = function (i) {\n                var rec = this_1.parent.currentViewData.filter(function (data) {\n                    return data.index === selectedIndexes_1[i];\n                })[0];\n                selectedRows.push(rec);\n            };\n            var this_1 = this;\n            for (var i = 0; i < selectedIndexes_1.length; i++) {\n                _loop_1(i);\n            }\n            return selectedRows;\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     *\n     * @returns {IGanttData[]} .\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        return cellSelectedRecords;\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} .\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Selection.prototype.clearSelection = function () {\n        this.addRemoveClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        this.selectedClass = null;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        if (fromChart) {\n            var selectedRow = closest(e.target, 'tr.e-chart-row');\n            var rIndex = parseInt(selectedRow.getAttribute('data-rowindex'), 10);\n            var isToggle = this.parent.selectionSettings.enableToggle;\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                if (this.parent.selectionSettings.persistSelection) {\n                    this.addRemoveClass(this.selectedRowIndexes, e['name']);\n                }\n                if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && (this.parent.rowDragAndDropModule &&\n                    !this.parent.rowDragAndDropModule['draggedRecord']))) {\n                    this.isFromChart = true;\n                    this.selectRow(rIndex, isToggle);\n                }\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                    var isUnSelected = this.selectedRowIndexes.indexOf(rIndex) > -1;\n                    if (isUnSelected) {\n                        this.addRemoveClass([rIndex], e['name']);\n                    }\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addRemoveClass = function (records, request) {\n        if (typeof (records) == 'number') {\n            records = [records];\n        }\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        var _loop_2 = function (i) {\n            var selectedRow = ganttRow.filter(function (e) {\n                return parseInt(e.getAttribute('data-rowindex'), 10) === records[parseInt(i.toString(), 10)];\n            })[0];\n            if (!isNullOrUndefined(selectedRow)) {\n                var persist = false;\n                var index = this_2.getSelectedRowIndexes().indexOf(records[parseInt(i.toString(), 10)]);\n                var selectedRecordLen = this_2.getSelectedRecords().length;\n                if (this_2.parent.selectionSettings.persistSelection && this_2.parent.selectionSettings.enableToggle &&\n                    !isNullOrUndefined(request) && this_2.parent.selectionSettings.type !== 'Multiple' &&\n                    selectedRecordLen > 0) {\n                    persist = true;\n                }\n                if (this_2.parent.selectionSettings.enableToggle && this_2.parent.selectionSettings.persistSelection &&\n                    (index > -1 && this_2.parent.selectionSettings.type === 'Single' && persist) ||\n                    (index > -1 && ((!isNullOrUndefined(request) && this_2.parent.selectionSettings.type === 'Multiple')))) {\n                    this_2.addClass(selectedRow);\n                }\n                else if (isNullOrUndefined(request)) {\n                    this_2.removeClass(selectedRow);\n                }\n                else if (index > -1) {\n                    this_2.addClass(selectedRow);\n                }\n                if (this_2.parent.selectionSettings.enableToggle && index > -1 && (this_2.parent.selectionSettings.type === 'Single' ||\n                    (!this_2.isMultiCtrlRequest && !this_2.isMultiShiftRequest)) && this_2.parent.selectionSettings.persistSelection &&\n                    request === 'chartMouseUp' && this_2.isSelectionFromChart) {\n                    this_2.removeClass(selectedRow);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < records.length; i++) {\n            _loop_2(i);\n        }\n    };\n    Selection.prototype.addClass = function (selectedRow) {\n        addClass([selectedRow], 'e-active');\n        selectedRow.setAttribute('aria-selected', 'true');\n    };\n    Selection.prototype.removeClass = function (selectedRow) {\n        removeClass([selectedRow], 'e-active');\n        selectedRow.removeAttribute('aria-selected');\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && this.selectedRowIndexes.length === 0) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        var elements = document.querySelectorAll('.e-drag-item');\n        var targetElement = null;\n        if (e.target.closest('.e-rowcell')) {\n            targetElement = e.target;\n        }\n        else if (e.target.closest('.e-chart-row')) {\n            targetElement = e.target.closest('.e-left-label-container') ||\n                e.target.closest('.e-taskbar-main-container') || e.target.closest('.e-right-label-container');\n        }\n        if (this.parent.focusModule) {\n            this.parent.focusModule.setActiveElement(targetElement);\n        }\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing && this.parent.editModule.taskbarEditModule) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        if (!isTaskbarEdited && this.parent.element.contains(e.target) && !(elements.length === 1)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                e.target.classList.contains('e-row') ||\n                e.target.classList.contains('e-treegridexpand') ||\n                e.target.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    if (this.parent.enableVirtualization) {\n                        this.parent.treeGrid.grid.selectionModule.isInteracted = true;\n                    }\n                    this.parent.treeGrid['isFromChartSide'] = true;\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.parent.treeGrid['isFromChartSide'] = false;\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To add class for selected records in virtualization mode.\n     *\n     * @param {number} i .\n     * @returns {void} .\n     * @hidden\n     */\n    Selection.prototype.maintainSelectedRecords = function (i) {\n        var index = this.parent.selectionModule.getSelectedRowIndexes().indexOf(i);\n        if (index > -1) {\n            this.addRemoveClass([i]);\n        }\n    };\n    /**\n     * To destroy the selection module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = void 0;\n                var localeName = void 0;\n                if (item === 'CriticalPath') {\n                    itemStr = 'critical-path';\n                    localeName = 'criticalPath';\n                }\n                else {\n                    itemStr = item.toLowerCase();\n                    localeName = item[0].toLowerCase() + item.slice(1);\n                }\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n                if (this.parent.enableRtl) {\n                    if (item === 'PrevTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n                    }\n                    if (item === 'NextTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n                    }\n                }\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            enableRtl: this.parent.enableRtl,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        this.toolbar.appendTo(this.element);\n        if (this.parent.treeGrid.grid && this.parent.isReact) {\n            (this.parent.treeGrid.grid).portals = this.parent.portals;\n        }\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        var template = false;\n        this.parent.toolbar.map(function (e) {\n            if (e === 'Search') {\n                template = true;\n            }\n        });\n        if (this.parent.isAdaptive && template) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                enableRtl: this.parent.enableRtl,\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        if (!this.parent.isDestroyed) {\n            this.parent.off('ui-toolbarupdate', this.propertyChanged);\n        }\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        this.parent.isToolBarClick = false;\n        extend(arg, { cancel: false });\n        if (arg.item['properties'].id === this.parent.element.id + '_pdfexport' || arg.item['properties'].id === this.parent.element.id + '_critical-path') {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_critical-path':\n                        if (gObj.enableCriticalPath) {\n                            gObj.enableCriticalPath = false;\n                        }\n                        else {\n                            gObj.enableCriticalPath = true;\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        _this.parent.isCollapseAll = false;\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        _this.parent.isCollapseAll = true;\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                    case gID + '_undo':\n                        _this.parent.undo();\n                        break;\n                    case gID + '_redo':\n                        _this.parent.redo();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        if (this.parent.timelineModule.isZoomIn) {\n            this.parent.timelineModule.isZoomIn = false;\n        }\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n        this.parent.timelineModule.isZoomToFit = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            for (var i = 0; i < gObj.updatedRecords.length; i++) {\n                if (gObj.updatedRecords[i].index === ind) {\n                    ind = i;\n                    break;\n                }\n            }\n        }\n        var previousGanttRecord;\n        var isSelected = false;\n        if (gObj.selectionModule) {\n            if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n                isSelected = true;\n            }\n        }\n        if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n            isSelected = false;\n        }\n        var isPersist = false;\n        if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n            var selectedRecords = gObj.selectionModule.getSelectedRecords().length;\n            if (gObj.selectionSettings.persistSelection && selectedRecords === 1) {\n                for (var i = 0; i < selectedRecords; i++) {\n                    var index = gObj.currentViewData.indexOf(gObj.selectionModule.getSelectedRecords()[i]);\n                    if (index === -1) {\n                        isPersist = true;\n                    }\n                }\n            }\n            if (isPersist) {\n                isSelected = false;\n            }\n        }\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                    gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                        (gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n                if (isPersist) {\n                    isDeleteSelected = false;\n                }\n                var selectedRecords = gObj.selectionModule.getSelectedRecords();\n                var selectedRecordsCount = selectedRecords.length;\n                if (gObj.selectionSettings.persistSelection && selectedRecordsCount > 1) {\n                    for (var i = 0; i < selectedRecordsCount; i++) {\n                        var index = gObj.currentViewData.indexOf(selectedRecords[i]);\n                        if (index > -1) {\n                            isDeleteSelected = true;\n                            break;\n                        }\n                        else {\n                            isDeleteSelected = false;\n                        }\n                    }\n                }\n            }\n            if (edit.allowDeleting && hasData && isDeleteSelected && !touchEdit) {\n                enableItems.push(gID + '_delete');\n            }\n            else {\n                disableItems.push(gID + '_delete');\n            }\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 &&\n                        disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n            disableItems.push(gID + '_indent');\n            disableItems.push(gID + '_outdent');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0 && (!isNullOrUndefined(toolbarItems[index]) && toolbarItems[index]['properties'].visible)) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.toolbar) {\n            this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n        }\n        this.toolbar.destroy();\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { createElement, formatUnit, remove, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.weekendWidthUpdated = false;\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            if (this.parent.enableTimelineVirtualization) {\n                this.nonworkingContainer.style.height = '100%';\n            }\n            this.parent.ganttChartModule.chartBodyContent.insertBefore(this.nonworkingContainer, this.parent.ganttChartModule.chartBodyContent.firstChild);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.holidayContainer.style.height = '100%';\n                    this.holidayContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            this.holidayContainer.innerHTML = this.getHolidaysElement().innerHTML;\n        }\n        else if (this.holidayContainer && this.holidayContainer.parentNode) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false, true);\n            var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: align + \" width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n            }\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        if (this.parent.highlightWeekends) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.weekendContainer.style.height = '100%';\n                    this.weekendContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            this.weekendContainer.innerHTML = this.getWeekendElements().innerHTML;\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).getTime()) :\n            new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = this.parent.enableTimelineVirtualization ? new Date((this.parent.timelineModule.weekendEndDate).getTime()) :\n            new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        var isFirstExecution = true;\n        this.weekendWidthUpdated = false;\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false, true);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                var sDate = new Date(startDate);\n                var dubDate = new Date(startDate);\n                sDate.setDate(sDate.getDate() + 1);\n                var sDateOffset = sDate.getTimezoneOffset();\n                var dubDateOffset = dubDate.getTimezoneOffset();\n                if (!isFirstExecution) {\n                    var isHourTimeline = (this.parent.timelineModule.bottomTier === 'Hour' &&\n                        this.parent.timelineModule.customTimelineSettings.bottomTier.count === 1) ||\n                        (this.parent.timelineModule.bottomTier === 'Minutes' &&\n                            this.parent.timelineModule.customTimelineSettings.bottomTier.count === 60) ||\n                        (this.parent.timelineModule.topTier === 'Hour' &&\n                            this.parent.timelineModule.customTimelineSettings.topTier.count === 1 &&\n                            this.parent.timelineModule.bottomTier === 'Minutes' &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.count === 30 ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.count === 15));\n                    if (sDateOffset !== this.parent.timelineModule.timelineStartDate.getTimezoneOffset() &&\n                        !this.weekendWidthUpdated) {\n                        if (isHourTimeline && sDateOffset < dubDateOffset) {\n                            width = width - (this.parent.perDayWidth / 24);\n                            this.weekendWidthUpdated = true;\n                        }\n                    }\n                }\n                else {\n                    isFirstExecution = false;\n                }\n                var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: align + \" width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.getContentHeight();\n        var gantttable = document.getElementById(this.parent.element.id);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = (this.parent.height === 'auto') ? gantttable.offsetHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight :\n            this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                this.eventMarkersContainer.setAttribute('role', 'term');\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else {\n            this.removeContainer();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n            this.eventMarkersContainer = null;\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     *\n     * @param {HTMLElement} container .\n     * @returns {void} .\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        var eventMarkerCollection = [];\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                this.parent['isFromEventMarker'] = true;\n                left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true), false, true);\n                this.parent['isFromEventMarker'] = false;\n                eventMarkerCollection.push({ id: i, left: left, label: this.parent.eventMarkers[i].label,\n                    date: this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true) });\n                var align = void 0;\n                if (this.parent.enableRtl) {\n                    align = \"right:\" + left + \"px;\";\n                }\n                else {\n                    align = \"left:\" + left + \"px;\";\n                }\n                eventMarkerElement = createElement('div', {\n                    className: cls.eventMarkersChild, styles: align + \"  height:100%;\",\n                    id: 'stripline' + i\n                });\n                if (this.parent.eventMarkers[i].label) {\n                    spanElement = createElement('div', {\n                        className: cls.eventMarkersSpan\n                    });\n                    var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                    spanElement[property] = this.parent.eventMarkers[i].label;\n                    if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                        spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n                    }\n                    if (this.parent.enableRtl) {\n                        spanElement.style.right = '5px';\n                    }\n                    else {\n                        spanElement.style.left = '5px';\n                    }\n                    eventMarkerElement.appendChild(spanElement);\n                    rightArrow = createElement('div', {\n                        className: 'e-gantt-right-arrow'\n                    });\n                    eventMarkerElement.appendChild(rightArrow);\n                }\n                if (this.parent.eventMarkers[i].cssClass) {\n                    eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n                }\n                eventMarkerElement.setAttribute('tabindex', '-1');\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day :\n                        this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n                container.appendChild(eventMarkerElement);\n            }\n        }\n        this.parent.eventMarkerColloction = eventMarkerCollection;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.getContentHeight());\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n        if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n            this.parent['renderChartVerticalLines']();\n        }\n        this.eventMarkerRender.renderEventMarkers();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n    };\n    /**\n     * To get module name\n     *\n     * @returns {string} .\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\n/** @hidden */\nvar CriticalPath = /** @class */ (function () {\n    function CriticalPath(parent) {\n        this.validatedids = [];\n        this.resourceCollectionIds = [];\n        this.criticalTasks = [];\n        this.parent = parent;\n    }\n    CriticalPath.prototype.getCriticalTasks = function () {\n        return this.criticalTasks;\n    };\n    CriticalPath.prototype.showCriticalPath = function (isCritical) {\n        var modelIds = this.parent.ids;\n        var totalRecords = this.parent.flatData;\n        if (isCritical && this.parent.flatData.length > 0) {\n            this.parent.enableCriticalPath = true;\n            var parentRecords = this.parent.treeGrid.parentData;\n            var checkEndDate = parentRecords[0].ganttProperties.endDate;\n            var dateDifference = 0;\n            /* eslint-disable-next-line */\n            var checkBeyondEnddate_1 = [];\n            var totalPredecessorsCollection = [];\n            var totalPredecessorsCollectionId = [];\n            var predecessorIndex = 0;\n            var taskBeyondEnddate = [];\n            var predecessorTaskBeyondEnddate = [];\n            var collection = [];\n            var collectionTaskId = [];\n            var fromDataObject = [];\n            var criticalPathIds = [];\n            this.criticalTasks = [];\n            /* eslint-disable-next-line */\n            if (parentRecords[0].ganttProperties.autoEndDate > parentRecords[0].ganttProperties.endDate && !parentRecords[0].ganttProperties.isAutoSchedule) {\n                checkEndDate = parentRecords[0].ganttProperties.autoEndDate;\n            }\n            // Find the total project endDate\n            for (var i = 1; i < parentRecords.length; i++) {\n                if (parentRecords[i].ganttProperties.endDate >= checkEndDate) {\n                    checkEndDate = parentRecords[i].ganttProperties.endDate;\n                }\n                if (!parentRecords[i].ganttProperties.isAutoSchedule) {\n                    if (parentRecords[i].ganttProperties.autoEndDate >= checkEndDate) {\n                        checkEndDate = parentRecords[i].ganttProperties.autoEndDate;\n                    }\n                }\n            }\n            this.maxEndDate = checkEndDate;\n            // find the tasks that ends on total project end date that stored in checkBeyondEnddate\n            // find the tasks with predecessor that stored in totalPredecessorsCollectionId.\n            for (var j = 0; j < totalRecords.length; j++) {\n                totalRecords[j].isCritical = false;\n                totalRecords[j].ganttProperties.isCritical = false;\n                /* eslint-disable-next-line */\n                dateDifference = this.parent.dataOperation.getDuration(totalRecords[j].ganttProperties.endDate, checkEndDate, totalRecords[j].ganttProperties.durationUnit, totalRecords[j].ganttProperties.isAutoSchedule, totalRecords[j].ganttProperties.isMilestone);\n                totalRecords[j].slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                totalRecords[j].ganttProperties.slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                if (totalRecords[j].ganttProperties.endDate >= checkEndDate) {\n                    checkBeyondEnddate_1.push(totalRecords[j].ganttProperties.taskId);\n                }\n                if (totalRecords[j].ganttProperties.predecessor) {\n                    if (totalRecords[j].ganttProperties.predecessor.length !== 0) {\n                        totalPredecessorsCollection.push(totalRecords[j]);\n                        totalPredecessorsCollectionId.push((totalRecords[j].ganttProperties.taskId));\n                    }\n                }\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                for (var i = 0; i < this.parent.taskIds.length; i++) {\n                    this.resourceCollectionIds[i] = this.parent.taskIds[i].slice(1);\n                }\n            }\n            var _loop_1 = function (k) {\n                if (totalPredecessorsCollectionId.indexOf(checkBeyondEnddate_1[k]) === -1) {\n                    if (this_1.parent.viewType === 'ProjectView') {\n                        predecessorIndex = modelIds.indexOf(checkBeyondEnddate_1[k].toString());\n                    }\n                    else {\n                        var currentRecords = this_1.parent.currentViewData.filter(function (data) {\n                            return parseInt(data.ganttProperties.taskId, 10) === checkBeyondEnddate_1[k];\n                        });\n                        for (var i = 0; i < currentRecords.length; i++) {\n                            if (!currentRecords[i].hasChildRecords &&\n                                currentRecords[i].ganttProperties.endDate >= this_1.maxEndDate) {\n                                predecessorIndex = currentRecords[i].index;\n                            }\n                        }\n                    }\n                    if (totalRecords[predecessorIndex].ganttProperties.progress < 100) {\n                        totalRecords[predecessorIndex].isCritical = true;\n                        totalRecords[predecessorIndex].ganttProperties.isCritical = true;\n                    }\n                    totalRecords[predecessorIndex]['slack'] = 0 + ' ' + totalRecords[predecessorIndex].ganttProperties.durationUnit;\n                    taskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n                else {\n                    predecessorTaskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n            };\n            var this_1 = this;\n            // seperate the predecessor connected taskes from the individual taskes that ends on total project end date\n            for (var k = 0; k < checkBeyondEnddate_1.length; k++) {\n                _loop_1(k);\n            }\n            var predecessorLength = totalPredecessorsCollection.length;\n            var endTask = [];\n            // find the detail collection of predecessor for each taskes that stored in collection.\n            for (var x = 0; x < predecessorLength; x++) {\n                var to = -1;\n                var from = -1;\n                var toPredecessor = -1;\n                var fromPredecessor = -1;\n                var tempTaskId = void 0;\n                var currentIndex = x;\n                var predecessor = totalPredecessorsCollection[x].ganttProperties.predecessor;\n                var individualPredecessorLength = totalPredecessorsCollection[x].ganttProperties.predecessor.length;\n                /* eslint-disable-next-line */\n                var taskid = ((totalPredecessorsCollection[x].ganttProperties.taskId));\n                for (var y = 0; y < individualPredecessorLength; y++) {\n                    if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].from), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (to === -1) {\n                            if (!predecessor[y].offset) {\n                                to = predecessor[y].to;\n                                toPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                to = predecessor[y].to + ':' + predecessor[y].offset + predecessor[y].offsetUnit;\n                                toPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                to = to + ',' + predecessor[y].to;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                to = to + ',' + predecessor[y].to + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                    if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].to), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (from === -1) {\n                            if (!predecessor[y].offset) {\n                                from = predecessor[y].from;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                from = predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                from = from + ',' + predecessor[y].from;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                from = from + ',' + predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                }\n                if (from === -1) {\n                    from = null;\n                    fromPredecessor = null;\n                }\n                if (to === -1) {\n                    to = null;\n                    toPredecessor = null;\n                }\n                /* eslint-disable-next-line */\n                collection.push({ from: from, fromPredecessor: fromPredecessor, taskid: taskid, to: to, toPredecessor: toPredecessor, currentIndex: currentIndex, slack: null, enddate: null });\n                collectionTaskId.push(taskid);\n            }\n            var collectionLength = collection.length;\n            var indexEnddate = 0;\n            var num = void 0;\n            // find the predecessors connected taskes that does not contains any successor.\n            for (var z = 0; z < collectionLength; z++) {\n                if (!collection[z]['to']) {\n                    num = collection[z]['taskid'];\n                    if (this.parent.viewType === 'ProjectView') {\n                        indexEnddate = modelIds.indexOf(num.toString());\n                    }\n                    else {\n                        indexEnddate = this.resourceCollectionIds.indexOf(num.toString());\n                    }\n                    var flatData = totalRecords[indexEnddate].ganttProperties;\n                    dateDifference = this.parent.dataOperation.getDuration(flatData.endDate, checkEndDate, 'minute', flatData.isAutoSchedule, flatData.isMilestone);\n                    collection[z]['slack'] = dateDifference;\n                    collection[z]['fs'] = -1;\n                    collection[z]['enddate'] = flatData.endDate;\n                    endTask.push({\n                        fromdata: collection[z]['from'], todateID: collection[z]['taskid'],\n                        fromDataPredecessor: collection[z]['fromPredecessor']\n                    });\n                }\n            }\n            for (var k = 0; k < endTask.length; k++) {\n                fromDataObject.push(endTask[k]);\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, totalRecords, modelIds);\n            }\n            criticalPathIds = this.finalCriticalPath(collection, taskBeyondEnddate, totalRecords, modelIds, checkEndDate);\n            this.validatedids = [];\n            this.criticalPathCollection = criticalPathIds;\n            this.detailPredecessorCollection = collection;\n            this.predecessorCollectionTaskIds = collectionTaskId;\n        }\n        if (isCritical === false && this.parent.flatData.length > 0) {\n            var pathIndex = void 0;\n            this.parent.enableCriticalPath = false;\n            for (var z = 0; z < this.criticalPathCollection.length; z++) {\n                pathIndex = modelIds.indexOf(this.criticalPathCollection[z].toString());\n                totalRecords[pathIndex].isCritical = false;\n            }\n            this.criticalPathCollection = [];\n            this.detailPredecessorCollection = [];\n            this.predecessorCollectionTaskIds = [];\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.slackCalculation = function (fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds) {\n        var _this = this;\n        var fromDateArray = fromDataObject[0]['fromdata'].split(',');\n        var fromDataPredecessor = fromDataObject[0]['fromDataPredecessor'].split(',');\n        collectionTaskId = collectionTaskId.toString();\n        collectionTaskId = collectionTaskId.split(',');\n        var fromDateArray1 = [];\n        var fromTaskIdIndex;\n        var indexFromTaskId;\n        var indexToTaskId;\n        var totaskId;\n        var dateDifference;\n        var prevTaskEnddate;\n        var offsetInMillSec;\n        var ffslack;\n        for (var i = 0; i < fromDateArray.length; i++) {\n            fromDateArray1 = fromDateArray[i].split(':');\n            fromTaskIdIndex = collectionTaskId.indexOf((fromDateArray1[0].toString()));\n            totaskId = collectionTaskId.indexOf((fromDataObject[0]['todateID'].toString()));\n            if (this.parent.viewType === 'ProjectView') {\n                indexFromTaskId = modelRecordIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = modelRecordIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            else {\n                indexFromTaskId = this.resourceCollectionIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = this.resourceCollectionIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            var fromIdFlatData = void 0;\n            if (indexFromTaskId !== -1) {\n                fromIdFlatData = flatRecords[indexFromTaskId].ganttProperties;\n            }\n            var toIdFlatData = flatRecords[indexToTaskId].ganttProperties;\n            if (fromDateArray1.length > 1) {\n                if (fromDateArray1[1].indexOf('hour') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * 60;\n                }\n                else if (fromDateArray1[1].indexOf('day') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * (this.parent.secondsPerDay / 3600) * 60;\n                }\n                else {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]);\n                }\n            }\n            if (fromIdFlatData) {\n                // calculate slack value for the task contains predecessor connection in \"finish to start\".\n                if (fromDataPredecessor[i] === 'FS') {\n                    if (fromIdFlatData.endDate > toIdFlatData.startDate) {\n                        dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.startDate, fromIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                    }\n                    else {\n                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.endDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                    }\n                    // execute if the slack value is not set initially.\n                    if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the current calculated slack value is less than the previous slack value.\n                    else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                        collection[fromTaskIdIndex]['slack'] !== 0) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the offset value is given.\n                    if (fromDateArray1.length > 1) {\n                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                        collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                        if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                            collection[fromTaskIdIndex]['slack'] = 0;\n                        }\n                    }\n                    collection[fromTaskIdIndex]['fs'] = 1;\n                    collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                    collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    if (fromIdFlatData.endDate >= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to start\".\n                if (fromDataPredecessor[i] === 'SS') {\n                    // It execute if the task is in auto mode.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        if (fromIdFlatData.startDate > toIdFlatData.startDate) {\n                            dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                        }\n                        else {\n                            dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                        }\n                        // It execute while the slack value is not set to the corresponding task.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        //It execute while already the slack value is set and it is higher than the datedifference.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['fs'] = 1;\n                        collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                        collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    }\n                    // It execute if the task is in not an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"finish to finish\".\n                if (fromDataPredecessor[i] === 'FF') {\n                    // execute if the previous task is from finish to start or finish to finish state.\n                    if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1 ||\n                        collection[totaskId]['fs'] === -1) {\n                        if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1) {\n                            prevTaskEnddate = toIdFlatData.endDate;\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (collection[totaskId]['fs'] === -1) {\n                            prevTaskEnddate = collection[totaskId]['enddate'];\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (prevTaskEnddate > fromIdFlatData.endDate) {\n                            dateDifference = -(this.getSlackDuration(fromIdFlatData.endDate, prevTaskEnddate, 'minute', flatRecords[indexFromTaskId]));\n                        }\n                        else {\n                            dateDifference = this.getSlackDuration(prevTaskEnddate, fromIdFlatData.endDate, 'minute', flatRecords[indexFromTaskId]);\n                        }\n                        // set the slack value if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // overright the slack value if the current calculated slack value is less than the previous slack value.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] - dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['ff'] = 1;\n                        collection[fromTaskIdIndex]['enddate'] = prevTaskEnddate;\n                        collection[fromTaskIdIndex]['fsslack'] = ffslack;\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to finish\".\n                if (fromDataPredecessor[i] === 'SF') {\n                    //It execute if the task is an auto mode task.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        //execute if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                // execute if the previous task does no has sucessor.\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                    collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                }\n                                // execute if the previous task has sucessor.\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                    if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                    else {\n                                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    }\n                                }\n                            }\n                            // execute if the offset value is given.\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate >= fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                        else {\n                            if (fromDateArray1.length <= 1) {\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                        collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                    }\n                                    else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                        if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                            collection[fromTaskIdIndex]['slack'] = 0;\n                                        }\n                                        else {\n                                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate > fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                    if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                    }\n                    //It execute if the task is an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                if (collection[fromTaskIdIndex]['from']) {\n                    fromDataObject.push({\n                        fromdata: collection[fromTaskIdIndex]['from'], todateID: collection[fromTaskIdIndex]['taskid'],\n                        fromDataPredecessor: collection[fromTaskIdIndex]['fromPredecessor']\n                    });\n                }\n            }\n        }\n        if (fromDataObject) {\n            fromDataObject.splice(0, 1);\n            if (fromDataObject.length > 0) {\n                fromDataObject.forEach(function (item) {\n                    _this.slackCalculation([item], collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds);\n                });\n            }\n        }\n    };\n    CriticalPath.prototype.getSlackDuration = function (sDate, eDate, durationUnit, record) {\n        var startDate = this.parent.dateValidationModule.checkStartDate(new Date(sDate));\n        var endDate = this.parent.dateValidationModule.checkEndDate(new Date(eDate));\n        if (this.parent.dataOperation['getTimeDifference'](startDate, endDate, true) <= 0) {\n            return 0;\n        }\n        else {\n            return this.parent.dataOperation.getDuration(startDate, endDate, durationUnit, record.ganttProperties.isAutoSchedule, true);\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.updateCriticalTasks = function (record, criticalPathIds) {\n        for (var i = 0; i < record.ganttProperties.predecessor.length; i++) {\n            var fromRecord = void 0;\n            if (this.parent.viewType === 'ProjectView') {\n                fromRecord = this.parent.getRecordByID(record.ganttProperties.predecessor[i].from);\n            }\n            else {\n                var resourceIndex = this.resourceCollectionIds.indexOf(record.ganttProperties.predecessor[i].from.toString());\n                fromRecord = this.parent.flatData[resourceIndex];\n            }\n            var durationDiff = void 0;\n            if (record.ganttProperties.endDate.getTime() >= this.maxEndDate.getTime()) {\n                record.ganttProperties.slack = record.slack = 0 + ' ' + record.ganttProperties.durationUnit;\n                if (record.ganttProperties.progress < 100) {\n                    record.isCritical = true;\n                    record.ganttProperties.isCritical = true;\n                    if (criticalPathIds.indexOf(record.ganttProperties.taskId) === -1) {\n                        criticalPathIds.push(record.ganttProperties.taskId);\n                    }\n                }\n            }\n            if (fromRecord) {\n                if (record.ganttProperties.predecessor[i].type === 'FS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.startDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'FF') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.endDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SF') {\n                    durationDiff = this.parent.dataOperation.getDuration(record.ganttProperties.endDate, fromRecord.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                if (durationDiff >= 0 && this.validatedids.indexOf(parseInt(fromRecord.ganttProperties.taskId, 10)) === -1 &&\n                    fromRecord.ganttProperties.taskId !== record.ganttProperties.taskId) {\n                    fromRecord.ganttProperties.slack = record.ganttProperties.slack;\n                    fromRecord.slack = record.slack;\n                    fromRecord.isCritical = record.ganttProperties.isCritical;\n                    fromRecord.ganttProperties.isCritical = record.ganttProperties.isCritical;\n                    if (criticalPathIds.indexOf(fromRecord.ganttProperties.taskId) === -1 && fromRecord.ganttProperties.isCritical &&\n                        fromRecord.ganttProperties.progress < 100) {\n                        criticalPathIds.push(fromRecord.ganttProperties.taskId);\n                        this.validatedids.push(parseInt(fromRecord.ganttProperties.taskId, 10));\n                        if (this.criticalTasks.indexOf(fromRecord) === -1) {\n                            this.criticalTasks.push(fromRecord);\n                        }\n                    }\n                    if (fromRecord.ganttProperties.predecessorsName) {\n                        this.updateCriticalTasks(fromRecord, criticalPathIds);\n                    }\n                }\n            }\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.finalCriticalPath = function (collection, taskBeyondEnddate, flatRecords, modelRecordIds, checkEndDate) {\n        /* eslint-disable-next-line */\n        var criticalPathIds = [];\n        var index;\n        var predecessorFrom;\n        for (var x = collection.length - 1; x >= 0; x--) {\n            if (this.parent.viewType === 'ProjectView') {\n                index = modelRecordIds.indexOf(collection[x]['taskid'].toString());\n            }\n            else {\n                index = this.resourceCollectionIds.indexOf(collection[x]['taskid'].toString());\n            }\n            var predecessorLength = flatRecords[index].ganttProperties.predecessor;\n            var noSlackValue = 0 + ' ' + flatRecords[index].ganttProperties.durationUnit;\n            if (predecessorLength && predecessorLength.length > 0) {\n                for (var i = predecessorLength.length - 1; i >= 0; i--) {\n                    var toID = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        toID = this.parent.ids.indexOf(predecessorLength[i].to);\n                    }\n                    else {\n                        toID = this.resourceCollectionIds.indexOf(predecessorLength[i].to);\n                    }\n                    var dateDifference = void 0;\n                    var currentData = flatRecords[index].ganttProperties;\n                    if (toID !== -1) {\n                        if (predecessorLength[i].type === 'FS') {\n                            if (predecessorLength[i].to !== currentData.taskId.toString()) {\n                                if (predecessorLength[i].to !== currentData.taskId.toString() || this.parent.viewType === 'ResourceView') {\n                                    /* eslint-disable-next-line */\n                                    dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                }\n                                else {\n                                    toID = this.parent.ids.indexOf(predecessorLength[i].from);\n                                    if (toID !== -1) {\n                                        dateDifference = this.parent.dataOperation.getDuration(flatRecords[toID].ganttProperties.endDate, currentData.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                        if (dateDifference === 0 && index !== toID && flatRecords[index].slack === noSlackValue) {\n                                            flatRecords[toID].slack = flatRecords[index].slack;\n                                            flatRecords[toID].ganttProperties.slack = flatRecords[index].slack;\n                                        }\n                                    }\n                                }\n                                if (toID !== -1) {\n                                    if (dateDifference === 0 && index !== toID && flatRecords[index].slack !== noSlackValue) {\n                                        flatRecords[index].slack = flatRecords[toID].slack;\n                                        flatRecords[index].ganttProperties.slack = flatRecords[toID].slack;\n                                    }\n                                    else if (dateDifference !== 0 && index !== toID && flatRecords[toID].isCritical) {\n                                        flatRecords[index].slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                        flatRecords[index].ganttProperties.slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                    }\n                                }\n                            }\n                        }\n                        else if (predecessorLength[i].type === 'SF') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else if (predecessorLength[i].type === 'SS') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        if (typeof (flatRecords[index][this.parent.taskFields.id]) === 'number') {\n                            predecessorFrom = parseInt(predecessorLength[i].from, 10);\n                        }\n                        else {\n                            predecessorFrom = predecessorLength[i].from;\n                        }\n                        if (predecessorFrom === flatRecords[index][this.parent.taskFields.id] &&\n                            flatRecords[toID].slack === noSlackValue && dateDifference <= 0) {\n                            flatRecords[index].slack = noSlackValue;\n                            flatRecords[index].ganttProperties.slack = noSlackValue;\n                        }\n                    }\n                }\n            }\n            if (flatRecords[index].slack === noSlackValue) {\n                if (flatRecords[index].ganttProperties.progress < 100) {\n                    flatRecords[index].isCritical = true;\n                    flatRecords[index].ganttProperties.isCritical = true;\n                    if (this.criticalTasks.indexOf(flatRecords[index]) === -1) {\n                        this.criticalTasks.push(flatRecords[index]);\n                    }\n                    if (criticalPathIds.indexOf(collection[x]['taskid']) === -1) {\n                        criticalPathIds.push(collection[x]['taskid']);\n                    }\n                }\n            }\n            if (flatRecords[index].ganttProperties.predecessor &&\n                flatRecords[index].ganttProperties.predecessor.length > 0) {\n                this.updateCriticalTasks(flatRecords[index], criticalPathIds);\n            }\n        }\n        if (taskBeyondEnddate.length > 0) {\n            for (var i = 0; i < taskBeyondEnddate.length; i++) {\n                if (this.parent.viewType === 'ProjectView') {\n                    index = modelRecordIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                else {\n                    index = this.resourceCollectionIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                if (index !== -1 && flatRecords[index].ganttProperties.progress < 100) {\n                    this.criticalTasks.push(flatRecords[index]);\n                    if (criticalPathIds.indexOf(taskBeyondEnddate[i]) === -1) {\n                        criticalPathIds = criticalPathIds.concat(taskBeyondEnddate[i]);\n                    }\n                }\n            }\n        }\n        return criticalPathIds;\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.criticalConnectorLine = function (criticalPathIds, collection, condition, collectionTaskId) {\n        this.parent.removeCriticalPathStyles();\n        var _loop_2 = function (i) {\n            var criticalData;\n            if (this_2.parent.viewType === 'ProjectView') {\n                criticalData = this_2.parent.flatData[this_2.parent.ids.indexOf(criticalPathIds[i].toString())];\n            }\n            else {\n                var currentRecords = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId).toString() === criticalPathIds[i].toString();\n                });\n                for (var i_1 = 0; i_1 < currentRecords.length; i_1++) {\n                    if (currentRecords[i_1].ganttProperties.isCritical ||\n                        currentRecords[i_1].ganttProperties.endDate >= this_2.maxEndDate) {\n                        criticalData = currentRecords[i_1];\n                    }\n                }\n            }\n            var index = this_2.parent.currentViewData.indexOf(criticalData);\n            var element = this_2.parent.getRowByIndex(index);\n            var taskClass = void 0;\n            var columnFields = this_2.parent.taskFields;\n            if (criticalData && criticalData.parentItem) {\n                var parentRecord = this_2.parent.currentViewData.filter(function (data) {\n                    return criticalData.parentItem.uniqueID === data.uniqueID;\n                });\n                var parentIndex = this_2.parent.flatData.indexOf(parentRecord[0]);\n                var parentElement = this_2.parent.getRowByIndex(parentIndex);\n                if (parentElement) {\n                    var parentTaskbarElement = parentElement.querySelectorAll('.e-taskbar-main-container');\n                    for (var i_2 = 0; i_2 < parentTaskbarElement.length; i_2++) {\n                        if (parentTaskbarElement[i_2].getAttribute('rowuniqueid') === criticalData['rowUniqueID']) {\n                            addClass(parentTaskbarElement[i_2].querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                        }\n                    }\n                }\n            }\n            /* eslint-disable-next-line */\n            if (this_2.parent.allowUnscheduledTasks && criticalData && !criticalData[columnFields.startDate] && !criticalData[columnFields.endDate] && criticalData[columnFields.duration]) {\n                taskClass = cls.criticalUnscheduledTask;\n            }\n            else {\n                taskClass = cls.criticalChildProgressBarInnerDiv;\n            }\n            if (element && (this_2.parent.viewType === 'ProjectView' || (this_2.parent.viewType === 'ResourceView' &&\n                !criticalData.hasChildRecords))) {\n                if (element.getElementsByClassName('e-gantt-milestone')[0]) {\n                    addClass(element.querySelectorAll('.e-gantt-milestone'), cls.criticalMilestone);\n                }\n                if (element.getElementsByClassName('e-gantt-child-taskbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                }\n                if (element.getElementsByClassName('e-gantt-child-progressbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-progressbar-inner-div'), taskClass);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < criticalPathIds.length; i++) {\n            _loop_2(i);\n        }\n        if (collection.length !== 0) {\n            var index = 0;\n            var currentdata = void 0;\n            var checking = [];\n            /* eslint-disable-next-line */\n            var checkint = void 0;\n            var values = void 0;\n            for (var i = 0; i < this.criticalPathCollection.length; i++) {\n                index = collectionTaskId.indexOf(this.criticalPathCollection[i]);\n                currentdata = collection[index];\n                if (index !== -1 && currentdata['to']) {\n                    checking = currentdata['to'].split(',');\n                    for (var j = 0; j < checking.length; j++) {\n                        values = checking[j].split('+');\n                        if (checking[j].indexOf('-') >= 0) {\n                            values = checking[j].split('-');\n                        }\n                        checkint = (values[0].replace(':', ''));\n                        if (typeof (criticalPathIds[j]) === 'number') {\n                            checkint = parseInt(values[0], 10);\n                        }\n                        if (criticalPathIds.indexOf(checkint) !== -1) {\n                            var taskIdString = String(currentdata['taskid']);\n                            var checkintString = String(checkint);\n                            var lineElement = this.parent.element.querySelectorAll('#ConnectorLineparent' +\n                                taskIdString.replace(/([.])/g, '\\\\$1') + 'child' + checkintString.replace(/([.])/g, '\\\\$1'));\n                            if (lineElement.length > 0) {\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getModuleName = function () {\n        return 'criticalPath';\n    };\n    /**\n     * Destroys the Critical Path of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    CriticalPath.prototype.destroy = function () {\n        if (!this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            this.parent.criticalPathModule = undefined;\n        }\n    };\n    return CriticalPath;\n}());\nexport { CriticalPath };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar UndoRedo = /** @class */ (function () {\n    function UndoRedo(parent) {\n        this.isUndoRedoPerformed = false;\n        this.changedRecords = [];\n        this.getRedoCollection = [];\n        this.getUndoCollection = [];\n        this.redoEnabled = false;\n        this.previousSortedColumns = [];\n        this.searchString = '';\n        this.isFromUndoRedo = false;\n        this.canUpdateIndex = true;\n        this.sortedColumnsLength = 0;\n        this.parent = parent;\n    }\n    /**\n     *Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.undoAction = function () {\n        var _this = this;\n        if (this.getUndoCollection.length > 0) {\n            var updateAction_1 = this.getUndoCollection[this.getUndoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = this.previousSortedColumns;\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction_1['filteredColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['toColumn'] = updateAction_1['fromColumn'];\n                previousActions['fromColumn'] = updateAction_1['toColumn'];\n                previousActions['fromIndex'] = updateAction_1['toIndex'];\n                previousActions['toIndex'] = updateAction_1['fromIndex'];\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['searchString'] = this.searchString;\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['showhideColumns'] = updateAction_1['showhideColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]);\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction_1['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction_1['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction_1['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction_1['action'];\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deleteRecords'] = [];\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    previousActions['deleteRecords'].push(updateAction_1['deletedRecordsDetails'][i].data);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['deletedRecordsDetails'] = [];\n                var rowItems = updateAction_1['addedRecords'];\n                this.findPosition(rowItems, previousActions, 'deletedRecordsDetails');\n            }\n            else {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction_1['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction_1['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction_1['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getRedoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.changedRecords = [];\n            this.currentAction = updateAction_1;\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                this.parent.timelineSettings.timelineViewMode = updateAction_1['previousZoomingLevel'].timelineViewMode;\n                this.parent.timelineSettings.timelineUnitSize = updateAction_1['previousZoomingLevel'].timelineUnitSize;\n                this.parent.timelineSettings.updateTimescaleView = updateAction_1['previousZoomingLevel'].updateTimescaleView;\n                this.parent.timelineSettings.topTier.unit = updateAction_1['previousZoomingLevel'].topTier.unit;\n                this.parent.timelineSettings.topTier.count = updateAction_1['previousZoomingLevel'].topTier.count;\n                this.parent.timelineSettings.topTier.format = updateAction_1['previousZoomingLevel'].topTier.format;\n                this.parent.timelineSettings.bottomTier.unit = updateAction_1['previousZoomingLevel'].bottomTier.unit;\n                this.parent.timelineSettings.bottomTier.count = updateAction_1['previousZoomingLevel'].bottomTier.count;\n                this.parent.timelineSettings.bottomTier.format = updateAction_1['previousZoomingLevel'].bottomTier.format;\n                this.parent.timelineSettings.weekStartDay = updateAction_1['previousZoomingLevel'].weekStartDay;\n                this.parent.timelineSettings.weekendBackground = updateAction_1['previousZoomingLevel'].weekendBackground;\n                if (updateAction_1['action'] === 'ZoomToFit') {\n                    this.parent.timelineModule.refreshTimeline();\n                }\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction_1['previousTimelineStartDate'], updateAction_1['previousTimelineEndDate'], false);\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction_1['sortColumns'].length > 0) {\n                    for (var i = 0; i < updateAction_1['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction_1['sortColumns'][i]['field'], updateAction_1['sortColumns'][i]['direction']);\n                    }\n                }\n                else {\n                    this.parent.clearSorting();\n                }\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                this.isFromUndoRedo = true;\n                for (var i = this.getUndoCollection.length - 1; i >= 0; i--) {\n                    if (this.getUndoCollection[i]['filteredColumns']) {\n                        var columnsArray = [];\n                        for (var j = 0; j < this.getUndoCollection[i]['filteredColumns'].length; j++) {\n                            columnsArray.push(this.getUndoCollection[i]['filteredColumns'][j].field);\n                        }\n                        this.parent.clearFiltering(columnsArray);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction_1['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction_1['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction_1['searchString']);\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction_1['showhideColumns'].length; i++) {\n                    if (updateAction_1['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]['width'] = updateAction_1['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction_1['beforeDrop'][i].position);\n                    this.parent.updateRecordByID(updateAction_1['beforeDrop'][i].data);\n                    if (updateAction_1['afterDrop'].dropPosition === 'child') {\n                        this.parent.updateRecordByID(updateAction_1['afterDrop'].dropRecord);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                this.parent.selectRow(this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString()));\n                if (updateAction_1['action'] === 'Indent') {\n                    this.parent.outdent();\n                }\n                else {\n                    this.parent.indent();\n                }\n                setTimeout(function () {\n                    _this.isUndoRedoPerformed = true;\n                    _this.parent.updateRecordByID(updateAction_1['droppedRecord']);\n                    _this.isUndoRedoPerformed = false;\n                });\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                var rowIndex = void 0;\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowIndex = this.parent.ids.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    else {\n                        rowIndex = this.parent.taskIds.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    var position = void 0;\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'above') {\n                        position = 'Above';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'below') {\n                        position = 'Below';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'child') {\n                        position = 'Child';\n                    }\n                    if (isNullOrUndefined(position)) {\n                        position = updateAction_1['deletedRecordsDetails'][i].position.replace(/^./, function (char) { return char.toUpperCase(); });\n                    }\n                    this.parent.addRecord(updateAction_1['deletedRecordsDetails'][i].data, position, rowIndex);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                var deleteRec = updateAction_1['addedRecords'];\n                if (this.parent.viewType === 'ResourceView' && updateAction_1['addedRecords'].length === 1 && updateAction_1['addedRecords'][0].parentItem) {\n                    var parentRec = this.parent.getTaskByUniqueID(updateAction_1['addedRecords'][0].parentItem.uniqueID);\n                    if (parentRec.childRecords.length === 1 && parentRec.ganttProperties.taskName === 'Unassigned Task') {\n                        deleteRec = parentRec;\n                    }\n                }\n                this.parent.deleteRecord(deleteRec);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else {\n                this.parent.updateRecordByID(this.getUndoCollection[this.getUndoCollection.length - 1]['modifiedRecords'][0]);\n                if (updateAction_1['connectedRecords'] && this.parent.viewType === 'ProjectView') {\n                    for (var i = 0; i < updateAction_1['connectedRecords'].length; i++) {\n                        this.parent.updateRecordByID(updateAction_1['connectedRecords'][i]);\n                    }\n                }\n            }\n            var args = {};\n            args = extend([], [], [this.getUndoCollection[this.getUndoCollection.length - 1]], true)[0];\n            args['requestType'] = 'afterUndoAction';\n            this.parent.trigger('onAfterUndo', args);\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length > 0) {\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], true);\n                }\n                this.redoEnabled = true;\n            }\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n        else {\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     *Initiates an redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.redoAction = function () {\n        if (this.getRedoCollection.length > 0) {\n            var updateAction = this.getRedoCollection[this.getRedoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = extend([], this.parent.sortSettings.columns, [], true);\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction['filteredColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['toColumn'] = updateAction['fromColumn'];\n                previousActions['fromColumn'] = updateAction['toColumn'];\n                previousActions['fromIndex'] = updateAction['toIndex'];\n                previousActions['toIndex'] = updateAction['fromIndex'];\n            }\n            else if (updateAction['action'] === 'Search') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['searchString'] = extend([], [this.parent.searchSettings.key], [], true)[0];\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['showhideColumns'] = updateAction['showhideColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction['resizedColumn'].index]);\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = void 0;\n                if (updateAction['afterDrop'].dropRecord) {\n                    dropRecord = extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                }\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        if (updateAction['afterDrop'].data[i] !== undefined) {\n                            previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                        }\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction['action'];\n            }\n            else if (updateAction['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deletedRecordsDetails'] = [];\n                this['findPosition'](extend([], [], updateAction['deleteRecords'], true), previousActions, 'deletedRecordsDetails');\n            }\n            else if (updateAction['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['addedRecords'] = [updateAction['deletedRecordsDetails'][0].data];\n            }\n            else {\n                previousActions['action'] = updateAction['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getUndoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.currentAction = updateAction;\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                if (updateAction['action'] === 'ZoomToFit') {\n                    this.parent.fitToProject();\n                }\n                else {\n                    this.parent.timelineSettings.timelineViewMode = updateAction['previousZoomingLevel'].timelineViewMode;\n                    this.parent.timelineSettings.timelineUnitSize = updateAction['previousZoomingLevel'].timelineUnitSize;\n                    this.parent.timelineSettings.updateTimescaleView = updateAction['previousZoomingLevel'].updateTimescaleView;\n                    this.parent.timelineSettings.topTier.unit = updateAction['previousZoomingLevel'].topTier.unit;\n                    this.parent.timelineSettings.topTier.count = updateAction['previousZoomingLevel'].topTier.count;\n                    this.parent.timelineSettings.topTier.format = updateAction['previousZoomingLevel'].topTier.format;\n                    this.parent.timelineSettings.bottomTier.unit = updateAction['previousZoomingLevel'].bottomTier.unit;\n                    this.parent.timelineSettings.bottomTier.count = updateAction['previousZoomingLevel'].bottomTier.count;\n                    this.parent.timelineSettings.bottomTier.format = updateAction['previousZoomingLevel'].bottomTier.format;\n                    this.parent.timelineSettings.weekStartDay = updateAction['previousZoomingLevel'].weekStartDay;\n                    this.parent.timelineSettings.weekendBackground = updateAction['previousZoomingLevel'].weekendBackground;\n                }\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction['previousTimelineStartDate'], updateAction['previousTimelineEndDate'], false);\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction['sortColumns'].length === 0) {\n                    this.parent.clearSorting();\n                }\n                else {\n                    for (var i = 0; i < updateAction['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction['sortColumns'][i]['field'], updateAction['sortColumns'][i]['direction'], (updateAction['sortColumns'].length > 1 ? true : false));\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction['showhideColumns'].length; i++) {\n                    if (updateAction['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                for (var j = 0; j < updateAction['filteredColumns'].length; j++) {\n                    this.isFromUndoRedo = true;\n                    this.parent.filterByColumn(updateAction['filteredColumns'][j].field, updateAction['filteredColumns'][j].operator, updateAction['filteredColumns'][j].value, updateAction['filteredColumns'][j].predicate, updateAction['filteredColumns'][j].matchCase, updateAction['filteredColumns'][j].ignoreAccent);\n                }\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction['searchString']);\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction['resizedColumn'].index]['width'] = updateAction['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction['beforeDrop'][i].position);\n                }\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                this.parent.selectRow(updateAction['selectedRowIndexes'][0]);\n                if (updateAction['action'] === 'Indent') {\n                    this.parent.indent();\n                }\n                if (updateAction['action'] === 'Outdent') {\n                    this.parent.outdent();\n                }\n            }\n            else if (updateAction['action'] === 'Delete') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                this.parent.deleteRecord(updateAction['deleteRecords']);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else if (updateAction['action'] === 'Add') {\n                if (this.parent.viewType === 'ResourceView' && updateAction['deletedRecordsDetails'].length > 1) {\n                    this.parent.editModule.addRecord(extend([], [], updateAction['deletedRecordsDetails'], true));\n                }\n                else {\n                    var rowIndex = void 0;\n                    for (var i = 0; i < updateAction['deletedRecordsDetails'].length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            rowIndex = this.parent.ids.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        else {\n                            rowIndex = this.parent.taskIds.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        var position = void 0;\n                        if (updateAction['deletedRecordsDetails'][i].position === 'above') {\n                            position = 'Above';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'below') {\n                            position = 'Below';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'child') {\n                            position = 'Child';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'bottom') {\n                            position = 'Bottom';\n                        }\n                        this.parent.editModule.addRecord(updateAction['deletedRecordsDetails'][i].data, position, rowIndex);\n                    }\n                }\n            }\n            else {\n                this.parent.updateRecordByID(updateAction['modifiedRecords'][0]);\n            }\n            this.isUndoRedoPerformed = false;\n            if (this.getUndoCollection.length > 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n            }\n            this.getRedoCollection.splice(this.getRedoCollection.length - 1, 1);\n            if (this.getRedoCollection.length === 0 && this.parent.toolbarModule) {\n                this.redoEnabled = false;\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n            }\n        }\n    };\n    UndoRedo.prototype.createUndoCollection = function () {\n        if (this.parent['totalUndoAction'] + 1 > this.parent.undoRedoStepsCount && this.getUndoCollection.length === this.parent['totalUndoAction']) {\n            this.getUndoCollection.splice(0, 1);\n            this.disableRedo();\n        }\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n        }\n        if (this.getUndoCollection.length === 0) {\n            this.getUndoCollection[0] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n        else if (Object.keys(this['getUndoCollection'][this['getUndoCollection'].length - 1])['length'] > 0) {\n            this.getUndoCollection[this.getUndoCollection.length] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n    };\n    UndoRedo.prototype.disableRedo = function () {\n        this.redoEnabled = false;\n        this.getRedoCollection = [];\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n        }\n    };\n    UndoRedo.prototype.findPosition = function (rowItems, records, detail) {\n        var _loop_1 = function (i) {\n            var record = {};\n            record['data'] = rowItems[i];\n            if (this_1.parent.viewType === 'ProjectView') {\n                if (!rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length > 1) {\n                        var recIndex = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString());\n                        var previousRecord = this_1.parent.flatData[recIndex - 1];\n                        if (previousRecord.parentItem &&\n                            previousRecord.parentItem.taskId.toString() === parentItem.ganttProperties.taskId.toString()) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                        else {\n                            record['position'] = 'above';\n                            var currentData = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1];\n                            var index = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1;\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData ||\n                                    (rowData && currentData.ganttProperties.taskId.toString() !==\n                                        rowData.ganttProperties.taskId.toString())) {\n                                    if (currentData && currentData.parentItem) {\n                                        record['id'] = extend([], [currentData.ganttProperties.taskId], [], true)[0];\n                                    }\n                                    else {\n                                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                                        record['position'] = 'child';\n                                    }\n                                }\n                                else {\n                                    rowIndex++;\n                                    index++;\n                                    currentData = this_1.parent.flatData[index];\n                                }\n                            } while (!record['id']);\n                        }\n                    }\n                    else {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [parentItem.ganttProperties.taskId], [], true)[0];\n                    }\n                }\n                else if (!rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    if (this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) === this_1.parent.ids.length - 1) {\n                        record['position'] = 'below';\n                    }\n                    else {\n                        record['position'] = 'above';\n                    }\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    var rowIndex = i;\n                    do {\n                        var rowData = rowItems[rowIndex + 1];\n                        if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                            if (currentData) {\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                            else {\n                                currentData = this_1.parent.treeGrid.parentData[parentIndex - 1];\n                                if (!currentData) {\n                                    currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                }\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                        }\n                        else {\n                            rowIndex++;\n                            prevInd++;\n                            currentData = this_1.parent.treeGrid.parentData[prevInd];\n                        }\n                    } while (!record['id']);\n                }\n                else if (rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    if (parentIndex !== -1) {\n                        if (parentIndex === 0) {\n                            record['position'] = 'above';\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                                    if (!currentData) {\n                                        currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                    }\n                                    record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                                }\n                                else {\n                                    rowIndex++;\n                                    prevInd++;\n                                    currentData = this_1.parent.treeGrid.parentData[prevInd];\n                                }\n                            } while (!record['id']);\n                        }\n                        else {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.treeGrid.parentData[parentIndex - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                    }\n                }\n                else if (rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length === 1) {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                    }\n                    else {\n                        var childIndex = void 0;\n                        for (var k = 0; k < parentItem.childRecords.length; k++) {\n                            if (parentItem.childRecords[i].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                childIndex = k;\n                                break;\n                            }\n                        }\n                        if (!isNullOrUndefined(childIndex)) {\n                            if (childIndex === 0) {\n                                record['position'] = 'above';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex + 1].ganttProperties.taskId], [], true)[0];\n                            }\n                            else {\n                                record['position'] = 'below';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex - 1].ganttProperties.taskId], [], true)[0];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (rowItems[i].parentItem) {\n                    var parentRecord = void 0;\n                    if (rowItems[i].parentItem.index) {\n                        parentRecord = this_1.parent.flatData[rowItems[i].parentItem.index];\n                    }\n                    else {\n                        parentRecord = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].parentItem.taskId)];\n                    }\n                    if (parentRecord.childRecords.length === 1) {\n                        record['position'] = 'bottom';\n                        record['id'] = 'R' + parentRecord.ganttProperties.taskId;\n                        if (detail === 'deletedIndexes') {\n                            record['position'] = 'child';\n                            record['index'] = parentRecord.index;\n                        }\n                    }\n                    else {\n                        var currentIndex = void 0;\n                        for (var j = 0; j < parentRecord.childRecords.length; j++) {\n                            if (parentRecord.childRecords[j].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                currentIndex = j;\n                                break;\n                            }\n                        }\n                        var previousRecord = parentRecord.childRecords[currentIndex - 1];\n                        if (previousRecord && previousRecord.parentItem && previousRecord.parentUniqueID === parentRecord.uniqueID) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], ['T' + this_1.parent.flatData[this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                            if (detail === 'deletedIndexes') {\n                                record['index'] = this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1;\n                            }\n                        }\n                        else {\n                            var index = void 0;\n                            if (currentIndex !== parentRecord.childRecords.length - 1) {\n                                record['position'] = 'above';\n                                if (currentIndex === 0 && parentRecord.childRecords[1]) {\n                                    index = parentRecord.childRecords[1].index;\n                                }\n                                else if (parentRecord.childRecords[currentIndex - 1]) {\n                                    index = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                                var currentData = this_1.parent.flatData[index];\n                                var recIndex = index;\n                                var rowIndex = i;\n                                do {\n                                    var rowData = rowItems[rowIndex + 1];\n                                    if (!rowData ||\n                                        (rowData && currentData.ganttProperties.taskId.toString() !==\n                                            rowData.ganttProperties.taskId.toString())) {\n                                        if (currentData.parentItem) {\n                                            record['id'] = extend([], ['T' + currentData.ganttProperties.taskId], [], true)[0];\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = extend([], [currentData.index], [], true)[0];\n                                                if (currentIndex === 0 && parentRecord.childRecords[1].ganttProperties.taskId ===\n                                                    currentData.ganttProperties.taskId) {\n                                                    record['index'] = record['index'] - 1;\n                                                }\n                                            }\n                                        }\n                                        else {\n                                            record['id'] = extend([], ['R' + rowItems[i].parentItem.taskId], [], true)[0];\n                                            record['position'] = 'child';\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = rowItems[i].parentItem.index;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        rowIndex++;\n                                        recIndex++;\n                                        currentData = this_1.parent.flatData[recIndex];\n                                    }\n                                } while (!record['id']);\n                            }\n                            else {\n                                if (currentIndex === parentRecord.childRecords.length - 1) {\n                                    record['position'] = 'below';\n                                }\n                                else {\n                                    record['position'] = 'above';\n                                }\n                                record['id'] = 'T' + parentRecord.childRecords[currentIndex - 1].ganttProperties.taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    var parentData = this_1.parent.treeGrid.parentData.filter(function (parentData) {\n                        return parentData.ganttProperties.taskId === rowItems[i].ganttProperties.taskId;\n                    })[0];\n                    var parentDataIndex = this_1.parent.treeGrid.parentData.indexOf(parentData);\n                    if (parentDataIndex === 0) {\n                        record['position'] = 'above';\n                        var currentData = void 0;\n                        var prevInd = void 0;\n                        for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                            if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                                currentData = this_1.parent.treeGrid.parentData[k + 1];\n                                prevInd = k + 1;\n                                break;\n                            }\n                        }\n                        var rowIndex = i;\n                        do {\n                            var rowData = rowItems[rowIndex + 1];\n                            if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                record['id'] = 'R' + currentData['ganttProperties'].taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = currentData['index'];\n                                }\n                            }\n                            else {\n                                rowIndex++;\n                                prevInd++;\n                                currentData = this_1.parent.treeGrid.parentData[prevInd];\n                            }\n                        } while (!record['id']);\n                    }\n                    else {\n                        record['position'] = 'below';\n                        record['id'] = 'R' + this_1.parent.treeGrid.parentData[parentDataIndex - 1]['ganttProperties']['taskId'];\n                        if (detail === 'deletedIndexes') {\n                            record['index'] = this_1.parent.treeGrid.parentData[parentDataIndex - 1]['index'];\n                        }\n                    }\n                }\n            }\n            if (detail === 'deletedIndexes') {\n                var parent_1 = this_1.parent.getTaskByUniqueID(record['data'].parentUniqueID);\n                if (this_1.parent.editModule.dialogModule.ganttResources.length === 0 && records[detail].indexOf(record) === -1) {\n                    records[detail].push(record);\n                }\n                else {\n                    for (var j = 0; j < this_1.parent.editModule.dialogModule.ganttResources.length; j++) {\n                        if (this_1.parent.editModule.dialogModule.ganttResources[j][this_1.parent.resourceFields.id] !==\n                            parent_1.ganttProperties.taskId && records[detail].indexOf(record) === -1) {\n                            records[detail].push(record);\n                        }\n                    }\n                }\n            }\n            else {\n                if (!records[detail].some(function (existingRecord) { return existingRecord.data.ganttProperties.taskId === record['data'].ganttProperties.taskId; })) {\n                    records[detail].push(record);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < rowItems.length; i++) {\n            _loop_1(i);\n        }\n    };\n    UndoRedo.prototype.getModuleName = function () {\n        return 'undoRedo';\n    };\n    /**\n     * Destroys the UndoRedo of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    UndoRedo.prototype.destroy = function () {\n        if (!this.parent.enableUndoRedo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule = undefined;\n        }\n    };\n    return UndoRedo;\n}());\nexport { UndoRedo };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, addClass } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n// eslint-disable-next-line\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n *\n * @returns {void} .\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.segmentIndex = -1;\n        this.isCntxtMenuDependencyDelete = false;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var position;\n        var data;\n        var taskfields;\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                if (!isNullOrUndefined(this.rowData)) {\n                    if (typeof this.rowData.ganttProperties.taskId === 'string') {\n                        this.parent.openEditDialog(this.rowData.ganttProperties.rowUniqueID);\n                    }\n                    else {\n                        this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                    }\n                }\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                if (!isNullOrUndefined(this.rowData)) {\n                    position = this.item;\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    if (data[taskfields.endDate]) {\n                        this.parent.setRecordValue(taskfields.endDate, this.rowData.ganttProperties.endDate, data, true);\n                    }\n                    if (!isNullOrUndefined(taskfields.dependency)) {\n                        data[taskfields.dependency] = null;\n                    }\n                    if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                        delete data[taskfields.child];\n                    }\n                    if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                        data[taskfields.parentID] = null;\n                    }\n                    if (this.rowData) {\n                        var rowIndex = this.parent.updatedRecords.indexOf(this.rowData);\n                        this.parent.addRecord(data, position, rowIndex);\n                    }\n                }\n                else if (this.parent.flatData.length === 0) {\n                    this.parent.addRecord();\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                if (!isNullOrUndefined(this.rowData)) {\n                    this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                }\n                else if (this.parent.flatData.length === 0 && this.item === 'Milestone') {\n                    var data_1 = this.parent.editModule.createNewRecord();\n                    var taskSettings = this.parent.taskFields;\n                    if (this.parent.taskFields['duration']) {\n                        data_1[taskSettings['duration']] = 0;\n                    }\n                    if (this.parent.taskFields['milestone']) {\n                        data_1[taskSettings['milestone']] = true;\n                    }\n                    this.parent.addRecord(data_1);\n                }\n                break;\n            case 'DeleteTask':\n                if ((this.parent.selectionSettings.mode !== 'Cell' && this.parent.selectionModule.selectedRowIndexes.length > 1)\n                    || (this.parent.selectionSettings.mode === 'Cell' && this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                    this.parent.editModule.startDeleteAction();\n                }\n                else {\n                    this.parent.editModule.deleteRecord(this.rowData);\n                }\n                break;\n            case 'ToTask':\n                if (!isNullOrUndefined(this.rowData)) {\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (!isNullOrUndefined(taskfields.duration)) {\n                        data[taskfields.duration] = parseInt(data[taskfields.duration], 10) <= 0 ? 1 : data[taskfields.duration];\n                    }\n                    else {\n                        data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                        var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                        endDate.setDate(endDate.getDate() + 1);\n                        data[taskfields.endDate] = endDate;\n                    }\n                    if (!isNullOrUndefined(data[taskfields.milestone])) {\n                        if (data[taskfields.milestone] === true) {\n                            data[taskfields.milestone] = false;\n                        }\n                    }\n                    var taskType = !isNullOrUndefined(this.rowData.ganttProperties.taskType) ? this.rowData.ganttProperties.taskType\n                        : this.parent.taskType;\n                    if (taskType === 'FixedWork' || taskType === 'FixedUnit') {\n                        var totSeconds = void 0;\n                        if (this.parent.weekWorkingTime.length > 0) {\n                            totSeconds = this.parent['getSecondsPerDay'](this.rowData.ganttProperties.startDate ?\n                                this.rowData.ganttProperties.startDate : this.rowData.ganttProperties.endDate);\n                        }\n                        else {\n                            totSeconds = this.parent.secondsPerDay;\n                        }\n                        var actualOneDayWork = (totSeconds) / 3600;\n                        if (!isNullOrUndefined(data[taskfields.work])) {\n                            data[taskfields.work] = actualOneDayWork;\n                        }\n                        else {\n                            this.rowData.ganttProperties.work = actualOneDayWork;\n                        }\n                    }\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    this.parent.updateRecordByID(data);\n                }\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.isCntxtMenuDependencyDelete = true;\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n            case 'Indent':\n                this.parent.indent();\n                break;\n            case 'Outdent':\n                this.parent.outdent();\n                break;\n            case 'Left':\n            case 'Right':\n                this.mergeCall(this.item);\n                break;\n            case 'SplitTask':\n                this.splitTaskCall(args);\n                break;\n        }\n    };\n    ContextMenu.prototype.splitTaskCall = function (args) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(args.element);\n        if (isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit !== 'Hour') {\n            currentClickedDate.setHours(0, 0, 0, 0);\n        }\n        var eventArgs = {\n            rowData: this.rowData,\n            requestType: 'splitTaskbar',\n            splitDate: currentClickedDate,\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            _this.parent.chartRowsModule.splitTask(_this.rowData[taskSettings.id], currentClickedDate);\n            _this.parent.chartRowsModule.updateSegment(_this.rowData.ganttProperties.segments, _this.rowData.ganttProperties.taskId);\n        });\n    };\n    ContextMenu.prototype.mergeCall = function (item) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var segments = this.rowData.ganttProperties.segments;\n        var firstSegment = item === 'Right' ? this.segmentIndex : segments[this.segmentIndex - 1].segmentIndex;\n        var secondSegment = item === 'Left' ? this.segmentIndex : segments[this.segmentIndex + 1].segmentIndex;\n        var segmentIndexes = [\n            { 'firstSegmentIndex': firstSegment, 'secondSegmentIndex': secondSegment }\n        ];\n        var eventArgs = {\n            rowData: this.rowData,\n            mergeSegmentIndexes: segmentIndexes,\n            requestType: 'mergeSegment',\n            cancel: false,\n            target: this.targetElement\n        };\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArgs.cancel === false) {\n                _this.parent.chartRowsModule.mergeTask(_this.rowData[taskSettings.id], segmentIndexes);\n            }\n        });\n    };\n    // eslint-disable-next-line\n    ContextMenu.prototype.getClickedDate = function (element) {\n        // context menu click position\n        var ganttElementPositionLeft;\n        // task left position\n        if (this.parent.enableRtl) {\n            var box = this.parent.element.getBoundingClientRect();\n            var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n                document.body.scrollLeft;\n            var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n            ganttElementPositionLeft = box.left + scrollLeft - clientLeft;\n        }\n        else {\n            ganttElementPositionLeft = this.parent.getOffsetRect(this.parent.element).left;\n        }\n        var pageLeft;\n        var currentTaskDifference;\n        if (this.parent.enableRtl) {\n            pageLeft = Math.abs(ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetWidth -\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft);\n            currentTaskDifference = Math.abs(this.clickedPosition - pageLeft);\n        }\n        else {\n            pageLeft = ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetLeft +\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft;\n            currentTaskDifference = this.clickedPosition - pageLeft;\n        }\n        var splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.perDayWidth);\n        var startDate = this.rowData.ganttProperties.startDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n        }\n        var contextMenuClickDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && (this.parent.timelineSettings.bottomTier.unit === 'Minutes' || this.parent.timelineSettings.bottomTier.unit === 'Hour')) {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n            contextMenuClickDate = this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        else {\n            contextMenuClickDate =\n                this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.rowData.ganttProperties.duration > 1 ?\n                    this.rowData.ganttProperties.durationUnit : (this.parent.timelineSettings.bottomTier.unit !== 'None') ?\n                    this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase() :\n                    this.parent.timelineSettings.topTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        return contextMenuClickDate;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        var target = args.event ? args.event.target :\n            !this.parent.focusModule ? this.parent.focusModule.getActiveElement() :\n                this.parent.ganttChartModule.targetElement;\n        // Closed edited cell before opening context menu\n        if ((!isNullOrUndefined(this.parent.editModule) && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit && target.parentElement.classList.contains('e-row')) || target.parentElement.classList.contains('e-treecolumn-container')) {\n            this.parent.treeGrid.closeEdit();\n        }\n        if (!isNullOrUndefined(args.element) && args.element.id === this.parent.element.id + '_contextmenu') {\n            this.clickedPosition = getValue('event', args).clientX;\n        }\n        var targetElement = closest(target, '.e-gantt-child-taskbar');\n        if (targetElement) {\n            this.targetElement = args.target = targetElement;\n        }\n        args.gridRow = closest(target, '.e-row');\n        args.chartRow = closest(target, '.e-chart-row');\n        var menuElement = closest(target, '.e-gantt');\n        var editForm = closest(target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit && this.parent.editModule.dialogModule.dialogObj\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if (this.parent.readOnly) {\n            this.contextMenu.enableItems(['Add', 'Save', 'Convert', 'Delete Dependency', 'Delete Task', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'], false);\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement) || !isNullOrUndefined(closest(target, '.e-content'))) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.gridRow.getAttribute('data-rowindex'), 0);\n            }\n            else if (args.chartRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.chartRow.getAttribute('data-rowindex'), 0);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection && !args.parentItem && !isNullOrUndefined(args.chartRow)) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.updatedRecords[parseInt(rowIndex.toString(), 10)];\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                // let target: EventTarget = target;\n                if (!item.separator) {\n                    if ((target.classList.contains('e-gantt-unscheduled-taskbar')) && ((item.text === this.getLocale('splitTask')) || (item.text === this.getLocale('mergeTask')))) {\n                        this.hideItems.push(item.text);\n                    }\n                    else {\n                        this.updateItemStatus(item, target, rowIndex);\n                    }\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            args.hideChildItems = [];\n            if (!isNullOrUndefined(args.rowData) && args.rowData.level === 0 && this.parent.viewType === 'ResourceView') {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (arg) {\n                callBackPromise_1.resolve(arg);\n                _this.hideItems = arg.hideItems;\n                _this.disableItems = arg.disableItems;\n                if (!arg.parentItem && arg.hideItems.length === arg.items.length) {\n                    _this.revertItemStatus();\n                    arg.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n                if (args.hideChildItems.length > 0) {\n                    _this.contextMenu.hideItems(args.hideChildItems);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target, rowIndex) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        var subMenu = [];\n        var taskbarElement = closest(target, '.e-gantt-child-taskbar') ||\n            closest(target, 'e-taskbar-right-resizer') || closest(target, 'e-taskbar-left-resizer');\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.rowData) && !this.rowData.ganttProperties.isMilestone) {\n                            subMenu.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu;\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'DeleteDependency':\n                    {\n                        var items = this.getPredecessorsItems();\n                        if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords && !this.parent.allowParentDependency) {\n                            this.hideItems.push(item.text);\n                        }\n                        else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        else if (items.length > 0) {\n                            item.items = items;\n                        }\n                        break;\n                    }\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'Indent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var index = this.parent.selectedRowIndex;\n                            var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n                            if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n                                this.parent.viewType === 'ResourceView' ||\n                                this.parent.updatedRecords[parseInt(index.toString(), 10)].level - prevRecord.level === 1) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'Outdent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var ind = this.parent.selectionModule.getSelectedRowIndexes()[0];\n                            var isSelect = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            if (!this.parent.editSettings.allowEditing || ind === -1 || ind === 0 || !isSelect ||\n                                this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[parseInt(ind.toString(), 10)].level === 0) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'SplitTask':\n                    {\n                        var isBottomTierMinute = false;\n                        var isBottomTierHour = false;\n                        var taskSettings = this.parent.taskFields;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            isBottomTierMinute = this.parent.timelineSettings.bottomTier.unit === 'Minutes';\n                            isBottomTierHour = this.parent.timelineSettings.bottomTier.unit === 'Hour';\n                        }\n                        if (this.parent.readOnly || !taskbarElement || isNullOrUndefined(taskSettings.segments) ||\n                            this.parent.currentViewData[parseInt(rowIndex.toString(), 10)].hasChildRecords ||\n                            (this.parent.currentViewData[parseInt(rowIndex.toString(), 10)].ganttProperties.duration < 2\n                                && !(isBottomTierMinute || isBottomTierHour))) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'MergeTask':\n                    if (this.parent.readOnly || !taskbarElement) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        this.mergeItemVisiblity(target, item);\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.mergeItemVisiblity = function (target, item) {\n        var subMenu = [];\n        var taskfields = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(target);\n        this.segmentIndex = this.parent.chartRowsModule.getSegmentIndex(currentClickedDate, this.rowData);\n        var segments = this.rowData.ganttProperties.segments;\n        if (!isNullOrUndefined(segments) && segments.length > 0) {\n            if (isNullOrUndefined(taskfields.segments) && this.segmentIndex === -1) {\n                this.updateItemVisibility(item.text);\n            }\n            else {\n                if (this.segmentIndex === 0) {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                }\n                else if (this.segmentIndex === segments.length - 1) {\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                else {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                item.items = subMenu;\n            }\n        }\n        else {\n            this.hideItems.push(item.text);\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function (args) {\n        this.isOpen = true;\n        var firstMenuItem = this.parent['args'] = args.element.querySelectorAll('li:not(.e-menu-hide):not(.e-disabled)')[0];\n        if (!isNullOrUndefined(firstMenuItem)) {\n            addClass([firstMenuItem], 'e-focused');\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : null\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Indent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('indent'), this.getIconCSS(cons.indentIcon, iconCSS));\n                break;\n            case 'Outdent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('outdent'), this.getIconCSS(cons.outdentIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                if (this.parent.viewType !== 'ResourceView') {\n                    contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                }\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'SplitTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('splitTask'));\n                break;\n            case 'MergeTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('mergeTask'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     *\n     * @returns {string} .\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Gantt Excel Export module\n *\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n *\n * @hidden\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * @returns {HTMLAllCollection} .\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, classList, addClass, getValue, closest } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { isCountRequired } from '../base/common';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.updateCollection = {};\n        /** @hidden */\n        this.isSharedTask = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-ganttdrag')[0];\n        var errorelem = dragelem.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            var errorVal = dragelem.querySelector('.errorValue');\n            var content = dragelem.querySelector('.e-rowcell').innerHTML;\n            if (errorVal) {\n                content = errorVal.innerHTML;\n                errorVal.parentNode.removeChild(errorVal);\n            }\n            dragelem.querySelector('.e-rowcell').innerHTML = '';\n            var spanContent = document.createElement('span');\n            spanContent.className = 'errorValue';\n            spanContent.style.paddingLeft = '16px';\n            spanContent.innerHTML = content;\n            dragelem.querySelector('.e-rowcell').appendChild(ele);\n            dragelem.querySelector('.e-rowcell').appendChild(spanContent);\n        }\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left;\n        var top;\n        if (this.parent.isAdaptive) {\n            /* eslint-disable-next-line */\n            left = args.originalEvent.event.touches[0].clientX - ganttLeft;\n            /* eslint-disable-next-line */\n            top = args.originalEvent.event.touches[0].clientY - ganttTop;\n        }\n        else {\n            left = getValue('event', args.originalEvent).clientX - ganttLeft;\n            top = getValue('event', args.originalEvent).clientY - ganttTop;\n        }\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.readOnly) {\n            args.cancel = true;\n        }\n        if (this.parent.viewType === 'ResourceView' && getValue('level', args.data[0]) === 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        // const ganttDragelem: Element = document.querySelector('.e-ganttdrag');\n        // if (ganttDragelem) {\n        //     ganttDragelem.remove();\n        // }\n        var gridRow = closest(args.target, '.e-row');\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        var dropIndex = gridRow ? parseInt(gridRow.getAttribute('data-rowindex'), 10) : args.dropIndex;\n        args.dropIndex = dropIndex;\n        args.dropRecord = this.parent.updatedRecords[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.dropPosition === 'middleSegment') {\n                if (args.dropRecord.level === 1 || args.dropRecord.uniqueID === getValue('parentItem', args.data[0]).uniqueID) {\n                    args.cancel = true; // preventing to drop the record as child to any child records\n                }\n            }\n            if (args.dropPosition !== 'middleSegment') {\n                if (args.dropRecord.level === 0 || getValue('parentItem', args.data[0]).uniqueID === args.dropRecord.parentItem.uniqueID) {\n                    args.cancel = true;\n                }\n            }\n        }\n        if (!args.cancel) {\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            if (!args.cancel) {\n                this.dropRows(args, true); // method to update the data collections based on drop action\n                args.cancel = true;\n            }\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        if (!this.parent.readOnly) {\n            this.dropPosition = args.dropPosition;\n            if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n                var gObj = this.parent;\n                this.droppedRecord = gObj.updatedRecords[args.dropIndex];\n                if (this.parent.undoRedoModule && (this.parent['isUndoRedoItemPresent']('RowDragAndDrop'))) {\n                    if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        if (this.parent.undoRedoModule['redoEnabled']) {\n                            this.parent.undoRedoModule['disableRedo']();\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        if (!args.target && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n                            this.parent.editModule.taskbarEditModule.taskBarEditAction) {\n                            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = [];\n                        }\n                        else {\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        var datas = [];\n                        var _loop_1 = function (i) {\n                            datas.push(this_1.parent.flatData.filter(function (data) {\n                                return args.data[i]['ganttProperties'].taskId === data.ganttProperties.taskId;\n                            })[0]);\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < args.data.length; i++) {\n                            _loop_1(i);\n                        }\n                        var rowItems = extend([], [], datas, true);\n                        var records = {};\n                        if (args['name']) {\n                            records['action'] = 'RowDragAndDrop';\n                        }\n                        else {\n                            records['action'] = 'TaskbarDragAndDrop';\n                        }\n                        records['beforeDrop'] = [];\n                        var previousDetails = {};\n                        previousDetails['dropRecord'] = extend([], [], [args.dropRecord ? args.dropRecord : this.droppedRecord], true)[0];\n                        previousDetails['data'] = extend([], [], args.data, true);\n                        if (args.dropPosition === 'middleSegment') {\n                            previousDetails['dropPosition'] = 'child';\n                        }\n                        else if (args.dropPosition === 'topSegment') {\n                            previousDetails['dropPosition'] = 'above';\n                        }\n                        else if (args.dropPosition === 'bottomSegment') {\n                            previousDetails['dropPosition'] = 'below';\n                        }\n                        records['afterDrop'] = previousDetails;\n                        this.parent.undoRedoModule['findPosition'](rowItems, records, 'beforeDrop');\n                        this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n                    }\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                    }\n                }\n                var draggedRecord = void 0;\n                var dragRecords = [];\n                var droppedRecord = this.droppedRecord;\n                if (!args.data[0]) {\n                    dragRecords.push(args.data);\n                }\n                else {\n                    dragRecords = args.data;\n                }\n                var count = 0;\n                var dragLength = dragRecords.length;\n                var _loop_2 = function (i) {\n                    this_2.parent.isOnEdit = true;\n                    draggedRecord = dragRecords[i];\n                    this_2.draggedRecord = draggedRecord;\n                    if (this_2.dropPosition !== 'Invalid') {\n                        if (this_2.parent.viewType === 'ResourceView') {\n                            this_2.checkisSharedTask();\n                            if (this_2.draggedRecord.level !== 0) {\n                                this_2.previousParent = this_2.draggedRecord.parentItem.uniqueID;\n                            }\n                        }\n                        if (this_2.isSharedTask) {\n                            return { value: void 0 };\n                        }\n                        if (isByMethod) {\n                            this_2.deleteDragRow();\n                        }\n                        var recordIndex1 = this_2.treeGridData.indexOf(droppedRecord);\n                        if (this_2.dropPosition === 'topSegment') {\n                            this_2.dropAtTop(recordIndex1);\n                        }\n                        if (this_2.dropPosition === 'bottomSegment') {\n                            if (!this_2.isSharedTask) {\n                                if (!droppedRecord.hasChildRecords) {\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + 1, 0, this_2.draggedRecord);\n                                    this_2.parent.ids.splice(recordIndex1 + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var taskId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n                                    }\n                                }\n                                else {\n                                    count = this_2.parent.editModule.getChildCount(droppedRecord, 0);\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord);\n                                    /* eslint-disable-next-line */\n                                    this_2.parent.ids.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var spliceId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + count + 1, 0, spliceId);\n                                    }\n                                }\n                                this_2.parent.setRecordValue('parentItem', this_2.treeGridData[recordIndex1].parentItem, draggedRecord);\n                                this_2.parent.setRecordValue('parentUniqueID', this_2.treeGridData[recordIndex1].parentUniqueID, draggedRecord);\n                                this_2.parent.setRecordValue('level', this_2.treeGridData[recordIndex1].level, draggedRecord);\n                                if (draggedRecord.hasChildRecords) {\n                                    var level = 1;\n                                    this_2.updateChildRecordLevel(draggedRecord, level);\n                                    this_2.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                                }\n                                if (droppedRecord.parentItem) {\n                                    var rec = this_2.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                                    var childRecords = rec;\n                                    var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                                    childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                                }\n                            }\n                        }\n                        if (this_2.dropPosition === 'middleSegment') {\n                            this_2.dropMiddle(recordIndex1);\n                            if (droppedRecord.childRecords.length > 0) {\n                                delete droppedRecord.ganttProperties.segments;\n                                delete droppedRecord.taskData[this_2.parent.taskFields.segments];\n                            }\n                        }\n                        if (this_2.treeGridData.length !== 0) {\n                            for (var i_1 = 0; i_1 < this_2.treeGridData.length; i_1++) {\n                                this_2.treeGridData[parseInt(i_1.toString(), 10)].index = i_1;\n                                if (!isNullOrUndefined(this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem)) {\n                                    var updatedParent = getValue('uniqueIDCollection.' + this_2.treeGridData[parseInt(i_1.toString(), 10)].parentUniqueID, this_2.parent.treeGrid);\n                                    this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        }\n                        // eslint-disable-next-line\n                        if (!isNullOrUndefined(draggedRecord.parentItem && this_2.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                            this_2.updateParentRecords.push(draggedRecord.parentItem);\n                        }\n                    }\n                    if (!this_2.parent.enableVirtualization) {\n                        var data_1 = gObj.flatData;\n                        var startIndex = void 0;\n                        var endIndex = void 0;\n                        var ganttData_1 = this_2.parent.dataSource;\n                        var uniqueTaskID_1 = this_2.parent.taskFields.id;\n                        if (draggedRecord.index < droppedRecord.index) {\n                            startIndex = draggedRecord.index;\n                            var _loop_4 = function (i_2) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_2][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > droppedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_2 = 0; i_2 < ganttData_1.length; i_2++) {\n                                var state_2 = _loop_4(i_2);\n                                if (state_2 === \"break\")\n                                    break;\n                            }\n                        }\n                        else {\n                            startIndex = droppedRecord.index;\n                            var _loop_5 = function (i_3) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_3][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > draggedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_3 = 0; i_3 < ganttData_1.length; i_3++) {\n                                var state_3 = _loop_5(i_3);\n                                if (state_3 === \"break\")\n                                    break;\n                            }\n                        }\n                        var _loop_6 = function (i_4) {\n                            if (!isNullOrUndefined(data_1[i_4])) {\n                                data_1[i_4].index = i_4;\n                                if (!isNullOrUndefined(data_1[i_4].parentItem)) {\n                                    var updatedParent = data_1.filter(function (e) {\n                                        return e.uniqueID === data_1[i_4].parentUniqueID;\n                                    })[0];\n                                    data_1[i_4].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        };\n                        for (var i_4 = startIndex; i_4 <= endIndex; i_4++) {\n                            _loop_6(i_4);\n                        }\n                    }\n                    gObj.rowDragAndDropModule.refreshDataSource();\n                };\n                var this_2 = this;\n                for (var i = 0; i < dragLength; i++) {\n                    var state_1 = _loop_2(i);\n                    if (typeof state_1 === \"object\")\n                        return state_1.value;\n                }\n                if (this.dropPosition === 'middleSegment') {\n                    if (droppedRecord.ganttProperties.predecessor) {\n                        var len = droppedRecord.ganttProperties.predecessor.length;\n                        for (var count_1 = 0; count_1 < len; count_1++) {\n                            if (droppedRecord.ganttProperties.predecessor && droppedRecord.ganttProperties.predecessor[count_1]) {\n                                var fromRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].from);\n                                var toRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].to);\n                                var validPredecessor = this.parent.connectorLineEditModule.validateParentPredecessor(fromRecord, toRecord);\n                                if (droppedRecord.ganttProperties.predecessor && (!validPredecessor ||\n                                    !this.parent.allowParentDependency)) {\n                                    this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                                    droppedRecord.ganttProperties.predecessor.splice(0, 1);\n                                    if (droppedRecord.ganttProperties.predecessorsName) {\n                                        var splittedName = droppedRecord.ganttProperties.predecessorsName.split(',');\n                                        for (var i = 0; i < splittedName.length; i++) {\n                                            if (splittedName[i].indexOf(draggedRecord.ganttProperties.taskId + '') !== -1) {\n                                                splittedName.splice(i, 1);\n                                            }\n                                        }\n                                        var validatedPredecessorNames = splittedName.join();\n                                        droppedRecord.ganttProperties.predecessorsName = validatedPredecessorNames;\n                                        droppedRecord[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                        droppedRecord.taskData[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (droppedRecord.ganttProperties.isMilestone) {\n                        this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                        if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                            if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                                droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                            }\n                        }\n                    }\n                }\n                if (this.parent.viewType === 'ResourceView' && !this.isSharedTask) {\n                    var parentUniqueID = void 0;\n                    if (this.dropPosition === 'middleSegment') {\n                        parentUniqueID = this.droppedRecord.uniqueID;\n                    }\n                    else {\n                        parentUniqueID = this.droppedRecord.parentItem ?\n                            this.droppedRecord.parentItem.uniqueID : this.droppedRecord.uniqueID;\n                    }\n                    var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n                    var editedObj = {};\n                    editedObj[this.parent.taskFields.resourceInfo] = [];\n                    editedObj[this.parent.taskFields.resourceInfo].push(droppedParentItem.ganttProperties.taskId);\n                    this.removeExistingResources();\n                    var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n                    var currentTask = this.draggedRecord;\n                    if (isNullOrUndefined(currentTask.ganttProperties.resourceInfo)) {\n                        currentTask.ganttProperties.resourceInfo = [];\n                    }\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        currentTask.ganttProperties.resourceInfo = [];\n                        currentTask.ganttProperties.sharedTaskUniqueIds = [currentTask.ganttProperties.rowUniqueID];\n                    }\n                    else {\n                        currentTask.ganttProperties.resourceInfo.push(tempResourceInfo[0]);\n                    }\n                    this.updateCurrentTask(currentTask);\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        this.deleteSharedResourceTask();\n                    }\n                    else {\n                        this.updateSharedResourceTask();\n                    }\n                }\n                if (this.parent.taskFields.dependency && this.parent.allowParentDependency) {\n                    var isValidPredecessor = true;\n                    var draggedParent = void 0;\n                    var toParent_1;\n                    if (draggedRecord.parentItem) {\n                        draggedParent = this.parent.flatData[this.parent.ids.indexOf(draggedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        draggedParent = draggedRecord;\n                    }\n                    if (droppedRecord.parentItem) {\n                        toParent_1 = this.parent.flatData[this.parent.ids.indexOf(droppedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        toParent_1 = droppedRecord;\n                    }\n                    var validateRecords = void 0;\n                    if (toParent_1.uniqueID === draggedParent.uniqueID || (draggedParent.parentItem &&\n                        toParent_1.uniqueID === this.parent.flatData[this.parent.ids.indexOf(draggedParent.parentItem.taskId)].uniqueID)) {\n                        validateRecords = this.parent.currentViewData.filter(function (data) {\n                            if ((data.ganttProperties.predecessor && data.ganttProperties.predecessor.length > 0)) {\n                                for (var i = 0; i < data.ganttProperties.predecessor.length; i++) {\n                                    return (parseInt(data.ganttProperties.predecessor[i].to, 10) ===\n                                        parseInt(toParent_1.ganttProperties.taskId, 10) ||\n                                        parseInt(data.ganttProperties.predecessor[i].from, 10) ===\n                                            parseInt(toParent_1.ganttProperties.taskId, 10));\n                                }\n                            }\n                            return null;\n                        });\n                        var predName = [];\n                        for (var i = 0; i < validateRecords.length; i++) {\n                            predName = [];\n                            if (validateRecords[i].ganttProperties.predecessor) {\n                                for (var k = 0; k < validateRecords[i].ganttProperties.predecessor.length; k++) {\n                                    if (parseInt(validateRecords[i].ganttProperties.taskId, 10) !==\n                                        parseInt(validateRecords[i].ganttProperties.predecessor[k].from, 10)) {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].from);\n                                    }\n                                    else {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].to);\n                                    }\n                                }\n                            }\n                            var _loop_3 = function (j) {\n                                var name_1 = predName[j].replace(/\\D/g, '');\n                                var toRec = this_3.parent.currentViewData.filter(function (data) {\n                                    return parseInt(data.ganttProperties.taskId, 10) === parseInt(name_1, 10);\n                                });\n                                isValidPredecessor = this_3.parent.connectorLineEditModule.validateParentPredecessor(validateRecords[i], toRec[0]);\n                                if (!isValidPredecessor) {\n                                    this_3.parent.dataOperation['resetDependency'](validateRecords[i]);\n                                    this_3.parent.dataOperation['resetDependency'](toRec[0]);\n                                }\n                            };\n                            var this_3 = this;\n                            for (var j = 0; j < predName.length; j++) {\n                                _loop_3(j);\n                            }\n                        }\n                    }\n                }\n                // method to update the edited parent records\n                for (var j = 0; j < this.updateParentRecords.length; j++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.editModule &&\n                    this.parent.editModule.taskbarEditModule && this.parent.undoRedoModule &&\n                    this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n                    this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop' &&\n                    this.parent.undoRedoModule['currentAction']['beforeDrop'][0].position !== 'child') {\n                    var dropRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].dropRecord.ganttProperties.taskId.toString())];\n                    this.parent.editModule.taskbarEditModule.taskBarEditRecord = dropRec;\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n                    this.parent.predecessorModule.validatePredecessor(dropRec, [], '');\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n                }\n                this.updateParentRecords = [];\n                this.parent.isOnEdit = false;\n            }\n            if (!isNullOrUndefined(this.parent.editModule)) {\n                this.parent.editModule.refreshRecord(args, true);\n            }\n            if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                this.parent.previousFlatData = extend([], [], this.parent.flatData, true);\n            }\n        }\n        this.parent['oldRecords'] = [];\n    };\n    RowDD.prototype.updateCurrentTask = function (currentTask) {\n        this.parent.dataOperation.updateMappingData(currentTask, 'resourceInfo');\n        this.parent.editModule.updateResourceRelatedFields(currentTask, 'resource');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.editModule.dialogModule.dialogEditValidationFlag = false;\n        this.parent.editModule.dialogModule.validateDuration(currentTask);\n        this.parent.dataOperation.updateWidthLeft(currentTask);\n        this.parent.dataOperation.updateTaskData(currentTask);\n    };\n    RowDD.prototype.deleteSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                if (this.parent.getTaskByUniqueID(this.parent.flatData[i].parentItem.uniqueID).ganttProperties.taskName !== 'Unassigned Task') {\n                    this.removeRecords(this.parent.flatData[i]);\n                }\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype.removeExistingResources = function () {\n        var preParentRecord = this.parent.getTaskByUniqueID(this.previousParent);\n        if (this.draggedRecord.ganttProperties.resourceInfo) {\n            for (var count = 0; count < this.draggedRecord.ganttProperties.resourceInfo.length; count++) {\n                if (this.draggedRecord.ganttProperties.resourceInfo[parseInt(count.toString(), 10)][this.parent.resourceFields.id] ===\n                    preParentRecord.ganttProperties.taskId) {\n                    this.draggedRecord.ganttProperties.resourceInfo.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /*update the record for the same task which are shared with other tasks*/\n    RowDD.prototype.updateSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                this.parent.editModule.updateGanttProperties(this.draggedRecord, this.parent.flatData[i]);\n                this.parent.dataOperation.updateTaskData(this.parent.flatData[i]);\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype._getExistingTaskWithID = function (record) {\n        var existingTasks = [];\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + record.ganttProperties.taskId) {\n                existingTasks.push(this.parent.flatData[i]);\n            }\n        }\n        return existingTasks;\n    };\n    /*Method to remove resource from resource Info collection and update reosurce related fields*/\n    RowDD.prototype.removeResourceInfo = function (record) {\n        var droppedParentItem = this.parent.getTaskByUniqueID(this.draggedRecord.parentItem.uniqueID);\n        if (record.ganttProperties.resourceInfo && record.ganttProperties.resourceInfo.length > 1) {\n            var sameIdTasks = this._getExistingTaskWithID(record);\n            var currentTask = void 0;\n            if (sameIdTasks === null) {\n                return;\n            }\n            for (var i = 0; i < sameIdTasks.length; i++) {\n                currentTask = sameIdTasks[i];\n                var resources = currentTask.ganttProperties.resourceInfo;\n                for (var count = 0; count < resources.length; count++) {\n                    if (resources[count][this.parent.resourceFields.id] === droppedParentItem.ganttProperties.taskId) {\n                        resources.splice(count, 1);\n                        this.parent.setRecordValue('resourceInfo', resources, currentTask.ganttProperties, true);\n                        this.updateCurrentTask(currentTask);\n                        if (!isNullOrUndefined(currentTask.parentItem && this.updateParentRecords.indexOf(currentTask.parentItem) !== -1)) {\n                            this.updateParentRecords.push(currentTask.parentItem);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        var tempDataSource;\n        var idx;\n        var ganttFields = this.parent.taskFields;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempDataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (!isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    tempDataSource[i][ganttFields.child] === droppedRecord.taskData[ganttFields.child]) {\n                    idx = i;\n                }\n                else if (isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    droppedRecord.taskData[ganttFields.id] === tempDataSource[i][ganttFields.id]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource([draggedRecord], rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                var droppedId = this.dropPosition === 'middleSegment' ? this.parent.taskFields.id :\n                    this.parent.taskFields.parentID;\n                draggedRecord[this.parent.taskFields.parentID] = droppedRecord[droppedId];\n                draggedRecord.ganttProperties.parentId = droppedRecord[droppedId];\n                if ((this.parent.viewType === 'ResourceView' && !(this.dropPosition === 'middleSegment')) ||\n                    this.parent.viewType === 'ProjectView') {\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord.taskData[droppedId];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n                draggedRecord.ganttProperties.parentId = null;\n            }\n        }\n        if (this.parent.viewType === 'ProjectView' && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n            this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop') {\n            var dragRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].data[0].ganttProperties.taskId.toString())];\n            this.parent.editModule.taskbarEditModule.taskBarEditRecord = dragRec;\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n            this.parent.predecessorModule.validatePredecessor(dragRec, [], '');\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment' && !this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var recordId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', droppedRecord.uniqueID, draggedRecord);\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.parent.setRecordValue('level', this.draggedRecord.level, this.draggedRecord);\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        this.treeGridData = isCountRequired(this.parent) ? getValue('result', this.parent.treeGrid.dataSource) :\n            this.parent.treeGrid.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        var deletedRow;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.viewType === 'ProjectView') {\n                deletedRow = this.parent.flatData[this.parent.ids.indexOf(this.draggedRecord.ganttProperties.taskId.toString())];\n            }\n            else {\n                if (this.draggedRecord.hasChildRecords) {\n                    deletedRow = this.parent.flatData['R' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n                else {\n                    deletedRow = this.parent.flatData['T' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n            }\n        }\n        else {\n            deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        }\n        this.removeRecords(deletedRow);\n    };\n    //method to check the dropped record has already present in the child collection\n    RowDD.prototype.checkisSharedTask = function () {\n        this.isSharedTask = false;\n        var sharedTask = null;\n        // eslint-disable-next-line\n        var parentUniqueID = this.droppedRecord.level === 0 ? this.droppedRecord.uniqueID : this.droppedRecord.parentItem.uniqueID;\n        var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n        var childTasks = droppedParentItem.childRecords;\n        for (var i = 0; i < childTasks.length; i++) {\n            if ('T' + this.draggedRecord.ganttProperties.taskId === 'T' + childTasks[i].ganttProperties.taskId) {\n                this.isSharedTask = true;\n                sharedTask = childTasks[i];\n            }\n        }\n        if (this.isSharedTask) {\n            this.removeResourceInfo(sharedTask);\n        }\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (!this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(recordIndex1, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(recordIndex1, 0, this.draggedRecord);\n            this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            this.parent.setRecordValue('parentItem', this.droppedRecord.parentItem, this.draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', this.droppedRecord.parentUniqueID, this.draggedRecord);\n            this.parent.setRecordValue('level', this.droppedRecord.level, this.draggedRecord);\n            if (this.parent.viewType === 'ResourceView') {\n                var id = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(recordIndex1, 0, id);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                var level = 1;\n                this.updateChildRecord(this.draggedRecord, recordIndex1);\n                this.updateChildRecordLevel(this.draggedRecord, level);\n            }\n            if (this.droppedRecord.parentItem) {\n                var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n                var childRecords = rec;\n                var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n                childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n            }\n            /* eslint-disable-next-line */\n            if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            this.parent.setRecordValue('level', currentRecord.level, currentRecord);\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    // eslint-disable-next-line\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                this.ganttData.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var deletedRow = record;\n        var flatParentData = deletedRow && deletedRow.parentItem ? this.parent.getParentTask(deletedRow.parentItem) : null;\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = [];\n                if (flatParentData) {\n                    childRecords = flatParentData.childRecords;\n                }\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    if (this.parent.viewType === 'ResourceView' && childRecords.length === 1) {\n                        //For updating the parent record which has zero parent reords.\n                        this.parent.isOnDelete = true;\n                        childRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        childRecords[0].isDelete = false;\n                    }\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID && flatParentData.taskData[this.parent.taskFields.child]) {\n                        flatParentData.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.taskId.toString());\n                if (this.parent.viewType === 'ProjectView' || (this.parent.viewType === 'ResourceView' && this.dropPosition !== 'middleSegment')) {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 && this.parent.viewType !== 'ResourceView' ?\n                    dataSource : this.parent.updatedRecords;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                            idx = i;\n                        }\n                    }\n                    else {\n                        if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                            idx = i;\n                        }\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    var tempIndex = this.treeGridData.indexOf(deletedRow);\n                    this.treeGridData.splice(tempIndex, 1);\n                    this.parent.ids.splice(tempIndex, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(deletedRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(deletedRow), 1);\n                    }\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(idx, 1);\n                    }\n                }\n            }\n            var recordIndex = this.treeGridData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.treeGridData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(deletedRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n                }\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            var ganttData = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                ganttData = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                ganttData = this.parent.dataSource;\n            }\n            for (var j = 0; j < ganttData.length; j++) {\n                if (ganttData[j][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = j;\n                }\n            }\n            if (idx !== -1) {\n                if (ganttData.length > 0) {\n                    ganttData.splice(idx, 1);\n                }\n                var tempIndex = this.treeGridData.indexOf(currentRecord);\n                this.treeGridData.splice(tempIndex, 1);\n                this.parent.ids.splice(tempIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (!this.parent.readOnly) {\n            if (fromIndexes[0] !== toIndex && (position === 'above' || position === 'below' || position === 'child')) {\n                if (position === 'above') {\n                    this.dropPosition = 'topSegment';\n                }\n                if (position === 'below') {\n                    this.dropPosition = 'bottomSegment';\n                }\n                if (position === 'child') {\n                    this.dropPosition = 'middleSegment';\n                }\n                var prevData = void 0;\n                if (this.parent.undoRedoModule) {\n                    prevData = extend([], [], [this.parent.undoRedoModule['currentAction']], true)[0];\n                }\n                var data = [];\n                for (var i = 0; i < fromIndexes.length; i++) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && (prevData['action'] === 'RowDragAndDrop' || prevData['action'] === 'TaskbarDragAndDrop')) {\n                        data[i] = prevData['beforeDrop'][i].data;\n                    }\n                    else {\n                        data[i] = this.parent.flatData[fromIndexes[i]];\n                    }\n                }\n                var isByMethod = true;\n                var args = {\n                    data: data,\n                    dropIndex: toIndex,\n                    dropPosition: this.dropPosition\n                };\n                this.dropRows(args, isByMethod);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfFontFamily, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            return this.ganttStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.footer.borderColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.borderColor = new PdfColor(206, 206, 206);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(240, 173, 78);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(240, 173, 78);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(117, 56, 201);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(87, 42, 150);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(87, 42, 150);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(255, 193, 7);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(255, 193, 7);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(133, 83, 241);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(102, 40, 238);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(102, 40, 238);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(216, 59, 1);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(216, 59, 1);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(154, 56, 186);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(109, 24, 136);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(109, 24, 136);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(193, 87, 0);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(193, 87, 0);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(0, 135, 134);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n *\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @returns {number} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @template K\n     * @returns {K[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @template V\n     * @returns {V[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @returns {V} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n *\n * @hidden\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     *\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         *\n         * @param {PdfPen} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         *\n         * @returns {PdfBorders} .\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\n/** @hidden */\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         *\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         *\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         *\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         *\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         *\n         * @param {number} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n *\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     *\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\nimport { pointToPixel } from '../../base/utils';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        if (isNullOrUndefined(param)) {\n            throw Error('Argument Null Expection');\n        }\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* eslint-disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = (this.treegrid['taskbar'].isAutoFit()) ? pointToPixel(this.currentGraphics.clientSize.width) - this.currentBounds.x : this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.treegrid.columns.getColumn(i).width : 0;\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            height = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height);\n                }\n            }\n            else if (this.currentBounds.y + height > this.currentPageBounds.height ||\n                this.currentBounds.y + height > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (column.isTreeColumn) {\n                    leftAdjustment = (row.level) * 10;\n                }\n                var cancelSpans = ((cell.columnSpan > 1) && (i > this.cellEndIndex + 1));\n                if (!cancelSpans) {\n                    for (var j = 1; j < cell.columnSpan; j++) {\n                        row.cells.getCell(i + j).isCellMergeContinue = true;\n                    }\n                }\n                var size = new SizeF(column.width, height);\n                if (cell.columnSpan > 1) {\n                    size = new SizeF(cell.width, height);\n                    i += cell.columnSpan;\n                }\n                if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                    cell.style.format = column.format;\n                }\n                cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                /* eslint-disable-next-line */\n                if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                    row.rowOverflowIndex = this.cellEndIndex;\n                }\n                location_1.x += column.width;\n                leftAdjustment = 0;\n            }\n            this.currentBounds.y += height;\n            /* eslint-disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     * @param {RowLayoutResult} result .\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     *\n     * @param {PdfPage} page .\n     * @param {RectangleF} bounds .\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     *\n     * @param {PdfLayoutFormat} baseFormat .\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseBeginCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        // }\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseEndCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        // }\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 === null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                // eslint-disable-next-line\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = (this.rows.getRow(0).cells.count !== 0) ? this.rows.getRow(0).cells.getCell(0).style : null;\n            if (!isNullOrUndefined(style) && style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        //  this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle, PdfBitmap, PdfImage, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**@hidden*/\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders ? this.style.borders.left.width + this.style.borders.right.width : 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            var font = null;\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable */\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width - 10, 0), false, new SizeF(0, 0));\n            var value = Math.max(slr.lineHeight, slr.actualSize.height);\n            if (currentValue.length > 80) {\n                height += value + 20;\n            }\n            else {\n                height += value + (slr.size.height / 2);\n            }\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* eslint-enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i) ? this.row.treegrid.columns.getColumn(cellIndex + i).width : 0;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex) && this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @param {boolean} cancelSubsequentSpans .\n     * @param {number} leftAdjustment .\n     * @returns {PdfStringLayoutResult} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        var padding = 10;\n        // if (cancelSubsequentSpans) {\n        //     // Cancel all subsequent cell spans, if no space exists.\n        //     const currentCellIndex: number = this.row.cells.indexOf(this);\n        //     for (let i: number = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n        //         this.row.cells.getCell(i).isCellMergeContinue = false;\n        //         this.row.cells.getCell(i).isRowMergeContinue = false;\n        //     }\n        //     this.columnSpan = 1;\n        // }\n        // Skip cells which were already covered by span map.\n        // if (this.isCellMergeContinue || this.isRowMergeContinue) {\n        //     if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n        //         if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n        //             (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n        //             return result;\n        //         } else {\n        //             return result;\n        //         }\n        //     }\n        // }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            var fontStyle = PdfFontStyle.Bold;\n            if (this.style.fontStyle) {\n                fontStyle = this.style.fontStyle;\n            }\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, fontStyle);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        if (this.row.treegrid.ganttStyle.font) {\n            font = this.row.treegrid.ganttStyle.font;\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            /* eslint-disable-next-line */\n            innerLayoutArea.x = innerLayoutArea.x;\n            /* eslint-disable-next-line */\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (this.image && this.value) {\n            var imageBounds = void 0;\n            if (this.image.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.image.width, this.image.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.image, imageBounds.x, imageBounds.y - 5, imageBounds.width, imageBounds.height);\n            var temp = null;\n            // font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            var customisedFont = void 0;\n            var fontStyles = this.fontStyle;\n            if (!fontStyles) {\n                fontStyles = this.style;\n            }\n            var newFont = new PdfStandardFont(fontStyles.fontFamily, fontStyles.fontSize, fontStyles.fontStyle);\n            if (fontStyles.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment) + (!isNullOrUndefined(this.image) ? this.image.width : 0), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            var customisedFont = void 0;\n            var newFont = new PdfStandardFont(this.style.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.style.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y - 3, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (this.value instanceof PdfImage || this.value instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.value.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.value.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.value, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n        }\n        else if (this.value instanceof PdfTextWebLink) {\n            this.value.draw(graphics.currentPage, innerLayoutArea);\n        }\n        if (this.style.borders !== null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush !== null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage !== null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     *\n     * @param {RectangleF} bounds .\n     * @returns {RectangleF} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            pen.lineCap = (this.style.borders.left.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            pen.lineCap = (this.style.borders.right.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            pen.lineCap = (this.style.borders.top.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            pen.lineCap = (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n *\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     *\n     * @param { PdfTreeGridRow} row .\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridCell} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` this instance.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {PdfTreeGridCell | void} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* eslint-disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = (this.cells.count !== 0 &&\n            !isNullOrUndefined(this.cells.getCell(0).height)) ? this.cells.getCell(0).height : 33;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n *\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n *\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        this._headerText = '';\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         *\n         * @returns {PdfStringFormat} .\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.stringFormat)) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n *\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     *\n     * @param { PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     *\n     * @param {number} count .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         *\n         * @returns {PdfTreeGridColumn[]} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridColumn} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     *\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     *\n     * @param {number} totalWidth .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.totalColumnWidth = 0;\n        this.beforeSinglePageExport = {};\n        this.baselineHeight = 8;\n        this.parent = parent;\n    }\n    ExportHelper.prototype.processToFit = function () {\n        this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n        this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n        this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n        this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n        this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n        this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n        this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n        this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n        this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n        this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n        this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n        this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n        this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n        this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n        this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n        this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n        this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n        this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n        this.parent.timelineModule.isZoomToFit = true;\n        this.parent.timelineModule.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartsideWidth;\n        var gridWidth;\n        if (this.exportProps.fitToWidthSettings.gridWidth) {\n            gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n        }\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n            chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n        }\n        else {\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                chartsideWidth = 100 - gridWidth;\n            }\n            else {\n                chartsideWidth = 70;\n            }\n        }\n        var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth) / 100;\n        var chartWidth = pdfwidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n        var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n        var emptySpace = scrollHeight <= 0 ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n        this.parent.timelineModule.isZoomToFit = false;\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.parent.pdfExportModule.isPdfExport = true;\n        if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            this.processToFit();\n        }\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n        this.parent.pdfExportModule.isPdfExport = false;\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        if (this.parent.treeColumnIndex === index) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        if (this.ganttStyle && this.ganttStyle.columnHeader &&\n            !isNullOrUndefined(this.ganttStyle.columnHeader.fontBrush)) {\n            cell.style.fontBrush = new PdfColor(this.ganttStyle.columnHeader.fontBrush);\n        }\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var template = {\n            image: null,\n            value: null,\n            fontStyle: { fontBrush: null }\n        };\n        cell.fontStyle = {\n            fontSize: 9\n        };\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column,\n            image: null,\n            headerTemplate: template\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        if (args.headerTemplate.image && args.headerTemplate.value) {\n            args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n            args.image.height = args.headerTemplate.image[0].height || args.image.height;\n            args.image.width = args.headerTemplate.image[0].width || args.image.width;\n            cell.image = args.image;\n            cell.value = args.headerTemplate.value;\n            cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n            cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n            cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n        }\n        else {\n            cell.value = args.value;\n        }\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        return (visibleColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            var flatData = this.flatData;\n            flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        if (this.parent.enableTimelineVirtualization) {\n            this.parent.timelineModule.pdfExportTopTierCollection = [];\n            this.parent.timelineModule.pdfExportBottomTierCollection = [];\n            this.parent.timelineModule.createTimelineSeries();\n        }\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth &&\n            this.parent.enableTimelineVirtualization) {\n            var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n            this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n        }\n        else {\n            this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth :\n                timelineSettings.totalTimelineWidth;\n        }\n        this.gantt.chartHeader.height = !isNullOrUndefined(this.gantt.rows.getRow(0).height) ? this.gantt.rows.getRow(0).height : 65;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection();\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = data.parentIndex;\n                predecessor.childIndex = data.childIndex;\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.parentEndPoint = data.parentEndPoint;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                if (data.isCritical) {\n                    predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n                }\n                else {\n                    predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                }\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = data[column.field];\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n        var cellValue = cellValueString;\n        var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (column['index'] !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        var args = {\n            data: data,\n            value: value,\n            column: column,\n            style: cell.style,\n            cell: cell\n        };\n        args.value = this.exportValueFormatter.formatCellValue(args);\n        if (this.parent.pdfQueryCellInfo) {\n            this.parent.trigger('pdfQueryCellInfo', args);\n            if (args.style.backgroundColor) {\n                cell.style.backgroundColor = args.style.backgroundColor;\n            }\n            if (args.style.borderColor) {\n                cell.style.borderColor = args.style.borderColor;\n            }\n            if (args.style.fontBrush) {\n                cell.style.fontBrush = args.style.fontBrush;\n            }\n            if (args.style.fontColor) {\n                cell.style.fontColor = args.style.fontColor;\n            }\n            if (args.style.fontFamily) {\n                var font = args.style.fontFamily;\n                var fontFamily = this.getFontFamily(font);\n                cell.style.fontFamily = fontFamily;\n            }\n            else {\n                cell.style.fontFamily = this.ganttStyle.fontFamily;\n            }\n            if (args.style.fontSize) {\n                cell.style.fontSize = args.style.fontSize;\n            }\n            if (args.style.fontStyle) {\n                var style = args.style.fontStyle;\n                var fontStyle = this.getFontStyle(style);\n                cell.style.fontStyle = fontStyle;\n            }\n            else {\n                cell.style.fontStyle = this.ganttStyle.footer.fontStyle;\n            }\n            if (args.style.format) {\n                cell.style.format = args.style.format;\n            }\n            if (args.style.padding) {\n                cell.style.padding = args.style.padding;\n            }\n        }\n        if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n            var dimension = extend({}, args.image, null, true);\n            args.image = new PdfBitmap(args.image.base64);\n            args.image.height = dimension['height'] ? dimension['height'] : args.image.height;\n            args.image.width = dimension['width'] ? dimension['width'] : args.image.width;\n            cell.image = args.image;\n        }\n        cell.value = args.value;\n        if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) ||\n            !isNullOrUndefined(args.hyperLink.target))) {\n            cell.value = this.setHyperLink(args);\n        }\n    };\n    ExportHelper.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        var flatData = this.flatData;\n        flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            // else {\n            //     taskbar.unscheduleStarteDate = null;\n            //     taskbar.unscheduleEndDate = null;\n            // }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            // if (this.parent.renderBaseline) {\n            //     let height: number;\n            //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n            //         height = taskbar.height;\n            //     } else {\n            //         height = taskbar.height - (this.baselineHeight + 1);\n            //     }\n            //     taskbar.height = height;\n            // }\n            taskbar.indicators = ganttProp.indicators;\n            taskbar.autoStartDate = ganttProp.autoStartDate;\n            taskbar.autoEndDate = ganttProp.autoEndDate;\n            taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n            taskbar.autoWidth = ganttProp.autoWidth;\n            taskbar.autoLeft = ganttProp.autoLeft;\n            taskbar.segment = ganttProp.segments;\n            taskbar.isSpliterTask = (isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0) ? false : true;\n            if (taskbar.isSpliterTask) {\n                taskbar.segmentCollection = taskbar.segment.map(function (obj) { return (__assign({}, obj)); });\n            }\n            taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.baselineStartDate = ganttProp.baselineStartDate;\n            taskbar.baselineEndDate = ganttProp.baselineEndDate;\n            taskbar.baselineLeft = ganttProp.baselineLeft;\n            taskbar.baselineWidth = ganttProp.baselineWidth;\n            if (taskbar.baselineLeft < 0) {\n                taskbar.baselineWidth = taskbar.baselineWidth + taskbar.baselineLeft;\n                taskbar.baselineLeft = 0;\n            }\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n                taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                if (data.isCritical) {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n                    taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                }\n                else {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                }\n            }\n            taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n            taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n            taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n            taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n            taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n            taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n            taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n            taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n            taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n            taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n            taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            var labelTemplateStyle = {};\n            labelTemplateStyle.leftLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.rightLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.taskLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            taskbar.labelSettings = labelTemplateStyle;\n            var taskbarTemplate = {\n                value: null,\n                image: null,\n                fontStyle: { fontBrush: null }\n            };\n            taskbar.taskbarTemplate = taskbarTemplate;\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            taskStyle.baselineColor = taskbar.baselineColor;\n            taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data,\n                indicators: data.ganttProperties.indicators,\n                labelSettings: labelTemplateStyle,\n                taskbarTemplate: taskbarTemplate\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                var segmentCollection = [];\n                args.taskbar.taskSegmentStyles = null;\n                if (args.data.ganttProperties.segments) {\n                    for (var i = 0; i < args.data.ganttProperties.segments.length; i++) {\n                        var segmentTaskbar = {\n                            taskColor: args.taskbar.taskColor,\n                            taskBorderColor: args.taskbar.taskBorderColor,\n                            progressColor: args.taskbar.progressColor\n                        };\n                        segmentCollection.push(segmentTaskbar);\n                    }\n                    args.taskbar.taskSegmentStyles = segmentCollection;\n                }\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.taskSegmentStyles = args.taskbar.taskSegmentStyles;\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n                taskbar.baselineColor = args.taskbar.baselineColor;\n                taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n                taskbar.indicators = args.indicators;\n                taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n                var leftImages = args.labelSettings.leftLabel.image;\n                taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n                var rightImage = args.labelSettings.rightLabel.image;\n                if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n                    taskbar.taskLabel = args.labelSettings.taskLabel.value;\n                }\n                if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64)\n                    && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n                    taskbar.labelSettings.leftLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.leftLabel.image.push({\n                            base64: leftImages[0].base64[i],\n                            width: leftImages[0].width,\n                            height: leftImages[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n                    taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n                }\n                if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64)\n                    && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n                    taskbar.labelSettings.rightLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.rightLabel.image.push({\n                            base64: rightImage[0].base64[i],\n                            width: rightImage[0].width,\n                            height: rightImage[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n                    taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n                }\n                /* eslint-disable-next-line */\n                var applyTemplate = function (target, source) {\n                    target.progressFontColor = source.taskbar.progressFontColor;\n                    target.taskColor = new PdfColor(source.taskbar.taskColor);\n                    target.taskBorderColor = source.taskbar.taskBorderColor;\n                    target.progressColor = source.taskbar.progressColor;\n                    target.milestoneColor = source.taskbar.milestoneColor;\n                    if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n                        var width = source.taskbarTemplate.image[0].width;\n                        var milestoneHeight = taskbar.isMilestone ? ((source.taskbarTemplate.image[0].height <\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7)) ? source.taskbarTemplate.image[0].height :\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2) : (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2;\n                        var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ?\n                            ((source.taskbarTemplate.image[0].height < taskbar.height) ?\n                                source.taskbarTemplate.image[0].height : taskbar.height - 2) : taskbar.height - 2;\n                        var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n                        target.taskbarTemplate.image = source.taskbarTemplate.image;\n                        target.taskbarTemplate.image[0].width = width;\n                        target.taskbarTemplate.image[0].height = height;\n                    }\n                    if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n                        target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n                        target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n                        target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n                        target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n                    }\n                };\n                if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.ganttProperties.duration === 0) {\n                    applyTemplate(taskbar, args);\n                }\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getFontStyle = function (fontStyle) {\n        switch (fontStyle) {\n            case 'Strikeout':\n                return 8;\n            case 'Underline':\n                return 4;\n            case 'Italic':\n                return 2;\n            case 'Bold':\n                return 1;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var defaultFontFamily = this.exportProps.ganttStyle && this.exportProps.ganttStyle.fontFamily ?\n            this.exportProps.ganttStyle.fontFamily : PdfFontFamily.TimesRoman;\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : defaultFontFamily;\n        var fontStyle = PdfFontStyle.Regular;\n        // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n        //     fontStyle |= PdfFontStyle.Bold;\n        // }\n        // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n        //     fontStyle |= PdfFontStyle.Italic;\n        // }\n        // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n        //     fontStyle |= PdfFontStyle.Underline;\n        // }\n        // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n        //     fontStyle |= PdfFontStyle.Strikeout;\n        // }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n        this.mergeCells(1, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n        }\n        cell.style.padding.top = (padding - style.fontSize > 0) ? padding - style.fontSize : padding;\n        cell.style.padding.bottom = (padding - style.fontSize > 0) ? padding - style.fontSize : 0;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n        if (style.padding) {\n            cell.style.padding = style.padding;\n        }\n        if (style.borders) {\n            cell.style.borders = style.borders;\n        }\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            var gridWidth = void 0;\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n            }\n            else {\n                if (this.exportProps.fitToWidthSettings.chartWidth) {\n                    var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n                    gridWidth = 100 - chartWidth;\n                }\n                else {\n                    gridWidth = 30;\n                }\n            }\n            var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth) / 100;\n            var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n            for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n                this.gantt.columns.getColumn(i).width = perColumnWidth;\n            }\n        }\n        /* eslint-disable-next-line */\n        var PdfPage = this.parent.pdfExportModule.pdfPage;\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82) && this.totalColumnWidth < PdfPage.getClientSize().width) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var pageSize_1 = this.parent.pdfExportModule.getPageSize(this.exportProps.pageSize);\n            var bounds = new RectangleF(0, 0, pageSize_1.width, 35);\n            var pen = new PdfPen(this.ganttStyle.footer.borderColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pageSize_1.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            if (this.ganttStyle.font) {\n                font = this.ganttStyle.font;\n            }\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n        /* eslint-disable-next-line */\n        var pageSize = PdfPage.size;\n        var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n        // code for draw header content\n        if (!isNullOrUndefined(this.exportProps.header)) {\n            var headerProp = this.exportProps.header;\n            var position = new PointF(0, headerProp.fromTop);\n            var size = new SizeF((clientSize.width * 1.1), ((headerProp && headerProp.height) ? headerProp.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n        }\n        // code for customization of footer\n        if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n            var footer = this.exportProps.footer;\n            var position = new PointF(0, ((clientSize.width - 80) - ((footer && footer.fromBottom) ?\n                footer.fromBottom * 0.75 : 0)));\n            var size = new SizeF((clientSize.width * 1.1), ((footer && footer.height) ? footer.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n        }\n    };\n    ExportHelper.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    // code for draw text\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        if (this.ganttStyle.font) {\n            font = this.ganttStyle.font;\n        }\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush === null && pen === null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        if (!isNullOrUndefined(content.style.stringFormat)) {\n            format.alignment = content.style.stringFormat.alignment;\n        }\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // code for draw pagenumber\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // code for draw image\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width)) ?\n            (content.size.width * 0.50) : undefined;\n        var height = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height)) ?\n            (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // code for draw line\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style)) {\n            if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    ExportHelper.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    ExportHelper.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    ExportHelper.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    ExportHelper.prototype.setContentFormat = function (content, format) {\n        var width = (content.size) ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n        var height = (content.size) ? content.size.height * 0.75 : (!isNullOrUndefined(this.exportProps.footer) ?\n            this.exportProps.footer.height * 0.50 : 0);\n        format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n        if (!isNullOrUndefined(content.style.hAlign)) {\n            switch (content.style.hAlign) {\n                case 'Right':\n                    format.alignment = PdfTextAlignment.Right;\n                    break;\n                case 'Center':\n                    format.alignment = PdfTextAlignment.Center;\n                    break;\n                case 'Justify':\n                    format.alignment = PdfTextAlignment.Justify;\n                    break;\n                default:\n                    format.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if (!isNullOrUndefined(content.style.vAlign)) {\n            format = this.getVerticalAlignment(content.style.vAlign, format);\n        }\n        return { format: format, size: new SizeF(width, height) };\n    };\n    ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', format: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', format: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', format: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfColor, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfDashStyle, PdfPath, PdfBitmap, PdfBrushes, PdfLinearGradientBrush } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /** Defines the task baselineHeight . */\n        this.baselineHeight = 8;\n        this.segment = [];\n        this.segmentCollection = [];\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * @param {PdfPage} page .\n     * @returns {PdfPage} .\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var index = section.indexOf(page);\n        var nextPage = null;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    PdfGanttTaskbarCollection.prototype.isAutoFit = function () {\n        return ((this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) ||\n            this.parent.timelineModule.isZoomedToFit) ? true : false;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     *\n     * @private\n     */\n    /* eslint-disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar, lineWidth) {\n        var _this = this;\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var yPoint = startPoint.y + rowHeight;\n        //code for while current pdf page is exceed\n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            page['contentWidth'] = (this.isAutoFit()) ? pointToPixel(detail.endPoint - detail.startPoint) : detail.endPoint - detail.startPoint;\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            isNextPage = true;\n            var graphics = page.graphics;\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            if (page['contentWidth'] && (this.parent.gridLines === \"Both\" || this.parent.gridLines === \"Horizontal\")) {\n                graphics.drawRectangle(pen, startPoint.x, startPoint.y, this.isAutoFit() && this.parent.timelineModule.bottomTier !== \"Day\" ? page['contentWidth'] + 0.5 : lineWidth, rowHeight);\n            }\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth, taskbar);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var customizedFont;\n        var customizedFontBrush;\n        var customizedFontColor;\n        customizedFont = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontFamily && taskbar.taskbarTemplate.fontStyle.fontSize\n            ? new PdfStandardFont(taskbar.taskbarTemplate.fontStyle.fontFamily, taskbar.taskbarTemplate.fontStyle.fontSize, taskbar.taskbarTemplate.fontStyle.fontStyle)\n            : font;\n        customizedFontBrush = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.taskbarTemplate.fontStyle.fontColor)\n            : fontBrush;\n        customizedFontColor = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontBrush\n            ? new PdfPen(taskbar.taskbarTemplate.fontStyle.fontBrush)\n            : fontColor;\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var taskLabelFont;\n        var taskLabelFontBrush;\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontSize) {\n            var taskFont = new PdfStandardFont(taskbar.labelSettings.taskLabel.fontStyle.fontFamily, taskbar.labelSettings.taskLabel.fontStyle.fontSize, taskbar.labelSettings.taskLabel.fontStyle.fontStyle);\n            taskLabelFont = taskFont;\n        }\n        else if (ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) {\n            taskLabelFontBrush = new PdfSolidBrush(ganttStyle.label.fontBrush);\n        }\n        else {\n            taskLabelFont = font;\n        }\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontColor) {\n            taskLabelFontBrush = new PdfSolidBrush(taskbar.labelSettings.taskLabel.fontStyle.fontColor);\n        }\n        else {\n            taskLabelFontBrush = fontBrush;\n        }\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var isLabelString = false;\n        var updatedWidth;\n        if (!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z0-9]/.test(this.taskLabel))) {\n            if (this.taskLabel === '0' || this.taskLabel === '0%') {\n                updatedWidth = this.width;\n                progressFormat.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if ((!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z]/.test(this.taskLabel))) || (!isNullOrUndefined(taskbar.taskbarTemplate.value))) {\n            isLabelString = true;\n            progressFormat.alignment = PdfTextAlignment.Left;\n        }\n        var pageIndex = -1;\n        var baselinePen = new PdfPen(taskbar.baselineBorderColor);\n        var baselineBrush = new PdfSolidBrush(taskbar.baselineColor);\n        var template = taskbar.taskbarTemplate;\n        var renderedBaseline = false;\n        if (!taskbar.isMilestone) {\n            var taskbarPen_1 = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush_1 = new PdfSolidBrush(taskbar.taskColor);\n            var manualParentBorderPen = new PdfPen(taskbar.manualParentBorder);\n            var manualChildBorderPen = new PdfPen(taskbar.manualChildBorder);\n            var manualTaskbarPen = new PdfPen(taskbar.manuallineColor);\n            var manualParentPen = new PdfPen(taskbar.manualParentProgress);\n            var manualline = new PdfPen(taskbar.manuallineColor);\n            var manuallineBrush = new PdfSolidBrush(taskbar.manuallineColor);\n            var splitline = new PdfPen(taskbar.splitLineBackground);\n            var manualBrush = new PdfSolidBrush(taskbar.manualParentBackground);\n            var manualChildBrush = new PdfSolidBrush(taskbar.manualChildBackground);\n            var manualChildProgressBrush = new PdfSolidBrush(taskbar.manualChildProgress);\n            var manualProgressBrush = new PdfSolidBrush(taskbar.manualParentProgress);\n            var progressPen_1 = new PdfPen(taskbar.progressColor);\n            var progressBrush_1 = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeightforTaskbar = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            var adjustHeightforBaseline = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            var adjustHeight_1 = this.parent.renderBaseline ? adjustHeightforBaseline : adjustHeightforTaskbar;\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            var imageSize_1 = 10;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                        });\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.save();\n                        var path = new PdfPath();\n                        path.addEllipse(0, 0, 5, 5);\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                        taskGraphics.restore();\n                        var path1 = new PdfPath();\n                        path1.addEllipse(0, 0, 5, 5);\n                        taskGraphics.save();\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                        taskGraphics.restore();\n                        manualline.dashStyle = PdfDashStyle.Solid;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                        else {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                    }\n                    else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width / 2.0;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + (taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0, (taskbar.taskbarTemplate.image[0].width) / 2.0, (taskbar.taskbarTemplate.image[0].height) / 2.0);\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (taskbar.taskbarTemplate.value) {\n                                    if (isLabelString) {\n                                        updatedWidth = this.width;\n                                    }\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat) : '';\n                            }\n                        }\n                    }\n                    if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) && !isNullOrUndefined(this.taskLabel)) {\n                                if (this.taskLabel !== '0' && this.taskLabel !== '0%') {\n                                    updatedWidth = this.progressWidth;\n                                }\n                                if (isLabelString) {\n                                    updatedWidth = this.width;\n                                }\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                                else {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                        });\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && (endDate >= detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var width = this.width;\n                var renderWidth_1 = 0;\n                var progressWidth = 0;\n                var splitRenderwidth_1 = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth_1 = (detail.totalWidth - (this.left - cumulativeWidth));\n                progressWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                if (width < renderWidth_1) {\n                    renderWidth_1 = width;\n                }\n                splitRenderwidth_1 = renderWidth_1;\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, startPoint.y + adjustHeight_1, (renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    taskGraphics.save();\n                    var path = new PdfPath();\n                    path.addEllipse(0, 0, 5, 5);\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((renderWidth_1) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(renderWidth_1) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        var pervwidth_1 = 0;\n                        var valueChangeBlocker_1 = true;\n                        var lineWidth_1 = 0;\n                        taskbar.segment.map(function (item) {\n                            lineWidth_1 = item.left + item.width;\n                        });\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((lineWidth_1) + (this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(lineWidth_1) + pixelToPoint(this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), (taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left) + imageWidth, startPoint.y + adjustHeight_1, (data.width), (taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            pervwidth_1 = data.left + data.width;\n                            if (renderWidth_1 >= pervwidth_1) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                            }\n                            else {\n                                if (renderWidth_1 >= (pervwidth_1 - data.width)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                                }\n                                else {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = ((splitRenderwidth_1 - data.left));\n                                }\n                                if (renderWidth_1 >= (pervwidth_1)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                }\n                                else {\n                                    if (valueChangeBlocker_1) {\n                                        _this.segmentCollection[parseInt(index.toString(), 10)].width = pervwidth_1 - renderWidth_1;\n                                        valueChangeBlocker_1 = false;\n                                    }\n                                }\n                            }\n                            splitRenderwidth_1 = splitRenderwidth_1 + data.width + data.left;\n                        });\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 0.5), (taskbar.taskbarTemplate.image[0].width / 2.0), (taskbar.taskbarTemplate.image[0].height / 2.0));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    this.stringLeft = pixelToPoint(this.left);\n                                    var result_1 = this.getWidth(taskbar.taskbarTemplate.value, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_1.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_1.remainder)) {\n                                        this.remainString = result_1.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                            }\n                        }\n                        if (taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                            var progressBoundsWidth = 0;\n                            if (this.progressWidth <= renderWidth_1) {\n                                progressBoundsWidth = this.progressWidth;\n                            }\n                            else {\n                                progressBoundsWidth = renderWidth_1;\n                            }\n                            if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                                else {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                            }\n                            this.progressWidth -= progressBoundsWidth;\n                            if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                                updatedWidth = progressBoundsWidth;\n                                if (isLabelString) {\n                                    updatedWidth = renderWidth_1;\n                                }\n                                this.stringLeft = this.left;\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var result_2 = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_2.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_2.remainder)) {\n                                        this.remainString = result_2.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                                else {\n                                    if (this.isAutoFit()) {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                    else {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (_this.segmentCollection[parseInt(index.toString(), 10)].width === 0) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = 0;\n                            }\n                            else {\n                                if (data.width - _this.segmentCollection[parseInt(index.toString(), 10)].width < data.progressWidth && data.width !== _this.segmentCollection[index].width) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = data.progressWidth - (data.width - _this.segmentCollection[index].width);\n                                }\n                            }\n                        });\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date\n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                    if (template.value || template.image) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var path1 = new PdfPath();\n                    path1.addEllipse(0, 0, 5, 5); // Circle with radius 5\n                    taskGraphics.save(); // Save the current graphics state  \n                    var lineStartX = startPoint.x + pixelToPoint(this.left + 0.5); // Calculate the endpoint of the line\n                    var lineEndX = pixelToPoint(taskbar.width) + lineStartX - 5;\n                    var lineY = startPoint.y + adjustHeight_1;\n                    taskGraphics.drawLine(manualline, lineStartX, lineY, lineEndX, lineY); // Draw the line first     \n                    taskGraphics.translateTransform(lineEndX, lineY - 2); // Now move the origin to the line's end point to draw the circle        \n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1); // Draw the circle at the end of the line  \n                    taskGraphics.restore(); // Restore the graphics state\n                    manualline.dashStyle = PdfDashStyle.Solid; // Ensure the line has a solid style\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (taskbar.isSpliterTask) {\n                    splitline.dashStyle = PdfDashStyle.Dot;\n                    taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                        var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                        if (data.width !== 0) {\n                            taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                            if (template.value || template.image) {\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                            }\n                        }\n                    });\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(this.remainString)) {\n                        var result = this.getWidth(this.remainString, taskbar.width - taskbar.left, 15);\n                        taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left), (startPoint.y + adjustHeight_1), result.actualSize.width, pixelToPoint(this.height), progressFormat);\n                    }\n                }\n                if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = this.progressWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                if (!isNullOrUndefined(this.remainString)) {\n                                    var result_3 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_3.lines[0].text, font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = this.progressWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                else if (taskbar.isSpliterTask) {\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                        var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                        taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                    });\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left) + pixelToPoint(detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                    if (template.value || template.image) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : 0;\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                    }\n                    this.progressWidth -= progressBoundsWidth;\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    taskGraphics.drawLine(manualline, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), startPoint.y + adjustHeight_1);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                        if (!isNullOrUndefined(this.remainString)) {\n                            var result_4 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                            taskGraphics.drawString(result_4.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, (startPoint.y + adjustHeight_1), pixelToPoint(detail.totalWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    if (this.isScheduledTask && !taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = progressBoundsWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                if (detail.startDate <= taskbar.baselineStartDate && taskbar.baselineEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.baselineStartDate && detail.endDate >= taskbar.baselineStartDate && (taskbar.baselineEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var width = this.baselineWidth;\n                    var renderWidth = 0;\n                    renderWidth = (detail.totalWidth - (taskbar.baselineLeft - cumulativeWidth));\n                    if (width < renderWidth) {\n                        renderWidth = width;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    taskbar.baselineWidth = taskbar.baselineWidth - renderWidth;\n                    this.baselineLeft = 0;\n                    this.isCompletedBaseline = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.baselineEndDate <= detail.endDate && detail.startDate <= taskbar.baselineEndDate && !this.isCompletedBaseline) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.baselineStartDate < detail.startDate && taskbar.baselineEndDate > detail.endDate) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = false;\n                    this.baselineWidth -= detail.totalWidth;\n                }\n            }\n            if (!this.isAutoSchedule && taskbar.isParentTask) {\n                if (detail.startDate <= taskbar.autoStartDate && taskbar.autoEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.autoStartDate && detail.endDate >= taskbar.autoStartDate && (taskbar.autoEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    var progressWidth = 0;\n                    renderWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    progressWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressWidth), pixelToPoint(12));\n                        }\n                        taskbar.autoWidth = taskbar.autoWidth - renderWidth;\n                        taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                    }\n                    this.autoLeft = 0;\n                    this.isCompletedAutotask = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.autoEndDate <= detail.endDate && detail.startDate <= taskbar.autoEndDate && !this.isCompletedAutotask) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        taskGraphics.drawRectangle(manualBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                    }\n                    this.isCompletedAutotask = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.autoStartDate < detail.startDate && taskbar.autoEndDate > detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (progressBoundsWidth), pixelToPoint(12));\n                        }\n                        else {\n                            if (taskbar.progressWidth !== 0) {\n                                taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressBoundsWidth), pixelToPoint(12));\n                            }\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                    }\n                    this.isCompletedAutotask = false;\n                    this.autoWidth -= detail.totalWidth;\n                }\n            }\n            if (!isNullOrUndefined(taskbar.indicators) && taskbar.indicators.length > 0) {\n                taskbar.indicators.map(function (items, index) {\n                    var currendate = _this.parent.dateValidationModule.getDateFromFormat(items.date, true);\n                    if (detail.startDate <= currendate && currendate <= detail.endDate) {\n                        var leftValue = _this.parent.chartRowsModule.getIndicatorleft(items.date);\n                        if (!isNullOrUndefined(items.base64)) {\n                            var image = new PdfBitmap(items.base64);\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawImage(image, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 10) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                            else {\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, false);\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, true);\n            }\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* eslint-enable */\n    /**\n     * @param {IGanttStyle} ganttStyle .\n     * @returns {PdfFont}\n     * Customizes the font based on the Gantt style.\n     */\n    PdfGanttTaskbarCollection.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.label && (ganttStyle.label.fontSize || ganttStyle.label.fontStyle ||\n            ganttStyle.label.fontFamily)) {\n            var fontSize = ganttStyle.label.fontSize ? ganttStyle.label.fontSize : 9;\n            var fontFamilyValue = ganttStyle.label.fontFamily;\n            var fontFamily = ganttStyle.label.fontFamily ?\n                fontFamilyValue : this.fontFamily;\n            var fontStyleValue = ganttStyle.label.fontStyle;\n            var fontStyle = ganttStyle.label.fontStyle ?\n                this.parent.pdfExportModule.helper['getFontStyle'](fontStyleValue) : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    /* eslint-enable */\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.rightTaskLabel.value)) {\n            if (this.rightTaskLabel.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    left = (this.rightTaskLabel.left);\n                }\n                else {\n                    left = pixelToPoint(this.rightTaskLabel.left);\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var size = new SizeF((page['contentWidth'] - actualLeft) - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var labelBounds = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Left;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && !isNullOrUndefined(ganttStyle.label.format) &&\n                    !isNullOrUndefined(ganttStyle.label.format.alignment)) {\n                    labelFormat.alignment = ganttStyle.label.format.alignment;\n                }\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var ganttStyle_1 = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                    var fontBrush = new PdfSolidBrush((ganttStyle_1 && ganttStyle_1.label && ganttStyle_1.label.fontBrush) ?\n                        ganttStyle_1.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle_1.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle_1.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, labelBounds.x - 3, labelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, size.width, size.height, labelFormat);\n                    if (result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        this.rightTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n                this.previousWidthofRightImage = 0;\n                this.previousWidthofRightValue = 0;\n                for (var i = 0; i < this.labelSettings.rightLabel.image.length; i++) {\n                    this.drawRigthlabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.image[i]);\n                    if (this.labelSettings.rightLabel.value) {\n                        var value = this.labelSettings.rightLabel.value.split(',');\n                        if (value) {\n                            this.rightTaskLabel.isCompleted = false;\n                            this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (this.labelSettings.rightLabel.value) {\n                this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRigthlabelImage = function (page, startPoint, detail, cumulativeWidth, rightImage) {\n        var left;\n        var graphics = page.graphics;\n        var labelBounds;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel) && !isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = this.rightTaskLabel.left + +this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    var value = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                        value = this.labelSettings.rightLabel.value.split(',');\n                    }\n                    if (this.labelSettings.rightLabel.image.length > 1 && value.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.labelSettings.rightLabel) && !this.rightTaskLabel.isCompleted) {\n                var result = new SizeF(rightImage.width, rightImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.width, result.height);\n                labelBounds = new RectangleF(point, size);\n                var image = new PdfBitmap(rightImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, labelBounds.x, labelBounds.y, result.width, result.height);\n                    if (this.labelSettings.rightLabel.value !== null) {\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRightLabelValue = function (page, startPoint, detail, cumulativeWidth, rightString) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = this.rightTaskLabel.left + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = this.rightTaskLabel.left + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(rightString) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBound = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.rightLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize, this.labelSettings.rightLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.rightLabel.fontStyle.fontColor ? new PdfSolidBrush(this.labelSettings.rightLabel.fontStyle.fontColor) : fontBrush;\n                    /* eslint-disable-next-line */\n                    graphics.drawString(rightString, newFont, fontColor, newFontBrush, labelBound.x, labelBound.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (!isNullOrUndefined(result.remainder) && result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @returns {void}\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                if (this.isAutoFit()) {\n                    left = (labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = taskbar.left - taskbar.autoLeft;\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - cumulativeWidth + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - cumulativeWidth + startPoint.x - leftValue;\n                    }\n                }\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = pixelToPoint(taskbar.left) - pixelToPoint(taskbar.autoLeft);\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x - leftValue;\n                    }\n                }\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var rightLabelSize = new SizeF(result.actualSize.width - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    /* eslint-disable-next-line */\n                    var fontBrush = new PdfSolidBrush((ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) ?\n                        ganttStyle.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, rightLabelBounds.x - 3, rightLabelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n                this.previousWidthofLeftImage = 0;\n                this.previousWidthofLeftValue = 0;\n                this.totalLeftWidth = 0;\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    var value = void 0;\n                    var result = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                        value = this.labelSettings.leftLabel.value.split(',');\n                        result = this.getWidth(value[i], Number.MAX_VALUE, 15);\n                    }\n                    var totalstringWidth = !isNullOrUndefined(result) ? result.actualSize.width : 0;\n                    this.totalLeftWidth += this.labelSettings.leftLabel.image[i].width + totalstringWidth;\n                }\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    this.drawLeftLabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.image[i]);\n                    if (this.labelSettings.leftLabel.value) {\n                        var value = this.labelSettings.leftLabel.value.split(',');\n                        if (value) {\n                            this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelImage = function (page, startPoint, detail, cumulativeWidth, leftLabelImage) {\n        var graphics = page.graphics;\n        var left;\n        var labelLeft = 0;\n        labelLeft = this.left;\n        if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = labelLeft - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                else {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = pixelToPoint(labelLeft) - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = pixelToPoint(labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                if (this.labelSettings.leftLabel.image.length > 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftValue;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelImage)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.width, result.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var image = new PdfBitmap(leftLabelImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, rightLabelBounds.x, rightLabelBounds.y, result.width, result.height);\n                    this.totalLeftWidth = this.totalLeftWidth - result.width;\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelValue = function (page, startPoint, detail, cumulativeWidth, leftLabelValue) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(leftLabelValue)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    var isLeftImageExist = !isNullOrUndefined(this.labelSettings.leftLabel.image) ? true : false;\n                    var imageLength = isLeftImageExist ? this.labelSettings.leftLabel.image.length : 0;\n                    if (value.length === 1 && isLeftImageExist && imageLength === 1) {\n                        left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                        this.labelSettings.left = left;\n                        var result_5 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_5.actualSize.width;\n                    }\n                    else if (value.length > 1 && isLeftImageExist && imageLength > 1) {\n                        var totalWidth = (this.previousWidthofLeftValue !== 0) ? this.previousWidthofLeftValue\n                            + this.previousWidthofLeftImage : this.previousWidthofLeftImage;\n                        left = this.leftTaskLabel.left + totalWidth;\n                        this.labelSettings.left = left;\n                        var result_6 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_6.actualSize.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.actualSize.width;\n                    }\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (value.length === 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else if (value.length > 1) {\n                    var totalWidth = (this.previousWidthofLeftValue !== 0) ?\n                        this.previousWidthofLeftValue + this.previousWidthofLeftImage\n                        : this.previousWidthofLeftImage;\n                    left = this.leftTaskLabel.left + totalWidth;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelValue)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.leftLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize, this.labelSettings.leftLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.leftLabel.fontStyle.fontColor ?\n                        new PdfSolidBrush(this.labelSettings.leftLabel.fontStyle.fontColor) : fontBrush;\n                    graphics.drawString(leftLabelValue, newFont, fontColor, newFontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    var value = this.labelSettings.leftLabel.value.split(',');\n                    if ((!isNullOrUndefined(result.remainder)) && result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else if (!isNullOrUndefined(this.labelSettings.leftLabel.image) &&\n                        this.labelSettings.leftLabel.image.length === 1 && value.length === 1) {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font;\n        font = new PdfStandardFont(this.fontFamily, 9);\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (ganttStyle && ganttStyle.label && ganttStyle.label.fontSize) {\n            font = new PdfStandardFont(this.fontFamily, ganttStyle.label.fontSize);\n            height = font.height;\n        }\n        if (!isNullOrUndefined(ganttStyle) && ganttStyle.font) {\n            font = ganttStyle.font;\n            height = font.height;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofLeftLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.leftLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofrightLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.rightLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * @param {PdfGraphics} taskGraphics .\n     * @param {PointF} startPoint .\n     * @param {number} cumulativeWidth .\n     * @param {number} adjustHeight .\n     * @returns {void}\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        if (this.isAutoFit()) {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n        else {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @param {boolean} isBaseline .\n     * @returns {void}\n    Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth, taskbar, isBaseline) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeightforBaselineMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 3.0));\n            var adjustHeightforMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var adjustHeight = this.parent.renderBaseline ? adjustHeightforBaselineMilesone : adjustHeightforMilesone;\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            var baselinePen = new PdfPen(this.baselineBorderColor);\n            var baselineBrush = new PdfSolidBrush(this.baselineColor);\n            taskGraphics.save(); //saving graphics state\n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.8);\n            if (!isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            if (isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            taskGraphics.rotateTransform(45); //apply rotation\n            if (this.parent.renderBaseline && this.baselineStartDate && this.baselineEndDate && isBaseline) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, 2, 2, pixelToPoint(height), pixelToPoint(height));\n            }\n            if (!isBaseline) {\n                taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            }\n            taskGraphics.restore(); //restoring graphics state\n            if (this.isAutoFit()) {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + (this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        ((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    var width = taskbar.taskbarTemplate.image[0].width / 2.0;\n                    var height_1 = taskbar.taskbarTemplate.image[0].height / 2.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        (((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), width, height_1);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint(((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height - 2));\n                }\n            }\n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfBrushes, RectangleF } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\n/**\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.holidayCompleted = false;\n        this.fitHolidayCompleted = false;\n        this.timelineWidth = 0;\n        this.lastWidth = 0;\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @returns {void}\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail) {\n        this.detailsTimeline = detail;\n        var remainWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n            pointToPixel(Math.floor(detail.totalWidth)) : Math.round(detail.totalWidth);\n        var renderWidth = 0;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                var reWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth);\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, reWidth, pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                    this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                this.topTierPoint.x += reWidth;\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.round(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    /* eslint-disable-next-line */\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? width : pixelToPoint(width), secondHeader.value, false, secondHeader.startDate);\n                this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                    this.bottomTierPoint.x + width : this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                // if (isCompleted) {\n                this.bottomTierIndex++;\n                // }\n                if (remainWidth > 0 && remainWidth < width) {\n                    remainWidth = secondHeader.width - 1;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        this.timelineWidth = this.lastWidth;\n    };\n    /**\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails}  detail .\n     * @returns {void} .\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail) {\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pHeader.completedWidth : pixelToPoint(pHeader.completedWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                        this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                    this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        pHeader.completedWidth : pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? secondHeader.width : pixelToPoint(secondHeader.width), secondHeader.value, false, secondHeader.startDate);\n                    this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        this.bottomTierPoint.x + secondHeader.width : this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier, currentDate) {\n        var _this = this;\n        var days = new Date(currentDate).getDay();\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var rectPen;\n        var rectBrush = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        if (this.parent.highlightWeekends && nonWorkingDays.indexOf(days) !== -1 && (this.parent.timelineModule.bottomTier === 'Day' || this.parent.timelineModule.bottomTier === 'None' && this.parent.timelineModule.topTier === 'Day')) {\n            rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n        }\n        this.parent.holidays.map(function (item) {\n            var fromDate = new Date(item.from);\n            var toDate = new Date(item.to);\n            var timelinedate = new Date(currentDate);\n            if (fromDate <= timelinedate && toDate >= timelinedate && (_this.parent.timelineModule.bottomTier === 'Day' || (_this.parent.timelineModule.bottomTier === 'None' && _this.parent.timelineModule.topTier === 'Day'))) {\n                rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n                if (fromDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayWidth = x;\n                }\n                if (toDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayLabel = item.label;\n                    var changeDate = new Date(item.to);\n                    changeDate.setDate(changeDate.getDate() + 1);\n                    var day = _this.parent.dataOperation.getTaskWidth(fromDate, changeDate);\n                    _this.holidayNumberOfDays = day / width;\n                    _this.holidayCompleted = true;\n                }\n            }\n            else if (_this.parent.timelineModule.bottomTier !== 'Day') {\n                if (_this.detailsTimeline.startDate <= fromDate && _this.detailsTimeline.endDate >= fromDate) {\n                    _this.parent.timelineModule.bottomTierCollection.map(function (items) {\n                        if (items.startDate <= fromDate && items.endDate >= fromDate) {\n                            if (items.startDate === currentDate) {\n                                _this.fitHolidayCompleted = true;\n                                _this.fromDataHoliday = item.from;\n                                _this.holidayLabel = item.label;\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        var rectPen1 = new PdfPen(eventArgs.timelineCell.borderColor);\n        if (!this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            this.lastWidth = x + width;\n        }\n        graphics.drawRectangle(rectPen1, rectBrush, x, y, width, pixelToPoint(height));\n        if (!isTopTier && (this.parent.gridLines === 'Both' || this.parent.gridLines === 'Vertical')) {\n            rectPen = new PdfPen(ganttStyle.chartGridLineColor);\n        }\n        else {\n            rectPen = null;\n        }\n        graphics.drawRectangle(rectPen, rectBrush, x, y + pixelToPoint(height), width, page.getClientSize().height);\n        if (this.holidayCompleted) {\n            var state_1 = graphics.save();\n            var font1 = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n            if (ganttStyle.font) {\n                font1 = ganttStyle.font;\n            }\n            var fontHieght = font1.height;\n            var fontSize = font1.size;\n            graphics.translateTransform(this.holidayWidth + width - ((fontSize / 2) * this.holidayNumberOfDays) -\n                fontHieght + (fontHieght / 2) + (width * this.holidayNumberOfDays) / 2, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_1);\n            this.holidayCompleted = false;\n        }\n        if (this.fitHolidayCompleted) {\n            var holidayBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n            var font1 = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n            if (ganttStyle.font) {\n                font1 = ganttStyle.font;\n            }\n            var fontSize = font1.size;\n            graphics.drawRectangle(null, holidayBrush, x + (width / 2) - fontSize, y +\n                pixelToPoint(height), fontSize, page.getClientSize().height);\n            var state_2 = graphics.save();\n            graphics.translateTransform(x + width + (width / 2) - fontSize, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_2);\n            this.fitHolidayCompleted = false;\n        }\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font = ganttStyle.font;\n        }\n        var textBrush = new PdfSolidBrush(!isNullOrUndefined(ganttStyle.timeline.fontBrush)\n            ? ganttStyle.timeline.fontBrush : eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* eslint-disable-next-line */\n        var state = graphics.save();\n        graphics.setClip(new RectangleF(x, y, width, pixelToPoint(height)));\n        if (isTopTier) {\n            x = x + pLeft + 4;\n        }\n        else {\n            x = x + pLeft;\n        }\n        graphics.drawString(eventArgs.value, font, null, textBrush, x, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n        graphics.restore(state);\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    PdfGanttPredecessor.prototype.findindex = function (num) {\n        var dataindex;\n        if (!this.parent.enableVirtualization) {\n            this.parent.currentViewData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n        else {\n            this.parent.flatData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.findindex(this.parentIndex)];\n        var childTask = pdfGantt.taskbarCollection[this.findindex(this.childIndex)];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        switch (this.type) {\n            case 'FS':\n                if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType1';\n                        }\n                        else {\n                            predecessorType = 'FSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType3';\n                        }\n                        else {\n                            predecessorType = 'FSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SF':\n                if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType1';\n                        }\n                        else {\n                            predecessorType = 'SFType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType3';\n                        }\n                        else {\n                            predecessorType = 'SFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'FF':\n                if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType1';\n                        }\n                        else {\n                            predecessorType = 'FFType2';\n                        }\n                    }\n                    else {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType3';\n                        }\n                        else {\n                            predecessorType = 'FFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SS':\n                if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType1';\n                        }\n                        else {\n                            predecessorType = 'SSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType3';\n                        }\n                        else {\n                            predecessorType = 'SSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n        }\n        var midPointManualparent = Math.round((this.parent.rowHeight - 15) / 2.0);\n        var midPointforTaskbar = Math.round((this.parent.rowHeight - 1) / 2.0);\n        var midPointforBaseline = Math.round((this.parent.rowHeight - 10) / 2.0);\n        var midPoint = this.parent.renderBaseline ? midPointforBaseline :\n            ((!parentTask.isAutoSchedule && parentTask.isParentTask) || (!childTask.isAutoSchedule && childTask.isParentTask)) ?\n                midPointManualparent : midPointforTaskbar;\n        midPoint = pixelToPoint(midPoint);\n        /* eslint-disable-next-line */\n        var point1, point2, point3, point4, point5, point6;\n        point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n        var parentTaskpoint = __assign({}, parentTask.taskStartPoint);\n        var childTaskpoint = __assign({}, childTask.taskStartPoint);\n        parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n        childY = childTaskpoint.y + childPageData.startPoint.y;\n        var ffpoint1;\n        var sspoint1;\n        var ffpoint3;\n        var ffpoint4;\n        var sspoint4;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            ffpoint1 = new PointF((this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF((this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF((this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF((this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF((this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        else {\n            ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        switch (predecessorType) {\n            case 'FSType1':\n            case 'FSType3':\n                point1 = ffpoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = ffpoint3;\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FSType2':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, childY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), childY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FSType4':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, parentY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), parentY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FFType1':\n            case 'FFType3':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FFType2':\n            case 'FFType4':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType1':\n            case 'SSType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType2':\n            case 'SSType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType1':\n            case 'SFType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType2':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                point3 = new PointF(point2.x, childY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'SFType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                point3 = new PointF(point2.x, parentY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = __assign({}, endPoint);\n        var newStartPoint = __assign({}, endPoint);\n        var checkStartPoint = __assign({}, endPoint);\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF((this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF((this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - (width), point1.y - (width));\n            }\n            else {\n                point2 = new PointF(point1.x + (width), point1.y - (width));\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n            else {\n                point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n        }\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var point3;\n        var predecessorPen;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            point3 = new PointF(point2.x, point2.y + (2 * width));\n            predecessorPen = new PdfPen(brush, (this.lineWidth));\n        }\n        else {\n            point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n            predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        }\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfDashStyle, PdfBrushes } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(parent) {\n        this.parent = parent;\n    }\n    EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight) {\n        var taskGraphics = page.graphics;\n        var pageSize = page.getClientSize();\n        var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        /* eslint-disable-next-line */\n        var strSize;\n        if (!isNullOrUndefined(eventMarker.label)) {\n            strSize = font.measureString(eventMarker.label);\n        }\n        var triangle = 8;\n        var eventLine = new PdfPen(new PdfColor(0, 0, 0));\n        eventLine.dashStyle = PdfDashStyle.Dash;\n        if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n            var enventFormat = new PdfStringFormat();\n            enventFormat.alignment = PdfTextAlignment.Center;\n            var eventBrush = new PdfSolidBrush(new PdfColor(253, 191, 100));\n            var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n            var diff = 10;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x +\n                        (left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n            else {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\nimport { EventMarker } from './pdf-event-marker';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.changeCloneProjectDates = false;\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.eventMarker = new EventMarker(parent);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.changeCloneProjectDates = true;\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.timelineModule.timelineStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                        detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                        break;\n                    }\n                case 'Hour':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays1 = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setHours(detail.startDate.getHours() + sDays1 * count);\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays1 = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setHours(detail.endDate.getHours() + eDays1 * count);\n                        break;\n                    }\n                case 'Day':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays = (Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth)));\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                        var endDays = Math.round(((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth))) - 1;\n                        var startdate = detail.startDate;\n                        startdate.setHours(0, 0, 0, 0);\n                        var secondsToAdd = this.parent.workingTimeRanges[0].to * 1000;\n                        detail.endDate = new Date(startdate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays * count);\n                        detail.endDate.setTime(detail.endDate.getTime() + secondsToAdd);\n                        break;\n                    }\n                case 'Week':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                        var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                        break;\n                    }\n                case 'Month':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                        var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                        break;\n                    }\n                case 'Year':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                        var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                        break;\n                    }\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(this.ganttStyle.chartGridLineColor));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            page['contentWidth'] = (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pointToPixel(_this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint) : _this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint;\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n            });\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                var graphics = pdfPage.graphics;\n                var pen = new PdfPen(new PdfColor(_this.ganttStyle.chartGridLineColor));\n                var lineWidth = void 0;\n                if (page['contentWidth'] && (_this.parent.gridLines === 'Both' || _this.parent.gridLines === 'Horizontal')) {\n                    lineWidth = _this.chartHeader.timelineWidth;\n                    graphics.drawRectangle(pen, pageStartX, taskbarPoint.y, page['contentWidth'] + 0.5, rowHeight);\n                }\n                var isNextPage = task.drawTaskbar(pdfPage, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[parseInt(i.toString(), 10)], lineWidth);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    else {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                    var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                    _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n                });\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                pageData.width = (detail.totalWidth);\n            }\n            else {\n                pageData.width = pixelToPoint(detail.totalWidth);\n            }\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.isPdfExport = false;\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     * @returns {string} .\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    };\n    /**\n     * @param {PdfExportProperties} pdfExportProperties .\n     * @param {boolean} isMultipleExport .\n     * @param {object} pdfDoc .\n     * @param {boolean} isBlob .\n     * @returns {Promise<Object>} .\n     */\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        var _this = this;\n        this.isBlob = isBlob;\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (getValue('cancel', args)) {\n            /* eslint-disable-next-line */\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            if (pdfExportProperties.exportType === 'CurrentViewData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.currentViewData, null, true);\n            }\n            else if (pdfExportProperties.exportType === 'AllData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.flatData, null, true);\n            }\n            else {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.updatedRecords, null, true);\n            }\n            this.helper.beforeSinglePageExport['cloneCurrentViewData'] = extend([], this.parent.currentViewData, null, true);\n            data = this.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            if (!isNullOrUndefined(pdfExportProperties.exportType)) {\n                if (pdfExportProperties.exportType === 'CurrentViewData') {\n                    data = this.parent.currentViewData;\n                }\n                else {\n                    data = this.parent.flatData;\n                }\n            }\n            else {\n                data = this.parent.updatedRecords;\n            }\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', _this.isBlob ? { promise: _this.blobPromise } : {});\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n            resolve(_this.pdfDocument);\n        });\n    };\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        this.pdfPage = section.pages.add();\n        this.pdfPageDimensions = this.pdfPage.getClientSize();\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(_this.pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (_this.helper.exportProps && _this.helper.exportProps.fitToWidthSettings &&\n                _this.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n                _this.parent.zoomingProjectStartDate = _this.helper.beforeSinglePageExport['zoomingProjectStartDate'];\n                _this.parent.zoomingProjectEndDate = _this.helper.beforeSinglePageExport['zoomingProjectEndDate'];\n                _this.parent.cloneProjectStartDate = _this.helper.beforeSinglePageExport['cloneProjectStartDate'];\n                _this.parent.cloneProjectEndDate = _this.helper.beforeSinglePageExport['cloneProjectEndDate'];\n                _this.parent.timelineModule.customTimelineSettings = _this.helper.beforeSinglePageExport['customTimelineSettings'];\n                _this.parent.isTimelineRoundOff = _this.helper.beforeSinglePageExport['isTimelineRoundOff'];\n                _this.parent.timelineModule.topTier = _this.helper.beforeSinglePageExport['topTier'];\n                _this.parent.timelineModule.topTierCellWidth = _this.helper.beforeSinglePageExport['topTierCellWidth'];\n                _this.parent.timelineModule.topTierCollection = _this.helper.beforeSinglePageExport['topTierCollection'];\n                _this.parent.timelineModule.bottomTier = _this.helper.beforeSinglePageExport['bottomTier'];\n                _this.parent.timelineModule.bottomTierCellWidth = _this.helper.beforeSinglePageExport['bottomTierCellWidth'];\n                _this.parent.timelineModule.bottomTierCollection = _this.helper.beforeSinglePageExport['bottomTierCollection'];\n                _this.parent.timelineModule.totalTimelineWidth = _this.helper.beforeSinglePageExport['totalTimelineWidth'];\n                _this.parent.timelineModule.timelineStartDate = _this.helper.beforeSinglePageExport['timelineStartDate'];\n                _this.parent.timelineModule.timelineEndDate = _this.helper.beforeSinglePageExport['timelineEndDate'];\n                _this.parent.timelineModule.timelineRoundOffEndDate = _this.helper.beforeSinglePageExport['timelineRoundOffEndDate'];\n                _this.parent.perDayWidth = _this.helper.beforeSinglePageExport['perDayWidth'];\n                _this.parent.updatedConnectorLineCollection = _this.helper.beforeSinglePageExport['updatedConnectorLineCollection'];\n            }\n            if (_this.gantt.changeCloneProjectDates) {\n                _this.parent.cloneProjectStartDate.setHours(0);\n                _this.gantt.changeCloneProjectDates = false;\n            }\n            if (!isMultipleExport) {\n                if (!_this.isBlob) {\n                    // save the PDF\n                    if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                        _this.pdfDocument.save(pdfExportProperties.fileName);\n                    }\n                    else {\n                        _this.pdfDocument.save('Export.pdf');\n                    }\n                }\n                else {\n                    _this.blobPromise = _this.pdfDocument.save();\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation) && pdfExportProperties.pageOrientation === 'Portrait') {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { TreeGrid, VirtualScroll as TreeGridVirtualScroll } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.parent = parent;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * Bind virtual-scroll related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.enableVirtualization = this.parent.enableVirtualization;\n        TreeGrid.Inject(TreeGridVirtualScroll);\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    VirtualScroll.prototype.getTopPosition = function () {\n        var virtualTable = this.parent.ganttChartModule.scrollElement.querySelector('.e-virtualtable');\n        var translates = virtualTable.style.transform.split(',');\n        var top;\n        if (translates.length > 1) {\n            top = translates[1].trim().split(')')[0];\n        }\n        else {\n            var transformString = virtualTable.style.transform;\n            top = transformString.substring(transformString.lastIndexOf('(') + 1, transformString.lastIndexOf(')'));\n        }\n        return parseFloat(top);\n    };\n    /**\n     * To destroy the virtual scroll module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    VirtualScroll.prototype.destroy = function () {\n        // destroy module\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport, index.VirtualScroll, index.CriticalPath, index.UndoRedo);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","isCountRequired","dataSource","DataManager","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isRemoteData","adaptor","ODataAdaptor","ODataV4Adaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","RemoteSaveAdaptor","UrlAdaptor","getTaskData","records","isNotExtend","eventArgs","result","i","data","parseInt","toString","extend","taskData","timezone","updateDates","push","record","ganttProperties","taskFields","dateValidationModule","remove","baselineEndDate","baselineStartDate","formatString","str","args","regx","RegExp","replace","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","getUid","uid","DateProcessor","this","fromSegments","mondayTimeRangeLength","tuesdayTimeRangeLength","wednesdayTimeRangeLength","thursdayTimeRangeLength","fridayTimeRangeLength","saturdayTimeRangeLength","sundayTimeRangeLength","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","date","validateAsMilestone","isLoad","currentDay","Date","getTime","dayStartTime","dayEndTime","cloneStartDate","hour","getSecondsInDecimal","isMilestone","setTime","setDate","getDate","workingRange","workingTimeRanges","weekWorkingTime","to","from","tStartDate","autoCalculateDateScheduling","treeGrid","loadChildOnDemand","hasChildMapping","holidayLength","autoEndDate","startTime","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","editModule","taskbarEditModule","taskBarEditRecord","defaultStartTime","defaultEndTime","cloneEndDate","taskfields","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","getMilliseconds","checkBaselineStartDate","cloneDate","checkBaselineEndDate","autoStartDate","calculateStartDate","ganttData","tempStartDate","getStartDate","durationUnit","setRecordValue","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","segments","totalDuration","getEndDate","offsetDuration","tDuration","sumOfDuration","milestone","getDuration","col","columnByField","columnMapping","cellEditModule","isCellEdit","edit","read","dialog","dialogModule","textBox","querySelector","element","ej2_instances","dataBind","getNonworkingTime","sDate","eDate","isCheckTimeZone","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","nonWorkingSeconds","secondsPerDay","workDays","fromDuration","newStartDate","newEndDate","timeDiff","getHours","isOnHolidayOrWeekEnd","currentDaySeconds","totSeconds","durationValue","durationHours","getTimeDifference","undefined","getFormatedDate","parseFloat","getDurationAsSeconds","toLocaleLowerCase","secondDuration","tempStart","calculateSecondDuration","setSeconds","getSeconds","fromValidation","tempEnd","fromEndDate","num","Number","isInteger","deciNumber","split","getProjectStartDate","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoDuration","ganttTask","getTaskByUniqueID","uniqueID","allowUnscheduledTasks","parentItem","parentTask","getParentTask","getValidEndDate","getWorkingTime","day","currentRange","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","startHour","endHour","sdSeconds","edSeconds","assignStartTime","toLowerCase","assignEndTime","isWorking","interval","mondayDefaultStartTime","tuesdayDefaultStartTime","wednesdayDefaultStartTime","thursdayDefaultStartTime","fridayDefaultStartTime","saturdayDefaultStartTime","sundayDefaultStartTime","mondayDefaultEndTime","tuesdayDefaultEndTime","wednesdayDefaultEndTime","thursdayDefaultEndTime","fridayDefaultEndTime","saturdayDefaultEndTime","sundayDefaultEndTime","calculateWeekWorkTime","seconds","j","getSecondsPerDay","dayWorkingTime","dayOfWeek","timeRange","dayWorkingTime_1","_b","weekWorkingTime_1","weekDay","seconds_1","_c","_d","dayDefaultStartTime","seconds_2","getDurationValue","isFromDialog","values","match","trim","unit","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","checkWeekEnd","startnonWorkingTimeRange","endnonWorkingTimeRange","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","getMonth","getFullYear","previousIndex","getNonWorkingDayIndex","weekDayLength","workWeek","slice","min","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","getMinutes","offset","localOffset","convertedDate","toLocaleString","timeZone","isNaN","error","reverse","fromOffset","toOffset","fromLocalOffset","toLocalOffset","convert","toConvert","updatedDate","dateObject","globalize","parseDate","format","getDateFormat","type","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDatesForValidatedTasks","editArgs","_this","projectEndDate","maxEndDate","sortedStartDate","sort","a","b","sortedEndDate","cloneProjectEndDate","calculateProjectDates","enablePersistence","timelineModule","isZooming","currentViewData","taskRange","addDateToList","sortDates","dates","isZoomToFit","filterModule","filteredResult","forEach","task","renderBaseline","indicators","item","eventMarkers","marker","holiday","setValue","prevProjectStartDate","splitTasksDuration","bottomTier","Math","ceil","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","customSegmentProperties","isBaseline","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","updatedRecords","dataArray","ids","predecessorsCollection","parentData","processTimeline","renderGantt","initDataSource","ganttdata","cloneDataSource","map","chartRowsModule","updateSegment","taskId","enableValidation","validateTimelineProp","queryManager","query","Query","requiresCount","dataManager","executeQuery","then","e","catch","trigger","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempData","setProperties","segmentId","segmentCollection","segmentData","viewType","resources","unassignedTasks","constructResourceViewDataSource","resourceName","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","isResourceString","resource","prepareRecordCollection","initialLoadData","dataMap","reduce","set","Map","calculateSharedTaskUniqueIds","dependency","predecessorModule","ensurePredecessorCollection","this_2","getTaskIds","sharedRecords_1","ids_1","filter","level","rowUniqueID","sharedTaskUniqueIds","this_3","x","createRecord","updateTaskLeftWidth","setTaskIds","childData","parentProp","updateWorkWithDuration","parentWork","floor","calculateAutoDuration","updateAutoWidthLeft","allowParentDependency","resetDependency","updateWidthLeft","updateTaskData","addCustomFieldValue","ganttRecord","columns","ganttColumns","field","taskSettings","progress","notes","predecessors","autoSchedule","taskMode","manual","predecessor","undoRedoModule","addTaskData","setResourceInfo","updateResourceName","calculateScheduledValues","toLocaleDateString","predecessorsName","cssClass","getCloneParent","parentUniqId","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","childRecords","uniqueId","setSegmentsInfo","sortSegmentsData","onLoad","ganttSegments","remainingDuration","predefinedProperties","segment","cleanedObject","extraProperties","String","left","segmentIndex","timelineSettings","prevSegmentDate","setSegmentTaskData","mergedObject","assign","segmenttaskData","resourceOneDayWork","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","taskType","isOnEdit","childCompletedWorks","cloneParent","expanded","reUpdateResources","json","offline","tempData_1","segmentDataCollection","updatableValue","expandStateMapping","expandState","mappingValue","setValidatedDates","updateDurationValue","isMileStone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskTypeMapping","tType","validateTaskTypeMapping","calculateDateFromStartDate","calculateDateFromEndDate","updateDurationWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","updateUnitWithWork","ganttResources","taskBarEditAction","totalUnitInPercentage","individualUnit","isTreeGridRendered","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","parentRec","getTaskLeft","calculateAutoLeft","calculateAutoWidth","tierMode","customTimelineSettings","topTier","zoomOrTimeline","countValue","isValid","modifiedsDate","perDayWidth","isValid_1","k","dateDiff","test","isInDst","totalWidth","sOffset","eOffset","getDSTTransitions","year","findNthWeekday","month","n","UTC","getUTCDay","convertToTimezone","Intl","DateTimeFormat","minute","second","hour12","dstStartDate","dstEndDate","dstStart","dstEnd","hasDSTTransition","january","july","isFromTimelineVirtulization","isTimeSet","leftValueForStartDate","ganttChartModule","scrollObject","enableTimelineVirtualization","scrollLeft","getTimelineLeft","timelineStartDate","leftValue","hasDST","transitions","systemTimeZone","newTimelineStartDate","newDate","setStartDate","timelineStartTime","dstStartTime","isBeforeOrAtDSTStart","timelineUnitSize","unitHour","getSplitTaskWidth","getSplitTaskLeft","segmentTaskStartDate","stDate","segmentStartTime","fieldName","resourceSettings","resourcesId","resourcesName","resName","join","updateTaskDataResource","setRecordDate","setRecordDuration","segmentTaskData","isEdit","contextMenuModule","preTaskResources","isAdded","data_1","mapping","isDynamicData","setDataSource","createData","isArray","dataMapping","taskName","parentId","resourceIdCollection","isAddNewResource","resourceIDMapping","resourceUnitMapping","resourceGroup","resource_1","resourceIds_1","includes","ganttDataResource","updateResourceUnit","length_1","taskMapping","resourceLength","stringResourceName","taskResources","flatCollection","rootCollection","shift","splice","tempDuration","reUpdateGanttData","updateGanttData","_isInStartDateRange","isInRange","_isInEndDateRange","updateOverlappingValues","resourceTask","currentTask","tasks","ranges","workTimelineRanges","setSortedChildTasks","updateOverlappingIndex","cStartDate","cEndDate","range","tEndDate","rangeObj_1","mergeRangeCollections","calculateRangeLeftWidth","eOverlapIndex","isSplit","finalRange","currentTopRange","cCompareRange","sortedRanges","sortBy","splitRangeCollection","rangeCollection","fromField","toField","isSingleTier","getRangeWithWeek","getRangeWithDay","splitArray","splitRangeForDayMode","fromString","end","rangeObject","nStart","nEndDate","nextAvailDuration","round","splitRangeForWeekMode","start","isInSplit","rangeObj","isStartNotHolidayOrWeekend","isTempEndDateNotHolidayOrWeekend","isDifferentDates","resolvedOptions","updateParentItems","reUpdateGanttDataPosition","pdfExportModule","isPdfExport","helper","exportProps","fitToWidthSettings","isFitToWidth","beforeSinglePageExport","totalSegmentsProgressWidth","progressResizer","incrementSegments","showProgress","progressWidth","pStartDate","setProgress","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","recordProp","isUnscheduledTask","parantData","filledProperty","properties_1","prop","isFromManual","isParent","deleteUpdate","isParentUnschecule","childData_1","previousStartDate","previousEndDate","childRecords_1","childLength","milestoneCount","countOfScheduled_1","countOfUnScheduled_1","some","childRecord","isUnscheduled","propertyWithValue","isChildBoth","this_4","isOnDelete","isDelete","propertyWithValue_1","ganttRec","rec","numericValue","taskCount","parentProgress","taskbarEditedArgs","action","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","childProgressBarInnerDiv","baselineBar","chartRow","childProgressResizer","traceChildTaskBar","manualParentTaskBar","label","dependencyViewContainer","connectorPointLeft","content","rangeContainer","ChartScroll","previousCount","isSetScrollLeft","previousScroll","top","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","grid","updateShimmer","removeShimmer","transformChange","removeEventListeners","off","scrollTop","isFromTreeGrid","updateContent","ganttElement","currentCount","offsetWidth","deleteTableElements","createTimelineSeries","gridLines","dayMarkersModule","renderEventMarkers","nonworkingDayRender","renderWeekends","renderHolidays","updateChartElementStyles","chartTimelineContainer","tLeft","resultantWidth","wholeTimelineWidth","enableRtl","isBackwardScrolled","tableContainer","getElementsByClassName","innerHTML","outerHTML","translateXValue","dependencyViewer","connectorLineModule","taskTable","style","right","updateTopPosition","contentScrollTop","virtualScrollModule","enableVirtualization","getTopPosition","holidayContainer","weekendContainer","eventMarkersContainer","formatUnit","chartVerticalLineContainer","setTimeout","hideMaskRow","allowTaskbarOverlap","showOverAllocation","tr","ganttChartTableBody","childNodes","display","isExpandAll","isCollapseAll","getRowByIndex","height","getRows","contentHeight","children","virtualRender","adjustTable","showMaskRow","updateSpinner","showSpinner","window","clearTimeout","isScrolling","hideSpinner","scrollArgs","notify","previousScrollTop","scrollDirection","previousScrollLeft","totalTimelineWidth","updateWidthAndHeight","svgObject","setAttribute","isToolBarClick","isVirtualScroll","showIndicator","enableVirtualMaskRow","loadingIndicator","indicatorType","abs","requestType","setHeight","setWidth","setScrollTop","setScrollLeft","leftSign","destroy","VirtualContentRenderer","renderWrapper","wrapper","createElement","className","styles","appendChild","virtualTrack","chartBodyContent","appendChildElements","getContent","virtualTable","document","transform","treegridVirtualHeight","translateYValue","GanttChart","isExpandCollapseFromChart","debounceTimeoutNext","debounceTimeout","isGanttElement","previousPinchDistance","currentToolbarIndex","isPinching","rangeViewContainer","cls.rangeContainer","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","chartPane","renderTimelineContainer","renderBodyContainers","renderOverAllocationContainer","filterSettings","renderRangeContainer","isFromOnPropertyChange","updateProjectDates","isTimelineRoundOff","renderChartRows","connectorLineIds","updatedConnectorLineCollection","createConnectorLinesCollection","renderConnectorLines","node","criticalModule","criticalPathModule","enableCriticalPath","criticalPathCollection","criticalConnectorLine","detailPredecessorCollection","predecessorCollectionTaskIds","processZoomToFit","recordLength","renderRange","getTopValue","currentRecord","getExpandedRecords","nestedParent","getRecordByID","getRangeHeight","topValue","rowIndex","enableMultiTaskbar","offsetTop","sameIDElement","parentDiv","leftDiv","cls.rangeChildContainer","rightDiv","borderLeftWidth","borderRightWidth","chartBodyContainer","cls.chartScrollElement","toolbarHeight","toolbarModule","offsetHeight","ganttHeight","emptyHeight","contentElement","scrollHeight","isZoomedToFit","clientWidth","setVirtualHeight","updateGridLineContainerHeight","updateLastRowBottomWidth","wrapper1","navigator","userAgent","expandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","table","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","cancel","TouchEvent","touches","initPinchDistance","calculatePinchDistance","allowTaskbarDragAndDrop","editSettings","allowTaskbarEditing","editAction","getRecordByTaskBar","target","closest","which","tabIndex","isTaskbarEdited","button","allowEditing","endEdit","touch1","touch2","dx","clientX","dy","clientY","sqrt","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","resizeCheck","Check","falseline","removeFalseLine","isOnTaskbarElement","cls.taskBarMainContainer","chartExpandCollapseRequest","row","dateObjLeft","updateScrollLeft","scrollWidth","mouseUp","allowRowDragAndDrop","ganttDragElemet","documentMouseUp","showActiveElement","focusedElement","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","currentPinchDistance","processZooming","pageX","getOffsetRect","connectorLineEditModule","updateConnectorLineEditElement","contextClick","allowFiltering","closeFilterOnContextClick","srcElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getAttribute","getChartRows","getElementById","gridRow","collapseGanttRow","expandGanttRow","reRenderConnectorLines","arg","collapsedGanttRow","expandCollapseChartRows","idField_1","gridRec","getCurrentViewRecords","collapseRow","renderMultiTaskbar","updateContentHeight","expandedGanttRow","idField_2","expandRow","isExpandCollapseLevelMethod","refreshRecords","isChild","displayType","targetElement","t","chartRows","rows","expandCollapseAll","expandAll","collapseAll","treeGridContentHeight","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","touchEndEvent","mouseMove","touchMoveEvent","onWheelZoom","isAdaptive","click","body","unWireEvents","ctrlKey","preventDefault","zoomIn1_1","deltaY","isTouchpad_1","verticalScrollDelta","getIndexByTaskBar","updateElement","next","currentColumn","isTab","isInEditedState","getNextElement","saveCell","editCell","onTabAction","enableHeaderFocus","toolbarItems","$target","focusModule","setActiveElement","focusedRowIndex","nextElement","colIndex","toolbar","itemIndex","isUpdated","tempNextElement","childrenIndex","nextElementIndex","isEditableElement","manageFocus","allowNextRowEdit","columnName","getNextRowElement","getChildElement","editedColumn","nextElementSibling","fmodule","currentInfo","elementToFocus","matrix","current","previousElementSibling","labelSettings","rightLabel","leftLabel","matches","validateNextElement","rowRecord","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","childElement","focus","isChartElement","keyAction","getElementsByTagName","blur","cls.chartRow","__assign","s","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","pdfExportTopTierCollection","pdfExportBottomTierCollection","restrictRender","performedTimeSpanAction","initProperties","timelineEndDate","currentZoomingLevel","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","timelineContainer","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","currentScrollLeft","previousTimeline","zoomingProjectStartDate","zoomingProjectEndDate","checkCurrentZoomingLevel","currentLevel","foundLevel","zoomingLevels","find","tempLevel","enableItems","controlId","findIndex","newTimeline","timeline","changeTimelineSettings","skipProperty","property","tier","calculateWidthBetweenTwoDate","clientWidthDifference","zoomingLevel","firstValue","secondValue","totalDays","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","emptySpace","bottomTierCellWidthCalc","mode","zoomLevel","convertedMilliSeconds","daysInMonth","daysInYear","isStartDate","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","dateByLeftValue","milliSecondsPerPixel","td","div","thead","virtualTableDiv","virtualTrackDiv","loopCount","trTemplate","createTimelineTemplate","timelineVirtualizationStyles","trackWidth","contentVirtualTrack","position","virtualTableStylesT","virtualTableStylesB","virtualTrackStylesT","virtualTrackStylesB","difference","tierCount","timeDifference","timelineRoundOffEndDate","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dateString","formatDate","locale","customFormat","formatter","parentTr","increment","newTime","isFirstCell","parentTh","scheduleDateCollection","WidthForVirtualTable","timelineCell","getHeaterTemplateString","calculateQuarterEndDate","getIncrement","dubStartDate","dubStartHour","tierCollection","weekendEndDate","updateTimelineAfterZooming","resized","totWidth","contentWidth","widthDiff","getTimelineRoundOffEndDate","firstDay","lastDay","dayIntervel","checkDate","diffCount","isWeekendHeaderCell","calculateTotalHours","totalHour","scheduleWeeks","isLast","template","timelineTemplate","templateCompiler","thWidth","incrementValue","dubNewDate","newDateOffset","dubNewDateOffset","incrementHour","perMinuteWidth","bottomTierSettings","bottomTierCountIsOneAndUnitIsHour","value_1","topTierCellWidth","bottomTierCellWidth","cellWidth","isWeekendCell","textClassName","getTemplateID","weekendClass","th","weekendBackground","title","showTooltip","textContent","isReact","append","isWeekend","bottomTierCount","topTierCount","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","minEndDate","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","isChanged","taskbarModule","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowReordering","allowResizing","allowSorting","merge","GanttTreeGrid","isPersist","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","filPopOptions","filOptions","filterMenuElement","columnMenuClick","objectEqualityChecker","old","isEqual","excludeKeys","modifiedRecords","TreeGrid","allowSelection","allowKeyboard","enableHtmlSanitizer","enableImmutableMode","treeGridColumns","isLocaleChanged","previousGanttColumns","validateGanttColumns","createContainer","updateScrollTop","renderReactTemplate","args_1","portal","renderTemplates","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","registeredTemplate","appendTo","portals","enableAdaptiveUI","idMapping","showColumnMenu","enableCollapseAll","columnMenuItems","childMapping","treeColumnIndex","searchSettings","fields","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","beforeDataBound","dataStateChange","selectionModule","selectionSettings","persistSelection","getSelectedRowIndexes","treeDataBound","refreshToolbarItems","prevCurrentView","collapsingArgs","createExpandCollapseArgs","expandingArgs","collapsedArgs","expandedArgs","updateKeyConfigSettings","recordOne","updatedArgs","sortSettings","deleteObject","initiateCellEdit","currentEditRow","isCancelled","addDeleteRecord","selectedRowIndex","selectedIndexes","selectedRowIndexes","selectRows","selectRow","selectedRecords","getSelectedRecords","selectedTaskId","deletedRecord","indexvalue_1","currentSelection","addedRecord","updateDragDropRecords","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","isOpen","contextMenu","close","customColumns","tasksMapping","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","composeUniqueIDColumn","isDefined","previousColumn","prevcolumn","disableHtmlEncode","clipMode","composeIDColumn","params","renderWorkingDayCell","renderDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","dependencyValueAccessor","ui","flValInput","dropInstance","AutoComplete","changeLocale","text","placeholder","popupHeight","write","filteredValue","fltrObj","filterByColumn","operator","changeDelocale","composeResourceColumn","showInlineNotes","contentTemp","initializeCSPTemplate","colName","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","splitString_1","splitvalue","FF","FS","SS","SF","splitString_2","value_2","resourceValueAccessor","getResourceIds","taskIDName","isProjectView","lengthDataSource","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","GanttColumn","value_3","splitString_3","resourceNames","newScrollTop","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","LoadingIndicator","WeekWorkingTime","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","dropSplit","refreshedTr","refreshedData","taskBaselineTemplateNode","handleTouchMove","event","handleTouchEnd","initPublicProp","createChartTable","initiateTemplates","prevDate","contentModule","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","getChildTaskbarNode","rootElement","direction","childTaskbarNode","templateData","childTaskbarTemplateFunction","labelString","taskbarInnerDiv","progressDiv","cls.childProgressBarInnerDiv","getBorderRadius","tempDiv","taskLabelTemplateFunction","taskLabelTemplateNode","getTaskLabel","SanitizeHtmlHelper","sanitize","isTemplate","splitTaskbar","cls.traceChildTaskBar","getSplitProgressResizerNode","templateElement","innerText","childLabel","marginLeft","marginRight","textAlign","splitTasks","progressBarVisible","generateSpiltTaskAriaLabel","getSplitTaskbarLeftResizerNode","getSplitTaskBorderRadius","cls.taskLabel","getSplitTaskbarRightResizerNode","lResizerLeft","rResizerLeft","getSegmentIndex","splitStartDate","mergeTask","segmentIndexes","mergeArrayLength","mergeData","details","getUndoActions","previousFlatData","firstSegmentIndex","arrayLength","firstSegment","secondSegment","secondSegmentIndex","insertIndex","segmentFields","modifiedSegments","refreshChartAfterSegment","filterData","segmentsArray","segmentObj","updatedRecordsDateByPredecessor","removePreviousConnectorLines","refreshEditedRecordConnectorLine","isInPredecessorValidation","editedRecords","modifiedTaskData","triggerQueryTaskbarInfoByIndex","clearSelection","splitTask","splitDates","splitDate","splitRecord","segmentDuration","splitSegmentedTaskbar","constructSegments","checkClickState","endDateState","segmentEndDate","mode_1","timeIncrement","diff","calculateLeftValue","taskbarHeightValue","defaultTaskbarHeight","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","updateTaskBaselineNode","getMilestoneBaselineNode","baselineMilestoneHeight","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","getLableText","paddingLeft","paddingRight","labelDiv","leftLabelHeight","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","getManualTaskbar","childEle","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","tHeight","getExpandClass","progressBarInnerDiv","parentTaskLabelNode","labelElement","parentLabel","getTableTrNode","activecls","treeGridModule","isSelected","getRowClassName","getExpandDisplayProp","parentTaskbarTemplate","taskbarTemplate","templateName","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","childTaskbarProgressResizer","getLeftPointNode","marginTop","mileStoneLeftValue","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","canAdd","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","length_2","taskBarMarginTopValue","milestoneHeightValue","trs","collapsedResourceRecord","oldKeys","oldRowElements","getPrimaryKeyFieldNames","oldIndex","modifiedRecIndex","isFromRenderBaseline","tRow","getGanttChartRow","dupChartBody","tempTemplateData","maintainSelectedRecords","replaceChildren","Element","initialChartRowElements","triggerQueryTaskbarInfo","updateOverlapped","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","connectorLineRightNode","parentTaskbarTemplateNode","taskbarContainerNode1","appendChildTaskbars","manualTaskbar","connectorLineRightNode_1","milestoneTemplateNode","collapseParent","appendIndicators","setAriaRowIndex","visualData","queryTaskbarInfo","trElement","segmentLength","segmentElement","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","tooltip","taskbarCollection","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","length_3","segmentConnector","i_1","customizeTaskbars","segmentRowElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","backgroundColor","cls.baselineBar","childTask","progressTask","taskbarBgColor","taskbarBorderColor","outlineColor","progressBarBgColor","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","triggerTaskbarElement","currentData","taskbarElements","getRowByID","segmentElements","segmentedTasks","i_2","taskbarElement_1","taskBarElement","borderTopColor","classCollection","compile","eOverlapped","rowIDs","rowCounts","rowuniqueid","verticalAlign","rowDragAndDropModule","draggedRecordMarginTop","refreshRow","isValidateRange","isUndoRedo","selectedItem","replaceChild","replaceWith","dataId","setRowData","nextEditableElement","getRowObjectFromUID","getDataRows","updateResourceTaskbarElement","cloneElement","mainTaskbar","zIndex","cloneChildElement","cloneNode","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","generateBaselineAriaLabel","Dependency","gantt","parentRecord","parentIds","parentPredecessors","validatedParentIds","storeId","isChildRecordValidated","dateValidateModule","predecessorTasks","ensurePredecessorCollectionHelper","predecessorVal","preValues","predecessorItem","preValue","offsetUnits","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","predId","predData","updateRecordByID","fromId","boolValue","predecessorValue","offsetValue","predecessorText","parentRecords","el","firstPart","predecessorName","isGUId","isAlpha","regex","elSplit","pop","substring","lastIndex","lastIndexOf","lastPart","match_1","processedResult","prefixMatch","indexFS","spliceLength","isExist","toUpperCase","tempOffset","isDrawn","isOwnParent","fromData","toData","validateParentPredecessor","creatCollection","checkColloction","fdata","temp1","currentValue","multiple","durationUnitLabels","updatePredecessors","updatePredecessorHelper","successorGanttRecord","connectorsCollection","connectorCount","connector","predecessorCollection","traverseParents","totLength","validatePredecessorDates","validateRecord","updateChildItems","recordId","updateParentPredecessor","enablePredecessorValidation","parentGanttRecord","currentTaskId_1","previousIds","validateManualTasksOnLinking","validateChildGanttRecord","editedTaskBarItem","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","getRecord","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","ganttRecords","deletedTaskDetails","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","isCritical","connectorLineId","validatePredecessor","previousValue","validationOn","taskBarModule","successor","currentTaskId_3","successors","isValidationEnabled","isValidatedParentTaskID","rootParent","getRootParent","ganttProp_1","childRec","updateOffsetOnTaskbarEdit","isFirstCall","taskIdsForView","JSON","parse","stringify","idAsString","concat","validUpdate","validatedChildItems","previousData","previousRecords","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","calculateDateByRoundOffDuration","childLists","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","connectorLinePath","arrowPath","taskLineValue","cls.dependencyViewContainer","pointerEvents","renderer","SvgRenderer","createSvg","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","parentIndex","childIndex","parentIndexInCurrentView","childIndexInCurrentView","parentLeft","childLeft","childWidth","childId","milestoneParent","parentEndPoint","childEndPoint","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","insertBefore","lastChild","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","calculateAdjustments","adjustY1","adjustX","adjustY2","adjustZ","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","isMilestoneParent","isVirtual","getPosition","rowPositionHeight","isMilestoneValue","modifiedValue","heightValue","borderTopWidth","addTop","parentOverlapTopValue","childOverlapTopValue","fromRecordIsParent","toRecordIsParent","fromRecordIsManual","toRecordIsManual","rowHeight1","adjustments","connectorId","groupObject","createGroup","class","connectorPath","drawPath","fill","stroke-width","arrowlinePath","x1","x2","y1","y2","x3","x4","y3","y4","point1","adjustedX","point2","arrowX","topPosition","lineHeight","midPointParent","midPoint","isParentIndex","isChildIndex","lastRowIndex","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","innerTd","fromName","toName","finish","isObjectType","isObject","pre","lineId","removeConnectorLineById","Splitter","isSplitterResized","renderSplitter","splitterPosition","calculateSplitterPosition","splitterSettings","splitterElement","splitterObject","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","callBackPromise","Deferred","resizeStartArgs","resolve","resizing","resizeStop","splitterResizedArgs","splitterLeftPane","ariaValueNow","splitter","view","columnIndex","getTotalColumnWidthByIndex","widthAsString","intValue","updateSplitterPosition","triggerCustomResizedEvent","pane1","pane2","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","argsData","getTooltipContent","tooltipSettings","taskbar","taskbarTemplateNode","tooltipTemplate","baseLineTemplateNode","baseline","baselineTemplate","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","argData","currentTarget","tooltipMouseEvent","parentWithZoomStyle","postion","getPointorPosition","containerPosition","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","innerHeight","posX","posY","documentElement","elementType","taskNameValue","milestoneStartDate","sDateValue","sDate_1","startDateValue","endDateValue","progressValue","startDate_1","endDate_1","duration_1","progress_1","baselineStartDateValue_1","baselineEndDateValue_1","markerTooltipElement","markerTooltipElementValue_1","markerLabel_1","fromNameValue_1","fromIdValue_1","toNameValue_1","toIdValue_1","toId","linkTextValue_1","linkText","offsetStringValue_1","offsetString","titleValue_1","timlineTitleValue_1","autoStartDateValue","autoEndDateValue","durationUnitValue","manualStartDateValue","manualEndDateValue","autoStartDate_1","autoEndDate_1","durationValue_1","manualStartDate_1","manualEndDate_1","autoStartValue","autoEndValue","dateValue","autoStart_1","autoEnd_1","date_1","markerTooltipId","predeceesorParent","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","FocusModule","activeElement","previousActiveElement","getActiveElement","isPreviousActiveElement","onKeyPress","ele","focussedElement","sortModule","hidePopUp","getCellSelectedRecords","currentSelectingRecord","searchElement","upDownKeyNavigate","HTMLElement","expandCollapseKey","textValue","tempValue","dialogObj","stopPropagation","addRecord","newRowPosition","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","top_1","undo","redo","ganttRow","firstRowIndex","selectRowsByRange","keyEvent","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","selectedRowIndex_1","expandByIndex","collapseByIndex","Gantt","isRowSelected","singleTier","triggeredColumnName","totalUndoAction","isExpandPerformed","oldRecords","updateDuration","isConvertedMilestone","isOnAdded","isFromEventMarker","isConnectorLineUpdate","staticSelectedRowIndex","needsID","eventMarkerColloction","mergePersistGanttData","getModuleName","preRender","getCurrentDayStartTime","getCurrentDayEndTime","getStartTime","getEndTime","endTime","getNonWorkingRange","nonWorkingTimeRange","sundayNonWorkingTimeRanges","mondayNonWorkingTimeRanges","tuesdayNonWorkingTimeRanges","wednesdayNonWorkingTimeRanges","thursdayNonWorkingTimeRanges","fridayNonWorkingTimeRanges","saturdayNonWorkingTimeRanges","getWorkingRange","sundayWorkingTimeRanges","mondayWorkingTimeRanges","tuesdayWorkingTimeRanges","wednesdayWorkingTimeRanges","thursdayWorkingTimeRanges","fridayWorkingTimeRanges","saturdayWorkingTimeRanges","sundaySeconds","mondaySeconds","tuesdaySeconds","wednesdaySeconds","thursdaySeconds","fridaySeconds","saturdaySeconds","Internationalization","isDevice","UpdateOffsetOnTaskbarEdit","L10n","getDefaultLocale","mondayNonWorkingHours","tuesdayNonWorkingHours","wednesdayNonWorkingHours","thursdayNonWorkingHours","fridayNonWorkingHours","saturdayNonWorkingHours","sundayNonWorkingHours","durationUnitTexts","days","hours","minutes","isMileStoneEdited","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","splitterModule","keyConfig","home","saveRequest","cancelRequest","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","selectAll","resourceFieldsMapping","isUndoRedoItemPresent","undoRedoActions","dateFormat","getDatePattern","skeleton","getDefaultTZOffset","janMonth","julMonth","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","isVue","vueInstance","createSpinner","renderToolbar","actionFailures","clear","checkModule","moduleName","settings","injectedModules","failureCases","modules","lettersRegex","allPropertiesNull","isPrimary","markers","allowDeleting","showDeleteConfirmDialog","allowExcelExport","dragAndDrop","enableUndoRedo","dayMarkers","highlightWeekends","enableContextMenu","allowPdfExport","failureEventArgs_1","err","isTablePresent","contentMaskTable","maskTable","headerMaskTable","ganttHeader","scrollLeftValue","ganttContent","renderBackGround","createMaskTable","renderHeaderBackground","backgroundLines","containerWidth","getBoundingClientRect","firstChild","shimmerContainerHeight","header","createEmptyTimeLineTable","removeProperty","createEmptyMaskTable","timelineHeight","tbody","duplicateRow","topBottomHeader","applyTimelineMaskRow","maskRow","maskCells","maskCell","innerMaskCells","htmlInner","columnLoop","applyMaskRow","renderChartVerticalLines","removeCriticalPathStyles","ganttChartElement","KeyboardEvents","keyActionHandler","eventName","windowResize","keyDownHandler","unwireEvents","altKey","keyCode","updateRowHeightInConnectorLine","updateContainerHeight","firstMenuItem","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","_WeekStartDay","updateTimescaleView","displayHalfValue","displayQuarterValue","updateTreeColumns","gridColumns","getColumns","gridColumn","isUndefined","scrollContainer","searchString","properties","matchedObject","treeColumn","timelineContainer_1","createGanttPopUpElement","renderComplete","getCurrentRecords","showCriticalPath","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","getActualProperties","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","updateOverAllocationCotainer","refresh","getPersistData","keyEntity","ignoreOnPersist","ignoreOnColumn","currentObject","ignoreInArrays","addOnPersist","ignoreInColumn","nonworkingContainer","resetTemplates","requiredModules","member","sortColumn","isMultiSort","mergeColumns","storedColumn","setFrozenCount","splitFrozenCount","isFrozenGrid","clearSorting","verticalLines","chartRowsTD","getContentHeight","currentProp","getHeaderContent","headerTable","thElements","thLength","leftPos","containerDiv","divElement","emptyRecord","criticalPath","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessorFS","taskAfterPredecessorFS","taskBeforePredecessorSS","taskAfterPredecessorSS","taskBeforePredecessorFF","taskAfterPredecessorFF","taskBeforePredecessorSF","taskAfterPredecessorSF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","indent","outdent","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","parent_1","get","parent_2","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","export","clearFiltering","removeFilteredColsByField","isCustomManual","currentEditedRowData","nonWorkingDays","isDisabled","previousTimeSpan","timeSpan","browserZoomLevel","outerWidth","innerWidth","reorderColumns","fromFName","toFName","initiateEditAction","isStart","isTaskData","makeCloneData","task_1","currentAction","oldRecord","cloneData","prevValue","clonedValue","isObjectArray","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","ind","expandByID","collapseByID","rowPosition","addRowPosition","addRowIndex","dropChildRecord","updateTaskId","currentId","newId","getRedoActions","clearUndoCollection","clearRedoCollection","getCriticalTasks","fitToProject","reorderRows","fromIndexes","toIndex","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","gridRows","popup","keyVal","box","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","deleteRecord","taskDetail","isEnable","updateDataArgs","customData","convertToMilestone","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","renderReactTemplates","clearTemplate","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","isResourceCellEdited","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","readOnly","parentReference_1","openNotesEditor","isNOU","updatedEditFields","editedObj","editedArgs","editedValue","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","validateEndDateWithSegments","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","currentDuration","updateSegmentProgress","baseLineStartDate","baseLineEndDate","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","isResourceUpdate","cellEditArgs","workValue","EditTooltip","taskbarEdit","opensOn","mouseTrail","windowCollision","offsetLeft","editing","scrollY","toolTipHeight","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","taskWidth","getTooltipText","offsetY","offsetX","tooltipString","instance","editRecord","templateNode","TaskbarEdit","previousLeftValue","isMouseDragged","dependencyCancel","isDragged","editElement","elementOffsetLeft","elementOffsetTop","elementOffsetWidth","elementOffsetHeight","currentItemTop","currentItemPrevTop","isClonedElement","updatePosition","tooltipValue","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","predecessorIndex","renderPredecessorDeleteConfirmDialog","cloneTaskBar","realTaskbarElement","getTaskBarAction","index_1","ganttprop","parentleft","resizeElement","setProperty","currentindex","resizeTable","resizetableBody","createTable","taskbarPosition","tableBody","cloneTaskbarElement","taskbarResizer","currentIndex","updateMouseDownProperties","prevZIndex","secondElement","fadeConnectorLine","isShowProgressResizer","isShowConnectorPoints","progressElement","cls.childProgressResizer","connectorElement","record_2","leftConnector","rightConnector","mouseDownElement","getCoordinate","zoom1","zoom","pageY","mouseDownX","mouseDownY","dragMoveY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","removeFirstBorder","canremove","removeLastBorder","islastRowIndex","isEmptyRow","removetopOrBottomBorder","border","addRemoveClasses","topOrBottomBorder","gridElement","removeChildBorder","borderElem","cells","len","addErrorElem","dragelem","paddingTop","removeErrorElem","errorelem","ensurePosition","draggedRecords","draggedRecord","ganttRowElement","currentElement","xValue","yValue","elementFromPoint","draggedTreeGridRowElement","draggedTreeGridRowHeight","chartRowElement_1","droppedTreeGridRowElement","tObj","rowTop","toolHeight","positionOffSet","firstElementChild","divide","topRowSegment","middleRowSegment","bottomRowSegment","posy","isTopSegment","isMiddleRowSegment","isBottomRowSegment","droppedTreeGridRecord","isMouseClick","editingFields","updateMouseMoveProperties","oldData","mainElement","resizeGripper","currentWidth","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","updateConnectorLineSecondProperties","triggerDependencyEvent","drawFalseLine","parentClientRect","coordinates","pos","reduceHeight","currentSegmentIndex","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","sign","timelineWidth","clearInterval","differenceWidth","previousMouseMove","previousSegment","nextSegment","validateProgressWidth","totalTaskWidth","startIndex","endIndex","diffrenceWidth","prevProgress","widthValue","progressBorderRadius","enableSplitTaskLeftResize","updateEditPosition","segment_1","segment_2","segment_3","updateIsMilestone","segmentWidth","updatedValues","getProgressPercent","getRoundOffStartLeft","getDateByLeft","updateSplitLeftResize","getRoundOffEndLeft","tempdate","updateSplitRightResizing","updateChildDrag","setSplitTaskDrag","segmentOffsetDuration","segmentOffset","segmentDate","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","rightResizer","segmentedTaskBarContainer","traceChildProgressBar","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","segmentConnectorPointRight","manualParentTaskbar","resizeLine","segment_4","borderBottomRightRadius","borderTopRightRadius","width_1","progressElements","width_2","resizeValue","mouseDragged","cancelTaskbarEditActionInMouseLeave","resMouseY","taskbarEdited","reUpdatePreviousRecords","fixedWidth","totalProgressWidth","tempWidth","draggedRecIndex","flatRecordCol","droppedRecord","droppedTarget","droppedParentRecordIndex","draggedParentRecordIndex","fromIndex","dropIndex","dropPosition","dropRecord","droppedRecordIndex","updateParentProgress","segment_5","eDate_1","parentwidth","progresswidth","angle","atan2","PI","falseLine","transformOrigin","isRemoveConnectorPointDisplay","isBigger","zoomedPageY","fromItem","toItem","isValidLink","validatePredecessorRelation","predecessorArray","newPredecessorString","tooltipElement","e_1","changedTouches","DialogEdit","isFromDialogPredecessor","isTriggered","taskFieldColumn","customFieldColumn","processedId","updatedAddFields","dialogEditValidationFlag","isValidData","isResourceTabUpdated","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","defaultedit","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","valueOf","composeAddRecord","isFromAddDialog","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","numericOrString","isFromEditDialog","dialogModel","dialogMaxWidth","animationSettings","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","beforeClose","closedBy","nodeName","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","CustomformObj","formObj","storeValidTab","validate","storeDependencyTab","firstOccuringTab","dependencyTab","storeResourceTab","resourceTab","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getObject","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getSegmentsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","validationRules","changeFormObj","actionCompleteArg","storeColumn","getFilteredDialogFields","validateColumn","firstFieldType","customFieldColumns","taskFieldColumns","validationRulesArray","customColumn","createFormObj","taskColumn","targetArray","columnValue","form","rules","FormValidator","validationComplete","customPlacement","nameAttribute","valErrorPlacement","getElemTable","tooltipContent","errorMessage","existingTooltip","tooltipContainer","labelId","tooltipLabel","errorMessageElement","arrow","status","selectedContent","hasEditedBatchCell","hasEditedOrAddedRow","batchSave","isValidateColumn","responsiveTabContent","resourceSelection","enableToolbarItems","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","floatLabelType","checkboxModel","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","dropDownListObj","targetId","cellValue","strViewType","container","path","customFn","required","minLength","validateSegmentFields","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","ganttId","taskField","picker","numericTextBox","validateDuration","updatedStartDate","validateStartDate","validateEndDate","segmentInputModel","prefixIcon","tooltipText","align","datePickerModel","columnFields","inputTextModel","getGridColumnByField","updateSegmentField","inputValue","gridModel","selectedSegment","inputModel","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","toolbarSettings","createFormElement","createInputElement","isCustomTab","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","renderSegmentsTab","segmentGridActionBegin","gridData","taskIdField_1","newId_1","getDialogTabIndex","tabName","indexValue","setInjected","allProperty","Grid","toolbarCollection","columnCollection","additionalParams","Filter","Sort","Page","Group","Aggregate","ColumnChooser","ColumnMenu","ContextMenu","Resize","Reorder","DetailRow","RowDD","Search","Selection","VirtualScroll","Print","PdfExport","ExcelExport","GridToolbar","itemName","preData","ForeignKey","columnCollections","updateColumns","gridObj","addFields","itemModel","getId","renderInputElements","templateFields","scriptElement","templateContent","isCheckIsDisabled","stringOrNumber","isParentValid","dependencyColumn","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","predecessorLength","preTableCollection","gridActionComplete","gridActionBegin","ComboBox","idCollection","allowCustom","idInput","itemData","autofill","existingColumns","newColumns","columnMap","newColumn","isEdit_1","gridData_1","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","currentResources","rowDeselected","toolbars","TreeGridFilter","TreeGridSort","TreeGridPage","TreeGridEdit","TreeGridAggregate","TreeGridResize","TreeGridReorder","TreeGridRowDD","TreeGridSelection","TreeGridToolbar","isColumnMenu","treeGridObj","resourceColumn","RichTextEditor","Image","Table","EmojiPicker","FileManager","FormatPainter","RTEToolbar","MarkdownEditor","Link","HtmlEditor","QuickToolbar","Count","notesColumn","enabled","checked","inputObj","preTaskIds","currentFlatData","parentUniqueID","tempObject","preDataCollection","validSuccessorTasks","fromId_1","idIndex","isIdInclude","item_1","arraysMatch","typeText","indexes","id_1","rowItems_1","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","updateSegmentsData","disableUndo","newRecords","parentRecordIndex","compareObjects","prevSegments","currentSegments","every","obj1","obj2","updateSegmentTaskData","segmentForm","generalForm","isCustom","tasksData","valueString","HTMLInputElement","updateScheduleProperties","validateUpdateValues","fromRecord","toRecord","getMatchingPrefix","idArray","parts","preElement","newValues","splitString","name_1","resourceElement","notesElement","rte","getText","getHtml","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","validatedId","validatedOffsetIds","isPublicDependencyDelete","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isArrow","isCriticalLine","isCriticalArrow","connectorLineElement","removeHighlight","addHighlight","pathElement","getEditedConnectorLineString","lineArray","editedConnectorLineString","lineIndex","lineString","idFromPredecessor","preArray","preIdArray","strArray","predecessorValidation","visitedIdArray","state_1","currentIdArray","predecessorIdArray","flag","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","validationDialogCancelButton","currentArgs","validateMode","applyPredecessorOption","checkChildRecords","updateEditedTask","editEventArgs","connectedTaskId_1","taskId_1","processPredecessors","compareArrays","arr1","arr2","record_1","calculateOffset","isIdInclude_1","removePredecessors","keys1","keys2","isRecursive","prevPredecessor","validPredecessor_1","cumulativePredecessorChanges","pred","isNegativeOffset","preIndex","parentPreIndex","validPredecessor_2","matchingObjects","objectToCompare","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","topContent","innerTable","validateTypes","violatedParent","ganttTaskData","violateType","endDateOlny","startDateOlny","addRemovePredecessor","prevData","newPredecessor","prevPredecessor_1","this_5","this_6","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","isNewRecordAdded","isValidatedEditedRecord","createArray","canReset","updateParentRecords","isaddtoBottom","taskbarMoved","predecessorUpdated","isBreakLoop","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttPropKey","totDuration","sdate","edate","seg","validateScheduleValues","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","updateData","childRecordIndex","validateObject","newArgs","validateTaskEvent","editedEventArgs","resetValidateArgs","validateChildPredecessors","updateParentChildRecord","updateParentItemOnEditing","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","currentBaselineStart","currentBaselineEnd","currentProgress","unModifiedData","eventArg","ganttProps","updatedData","changedRecords","crud","dataAdaptor","batchUrl","saveChanges","dmSuccess","dmFailure","saveSuccess","updateEditedFields","eLength","_aLength","updateEditedRecordFields","deleteRecords","updateSharedTask","updateResoures","isTreeGridRefresh","updateRowIndex","prevResource","currentResource","updateRecord","flatRecords","currentLength","previousLength","prevResourceID","addNewRecord","record1","prevLength","taskID","removeChildRecord","checkWithUnassignedTask","unassignTaskObj","beforeEditStatus","cAddedRecord","addRecordAsBottom","recordIndex1","updateTreeGridUniqueID","addRecordAsChild","deletedRow","flatParentData","deleteChildRecords","uniqueIDIndex","deleteRecordIDs","removeFromDataSource","flatRecordIndex","idx","deletedRecordCount","getChildCount","childRecordsLength","spliceIndex","deletedIndexes","draggedParent","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","deleteResourceRecords","resourceParent","deleteRow","totalRecords","variableType","updateTargetedRecords","taskDetailArray","rowItems","deleteItems","canDeletePredecessor","removePredecessorOnDelete","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","cId","nId","cIndex","nIndex","thisRecord","currentGanttRecord","updatePredecessorOnUpdateId","removeData","dataCollection","modifiedRecord","updatedData_1","deletedRecords","query_1","deleteCrud","deleteSuccess","isUnassignedTask","isCollapsed","prevRecordIndex","flatIndex","treeGridParentIndex","dataIndex","refreshRecordInImmutableMode","updateUnAssignedResources_1","isDuplicate","newTaskId","prepareNewlyAddedData","newTaskIDmd","taskModel","updateNewlyAddedDataBeforeAjax","pIndex","backUpAndPushNewlyAddedRecord","addRowSelectedItem","newRecord","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","parentRecordTaskData","updatedPredecessor","predecessorCollections","prdcList","temppredecessorCollection","currentItemIndex","updatedCollectionIndex","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","dragged","treeIndex","uniqueTaskID","originalIndex","renderModule","cellRender","cell","RowModifier","updateRealDataSource","addDataInRealDataSource","updateClientDataFromServer","serverReturnedValue","addedRecords","addNewUndoCollection","tempArray_1","addedRec","tempTaskID","cAddedRecord_1","validateTaskPosition","addData","addIndex","removeAddedRecord","_resetProperties","data_2","updatedData_2","prevID","idsIndex","updateNewRecord","data_3","canDelete","isPresent","id_2","refreshNewlyAddedRecord","createNewRecord","tempRecord","taskSettingsFields","AddRecord","rowCount","objCollection","undoRedoModule_1","handleResourceUpdate","targetData","flatRecordsIndex","currentViewDataIndex","getPrevRecordIndex","prevRecord","selectedRecord","indentOutdentRow","thisParent","actionArgs","actionArg","reArrangeRows","isByMethod","draggedRec","dragRecords","droppedRec","dLength","deleteDragRow","treeGridData","updateChildRecordLevel","updateChildRecord","dropMiddle","newParentIndex","refreshDataSource","refreshRecord","isDrag","queryValue","indentSuccess","indentFailure","indentOutdentSuccess","indx","proxy","rowPos","dragRecord","delRow","removeRecords","updateIndentedChildRecords","indentedRecord","createParentItem","recordLevel","levl","currentRec","flatParent","removeChildItem","gridIndx","recordIdx","childItem","columnDragStart","columnDrag","columnDrop","updateCustomFilters","initiateFiltering","updateModel","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","getCustomDateFormat","textBoxInstance","durationObj","intVal","dayVal","datePickerElement","dateTimePickerElement","filterAfterOpen","updateFilterMenuPosition","filterObj","filterValues","instanceObj","setPosition","li","ul","parentNodeTop","parentNodeLeft","gridPos","gridPosTop","gridPosLeft","isNonBodyTag","HTMLDocument","liPos","scrollX","getColumnHeaderByField","getFilterMenuPostion","TreeGrdSort","sortByColumn","isSelectionFromChart","isFromChart","multipleIndexes","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","addRemoveClass","prevRowIndex","previousSelection","isInteracted","isContains","rowIndexes","cellselectingArgs","isPreventFocus","condition","selectedRow","preventFocus","selectedClass","selectedRows","selectedIndexes_1","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","shiftKey","rIndex","addRowsToSelection","getselectedrowsIndex","request","persist","selectedRecordLen","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","elements","Toolbar","predefinedItems","propertyChanged","headerModule","offsetParent","preItems_1","itemStr","localeName","searchLocalText","createToolbar","addReactToolbarPortals","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","disableItems","previousGanttRecord","toolbarDefaultItems","isResouceParent","hasData","isDeleteSelected","selectedRecordsCount","hideItem","items_1","NonWorkingDay","weekendWidthUpdated","createNonworkingContainer","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","getWeekendElements","nonWorkingIndex","isFirstExecution","dubDate","sDateOffset","dubDateOffset","isHourTimeline","weekendDiv","updateHolidayLabelHeight","gantttable","labels","removeContainers","getEventMarkersElements","removeContainer","eventMarkerElement","rightArrow","eventMarkerCollection","DayMarkers","eventMarkerRender","refreshMarkers","updateHeight","CriticalPath","validatedids","resourceCollectionIds","criticalTasks","modelIds","dateDifference","checkBeyondEnddate_1","totalPredecessorsCollection","totalPredecessorsCollectionId","taskBeyondEnddate","predecessorTaskBeyondEnddate","collectionTaskId","fromDataObject","criticalPathIds","slack","currentRecords","endTask","toPredecessor","fromPredecessor","individualPredecessorLength","taskid","enddate","collectionLength","indexEnddate","z","fromdata","todateID","fromDataPredecessor","slackCalculation","finalCriticalPath","pathIndex","modelRecordIds","fromDateArray","fromTaskIdIndex","indexFromTaskId","indexToTaskId","totaskId","prevTaskEnddate","offsetInMillSec","ffslack","fromDateArray1","fromIdFlatData","toIdFlatData","getSlackDuration","updateCriticalTasks","resourceIndex","noSlackValue","toID","criticalData","taskClass","parentTaskbarElement","currentdata","checking","checkint","taskIdString","checkintString","UndoRedo","isUndoRedoPerformed","getRedoCollection","getUndoCollection","redoEnabled","previousSortedColumns","isFromUndoRedo","canUpdateIndex","sortedColumnsLength","undoAction","updateAction_1","previousActions","previousDetails","findPosition","columnsArray","fromColumn","toColumn","char","isShowDeleteConfirmDialog","deleteRec","redoAction","updateAction","createUndoCollection","undoRedoStepsCount","disableRedo","detail","recIndex","previousRecord","prevInd","parentDataIndex","existingRecord","isCntxtMenuDependencyDelete","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","mergeCall","splitTaskCall","currentClickedDate","getClickedDate","mergeSegmentIndexes","ganttElementPositionLeft","pageLeft","currentTaskDifference","clickedPosition","splitTaskDuration","contextMenuClickDate","menuElement","contentMenuItems","getLocale","updateItemStatus","hideItems","hideChildItems","revertItemStatus","editForm","subMenu","updateItemVisibility","createItemModel","cons.content","getPredecessorsItems","isSelect","isBottomTierMinute","isBottomTierHour","mergeItemVisiblity","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","TreeGridColumnMenu","getColumnMenu","columnMenuModule","isTest","updateCollection","isSharedTask","canDrop","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","errorVal","spanContent","ganttDragElement","dragElement","ganttTop","getClientRects","ganttLeft","dropRows","datas","dragLength","checkisSharedTask","previousParent","dropAtTop","spliceId","updatedParent","ganttData_1","uniqueTaskID_1","i_3","i_4","count_1","splittedName","validatedPredecessorNames","droppedParentItem","removeExistingResources","tempResourceInfo","updateCurrentTask","deleteSharedResourceTask","updateSharedResourceTask","toParent_1","isValidPredecessor","validateRecords","predName","toRec","dropRec","preParentRecord","_getExistingTaskWithID","existingTasks","removeResourceInfo","sameIdTasks","tempDataSource","ganttFields","droppedId","dragRec","sharedTask","childTasks","tempIndex","PdfGanttTheme","theme","ganttStyle","setTheme","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","borderColor","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","taskColor","progressColor","criticalTaskColor","criticalProgressColor","baselineBorderColor","criticalConnectorLineColor","criticalTaskBorderColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","splitLineBackground","unscheduledTaskBarColor","manualParentBackground","manualParentProgress","manualChildBackground","manualChildProgress","manualLineColor","manualParentBorder","manualChildBorder","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","PdfBorders","defaultBorderPenLeft","PdfPen","dashStyle","PdfDashStyle","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyleBase","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","currentBounds","RectangleF","layoutInternal","param","Error","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","getCell","borders","startLocation","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","isAutoFit","getColumn","subWidths","getFormat","layoutedPages","startPage","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","default","getLayoutResult","NextPage","reArrangePages","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowWidth","initialWidth","getHeader","drawGrid","newBound","layouter","PdfLayoutElement","PdfTreeGridCell","cellHeight","rowSpan","measureWidth","PdfStringLayouter","font","PdfStandardFont","isParentRow","PdfFontStyle","Bold","MAX_VALUE","actualSize","slr","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","image","imageBounds","drawImage","customisedFont","fontStyles","newFont","customisedBrush","fontBrush","drawString","stringLayoutResult","PdfImage","PdfBitmap","PdfTextWebLink","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","padding","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","totalColumnWidth","processToFit","chartsideWidth","gridWidth","processGridExport","props","exportValueFormatter","ExportValueFormatter","processHeaderContent","processGanttContent","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","treeGridHeaderHeight","copyStyles","headerTextAlign","headerTemplate","pdfColumnHeaderQueryCellInfo","base64","includeHiddenColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","lineWidth","processRecordCell","formatCellValue","pdfQueryCellInfo","getFontFamily","getFontStyle","dimension","hyperLink","displayText","setHyperLink","textLink","url","brush","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isSpliterTask","isParentTask","reduceLeft","labelColor","manuallineColor","gridLineColor","labelTemplateStyle","taskStyle","pdfQueryTaskbarInfo","taskSegmentStyles","segmentTaskbar","leftImages","rightImage","baseCount","applyTemplate","source","getHorizontalAlignment","Justify","getVerticalAlignment","PdfVerticalAlignment","Bottom","Middle","Top","getFont","defaultFontFamily","TimesRoman","Regular","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","perColumnWidth","PdfPage","pdfPage","enableFooter","pageSize_1","getPageSize","pageSize","PdfPageTemplateElement","footerBrush","pageNumber","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","headerProp","fromTop","drawPageTemplate","fromBottom","contents","drawText","drawPageNumber","src","pageTemplate","getBrushFromContent","textPenColor","penColor","hexToRgb","g","setContentFormat","documentHeader","textBrushColor","brushColor","numberStyle","getPageNumberStyle","pageNumberType","total","pageCount","points","getPenFromContent","penSize","getDashStyle","hex","bigint","hAlign","vAlign","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","GetNextPage","drawTaskbar","startPoint","cumulativeWidth","taskGraphics","isNextPage","endPoint","drawPageTimeline","drawLeftLabel","customizedFont","customizedFontBrush","customizedFontColor","taskLabelFont","taskLabelFontBrush","progressFormat","updatedWidth","isLabelString","pageIndex","baselinePen","baselineBrush","drawMilestone","taskbarPen_1","taskBrush_1","manualParentBorderPen","manualChildBorderPen","manualTaskbarPen","manualline","manuallineBrush","splitline","manualBrush","manualChildBrush","manualChildProgressBrush","manualProgressBrush","progressPen_1","progressBrush_1","adjustHeightforTaskbar","adjustHeightforBaseline","adjustHeight_1","isStartPoint","taskStartPoint","Dot","segmenttaskbarPen","segmenttaskBrush","imageWidth","PdfPath","addEllipse","translateTransform","path1","setTransparency","segmentprogressPen","segmentprogressBrush","drawUnscheduledTask","brush1","brush2","PdfLinearGradientBrush","isCompleted","renderWidth_1","splitRenderwidth_1","pervwidth_1","valueChangeBlocker_1","lineWidth_1","stringLeft","result_1","getWidth","lines","remainder","remainString","progressBoundsWidth","result_2","lineStartX","lineEndX","lineY","result_3","result_4","isCompletedBaseline","renderWidth","isCompletedAutotask","currendate","state","setClip","PdfBrushes","Black","drawRightLabel","getPdfFont","fontFamilyValue","fontStyleValue","drawRightLabelValue","previousWidthofRightImage","previousWidthofRightValue","drawRigthlabelImage","isLeftCalculated","actualLeft","adjustHeight","point","labelBounds","labelFormat","ganttStyle_1","labelBrush","lablePen","strSize","measureString","rightString","getWidthofrightLabel","labelBound","newFontBrush","drawLeftLabelValue","previousWidthofLeftImage","previousWidthofLeftValue","totalLeftWidth","totalstringWidth","drawLeftLabelImage","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","leftLabelImage","leftLabelValue","getWidthofLeftLabel","isLeftImageExist","imageLength","result_5","result_6","PdfWordWrapType","Character","taskBrush","milestonePen","adjustHeightforBaselineMilesone","adjustHeightforMilesone","milestoneBrush","rotateTransform","height_1","PdfTimeline","holidayCompleted","fitHolidayCompleted","lastWidth","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","detailsTimeline","remainWidth","pHeader","isFinished","completedWidth","reWidth","triggerQueryTimelinecell","secondHeader","isTopTier","currentDate","timelineStyle","pdfQueryTimelineCellInfo","rectPen","rectBrush","timelinedate","holidayWidth","holidayLabel","changeDate","holidayNumberOfDays","fromDataHoliday","rectPen1","font1","fontHieght","holidayBrush","pLeft","pTop","PdfGanttPredecessor","pdfGantt","findindex","dataindex","parentPageData","childPageData","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","midPointManualparent","midPointforTaskbar","midPointforBaseline","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","drawEventMarker","eventMarker","cumulativeHeight","eventLine","Dash","enventFormat","eventBrush","PdfGantt","changeCloneProjectDates","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","sDays1","eDays1","startDays","endDays","startdate","secondsToAdd","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","taskbarPoint","pagePoint","pageStartPoint","timelimeHeight","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","exportType","PdfDocument","processExport","promise","blobPromise","sections","processSectionExportProperties","pdfPageDimensions","FitElement","fileName","pdfPageSettings","PdfPageSettings","pageOrientation","PdfPageOrientation","Landscape","Portrait","setPageSettings","defaultGanttTheme","TreeGridVirtualScroll","translates","transformString","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport","index.VirtualScroll","index.CriticalPath","index.UndoRedo"],"mappings":"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"}