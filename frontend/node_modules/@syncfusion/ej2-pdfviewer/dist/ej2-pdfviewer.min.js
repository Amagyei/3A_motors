/*!
*  filename: ej2-pdfviewer.min.js
*  version : 28.1.41
*  Copyright Syncfusion Inc. 2001 - 2024. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("SyncfusionBase"),require("SyncfusionDrawings"),require("SyncfusionInputs"),require("SyncfusionPopups"),require("SyncfusionSplitbuttons"),require("SyncfusionInplaceEditor"),require("SyncfusionNavigations"),require("SyncfusionNotifications"),require("SyncfusionCompression"),require("SyncfusionFileUtils"),require("SyncfusionButtons"),require("SyncfusionDropdowns"),require("SyncfusionData"),require("SyncfusionLists")):"function"==typeof define&&define.amd?define(["SyncfusionBase","SyncfusionDrawings","SyncfusionInputs","SyncfusionPopups","SyncfusionSplitbuttons","SyncfusionInplaceEditor","SyncfusionNavigations","SyncfusionNotifications","SyncfusionCompression","SyncfusionFileUtils","SyncfusionButtons","SyncfusionDropdowns","SyncfusionData","SyncfusionLists"],t):"object"==typeof exports?exports.SyncfusionPdfviewer=t(require("SyncfusionBase"),require("SyncfusionDrawings"),require("SyncfusionInputs"),require("SyncfusionPopups"),require("SyncfusionSplitbuttons"),require("SyncfusionInplaceEditor"),require("SyncfusionNavigations"),require("SyncfusionNotifications"),require("SyncfusionCompression"),require("SyncfusionFileUtils"),require("SyncfusionButtons"),require("SyncfusionDropdowns"),require("SyncfusionData"),require("SyncfusionLists")):e.SyncfusionPdfviewer=t(e.SyncfusionBase,e.SyncfusionDrawings,e.SyncfusionInputs,e.SyncfusionPopups,e.SyncfusionSplitbuttons,e.SyncfusionInplaceEditor,e.SyncfusionNavigations,e.SyncfusionNotifications,e.SyncfusionCompression,e.SyncfusionFileUtils,e.SyncfusionButtons,e.SyncfusionDropdowns,e.SyncfusionData,e.SyncfusionLists)}(self,((e,t,i,n,o,r,a,s,l,d,h,A,p,c)=>(()=>{"use strict";var g={766:t=>{t.exports=e},741:e=>{e.exports=h},50:e=>{e.exports=l},74:e=>{e.exports=p},984:e=>{e.exports=t},778:e=>{e.exports=A},115:e=>{e.exports=d},914:e=>{e.exports=r},323:e=>{e.exports=i},90:e=>{e.exports=c},215:e=>{e.exports=a},344:e=>{e.exports=s},197:e=>{e.exports=n},295:e=>{e.exports=o}},u={};function f(e){var t=u[e];if(void 0!==t)return t.exports;var i=u[e]={exports:{}};return g[e](i,i.exports,f),i.exports}f.d=(e,t)=>{for(var i in t)f.o(t,i)&&!f.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},f.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),f.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var m={};return(()=>{f.r(m),f.d(m,{AccessibilityTags:()=>kh,ActiveElements:()=>we,AjaxHandler:()=>hd,AjaxRequestSettings:()=>xd,AllowedInteraction:()=>Ve,AnnotBounds:()=>dA,AnnotBoundsBase:()=>Jt,AnnotBoundsRect:()=>Gt,AnnotColor:()=>hA,AnnotFontBase:()=>Wt,AnnotPoint:()=>lA,AnnotRectBase:()=>Kt,Annotation:()=>Yt,AnnotationBaseSettings:()=>jt,AnnotationDataFormat:()=>Qe,AnnotationRenderer:()=>Xh,AnnotationResizerLocation:()=>ve,AnnotationSelectorSettings:()=>ih,AnnotationSettings:()=>ah,AnnotationToolbar:()=>Sd,AnnotationToolbarSettings:()=>Dd,Annotations:()=>Yh,AnnotationsBase:()=>qt,AnnotationsInternal:()=>Zt,AreaSettings:()=>Wd,ArrowSettings:()=>Od,BlazorUiAdaptor:()=>ed,BookmarkBase:()=>uA,BookmarkDestination:()=>fA,BookmarkStyles:()=>mA,BookmarkView:()=>_h,CalculateLeaderPoints:()=>pe,CheckBoxFieldSettings:()=>fh,CircleSettings:()=>zd,CommandManager:()=>Ih,CommentStatus:()=>Ce,ConnectTool:()=>ne,ContextMenu:()=>dd,ContextMenuItem:()=>Ie,ContextMenuSettings:()=>ch,CursorType:()=>xe,CustomStamp:()=>_d,CustomStampSettings:()=>Gd,CustomToolbarItem:()=>Ed,DisplayMode:()=>Ee,DistanceSettings:()=>Jd,DocumentTextCollectionSettings:()=>sh,Drawing:()=>X,DropdownFieldSettings:()=>wh,DynamicStampItem:()=>_e,FontBase:()=>AA,FontStyle:()=>Be,FormDesigner:()=>Th,FormDesignerToolbar:()=>md,FormDesignerToolbarSettings:()=>Md,FormField:()=>ph,FormFieldDataFormat:()=>Fe,FormFields:()=>Fh,FormFieldsBase:()=>Kh,FreeTextAnnotation:()=>Ut,FreeTextAnnotationBase:()=>qh,FreeTextSettings:()=>th,HandWrittenSignatureSettings:()=>rh,HighlightSettings:()=>Rd,IBounds:()=>Xt,ImageStructureBase:()=>wA,InitialFieldSettings:()=>Qd,InkAnnotation:()=>li,InkAnnotationSettings:()=>qd,InkDrawingTool:()=>ie,InkSignatureAnnotation:()=>$h,InputElement:()=>zt,Item:()=>Sh,KeyGesture:()=>Ch,KeyboardCommand:()=>Bh,LineSettings:()=>Ld,LineTool:()=>se,LinkAnnotation:()=>ti,ListBoxFieldSettings:()=>yh,Magnification:()=>cd,MeasureAnnotation:()=>ni,MeasureShapeAnnotationBase:()=>tA,MeasurementSettings:()=>eh,ModifierKeys:()=>Te,MoveTool:()=>ee,Navigation:()=>gd,NavigationPane:()=>rl,NodeDrawingTool:()=>re,OrganizeDetails:()=>BA,PageInfo:()=>oh,PageOrganizer:()=>SA,PageOrganizerSettings:()=>bh,PageRenderer:()=>Rh,PageRotation:()=>CA,PasswordFieldSettings:()=>uh,Path:()=>pA,PdfAnnotationBase:()=>s,PdfBounds:()=>r,PdfFont:()=>a,PdfFormFieldBase:()=>l,PdfKeys:()=>ke,PdfLayer:()=>sA,PdfPageRotateAngle:()=>Gh,PdfRenderedFields:()=>Wh,PdfRenderer:()=>Oh,PdfViewer:()=>Eh,PdfViewerBase:()=>sd,PdfiumRunner:()=>Nh,PerimeterSettings:()=>Kd,PointBase:()=>Zh,PolygonDrawingTool:()=>ae,PolygonSettings:()=>Yd,PopupAnnotationBase:()=>rA,Print:()=>Qh,RadioButtonFieldSettings:()=>mh,RadiusSettings:()=>Xd,RectBounds:()=>Ph,RectangleBase:()=>cA,RectangleBounds:()=>dh,RectangleSettings:()=>Ud,ResizeTool:()=>oe,RotateTool:()=>le,ScrollSettings:()=>Ah,SearchResult:()=>vh,SelectTool:()=>$,Selector:()=>p,ServerActionSettings:()=>kd,ShapeAnnotation:()=>oi,ShapeAnnotationBase:()=>eA,ShapeLabelSettings:()=>Hd,SignStampItem:()=>De,Signature:()=>pd,SignatureAnnotationBase:()=>iA,SignatureBase:()=>gA,SignatureDialogSettings:()=>Td,SignatureFieldSettings:()=>Vd,SignatureIndicatorSettings:()=>Fd,SignatureType:()=>be,SizeBase:()=>Hh,Spinner:()=>Pl,StampAnnotation:()=>ri,StampAnnotationBase:()=>Lh,StampSettings:()=>jd,StampTool:()=>te,StandardBusinessStampItem:()=>Me,StickyNotesAnnotation:()=>si,StickyNotesSettings:()=>$d,StrikethroughSettings:()=>Pd,TextDataSettings:()=>lh,TextFieldSettings:()=>gh,TextLayer:()=>ld,TextMarkupAnnotation:()=>ii,TextMarkupAnnotationBase:()=>aA,TextSearch:()=>Vh,TextSearchColorSettings:()=>nh,TextSelection:()=>Dh,ThumbnailView:()=>ud,TileRenderingSettings:()=>hh,ToolBase:()=>q,Toolbar:()=>wd,ToolbarSettings:()=>vd,UnderlineSettings:()=>Nd,VolumeSettings:()=>Zd,ZOrderPageTable:()=>d,clipDecorator:()=>Q,clipDecorators:()=>V,cloneArray:()=>B,cloneObject:()=>C,createSpinner:()=>Nl,createSvg:()=>Se,findActiveElement:()=>de,findActivePage:()=>me,findElementUnderMouse:()=>ce,findNearestPoint:()=>j,findObjectUnderMouse:()=>Ae,findObjects:()=>fe,findObjectsUnderMouse:()=>he,findPerimeterLength:()=>w,findPointsLength:()=>u,findTargetShapeElement:()=>ue,getArialFontData:()=>jh,getBaseShapeAttributes:()=>y,getConnectorPoints:()=>v,getDecoratorElement:()=>M,getDecoratorShape:()=>G,getFunction:()=>S,getInternalProperties:()=>I,getPolygonPath:()=>O,getSegmentElement:()=>_,getSegmentPath:()=>E,hideSpinner:()=>Zl,initDistanceLabel:()=>F,initLeader:()=>H,initLeaders:()=>z,initPerimeterLabel:()=>P,insertObject:()=>ge,isLeader:()=>b,isLineShapes:()=>c,isPointOverConnector:()=>Y,removePerimeterLabel:()=>R,renderAdornerLayer:()=>ye,setElementStype:()=>g,setSpinner:()=>ql,showSpinner:()=>Wl,textElement:()=>U,updateCalibrateLabel:()=>L,updateDecoratorElement:()=>D,updateDistanceLabel:()=>T,updatePerimeterLabel:()=>N,updateRadiusLabel:()=>k,updateSegmentElement:()=>x});var e,t=f(766),i=f(984),n=(e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),o=function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},r=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),o([(0,t.Property)(0)],r.prototype,"x",void 0),o([(0,t.Property)(0)],r.prototype,"y",void 0),o([(0,t.Property)(0)],r.prototype,"width",void 0),o([(0,t.Property)(0)],r.prototype,"height",void 0),o([(0,t.Property)(0)],r.prototype,"left",void 0),o([(0,t.Property)(0)],r.prototype,"top",void 0),o([(0,t.Property)(0)],r.prototype,"right",void 0),o([(0,t.Property)(0)],r.prototype,"bottom",void 0),o([(0,t.Complex)({x:0,y:0},i.Point)],r.prototype,"location",void 0),o([(0,t.Complex)(new i.Size(0,0),i.Size)],r.prototype,"size",void 0),r}(t.ChildProperty),a=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),o([(0,t.Property)(!1)],i.prototype,"isBold",void 0),o([(0,t.Property)(!1)],i.prototype,"isItalic",void 0),o([(0,t.Property)(!1)],i.prototype,"isUnderline",void 0),o([(0,t.Property)(!1)],i.prototype,"isStrikeout",void 0),i}(t.ChildProperty),s=function(e){function i(t,i,n,o){return e.call(this,t,i,n,o)||this}return n(i,e),o([(0,t.Property)("")],i.prototype,"id",void 0),o([(0,t.Property)("Rectangle")],i.prototype,"shapeAnnotationType",void 0),o([(0,t.Property)(null)],i.prototype,"formFieldAnnotationType",void 0),o([(0,t.Property)("")],i.prototype,"measureType",void 0),o([(0,t.Property)("")],i.prototype,"author",void 0),o([(0,t.Property)("")],i.prototype,"modifiedDate",void 0),o([(0,t.Property)("")],i.prototype,"subject",void 0),o([(0,t.Property)("")],i.prototype,"notes",void 0),o([(0,t.Property)(!1)],i.prototype,"isCommentLock",void 0),o([(0,t.Property)("black")],i.prototype,"strokeColor",void 0),o([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),o([(0,t.Property)("#ffffff00")],i.prototype,"stampFillColor",void 0),o([(0,t.Property)("black")],i.prototype,"stampStrokeColor",void 0),o([(0,t.Property)("")],i.prototype,"data",void 0),o([(0,t.Property)(1)],i.prototype,"opacity",void 0),o([(0,t.Property)(1)],i.prototype,"thickness",void 0),o([(0,t.Property)("")],i.prototype,"borderStyle",void 0),o([(0,t.Property)("")],i.prototype,"borderDashArray",void 0),o([(0,t.Property)(0)],i.prototype,"rotateAngle",void 0),o([(0,t.Property)(!1)],i.prototype,"isCloudShape",void 0),o([(0,t.Property)(0)],i.prototype,"cloudIntensity",void 0),o([(0,t.Property)(40)],i.prototype,"leaderHeight",void 0),o([(0,t.Property)(null)],i.prototype,"lineHeadStart",void 0),o([(0,t.Property)(null)],i.prototype,"lineHeadEnd",void 0),o([(0,t.Property)([])],i.prototype,"vertexPoints",void 0),o([(0,t.Property)(null)],i.prototype,"sourcePoint",void 0),o([(0,t.Property)("None")],i.prototype,"sourceDecoraterShapes",void 0),o([(0,t.Property)("None")],i.prototype,"taregetDecoraterShapes",void 0),o([(0,t.Property)(null)],i.prototype,"targetPoint",void 0),o([(0,t.Property)([])],i.prototype,"segments",void 0),o([(0,t.Complex)({x:0,y:0},r)],i.prototype,"bounds",void 0),o([(0,t.Property)(0)],i.prototype,"pageIndex",void 0),o([(0,t.Property)(-1)],i.prototype,"zIndex",void 0),o([(0,t.Property)(null)],i.prototype,"wrapper",void 0),o([(0,t.Property)(!1)],i.prototype,"isDynamicStamp",void 0),o([(0,t.Property)("")],i.prototype,"dynamicText",void 0),o([(0,t.Property)("")],i.prototype,"annotName",void 0),o([(0,t.Property)({})],i.prototype,"review",void 0),o([(0,t.Property)([])],i.prototype,"comments",void 0),o([(0,t.Property)("#000")],i.prototype,"fontColor",void 0),o([(0,t.Property)(16)],i.prototype,"fontSize",void 0),o([(0,t.Property)("Helvetica")],i.prototype,"fontFamily",void 0),o([(0,t.Property)("None")],i.prototype,"fontStyle",void 0),o([(0,t.Property)(!1)],i.prototype,"enableShapeLabel",void 0),o([(0,t.Property)("label")],i.prototype,"labelContent",void 0),o([(0,t.Property)("#ffffff00")],i.prototype,"labelFillColor",void 0),o([(0,t.Property)(15)],i.prototype,"labelMaxLength",void 0),o([(0,t.Property)("")],i.prototype,"template",void 0),o([(0,t.Property)("")],i.prototype,"templateSize",void 0),o([(0,t.Property)(1)],i.prototype,"labelOpacity",void 0),o([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),o([(0,t.Property)("#ffffff00")],i.prototype,"labelBorderColor",void 0),o([(0,t.Property)("left")],i.prototype,"textAlign",void 0),o([(0,t.Property)("")],i.prototype,"signatureName",void 0),o([(0,t.Property)(0)],i.prototype,"minHeight",void 0),o([(0,t.Property)(0)],i.prototype,"minWidth",void 0),o([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),o([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),o([(0,t.Property)(!1)],i.prototype,"isLock",void 0),o([(0,t.Property)("UI Drawn Annotation")],i.prototype,"annotationAddMode",void 0),o([(0,t.Property)("")],i.prototype,"annotationSettings",void 0),o([(0,t.Property)(16)],i.prototype,"previousFontSize",void 0),o([(0,t.Complex)({isBold:!1,isItalic:!1,isStrikeout:!1,isUnderline:!1},a)],i.prototype,"font",void 0),o([(0,t.Complex)({x:0,y:0},r)],i.prototype,"labelBounds",void 0),o([(0,t.Property)(null)],i.prototype,"customData",void 0),o([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),o([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),o([(0,t.Property)(!1)],i.prototype,"isReadonly",void 0),o([(0,t.Property)(0)],i.prototype,"pageRotation",void 0),o([(0,t.Property)("")],i.prototype,"icon",void 0),o([(0,t.Property)(!1)],i.prototype,"isAddAnnotationProgrammatically",void 0),o([(0,t.Property)(!1)],i.prototype,"isTransparentSet",void 0),i}(t.ChildProperty),l=function(e){function i(t,i,n,o){return e.call(this,t,i,n,o)||this}return n(i,e),o([(0,t.Property)("")],i.prototype,"id",void 0),o([(0,t.Property)("")],i.prototype,"signatureType",void 0),o([(0,t.Property)("")],i.prototype,"name",void 0),o([(0,t.Property)("")],i.prototype,"value",void 0),o([(0,t.Property)(null)],i.prototype,"formFieldAnnotationType",void 0),o([(0,t.Property)("#daeaf7ff")],i.prototype,"backgroundColor",void 0),o([(0,t.Property)("black")],i.prototype,"color",void 0),o([(0,t.Property)("#303030")],i.prototype,"borderColor",void 0),o([(0,t.Property)("")],i.prototype,"tooltip",void 0),o([(0,t.Property)(1)],i.prototype,"opacity",void 0),o([(0,t.Property)(1)],i.prototype,"thickness",void 0),o([(0,t.Property)(0)],i.prototype,"rotateAngle",void 0),o([(0,t.Complex)({x:0,y:0},r)],i.prototype,"bounds",void 0),o([(0,t.Property)(0)],i.prototype,"pageIndex",void 0),o([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),o([(0,t.Property)(-1)],i.prototype,"zIndex",void 0),o([(0,t.Property)(null)],i.prototype,"wrapper",void 0),o([(0,t.Property)(16)],i.prototype,"fontSize",void 0),o([(0,t.Property)("Helvetica")],i.prototype,"fontFamily",void 0),o([(0,t.Property)("None")],i.prototype,"fontStyle",void 0),o([(0,t.Property)("left")],i.prototype,"alignment",void 0),o([(0,t.Property)(0)],i.prototype,"minHeight",void 0),o([(0,t.Property)(0)],i.prototype,"minWidth",void 0),o([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),o([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),o([(0,t.Property)(0)],i.prototype,"maxLength",void 0),o([(0,t.Property)("visible")],i.prototype,"visibility",void 0),o([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),o([(0,t.Property)(!1)],i.prototype,"isReadonly",void 0),o([(0,t.Property)(!1)],i.prototype,"isChecked",void 0),o([(0,t.Property)(!1)],i.prototype,"isSelected",void 0),o([(0,t.Property)(!1)],i.prototype,"isRequired",void 0),o([(0,t.Property)(!1)],i.prototype,"isMultiline",void 0),o([(0,t.Property)(!1)],i.prototype,"isTransparent",void 0),o([(0,t.Property)(!1)],i.prototype,"insertSpaces",void 0),o([(0,t.Property)("")],i.prototype,"options",void 0),o([(0,t.Property)()],i.prototype,"signatureIndicatorSettings",void 0),o([(0,t.Complex)({isBold:!1,isItalic:!1,isStrikeout:!1,isUnderline:!1},a)],i.prototype,"font",void 0),o([(0,t.Property)()],i.prototype,"selectedIndex",void 0),o([(0,t.Property)(null)],i.prototype,"customData",void 0),i}(t.ChildProperty),d=function(){function e(){this.pageIdTemp=0,this.zIndexTemp=-1,this.childNodesTemp=[],this.objects=[],this.zIndexTemp=-1,this.pageIdTemp=0}return Object.defineProperty(e.prototype,"pageId",{get:function(){return this.pageIdTemp},set:function(e){this.pageIdTemp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this.zIndexTemp},set:function(e){this.zIndexTemp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objects",{get:function(){return this.childNodesTemp},set:function(e){this.childNodesTemp=e},enumerable:!0,configurable:!0}),e}(),h=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),A=function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return h(n,e),n.prototype.init=function(e){var n=new i.Container;if(n.measureChildren=!1,n.children=[],this.formFields&&this.formFields.length>0)for(var o=0;o<this.formFields.length;o++){var r=e.pdfViewer.nameTable[this.formFields[parseInt(o.toString(),10)].id].wrapper;n.children.push(r)}else if(this.annotations)for(o=0;o<this.annotations.length;o++)if(!(0,t.isNullOrUndefined)(this.annotations[parseInt(o.toString(),10)])){r=e.pdfViewer.nameTable[this.annotations[parseInt(o.toString(),10)].id].wrapper;n.children.push(r)}return this.wrapper=n,n},A([(0,t.Property)(null)],n.prototype,"wrapper",void 0),A([(0,t.Collection)([],s)],n.prototype,"annotations",void 0),A([(0,t.Collection)([],l)],n.prototype,"formFields",void 0),A([(0,t.Property)()],n.prototype,"width",void 0),A([(0,t.Property)()],n.prototype,"height",void 0),A([(0,t.Property)(0)],n.prototype,"rotateAngle",void 0),A([(0,t.Property)(0)],n.prototype,"offsetX",void 0),A([(0,t.Property)(0)],n.prototype,"offsetY",void 0),A([(0,t.Complex)({x:.5,y:.5},i.Point)],n.prototype,"pivot",void 0),n}(t.ChildProperty);function c(e){return"Line"===e.shapeAnnotationType||"LineWidthArrowHead"===e.shapeAnnotationType||"Distance"===e.shapeAnnotationType||"Polygon"===e.shapeAnnotationType}function g(e,t){if(e&&t)if(e.formFieldAnnotationType)-1!==e.id.indexOf("diagram_helper")?(t.style.fill="transparent",t.style.strokeWidth=1,t.style.strokeDashArray=e.borderDashArray):(t.style.fill="transparent",t.style.strokeWidth=0);else{var i="#ffffff00"===e.fillColor?"transparent":e.fillColor;t.style.fill=i||"white",t.style.strokeColor=e.strokeColor?e.strokeColor:e.borderColor,t.style.color=e.strokeColor?e.strokeColor:e.borderColor,t.style.strokeWidth=e.thickness,"Image"!==e.shapeAnnotationType&&"SignatureText"!==e.shapeAnnotationType&&"SignatureImage"!==e.shapeAnnotationType||(t.style.strokeWidth=0),t.style.strokeDashArray=e.borderDashArray,t.style.opacity=e.opacity}}function u(e){for(var t=0,n=0;n<e.length-1;n++)t+=i.Point.findLength(e[parseInt(n.toString(),10)],e[n+1]);return t}function w(e){return i.Point.getLengthFromListOfPoints(e)}function y(e,t){var i={width:e.actualSize.width,height:e.actualSize.height,x:e.offsetX-e.actualSize.width*e.pivot.x+.5,y:e.offsetY-e.actualSize.height*e.pivot.y+.5,angle:e.rotateAngle+e.parentTransform,fill:e.style.fill,stroke:e.style.strokeColor,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:1,opacity:e.style.opacity,dashArray:e.style.strokeDashArray||"",visible:e.visible,id:e.id};return t&&(i.x+=t.tx,i.y+=t.ty),i}function S(e){return void 0!==e&&"string"==typeof e&&(e=(0,t.getValue)(e,window)),e}function C(e,t,i){var n={};if(e){i=e.propName;var o=e.properties||e,r=[],a=[];if((r=r.concat(Object.keys(o))).push("version"),i){var s=S(t);a=s?s(i):[],r=r.concat(a)}for(var l=I(i),d=0,h=r=r.concat(l);d<h.length;d++){var A=h[d];if("historyManager"!==A)if("wrapper"!==A)!(!e[""+A]||!Object.prototype.hasOwnProperty.call(e,"observers"))||(e[""+A]instanceof Array?n[""+A]=B(-1===l.indexOf(A)&&e[""+i]?e[""+i][""+A]:e[""+A],t,A):e[""+A]instanceof Array==!1&&e[""+A]instanceof HTMLElement?n[""+A]=e[""+A].cloneNode(!0).innerHtml:e[""+A]instanceof Array==!1&&e[""+A]instanceof Object&&"template"!==A?n[""+A]=C(-1===l.indexOf(A)&&e[""+i]?e[""+i][""+A]:e[""+A]):n[""+A]=e[""+A]);else e[""+A]&&(n[""+A]={actualSize:{width:e[""+A].actualSize.width,height:e[""+A].actualSize.height},offsetX:e[""+A].offsetX,offsetY:e[""+A].offsetY})}}return n}function B(e,t,i){var n;if(e){n=[];for(var o=0;o<e.length;o++)e[parseInt(o.toString(),10)]instanceof Array?n.push(e[parseInt(o.toString(),10)]):e[parseInt(o.toString(),10)]instanceof Object?n.push(C(e[parseInt(o.toString(),10)],t,i)):n.push(e[parseInt(o.toString(),10)])}return n}function I(e){switch(e){case"nodes":case"children":return["inEdges","outEdges","parentId","processId","nodeId","umlIndex","isPhase","isLane"];case"connectors":return["parentId"];case"annotation":case"annotations":return["nodeId"];case"shape":return["hasHeader"]}return[]}function b(e,t){var n;if("Distance"===e.shapeAnnotationType)for(var o=0,r=void 0,a=0;a<e.wrapper.children.length;a++){var s=i.Point.findAngle(e.sourcePoint,e.targetPoint);if(e.wrapper.children[parseInt(a.toString(),10)].id.indexOf("leader")>-1){var l=e.wrapper.children[0].bounds.center;0===o?(r={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},l=e.sourcePoint):(r={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},l=e.targetPoint);var d=(0,i.identityMatrix)();if((0,i.rotateMatrix)(d,s,l.x,l.y),n=(0,i.transformPointByMatrix)(d,{x:r.x,y:r.y}),t==="Leader"+o)return{leader:"leader"+o,point:n};o++}}return{leader:"",point:n}}function v(e,t){var i=e.vertexPoints.slice(0);return i&&i.length>0&&(e.sourcePoint=i[0],e.targetPoint=i[i.length-1]),i}function E(e,t){for(var i,n="",o=[],r=0;r<t.length;)o.push({x:t[parseInt(r.toString(),10)].x,y:t[parseInt(r.toString(),10)].y}),r++;o=V(e,o);for(var a=0;a<o.length;a++)i=o[parseInt(a.toString(),10)],0===a&&(n="M"+i.x+" "+i.y),a>0&&(n+=" L"+i.x+" "+i.y);return n}function x(e,t,n){var o=new i.Rect,r=E(e,t);if(o=i.Rect.toBounds(t),n.width=o.width,n.height=o.height,n.offsetX=o.x+n.width/2,n.offsetY=o.y+n.height/2,n.data=r,e.wrapper){e.wrapper.offsetX=n.offsetX,e.wrapper.offsetY=n.offsetY;var a=o.width;a=o.width<o.height?o.height:o.width,e.wrapper.width=e.enableShapeLabel?a/2:a,e.wrapper.height=o.height}return n}function _(e,t){var i;return i=v(e),t.staticSize=!0,g(e,t=x(e,i,t)),t}function D(e,t,n,o,r){t.offsetX=n.x,t.offsetY=n.y;var a,s=i.Point.findAngle(n,o),l=G(r?e.sourceDecoraterShapes:e.taregetDecoraterShapes),d=0;"LineWidthArrowHead"===e.shapeAnnotationType||"Line"===e.shapeAnnotationType?(d=e.thickness,a=new i.Size(12*d,12*d)):(d=e.thickness<=5?5:e.thickness,a=new i.Size(2*d,2*d)),t.transform=i.RotateTransform.Self,g(e,t),t.style.fill="tranparent"!==e.fillColor?e.fillColor:"white",t.rotateAngle=s,t.data=l,t.canMeasurePath=!0,t.width=a.width,t.height=a.height,"Butt"===e.sourceDecoraterShapes&&(t.width=a.width-10,t.height=a.height+10)}function M(e,t,n,o){var r=new i.PathElement;return D(e,r,t,n,o),r}function V(e,t){return t[0]=Q(e,t,!0),t[t.length-1]=Q(e,t,!1),t}function Q(e,t,n){var o,r,a={x:0,y:0},s=t.length;o=n?t[0]:t[s-1],r=n?t[1]:t[s-2];var l=i.Point.distancePoints(o,r);l=0===l?1:l;var d=e.thickness;a.x=Math.round(o.x+d*(r.x-o.x)/l),a.y=Math.round(o.y+d*(r.y-o.y)/l);return a=i.Point.adjustPoint(a,r,!0,.5)}function F(e,t,n,o){var r=[],a=i.Point.findAngle(t[0],t[1]),s=U(e,a);return!o.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?s.content=e.notes:s.content=n.setConversion(u([t[0],t[1]])*n.pixelToPointFactor,e),s.rotateValue={y:-10,angle:a},!0===e.enableShapeLabel&&(s.style.strokeColor=e.labelBorderColor,s.style.fill=e.labelFillColor,s.style.fontSize=e.fontSize,s.style.color=e.fontColor,s.style.fontFamily=e.fontFamily),r.push(s),r}function T(e,i,n){for(var o,r=0;r<e.wrapper.children.length;r++){var a=e.wrapper.children[parseInt(r.toString(),10)];a&&!(0,t.isNullOrUndefined)(a.content)&&(o=n.setConversion(u([i[0],i[1]])*n.pixelToPointFactor,e),a.content=o,a.childNodes[0].text=a.content,a.refreshTextElement())}return o}function k(e,i){for(var n,o=0;o<e.wrapper.children.length;o++){var r=e.wrapper.children[parseInt(o.toString(),10)];r&&!(0,t.isNullOrUndefined)(r.content)&&(n=i.setConversion(e.bounds.width/2*i.pixelToPointFactor,e),r.content=n,2===r.childNodes.length?(r.childNodes[0].text=n,r.childNodes.splice(r.childNodes.length-1,1)):r.childNodes[0].text=n,r.refreshTextElement())}return n}function P(e,t,n,o){var r=[],a=i.Point.findAngle(t[0],t[1]),s=U(e,a);return!o.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?s.content=e.notes:s.content=n.calculatePerimeter(e),!0===e.enableShapeLabel&&(s.style.strokeColor=e.labelBorderColor,s.style.fill=e.labelFillColor,s.style.fontSize=e.fontSize,s.style.color=e.fontColor,s.style.fontFamily=e.fontFamily),s.rotateValue={y:-10,angle:a},r.push(s),r}function N(e,i,n){for(var o,r=0;r<e.wrapper.children.length;r++){var a=e.wrapper.children[parseInt(r.toString(),10)];a&&!(0,t.isNullOrUndefined)(a.content)&&(o=n.calculatePerimeter(e),a.content=o,a.childNodes[0].text=a.content,a.refreshTextElement())}return o}function R(e){for(var i=0;i<e.wrapper.children.length;i++){var n=e.wrapper.children[parseInt(i.toString(),10)];n&&!(0,t.isNullOrUndefined)(n.content)&&e.wrapper.children.splice(i,1)}}function L(e){if(e.wrapper&&e.wrapper.children)for(var i=0;i<e.wrapper.children.length;i++){var n=e.wrapper.children[parseInt(i.toString(),10)];n&&!(0,t.isNullOrUndefined)(n.content)&&(n.content=e.notes,n.childNodes[0].text=n.content,n.refreshTextElement())}}function O(e){var t,i,n="";for(n="M"+e[0].x+" "+e[0].y,i=1;i<e.length;i++)n+="L"+(t=e[parseInt(i.toString(),10)]).x+" "+t.y;return n+="Z"}function U(e,t){var n=new i.TextElement;return g(e,n),n.style.fill="transparent",n.id=(0,i.randomId)(),n.horizontalAlignment="Center",n.rotateValue={y:10,angle:t},n.verticalAlignment="Top",n.relativeMode="Object",n.setOffsetWithRespectToBounds(.5,.5,"Absolute"),n.offsetX,n.style.textWrapping="NoWrap",n}function z(e,t){var i=[],n=H(e,t[0],t[1]);return i.push(n),n=H(e,t[1],t[0],!0),i.push(n),i}function H(e,t,n,o){var r=new i.PathElement;r.offsetX=t.x,r.offsetY=t.y;var a=i.Point.findAngle(t,n),s={x:(t.x+n.x)/2,y:(t.y+n.y)/2},l=(0,i.identityMatrix)();(0,i.rotateMatrix)(l,0-a,s.x,s.y);var d=(0,i.transformPointByMatrix)(l,t),h={x:d.x,y:d.y-e.leaderHeight};l=(0,i.identityMatrix)(),(0,i.rotateMatrix)(l,a,r.offsetX,r.offsetY),d=(0,i.transformPointByMatrix)(l,h);var A={x:t.x,y:t.y};r.offsetX=A.x,r.offsetY=A.y,r.transform=i.RotateTransform.Self;var p="M"+t.x+","+t.y+",L"+d.x+","+d.y+"Z",c=new i.Size(0,e.leaderHeight);return r.pivot.x=.5,o?(r.id="leader2_"+(0,i.randomId)(),r.pivot.y=0):(r.id="leader1_"+(0,i.randomId)(),r.pivot.y=1),g(e,r),r.rotateAngle=a,r.data=p,r.canMeasurePath=!0,r.width=c.width,r.height=c.height,r}function Y(e,n){var o=e.vertexPoints;if(!(0,t.isNullOrUndefined)(o))for(var r=0;r<o.length-1;r++){var a=o[parseInt(r.toString(),10)],s=o[r+1],l=i.Rect.toBounds([a,s]);if(l.Inflate(10),l.containsPoint(n)){var d=j(n,a,s),h={x1:a.x,x2:s.x,y1:a.y,y2:s.y},A={x1:n.x,x2:d.x,y1:n.y,y2:d.y},p=(0,i.intersect3)(h,A);if(p.enabled){var c=i.Point.findLength(n,p.intersectPt);if(Math.abs(c)<10)return!0}else{var g=i.Rect.toBounds([n,n]);if(g.Inflate(3),g.containsPoint(a)||g.containsPoint(s))return!0}if(i.Point.equals(n,d))return!0}}return!1}function j(e,t,n){var o;o=i.Point.findLength(t,e)>i.Point.findLength(n,e)?n:t;var r=i.Point.findAngle(t,n),a=i.Point.findAngle(o,e),s=i.Point.findLength(o,e),l=a+2*(r-a);return{x:o.x+s*Math.cos(l*Math.PI/180),y:o.y+s*Math.sin(l*Math.PI/180)}}function G(e){return J[""+e]}var J={OpenArrow:"M15.9,23 L5,16 L15.9,9 L17,10.7 L8.7,16 L17,21.3Z",Square:"M0,0 L10,0 L10,10 L0,10 z",Fletch:"M14.8,10c0,0-3.5,6,0.2,12c0,0-2.5-6-10.9-6C4.1,16,11.3,16,14.8,10z",OpenFetch:"M6,17c-0.6,0-1-0.4-1-1s0.4-1,1-1c10.9,0,11-5,11-5c0-0.6,0.4-1,1-1s1,0.4,1,1C19,10.3,18.9,17,6,17C6,17,6,17,6,17z M18,23c-0.5,0-1-0.4-1-1c0-0.2-0.3-5-11-5c-0.6,0-1-0.5-1-1s0.4-1,1-1c0,0,0,0,0,0c12.9,0,13,6.7,13,7    C19,22.6,18.6,23,18,23z",IndentedArrow:"M17,10c0,0-4.5,5.5,0,12L5,16L17,10z",OutdentedArrow:"M14.6,10c0,0,5.4,6,0,12L5,16L14.6,10z",DoubleArrow:"M19,10 L19,22 L13,16Z M12,10 L12,22 L6,16Z",Arrow:"M15,10 L15,22 L5,16Z",Diamond:"M12,23l-7-7l7-7l6.9,7L12,23z",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z",Butt:"M0,0 L0,90"},K=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),W=function(e){function i(t){var i=e.call(this)||this;return i.templateFn=i.templateCompiler(t),i}return K(i,e),i.prototype.templateCompiler=function(e){if(e)try{return"function"!=typeof e&&document.querySelectorAll(e).length?(0,t.compile)(document.querySelector(e).innerHTML.trim()):(0,t.compile)(e)}catch(i){return(0,t.compile)(e)}},i.prototype.getNodeTemplate=function(){return this.templateFn},i}(i.DrawingElement),X=function(){function e(e){this.isDynamicStamps=!1,this.copiedElementID="",this.isPasted=!1,this.pdfViewer=e,this.renderer=new i.DrawingRenderer("this.pdfViewer.element.id",!1),this.svgRenderer=new i.SvgRenderer}return e.prototype.renderLabels=function(e){var t=e.annotations;if(t)for(var i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];this.initObject(n)}},e.prototype.createNewZindexTable=function(e){var t=new d;return this.pdfViewer.zIndex++,t.pageId=this.pdfViewer.zIndex,this.pdfViewer.zIndexTable.push(t),t},e.prototype.getPageTable=function(e){var t;if(void 0!==this.pdfViewer.zIndexTable.length){for(var i=!0,n=0;n<this.pdfViewer.zIndexTable.length;n++)if(this.pdfViewer.zIndexTable[parseInt(n.toString(),10)].pageId===e){i=!1,t=this.pdfViewer.zIndexTable[parseInt(n.toString(),10)];break}i&&((t=this.createNewZindexTable(e)).pageId=e)}else t=this.createNewZindexTable(e);return t},e.prototype.setZIndex=function(e,t){if(void 0!==t.pageIndex){var i=this.getPageTable(t.pageIndex),n=!1;if("Polygon"!==t.shapeAnnotationType)for(var o=0;o<i.objects.length;o++)if(t.id===i.objects[parseInt(o.toString(),10)].id){i.objects.splice(parseInt(o.toString(),10),1),i.objects.splice(parseInt(o.toString(),10),0,t),n=!0;break}if(!n)if(-1===t.zIndex)i.zIndex++,t.zIndex=i.zIndex,i.objects.push(t);else{var r=i.objects.length;t.zIndex=r++,i.objects.push(t)}}},e.prototype.initObject=function(e){return this.setZIndex(this.pdfViewer.zIndex,e),(0,i.createMeasureElements)(),c(e)?(this.initLine(e),e.wrapper.measure(new i.Size(void 0,void 0)),e.wrapper.arrange(e.wrapper.desiredSize)):this.initNode(e),e.wrapper,this.pdfViewer.nameTable[e.id]=e,e.formFieldAnnotationType&&this.nodePropertyChange(e,{bounds:{width:e.bounds.width,height:e.bounds.height}}),e},e.prototype.initNode=function(e){var t,n=this.initContainer(e);n.children||(n.children=[]),t||(t=this.init(e,n)),n.rotateAngle=e.rotateAngle,n.measure(new i.Size(e.wrapper.width,e.wrapper.height)),n.arrange(n.desiredSize),this.isDynamicStamps&&(this.pdfViewer.annotation.stampAnnotationModule.updateSessionStorage(e,null,"dynamicStamp"),this.isDynamicStamps=!1)},e.prototype.init=function(e,t){var n;n=new i.DrawingElement;var o=this.pdfViewer.annotationModule?this.pdfViewer.annotationModule.findAnnotationSettings(e):{},r=0,a=0,s=0,l=0;(o.minWidth||o.maxWidth||o.minHeight||o.maxHeight)&&(r=o.maxHeight?o.maxHeight:2e3,a=o.maxWidth?o.maxWidth:2e3,s=o.minHeight?o.minHeight:0,l=o.minWidth?o.minWidth:0);var d=!1;return(s||l||r||a)&&(d=!0),(n=e.formFieldAnnotationType?this.initFormFields(e,n,t):this.initAnnotationObject(e,undefined,n,t,!1,undefined,d,r,a,l,s)).id=e.id+"_content",n.relativeMode="Object","Stamp"!==e.shapeAnnotationType&&(void 0!==e.bounds.width&&(n.width=e.bounds.width,d&&(n.width<l||n.width>a)&&(n.width<l&&(n.width=l),n.width>a&&(n.width=a))),n.horizontalAlignment="Stretch",void 0!==e.bounds.height&&(n.height=e.bounds.height,d&&(n.height<s||n.width>r)&&(n.height<s&&(n.height=s),n.height>r&&(n.height=r))),g(e,n),this.pdfViewer.viewerBase.drawSignatureWithTool&&"SignatureText"===e.shapeAnnotationType&&(n.style.strokeWidth=0)),n.isRectElement=!0,n.verticalAlignment="Stretch",n},e.prototype.initFormFields=function(e,t,i){switch(e.formFieldAnnotationType){case"Textbox":case"PasswordField":case"Checkbox":case"RadioButton":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":(t=new W).id=e.id+"_content",i.children.push(t)}return t},e.prototype.initAnnotationObject=function(e,t,n,o,r,a,s,l,d,h,A){switch(e.shapeAnnotationType){case"Ellipse":if((t=new i.PathElement).data="M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",n=t,o.children.push(n),e.enableShapeLabel)(w=this.textElement(e)).content=e.labelContent,w.style.color=e.fontColor,w.style.strokeColor=e.labelBorderColor,w.style.fill=e.labelFillColor,w.style.fontSize=e.fontSize,w.style.fontFamily=e.fontFamily,w.style.opacity=e.labelOpacity,o.children.push(w);break;case"Path":(t=new i.PathElement).data=e.data,n=t,o.children.push(n);break;case"HandWrittenSignature":case"Ink":(t=new i.PathElement).data=e.data,t.style.strokeColor=e.strokeColor,t.style.strokeWidth=e.thickness,t.style.opacity=e.opacity,n=t,o.children.push(n);break;case"Polygon":(t=new i.PathElement).data=O(e.vertexPoints),n=t,o.children.push(n);break;case"Stamp":if(r=!0,this.isDynamicStamps=!0,e&&e.annotationAddMode&&("Existing Annotation"===e.annotationAddMode||"Imported Annotation"===e.annotationAddMode)&&(e.bounds.width=e.bounds.width-20,e.bounds.height=e.bounds.height-20),e.isDynamicStamp){o.horizontalAlignment="Left",(n=a=new i.DrawingElement).cornerRadius=10,n.style.fill=e.stampFillColor,n.style.strokeColor=e.stampStrokeColor,o.children.push(n);var p=this.textElement(e);(p=new i.TextElement).style.fontFamily="Helvetica",p.style.fontSize=14,p.style.italic=!0,p.style.bold=!0,p.style.color=e.fillColor,p.rotateValue=void 0,p.content=e.dynamicText,p.relativeMode="Point",p.margin.left=10,p.margin.bottom=-7,p.setOffsetWithRespectToBounds(0,.57,null),p.relativeMode="Point",o.children.push(p),(f=new i.PathElement).id=(0,i.randomId)()+"_stamp",f.data=e.data,f.width=e.bounds.width,s&&e.bounds.width>d&&(f.width=d,e.bounds.width=d),f.height=e.bounds.height/2,s&&e.bounds.height>l&&(f.height=l/2,e.bounds.height=l/2),f.rotateValue=void 0,f.margin.left=10,f.margin.bottom=-5,f.relativeMode="Point",f.setOffsetWithRespectToBounds(0,.1,null);var c=f;f.style.fill=e.fillColor,f.style.strokeColor=e.strokeColor,f.style.opacity=e.opacity,n.width=e.bounds.width+20,n.height=e.bounds.height+20,n.style.opacity=e.opacity,o.children.push(c)}else{var f;o.horizontalAlignment="Left",(n=a=new i.DrawingElement).cornerRadius=10,n.style.fill=e.stampFillColor,n.style.strokeColor=e.stampStrokeColor,o.children.push(n),(f=new i.PathElement).id=(0,i.randomId)()+"_stamp",f.data=e.data,f.width=e.bounds.width,s&&e.bounds.width>d&&(f.width=d,e.bounds.width=d),f.height=e.bounds.height,s&&e.bounds.height>l&&(f.height=l,e.bounds.height=l),f.minWidth=f.width/2,f.minHeight=f.height/2;c=f;f.style.fill=e.fillColor,f.style.strokeColor=e.strokeColor,f.style.opacity=e.opacity,n.width=e.bounds.width+20,n.height=e.bounds.height+20,n.minWidth=f.width/2,n.minHeight=f.height/2,n.style.opacity=e.opacity,o.children.push(c),o.minHeight=n.minHeight+20,o.minWidth=n.minWidth+20}break;case"Image":case"SignatureImage":var m=new i.ImageElement;m.source=e.data,(n=m).style.strokeWidth=0,o.children.push(n);break;case"Rectangle":var w;if(n=a=new i.DrawingElement,o.children.push(n),e.enableShapeLabel)(w=this.textElement(e)).content=e.labelContent,w.style.color=e.fontColor,w.style.strokeColor=e.labelBorderColor,w.style.fill=e.labelFillColor,w.style.fontSize=e.fontSize,w.style.fontFamily=e.fontFamily,w.style.opacity=e.labelOpacity,o.children.push(w);break;case"Perimeter":(t=new i.PathElement).data="M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",n=t,g(e,t),o.children.push(n),(a=new i.DrawingElement).id="perimeter_"+(0,i.randomId)(),a.height=.2,a.width=.2,a.transform=i.RotateTransform.Self,a.horizontalAlignment="Stretch",this.setNodePosition(a,e),a.rotateAngle=e.rotateAngle,g(e,a),o.children.push(a);p=this.textElement(e);(p=new i.TextElement).content=p.content=u([{x:e.bounds.x,y:e.bounds.y},{x:e.bounds.x+e.bounds.width,y:e.bounds.y+e.bounds.height}]).toString(),p.rotateValue={y:-10,angle:e.rotateAngle},o.children.push(p);break;case"Radius":(t=new i.PathElement).data="M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",n=t,g(e,t),o.children.push(n),(a=new i.DrawingElement).id="radius_"+(0,i.randomId)(),a.height=.2,a.width=e.bounds.width/2,a.transform=i.RotateTransform.Self,this.setNodePosition(a,e),a.rotateAngle=e.rotateAngle,g(e,a),o.children.push(a);var y=this.textElement(e);e.enableShapeLabel&&(y.style.color=e.fontColor,y.style.strokeColor=e.labelBorderColor,y.style.fill=e.labelFillColor,y.style.fontSize=e.fontSize,y.style.fontFamily=e.fontFamily,y.style.opacity=e.labelOpacity);u([{x:e.bounds.x,y:e.bounds.y},{x:e.bounds.x+e.bounds.width,y:e.bounds.y+e.bounds.height}]);!this.pdfViewer.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?y.content=e.notes:y.content=this.pdfViewer.annotation.measureAnnotationModule.setConversion(e.bounds.width/2*this.pdfViewer.annotation.measureAnnotationModule.pixelToPointFactor,e),y.rotateValue={y:-10,x:e.bounds.width/4,angle:e.rotateAngle},o.children.push(y);break;case"StickyNotes":var S=new i.ImageElement;S.source=e.data,S.width=e.bounds.width,S.height=e.bounds.height,S.style.strokeColor=e.strokeColor,S.style.strokeWidth=0,n=S,o.children.push(n);break;case"SignatureText":var C=new i.DrawingElement;C.style.strokeWidth=0,(n=C).style.strokeWidth=0,o.style.strokeWidth=0,o.children.push(n);var B=this.textElement(e);B.style.fontFamily=e.fontFamily,B.style.fontSize=e.fontSize,B.style.textAlign="Left",B.rotateValue=void 0,B.content=e.data,B.style.strokeWidth=0,o.children.push(B);break;case"FreeText":n=new i.DrawingElement,o.children.push(n);var I=this.textElement(e);(I=new i.TextElement).style.fontFamily=e.fontFamily,I.style.fontSize=e.fontSize,I.style.textAlign="Left","center"===e.textAlign.toLowerCase()?I.style.textAlign="Center":"right"===e.textAlign.toLowerCase()?I.style.textAlign="Right":"justify"===e.textAlign.toLowerCase()&&(I.style.textAlign="Justify"),I.style.color=e.fontColor,I.style.bold=e.font.isBold,I.style.italic=e.font.isItalic,!0===e.font.isUnderline?I.style.textDecoration="Underline":!0===e.font.isStrikeout&&(I.style.textDecoration="LineThrough"),I.rotateValue=void 0,I.content=e.dynamicText,I.style.opacity=e.opacity,I.margin.left=4,I.margin.right=5,I.margin.top=e.fontSize/16*5,this.pdfViewer.freeTextSettings.enableAutoFit?I.style.textWrapping="Wrap":I.style.textWrapping="WrapWithOverflow",I.relativeMode="Point",I.setOffsetWithRespectToBounds(0,0,null),I.relativeMode="Point",o.children.push(I)}return n.id=e.id+"_content",n.relativeMode="Object",r||(void 0!==e.bounds.width&&(n.width=e.bounds.width,s&&(n.width<h||n.width>d)&&(n.width<h&&(n.width=h),n.width>d&&(n.width=d))),n.horizontalAlignment="Stretch",void 0!==e.bounds.height&&(n.height=e.bounds.height,s&&(n.height<A||n.width>l)&&(n.height<A&&(n.height=A),n.height>l&&(n.height=l))),g(e,n)),n.isRectElement=!0,n.verticalAlignment="Stretch",n},e.prototype.textElement=function(e){var t=new i.TextElement;return g(e,t),t.horizontalAlignment="Center",t.verticalAlignment="SignatureText"===e.shapeAnnotationType?"Center":"Top",t.relativeMode="Object",t.setOffsetWithRespectToBounds(.5,.5,"Absolute"),t},e.prototype.setNodePosition=function(e,t){if("Perimeter"===t.shapeAnnotationType)e.offsetX=t.bounds.x+t.bounds.width/2,e.offsetY=t.bounds.y+t.bounds.height/2;else if("Radius"===t.shapeAnnotationType){var n={x:t.bounds.x+t.bounds.width/2+t.bounds.width/4,y:t.bounds.y+t.bounds.height/2},o={x:t.bounds.x+t.bounds.width/2,y:t.bounds.y+t.bounds.height/2},r=(0,i.identityMatrix)();(0,i.rotateMatrix)(r,t.rotateAngle,o.x,o.y);var a=(0,i.transformPointByMatrix)(r,n),s={x:a.x,y:a.y};e.offsetX=s.x,e.offsetY=s.y,e.width=t.bounds.width/2}},e.prototype.initContainer=function(e){e.id||(e.id=(0,i.randomId)());var t=new i.Canvas;return t.id=e.id,t.offsetX=e.bounds.x+.5*e.bounds.width,t.offsetY=e.bounds.y+.5*e.bounds.height,t.style.fill="transparent",t.style.strokeColor="transparent",t.rotateAngle=e.rotateAngle,e.wrapper=t,t},e.prototype.initLine=function(e){e.id||(e.id=(0,i.randomId)());var t=new i.Canvas,n=new i.PathElement;n.id=e.id+"_path";var o=new i.PathElement,r=new i.PathElement;if(e.vertexPoints.length){e.sourcePoint=e.vertexPoints[0],e.targetPoint=e.vertexPoints[e.vertexPoints.length-1];for(var a=0;a<e.vertexPoints.length;a++)0!==a&&a!==e.vertexPoints.length-1&&e.segments.push(e.vertexPoints[parseInt(a.toString(),10)])}n=_(e,n);var s=[];s=v(e);var l=[],d=[];if("Distance"===e.shapeAnnotationType&&(l=z(e,s),d=F(e,s,this.pdfViewer.annotation.measureAnnotationModule,this.pdfViewer)),"Line"!==e.shapeAnnotationType&&"LineWidthArrowHead"!==e.shapeAnnotationType||"Perimeter"!==e.measureType||(d=P(e,s,this.pdfViewer.annotation.measureAnnotationModule,this.pdfViewer)),!0===e.enableShapeLabel&&"Distance"!==e.shapeAnnotationType&&"Perimeter"!==e.measureType){var h=i.Point.findAngle(s[0],s[1]),A=this.textElement(e);A.id=(0,i.randomId)(),!this.pdfViewer.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?A.content=e.notes:A.content=e.labelContent,A.style.strokeColor=e.labelBorderColor,A.style.fill=e.labelFillColor,A.style.fontSize=e.fontSize,A.style.color=e.fontColor,A.style.fontFamily=e.fontFamily,A.style.opacity=e.labelOpacity,A.rotateValue={y:-10,angle:h},d.push(A)}s=V(e,s);var p=i.Rect.toBounds(s);t.width=p.width,t.height=p.height,t.offsetX=p.x+t.pivot.x*p.width,t.offsetY=p.y+t.pivot.y*p.height;var c=e.vertexPoints;if("Line"!==e.shapeAnnotationType&&"LineWidthArrowHead"!==e.shapeAnnotationType&&"Distance"!==e.shapeAnnotationType||(o=M(e,s[0],c[1],!0),r=M(e,s[s.length-1],c[c.length-2],!1)),o.id=e.id+"_srcDec",r.id=e.id+"_tarDec",n.style.fill="transparent",t.style.strokeColor="transparent",t.style.fill="transparent",t.style.strokeWidth=0,t.children=[],g(e,n),t.children.push(n),l.length>0)for(a=0;a<l.length;a++)t.children.push(l[parseInt(a.toString(),10)]);if(d.length>0)for(a=0;a<d.length;a++)t.children.push(d[parseInt(a.toString(),10)]);if(t.children.push(o),t.children.push(r),"LineWidthArrowHead"===e.shapeAnnotationType)for(a=0;a<t.children.length;a++){var u=t.children[parseInt(a.toString(),10)];(u.id.includes("srcDec")||u.id.includes("tarDec"))&&(u.width=12*e.thickness,u.height=12*e.thickness)}return t.id=e.id,t.offsetX=n.offsetX,t.offsetY=n.offsetY,t.width=n.width,t.height=n.height,s=v(e),e.wrapper=t,t},e.prototype.add=function(e){var t=this.pdfViewer.allowServerDataBinding;return this.pdfViewer.enableServerDataBinding(!1),e.formFieldAnnotationType&&this.pdfViewer.formDesignerModule?(e=new l(this.pdfViewer,"formFields",e,!0),e=this.initObject(e),this.pdfViewer.formFields.push(e)):(e=new s(this.pdfViewer,"annotations",e,!0),e=this.initObject(e),this.pdfViewer.annotations.push(e)),this.pdfViewer.enableServerDataBinding(t,!0),e},e.prototype.remove=function(e){var i=this.pdfViewer.allowServerDataBinding;this.pdfViewer.enableServerDataBinding(!1);for(var n=e.pageIndex,o=0;o<this.pdfViewer.annotations.length;o++){var r=this.pdfViewer.annotations[parseInt(o.toString(),10)];if(r.id&&(r.id===e.id||r.id.split("_")[0]===e.id)||r.wrapper&&r.wrapper.id===e.id){this.pdfViewer.annotations.splice(o,1);for(var a=this.getPageObjects(e.pageIndex),s=0;s<a.length;s++)a[parseInt(s.toString(),10)].id===e.id&&(a.splice(s,1),"Path"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType?this.refreshCanvasDiagramLayer(void 0,n,e.id):this.pdfViewer.renderDrawing(void 0,n))}}for(o=0;o<this.pdfViewer.formFields.length;o++){if((d=this.pdfViewer.formFields[parseInt(o.toString(),10)]).id===e.id||d.wrapper.id===e.id){this.pdfViewer.formFields.splice(o,1),this.pdfViewer.formDesignerModule&&e.formFieldAnnotationType&&this.pdfViewer.formFieldCollection.splice(o,1);for(a=this.getPageObjects(e.pageIndex),s=0;s<a.length;s++){if(a[parseInt(s.toString(),10)].id===e.id){a.splice(s,1);break}a[parseInt(s.toString(),10)]&&a[parseInt(s.toString(),10)].id&&-1!==a[parseInt(s.toString(),10)].id.indexOf(e.id)&&a.splice(s,1)}}}if("Textbox"===e.formFieldAnnotationType||"Checkbox"===e.formFieldAnnotationType||"RadioButton"===e.formFieldAnnotationType||"PasswordField"===e.formFieldAnnotationType||"DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType||"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType){var l=document.getElementById("form_field_"+e.id+"_content_html_element");l&&(l.remove(),this.pdfViewer.renderDrawing(void 0,n));for(o=0;o<this.pdfViewer.formFieldCollections.length;o++){var d;(d=this.pdfViewer.formFieldCollections[parseInt(o.toString(),10)]).id===e.id&&this.pdfViewer.formFieldCollections.splice(o,1)}for(o=0;o<this.pdfViewer.viewerBase.formFieldCollection.length;o++)e.id==this.pdfViewer.viewerBase.formFieldCollection[parseInt(o.toString(),10)]&&this.pdfViewer.viewerBase.formFieldCollection.splice(o,1);var h={name:e.name,id:e.id,value:e.value,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,color:e.color,backgroundColor:e.backgroundColor,alignment:e.alignment,isReadonly:e.isReadonly,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:e.rotateAngle,tooltip:e.tooltip,options:e.options,isChecked:e.isChecked,isSelected:e.isSelected};(0,t.isNullOrUndefined)(h)||"diagram_helper"===h.id||(this.pdfViewer.fireFormFieldRemoveEvent("formFieldRemove",h,e.pageIndex),this.pdfViewer.formDesignerModule.removeFieldsFromAnnotationCollections(e.id,h.name))}this.pdfViewer.enableServerDataBinding(i,!0)},e.prototype.getPageObjects=function(e){return this.getPageTable(e).objects},e.prototype.refreshCanvasDiagramLayer=function(e,n,o){var r=this;if(e||(e=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+n)),e){var a=this.pdfViewer.viewerBase.getZoomFactor(),s=e.width/a,l=e.height/a,d=e.getContext("2d");d.lineCap="round",d.lineJoin="round",a<1&&(d.lineWidth=d.lineWidth/a);var h=a*this.pdfViewer.viewerBase.getWindowDevicePixelRatio();!t.Browser.isDevice||t.Browser.isDevice&&a<=.7?d.setTransform(h,0,0,h,0,0):d.setTransform(a,0,0,a,0,0),d.clearRect(0,0,s,l);for(var A=this.getPageObjects(n).filter((function(e,i,n){return"free"===e.id.split("_")[0]||((0,t.isNullOrUndefined)(r.pdfViewer.formDesignerModule)?i===n.findIndex((function(t){return t.id===e.id})):i===n.findIndex((function(t){return t.id.split("_")[0]===e.id.split("_")[0]})))})),p=0;p<A.length;p++){var c=void 0;if(e.id===this.pdfViewer.element.id+"_print_annotation_layer_"+n)A[parseInt(p.toString(),10)].isPrint&&(c=this.pdfViewer.nameTable[A[parseInt(p.toString(),10)].id].wrapper,(0,t.isNullOrUndefined)(c)||(0,i.refreshDiagramElements)(e,[c],this.renderer));else{c=this.pdfViewer.nameTable[A[parseInt(p.toString(),10)].id].wrapper;var g=A[parseInt(p.toString(),10)].id,u=this.pdfViewer.nameTable[""+g];if(c&&this.shouldRefreshElement(u)||(0,t.isNullOrUndefined)(this.pdfViewer.formDesignerModule)){if(!(0,t.isNullOrUndefined)(u.properties.data)&&u.properties.data.includes("base64")){var f=new Image;f.src=u.properties.data,null==window.customStampCollection&&void 0===window.customStampCollection&&(window.customStampCollection=new Map),window.customStampCollection&&!window.customStampCollection.get(c.id)&&window.customStampCollection.set(c.id,f)}(0,i.refreshDiagramElements)(e,[c],this.renderer)}}}}},e.prototype.shouldRefreshElement=function(e){var i=this.pdfViewer.nameTable[e.id.split("_")[0]];return!(0,t.isNullOrUndefined)(i)&&"visible"===e.visibility||!(0,t.isNullOrUndefined)(e.subject)&&"SignatureField"!==e.annotName&&(0,t.isNullOrUndefined)(e.visibility)||"annotations"===e.propName&&"Path"!==e.shapeAnnotationType&&"SignatureText"!==e.shapeAnnotationType&&"SignatureImage"!==e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType&&"formFields"!==e.propName||"SignatureText"===e.shapeAnnotationType&&"formFields"!==e.propName||(0,t.isNullOrUndefined)(i)&&"diagram_helper"===e.id},e.prototype.clearHighlighter=function(e){var t=this.getAdornerLayerSvg(this.pdfViewer.element.id+e+"_diagramAdornerLayer",e);if(t){var i=t.getElementById(t.id+"_highlighter");i&&i.parentNode.removeChild(i)}},e.prototype.getSelectorElement=function(e,t){var i=null,n=this.getAdornerLayerSvg(e,t);return n&&(i=n.getElementById(e+t+"_SelectorElement")),i},e.prototype.getAdornerLayerSvg=function(e,t){var n=null,o=(0,i.getDiagramElement)(e+t+"_diagramAdornerLayer");return o&&(n=o.getElementsByClassName("e-adorner-layer"+t)[0]),n},e.prototype.clearSelectorLayer=function(e){var t=this.getAdornerLayerSvg(this.pdfViewer.element.id,e);if(t){var i=t.getElementById(this.pdfViewer.adornerSvgLayer.id+"_selected_region");i&&i.parentNode.removeChild(i),this.clearHighlighter(e);for(var n=this.getSelectorElement(this.pdfViewer.element.id,e).childNodes,o=void 0,r=n.length;r>0;r--)(o=n[r-1]).parentNode.removeChild(o)}},e.prototype.renderSelector=function(e,t,n,o){if(!n||o){var r=new i.Size,a=this.pdfViewer.selectedItems;if(this.clearSelectorLayer(e),a.wrapper){a.wrapper.measure(r);var s=this.pdfViewer.viewerBase.getZoomFactor();a.wrapper.arrange(a.wrapper.desiredSize),a.width=a.wrapper.actualSize.width,a.height=a.wrapper.actualSize.height,a.offsetX=a.wrapper.offsetX,a.offsetY=a.wrapper.offsetY,1===a.annotations.length&&(a.rotateAngle=a.annotations[0].rotateAngle,a.wrapper.rotateAngle=a.annotations[0].rotateAngle);var l=void 0;if(a.formFields.length)for(var d=0;d<a.formFields.length;d++){var h=a.formFields[parseInt(d.toString(),10)];if((l=this.getSelectorElement(this.pdfViewer.element.id,e))&&h.pageIndex===e&&this.pdfViewer.designerMode&&this.renderResizeHandle(h.wrapper.children[0],l,a.thumbsConstraints,s,void 0,void 0,void 0,!1,!0,null,null,t),this.pdfViewer.formDesignerModule&&h.formFieldAnnotationType&&!this.pdfViewer.viewerBase.isFormFieldSelect&&!this.pdfViewer.viewerBase.isFormFieldMouseDown&&!this.pdfViewer.viewerBase.isFormFieldMouseMove){this.pdfViewer.viewerBase.isFormFieldSelect=!0;var A={name:h.name,id:h.id,value:h.value,fontFamily:h.fontFamily,fontSize:h.fontSize,fontStyle:h.fontStyle,color:h.color,backgroundColor:h.backgroundColor,alignment:h.alignment,isReadonly:h.isReadonly,visibility:h.visibility,maxLength:h.maxLength,isRequired:h.isRequired,isPrint:h.isPrint,rotation:h.rotateAngle,tooltip:h.tooltip,options:h.options,isChecked:h.isChecked,isSelected:h.isSelected};this.pdfViewer.formDesignerModule.isFormFieldSizeUpdated||this.pdfViewer.fireFormFieldSelectEvent("formFieldSelect",A,h.pageIndex,this.pdfViewer.formDesignerModule.isProgrammaticSelection),this.pdfViewer.formDesignerModule.isFormFieldSizeUpdated=!1}}if(a.annotations.length)for(var p=0;p<a.annotations.length;p++){h=a.annotations[parseInt(p.toString(),10)];if((l=this.getSelectorElement(this.pdfViewer.element.id,e))&&h.pageIndex===e){if("Distance"===h.shapeAnnotationType||"Line"===h.shapeAnnotationType||"LineWidthArrowHead"===h.shapeAnnotationType||"Polygon"===h.shapeAnnotationType)this.renderEndPointHandle(h,l,a.thumbsConstraints,{scale:s,tx:0,ty:0},void 0,void 0,!0,t);else if("StickyNotes"===h.shapeAnnotationType)this.renderResizeHandle(h.wrapper.children[0],l,a.thumbsConstraints,s,void 0,void 0,void 0,!1,!0,null,null,t);else if("Stamp"!==this.pdfViewer.tool){var c="Path"===h.shapeAnnotationType||"SignatureField"===h.formFieldAnnotationType||"InitialField"===h.formFieldAnnotationType;this.renderResizeHandle(h.wrapper.children[0],l,a.thumbsConstraints,s,void 0,void 0,void 0,"Stamp"===h.shapeAnnotationType,!1,c,"FreeText"===h.shapeAnnotationType||"HandWrittenSignature"===h.shapeAnnotationType||"SignatureImage"===h.shapeAnnotationType||"Image"===h.shapeAnnotationType||"SignatureText"===h.shapeAnnotationType,t)}if(this.pdfViewer.viewerBase.isNewSignatureAdded||"HandWrittenSignature"!==h.shapeAnnotationType&&"SignatureText"!==h.shapeAnnotationType&&"SignatureImage"!==h.shapeAnnotationType||this.pdfViewer.annotationModule.selectSignature(h.signatureName,h.pageIndex,h),this.pdfViewer.formDesignerModule&&h.formFieldAnnotationType&&!this.pdfViewer.viewerBase.isFormFieldSelect&&!this.pdfViewer.viewerBase.isFormFieldMouseDown&&!this.pdfViewer.viewerBase.isFormFieldMouseMove){this.pdfViewer.viewerBase.isFormFieldSelect=!0;A={value:h.value,fontFamily:h.fontFamily,fontSize:h.fontSize,fontStyle:h.fontStyle,color:h.color,backgroundColor:h.backgroundColor,alignment:h.alignment,isReadonly:h.isReadonly,visibility:h.visibility,maxLength:h.maxLength,isRequired:h.isRequired,isPrint:h.isPrint,rotation:h.rotateAngle,tooltip:h.tooltip,options:h.options,isChecked:h.isChecked,isSelected:h.isSelected};this.pdfViewer.formDesignerModule.isFormFieldSizeUpdated||this.pdfViewer.fireFormFieldSelectEvent("formFieldSelect",A,h.pageIndex,this.pdfViewer.formDesignerModule.isProgrammaticSelection),this.pdfViewer.formDesignerModule.isFormFieldSizeUpdated=!1}""===h.annotName&&"ink"!==h.signatureName||"SignatureText"===h.annotName||n&&h===n&&!h.formFieldAnnotationType&&(this.pdfViewer.viewerBase.isAddComment||this.pdfViewer.viewerBase.isAnnotationSelect||this.pdfViewer.viewerBase.isAnnotationMouseDown||this.pdfViewer.viewerBase.isAnnotationMouseMove||this.pdfViewer.viewerBase.isInkAdded||this.pdfViewer.viewerBase.isNewStamp||(this.pdfViewer.viewerBase.isAnnotationSelect=!0,this.pdfViewer.annotationModule.annotationSelect(h.annotName,h.pageIndex,h)))}}}}},e.prototype.rotate=function(e,t,i,n){if(e)if(i=i||{x:e.wrapper.offsetX,y:e.wrapper.offsetY},e instanceof p){e.rotateAngle+=t,e.wrapper.rotateAngle+=t;var o=[];o=o.concat(e.annotations),this.rotateObjects(e,o,t,i,null,n)}else this.rotateObjects(e,[e],t,i)},e.prototype.rotateObjects=function(e,t,n,o,r,a){o=o||{};var l=(0,i.identityMatrix)();(0,i.rotateMatrix)(l,n,o.x,o.y);for(var d=0,h=t;d<h.length;d++){var A=h[d];if(A instanceof s){if(!1!==r||e!==A){A.rotateAngle+=n,A.rotateAngle=(A.rotateAngle+360)%360;var p=(0,i.transformPointByMatrix)(l,{x:A.wrapper.offsetX,y:A.wrapper.offsetY});A.wrapper.offsetX=p.x,A.wrapper.offsetY=p.y,this.nodePropertyChange(A,{rotateAngle:A.rotateAngle})}this.renderSelector(A.pageIndex,a)}}},e.prototype.getParentSvg=function(e,t,i){return e&&e.id&&t&&"selector"===t?this.pdfViewer.adornerSvgLayer:i},e.prototype.shownBorder=function(){var e=!1;if(this.pdfViewer.annotationModule){var i=this.pdfViewer.selectedItems.annotations[0],n=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(i),o=this.pdfViewer.annotationModule.checkIsLockSettings(i);e=!(0,t.isNullOrUndefined)(n)&&(n.includes("Select")||!o)}return e},e.prototype.renderBorder=function(e,i,n,o,r,a,s,l){var d=y(e,o);if(o=o||{scale:1,tx:0,ty:0},l){d.x*=o.scale,d.y*=o.scale,d.width*=o.scale,d.height*=o.scale;h=this.pdfViewer.selectedItems.annotations.length>0?this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType:this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType;if(n&&"object"!=typeof n&&""!==n){p=""===(A=JSON.parse(n)).selectionBorderColor?"black":A.selectionBorderColor;d.stroke=p,d.strokeWidth=1===n.selectionBorderThickness?1:A.selectionBorderThickness,(c=0===A.selectorLineDashArray.length?[6,3]:A.selectorLineDashArray).length>2&&(c=[c[0],c[1]]),d.dashArray=c.toString()}else if(n&&""!==n){p=""===n.selectionBorderColor?"black":n.selectionBorderColor;d.stroke=p,d.strokeWidth=1===n.selectionBorderThickness?1:n.selectionBorderThickness;c=(0,t.isNullOrUndefined)(n.selectorLineDashArray)||0!==n.selectorLineDashArray.length?n.selectorLineDashArray:[6,3];!(0,t.isNullOrUndefined)(c)&&c.length>2&&(c=[c[0],c[1]]),(0,t.isNullOrUndefined)(c)||(d.dashArray=c.toString())}else this.getBorderSelector(h,d)}else{d.x*=o.scale,d.y*=o.scale,d.width*=o.scale,d.height*=o.scale,d.fill="transparent";var h=this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType;if(n&&"object"!=typeof n&&""!==n){var A,p=""===(A=JSON.parse(n)).selectionBorderColor?"black":A.selectionBorderColor;d.stroke=p,d.strokeWidth=1===n.selectionBorderThickness?1:A.selectionBorderThickness,(c=0===A.selectorLineDashArray.length?[6,3]:A.selectorLineDashArray).length>2&&(c=[c[0],c[1]]),d.dashArray=c.toString()}else if(n&&""!==n){var p=""===n.selectionBorderColor?"black":n.selectionBorderColor;d.stroke=p,d.strokeWidth=1===n.selectionBorderThickness?1:n.selectionBorderThickness;var c=(0,t.isNullOrUndefined)(n.selectorLineDashArray)||0!==n.selectorLineDashArray.length?n.selectorLineDashArray:[6,3];!(0,t.isNullOrUndefined)(c)&&c.length>2&&(c=[c[0],c[1]]),(0,t.isNullOrUndefined)(c)||(d.dashArray=c.toString())}else if(!this.pdfViewer.designerMode)if("HandWrittenSignature"===h||"SignatureText"===h||"SignatureImage"===h||"Ink"===h){this.pdfViewer.nameTable[e.id.split("_")[0]];var g=this.pdfViewer.viewerBase.checkSignatureFormField(e.id);this.getSignBorder(h,d,g)}else this.getBorderSelector(h,d);d.class="e-pv-diagram-border",s&&(d.class+=" e-diagram-lane"),d.id="borderRect",d.id="borderRect",r||(d.class+=" e-disabled"),a&&(d.class+=" e-thick-border"),d.cornerRadius=0}if(this.shownBorder()){var u=this.getParentSvg(e,"selector");this.svgRenderer.drawRectangle(i,d,this.pdfViewer.element.id,void 0,!0,u)}},e.prototype.getSignBorder=function(e,i,n){if(n||"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)if("Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings){r=(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderColor?"#0000ff":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderColor;i.stroke=r;s=(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderThickness;i.strokeWidth=s,(a=(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectorLineDashArray).length>2&&(a=[a[0],a[1]]),i.dashArray=a.toString()}else{var o=this.pdfViewer.annotationSelectorSettings;r=""===o.selectionBorderColor?"black":o.selectionBorderColor;i.stroke=r,i.strokeWidth=1===o.selectionBorderThickness?1:o.selectionBorderThickness,(a=0===o.selectorLineDashArray.length?[6,3]:o.selectorLineDashArray).length>2&&(a=[a[0],a[1]]),i.dashArray=a.toString()}else{var r=(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderColor?"#0000ff":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderColor;i.stroke=r;var a,s=(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderThickness;i.strokeWidth=s,(a=(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectorLineDashArray).length>2&&(a=[a[0],a[1]]),i.dashArray=a.toString()}},e.prototype.getBorderSelector=function(e,i){var n=this.pdfViewer.annotationSelectorSettings,o=(0,t.isNullOrUndefined)(n.selectionBorderColor)||""===n.selectionBorderColor?"black":n.selectionBorderColor;i.stroke=o,i.strokeWidth=(0,t.isNullOrUndefined)(n.selectionBorderThickness)||1===n.selectionBorderThickness?1:n.selectionBorderThickness;var r=(0,t.isNullOrUndefined)(n.selectorLineDashArray)||0===n.selectorLineDashArray.length?[6,3]:n.selectorLineDashArray;if(r.length>2&&(r=[r[0],r[1]]),i.dashArray=r.toString(),"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings){var a=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor?this.pdfViewer.annotationSelectorSettings.selectionBorderColor:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor;i.stroke=a;var s=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness?this.pdfViewer.annotationSelectorSettings.selectionBorderThickness:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderThickness;i.strokeWidth=s;var l=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray?this.pdfViewer.annotationSelectorSettings.selectorLineDashArray:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray;l.length>2&&(l=[l[0],l[1]]),i.dashArray=l.toString()}else if("Textbox"!==e&&"Checkbox"!==e&&"RadioButton"!==e&&"SignatureField"!==e&&"InitialField"!==e&&"DropdownList"!==e&&"ListBox"!==e&&"PasswordField"!==e||!this.pdfViewer.rectangleSettings.annotationSelectorSettings){if("Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings){var d=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor?this.pdfViewer.annotationSelectorSettings.selectionBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderColor)?"black":this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderColor;i.stroke=d;s=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness?this.pdfViewer.annotationSelectorSettings.selectionBorderThickness:(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderThickness;i.strokeWidth=s;var h=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray?this.pdfViewer.annotationSelectorSettings.selectorLineDashArray:(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.circleSettings.annotationSelectorSettings.selectorLineDashArray;h.length>2&&(h=[h[0],h[1]]),i.dashArray=h.toString()}else if("Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings){var A=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor?this.pdfViewer.annotationSelectorSettings.selectionBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderColor)?"black":this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderColor;i.stroke=A;s=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness?this.pdfViewer.annotationSelectorSettings.selectionBorderThickness:(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderThickness;i.strokeWidth=s;var p=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray?this.pdfViewer.annotationSelectorSettings.selectorLineDashArray:(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.radiusSettings.annotationSelectorSettings.selectorLineDashArray;p.length>2&&(p=[p[0],p[1]]),i.dashArray=p.toString()}else if("FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings){var c=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor?this.pdfViewer.annotationSelectorSettings.selectionBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderColor)?"black":this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderColor;i.stroke=c;s=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness?this.pdfViewer.annotationSelectorSettings.selectionBorderThickness:(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderThickness;i.strokeWidth=s;var g=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray?this.pdfViewer.annotationSelectorSettings.selectorLineDashArray:(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectorLineDashArray;g.length>2&&(g=[g[0],g[1]]),i.dashArray=g.toString()}else if("StickyNotes"===e&&this.pdfViewer.stickyNotesSettings.annotationSelectorSettings){var u=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor?this.pdfViewer.annotationSelectorSettings.selectionBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderColor)?"black":this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderColor;i.stroke=u;s=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness?this.pdfViewer.annotationSelectorSettings.selectionBorderThickness:(0,t.isNullOrUndefined)(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderThickness;i.strokeWidth=s;var f=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[6,3]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray?this.pdfViewer.annotationSelectorSettings.selectorLineDashArray:(0,t.isNullOrUndefined)(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectorLineDashArray;f.length>2&&(f=[f[0],f[1]]),i.dashArray=f.toString()}else if(("Stamp"===e||"Image"===e)&&this.pdfViewer.stampSettings.annotationSelectorSettings){var m=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"#0000ff":this.pdfViewer.annotationSelectorSettings.selectionBorderColor?this.pdfViewer.annotationSelectorSettings.selectionBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderColor)?"#0000ff":this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderColor;i.stroke=m;s=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness?this.pdfViewer.annotationSelectorSettings.selectionBorderThickness:(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderThickness;i.strokeWidth=s;var w=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray?this.pdfViewer.annotationSelectorSettings.selectorLineDashArray:(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.stampSettings.annotationSelectorSettings.selectorLineDashArray;w.length>2&&(w=[w[0],w[1]]),i.dashArray=w.toString()}}else{var y=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.annotationSelectorSettings.selectionBorderColor?this.pdfViewer.annotationSelectorSettings.selectionBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor)?"black":this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor;i.stroke=y;var s=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.annotationSelectorSettings.selectionBorderThickness?this.pdfViewer.annotationSelectorSettings.selectionBorderThickness:(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderThickness;i.strokeWidth=s;var S=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.annotationSelectorSettings.selectorLineDashArray?this.pdfViewer.annotationSelectorSettings.selectorLineDashArray:(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray)?[4]:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray;S.length>2&&(S=[S[0],S[1]]),i.dashArray=S.toString()}},e.prototype.renderCircularHandle=function(e,t,n,o,r,a,s,l,d,h,A,p,c,g){var u=t,f={x:n,y:o};if(l=l||{scale:1,tx:0,ty:0},0!==u.rotateAngle||0!==u.parentTransform){var m=(0,i.identityMatrix)();(0,i.rotateMatrix)(m,u.rotateAngle+u.parentTransform,u.offsetX,u.offsetY),f=(0,i.transformPointByMatrix)(m,f)}var w,S=y(u);w=this.pdfViewer.selectedItems.annotations.length>0&&this.pdfViewer.selectedItems.annotations[0].measureType?this.pdfViewer.selectedItems.annotations[0].measureType:this.pdfViewer.selectedItems.formFields.length>0?this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType:this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType,this.getResizerColors(w,S,g,l),this.getShapeSize(w,S,g,l),S.strokeWidth=1,void 0!==p&&(S.id="segmentEnd_"+p),S.centerX=(f.x+l.tx)*l.scale,S.centerY=(f.y+l.ty)*l.scale,S.angle=0,S.id=e,S.visible=a,S.class=c,S.opacity=1,d&&(S.class+=" e-connected"),h&&(S.visible=!1),S.x=f.x*l.scale-S.width/2,S.y=f.y*l.scale-S.height/2;var C=this.getParentSvg(t,"selector");"Square"===this.getShape(w,g)?this.svgRenderer.drawRectangle(r,S,e,void 0,!0,C):"Circle"===this.getShape(w,g)&&this.svgRenderer.drawCircle(r,S,1)},e.prototype.getShapeSize=function(e,i,n,o){if(n&&"object"!=typeof n&&""!==n){var r=JSON.parse(n);i.radius=((0,t.isNullOrUndefined)(r.resizerSize)||8===r.resizerSize?8:r.resizerSize)/2,i.width=((0,t.isNullOrUndefined)(r.resizerSize)||8===r.resizerSize?8:r.resizerSize)*o.scale,i.height=((0,t.isNullOrUndefined)(r.resizerSize)||8===r.resizerSize?8:r.resizerSize)*o.scale}else if(n&&""!==n)i.radius=((0,t.isNullOrUndefined)(n.resizerSize)||8===n.resizerSize?8:n.resizerSize)/2,i.width=((0,t.isNullOrUndefined)(n.resizerSize)||8===n.resizerSize?8:n.resizerSize)*o.scale,i.height=((0,t.isNullOrUndefined)(n.resizerSize)||8===n.resizerSize?8:n.resizerSize)*o.scale;else{r=this.pdfViewer.annotationSelectorSettings;i.radius=((0,t.isNullOrUndefined)(r.resizerSize)||8===r.resizerSize?8:r.resizerSize)/2,i.width=((0,t.isNullOrUndefined)(r.resizerSize)||8===r.resizerSize?8:r.resizerSize)*o.scale,i.height=((0,t.isNullOrUndefined)(r.resizerSize)||8===r.resizerSize?8:r.resizerSize)*o.scale,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize*o.scale):"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize*o.scale):"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize*o.scale):"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize*o.scale):"Distance"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize*o.scale):"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize*o.scale):"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize*o.scale):"Stamp"!==e&&"Image"!==e||!this.pdfViewer.stampSettings.annotationSelectorSettings?"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize*o.scale):"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?"Perimeter"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize*o.scale):"Area"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize*o.scale):"Volume"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings?(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize*o.scale):"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize*o.scale):(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize*o.scale):(i.radius=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize/2,i.width=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize*o.scale,i.height=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerSize)||8!==this.pdfViewer.annotationSelectorSettings.resizerSize?this.pdfViewer.annotationSelectorSettings.resizerSize:(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)?8:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize*o.scale)}},e.prototype.getShape=function(e,i){var n;if(i&&"object"!=typeof i&&""!==i){var o=JSON.parse(i);n=(0,t.isNullOrUndefined)(o.resizerShape)||"Square"===o.resizerShape?"Square":o.resizerShape}else if(i&&""!==i)n=(0,t.isNullOrUndefined)(i.resizerShape)||"Square"===i.resizerShape?"Square":i.resizerShape;else{o=this.pdfViewer.annotationSelectorSettings;n=(0,t.isNullOrUndefined)(o.resizerShape)||"Square"===o.resizerShape?"Square":o.resizerShape,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.lineSettings.annotationSelectorSettings.resizerShape:"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerShape:"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerShape:"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.circleSettings.annotationSelectorSettings.resizerShape:"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerShape:"Distance"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerShape:"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerShape:"Stamp"!==e&&"Image"!==e||!this.pdfViewer.stampSettings.annotationSelectorSettings?"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerShape:("HandWrittenSignature"===e||"SignatureText"===e||"SignatureImage"===e)&&this.pdfViewer.handWrittenSignatureSettings&&this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerShape:"Perimeter"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerShape:"Area"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.areaSettings.annotationSelectorSettings.resizerShape:"Volume"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerShape:"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerShape):n=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerShape)||"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape?this.pdfViewer.annotationSelectorSettings.resizerShape:(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerShape)?"Square":this.pdfViewer.stampSettings.annotationSelectorSettings.resizerShape}return n},e.prototype.getResizerColors=function(e,i,n,o){if(n&&"object"!=typeof n&&""!==n){var r=JSON.parse(n);i.stroke=(0,t.isNullOrUndefined)(r.resizerBorderColor)||"black"===r.resizerBorderColor?"black":r.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(r.resizerFillColor)||"#FF4081"===r.resizerFillColor?"#FF4081":r.resizerFillColor}else if(n&&""!==n)i.stroke=(0,t.isNullOrUndefined)(n.resizerBorderColor)?"black":n.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(n.resizerFillColor)?"#FF4081":n.resizerFillColor;else{r=this.pdfViewer.annotationSelectorSettings;i.stroke=(0,t.isNullOrUndefined)(r.resizerBorderColor)||"black"===r.resizerBorderColor?"black":r.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(r.resizerFillColor)||"#FF4081"===r.resizerFillColor?"#FF4081":r.resizerFillColor,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.lineSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.lineSettings.annotationSelectorSettings.resizerFillColor):"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerFillColor):"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerFillColor):"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.circleSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.circleSettings.annotationSelectorSettings.resizerFillColor):"Distance"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerFillColor):"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerFillColor):"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerFillColor):"Stamp"!==e&&"Image"!==e||!this.pdfViewer.stampSettings.annotationSelectorSettings?"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerFillColor):"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?"Perimeter"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerFillColor):"Area"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.areaSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.areaSettings.annotationSelectorSettings.resizerFillColor):"Volume"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings?(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerFillColor):"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerFillColor):(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerFillColor):(i.stroke=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerBorderColor)||"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor?this.pdfViewer.annotationSelectorSettings.resizerBorderColor:(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerBorderColor)?"black":this.pdfViewer.stampSettings.annotationSelectorSettings.resizerBorderColor,i.fill=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSelectorSettings.resizerFillColor)||"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor?this.pdfViewer.annotationSelectorSettings.resizerFillColor:(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerFillColor)?"FF4081":this.pdfViewer.stampSettings.annotationSelectorSettings.resizerFillColor)}},e.prototype.renderRotateThumb=function(e,t,n,o,r){var a,s=e.offsetY-e.actualSize.height*e.pivot.y,l=e.offsetX-e.actualSize.width*e.pivot.x+e.pivot.x*e.actualSize.width,d=s;if(a={x:l=(l+n.tx)*n.scale,y:(d=(d+n.ty)*n.scale)-25},0!==e.rotateAngle||0!==e.parentTransform){var h=(0,i.identityMatrix)();(0,i.rotateMatrix)(h,e.rotateAngle+e.parentTransform,(n.tx+e.offsetX)*n.scale,(n.ty+e.offsetY)*n.scale),a=(0,i.transformPointByMatrix)(h,a)}var A=y(e);A.stroke="black",A.strokeWidth=1,A.opacity=1,A.fill="#FF4081",A.centerX=a.x,A.centerY=a.y,A.radius=4,A.angle=0,A.visible=!0,A.class="e-diagram-rotate-handle",A.id="rotateThumb",this.shownBorder()&&this.svgRenderer.drawCircle(t,A,i.ThumbsConstraints.Rotate,{"aria-label":"Thumb to rotate the selected object"});var p=t.querySelector("#"+A.id);p&&p.setAttribute("role","separator")},e.prototype.renderResizeHandle=function(e,t,n,o,r,a,s,l,d,h,A,p){var c=e.offsetX-e.actualSize.width*e.pivot.x,g=e.offsetY-e.actualSize.height*e.pivot.y,u=e.actualSize.height,f=e.actualSize.width,m={scale:o,tx:0,ty:0};l&&(this.renderPivotLine(e,t,m),this.renderRotateThumb(e,t,m)),A&&(l=!0),this.renderBorder(e,t,p,m,a,s,!0,d);var w=e.actualSize.width*o,y=e.actualSize.height*o,S=this.pdfViewer.selectedItems.annotations.length>0?this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType:this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType,C=!1;if(!this.pdfViewer.formDesignerModule){var B=this.pdfViewer.selectedItems.annotations[0],I=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(B);(this.pdfViewer.annotationModule.checkIsLockSettings(B)||B.annotationSettings.isLock)&&this.getAllowedInteractions(I)&&(C=!0),"Select"===I[0]&&(C=!1)}var b=this.getResizerLocation(S,p);(b<1||b>3)&&(b=3);var v=!1;!this.pdfViewer.selectedItems.annotations[0]||"Ellipse"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Radius"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Rectangle"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Ink"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||(v=!0),this.pdfViewer.viewerBase.checkSignatureFormField(e.id)||s||d||h||C||((l||v&&w>=40&&y>=40&&(1===b||3===b))&&(this.renderCircularHandle("resizeNorthWest",e,c,g,t,!0,n&i.ThumbsConstraints.ResizeNorthWest,m,void 0,r,{"aria-label":"Thumb to resize the selected object on top left side direction"},void 0,"e-pv-diagram-resize-handle e-northwest",p),this.renderCircularHandle("resizeNorthEast",e,c+f,g,t,!0,n&i.ThumbsConstraints.ResizeNorthEast,m,void 0,r,{"aria-label":"Thumb to resize the selected object on top right side direction"},void 0,"e-pv-diagram-resize-handle e-northeast",p),this.renderCircularHandle("resizeSouthWest",e,c,g+u,t,!0,n&i.ThumbsConstraints.ResizeSouthWest,m,void 0,r,{"aria-label":"Thumb to resize the selected object on bottom left side direction"},void 0,"e-pv-diagram-resize-handle e-southwest",p),this.renderCircularHandle("resizeSouthEast",e,c+f,g+u,t,!0,n&i.ThumbsConstraints.ResizeSouthEast,m,void 0,r,{"aria-label":"Thumb to resize the selected object on bottom right side direction"},void 0,"e-pv-diagram-resize-handle e-southeast",p)),(l||v)&&(!v||2!==b&&3!==b&&(w>=40&&y>=40||1!==b))||(this.renderCircularHandle("resizeNorth",e,c+f/2,g,t,!0,n&i.ThumbsConstraints.ResizeNorth,m,void 0,r,{"aria-label":"Thumb to resize the selected object on top side direction"},void 0,"e-pv-diagram-resize-handle e-north",p),this.renderCircularHandle("resizeSouth",e,c+f/2,g+u,t,!0,n&i.ThumbsConstraints.ResizeSouth,m,void 0,r,{"aria-label":"Thumb to resize the selected object on bottom side direction"},void 0,"e-pv-diagram-resize-handle e-south",p),this.renderCircularHandle("resizeWest",e,c,g+u/2,t,!0,n&i.ThumbsConstraints.ResizeWest,m,void 0,r,{"aria-label":"Thumb to resize the selected object on left side direction"},void 0,"e-pv-diagram-resize-handle e-west",p),this.renderCircularHandle("resizeEast",e,c+f,g+u/2,t,!0,n&i.ThumbsConstraints.ResizeEast,m,void 0,r,{"aria-label":"Thumb to resize the selected object on right side direction"},void 0,"e-pv-diagram-resize-handle e-east",p))),"Textbox"!==S&&"Checkbox"!==S&&"RadioButton"!==S&&"SignatureField"!==S&&"InitialField"!==S&&"DropdownList"!==S&&"ListBox"!==S&&"PasswordField"!==S||(this.renderCircularHandle("resizeNorth",e,c+f/2,g,t,!0,n&i.ThumbsConstraints.ResizeNorth,m,void 0,r,{"aria-label":"Thumb to resize the selected object on top side direction"},void 0,"e-pv-diagram-resize-handle e-north",p),this.renderCircularHandle("resizeSouth",e,c+f/2,g+u,t,!0,n&i.ThumbsConstraints.ResizeSouth,m,void 0,r,{"aria-label":"Thumb to resize the selected object on bottom side direction"},void 0,"e-pv-diagram-resize-handle e-south",p),this.renderCircularHandle("resizeWest",e,c,g+u/2,t,!0,n&i.ThumbsConstraints.ResizeWest,m,void 0,r,{"aria-label":"Thumb to resize the selected object on left side direction"},void 0,"e-pv-diagram-resize-handle e-west",p),this.renderCircularHandle("resizeEast",e,c+f,g+u/2,t,!0,n&i.ThumbsConstraints.ResizeEast,m,void 0,r,{"aria-label":"Thumb to resize the selected object on right side direction"},void 0,"e-pv-diagram-resize-handle e-east",p))},e.prototype.getAllowedInteractions=function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++)if("None"!==e[0]&&"Resize"===e[parseInt(t.toString(),10)])return!1;return!0},e.prototype.getResizerLocation=function(e,i){var n;if(i&&"object"!=typeof i&&""!==i){var o=JSON.parse(i);n=(0,t.isNullOrUndefined)(o.resizerLocation)||3===o.resizerLocation?3:o.resizerLocation}else if(i&&""!==i)n=(0,t.isNullOrUndefined)(i.resizerLocation)||3===i.resizerLocation?3:i.resizerLocation;else{o=this.pdfViewer.annotationSelectorSettings;n=(0,t.isNullOrUndefined)(o.resizerLocation)||3===o.resizerLocation?3:o.resizerLocation,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation:"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation:"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation:"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation:"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation:"Distance"===e?n=(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation:"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation:"Stamp"===e&&this.pdfViewer.stampSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation:"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?n=(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation:"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(n=(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation):n=(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation||(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)||(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation)?3:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation}return n},e.prototype.renderPivotLine=function(e,t,i,n,o){var r=e,a=!0;o&&(a=!1);var s=y(r,i);s.fill="None",s.stroke="black",s.strokeWidth=1,s.dashArray="2,3",s.visible=a;var l=i.scale;s.x*=l,s.y*=l,s.width*=l,s.height*=l,s.id="pivotLine",s.class="e-diagram-pivot-line";var d={x:r.actualSize.width*r.pivot.x*l,y:-20},h={x:r.actualSize.width*r.pivot.x*l,y:0};s.startPoint=d,s.endPoint=h,this.shownBorder()&&this.svgRenderer.drawLine(t,s)},e.prototype.renderEndPointHandle=function(e,t,n,o,r,a,s,l){o=o||{tx:0,ty:0,scale:1};var d,h=e.sourcePoint,A=e.targetPoint,p=e.wrapper,c=this.shownBorder();if(c)for(d=0;d<e.vertexPoints.length;d++){var g=e.vertexPoints[parseInt(d.toString(),10)];this.renderCircularHandle("segementThumb_"+(d+1),p,g.x,g.y,t,!0,n&i.ThumbsConstraints.ConnectorSource,o,r,null,null,d,"e-pv-diagram-resize-handle",l)}var u=0;if("Distance"===e.shapeAnnotationType)for(d=0;d<e.wrapper.children.length;d++){g=e.wrapper.children[parseInt(d.toString(),10)];var f=void 0,m=i.Point.findAngle(e.sourcePoint,e.targetPoint);if(g.id.indexOf("leader")>-1){var w=e.wrapper.children[0].bounds.center;0===u?(f={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},w=h):(f={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},w=A);var y=(0,i.identityMatrix)();if((0,i.rotateMatrix)(y,m,w.x,w.y),c){var S=(0,i.transformPointByMatrix)(y,{x:f.x,y:f.y});this.renderCircularHandle("leaderThumb_"+(d+1),p,S.x,S.y,t,!0,n&i.ThumbsConstraints.ConnectorSource,o,r,null,null,d,"e-pv-diagram-resize-handle",l)}u++}}},e.prototype.initSelectorWrapper=function(){this.pdfViewer.selectedItems.init(this)},e.prototype.select=function(e,i,n,o){for(var r=this.pdfViewer.selectedItems,a=0;a<e.length;a++){var s=this.pdfViewer.nameTable[e[parseInt(a.toString(),10)]];if(s.formFieldAnnotationType&&this.pdfViewer.designerMode)r.formFields.push(s),this.initSelectorWrapper(),r.wrapper.children.push(s.wrapper),this.renderSelector(s.pageIndex,i,s,!0);else if(s&&!s.formFieldAnnotationType&&!(s instanceof p)&&s.wrapper.visible&&this.pdfViewer.annotationModule){var l=void 0;s.annotationSettings?(0,t.isNullOrUndefined)(l)||(0,t.isNullOrUndefined)(l.isLock)||(l.isLock=JSON.parse(l.isLock)):s.formFieldAnnotationType||(l=this.pdfViewer.annotationModule.findAnnotationSettings(s,!0),s.annotationSettings=l);!s.formFieldAnnotationType&&(!!l&&l.isLock);l&&l.isLock&&this.pdfViewer.annotationModule.checkAllowedInteractions("Select",s)&&!1,r.annotations.push(s),this.shownBorder()&&(this.initSelectorWrapper(),r.wrapper.rotateAngle=r.rotateAngle=0,r.wrapper.children.push(s.wrapper),o||this.renderSelector(s.pageIndex,i,s,!0))}}},e.prototype.dragSelectedObjects=function(e,t,i,n,o){var r=this.pdfViewer.selectedItems;return this.drag(r,e,t,n,o),!0},e.prototype.drag=function(e,t,i,n,o){if(e instanceof p){if(e.annotations.length)for(var r=0,a=e.annotations;r<a.length;r++){var s=a[r];this.drag(s,t,i,n,o),this.renderSelector(s.pageIndex,n,o)}else if(e.formFields.length)for(var l=0,d=e.formFields;l<d.length;l++){s=d[l];this.drag(s,t,i,n,o),this.renderSelector(s.pageIndex,n,o)}}else this.dragAnnotation(e,t,i)},e.prototype.dragAnnotation=function(e,t,i){var n=this.moveInsideViewer(e,t,i);if(e.wrapper.offsetX+=n.tx,e.wrapper.offsetY+=n.ty,c(e)||"Polygon"===e.shapeAnnotationType){if(e.wrapper.children.length)for(var o=e.wrapper.children,r=0;r<o.length;r++)o[parseInt(r.toString(),10)].offsetX+=t,o[parseInt(r.toString(),10)].offsetY+=i;this.dragControlPoint(e,t,i,!0)}this.nodePropertyChange(e,{bounds:{x:e.wrapper.offsetX,y:e.wrapper.offsetY}}),e.wrapper.measureChildren=!1;var a=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+e.pageIndex);this.pdfViewer.renderDrawing(a,e.pageIndex)},e.prototype.dragControlPoint=function(e,t,i,n,o){for(var r=this.pdfViewer.nameTable[e.id],a=0;a<r.vertexPoints.length;a++)r.vertexPoints[parseInt(a.toString(),10)].x+=t,r.vertexPoints[parseInt(a.toString(),10)].y+=i;return n||this.updateEndPoint(r),!0},e.prototype.updateEndPoint=function(e){this.nodePropertyChange(e,{vertexPoints:e.vertexPoints}),this.renderSelector(e.pageIndex)},e.prototype.nodePropertyChange=function(e,n){var o;if(n.bounds&&(void 0!==n.bounds.width&&(e.bounds.width=e.wrapper.width=n.bounds.width),void 0!==n.bounds.height&&(e.bounds.height=e.wrapper.height=n.bounds.height),void 0!==n.bounds.x&&(e.bounds.x=n.bounds.x-.5*e.bounds.width,e.wrapper.offsetX=n.bounds.x,!0),void 0!==n.bounds.y&&(e.bounds.y=n.bounds.y-.5*e.bounds.height,e.wrapper.offsetY=n.bounds.y,!0),void 0!==n.leaderHeight&&(e.leaderHeight=n.leaderHeight,this.updateConnector(e,e.vertexPoints)),e.wrapper.children.length))for(var r=e.wrapper.children,a=0;a<r.length;a++)if(r[parseInt(a.toString(),10)].id){var s=r[parseInt(a.toString(),10)].id.split("_");if(s.length&&(s.indexOf("perimeter")>-1||s.indexOf("radius")>-1))this.setNodePosition(r[parseInt(a.toString(),10)],e);else if(s.length&&s.indexOf("srcDec")>-1)r[parseInt(a.toString(),10)].offsetX=e.vertexPoints[0].x,r[parseInt(a.toString(),10)].offsetY=e.vertexPoints[0].y;else if(s.length&&s.indexOf("tarDec")>-1)r[parseInt(a.toString(),10)].offsetX=e.vertexPoints[e.vertexPoints.length-1].x,r[parseInt(a.toString(),10)].offsetY=e.vertexPoints[e.vertexPoints.length-1].y;else if(s.length&&s.indexOf("stamp")>-1){var l=0;if(void 0!==e.wrapper.width&&void 0!==e.wrapper.height&&(l=20,2.9),e.isDynamicStamp){r[parseInt(a.toString(),10)].width=e.bounds.width-l,r[parseInt(a.toString(),10)].height=e.bounds.height/2-l;var d=r[1],h=this.pdfViewer.stampSettings?this.pdfViewer.stampSettings:this.pdfViewer.annotationSettings;h&&(h.maxHeight||h.maxWidth)&&e.bounds.height>60?d.style.fontSize=0!==l?e.bounds.width/l:e.wrapper.bounds.width/20:d.style.fontSize=0!==l?this.fontSizeCalculation(e,d,e.bounds.width-20):this.fontSizeCalculation(e,d,e.wrapper.bounds.width-20),0!==l&&(d.margin.bottom=-r[parseInt(a.toString(),10)].height/2)}else r[parseInt(a.toString(),10)].width=e.bounds.width-l,r[parseInt(a.toString(),10)].height=e.bounds.height-l;r[parseInt(a.toString(),10)].offsetX=e.wrapper.offsetX,r[parseInt(a.toString(),10)].offsetY=e.wrapper.offsetX,r[parseInt(a.toString(),10)].isDirt=!0}}if(void 0!==n.sourceDecoraterShapes&&(e.sourceDecoraterShapes=n.sourceDecoraterShapes,this.updateConnector(e,e.vertexPoints)),void 0!==n.isReadonly&&"FreeText"===e.shapeAnnotationType&&(e.isReadonly=n.isReadonly),void 0!==n.annotationSelectorSettings&&(e.annotationSelectorSettings=n.annotationSelectorSettings),void 0!==n.taregetDecoraterShapes&&(e.taregetDecoraterShapes=n.taregetDecoraterShapes,this.updateConnector(e,e.vertexPoints)),void 0!==n.fillColor){if(e.fillColor=n.fillColor,e.wrapper.children[0].style.fill=n.fillColor,(e.enableShapeLabel||e.measureType)&&e.wrapper&&e.wrapper.children)for(var r=e.wrapper.children,A=0;A<r.length;A++)r[parseInt(A.toString(),10)].textNodes&&(e.enableShapeLabel&&(e.labelFillColor=n.fillColor,r[parseInt(A.toString(),10)].style.fill=n.fillColor),e.measureType&&(r[parseInt(A.toString(),10)].style.fill=n.fillColor));0}if(e.enableShapeLabel&&void 0!==n.labelFillColor&&e.enableShapeLabel&&e.wrapper&&e.wrapper.children)for(var r=e.wrapper.children,p=0;p<r.length;p++)r[parseInt(p.toString(),10)].textNodes&&(e.labelFillColor=n.labelFillColor,r[parseInt(p.toString(),10)].style.fill=n.labelFillColor);if(void 0!==n.opacity){if("Stamp"===e.shapeAnnotationType||"FreeText"===e.shapeAnnotationType?(e.wrapper.children[1].style.opacity=n.opacity,e.wrapper.children[2]&&(e.wrapper.children[2].style.opacity=n.opacity)):"StickyNotes"===e.shapeAnnotationType&&(this.pdfViewer.nameTable[e.annotName].wrapper.children[0].style.opacity=n.opacity),e.opacity=n.opacity,e.wrapper.children[0].style.opacity=n.opacity,e.enableShapeLabel&&e.wrapper&&e.wrapper.children){r=e.wrapper.children;for(var u=0;u<r.length;u++)r[parseInt(u.toString(),10)].textNodes&&(r[parseInt(u.toString(),10)].style.opacity=n.labelOpacity)}0}if(e.enableShapeLabel&&void 0!==n.labelOpacity&&e.enableShapeLabel&&e.wrapper&&e.wrapper.children){r=e.wrapper.children;for(var f=0;f<r.length;f++)r[parseInt(f.toString(),10)].textNodes&&(r[parseInt(f.toString(),10)].style.opacity=n.labelOpacity)}if(void 0!==n.rotateAngle&&(e.rotateAngle=n.rotateAngle,e.wrapper.rotateAngle=n.rotateAngle,!0),void 0!==n.strokeColor&&(e.strokeColor=n.strokeColor,e.wrapper.children[0].style.strokeColor=n.strokeColor,"Radius"===e.shapeAnnotationType&&e.wrapper.children[1]&&(e.wrapper.children[1].style.strokeColor=n.strokeColor),!0),void 0!==n.fontColor){if(e.fontColor=n.fontColor,"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length)(r=e.wrapper.children)[1].style.color=n.fontColor,"Justify"===e.textAlign?r[1].horizontalAlignment="Center":r[1].horizontalAlignment="Auto";if(e.enableShapeLabel&&e.wrapper&&e.wrapper.children){r=e.wrapper.children;for(var m=0;m<r.length;m++)r[parseInt(m.toString(),10)].textNodes&&(r[parseInt(m.toString(),10)].style.color=n.fontColor)}0}if(void 0!==n.fontFamily){if(e.fontFamily=n.fontFamily,"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length)(r=e.wrapper.children)[1].style.fontFamily=n.fontFamily;if(e.enableShapeLabel&&e.wrapper&&e.wrapper.children){r=e.wrapper.children;for(var w=0;w<r.length;w++)r[parseInt(w.toString(),10)].textNodes&&(r[parseInt(w.toString(),10)].style.fontFamily=n.fontFamily)}0}if(void 0!==n.fontSize){if(("FreeText"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType)&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length)(r=e.wrapper.children)[1].style.fontSize=n.fontSize,"SignatureText"===e.shapeAnnotationType&&(e.wrapper.children[1].bounds.width=e.bounds.width,e.wrapper.children[1].desiredSize.width=e.bounds.width,e.wrapper.children[1].actualSize.width=e.bounds.width,r[1].horizontalAlignment="Center",r[1].verticalAlignment="Center",r[1].setOffsetWithRespectToBounds(0,0,"Absolute"));if(e.enableShapeLabel&&e.wrapper&&e.wrapper.children){r=e.wrapper.children;for(var y=0;y<r.length;y++)r[parseInt(y.toString(),10)].textNodes&&(r[parseInt(y.toString(),10)].style.fontSize=n.fontSize)}this.pdfViewer.enableToolbar&&this.pdfViewer.toolbarModule?this.pdfViewer.toolbarModule.annotationToolbarModule.updateFontSizeInIcon(n.fontSize):this.pdfViewer.annotationModule&&e.fontSize!==n.fontSize&&this.pdfViewer.annotationModule.handleFontSizeUpdate(n.fontSize)}if(void 0!==n.font){if("FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length){r=e.wrapper.children;void 0!==n.font.isBold&&(r[1].style.bold=n.font.isBold,e.font.isBold=n.font.isBold),void 0!==n.font.isItalic&&(r[1].style.italic=n.font.isItalic,e.font.isItalic=n.font.isItalic),void 0!==n.font.isUnderline&&(n.font.isUnderline&&(e.font.isStrikeout=!1),!0===n.font.isUnderline?r[1].style.textDecoration="Underline":n.font.isStrikeout||(r[1].style.textDecoration="None"),e.font.isUnderline=n.font.isUnderline),void 0!==n.font.isStrikeout&&(n.font.isStrikeout&&(e.font.isUnderline=!1),!0===n.font.isStrikeout?r[1].style.textDecoration="LineThrough":n.font.isUnderline||(r[1].style.textDecoration="None"),e.font.isStrikeout=n.font.isStrikeout)}0}if(void 0!==n.textAlign){var S=!(0,t.isNullOrUndefined)(this.pdfViewer.selectedItems.annotations)&&this.pdfViewer.selectedItems.annotations.length>0?this.pdfViewer.selectedItems.annotations[0]:e,B=C(S),I=C(S);if(e.textAlign!==n.textAlign){if(e.textAlign=n.textAlign,I.textAlign=n.textAlign,"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length)(r=e.wrapper.children)[1].style.textAlign=n.textAlign,1===r[1].childNodes.length?"Justify"===e.textAlign?(r[1].horizontalAlignment="Left",r[1].setOffsetWithRespectToBounds(.01,0,null)):"Right"===e.textAlign?(r[1].horizontalAlignment="Right",r[1].setOffsetWithRespectToBounds(1,0,null)):"Left"===e.textAlign?(r[1].horizontalAlignment="Left",r[1].setOffsetWithRespectToBounds(.01,0,null)):"Center"===e.textAlign&&(r[1].horizontalAlignment="Center",r[1].setOffsetWithRespectToBounds(.51,0,null)):r[1].childNodes.length>1&&"Justify"===e.textAlign?r[1].horizontalAlignment="Center":r[1].horizontalAlignment="Auto",this.pdfViewer.annotation.isUndoRedoAction||this.pdfViewer.annotation.addAction(this.pdfViewer.viewerBase.getActivePage(!1),null,S,"textAlign","",B,I);0}}if(void 0!==n.thickness){if(e.thickness=n.thickness,e.wrapper.children[0].style.strokeWidth=n.thickness,"Line"===e.shapeAnnotationType||"LineWidthArrowHead"===e.shapeAnnotationType)for(var b=0;b<e.wrapper.children.length;b++){var E=e.wrapper.children[parseInt(b.toString(),10)];(E.id.includes("srcDec")||E.id.includes("tarDec"))&&(E.width=12*n.thickness,E.height=12*n.thickness)}"Radius"===e.shapeAnnotationType&&e.wrapper.children[1]&&(e.wrapper.children[1].style.strokeWidth=n.thickness)}if(void 0!==n.borderDashArray&&(e.borderDashArray=n.borderDashArray,e.wrapper.children[0].style.strokeDashArray=n.borderDashArray),void 0!==n.borderStyle&&(e.borderStyle=n.borderStyle),void 0!==n.author&&(e.author=n.author),void 0!==n.modifiedDate&&(e.modifiedDate=n.modifiedDate),void 0!==n.subject&&(e.subject=n.subject),void 0!==n.vertexPoints&&(e.vertexPoints=n.vertexPoints,this.pdfViewer.nameTable[e.id].vertexPoints=n.vertexPoints,this.updateConnector(e,n.vertexPoints)),void 0!==n.leaderHeight&&"Polygon"!==e.shapeAnnotationType&&(e.leaderHeight=n.leaderHeight,this.updateConnector(e,e.vertexPoints)),void 0!==n.notes&&(e.notes=n.notes),void 0!==n.annotName&&(e.annotName=n.annotName),"Distance"===e.shapeAnnotationType){for(o=0;o<e.wrapper.children.length;o++){var x=e.wrapper.children[parseInt(o.toString(),10)],_=v(e);x.id.indexOf("leader1")>-1&&this.setLineDistance(e,_,x,!1),x.id.indexOf("leader2")>-1&&this.setLineDistance(e,_,x,!0)}this.updateConnector(e,e.vertexPoints)}if("Polygon"===e.shapeAnnotationType&&n.vertexPoints){e.data=O(e.vertexPoints);var D=e.wrapper.children[0];D.data=e.data,D.canMeasurePath=!0}if(c(e))for(var M=0;M<e.wrapper.children.length;M++){e.wrapper.children[parseInt(M.toString(),10)].textNodes||g(e,e.wrapper.children[parseInt(M.toString(),10)]),!0===e.enableShapeLabel?(e.wrapper.children[parseInt(M.toString(),10)]instanceof i.TextElement&&(e.wrapper.children[parseInt(M.toString(),10)].style.fill=e.labelFillColor),e.wrapper.children[parseInt(M.toString(),10)]instanceof i.PathElement&&"Perimeter"===e.measureType&&(e.wrapper.children[parseInt(M.toString(),10)].style.fill="transparent")):(e.wrapper.children[parseInt(M.toString(),10)]instanceof i.PathElement&&"Perimeter"===e.measureType||e.wrapper.children[parseInt(M.toString(),10)]instanceof i.TextElement)&&(e.wrapper.children[parseInt(M.toString(),10)].style.fill="transparent")}if(e&&("FreeText"===e.shapeAnnotationType||!0===e.enableShapeLabel)&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length){r=e.wrapper.children;for(var V=0;V<r.length;V++)r[parseInt(V.toString(),10)].textNodes&&("FreeText"===e.shapeAnnotationType?(n.dynamicText?(r[parseInt(V.toString(),10)].content=n.dynamicText,e.dynamicText=n.dynamicText):r[parseInt(V.toString(),10)].content=e.dynamicText,r[parseInt(V.toString(),10)].width=e.bounds.width):(!0===e.enableShapeLabel&&e.measureType||!0===e.enableShapeLabel)&&(n.labelContent?(r[parseInt(V.toString(),10)].content=n.labelContent,e.labelContent=n.labelContent):r[parseInt(V.toString(),10)].content=e.labelContent,e.notes=r[parseInt(V.toString(),10)].content),r[parseInt(V.toString(),10)].isDirt=!0)}(e&&"SignatureText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length>1&&(e.wrapper.children[1].isDirt=!0),e&&"FreeText"===e.shapeAnnotationType&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.textFromCommentPanel?(e.wrapper.width=void 0,e.wrapper.height=void 0,e.wrapper.measure(new i.Size(e.wrapper.bounds.width,e.wrapper.bounds.height)),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.textFromCommentPanel=!1):e.wrapper.measure(new i.Size(e.wrapper.bounds.width,e.wrapper.bounds.height)),e.wrapper.arrange(e.wrapper.desiredSize),e&&e.formFieldAnnotationType)&&(e.wrapper&&e.wrapper.children&&e.wrapper.children.length&&((r=e.wrapper.children[0]).actualSize.width=e.wrapper.desiredSize.width,r.actualSize.height=e.wrapper.desiredSize.height));if(e&&"FreeText"===e.shapeAnnotationType&&!(0,t.isNullOrUndefined)(e.subject)){if(e.wrapper&&e.wrapper.children&&e.wrapper.children.length){(r=e.wrapper.children)[1].childNodes.length>1&&"Justify"===e.textAlign?r[1].horizontalAlignment="Center":1===r[1].childNodes.length&&("Justify"===e.textAlign?(r[1].horizontalAlignment="Left",r[1].setOffsetWithRespectToBounds(.01,0,null)):"Right"===e.textAlign?(r[1].horizontalAlignment="Right",r[1].setOffsetWithRespectToBounds(1,0,null)):"Left"===e.textAlign?(r[1].horizontalAlignment="Left",r[1].setOffsetWithRespectToBounds(.01,0,null)):"Center"===e.textAlign&&(r[1].horizontalAlignment="Center",r[1].setOffsetWithRespectToBounds(.51,0,null)));for(var Q=0;Q<r.length;Q++){if(r[parseInt(Q.toString(),10)].textNodes&&r[parseInt(Q.toString(),10)].textNodes.length>0){r[parseInt(Q.toString(),10)].isDirt=!0;var F=r[parseInt(Q.toString(),10)].textNodes.length*r[parseInt(Q.toString(),10)].textNodes[0].dy,T=e.bounds.height-F;if(T>0&&T<r[parseInt(Q.toString(),10)].textNodes[0].dy&&(F+=r[parseInt(Q.toString(),10)].textNodes[0].dy),F>e.bounds.height){for(var k="",P=0;P<r[parseInt(Q.toString(),10)].textNodes.length;P++)k+=r[parseInt(Q.toString(),10)].textNodes[parseInt(P.toString(),10)].text;r[parseInt(Q.toString(),10)].content=k}}r[parseInt(Q.toString(),10)].width=e.bounds.width}}e.wrapper.measure(new i.Size(e.wrapper.bounds.width,e.wrapper.bounds.height)),e.wrapper.arrange(e.wrapper.desiredSize)}(this.pdfViewer.renderDrawing(void 0,e.pageIndex),e&&"FreeText"===e.shapeAnnotationType)&&(e.wrapper&&e.wrapper.children&&e.wrapper.children.length&&(1===(r=e.wrapper.children)[1].childNodes.length&&"Justify"===e.textAlign?(r[1].horizontalAlignment="Left",r[1].setOffsetWithRespectToBounds(.5,0,null)):r[1].childNodes.length>1&&"Justify"===e.textAlign&&(r[1].horizontalAlignment="Center",r[1].setOffsetWithRespectToBounds(0,0,null))))},e.prototype.fontSizeCalculation=function(e,t,i){var n=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+e.pageIndex).getContext("2d"),o=0,r=0,a="";for(t.style.italic&&t.style.bold?a="bold italic ":t.style.bold?a="bold ":t.style.italic&&(a="italic ");i>o;)n.font=a+r+"px "+t.style.fontFamily,o=n.measureText(e.dynamicText).width,r+=.1;return r-=.1},e.prototype.setLineDistance=function(e,t,i,n){var o;o=n?H(e,t[1],t[0],n):H(e,t[0],t[1],n),i.data=o.data,i.offsetX=o.offsetX,i.offsetY=o.offsetY,i.rotateAngle=o.rotateAngle,i.width=o.width,i.height=o.height,i.pivot=o.pivot,i.canMeasurePath=!0,i.isDirt=!0},e.prototype.scaleSelectedItems=function(e,t,i){var n=this.pdfViewer.selectedItems;return this.scale(n,e,t,i)},e.prototype.scale=function(e,t,i,n){var o=!0;if(e instanceof p){if(e.annotations&&e.annotations.length)for(var r=0,a=e.annotations;r<a.length;r++){var s=a[r];o=this.scaleAnnotation(s,t,i,n,e)}else if(e.formFields&&e.formFields.length)for(var l=0,d=e.formFields;l<d.length;l++){s=d[l];o=this.scaleAnnotation(s,t,i,n,e)}}else o=this.scaleAnnotation(e,t,i,n,void 0);return o},e.prototype.scaleObject=function(e,t,n,o,r,a){if(t=t<0?1:t,1!==(e=e<0?1:e)||1!==t){var s=void 0,l=void 0;if(!c(o)){s=(A=o).wrapper.actualSize.width*e,l=A.wrapper.actualSize.height*t,e=s/A.wrapper.actualSize.width,t=l/A.wrapper.actualSize.height}var d=(0,i.identityMatrix)();a||(a=o);var h=a.wrapper;if((0,i.rotateMatrix)(d,-h.rotateAngle,n.x,n.y),(0,i.scaleMatrix)(d,e,t,n.x,n.y),(0,i.rotateMatrix)(d,h.rotateAngle,n.x,n.y),!c(o)){var A=o,p=(0,i.transformPointByMatrix)(d,{x:A.wrapper.offsetX,y:A.wrapper.offsetY});s>0&&(A.wrapper.width=s,A.wrapper.offsetX=p.x),l>0&&(A.wrapper.height=l,A.wrapper.offsetY=p.y),this.nodePropertyChange(o,{bounds:{width:A.wrapper.width,height:A.wrapper.height,x:A.wrapper.offsetX,y:A.wrapper.offsetY}})}}},e.prototype.scaleAnnotation=function(e,t,i,n,o){var r=this.pdfViewer.nameTable[e.id],a=r.wrapper;o||(o=e);var s=o.wrapper,l=s.offsetX-s.actualSize.width*s.pivot.x,d=s.offsetY-s.actualSize.height*s.pivot.y,h=this.getShapePoint(l,d,s.actualSize.width,s.actualSize.height,s.rotateAngle,s.offsetX,s.offsetY,n);void 0!==a.actualSize.width&&void 0!==a.actualSize.height&&this.scaleObject(t,i,h,r,a,o);var A=this.checkBoundaryConstraints(void 0,void 0,e.pageIndex,e.wrapper.bounds);if(!A&&(this.scaleObject(1/t,1/i,h,r,a,o),"FreeText"===e.shapeAnnotationType&&("free_text"===e.id.slice(0,9)||"freetext"===e.id.slice(0,8)))){var p=this.moveInsideViewer(e);this.nodePropertyChange(e,{bounds:{width:e.wrapper.width,height:e.wrapper.height,x:e.wrapper.offsetX+p.tx,y:e.wrapper.offsetY+p.ty}})}return A},e.prototype.moveInsideViewer=function(e,t,i){if(t=t||0,i=i||0,"FreeText"===e.shapeAnnotationType&&("free_text"===e.id.slice(0,9)||"freetext"===e.id.slice(0,8))){var n=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+e.pageIndex);if(n){var o=e.wrapper.bounds,r=n.clientWidth/this.pdfViewer.viewerBase.getZoomFactor(),a=n.clientHeight/this.pdfViewer.viewerBase.getZoomFactor(),s=o.right,l=o.left,d=o.top,h=o.bottom;if(!(s+t<=r-3&&l+t>=1&&h+i<=a-3&&d+i>=1)){var A=0,p=0;s<=r-3||(A=r-s-3),l>=1||(A=A-l+1),h<=a-3||(p=a-h-3),d>=1||(p=p-d+1),0!==A&&(t=A),0!==p&&(i=p)}}}return{tx:t,ty:i}},e.prototype.checkBoundaryConstraints=function(e,t,i,n,o,r){var a=n?void 0:this.pdfViewer.selectedItems.wrapper.bounds,s=n,l=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+i),d=1;if(l){var h=l.clientWidth/this.pdfViewer.viewerBase.getZoomFactor(),A=l.clientHeight/this.pdfViewer.viewerBase.getZoomFactor(),p=(n?s.right:a.right)+(e||0),c=(n?s.left:a.left)+(e||0),g=(n?s.top:a.top)+(t||0),u=(n?s.bottom:a.bottom)+(t||0);if(o&&(d=50,this.pdfViewer.viewerBase.eventArgs&&this.pdfViewer.viewerBase.eventArgs.source&&this.RestrictStamp(this.pdfViewer.viewerBase.eventArgs.source)))return!1;if(p<=h-3&&c>=1&&u<=A-3&&g>=d)return!0;if(r&&(d=10,p<=h-10&&c>=10&&u<=A-10&&g>=d))return!0}return!1},e.prototype.RestrictStamp=function(e){return!(!e||void 0===e.pageIndex||!this.pdfViewer.viewerBase.activeElements||e.pageIndex===this.pdfViewer.viewerBase.activeElements.activePageID)},e.prototype.getShapeBounds=function(e){var t=new i.Rect,n=(0,i.cornersPointsBeforeRotation)(e),o=n.middleLeft,r=n.topCenter,a=n.bottomCenter,s=n.middleRight,l=n.topLeft,d=n.topRight,h=n.bottomLeft,A=n.bottomRight;if(e.corners={topLeft:l,topCenter:r,topRight:d,middleLeft:o,middleRight:s,bottomLeft:h,bottomCenter:a,bottomRight:A},0!==e.rotateAngle||0!==e.parentTransform){var p=(0,i.identityMatrix)();(0,i.rotateMatrix)(p,e.rotateAngle+e.parentTransform,e.offsetX,e.offsetY),e.corners.topLeft=l=(0,i.transformPointByMatrix)(p,l),e.corners.topCenter=r=(0,i.transformPointByMatrix)(p,r),e.corners.topRight=d=(0,i.transformPointByMatrix)(p,d),e.corners.middleLeft=o=(0,i.transformPointByMatrix)(p,o),e.corners.middleRight=s=(0,i.transformPointByMatrix)(p,s),e.corners.bottomLeft=h=(0,i.transformPointByMatrix)(p,h),e.corners.bottomCenter=a=(0,i.transformPointByMatrix)(p,a),e.corners.bottomRight=A=(0,i.transformPointByMatrix)(p,A)}return t=i.Rect.toBounds([l,d,h,A]),e.corners.left=t.left,e.corners.right=t.right,e.corners.top=t.top,e.corners.bottom=t.bottom,e.corners.center=t.center,e.corners.width=t.width,e.corners.height=t.height,t},e.prototype.getShapePoint=function(e,t,n,o,r,a,s,l){var d={x:0,y:0},h=(0,i.identityMatrix)();switch((0,i.rotateMatrix)(h,r,a,s),l.x){case 1:switch(l.y){case 1:d=(0,i.transformPointByMatrix)(h,{x:e+n,y:t+o});break;case 0:d=(0,i.transformPointByMatrix)(h,{x:e+n,y:t});break;case.5:d=(0,i.transformPointByMatrix)(h,{x:e+n,y:t+o/2})}break;case 0:switch(l.y){case.5:d=(0,i.transformPointByMatrix)(h,{x:e,y:t+o/2});break;case 1:d=(0,i.transformPointByMatrix)(h,{x:e,y:t+o});break;case 0:d=(0,i.transformPointByMatrix)(h,{x:e,y:t})}break;case.5:switch(l.y){case 0:d=(0,i.transformPointByMatrix)(h,{x:e+n/2,y:t});break;case.5:d=(0,i.transformPointByMatrix)(h,{x:e+n/2,y:t+o/2});break;case 1:d=(0,i.transformPointByMatrix)(h,{x:e+n/2,y:t+o})}}return{x:d.x,y:d.y}},e.prototype.dragConnectorEnds=function(e,t,n,o,r,a,s){var l,d,h;if(l=t instanceof p?t.annotations[0]:t,n={x:n.x/this.pdfViewer.viewerBase.getZoomFactor(),y:n.y/this.pdfViewer.viewerBase.getZoomFactor()},this.checkBoundaryConstraints(void 0,void 0,l.pageIndex,l.wrapper.bounds)){if("Distance"===l.shapeAnnotationType){var A=b(l,e);if("Leader0"===e)this.pdfViewer.viewerBase.tool instanceof se?(l.vertexPoints[0].x=n.x,l.vertexPoints[0].y=n.y):(d=n.x-A.point.x,h=n.y-A.point.y,l.vertexPoints[0].x+=d,l.vertexPoints[0].y+=h);else if("Leader1"===e){var c=l.vertexPoints.length-1;this.pdfViewer.viewerBase.tool instanceof se?(l.vertexPoints[parseInt(c.toString(),10)].x=n.x,l.vertexPoints[parseInt(c.toString(),10)].y=n.y):(d=n.x-A.point.x,h=n.y-A.point.y,l.vertexPoints[parseInt(c.toString(),10)].x+=d,l.vertexPoints[parseInt(c.toString(),10)].y+=h)}else{var g=i.Point.findAngle(l.sourcePoint,l.targetPoint),u=t.wrapper.children[0].bounds.center,f=(0,i.identityMatrix)();(0,i.rotateMatrix)(f,-g,u.x,u.y);var m=(0,i.transformPointByMatrix)(f,{x:n.x,y:n.y});if("ConnectorSegmentPoint"===e.split("_")[0]){var w=(0,i.identityMatrix)();(0,i.rotateMatrix)(w,-g,u.x,u.y);var y=(0,i.transformPointByMatrix)(w,l.vertexPoints[0]),S=(0,i.transformPointByMatrix)(w,l.vertexPoints[l.vertexPoints.length-1]);if(h=m.y-y.y,0===l.leaderHeight&&null!=l.leaderHeight)l.leaderHeight=this.pdfViewer.distanceSettings.leaderLength;else{l.leaderHeight+=h,y.y+=h,S.y+=h;var C=(0,i.identityMatrix)();(0,i.rotateMatrix)(C,g,u.x,u.y),l.vertexPoints[0]=(0,i.transformPointByMatrix)(C,y),l.vertexPoints[l.vertexPoints.length-1]=(0,i.transformPointByMatrix)(C,S)}}}}else if("ConnectorSegmentPoint"===e.split("_")[0]){var B=Number(e.split("_")[1]);d=n.x-l.vertexPoints[parseInt(B.toString(),10)].x,h=n.y-l.vertexPoints[parseInt(B.toString(),10)].y,l.vertexPoints[parseInt(B.toString(),10)].x+=d,l.vertexPoints[parseInt(B.toString(),10)].y+=h,l.vertexPoints.length>2&&"Perimeter"!==t.measureType&&(0===parseFloat(e.split("_")[1])?(l.vertexPoints[l.vertexPoints.length-1].x+=d,l.vertexPoints[l.vertexPoints.length-1].y+=h):parseFloat(e.split("_")[1])===l.vertexPoints.length-1&&(l.vertexPoints[0].x+=d,l.vertexPoints[0].y+=h))}this.nodePropertyChange(l,{vertexPoints:l.vertexPoints}),this.renderSelector(l.pageIndex,s)}return this.pdfViewer.renderDrawing(),!0},e.prototype.dragSourceEnd=function(e,t,i,n){var o=this.pdfViewer.nameTable[e.id];return o.vertexPoints[parseInt(n.toString(),10)].x+=t,o.vertexPoints[parseInt(n.toString(),10)].y+=i,this.pdfViewer.renderDrawing(),!0},e.prototype.updateConnector=function(e,t){e.vertexPoints=t,x(e,t,e.wrapper.children[0]);var i=e.vertexPoints,n=e.wrapper.children[0];n.canMeasurePath=!0;for(var o=0;o<e.wrapper.children.length;o++)n=e.wrapper.children[parseInt(o.toString(),10)],"Polygon"!==e.shapeAnnotationType&&(n.id.indexOf("srcDec")>-1&&D(e,n,t[0],i[1],!0),e.targetPoint,n.id.indexOf("tarDec")>-1&&D(e,n,t[t.length-1],i[i.length-2],!1))},e.prototype.copy=function(){var e,i;(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule)||(e=this.pdfViewer.annotationModule.findAnnotationSettings(this.pdfViewer.selectedItems.annotations[0])),!(this.pdfViewer.formDesignerModule&&!this.pdfViewer.formDesigner.isPropertyDialogOpen||this.pdfViewer.annotationModule)||!this.pdfViewer.designerMode&&!this.pdfViewer.enableAnnotation||0===this.pdfViewer.selectedItems.formFields.length&&(0===this.pdfViewer.selectedItems.annotations.length||(0,t.isNullOrUndefined)(e)||e.isLock)||(this.pdfViewer.clipboardData.pasteIndex=1,this.pdfViewer.clipboardData.clipObject=this.copyObjects(),this.copiedElementID=this.pdfViewer.clipboardData.clipObject[0].id);var n=document.getElementById(this.pdfViewer.element.id+"_search_box");return n&&(i="none"!==n.style.display),(this.pdfViewer.formDesigner&&this.pdfViewer.formDesigner.isPropertyDialogOpen||i)&&(this.pdfViewer.clipboardData.clipObject={}),this.pdfViewer.clipboardData.clipObject},e.prototype.copyObjects=function(){var e=[],t=[];if(this.pdfViewer.clipboardData.childTable={},this.pdfViewer.selectedItems.annotations.length>0){e=this.pdfViewer.selectedItems.annotations;for(var i=0;i<e.length;i++){var n=C(e[parseInt(i.toString(),10)]);t.push(n)}}if(this.pdfViewer.selectedItems.formFields.length>0){e=this.pdfViewer.selectedItems.formFields;for(i=0;i<e.length;i++){n=C(e[parseInt(i.toString(),10)]);t.push(n)}}if(0===this.pdfViewer.clipboardData.pasteIndex)for(var o=0,r=e;o<r.length;o++){var a=r[o];this.pdfViewer.nameTable[a.id]&&(a.formFieldAnnotationType?(this.pdfViewer.clearSelection(a.pageIndex),this.pdfViewer.formDesignerModule.deleteFormField(a.id)):a.annotName?this.pdfViewer.annotationModule.deleteAnnotationById(a.annotName):this.pdfViewer.annotationModule.deleteAnnotation())}return this.sortByZIndex(t,"zIndex"),t},e.prototype.getNewObject=function(e){var t,i=[];this.pdfViewer.clipboardData.pasteIndex=1;for(var n=0;n<e.length;n++)t=C(e[parseInt(n.toString(),10)]),i.push(t);return i},e.prototype.isWithinBounds=function(e,t){var i=t.clientX,n=t.clientY,o=e.left,r=e.right,a=e.top,s=e.bottom;return o<i&&i<r&&a<n&&n<s},e.prototype.paste=function(e,n){var o,r=this.pdfViewer.viewerBase.getZoomFactor(),a=this.pdfViewer.allowServerDataBinding;if(this.pdfViewer.enableServerDataBinding(!1),this.isPasted=!0,e||this.pdfViewer.clipboardData.clipObject){var s=e?this.getNewObject(e):this.pdfViewer.clipboardData.clipObject;if(s){var l={};if(0!==this.pdfViewer.clipboardData.pasteIndex&&this.pdfViewer.clearSelection(n),!(0,t.isNullOrUndefined)(s[0])&&this.pdfViewer.currentPageNumber===s[0].pageIndex+1){for(var d=0,h=s;d<h.length;d++){o=(u=h[d]).id,u.id+=(0,i.randomId)();var A=this.splitFormFieldName(u),p=0;this.pdfViewer.formDesigner&&(this.pdfViewer.formDesigner.setFormFieldIndex(),p=this.pdfViewer.formDesigner.formFieldIndex,u.name=A+p),l[u.id]=u}for(var g=0;g<s.length;g++){var u=s[parseInt(g.toString(),10)],f=this.pdfViewer.viewerBase.getElement("_pageDiv_"+u.pageIndex),m=event,w=f.getBoundingClientRect();if(!m||m.clientX||m.clientY||(m={clientX:this.pdfViewer.viewerBase.mouseLeft,clientY:this.pdfViewer.viewerBase.mouseTop}),(0,t.isBlazor)()&&(m=this.pdfViewer.viewerBase.mouseDownEvent),c(u)?this.calculateCopyPosition(u,f,m):f&&(w.right-m.clientX<u.bounds.width*r?u.bounds.x=(f.clientWidth-u.bounds.width*r)/r:u.bounds.x=(m.clientX-w.left)/r,w.bottom-m.clientY>u.bounds.height*r?u.bounds.y=(m.clientY-w.top)/r:u.bounds.y=(f.clientHeight-u.bounds.height*r)/r),this.isWithinBounds(w,m)){var y=C(u);"Cut"!==this.pdfViewer.viewerBase.contextMenuModule.previousAction?(y.id+=(0,i.randomId)(),this.pdfViewer.annotationModule&&"HandWrittenSignature"!==y.shapeAnnotationType&&(y.annotName=y.id,this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationCollection(y,s[0],!1)),"SignatureText"!==y.shapeAnnotationType&&"HandWrittenSignature"!==y.shapeAnnotationType&&"SignatureImage"!==y.shapeAnnotationType||this.pdfViewer.viewerBase.signatureModule.storeSignatureData(y.pageIndex,y),y.formFieldAnnotationType||"SignatureText"===y.shapeAnnotationType||"HandWrittenSignature"===y.shapeAnnotationType||"SignatureImage"===y.shapeAnnotationType||this.pdfViewer.annotation.addAction(this.pdfViewer.viewerBase.getActivePage(!1),null,y,"Addition","",y,y)):(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationCollection(y,s[0],!0),"SignatureText"!==y.shapeAnnotationType&&"HandWrittenSignature"!==y.shapeAnnotationType&&"SignatureImage"!==y.shapeAnnotationType||this.pdfViewer.viewerBase.signatureModule.storeSignatureData(y.pageIndex,y),y.formFieldAnnotationType||"SignatureText"===y.shapeAnnotationType||"HandWrittenSignature"===y.shapeAnnotationType||"SignatureImage"===y.shapeAnnotationType||this.pdfViewer.annotation.addAction(this.pdfViewer.viewerBase.getActivePage(!1),null,y,"Addition","",y,y));var S=this.add(y);if(this.pdfViewer.formDesigner&&S.formFieldAnnotationType&&this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(this.pdfViewer.viewerBase.getActivePage(!0),null,S,"Addition","",S,S),("FreeText"===y.shapeAnnotationType||y.enableShapeLabel)&&S&&this.nodePropertyChange(S,{}),S.formFieldAnnotationType&&S.pageIndex===n){this.pdfViewer.formFieldCollection.push(S);var B={id:S.id,name:S.name,value:S.value,type:S.formFieldAnnotationType,isReadOnly:S.isReadonly,fontFamily:S.fontFamily,fontSize:S.fontSize,fontStyle:S.fontStyle,color:S.color,backgroundColor:S.backgroundColor,alignment:S.alignment,visibility:S.visibility,maxLength:S.maxLength,isRequired:S.isRequired,isPrint:S.isPrint,isSelected:S.isSelected,isChecked:S.isChecked,tooltip:S.tooltip,bounds:S.bounds,thickness:S.thickness,borderColor:S.borderColor,signatureIndicatorSettings:S.signatureIndicatorSettings,insertSpaces:S.insertSpaces,isMultiline:S.isMultiline,isTransparent:S.isTransparent,options:S.options,pageIndex:S.pageIndex,pageNumber:S.pageNumber,rotateAngle:S.rotateAngle,signatureType:S.signatureType,zIndex:S.zIndex,selectedIndex:S.selectedIndex};S.options&&S.options.length>0&&(B.options=S.options),this.pdfViewer.formFieldCollections.push(B),this.pdfViewer.formDesigner.drawHTMLContent(S.formFieldAnnotationType,S.wrapper.children[0],S,S.pageIndex,this.pdfViewer,o)}this.pdfViewer.select([y.id],this.pdfViewer.annotationSelectorSettings),S.formFieldAnnotationType||this.pdfViewer.annotationModule.triggerAnnotationAddEvent(y)}}}}this.pdfViewer.renderDrawing(void 0,n),this.pdfViewer.clipboardData.pasteIndex++}this.pdfViewer.enableServerDataBinding(a,!0)},e.prototype.splitFormFieldName=function(e){var t=null;if(e)switch(e.formFieldAnnotationType){case"Textbox":t="Textbox";break;case"PasswordField":t="Password";break;case"Checkbox":t="Check Box";break;case"RadioButton":t="Radio Button";break;case"DropdownList":t="Dropdown";break;case"ListBox":t="List Box";break;case"SignatureField":t="Signature";break;case"InitialField":t="Initial"}return t},e.prototype.calculateCopyPosition=function(e,t,i){for(var n,o,r,a,s=this.pdfViewer.viewerBase.getZoomFactor(),l=0;l<e.vertexPoints.length;l++)if(t)if(0===l){var d=t.getBoundingClientRect();n=e.vertexPoints[parseInt(l.toString(),10)].x,o=e.vertexPoints[parseInt(l.toString(),10)].y,e.vertexPoints[parseInt(l.toString(),10)].x=(i.clientX-d.left)/s,e.vertexPoints[parseInt(l.toString(),10)].y=(i.clientY-d.top)/s,r=e.vertexPoints[parseInt(l.toString(),10)].x,a=e.vertexPoints[parseInt(l.toString(),10)].y}else e.vertexPoints[parseInt(l.toString(),10)].x+=r-n,e.vertexPoints[parseInt(l.toString(),10)].y+=a-o},e.prototype.cut=function(e){var t,i=this.pdfViewer.allowServerDataBinding;this.pdfViewer.enableServerDataBinding(!1),this.pdfViewer.annotationModule&&(this.pdfViewer.annotationModule.removedAnnotationCollection=[]),(this.pdfViewer.formDesignerModule&&!this.pdfViewer.formDesigner.isPropertyDialogOpen||this.pdfViewer.selectedItems.annotations.length>0)&&(this.pdfViewer.designerMode||this.pdfViewer.selectedItems.annotations.length>0)&&(0!==this.pdfViewer.selectedItems.formFields.length||0!==this.pdfViewer.selectedItems.annotations.length)&&(this.pdfViewer.clipboardData.pasteIndex=0,this.pdfViewer.clipboardData.clipObject=this.copyObjects(),this.pdfViewer.renderDrawing(void 0,e),this.pdfViewer.enableServerDataBinding(i,!0),this.copiedElementID=this.pdfViewer.clipboardData.clipObject[0].id);var n=document.getElementById(this.pdfViewer.element.id+"_search_box");n&&(t="none"!==n.style.display),(this.pdfViewer.formDesigner&&this.pdfViewer.formDesigner.isPropertyDialogOpen||t)&&(this.pdfViewer.clipboardData.clipObject={})},e.prototype.sortByZIndex=function(e,t){var i=t||"zIndex";return e=e.sort((function(e,t){return e[""+i]-t[""+i]}))},e}(),Z=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),q=function(){function e(e,t,i){void 0===i&&(i=!1),this.commandHandler=null,this.inAction=!1,this.pdfViewerBase=null,this.currentElement=null,this.blocked=!1,this.isTooltipVisible=!1,this.childTable={},this.helper=void 0,this.undoElement={annotations:[]},this.undoParentElement={annotations:[]},this.commandHandler=e,this.pdfViewerBase=t}return e.prototype.startAction=function(e){this.currentElement=e,this.inAction=!0},e.prototype.mouseDown=function(e){this.currentElement=e.source,this.startPosition=this.currentPosition=this.prevPosition=e.position,this.isTooltipVisible=!0,this.startAction(e.source)},e.prototype.mouseMove=function(e){return this.currentPosition=e.position,this.prevPageId=this.pdfViewerBase.activeElements.activePageID,!this.blocked},e.prototype.mouseUp=function(e){this.currentPosition=e.position,this.isTooltipVisible=!1,this.endAction(),this.helper=null},e.prototype.endAction=function(){this.commandHandler&&(this.commandHandler.tool="",this.helper&&this.commandHandler.remove(this.helper)),this.commandHandler=null,this.currentElement=null,this.currentPosition=null,this.inAction=!1,this.blocked=!1},e.prototype.mouseWheel=function(e){this.currentPosition=e.position},e.prototype.mouseLeave=function(e){this.mouseUp(e)},e.prototype.updateSize=function(e,t,n,o,r,a,s){var l=this.commandHandler.viewerBase.getZoomFactor(),d=this.currentPosition.x/l-this.startPosition.x/l,h=this.currentPosition.y/l-this.startPosition.y/l,A=e instanceof i.TextElement?a:e.rotateAngle,p=(0,i.identityMatrix)();(0,i.rotateMatrix)(p,-A,0,0);var c,g=0,u=0,f=e instanceof i.TextElement?e.actualSize.width:e.wrapper.bounds.width,m=e instanceof i.TextElement?e.actualSize.height:e.wrapper.bounds.height,w=e;e.formFieldAnnotationType||e.annotName||e.shapeAnnotationType||e&&(w=e.annotations[0]);var y=this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(w):{},S=0,C=0,B=0,I=0;(y.minWidth||y.maxWidth||y.minHeight||y.maxHeight)&&(S=y.maxHeight?y.maxHeight:2e3,C=y.maxWidth?y.maxWidth:2e3,B=y.minHeight?y.minHeight:0,I=y.minWidth?y.minWidth:0);var b=!1;if((B||I||S||C)&&(b=!0),b&&s){var v=this.getPositions(o,d,h),E=f+v.x,x=m+v.y;x<B?h=B-m:x>S&&(h=S-m),E<I?d=I-f:E>C&&(d=C-f)}switch(o){case"ResizeWest":d=(c=(0,i.transformPointByMatrix)(p,{x:d,y:h})).x,h=c.y,u=1,h=0,b&&r.width-d>C&&(d=C-r.width),g=(r.width-d)/f;break;case"ResizeEast":d=(c=(0,i.transformPointByMatrix)(p,{x:d,y:h})).x,h=c.y,h=0,b&&r.width+d>C&&(d=C-r.width),g=(r.width+d)/f,u=1;break;case"ResizeNorth":g=1,d=(c=(0,i.transformPointByMatrix)(p,{x:d,y:h})).x,h=c.y,b&&r.height-h>S&&(h=S-r.height),u=(r.height-h)/m;break;case"ResizeSouth":g=1,d=(c=(0,i.transformPointByMatrix)(p,{x:d,y:h})).x,h=c.y,b&&r.height+h>S&&(h=S-r.height),u=(r.height+h)/m;break;case"ResizeNorthEast":d=(c=(0,i.transformPointByMatrix)(p,{x:d,y:h})).x,h=c.y,b&&(r.width+d>C&&(d=C-r.width),r.height-h>S&&(h=S-r.height)),g=(r.width+d)/f,u=(r.height-h)/m;break;case"ResizeNorthWest":d=(c=(0,i.transformPointByMatrix)(p,{x:d,y:h})).x,h=c.y,b&&(r.width-d>C&&(d=C-r.width),r.height-h>S&&(h=S-r.height)),g=(r.width-d)/f,u=(r.height-h)/m;break;case"ResizeSouthEast":d=(c=(0,i.transformPointByMatrix)(p,{x:d,y:h})).x,h=c.y,b&&(r.width+d>C&&(d=C-r.width),r.height+h>S&&(h=S-r.height)),u=(r.height+h)/m,g=(r.width+d)/f;break;case"ResizeSouthWest":d=(c=(0,i.transformPointByMatrix)(p,{x:d,y:h})).x,h=c.y,b&&(r.width-d>C&&(d=C-r.width),r.height+h>S&&(h=S-r.height)),g=(r.width-d)/f,u=(r.height+h)/m}return{width:g,height:u}},e.prototype.getPivot=function(e){switch(e){case"ResizeWest":return{x:1,y:.5};case"ResizeEast":return{x:0,y:.5};case"ResizeNorth":return{x:.5,y:1};case"ResizeSouth":return{x:.5,y:0};case"ResizeNorthEast":return{x:0,y:1};case"ResizeNorthWest":return{x:1,y:1};case"ResizeSouthEast":return{x:0,y:0};case"ResizeSouthWest":return{x:1,y:0}}return{x:.5,y:.5}},e.prototype.getPositions=function(e,t,i){switch(e){case"ResizeEast":return{x:t,y:0};case"ResizeSouthEast":return{x:t,y:i};case"ResizeSouth":return{x:0,y:i};case"ResizeNorth":return{x:0,y:-i};case"ResizeNorthEast":return{x:t,y:-i};case"ResizeNorthWest":return{x:-t,y:-i};case"ResizeWest":return{x:-t,y:0};case"ResizeSouthWest":return{x:-t,y:i}}return{x:t,y:i}},e}(),$=function(e){function i(t,i){return e.call(this,t,i,!0)||this}return Z(i,e),i.prototype.mouseDown=function(t){this.inAction=!0,this.mouseEventHelper(t),e.prototype.mouseDown.call(this,t)},i.prototype.mouseEventHelper=function(e){this.commandHandler&&this.commandHandler.annotationModule&&(this.commandHandler.annotationModule.overlappedCollections=de(e,this.pdfViewerBase,this.commandHandler,!0));var i=de(e,this.pdfViewerBase,this.commandHandler),n=!1;if(i&&"StickyNotes"===i.shapeAnnotationType&&i.annotationSettings&&i.annotationSettings.isLock&&(n=!this.commandHandler.annotationModule.checkAllowedInteractions("Select",i)),!n){var o=void 0;if(o=e.source&&null!==e.annotationSelectorSettings?e.source.annotationSelectorSettings:"",this.commandHandler){var r=this.commandHandler.selectedItems;if(r){var a=r.annotations[0],s=r.formFields[0],l=this.commandHandler.selectedItems.annotations[0],d=e.source;if((r.annotations.length&&e.info&&!e.info.ctrlKey&&this.commandHandler.annotationModule&&!1===this.commandHandler.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus||e.info&&e.info.ctrlKey&&(d&&"FreeText"===d.shapeAnnotationType||l&&"FreeText"===l.shapeAnnotationType)||(0,t.isNullOrUndefined)(i)&&this.commandHandler.annotationModule&&!(0,t.isNullOrUndefined)(this.commandHandler.annotation.textMarkupAnnotationModule)&&(0,t.isNullOrUndefined)(this.commandHandler.annotation.textMarkupAnnotationModule.currentTextMarkupAnnotation)&&this.commandHandler.formDesignerModule&&!(d&&"FreeText"===d.shapeAnnotationType||l&&("FreeText"===l.shapeAnnotationType||"Image"===l.shapeAnnotationType||"StickyNotes"===l.shapeAnnotationType)))&&this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),i&&(!((0,t.isNullOrUndefined)(s)||s&&s.id!==i.id)||(0,t.isNullOrUndefined)(this.pdfViewerBase.isFreeTextSelected)||this.pdfViewerBase.isFreeTextSelected||(this.commandHandler.select([i.id],o),this.commandHandler.viewerBase.isAnnotationMouseDown=!0),this.pdfViewerBase.isFreeTextSelected=!1,this.commandHandler.viewerBase.isFormFieldMouseDown=!0),0===r.annotations.length&&a&&"HandWrittenSignature"!==a.shapeAnnotationType&&"SignatureText"!==a.shapeAnnotationType&&"SignatureImage"!==a.shapeAnnotationType&&"Path"!==a.shapeAnnotationType&&!a.formFieldAnnotationType&&(this.commandHandler.enableToolbar&&t.Browser.isDevice&&!this.commandHandler.enableDesktopMode&&this.commandHandler.toolbarModule.showToolbar(!0),this.commandHandler.fireAnnotationUnSelect(a.annotName,a.pageIndex,a)),0===r.annotations.length&&a&&("HandWrittenSignature"===a.shapeAnnotationType||"SignatureText"===a.shapeAnnotationType||"SignatureImage"===a.shapeAnnotationType||"Path"===a.shapeAnnotationType||a.signatureType)&&this.commandHandler.fireSignatureUnselect(a.signatureName,a.pageIndex,a),0===r.formFields.length&&this.commandHandler.formDesignerModule&&s&&s.formFieldAnnotationType){var h={name:s.name,id:s.id,value:s.value,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,color:s.color,backgroundColor:s.backgroundColor,alignment:s.alignment,isReadonly:s.isReadOnly,visibility:s.visibility,maxLength:s.maxLength,isRequired:s.isRequired,isPrint:s.isPrint,rotation:s.rotation,tooltip:s.tooltip,options:s.options,isChecked:s.isChecked,isSelected:s.isSelected};this.commandHandler.fireFormFieldUnselectEvent("formFieldUnselect",h,s.pageIndex)}else if(this.pdfViewerBase.currentTarget&&this.pdfViewerBase.currentTarget.id&&this.commandHandler.formFields&&"mousedown"===event.type)for(var A=0;A<this.commandHandler.formFields.length;A++){var p=this.commandHandler.formFields[parseInt(A.toString(),10)];if(this.pdfViewerBase.currentTarget&&this.pdfViewerBase.currentTarget.id===p.id){h={value:p.value,fontFamily:p.fontFamily,fontSize:p.fontSize,fontStyle:p.fontStyle,color:p.color,backgroundColor:p.backgroundColor,alignment:p.alignment,isReadonly:p.isReadonly,visibility:p.visibility,maxLength:p.maxLength,isRequired:p.isRequired,isPrint:p.isPrint,rotation:p.rotateAngle,tooltip:p.tooltip,options:p.options,isChecked:p.isChecked,isSelected:p.isSelected,id:p.id,name:p.name};i?this.pdfViewerBase.currentTarget.id!==event.target.id&&"e-pv-text-layer"!==event.target.className&&(this.commandHandler.fireFocusOutFormField(h,p.pageIndex),this.pdfViewerBase.currentTarget=null):(this.commandHandler.fireFocusOutFormField(h,p.pageIndex),this.pdfViewerBase.currentTarget=null)}}}}}},i.prototype.mouseMove=function(t){return e.prototype.mouseMove.call(this,t),!this.blocked},i.prototype.mouseUp=function(t){this.mouseEventHelper(t),this.inAction=!1,e.prototype.mouseUp.call(this,t)},i.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},i}(q),ee=function(e){function i(t,i){var n=e.call(this,t,i)||this;return n.currentTarget=null,n.prevNode=null,n}return Z(i,e),i.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.offset={x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY},this.startPosition=t.position;var i=C(t.source);this.redoElement={bounds:{x:i.wrapper.offsetX,y:i.wrapper.offsetY,width:i.wrapper.actualSize.width,height:i.wrapper.actualSize.height}},c(i)&&(this.redoElement.vertexPoints=i.vertexPoints,this.redoElement.leaderHeight=i.leaderHeight),this.inAction=!0},i.prototype.mouseUp=function(i){if(this.commandHandler&&i.source){this.checkisAnnotationMove(i);var n=!1,o=i.source.annotationSelectorSettings;this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([i.source.id],o),this.pdfViewerBase.activeElements.activePageID===i.source.pageIndex&&this.commandHandler.dragSelectedObjects(this.calculateMouseActionXDiff(i),this.calculateMouseActionYDiff(i),this.pdfViewerBase.activeElements.activePageID,o,null),!i.source||"Textbox"!==i.source.formFieldAnnotationType&&"Checkbox"!==i.source.formFieldAnnotationType&&"RadioButton"!==i.source.formFieldAnnotationType&&"ListBox"!==i.source.formFieldAnnotationType&&"SignatureField"!==i.source.formFieldAnnotationType&&"InitialField"!==i.source.formFieldAnnotationType&&"DropdownList"!==i.source.formFieldAnnotationType&&"PasswordField"!==i.source.formFieldAnnotationType||this.commandHandler.formDesignerModule.updateHTMLElement(i.source),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,o),this.commandHandler.viewerBase.isAnnotationMouseMove=!1,this.commandHandler.viewerBase.isFormFieldMouseMove=!1;var r={bounds:{x:i.source.wrapper.offsetX,y:i.source.wrapper.offsetY,width:i.source.wrapper.actualSize.width,height:i.source.wrapper.actualSize.height},modifiedDate:i.source.modifiedDate};if(c(i.source)&&(r.vertexPoints=i.source.vertexPoints,r.leaderHeight=i.source.leaderHeight),i.target&&i.target.formFieldAnnotationType){var a=i.target,s={value:a.value,fontFamily:a.fontFamily,fontSize:a.fontSize,fontStyle:a.fontStyle,color:a.color,backgroundColor:a.backgroundColor,borderColor:a.borderColor,thickness:a.thickness,alignment:a.alignment,isReadonly:a.isReadonly,visibility:a.visibility,maxLength:a.maxLength,isRequired:a.isRequired,isPrint:a.isPrint,rotation:a.rotateAngle,tooltip:a.tooltip,options:a.options,isChecked:a.isChecked,isSelected:a.isSelected},l={X:i.source.wrapper.offsetX,Y:i.source.wrapper.offsetY,Width:i.source.wrapper.actualSize.width,Height:i.source.wrapper.actualSize.height},d={X:this.offset.x,Y:this.offset.y,Width:i.source.wrapper.actualSize.width,Height:i.source.wrapper.actualSize.height};this.commandHandler.fireFormFieldMoveEvent("formFieldMove",s,a.pageIndex,d,l)}(0,t.isNullOrUndefined)(this.redoElement)||this.redoElement.bounds.height===r.bounds.height&&this.redoElement.bounds.width===r.bounds.width&&this.redoElement.bounds.x===r.bounds.x&&this.redoElement.bounds.y===r.bounds.y||(n=!0),this.commandHandler.annotation&&n&&(this.commandHandler.annotation.addAction(this.pageIndex,null,i.source,"Drag","",this.redoElement,r),this.commandHandler.annotation.stampAnnotationModule.updateSessionStorage(i.source,null,"Drag"),this.commandHandler.annotation.stickyNotesAnnotationModule.updateStickyNotes(i.source,null))}var h=this.commandHandler&&this.commandHandler.selectedItems&&this.commandHandler.selectedItems.annotations&&this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations[0].shapeAnnotationType:null;h&&"Image"!==h&&"SignatureImage"!==h?e.prototype.mouseUp.call(this,i):"Image"===h||"SignatureImage"===h?this.inAction=!1:this.commandHandler&&this.commandHandler.selectedItems&&this.commandHandler.selectedItems.formFields&&this.commandHandler.selectedItems.formFields.length>0&&e.prototype.mouseUp.call(this,i)},i.prototype.calculateMouseXDiff=function(){return this.currentPosition&&this.startPosition?this.currentPosition.x-this.startPosition.x:0},i.prototype.calculateMouseYDiff=function(){return this.currentPosition&&this.startPosition?this.currentPosition.y-this.startPosition.y:0},i.prototype.calculateMouseActionXDiff=function(e){var t=this.calculateMouseXDiff()/this.commandHandler.viewerBase.getZoomFactor();return this.offset?this.offset.x+t-e.source.wrapper.offsetX:0},i.prototype.calculateMouseActionYDiff=function(e){var t=this.calculateMouseYDiff()/this.commandHandler.viewerBase.getZoomFactor();return this.offset?this.offset.y+t-e.source.wrapper.offsetY:0},i.prototype.mouseMove=function(t,i,n){if(e.prototype.mouseMove.call(this,t),this.inAction){this.currentPosition=t.position,this.currentTarget=t.target;var o=t.source.annotationSelectorSettings,r=this.calculateMouseXDiff()/this.commandHandler.viewerBase.getZoomFactor(),a=this.calculateMouseYDiff()/this.commandHandler.viewerBase.getZoomFactor(),s=this.offset.x+r,l=this.offset.y+a,d=this.calculateMouseActionXDiff(t),h=this.calculateMouseActionYDiff(t),A=this.commandHandler.selectedItems.annotations[0],p=void 0;if(this.helper)d=s-this.helper.wrapper.offsetX,h=l-this.helper.wrapper.offsetY;else{(p=this.commandHandler.selectedItems.annotations.length>0?C(this.commandHandler.selectedItems.annotations[0]):C(this.commandHandler.selectedItems.formFields[0])).wrapper&&(d=s-p.wrapper.offsetX,h=l-p.wrapper.offsetY,p.bounds=this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations[0].wrapper.bounds:this.commandHandler.selectedItems.formFields[0].wrapper.bounds),p.wrapper=void 0,p.id="diagram_helper","Stamp"===p.shapeAnnotationType?(p.strokeColor="",p.borderDashArray="",p.fillColor="transparent",p.stampFillColor="transparent",p.data=""):"FreeText"===p.shapeAnnotationType?(p.strokeColor="blue",p.fillColor="transparent",p.thickness=1,p.opacity=1,p.dynamicText=""):"SignatureText"===p.shapeAnnotationType?(p.strokeColor="red",p.borderDashArray="5,5",p.fillColor="transparent",p.thickness=2,p.opacity=1,p.data=""):(p.strokeColor="red",p.borderDashArray="5,5",p.fillColor="transparent",p.thickness=2,p.opacity=1),!0===p.enableShapeLabel&&(p.labelContent="");var c=p.shapeAnnotationType;i||"Image"===c||"SignatureImage"===c?p=this.helper=t.source:this.helper=p=this.commandHandler.add(p),this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations=[p]:this.commandHandler.selectedItems.formFields=[p]}if(this.helper&&"Stamp"===this.helper.shapeAnnotationType&&(i=!0),this.commandHandler.checkBoundaryConstraints(d,h,this.pdfViewerBase.activeElements.activePageID,this.helper.wrapper.bounds,i,n)){c=this.helper.shapeAnnotationType;if(!this.helper||"Image"!==c&&"SignatureImage"!==c)this.commandHandler.dragSelectedObjects(d,h,this.pdfViewerBase.activeElements.activePageID,o,this.helper);else{this.checkisAnnotationMove(t);var g=t.source.annotationSelectorSettings;this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([t.source.id],g),this.commandHandler.dragSelectedObjects(d,h,this.pdfViewerBase.activeElements.activePageID,g,this.helper),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,g)}this.prevNode=this.helper,this.prevPosition=this.currentPosition}else this.currentPosition=this.prevPosition;A&&A.annotName&&this.commandHandler.annotation.triggerAnnotationMove(A,!0)}return!0},i.prototype.mouseLeave=function(t){var i=t.source.annotationSelectorSettings,n=this.offset.x+this.calculateMouseXDiff(),o=this.offset.y+this.calculateMouseYDiff(),r=n-t.source.wrapper.offsetX,a=o-t.source.wrapper.offsetY;this.commandHandler.dragSelectedObjects(r,a,this.prevPageId,i,null),this.commandHandler.renderSelector(this.prevPageId,i),e.prototype.mouseLeave.call(this,t)},i.prototype.endAction=function(){e.prototype.endAction.call(this),this.currentTarget=null,this.prevPosition=null},i.prototype.checkisAnnotationMove=function(e){this.commandHandler.selectedItems&&this.commandHandler.selectedItems.annotations&&this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations[0].annotName===e.source.annotName&&(this.commandHandler.viewerBase.isAnnotationMouseMove=!0):this.commandHandler.viewerBase.isAnnotationMouseMove=!1,this.commandHandler.selectedItems&&this.commandHandler.selectedItems.formFields&&this.commandHandler.selectedItems.formFields.length>0?this.commandHandler.selectedItems.formFields[0].name===e.source.name&&(this.commandHandler.viewerBase.isFormFieldMouseMove=!0):this.commandHandler.viewerBase.isFormFieldMouseMove=!1},i}(q),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseUp.call(this,t)},t.prototype.mouseMove=function(t){var i;if(!this.inAction){var n=this.pdfViewerBase.activeElements.activePageID;this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID);var o=this.commandHandler.annotation.stampAnnotationModule.moveStampElement(t.position.x,t.position.y,n);if("SignatureText"===o.shapeAnnotationType){var r=this.getTextWidth(o.data,o.fontSize,o.fontFamily),a=1;r>o.bounds.width&&(a=o.bounds.width/r),o.fontSize=this.getFontSize(Math.floor(o.fontSize*a));o.bounds.height=o.fontSize<32?2*o.fontSize:o.bounds.height,o.thickness=0}i=this.commandHandler.add(o),t.source=this.commandHandler.annotations[this.commandHandler.annotations.length-1],t.sourceWrapper=t.source.wrapper,this.inAction=!0;var s=t.source;!s||"HandWrittenSignature"!==s.shapeAnnotationType&&"SignatureText"!==s.shapeAnnotationType&&"SignatureImage"!==s.shapeAnnotationType?this.offset={x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY}:this.offset={x:t.source.wrapper.offsetX-t.source.wrapper.bounds.width/2,y:t.source.wrapper.offsetY-t.source.wrapper.bounds.height/2},this.startPosition=t.position,this.commandHandler.select([i.id])}var l=t.source.annotationSelectorSettings;return e.prototype.mouseMove.call(this,t,!0,!0),this.commandHandler.renderSelector(t.source.pageIndex,l),this.inAction},t.prototype.getTextWidth=function(e,t,i){var n,o=document.createElement("canvas"),r=o.getContext("2d");t&&(n=t+"px "+i),r.font=n||getComputedStyle(document.body).font;var a=r.measureText(e).width;return this.pdfViewerBase.releaseCanvas(o),a},t.prototype.getFontSize=function(e){return e%2==0?e:--e},t}(ee),ie=function(e){function t(t,i,n){var o=e.call(this,t,i)||this;return o.sourceObject=n,o}return Z(t,e),t.prototype.mouseDown=function(t){this.pdfViewerBase.disableTextSelectionMode(),e.prototype.mouseDown.call(this,t),this.inAction=!0;var i={currentPosition:this.currentPosition,prevPosition:this.prevPosition};this.commandHandler.annotation.inkAnnotationModule.drawInkInCanvas(i,this.pdfViewerBase.activeElements.activePageID)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction){var i={currentPosition:this.currentPosition,prevPosition:this.pdfViewerBase.prevPosition};this.commandHandler.annotation.inkAnnotationModule.drawInkInCanvas(i,this.pdfViewerBase.activeElements.activePageID)}return this.inAction},t.prototype.mouseUp=function(e){return this.commandHandler.annotation.inkAnnotationModule.storePathData(),!0},t.prototype.mouseLeave=function(e){},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t}(q),ne=function(e){function t(t,i,n){var o=e.call(this,t,i,!0)||this;return o.endPoint=n,o}return Z(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,this.undoElement=void 0,e.prototype.mouseDown.call(this,t),t.source&&t.source.annotations&&({x:this.prevPosition.x,y:this.prevPosition.y},t.source.annotations[0]),this.initialPosition=t.position,this.prevSource=this.commandHandler.selectedItems.annotations[0];var i=C(t.source);this.redoElement={bounds:{x:i.wrapper.offsetX,y:i.wrapper.offsetY,width:i.wrapper.actualSize.width,height:i.wrapper.actualSize.height}},c(i)&&(this.redoElement.vertexPoints=i.vertexPoints,this.redoElement.leaderHeight=i.leaderHeight,"Distance"!==i.measureType&&"Perimeter"!==i.measureType&&"Area"!==i.measureType&&"Volume"!==i.measureType||(this.redoElement.notes=i.notes)),this.currentPosition=t.position},t.prototype.mouseUp=function(t){if(this.commandHandler){var i=this.commandHandler.selectedItems.annotations[0],n=!1;if(i){var o=this.commandHandler.annotationModule.findAnnotationSettings(i),r=0,a=0,s=0,l=0;if((o.minWidth||o.maxWidth||o.minHeight||o.maxHeight)&&(r=o.maxHeight?o.maxHeight:2e3,a=o.maxWidth?o.maxWidth:2e3,s=o.minHeight?o.minHeight:0,l=o.minWidth?o.minWidth:0),i.vertexPoints.length>3){var d=this.commandHandler.viewerBase.checkAnnotationWidth(i.vertexPoints),h=d.width,A=d.height;s||l||r||a?(A>s&&A<r||h>l&&h<a)&&this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight}):this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight})}else if(s||l||r||a)if("Line"===i.shapeAnnotationType||"Distance"===i.shapeAnnotationType||"LineWidthArrowHead"===i.shapeAnnotationType){var p=0,g=0,u=(p=i.vertexPoints[0].x>i.vertexPoints[1].x?i.vertexPoints[0].x-i.vertexPoints[1].x:i.vertexPoints[1].x-i.vertexPoints[0].x)>(g=i.vertexPoints[0].y>i.vertexPoints[1].y?i.vertexPoints[0].y-i.vertexPoints[1].y:i.vertexPoints[1].y-i.vertexPoints[0].y)?p:g;u<(r||a)&&u>(s||l)&&this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight})}else this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight});else this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight});var f=t.source.annotationSelectorSettings;this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([this.prevSource.id],f),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,f);var m={bounds:{x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height}};"Distance"!==i.measureType&&"Perimeter"!==i.measureType&&"Area"!==i.measureType&&"Volume"!==i.measureType||(this.commandHandler.annotation.updateCalibrateValues(this.commandHandler.selectedItems.annotations[0]),m.notes=t.source.notes),c(t.source)&&(m.vertexPoints=t.source.vertexPoints,m.leaderHeight=t.source.leaderHeight),this.redoElement.bounds.height===m.bounds.height&&this.redoElement.bounds.width===m.bounds.width&&this.redoElement.bounds.x===m.bounds.x&&this.redoElement.bounds.y===m.bounds.y||(n=!0),n&&this.commandHandler.annotation.addAction(this.pageIndex,null,this.prevSource,"Resize","",this.redoElement,m)}}e.prototype.mouseUp.call(this,t)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.currentPosition=t.position,this.currentPosition&&this.prevPosition){var i=this.currentPosition.x-this.prevPosition.x,n=this.currentPosition.y-this.prevPosition.y;if(t.source&&t.source.annotations&&({x:this.currentPosition.x,y:this.currentPosition.y},{x:this.prevPosition.x,y:this.prevPosition.y},t.source.annotations[0]),this.inAction&&void 0!==this.endPoint&&0!==i||0!==n){if(!this.helper){var o=C(this.commandHandler.selectedItems.annotations[0]);o.id="diagram_helper",o.strokeColor="red",o.borderDashArray="5,5",o.fillColor="transparent",o.thickness=2,o.opacity=1,!0===o.enableShapeLabel&&(o.labelContent=""),this.helper=o=this.commandHandler.add(o),this.commandHandler.selectedItems.annotations=[o]}var r=t.source.annotationSelectorSettings;this.blocked=!this.commandHandler.dragConnectorEnds(this.endPoint,this.helper,this.currentPosition,this.selectedSegment,t.target,null,r),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,r)}}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.prevPosition=null,this.endPoint=null},t}(q),oe=function(e){function t(t,n,o){var r=e.call(this,t,n,!0)||this;return r.initialBounds=new i.Rect,r.corner=o,r}return Z(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.initialBounds.x=t.source.wrapper.offsetX,this.initialBounds.y=t.source.wrapper.offsetY,this.initialBounds.height=t.source.wrapper.actualSize.height,this.initialBounds.width=t.source.wrapper.actualSize.width,this.initialPosition=t.position;var i=C(t.source);this.redoElement={bounds:{x:i.wrapper.offsetX,y:i.wrapper.offsetY,width:i.wrapper.actualSize.width,height:i.wrapper.actualSize.height}},c(i)&&(this.redoElement.vertexPoints=i.vertexPoints,this.redoElement.leaderHeight=i.leaderHeight),"Radius"===i.measureType&&(this.redoElement.notes=i.notes),this.prevSource=this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations[0]:this.commandHandler.selectedItems.formFields[0]},t.prototype.mouseUp=function(t,i){t.source;var n=C(t.source),o=!1;if(this.commandHandler&&this.prevSource){this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.viewerBase.isAnnotationSelect=!0,this.commandHandler.viewerBase.isFormFieldSelect=!0,this.commandHandler.select([this.prevSource.id],this.prevSource.annotationSelectorSettings);var r=this.updateSize(this.prevSource,this.currentPosition,this.initialPosition,this.corner,this.initialBounds,null,!0);if(this.blocked=this.scaleObjects(r.width,r.height,this.corner,this.currentPosition,this.initialPosition,this.prevSource,t.info.ctrlKey),this.commandHandler.selectedItems&&this.commandHandler.selectedItems.annotations&&this.commandHandler.selectedItems.annotations[0]&&"Stamp"===this.commandHandler.selectedItems.annotations[0].shapeAnnotationType&&(this.commandHandler.stampSettings.minHeight||this.commandHandler.stampSettings.minWidth)&&this.commandHandler.select([this.prevSource.id],this.prevSource.annotationSelectorSettings),this.commandHandler.selectedItems.formFields.length>0&&("Textbox"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"Checkbox"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"RadioButton"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"InitialField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"SignatureField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"DropdownList"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"ListBox"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"PasswordField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType)&&("SignatureField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType&&(this.commandHandler.selectedItems.formFields[0].signatureIndicatorSettings=this.commandHandler.selectedItems.formFields[0].signatureIndicatorSettings?this.commandHandler.selectedItems.formFields[0].signatureIndicatorSettings:{opacity:1,backgroundColor:"rgba(255, 228, 133, 0.35)",width:19,height:10,fontSize:10,text:null,color:"black"}),this.commandHandler.formDesignerModule.updateHTMLElement(this.commandHandler.selectedItems.formFields[0])),this.commandHandler.renderSelector(this.prevPageId,this.prevSource.annotationSelectorSettings),this.commandHandler.annotation&&t.source.wrapper){var a={bounds:{x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height}};if(c(t.source)&&(a.vertexPoints=t.source.vertexPoints,a.leaderHeight=t.source.leaderHeight),this.redoElement.bounds.height===a.bounds.height&&this.redoElement.bounds.width===a.bounds.width&&this.redoElement.bounds.x===a.bounds.x&&this.redoElement.bounds.y===a.bounds.y||(o=!0),"Radius"===this.prevSource.measureType&&o&&(a.notes=t.source.notes,this.commandHandler.annotation.updateCalibrateValues(this.prevSource)),"SignatureText"===this.prevSource.shapeAnnotationType){var s=n.bounds&&n.bounds.width?n.bounds.width:n.width,l=a.bounds.width/s;a.fontSize=this.prevSource.wrapper.children[1].style.fontSize*l,null!=t.target&&(t.target.fontSize=a.fontSize,t.target.wrapper.children[1].style.fontSize=a.fontSize,t.target.wrapper.children[1].horizontalAlignment="Center",t.target.wrapper.children[1].verticalAlignment="Center",t.target.wrapper.children[1].setOffsetWithRespectToBounds(0,0,"Absolute"),this.commandHandler.selectedItems.annotations[0].wrapper.children[1].style.fontSize=a.fontSize,this.commandHandler.selectedItems.annotations[0].wrapper.children[1].horizontalAlignment="Center",this.commandHandler.selectedItems.annotations[0].wrapper.children[1].verticalAlignment="Center",this.commandHandler.selectedItems.annotations[0].wrapper.children[1].setOffsetWithRespectToBounds(0,0,"Absolute"),this.commandHandler.selectedItems.annotations[0].fontSize=a.fontSize)}"SignatureText"===this.prevSource.shapeAnnotationType&&this.commandHandler.selectedItems.annotations&&this.commandHandler.selectedItems.annotations.length>0&&this.commandHandler.nodePropertyChange(this.commandHandler.selectedItems.annotations[0],{fontSize:a.fontSize}),o&&this.commandHandler.annotation.addAction(this.pageIndex,null,this.prevSource,"Resize","",this.redoElement,a)}if(t.target&&t.target.formFieldAnnotationType){var d=t.target,h={id:t.source.id,value:d.value,fontFamily:d.fontFamily,fontSize:d.fontSize,fontStyle:d.fontStyle,color:d.color,backgroundColor:d.backgroundColor,alignment:d.alignment,isReadonly:d.isReadonly,visibility:d.visibility,maxLength:d.maxLength,isRequired:d.isRequired,isPrint:d.isPrint,rotation:d.rotateAngle,tooltip:d.tooltip,options:d.options,isChecked:d.isChecked,isSelected:d.isSelected},A={X:t.source.wrapper.offsetX,Y:t.source.wrapper.offsetY,Width:t.source.wrapper.actualSize.width,Height:t.source.wrapper.actualSize.height},p={X:this.initialBounds.x,Y:this.initialBounds.y,Width:this.initialBounds.width,Height:this.initialBounds.height};this.commandHandler.fireFormFieldResizeEvent("formFieldResize",h,d.pageIndex,p,A)}this.commandHandler.annotation&&this.commandHandler.annotation.stampAnnotationModule&&this.commandHandler.annotation.stampAnnotationModule.updateSessionStorage(t.source,this.prevSource.id,"Resize")}return e.prototype.mouseUp.call(this,t),!this.blocked},t.prototype.mouseMove=function(t){e.prototype.mouseMove.call(this,t);var n=t.source;this.currentPosition=t.position;var o=this.currentPosition.x-this.startPosition.x,r=this.currentPosition.y-this.startPosition.y;o/=this.commandHandler.viewerBase.getZoomFactor(),r/=this.commandHandler.viewerBase.getZoomFactor();var a=t.source,s=this.getPoints(o,r),l=a.width+s.x,d=a.height+s.y,h=n;n&&n.annotations&&(h=n.annotations[0]);var A=this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(h):{},p=0,c=0,g=0,u=0;(A.minWidth||A.maxWidth||A.minHeight||A.maxHeight)&&(p=A.maxHeight?A.maxHeight:2e3,c=A.maxWidth?A.maxWidth:2e3,g=A.minHeight?A.minHeight:0,u=A.minWidth?A.minWidth:0),(g||u||p||c)&&(d<g?r=g-a.height:d>p&&(r=p-a.height),l<u?o=u-a.width:l>c&&(o=c-a.width));var f={x:o,y:r};if(this.currentElement.wrapper&&(f=(0,i.rotatePoint)(-this.currentElement.wrapper.rotateAngle,void 0,void 0,f)),f=this.getChanges(f),this.commandHandler.renderSelector(this.prevPageId,this.prevSource.annotationSelectorSettings),!this.helper){var m=this.commandHandler.selectedItems.annotations.length>0?C(this.commandHandler.selectedItems.annotations[0]):C(this.commandHandler.selectedItems.formFields[0]);m.id="diagram_helper","Stamp"===m.shapeAnnotationType?(m.strokeColor="",m.borderDashArray="",m.fillColor="transparent",m.stampFillColor="transparent",m.data=""):"FreeText"===m.shapeAnnotationType?(m.strokeColor="blue",m.fillColor="transparent",m.thickness=1,m.opacity=1,m.dynamicText=""):(m.bounds=this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations[0].wrapper.bounds:this.commandHandler.selectedItems.formFields[0].wrapper.bounds,m.strokeColor="red",m.borderDashArray="5,5",m.fillColor="transparent",m.thickness=2,m.opacity=1),!0===m.enableShapeLabel&&(m.labelContent=""),"SignatureText"===m.shapeAnnotationType&&(m.fillColor="transparent",m.thickness=1,m.opacity=1,m.data=""),this.helper=m=this.commandHandler.add(m),this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations=[m]:this.commandHandler.selectedItems.formFields=[m]}var w=this.updateSize(this.helper,this.startPosition,this.currentPosition,this.corner,this.initialBounds);return this.blocked=!this.scaleObjects(w.width,w.height,this.corner,this.startPosition,this.currentPosition,this.helper,t.info.ctrlKey),this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.getTooltipContent=function(e){return"W:"+Math.round(e.wrapper.bounds.width)+" H:"+Math.round(e.wrapper.bounds.height)},t.prototype.getChanges=function(e){switch(this.corner){case"ResizeEast":return{x:e.x,y:0};case"ResizeSouthEast":return e;case"ResizeSouth":return{x:0,y:e.y};case"ResizeNorth":return{x:0,y:-e.y};case"ResizeNorthEast":return{x:e.x,y:-e.y};case"ResizeNorthWest":return{x:-e.x,y:-e.y};case"ResizeWest":return{x:-e.x,y:0};case"ResizeSouthWest":return{x:-e.x,y:e.y}}return e},t.prototype.getPoints=function(e,t){switch(this.corner){case"ResizeEast":return{x:e,y:0};case"ResizeSouthEast":return{x:e,y:t};case"ResizeSouth":return{x:0,y:t};case"ResizeNorth":return{x:0,y:-t};case"ResizeNorthEast":return{x:e,y:-t};case"ResizeNorthWest":return{x:-e,y:-t};case"ResizeWest":return{x:-e,y:0};case"ResizeSouthWest":return{x:-e,y:t}}return{x:e,y:t}},t.prototype.scaleObjects=function(e,t,i,n,o,r,a){var s=this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(r):{},l=0,d=0,h=this.currentPosition.x-this.startPosition.x,A=this.currentPosition.y-this.startPosition.y;h/=this.commandHandler.viewerBase.getZoomFactor(),A/=this.commandHandler.viewerBase.getZoomFactor();var c=r,g=this.getPoints(h,A),u=c.bounds.width+g.x,f=c.bounds.height+g.y;return(s.minWidth||s.maxWidth||s.minHeight||s.maxHeight)&&(l=s.maxHeight?s.maxHeight:2e3,d=s.maxWidth?s.maxWidth:2e3,s.minHeight?s.minHeight:0,s.minWidth?s.minWidth:0),r instanceof p&&1===r.annotations.length&&("Perimeter"===r.annotations[0].shapeAnnotationType||"Radius"===r.annotations[0].shapeAnnotationType||"Stamp"===r.shapeAnnotationType)?t=e=1!==t||1!==e?Math.max(1===t?0:t,1===e?0:e):n!==o?Math.max(t,e):0:"Image"===r.shapeAnnotationType||"HandWrittenSignature"===r.shapeAnnotationType||"SignatureText"===r.shapeAnnotationType||"SignatureImage"===r.shapeAnnotationType?(1===t&&1===e||a&&(u>=d&&f<l&&(t=Math.max(t,e)),f>=l&&u<d&&(e=Math.max(t,e)),u<d&&f<l&&(t=e=Math.max(t,e))),a||(t=e=Math.max(t,e))):"Perimeter"!==r.shapeAnnotationType&&"Radius"!==r.shapeAnnotationType&&"Stamp"!==r.shapeAnnotationType||("Stamp"===r.shapeAnnotationType?(l||t||(t=Math.max(1===t?0:t)),d||e||(e=Math.max(1===e?0:e))):l&&d||1===t&&1===e||(t=e=Math.max(1===t?0:t,1===e?0:e))),this.blocked=this.commandHandler.scaleSelectedItems(e,t,this.getPivot(this.corner)),this.blocked},t}(q),re=function(e){function n(t,i,n){var o=e.call(this,t,i)||this;return o.sourceObject=n,o}return Z(n,e),n.prototype.mouseDown=function(n){if(!isNaN(this.pdfViewerBase.activeElements.activePageID)&&"e-pv-page-container"!==event.target.className){e.prototype.mouseDown.call(this,n),this.inAction=!0;var o={bounds:{x:100,y:300,width:100,height:100},pageIndex:0,strokeColor:"red",thickness:3};o.id=(0,i.randomId)(),this.sourceObject.pageIndex=o.pageIndex=this.pdfViewerBase.activeElements.activePageID||0,this.sourceObject.enableShapeLabel=this.commandHandler.enableShapeLabel,this.pdfViewerBase.updateFreeTextProperties(this.sourceObject),this.isFormDesign=!1;var r=document.getElementById("FormField_helper_html_element");if(r&&r.remove(),this.commandHandler.drawingObject=this.drawingObject=this.commandHandler.add(this.sourceObject||o),"Textbox"===this.drawingObject.formFieldAnnotationType||"SignatureField"===this.drawingObject.formFieldAnnotationType||"InitialField"===this.drawingObject.formFieldAnnotationType||"Checkbox"===this.drawingObject.formFieldAnnotationType||"ListBox"===this.drawingObject.formFieldAnnotationType||"RadioButton"===this.drawingObject.formFieldAnnotationType||"DropdownList"===this.drawingObject.formFieldAnnotationType||"PasswordField"===this.drawingObject.formFieldAnnotationType){this.inAction=!1,this.drawingObject.pageNumber=this.pdfViewerBase.getActivePage(!0);var a=this.commandHandler.formDesignerModule.updateFormFieldInitialSize(this.drawingObject.wrapper.children[0],this.drawingObject.formFieldAnnotationType),s=this.drawingObject.pageIndex,l=this.pdfViewerBase.getElement("_pageDiv_"+s),d=l.clientWidth-a.width,h=l.clientHeight-a.height,A=l.offsetLeft,p=void 0;if(this.currentPosition.y>=h&&event.target&&event.target.parentElement&&event.target.parentElement.classList.contains("foreign-object")&&event.path){var c=event.path[3].getBoundingClientRect();p=event.clientX-c.left}else p=!(0,t.isNullOrUndefined)(event.path)||"SignatureField"!==this.drawingObject.formFieldAnnotationType&&"InitialField"!==this.drawingObject.formFieldAnnotationType?this.currentPosition.x-A:this.currentPosition.x;var g=void 0;g=this.currentPosition.x>=d&&this.currentPosition.y>=h?{x:d,y:h,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height}:this.currentPosition.x>=d?{x:d,y:this.currentPosition.y,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height}:this.currentPosition.y>=h?{x:p,y:h,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height}:{x:this.currentPosition.x,y:this.currentPosition.y,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height},this.updateNodeDimension(this.drawingObject,g),this.drawingObject.bounds.x=this.drawingObject.bounds.x-this.drawingObject.bounds.width/2,this.drawingObject.bounds.y=this.drawingObject.bounds.y-this.drawingObject.bounds.height/2,this.commandHandler.formFieldCollection.push(this.drawingObject);var u=this.drawingObject,f={id:u.id,name:u.name,value:u.value,type:u.formFieldAnnotationType,isReadOnly:u.isReadonly,fontFamily:u.fontFamily,fontSize:u.fontSize,fontStyle:u.fontStyle,color:u.color,backgroundColor:u.backgroundColor,alignment:u.alignment,visibility:u.visibility,maxLength:u.maxLength,isRequired:u.isRequired,isPrint:u.isPrint,isSelected:u.isSelected,isChecked:u.isChecked,tooltip:u.tooltip,bounds:u.bounds,thickness:u.thickness,borderColor:u.borderColor,signatureIndicatorSettings:u.signatureIndicatorSettings,pageIndex:u.pageIndex,pageNumber:u.pageNumber,isMultiline:u.isMultiline,insertSpaces:u.insertSpaces,isTransparent:u.isTransparent,rotateAngle:u.rotateAngle,selectedIndex:u.selectedIndex,options:u.options?u.options:[],signatureType:u.signatureType,zIndex:u.zIndex,customData:u.customData?u.customData:""};this.commandHandler.formFieldCollections.push(f),this.commandHandler.formDesignerModule.drawHTMLContent(this.drawingObject.formFieldAnnotationType,this.drawingObject.wrapper.children[0],this.drawingObject,this.drawingObject.pageIndex,this.commandHandler),this.commandHandler.select([this.commandHandler.drawingObject.id],this.commandHandler.annotationSelectorSettings),this.commandHandler.annotation&&this.commandHandler.annotation.addAction(this.pdfViewerBase.getActivePage(!0),null,this.drawingObject,"Addition","",this.drawingObject,this.drawingObject),this.endAction(),this.pdfViewerBase.tool=null,this.pdfViewerBase.action="Select",this.drawingObject=null,this.pdfViewerBase.isMouseDown=!1,this.pdfViewerBase.pdfViewer.drawingObject=null,this.isFormDesign=!0}}},n.prototype.mouseMove=function(n){if(e.prototype.mouseMove.call(this,n),this.inAction&&!1===i.Point.equals(this.currentPosition,this.prevPosition)){this.dragging=!0;var o=i.Rect.toBounds([this.prevPosition,this.currentPosition]);(0,t.isNullOrUndefined)(this.drawingObject)||(this.updateNodeDimension(this.drawingObject,o),"Radius"===this.drawingObject.shapeAnnotationType&&this.updateRadiusLinePosition(this.drawingObject.wrapper.children[1],this.drawingObject))}return!0},n.prototype.mouseUp=function(i){if(this.drawingObject&&this.dragging){this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),(0,t.isNullOrUndefined)(i.source)||(0,t.isNullOrUndefined)(i.source.annotationSelectorSettings)||this.commandHandler.select([this.drawingObject.id],i.source.annotationSelectorSettings);var n=this.commandHandler.selectedItems.annotations[0];(0,t.isNullOrUndefined)(n)||(0,t.isNullOrUndefined)(n.wrapper)||(this.commandHandler.nodePropertyChange(n,{bounds:{x:n.wrapper.offsetX,y:n.wrapper.offsetY}}),this.commandHandler.annotation.updateCalibrateValues(this.drawingObject,!0),this.commandHandler&&!this.isFormDesign&&this.commandHandler.annotation.addAction(this.pageIndex,null,this.drawingObject,"Addition","",this.drawingObject,this.drawingObject),this.dragging=!1,e.prototype.mouseUp.call(this,i),this.inAction=!1)}else e.prototype.mouseUp.call(this,i);this.drawingObject=null},n.prototype.endAction=function(){e.prototype.endAction.call(this)},n.prototype.updateNodeDimension=function(e,i){var n=this.commandHandler.viewerBase.getZoomFactor();if(!(0,t.isNullOrUndefined)(e)){e.bounds.x=i.x/n+i.width/n,e.bounds.y=i.y/n+i.height/n,e.bounds.width=i.width/n,e.bounds.height=i.height/n;var o=this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(e):{},r=0,a=0;o.maxWidth||o.maxHeight?(r=o.maxHeight?o.maxHeight:2e3,a=o.maxWidth?o.maxWidth:2e3,e.bounds.width>a&&(e.bounds.width=a),e.bounds.height>r&&(e.bounds.height=r),e.bounds.height<=r&&e.bounds.width<=a&&this.commandHandler.nodePropertyChange(e,{bounds:e.bounds})):this.commandHandler.nodePropertyChange(e,{bounds:e.bounds})}},n.prototype.updateRadiusLinePosition=function(e,t){var n={x:t.bounds.x+t.bounds.width/4,y:t.bounds.y},o={x:t.bounds.x+t.bounds.width/2,y:t.bounds.y+t.bounds.height/2},r=(0,i.identityMatrix)();(0,i.rotateMatrix)(r,t.rotateAngle,o.x,o.y);var a=(0,i.transformPointByMatrix)(r,n),s={x:a.x,y:a.y};e.offsetX=s.x,e.offsetY=s.y,e.width=t.bounds.width/2;var l=this.commandHandler.annotationModule.findAnnotationSettings(t),d=0;l.maxWidth&&(d=l.maxWidth?l.maxWidth:2e3,t.bounds.width>d&&(t.bounds.width=d,e.width=t.bounds.width/2)),this.commandHandler.renderDrawing(void 0,t.pageIndex)},n}(q),ae=function(e){function n(t,i,n){var o=e.call(this,t,i)||this;return o.action=n,o}return Z(n,e),n.prototype.mouseDown=function(t){if(e.prototype.mouseDown.call(this,t),this.inAction=!0,this.drawingObject){var i=void 0,n=this.drawingObject;i={x:(i=n.vertexPoints[n.vertexPoints.length-1]).x,y:i.y};var o=this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1];o.x===i.x&&o.x===i.y||this.drawingObject.vertexPoints.push(i),this.commandHandler.nodePropertyChange(n,{vertexPoints:n.vertexPoints})}else{this.startPoint={x:this.startPosition.x,y:this.startPosition.y};var r={bounds:{x:this.currentPosition.x,y:this.currentPosition.y,width:5,height:5},vertexPoints:[{x:this.startPoint.x/this.pdfViewerBase.getZoomFactor(),y:this.startPoint.y/this.pdfViewerBase.getZoomFactor()},{x:this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.currentPosition.y/this.pdfViewerBase.getZoomFactor()}],shapeAnnotationType:"Line",fillColor:this.commandHandler.drawingObject.fillColor,strokeColor:this.commandHandler.drawingObject.strokeColor,pageIndex:this.pdfViewerBase.activeElements.activePageID,notes:this.commandHandler.drawingObject.notes,thickness:this.commandHandler.drawingObject.thickness,author:this.commandHandler.drawingObject.author,subject:this.commandHandler.drawingObject.subject,borderDashArray:this.commandHandler.drawingObject.borderDashArray,modifiedDate:this.commandHandler.drawingObject.modifiedDate,borderStyle:this.commandHandler.drawingObject.borderStyle,measureType:this.commandHandler.drawingObject.measureType,enableShapeLabel:this.commandHandler.enableShapeLabel,opacity:this.commandHandler.drawingObject.opacity};this.pdfViewerBase.updateFreeTextProperties(r),this.drawingObject=this.commandHandler.add(r)}},n.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction&&!1===i.Point.equals(this.currentPosition,this.prevPosition)){this.dragging=!0;var n=this.drawingObject;this.drawingObject&&this.currentPosition&&(n.vertexPoints[n.vertexPoints.length-1].x=this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),n.vertexPoints[n.vertexPoints.length-1].y=this.currentPosition.y/this.pdfViewerBase.getZoomFactor(),this.commandHandler.nodePropertyChange(n,{vertexPoints:n.vertexPoints})),"Perimeter"===n.measureType&&N(n,n.vertexPoints,this.commandHandler.annotation.measureAnnotationModule)}return!0},n.prototype.mouseUp=function(n,o,r){var a,s=!1;if(e.prototype.mouseMove.call(this,n),a=n.source&&null!==n.annotationSelectorSettings?n.source.annotationSelectorSettings:"",this.drawingObject&&2===this.drawingObject.vertexPoints.length&&o&&r&&(this.commandHandler.remove(this.drawingObject),s=!0,this.endAction()),this.drawingObject&&!s){var l=new i.Rect(this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1].x-20,this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1].y-20,40,40),d={x:this.drawingObject.vertexPoints[0].x,y:this.drawingObject.vertexPoints[0].y};if((l.containsPoint(d)||o)&&this.dragging){if(this.inAction&&(this.inAction=!1,this.drawingObject)){if(r||this.drawingObject.vertexPoints.length>2&&!n.isTouchMode&&this.drawingObject.vertexPoints.splice(this.drawingObject.vertexPoints.length-1,1),"Polygon"===this.action){r?this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length]=this.drawingObject.vertexPoints[0]:this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1]=this.drawingObject.vertexPoints[0],this.commandHandler.nodePropertyChange(this.drawingObject,{vertexPoints:this.drawingObject.vertexPoints});var h=C(this.drawingObject);h.shapeAnnotationType="Polygon",h.bounds.width=h.wrapper.actualSize.width,h.bounds.height=h.wrapper.actualSize.height,h.bounds.x=this.drawingObject.wrapper.bounds.x,h.bounds.y=this.drawingObject.wrapper.bounds.y,this.commandHandler.add(h),this.commandHandler.remove(this.drawingObject),this.commandHandler.select([h.id],a);var A=this.commandHandler.selectedItems.annotations[0];A&&(this.commandHandler.enableShapeAnnotation&&((0,t.isNullOrUndefined)(A.measureType)||""===A.measureType)&&this.commandHandler.annotation.shapeAnnotationModule.renderShapeAnnotations(A,A.pageIndex),!this.commandHandler.enableMeasureAnnotation||"Area"!==A.measureType&&"Volume"!==A.measureType||("Area"===A.measureType?(A.notes=this.commandHandler.annotation.measureAnnotationModule.calculateArea(A.vertexPoints),this.commandHandler.annotation.stickyNotesAnnotationModule.addTextToComments(A.annotName,A.notes)):"Volume"===A.measureType&&(A.notes=this.commandHandler.annotation.measureAnnotationModule.calculateVolume(A.vertexPoints),this.commandHandler.annotation.stickyNotesAnnotationModule.addTextToComments(A.annotName,A.notes)),A.enableShapeLabel&&(A.labelContent=A.notes,this.commandHandler.nodePropertyChange(A,{vertexPoints:A.vertexPoints,notes:A.notes})),this.commandHandler.annotation.measureAnnotationModule.renderMeasureShapeAnnotations(A,A.pageIndex)))}else r||o&&this.drawingObject.vertexPoints.splice(this.drawingObject.vertexPoints.length-1,1),this.commandHandler.nodePropertyChange(this.drawingObject,{vertexPoints:this.drawingObject.vertexPoints,sourceDecoraterShapes:this.commandHandler.drawingObject.sourceDecoraterShapes,taregetDecoraterShapes:this.commandHandler.drawingObject.taregetDecoraterShapes}),this.commandHandler.select([this.drawingObject.id],a),this.commandHandler.enableMeasureAnnotation&&"Perimeter"===this.drawingObject.measureType&&(this.commandHandler.renderDrawing(null,this.drawingObject.pageIndex),this.drawingObject.notes=this.commandHandler.annotation.measureAnnotationModule.calculatePerimeter(this.drawingObject),this.drawingObject.enableShapeLabel&&(this.drawingObject.labelContent=this.drawingObject.notes,this.commandHandler.nodePropertyChange(this.drawingObject,{vertexPoints:this.drawingObject.vertexPoints,notes:this.drawingObject.notes})),this.commandHandler.annotation.stickyNotesAnnotationModule.addTextToComments(this.drawingObject.annotName,this.drawingObject.notes),this.commandHandler.annotation.measureAnnotationModule.renderMeasureShapeAnnotations(this.drawingObject,this.drawingObject.pageIndex));var p=this.commandHandler.selectedItems.annotations[0];this.commandHandler.annotation.addAction(this.pageIndex,null,p,"Addition","",p,p),this.drawingObject=null}this.endAction()}else this.inAction&&!this.dragging&&this.commandHandler.remove(this.drawingObject)}},n.prototype.mouseLeave=function(e){this.mouseUp(e,!0,!0)},n.prototype.mouseWheel=function(t){e.prototype.mouseWheel.call(this,t),this.mouseMove(t)},n.prototype.endAction=function(){this.inAction=!1,this.drawingObject=null,this.commandHandler.tool=""},n}(q),se=function(e){function t(t,i,n,o){var r=e.call(this,t,i,!0)||this;return r.endPoint=n,r.drawingObject=o,r}return Z(t,e),t.prototype.mouseDown=function(t){if(this.inAction=!0,this.undoElement=void 0,e.prototype.mouseDown.call(this,t),t.source&&t.source.annotations&&({x:this.prevPosition.x,y:this.prevPosition.y},this.drawingObject),this.initialPosition=t.position,this.prevSource=this.drawingObject,this.currentPosition=t.position,this.drawingObject){if(!this.dragging){var i={bounds:{x:this.currentPosition.x,y:this.currentPosition.y,width:5,height:5},vertexPoints:[{x:this.startPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.startPosition.y/this.pdfViewerBase.getZoomFactor()},{x:this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.currentPosition.y/this.pdfViewerBase.getZoomFactor()}],shapeAnnotationType:this.drawingObject.shapeAnnotationType,sourceDecoraterShapes:this.drawingObject.sourceDecoraterShapes,taregetDecoraterShapes:this.drawingObject.taregetDecoraterShapes,fillColor:this.drawingObject.fillColor,strokeColor:this.drawingObject.strokeColor,pageIndex:this.pdfViewerBase.activeElements.activePageID,opacity:this.drawingObject.opacity||1,borderDashArray:this.drawingObject.borderDashArray,thickness:this.drawingObject.thickness,modifiedDate:this.drawingObject.modifiedDate,author:this.drawingObject.author,subject:this.drawingObject.subject,lineHeadEnd:this.drawingObject.lineHeadEnd,lineHeadStart:this.drawingObject.lineHeadStart,measureType:this.commandHandler.drawingObject.measureType,enableShapeLabel:this.commandHandler.enableShapeLabel};this.pdfViewerBase.updateFreeTextProperties(i),this.drawingObject=this.commandHandler.add(i)}}else{var n=this.commandHandler.annotation.measureAnnotationModule,o={vertexPoints:[{x:this.startPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.startPosition.y/this.pdfViewerBase.getZoomFactor()},{x:this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.currentPosition.y/this.pdfViewerBase.getZoomFactor()}],bounds:{x:this.currentPosition.x,y:this.currentPosition.y,width:5,height:5},sourceDecoraterShapes:this.commandHandler.drawingObject.sourceDecoraterShapes,taregetDecoraterShapes:this.commandHandler.drawingObject.taregetDecoraterShapes,measureType:"Distance",fillColor:this.commandHandler.drawingObject.fillColor,notes:this.commandHandler.drawingObject.notes,strokeColor:this.commandHandler.drawingObject.strokeColor,opacity:this.commandHandler.drawingObject.opacity,thickness:this.commandHandler.drawingObject.thickness,borderDashArray:this.commandHandler.drawingObject.borderDashArray,shapeAnnotationType:"Distance",pageIndex:this.pdfViewerBase.activeElements.activePageID,author:this.commandHandler.drawingObject.author,subject:this.commandHandler.drawingObject.subject,enableShapeLabel:this.commandHandler.enableShapeLabel,leaderHeight:n.leaderLength};this.pdfViewerBase.updateFreeTextProperties(o),this.drawingObject=this.commandHandler.add(o)}},t.prototype.mouseUp=function(t){if(this.dragging){if(e.prototype.mouseMove.call(this,t),this.commandHandler){var i=void 0;i=t.source&&null!==t.annotationSelectorSettings?t.source.annotationSelectorSettings:"";var n=this.drawingObject;this.commandHandler.nodePropertyChange(n,{vertexPoints:n.vertexPoints,leaderHeight:n.leaderHeight}),this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([n.id],i),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,i)}this.endPoint&&this.endPoint.indexOf("ConnectorSegmentPoint")>-1&&this.dragging&&(this.commandHandler.annotation.updateCalibrateValues(this.drawingObject),this.commandHandler.annotation.addAction(this.pageIndex,null,this.drawingObject,"Addition","",this.drawingObject,this.drawingObject),this.drawingObject=null,this.dragging=!1,e.prototype.mouseUp.call(this,t)),this.drawingObject&&(this.endPoint="ConnectorSegmentPoint_1")}else this.drawingObject&&this.commandHandler.remove(this.drawingObject)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction&&!1===i.Point.equals(this.currentPosition,this.prevPosition)){if(this.currentPosition=t.position,this.dragging=!0,this.currentPosition&&this.prevPosition){var n=this.currentPosition.x-this.prevPosition.x,o=this.currentPosition.y-this.prevPosition.y,r=void 0;r=t.source&&null!==t.annotationSelectorSettings?t.source.annotationSelectorSettings:"",(this.inAction&&this.commandHandler&&this.drawingObject&&void 0!==this.endPoint&&0!==n||0!==o)&&(this.blocked=!this.commandHandler.dragConnectorEnds(this.endPoint,this.drawingObject,this.currentPosition,this.selectedSegment,t.target,null,r),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,r))}this.prevPosition=this.currentPosition}return!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.prevPosition=null,this.endPoint=null},t}(q),le=function(e){function t(t,i){return e.call(this,t,i,!0)||this}return Z(t,e),t.prototype.mouseDown=function(t){var i=C(t.source);this.undoElement={bounds:{x:i.wrapper.offsetX,y:i.wrapper.offsetY,width:i.wrapper.actualSize.width,height:i.wrapper.actualSize.height},rotateAngle:i.rotateAngle},e.prototype.mouseDown.call(this,t)},t.prototype.mouseUp=function(t){var i,n=t.source;if(this.undoElement.rotateAngle!==n.wrapper.rotateAngle){var o=t.source.annotations[0].annotationSelectorSettings;this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,o),i={bounds:{x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height},rotateAngle:t.source.wrapper.rotateAngle}}this.commandHandler.annotation.addAction(this.pageIndex,null,t.source,"Rotate","",this.undoElement,i),this.commandHandler.annotation.stampAnnotationModule.updateSessionStorage(t.source,null,"Rotate"),this.commandHandler.annotation.stickyNotesAnnotationModule.updateStickyNotes(t.source,null),e.prototype.mouseUp.call(this,t)},t.prototype.mouseMove=function(t){e.prototype.mouseMove.call(this,t);var n=t.source,o=t.source.annotations[0].annotationSelectorSettings;if(this.currentPosition=t.position,n.wrapper){var r={x:n.wrapper.offsetX,y:n.wrapper.offsetY},a=i.Point.findAngle(r,this.currentPosition)+90;a=(a+360)%360,this.blocked=!this.commandHandler.rotate(a-n.wrapper.rotateAngle,o)}return!this.blocked},t.prototype.getTooltipContent=function(e){return Math.round(e.rotateAngle%360).toString()+""},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t}(q);function de(e,t,i,n){if(i&&t.activeElements.activePageID>-1){var o=he(t,i,e),r=Ae(o,e,t,i);return n?o:r}}function he(e,t,i){var n=e.currentPosition||{x:i.offsetX,y:i.offsetY};return fe(n={x:n.x/e.getZoomFactor(),y:n.y/e.getZoomFactor()},t.getPageTable(e.activeElements.activePageID).objects,t.touchPadding)}function Ae(e,t,n,o){var r,a,s,l=null;if(t&&t.type&&-1!==t.type.indexOf("touch")){if(r=t,o.annotation){var d=n.getElement("_pageDiv_"+o.annotation.getEventPageNumber(t));if(d){var h=d.getBoundingClientRect();a=r.changedTouches[0].clientX-h.left,s=r.changedTouches[0].clientY-h.top}}}else if(t&&t.target&&t.path&&t.target.parentElement&&t.target.parentElement.classList.contains("foreign-object")){var A=t.path[4].getBoundingClientRect();a=t.clientX-A.left,s=t.clientY-A.top}else if(t.target&&t.target.parentElement&&t.target.parentElement.classList.contains("foreign-object")){A=t.target.offsetParent.offsetParent.offsetParent.getBoundingClientRect();a=t.clientX-A.left,s=t.clientY-A.top}else if(t.target&&t.target.parentElement&&t.target.parentElement.parentElement&&t.target.parentElement.parentElement.classList.contains("foreign-object")){A=void 0;t.target.offsetParent&&t.target.offsetParent.offsetParent&&t.target.offsetParent.offsetParent.offsetParent&&t.target.offsetParent.offsetParent.offsetParent.offsetParent?(A=t.target.offsetParent.offsetParent.offsetParent.offsetParent.getBoundingClientRect(),a=t.clientX-A.left,s=t.clientY-A.top):t.target.parentElement.offsetParent&&t.target.parentElement.offsetParent.offsetParent&&(A=t.target.parentElement.offsetParent.offsetParent.getBoundingClientRect(),a=t.clientX-A.left,s=t.clientY-A.top)}else a=isNaN(t.offsetX)?t.position?t.position.x:0:t.offsetX,s=isNaN(t.offsetY)?t.position?t.position.y:0:t.offsetY;for(var p=o.touchPadding/2,c=0,g=0;g<e.length;g++)if("Distance"===e[parseInt(g.toString(),10)].shapeAnnotationType||"Line"===e[parseInt(g.toString(),10)].shapeAnnotationType||"LineWidthArrowHead"===e[parseInt(g.toString(),10)].shapeAnnotationType||n.tool instanceof se){var u={x:a/n.getZoomFactor(),y:s/n.getZoomFactor()},f=ce(e[parseInt(g.toString(),10)],u,p),m=Y(e[parseInt(g.toString(),10)],u);if(f&&!m){var w=pe(e[parseInt(g.toString(),10)],f);if(w){var y=i.Rect.toBounds([w,w]);y.Inflate(10),y.containsPoint(u)&&(m=!0)}}f&&m&&(l=e[parseInt(g.toString(),10)])}else{var S=e[parseInt(g.toString(),10)].wrapper.bounds,C=0;if("Stamp"!==e[parseInt(g.toString(),10)].shapeAnnotationType&&"Image"!==e[parseInt(g.toString(),10)].shapeAnnotationType||(C=25),(S.x-p)*n.getZoomFactor()<a&&(S.x+S.width+p)*n.getZoomFactor()>a&&(S.y-p-C)*n.getZoomFactor()<s&&(S.y+S.height+p)*n.getZoomFactor()>s)if(n.tool instanceof re||n.tool instanceof te)l=e[parseInt(g.toString(),10)];else if(c){var B=a-(S.x-p)*n.getZoomFactor()+((S.x+S.width+p)*n.getZoomFactor()-a)+(s-(S.y-p-C)*n.getZoomFactor())+((S.y+S.height+p)*n.getZoomFactor()-s);c>B||c===B?(l=e[parseInt(g.toString(),10)],c=B):"Image"!==e[parseInt(g.toString(),10)].shapeAnnotationType&&"Stamp"!==e[parseInt(g.toString(),10)].shapeAnnotationType||(l=e[parseInt(g.toString(),10)])}else l=e[parseInt(g.toString(),10)],c=a-(S.x-p)*n.getZoomFactor()+((S.x+S.width+p)*n.getZoomFactor()-a)+(s-(S.y-p-C)*n.getZoomFactor())+((S.y+S.height+p)*n.getZoomFactor()-s)}return l}function pe(e,t){var n=e.sourcePoint,o=e.targetPoint;if("Distance"===e.shapeAnnotationType){var r=t,a=void 0,s=i.Point.findAngle(e.sourcePoint,e.targetPoint);if(r.id.indexOf("leader")>-1){var l=e.wrapper.children[0].bounds.center;r.id.indexOf("leader1")>-1?(a={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},l=n):(a={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},l=o);var d=(0,i.identityMatrix)();return(0,i.rotateMatrix)(d,s,l.x,l.y),(0,i.transformPointByMatrix)(d,{x:a.x,y:a.y})}}}function ce(e,t,i){return ue(e.wrapper,t,i)}function ge(e,t,i){if(0===i.length)i.push(e);else if(1===i.length)i[0][""+t]>e[""+t]?i.splice(0,0,e):i.push(e);else if(i.length>1){for(var n=0,o=i.length-1,r=Math.floor((n+o)/2);r!==n;)i[parseInt(r.toString(),10)][""+t]<e[""+t]?(n=r,r=Math.floor((n+o)/2)):i[parseInt(r.toString(),10)][""+t]>e[""+t]&&(o=r,r=Math.floor((n+o)/2));i[parseInt(o.toString(),10)][""+t]<e[""+t]?i.push(e):i[parseInt(n.toString(),10)][""+t]>e[""+t]?i.splice(n,0,e):i[parseInt(n.toString(),10)][""+t]<e[""+t]&&i[parseInt(o.toString(),10)][""+t]>e[""+t]&&i.splice(o,0,e)}}function ue(e,n,o){if(e&&e.children)for(var r=e.children.length-1;r>=0;r--){var a=e.children[parseInt(r.toString(),10)],s=o;if(!(0,t.isNullOrUndefined)(a.children)&&a.children.length>0)for(var l=a.children.length-1;l>=0;l--){var d=a.children[parseInt(l.toString(),10)];if(d&&d.bounds.containsPoint(n,s)){if(d instanceof i.Container)if(h=this.findTargetElement(d,n))return h;if(d.bounds.containsPoint(n,s))return d}}else if(a&&a.bounds.containsPoint(n,s)){var h;if(a instanceof i.Container)if(h=this.findTargetElement(a,n))return h;if(a.bounds.containsPoint(n,s))return a}}if(e&&e.bounds.containsPoint(n,o)&&"none"!==e.style.fill){var A=e,p=(0,i.identityMatrix)();(0,i.rotateMatrix)(p,A.parentTransform,A.offsetX,A.offsetY);var c=A.offsetX-A.pivot.x*A.actualSize.width,g=A.offsetY-A.pivot.y*A.actualSize.height,u={x:c+(.5===A.pivot.x?2*A.pivot.x:A.pivot.x)*A.actualSize.width/2,y:g-30};if(u=(0,i.transformPointByMatrix)(p,u),(0,i.contains)(n,u,10))return e}return null}function fe(e,t,i){for(var n=[],o=0,r=t;o<r.length;o++){var a=r[o];(ce(a,e,i)||"Stamp"===a.shapeAnnotationType&&ce(a,e,40))&&ge(a,"zIndex",n)}return n}function me(e){var t=void 0;if(e.target&&e.target.wrapper)return e.target.pageIndex;if(e.target){var i=e.target.id.split("_");i.length>0&&(t=parseInt(i[i.length-1],10))}return t}var we=function(){function e(){this.activePage=void 0,this.activePageID=void 0}return Object.defineProperty(e.prototype,"activePageID",{get:function(){return this.activePage},set:function(e){this.activePage=e},enumerable:!0,configurable:!0}),e}();function ye(e,t,n,o,r){var a=(0,i.createHtmlElement)("div",{id:r.element.id+o+"_diagramAdornerLayer",style:"width:"+e.width+"px;height:"+e.height+"px;"+t});if(!(0,i.getDiagramElement)(a.id)){var s=r.viewerBase.getElement("_pageDiv_"+o),l=s.getBoundingClientRect(),d=Se(r.element.id+o+"_diagramAdorner_svg",l.width,l.height);d.setAttribute("class","e-adorner-layer"+o),d.setAttribute("style","pointer-events:none;"),r.adornerSvgLayer=(0,i.createSvgElement)("g",{id:r.element.id+o+"_diagramAdorner"}),r.adornerSvgLayer.setAttribute("style"," pointer-events: all; "),d.appendChild(r.adornerSvgLayer),a.appendChild(d),a.style.width=l.width+"px",a.style.height=l.height+"px",s?s.insertBefore(a,s.childNodes[0]):n.parentElement.appendChild(a);var h=(0,i.createSvgElement)("g",{id:r.element.id+o+"_SelectorElement"});r.adornerSvgLayer.appendChild(h),(0,i.setAttributeSvg)(d,{style:"pointer-events:none;"})}r.viewerBase.applyElementStyles(a,o)}function Se(e,t,n){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");return(0,i.setAttributeSvg)(o,{id:e,width:t,height:n}),o}var Ce,Be,Ie,be,ve,Ee,xe,_e,De,Me,Ve,Qe,Fe,Te,ke,Pe=f(323),Ne=f(197),Re=f(295);!function(e){e[e.None=1]="None",e[e.Accepted=2]="Accepted",e[e.Canceled=3]="Canceled",e[e.Completed=4]="Completed",e[e.Rejected=5]="Rejected"}(Ce||(Ce={})),function(e){e[e.None=0]="None",e[e.Bold=1]="Bold",e[e.Italic=2]="Italic",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough"}(Be||(Be={})),function(e){e[e.Copy=0]="Copy",e[e.Highlight=1]="Highlight",e[e.Cut=2]="Cut",e[e.Underline=4]="Underline",e[e.Paste=8]="Paste",e[e.Delete=16]="Delete",e[e.ScaleRatio=32]="ScaleRatio",e[e.Strikethrough=64]="Strikethrough",e[e.Properties=128]="Properties",e[e.Comment=256]="Comment"}(Ie||(Ie={})),function(e){e.Draw="Draw",e.Type="Type",e.Image="Image"}(be||(be={})),function(e){e[e.Corners=1]="Corners",e[e.Edges=2]="Edges"}(ve||(ve={})),function(e){e[e.Draw=1]="Draw",e[e.Text=2]="Text",e[e.Upload=4]="Upload"}(Ee||(Ee={})),function(e){e.auto="auto",e.crossHair="crosshair",e.e_resize="e-resize",e.ew_resize="ew-resize",e.grab="grab",e.grabbing="grabbing",e.move="move",e.n_resize="n-resize",e.ne_resize="ne-resize",e.ns_resize="ns-resize",e.nw_resize="nw-resize",e.pointer="pointer",e.s_resize="s-resize",e.se_resize="se-resize",e.sw_resize="sw-resize",e.text="text",e.w_resize="w-resize"}(xe||(xe={})),function(e){e.Revised="Revised",e.Reviewed="Reviewed",e.Received="Received",e.Approved="Approved",e.Confidential="Confidential",e.NotApproved="NotApproved"}(_e||(_e={})),function(e){e.Witness="Witness",e.InitialHere="InitialHere",e.SignHere="SignHere",e.Accepted="Accepted",e.Rejected="Rejected"}(De||(De={})),function(e){e.Approved="Approved",e.NotApproved="NotApproved",e.Draft="Draft",e.Final="Final",e.Completed="Completed",e.Confidential="Confidential",e.ForPublicRelease="ForPublicRelease",e.NotForPublicRelease="NotForPublicRelease",e.ForComment="ForComment",e.Void="Void",e.PreliminaryResults="PreliminaryResults",e.InformationOnly="InformationOnly"}(Me||(Me={})),function(e){e.Select="Select",e.Move="Move",e.Resize="Resize",e.Delete="Delete",e.None="None",e.PropertyChange="PropertyChange"}(Ve||(Ve={})),function(e){e.Json="Json",e.Xfdf="Xfdf"}(Qe||(Qe={})),function(e){e.Xml="Xml",e.Fdf="Fdf",e.Xfdf="Xfdf",e.Json="Json"}(Fe||(Fe={})),function(e){e[e.None=0]="None",e[e.Control=1]="Control",e[e.Meta=1]="Meta",e[e.Alt=2]="Alt",e[e.Shift=4]="Shift"}(Te||(Te={})),function(e){e[e.None=null]="None",e[e.N0=48]="N0",e[e.N1=49]="N1",e[e.N2=50]="N2",e[e.N3=51]="N3",e[e.N4=52]="N4",e[e.N5=53]="N5",e[e.N6=54]="N6",e[e.N7=55]="N7",e[e.N8=56]="N8",e[e.N9=57]="N9",e[e.Number0=96]="Number0",e[e.Number1=97]="Number1",e[e.Number2=98]="Number2",e[e.Number3=99]="Number3",e[e.Number4=100]="Number4",e[e.Number5=101]="Number5",e[e.Number6=102]="Number6",e[e.Number7=103]="Number7",e[e.Number8=104]="Number8",e[e.Number9=105]="Number9",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Delete=46]="Delete",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.BackSpace=8]="BackSpace",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.Star=56]="Star",e[e.Plus=187]="Plus",e[e.Minus=189]="Minus",e[e.BracketLeft=219]="BracketLeft",e[e.BracketRight=221]="BracketRight"}(ke||(ke={}));var Le,Oe,Ue,ze,He,Ye,je,Ge,Je,Ke,We,Xe,Ze,qe,$e,et,tt,it,nt,ot,rt,at,st,lt,dt,ht,At,pt,ct,gt,ut,ft,mt,wt,yt,St,Ct,Bt,It,bt,vt,Et,xt,_t,Dt,Mt,Vt,Qt,Ft,Tt,kt,Pt,Nt,Rt,Lt,Ot,Ut=function(){function e(e,t){this.inputBoxCount=0,this.isFreeTextValueChange=!1,this.isAddAnnotationProgramatically=!1,this.isInuptBoxInFocus=!1,this.freeTextPageNumbers=[],this.selectedText="",this.isTextSelected=!1,this.selectionStart=0,this.selectionEnd=0,this.isBold=!1,this.isItalic=!1,this.isUnderline=!1,this.isStrikethrough=!1,this.isReadonly=!1,this.isMaximumWidthReached=!1,this.freeTextPaddingLeft=4,this.freeTextPaddingTop=5,this.defaultFontSize=16,this.lineGap=1.5,this.previousText="Type Here",this.currentPosition=[],this.pdfViewer=e,this.pdfViewerBase=t,this.updateTextProperties(),this.inputBoxElement=document.createElement("textarea"),this.inputBoxElement.style.position="absolute",this.inputBoxElement.style.Width=this.defautWidth,this.inputBoxElement.style.Height=this.defaultHeight,this.inputBoxElement.style.zIndex="5",this.inputBoxElement.style.fontSize=this.fontSize+"px",this.inputBoxElement.className="free-text-input",this.inputBoxElement.style.resize="none",this.inputBoxElement.style.borderColor=this.borderColor,this.inputBoxElement.style.background=this.fillColor,this.inputBoxElement.style.borderStyle=this.borderStyle,this.inputBoxElement.style.borderWidth=this.borderWidth+"px",this.inputBoxElement.style.padding=this.padding,this.inputBoxElement.style.paddingLeft=this.freeTextPaddingLeft+"px",this.inputBoxElement.style.paddingTop=this.freeTextPaddingTop*(parseFloat(this.inputBoxElement.style.fontSize)/this.defaultFontSize)+"px",this.inputBoxElement.style.borderRadius="2px",this.inputBoxElement.style.verticalAlign="middle",this.inputBoxElement.style.fontFamily=this.fontFamily,this.inputBoxElement.style.color=this.pdfViewer.freeTextSettings.fontColor?this.pdfViewer.freeTextSettings.fontColor:"#000",this.inputBoxElement.style.overflow="hidden",this.inputBoxElement.style.wordBreak=this.wordBreak,this.inputBoxElement.readOnly=this.isReadonly,this.inputBoxElement.addEventListener("focusout",this.onFocusOutInputBox.bind(this)),this.inputBoxElement.addEventListener("keydown",this.onKeyDownInputBox.bind(this)),this.inputBoxElement.addEventListener("mouseup",this.onMouseUpInputBox.bind(this)),this.freeTextPageNumbers=[]}return e.prototype.updateTextProperties=function(){if(this.defautWidth=this.pdfViewer.freeTextSettings.width?this.pdfViewer.freeTextSettings.width:151,this.defaultHeight=this.pdfViewer.freeTextSettings.height?this.pdfViewer.freeTextSettings.height:24.6,this.borderColor=this.pdfViewer.freeTextSettings.borderColor?this.pdfViewer.freeTextSettings.borderColor:"#ffffff00",this.fillColor=this.pdfViewer.freeTextSettings.fillColor?this.pdfViewer.freeTextSettings.fillColor:"#fff",this.borderStyle=this.pdfViewer.freeTextSettings.borderStyle?this.pdfViewer.freeTextSettings.borderStyle:"solid",this.borderWidth=(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.borderWidth)?1:this.pdfViewer.freeTextSettings.borderWidth,this.fontSize=this.pdfViewer.freeTextSettings.fontSize?this.pdfViewer.freeTextSettings.fontSize:16,this.opacity=this.pdfViewer.freeTextSettings.opacity?this.pdfViewer.freeTextSettings.opacity:1,this.fontColor=this.pdfViewer.freeTextSettings.fontColor?this.pdfViewer.freeTextSettings.fontColor:"#000",this.author=this.pdfViewer.freeTextSettings.author&&"Guest"!==this.pdfViewer.freeTextSettings.author?this.pdfViewer.freeTextSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest",(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule)||0===this.getRgbCode(this.borderColor).a&&(this.borderWidth=0),this.pdfViewer.freeTextSettings.fontFamily){var e=this.pdfViewer.freeTextSettings.fontFamily;this.fontFamily="Helvetica"===e||"Times New Roman"===e||"Courier"===e||"Symbol"===e||"ZapfDingbats"===e?e:"Helvetica"}else this.fontFamily="Helvetica";this.textAlign=this.pdfViewer.freeTextSettings.textAlignment?this.pdfViewer.freeTextSettings.textAlignment:"Left",this.defaultText=this.pdfViewer.freeTextSettings.defaultText?this.pdfViewer.freeTextSettings.defaultText:"Type here",this.isReadonly=!1,this.pdfViewer.freeTextSettings.enableAutoFit?(this.wordBreak="break-all",this.padding="2px"):(this.padding="0px",this.wordBreak="break-word"),(this.pdfViewer.freeTextSettings.isLock||this.pdfViewer.annotationSettings.isLock||this.pdfViewer.freeTextSettings.isReadonly)&&(this.isReadonly=!0),this.isBold=(this.pdfViewer.freeTextSettings.fontStyle&Be.Bold)===Be.Bold,this.isItalic=(this.pdfViewer.freeTextSettings.fontStyle&Be.Italic)===Be.Italic,this.isUnderline=(this.pdfViewer.freeTextSettings.fontStyle&Be.Underline)===Be.Underline,this.isStrikethrough=(this.pdfViewer.freeTextSettings.fontStyle&Be.Strikethrough)===Be.Strikethrough},e.prototype.renderFreeTextAnnotations=function(e,i,n,o){var r=!1;if(!n)for(var a=0;a<this.freeTextPageNumbers.length;a++)if(this.freeTextPageNumbers[parseInt(a.toString(),10)]===i){r=!0;break}if(e&&(!r||o)&&e.length>=1){this.freeTextPageNumbers.push(i);for(var s=0;s<e.length;s++){var l=e[parseInt(s.toString(),10)];if(l.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(l,i,l.AnnotType),l.AnnotType){var d=null;if(l.VertexPoints){d=[];for(var h=0;h<l.VertexPoints.length;h++){var A={x:l.VertexPoints[parseInt(h.toString(),10)].X,y:l.VertexPoints[parseInt(h.toString(),10)].Y};d.push(A)}}l.AnnotationSettings=l.AnnotationSettings?l.AnnotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.freeTextSettings),l.IsLocked&&(l.AnnotationSettings.isLock=l.IsLocked);var p=.5,c=(0,t.isNullOrUndefined)(l.Bounds.X)?l.Bounds.x:l.Bounds.X-p,g=(0,t.isNullOrUndefined)(l.Bounds.Y)?l.Bounds.y:l.Bounds.Y-p,u=l.Bounds.Width?l.Bounds.Width:l.Bounds.width,f=l.Bounds.Height?l.Bounds.Height:l.Bounds.height,m=!!l.isAddAnnotationProgramatically&&l.isAddAnnotationProgramatically,w=this.getRotationValue(i,m),y=l.PageRotation;1===Math.sign(l.Rotate)?l.Rotate=-l.Rotate+w:l.Rotate=l.Rotate+w;var S=Math.abs(l.Rotate);if(n&&w!==y&&this.pdfViewerBase.isJsonImported){var C=this.pdfViewerBase.pageSize[parseInt(i.toString(),10)],B=l.Bounds.X,I=l.Bounds.Y,b=u,v=f;if(y>0){var E=y/90;1===E?(f=u,u=l.Bounds.Height,c=l.Bounds.Y,g=270!==w?C.height-l.Bounds.X-l.Bounds.Width:C.width-l.Bounds.X-l.Bounds.Width):2===E?270!==w&&90!==w?(c=C.width-l.Bounds.X-l.Bounds.Width,g=C.height-l.Bounds.Y-l.Bounds.Height):(c=C.height-l.Bounds.X-l.Bounds.Width,g=C.width-l.Bounds.Y-l.Bounds.Height):3===E&&(f=u,u=l.Bounds.Height,c=90!==w?C.width-l.Bounds.Y-u:C.height-l.Bounds.Y-u,g=l.Bounds.X),B=c,I=g,b=u,v=f}1===(S=w/90%4)?(f=u,u=v,c=C.width-I-v-p,g=B-p,S=90):2===S?(c=C.width-B-b-p,g=C.height-I-v-p,S=180):3===S?(f=u,u=v,c=I-p,g=C.height-B-f-p,S=270):0===S&&(c=B-p,g=I-p)}if(90===S||270===S){var x=u;c=c-(u=f)/2+(f=x)/2,g+=u/2-f/2}if(l.allowedInteractions=l.AllowedInteractions?l.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(l),!(0,t.isNullOrUndefined)(l)&&l.MarkupText&&l.MarkupText.includes("\n")){var _=l.MarkupText.split("\n").length*l.FontSize*this.lineGap,D=this.pdfViewerBase.pageSize[parseInt(i.toString(),10)].height-l.Bounds.Y;f<_&&(f=_),f>D&&(f=D)}var M={author:l.Author,modifiedDate:l.ModifiedDate,subject:l.Subject,id:"freetext"+this.inputBoxCount,rotateAngle:l.Rotate,dynamicText:l.MarkupText,strokeColor:l.StrokeColor,thickness:l.Thickness,fillColor:l.FillColor,bounds:{x:c,y:g,left:c,top:g,width:u,height:f,right:l.Bounds.Right,bottom:l.Bounds.Bottom},annotName:l.AnnotName,shapeAnnotationType:"FreeText",pageIndex:i,opacity:l.Opacity,fontColor:l.FontColor,fontSize:l.FontSize,pageRotation:w,fontFamily:l.FontFamily,notes:l.MarkupText,textAlign:l.TextAlign,comments:this.pdfViewer.annotationModule.getAnnotationComments(l.Comments,l,l.Author),review:{state:l.State,stateModel:l.StateModel,modifiedDate:l.ModifiedDate,author:l.Author},font:{isBold:l.Font.Bold,isItalic:l.Font.Italic,isStrikeout:l.Font.Strikeout,isUnderline:l.Font.Underline},annotationSelectorSettings:this.getSettings(l),annotationSettings:l.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(l),annotationAddMode:l.annotationAddMode,allowedInteractions:l.allowedInteractions,isPrint:l.IsPrint,isCommentLock:l.IsCommentLock,isReadonly:l.IsReadonly,isAddAnnotationProgrammatically:m,isTransparentSet:l.IsTransparentSet};n&&(M.id=l.AnnotName,M.previousFontSize=l.FontSize?l.FontSize:this.fontSize);var V=this.pdfViewer.add(M);if(this.pdfViewer.annotationModule.storeAnnotations(i,M,"_annotations_freetext"),this.isAddAnnotationProgramatically){var Q={opacity:M.opacity,borderColor:M.strokeColor,borderWidth:M.thickness,author:l.author,subject:l.subject,modifiedDate:l.modifiedDate,fillColor:M.fillColor,fontSize:M.fontSize,width:M.bounds.width,height:M.bounds.height,fontColor:M.fontColor,fontFamily:M.fontFamily,defaultText:M.dynamicText,fontStyle:M.font,textAlignment:M.textAlign};this.pdfViewer.fireAnnotationAdd(M.pageIndex,M.annotName,"FreeText",M.bounds,Q)}this.inputBoxCount+=1,this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!0,this.pdfViewer.nodePropertyChange(V,{}),this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!1}}}},e.prototype.getSettings=function(e){var t=this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?t="string"==typeof e.AnnotationSelectorSettings?JSON.parse(e.AnnotationSelectorSettings):e.AnnotationSelectorSettings:this.pdfViewer.freeTextSettings.annotationSelectorSettings&&(t=this.pdfViewer.freeTextSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(t)),t},e.prototype.setAnnotationType=function(e){if(this.pdfViewerBase.disableTextSelectionMode(),this.pdfViewer.annotationModule.isFormFieldShape=!1,"FreeText"===e){this.currentAnnotationMode="FreeText",this.updateTextProperties();var t=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();this.pdfViewer.drawingObject={shapeAnnotationType:"FreeText",strokeColor:this.borderColor,fillColor:this.fillColor,opacity:this.opacity,notes:"",isCommentLock:!1,thickness:this.borderWidth,borderDashArray:"0",modifiedDate:t,author:this.author,subject:this.pdfViewer.freeTextSettings.subject,font:{isBold:this.isBold,isItalic:this.isItalic,isStrikeout:this.isStrikethrough,isUnderline:this.isUnderline},textAlign:this.textAlign},this.pdfViewer.tool="Select"}},e.prototype.modifyInCollection=function(e,i,n,o){(0,t.isNullOrUndefined)(n.formFieldAnnotationType)||""===n.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0;var r=null,a=!1,s=this.getAnnotations(i,null);if(null!==s&&n){for(var l=0;l<s.length;l++)if(n.id===s[parseInt(l.toString(),10)].id){if("bounds"===e)this.pdfViewerBase.isBounds=this.pdfViewerBase.boundsCalculation(s[parseInt(l.toString(),10)].bounds,n.wrapper.bounds),this.pdfViewerBase.isBounds&&(s[parseInt(l.toString(),10)].bounds={left:n.bounds.x,top:n.bounds.y,width:n.bounds.width,height:n.bounds.height,right:n.bounds.right,bottom:n.bounds.bottom});else if("fill"===e)s[parseInt(l.toString(),10)].fillColor=n.wrapper.children[0].style.fill;else if("stroke"===e)s[parseInt(l.toString(),10)].strokeColor=n.wrapper.children[0].style.strokeColor;else if("opacity"===e)s[parseInt(l.toString(),10)].opacity=n.wrapper.children[0].style.opacity;else if("thickness"===e)s[parseInt(l.toString(),10)].thickness=n.wrapper.children[0].style.strokeWidth;else if("notes"===e)s[parseInt(l.toString(),10)].note=n.notes;else{if("delete"===e){r=s.splice(l,1)[0];break}"dynamicText"===e?(s[parseInt(l.toString(),10)].dynamicText!==n.dynamicText&&(a=!0,this.pdfViewer.fireCommentEdit(s[parseInt(l.toString(),10)].annotName,n.dynamicText,s[parseInt(l.toString(),10)])),s[parseInt(l.toString(),10)].dynamicText=n.dynamicText):"fontColor"===e?s[parseInt(l.toString(),10)].fontColor=n.fontColor:"fontSize"===e?s[parseInt(l.toString(),10)].fontSize=n.fontSize:"fontFamily"===e?s[parseInt(l.toString(),10)].fontFamily=n.fontFamily:"textPropertiesChange"===e?s[parseInt(l.toString(),10)].font={isBold:n.font.isBold,isItalic:n.font.isItalic,isStrikeout:n.font.isStrikeout,isUnderline:n.font.isUnderline}:"textAlign"===e&&(s[parseInt(l.toString(),10)].textAlign=n.textAlign)}this.pdfViewerBase.isBounds&&(s[parseInt(l.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()),this.pdfViewer.annotationModule.storeAnnotationCollections(s[parseInt(l.toString(),10)],i)}this.manageAnnotations(s,i)}return!o&&a&&this.pdfViewerBase.updateDocumentEditedProperty(!0),r},e.prototype.addInCollection=function(e,t){if(t){var i=this.getAnnotations(e,null);i&&i.push(t),this.manageAnnotations(i,e)}},e.prototype.saveFreeTextAnnotations=function(){var e=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_freetext");this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_freetext"]);for(var t=[],i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=0;a.annotations.length>s;s++){this.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(s.toString(),10)]),a.annotations[parseInt(s.toString(),10)].bounds=this.getBoundsBasedOnRotation(a.annotations[parseInt(s.toString(),10)].bounds,a.annotations[parseInt(s.toString(),10)].rotateAngle,a.pageIndex,a.annotations[parseInt(s.toString(),10)]),a.annotations[parseInt(s.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex));var l=a.annotations[parseInt(s.toString(),10)].strokeColor;a.annotations[parseInt(s.toString(),10)].strokeColor=JSON.stringify(this.getRgbCode(l));var d=a.annotations[parseInt(s.toString(),10)].fillColor;a.annotations[parseInt(s.toString(),10)].fillColor=JSON.stringify(this.getRgbCode(d));var h=a.annotations[parseInt(s.toString(),10)].fontColor;a.annotations[parseInt(s.toString(),10)].fontColor=JSON.stringify(this.getRgbCode(h)),a.annotations[parseInt(s.toString(),10)].vertexPoints=JSON.stringify(a.annotations[parseInt(s.toString(),10)].vertexPoints),null!==a.annotations[parseInt(s.toString(),10)].rectangleDifference&&(a.annotations[parseInt(s.toString(),10)].rectangleDifference=JSON.stringify(a.annotations[parseInt(s.toString(),10)].rectangleDifference)),a.annotations[parseInt(s.toString(),10)].padding=this.getPaddingValues(this.fontSize)}r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},e.prototype.getRotationValue=function(e,i){var n=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)];return!(0,t.isNullOrUndefined)(i)&&i||0===n.rotation?0:1===n.rotation?90:2===n.rotation?180:3===n.rotation?270:0},e.prototype.getBoundsBasedOnRotation=function(e,t,i,n,o){var r=this.getRotationValue(i,o),a=.5;if(n.rotateAngle=t-r,n.pageRotation=r,90===t||-90===t||270===t||-270===t){var s=e.left+e.width/2-e.height/2,l=e.top-(e.width/2-e.height/2);return{x:s+a,y:l+a,left:s+a,top:l+a,width:e.height,height:e.width}}return{x:e.left+a,y:e.top+a,left:e.left+a,top:e.top+a,width:e.width,height:e.height}},e.prototype.manageAnnotations=function(e,t){var i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_freetext");if(this.pdfViewerBase.isStorageExceed&&(i=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_freetext"]),i){var n=JSON.parse(i);this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_freetext");var o=this.pdfViewer.annotationModule.getPageCollection(n,t);null!=o&&n[parseInt(o.toString(),10)]&&(n[parseInt(o.toString(),10)].annotations=e);var r=JSON.stringify(n);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_freetext"]=r:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_freetext",r)}},e.prototype.getAnnotations=function(e,t){var i,n=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_freetext");if(this.pdfViewerBase.isStorageExceed&&(n=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_freetext"]),n){var o=JSON.parse(n),r=this.pdfViewer.annotationModule.getPageCollection(o,e);i=null!=r&&o[parseInt(r.toString(),10)]?o[parseInt(r.toString(),10)].annotations:t}else i=t;return i},e.prototype.getRgbCode=function(e){e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||(e=this.pdfViewer.annotationModule.nameToHash(e));var i=e.split(",");return(0,t.isNullOrUndefined)(i[1])&&(i=(e=this.pdfViewer.annotationModule.getValue(e,"rgba")).split(",")),{r:parseFloat(i[0].split("(")[1]),g:parseFloat(i[1]),b:parseFloat(i[2]),a:parseFloat(i[3])}},e.prototype.onFocusOutInputBox=function(){var e=this.pdfViewer.allowServerDataBinding;if(this.pdfViewer.enableServerDataBinding(!1),this.pdfViewerBase.isFreeTextContextMenu)this.inputBoxElement.focus(),this.isTextSelected||window.getSelection().removeAllRanges();else{this.pdfViewer.fireBeforeAddFreeTextAnnotation(this.inputBoxElement.value),this.pdfViewer.enableHtmlSanitizer&&this.inputBoxElement&&(this.inputBoxElement.value=t.SanitizeHtmlHelper.sanitize(this.inputBoxElement.value));var i=this.inputBoxElement.id&&this.inputBoxElement.id.split("_freeText_")[1]&&this.inputBoxElement.id.split("_freeText_")[1].split("_")[0]?parseFloat(this.inputBoxElement.id.split("_freeText_")[1].split("_")[0]):this.pdfViewerBase.currentPageNumber-1,n=this.pdfViewerBase.getElement("_pageDiv_"+i),o=parseFloat(this.inputBoxElement.style.width);if(this.pdfViewer.freeTextSettings.enableAutoFit&&!this.isMaximumWidthReached&&this.isNewFreeTextAnnot){o=parseFloat(this.inputBoxElement.style.width);this.inputBoxElement.style.width=o-8+"px"}var r=parseFloat(this.inputBoxElement.style.height),a=parseFloat(this.inputBoxElement.style.width),s=parseFloat(this.inputBoxElement.style.left);if(this.pdfViewerBase.isMixedSizeDocument)s-=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+i).offsetLeft;var l=parseFloat(this.inputBoxElement.style.top),d=this.pdfViewerBase.getZoomFactor();this.pdfViewer.isValidFreeText&&(this.inputBoxElement.value="Type Here",this.pdfViewer.isValidFreeText=!1);var h=this.inputBoxElement.value,A=!1;if(!0===this.isNewFreeTextAnnot){var p=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),c=this.pdfViewer.annotation.createGUID();this.isNewFreeTextAnnot=!1,A=!0;var g=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("freeText",i+1);g&&(document.getElementById(g).id=c);var u=this.pdfViewer.freeTextSettings.annotationSelectorSettings;this.pdfViewerBase.updateSelectorSettings(u);var f=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.freeTextSettings);this.author=this.author?this.author:this.pdfViewer.freeTextSettings.author?this.pdfViewer.freeTextSettings.author:"Guest",this.subject=this.subject?this.subject:this.pdfViewer.freeTextSettings.subject?this.pdfViewer.freeTextSettings.subject:"Text Box";var m=this.pdfViewer.freeTextSettings.allowedInteractions?this.pdfViewer.freeTextSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,w={author:this.author,modifiedDate:p,subject:this.subject,id:"free_text"+this.inputBoxCount,rotateAngle:0,dynamicText:h,strokeColor:this.borderColor,thickness:this.borderWidth,fillColor:this.fillColor,bounds:{left:s/d,top:l/d,x:s/d,y:l/d,width:a/d,height:r/d},annotName:c,shapeAnnotationType:"FreeText",pageIndex:i,fontColor:this.fontColor,fontSize:this.fontSize,fontFamily:this.fontFamily,opacity:this.opacity,comments:[],textAlign:this.textAlign,font:{isBold:this.isBold,isItalic:this.isItalic,isStrikeout:this.isStrikethrough,isUnderline:this.isUnderline},review:{state:"Unmarked",stateModel:"None",modifiedDate:p,author:this.author},annotationSelectorSettings:u,annotationSettings:f,customData:this.pdfViewer.annotationModule.getData("FreeText"),isPrint:!(this.pdfViewer.freeTextSettings&&!(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.isPrint))||this.pdfViewer.freeTextSettings.isPrint,allowedInteractions:m,isReadonly:this.isReadonly};this.pdfViewer.enableRtl&&(w.textAlign="Right");var y=this.pdfViewer.add(w),S={left:w.bounds.x,top:w.bounds.y,width:w.bounds.width,height:w.bounds.height},C={opacity:w.opacity,borderColor:w.strokeColor,borderWidth:w.thickness,author:y.author,subject:y.subject,modifiedDate:y.modifiedDate,fillColor:w.fillColor,fontSize:w.fontSize,width:w.bounds.width,height:w.bounds.height,fontColor:w.fontColor,fontFamily:w.fontFamily,defaultText:w.dynamicText,fontStyle:w.font,textAlignment:w.textAlign};this.pdfViewer.annotation.storeAnnotations(i,w,"_annotations_freetext"),this.pdfViewer.fireAnnotationAdd(w.pageIndex,w.annotName,"FreeText",S,C),this.pdfViewer.fireCommentAdd(w.annotName,w.dynamicText,w),this.pdfViewer.annotation.addAction(i,null,y,"Addition","",y,y),this.pdfViewer.renderSelector(w.pageIndex),this.pdfViewer.clearSelection(w.pageIndex),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.selectedAnnotation=y}if(this.isInuptBoxInFocus=!1,this.selectedAnnotation&&this.pdfViewer.selectedItems.annotations){var B=90===this.selectedAnnotation.pageRotation||270===this.selectedAnnotation.pageRotation;r=parseFloat(B?this.inputBoxElement.style.width:this.inputBoxElement.style.height)/d,a=parseFloat(B?this.inputBoxElement.style.height:this.inputBoxElement.style.width)/d;var I=r-this.selectedAnnotation.bounds.height,b=void 0;I>0&&(b=(b=this.selectedAnnotation.wrapper.offsetY+I/2)>0?b:void 0);var v=a-this.selectedAnnotation.bounds.width,E=void 0;v>0?E=(E=this.selectedAnnotation.wrapper.offsetX+v/2)>0?E:void 0:(v=Math.abs(v),E=this.selectedAnnotation.wrapper.offsetX-v/2),this.selectedAnnotation.bounds.width=a,this.selectedAnnotation.bounds.height=r;var x;x=parseFloat(this.inputBoxElement.style.fontSize)/d/(this.defaultFontSize/2),this.selectedAnnotation.wrapper.children[1].margin.left=this.freeTextPaddingLeft,this.selectedAnnotation.wrapper.children[1].margin.top=parseFloat(this.inputBoxElement.style.paddingTop)/d+x,this.pdfViewer.annotation.modifyDynamicTextValue(h,this.selectedAnnotation.annotName),this.selectedAnnotation.dynamicText=h,this.modifyInCollection("dynamicText",i,this.selectedAnnotation,A),this.modifyInCollection("bounds",i,this.selectedAnnotation,A),this.pdfViewer.nodePropertyChange(this.selectedAnnotation,{bounds:{width:this.selectedAnnotation.bounds.width,height:this.selectedAnnotation.bounds.height,y:b,x:E}});var _=document.getElementById(this.selectedAnnotation.annotName);_&&_.childNodes&&(_.childNodes[0].ej2_instances?_.childNodes[0].ej2_instances[0].value=h:_.childNodes[0].childNodes&&_.childNodes[0].childNodes[1].ej2_instances&&(_.childNodes[0].childNodes[1].ej2_instances[0].value=h)),this.pdfViewer.renderSelector(this.selectedAnnotation.pageIndex,this.selectedAnnotation.annotationSelectorSettings)}this.inputBoxElement.parentElement&&(n&&n.id===this.inputBoxElement.parentElement.id?n.removeChild(this.inputBoxElement):this.inputBoxElement.parentElement.removeChild(this.inputBoxElement));var D=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+i);this.pdfViewer.renderDrawing(D,i),this.inputBoxCount+=1}this.pdfViewer.enableServerDataBinding(e,!0)},e.prototype.onKeyDownInputBox=function(e){if(18!==e.which){var i=this;(9===e.which||(0,t.isNullOrUndefined)(this.pdfViewer.selectedItems.annotations[0])&&!this.isNewFreeTextAnnot)&&e.preventDefault(),this.selectedAnnotation=this.pdfViewer.selectedItems.annotations&&this.isNewFreeTextAnnot?this.pdfViewer.selectedItems.annotations[0]:this.selectedAnnotation,setTimeout((function(){i.defaultHeight<i.inputBoxElement.scrollHeight&&parseInt(i.inputBoxElement.style.height,10)<i.inputBoxElement.scrollHeight?i.updateFreeTextAnnotationSize(!0):i.updateFreeTextAnnotationSize(!1)}),0)}},e.prototype.updateFreeTextAnnotationSize=function(e){var t=this,i=t.pdfViewer.freeTextSettings.enableAutoFit;if(i?this.autoFitFreeText():this.isMaximumWidthReached=!0,this.isMaximumWidthReached){var n=t.inputBoxElement.getBoundingClientRect().height;e||t.inputBoxElement.readOnly||(t.inputBoxElement.style.height="auto");var o=t.inputBoxElement.getBoundingClientRect().height-n,r=parseFloat(t.inputBoxElement.style.fontSize);t.inputBoxElement.style.height=t.inputBoxElement.readOnly?t.inputBoxElement.style.height:t.inputBoxElement.scrollHeight+r/2+"px",t.inputBoxElement.style.height=o<0&&!t.inputBoxElement.readOnly?n+"px":t.inputBoxElement.style.height}var a=t.pdfViewerBase.getZoomFactor(),s=this.selectedAnnotation&&(90===this.selectedAnnotation.pageRotation||270===this.selectedAnnotation.pageRotation),l=parseFloat(s?this.inputBoxElement.style.width:this.inputBoxElement.style.height)/a,d=parseFloat(s?this.inputBoxElement.style.height:this.inputBoxElement.style.width)/a,h=0;if(this.selectedAnnotation){var A=void 0,p=0;if((A=90===this.selectedAnnotation.pageRotation||270===this.selectedAnnotation.pageRotation?d-t.selectedAnnotation.bounds.width:l-t.selectedAnnotation.bounds.height)>0?p=t.selectedAnnotation.wrapper.offsetY+A/2:(A=Math.abs(A),p=t.selectedAnnotation.wrapper.offsetY-A/2),i){var c=d-t.selectedAnnotation.bounds.width;c>0?h=t.selectedAnnotation.wrapper.offsetX+c/2:(c=Math.abs(c),h=t.selectedAnnotation.wrapper.offsetX-c/2)}t.selectedAnnotation.bounds.width=d,t.selectedAnnotation.bounds.height=l,i?t.pdfViewer.nodePropertyChange(t.selectedAnnotation,{bounds:{width:t.selectedAnnotation.bounds.width,height:t.selectedAnnotation.bounds.height,y:p,x:h}}):t.pdfViewer.nodePropertyChange(t.selectedAnnotation,{bounds:{width:t.selectedAnnotation.bounds.width,height:t.selectedAnnotation.bounds.height,y:p}}),t.pdfViewer.renderSelector(t.selectedAnnotation.pageIndex,this.selectedAnnotation.annotationSelectorSettings)}},e.prototype.autoFitFreeText=function(e,t){var i=this.pdfViewerBase.currentPageNumber-1,n=this.pdfViewerBase.getElement("_annotationCanvas_"+i).getContext("2d"),o=this.inputBoxElement.style.fontSize;this.pdfViewer.freeTextSettings.fontStyle===Be.Bold||"bold"===this.inputBoxElement.style.fontWeight?n.font="bold "+o+" "+this.inputBoxElement.style.fontFamily:n.font=o+" "+this.inputBoxElement.style.fontFamily;var r="",a=[],s=this.inputBoxElement.value;if(s.indexOf("\n")>-1){a=s.split("\n");for(var l=0;l<a.length;l++){var d=n.measureText(a[parseInt(l.toString(),10)]),h=n.measureText(r);d.width>h.width&&(r=a[parseInt(l.toString(),10)])}this.isMaximumWidthReached=!0}else r=s,this.isMaximumWidthReached=!1;var A,p=n.measureText(r),c=(o=parseFloat(this.inputBoxElement.style.fontSize))+o/2;this.isNewFreeTextAnnot?(A=Math.ceil(p.width+18),this.inputBoxElement.style.height=c+"px",this.inputBoxElement.style.top=t-c/2+"px"):A=Math.ceil(p.width)+o+Math.ceil(4),this.inputBoxElement.style.width=A+"px";var g=this.pdfViewerBase.getPageWidth(i)-parseFloat(this.inputBoxElement.style.left);if(parseFloat(this.inputBoxElement.style.width)>g)if(this.isMaximumWidthReached=!0,this.isNewAddedAnnot&&e){A-=8,this.inputBoxElement.style.width=A+"px";var u=e+A*this.pdfViewerBase.getZoomFactor(),f=parseFloat(this.inputBoxElement.style.left);u>=this.pdfViewerBase.getPageWidth(i)&&(f=this.pdfViewerBase.getPageWidth(i)-A),this.inputBoxElement.style.left=f+"px"}else this.inputBoxElement.style.width=g+"px"},e.prototype.onMouseUpInputBox=function(e){var t=e.target;this.selectionStart=0,this.selectionEnd=0,3===e.which&&t&&(this.selectionStart=t.selectionStart,this.selectionEnd=t.selectionEnd),3===e.which&&null!==window.getSelection()&&""!==window.getSelection().toString()?this.isTextSelected=!0:this.isTextSelected=!1},e.prototype.addInuptElemet=function(e,i,n){void 0===i&&(i=null),this.currentPosition=[],(0,t.isNullOrUndefined)(n)&&(n=this.pdfViewerBase.currentPageNumber-1),i&&(n=i.pageIndex),(0,t.isBlazor)()&&null===i&&0===this.pdfViewer.selectedItems.annotations.length&&this.updateTextProperties(),this.inputBoxElement.id=this.pdfViewer.element.id+"_freeText_"+n+"_"+this.inputBoxCount;var o=this.pdfViewerBase.getElement("_pageDiv_"+n),r=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+n),a=this.pdfViewerBase.getZoomFactor();if(this.inputBoxElement.value=i&&i.dynamicText?i.dynamicText:this.defaultText,this.inputBoxElement.style.boxSizing="border-box",this.inputBoxElement.style.left=e.x+"px",this.inputBoxElement.style.top=e.y-this.defaultHeight*a/2+"px",this.pdfViewer.freeTextSettings.enableAutoFit?this.inputBoxElement.style.wordBreak="break-all":this.inputBoxElement.style.wordBreak="break-word",i?this.applyFreetextStyles(a,i.isReadonly):this.applyFreetextStyles(a),this.isBold?this.inputBoxElement.style.fontWeight="bold":this.inputBoxElement.style.fontWeight="normal",this.isItalic?this.inputBoxElement.style.fontStyle="italic":this.inputBoxElement.style.fontStyle="normal",this.inputBoxElement.style.textDecoration="none",this.isUnderline&&(this.inputBoxElement.style.textDecoration="underline"),this.isStrikethrough&&(this.inputBoxElement.style.textDecoration="line-through"),this.pdfViewer.enableRtl?(this.inputBoxElement.style.textAlign="right",this.inputBoxElement.style.direction="rtl",this.inputBoxElement.style.left=e.x-this.defautWidth*a/2):this.inputBoxElement.style.textAlign=this.textAlign.toLowerCase(),this.inputBoxElement.style.borderColor=this.borderColor,this.inputBoxElement.style.color=this.fontColor,this.inputBoxElement.style.background=this.fillColor,i&&i.wrapper&&i.wrapper.children[0]&&(this.inputBoxElement.style.opacity=i.wrapper.children[0].style.opacity),!0===this.isNewFreeTextAnnot&&this.pdfViewer.clearSelection(n),i&&i.wrapper&&i.wrapper.bounds){var s=i.wrapper.bounds;s.left&&(this.inputBoxElement.style.left=s.left*a+"px"),s.top&&(this.inputBoxElement.style.top=s.top*a+"px"),this.inputBoxElement.style.height=s.height?s.height*a+"px":this.defaultHeight*a+"px",this.inputBoxElement.style.width=s.width?s.width*a+"px":this.defautWidth*a+"px",this.selectedAnnotation=i,this.previousText=this.selectedAnnotation.dynamicText,this.selectedAnnotation.dynamicText="",this.inputBoxElement.style.borderColor=this.selectedAnnotation.strokeColor,this.inputBoxElement.style.color=this.selectedAnnotation.fontColor,this.inputBoxElement.style.background=this.selectedAnnotation.fillColor,!0===this.selectedAnnotation.font.isBold&&(this.inputBoxElement.style.fontWeight="bold"),!0===this.selectedAnnotation.font.isItalic&&(this.inputBoxElement.style.fontStyle="italic"),!0===this.selectedAnnotation.font.isUnderline&&(this.inputBoxElement.style.textDecoration="underline"),!0===this.selectedAnnotation.font.isStrikeout&&(this.inputBoxElement.style.textDecoration="line-through"),this.pdfViewer.enableRtl?(this.inputBoxElement.style.textAlign="right",this.inputBoxElement.style.direction="rtl"):this.selectedAnnotation.textAlign&&(this.inputBoxElement.style.textAlign=this.selectedAnnotation.textAlign),this.inputBoxElement.style.fontSize=this.selectedAnnotation.fontSize*a+"px",this.inputBoxElement.style.fontFamily=this.selectedAnnotation.fontFamily,this.pdfViewer.nodePropertyChange(this.selectedAnnotation,{})}this.pdfViewerBase.isMixedSizeDocument&&(this.inputBoxElement.style.left=parseFloat(this.inputBoxElement.style.left)+r.offsetLeft+"px"),this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!1,this.pdfViewer.freeTextSettings.enableAutoFit&&this.autoFitFreeText(e.x,e.y),this.inputBoxElement.style.paddingLeft=this.freeTextPaddingLeft*a+"px",this.inputBoxElement.style.paddingTop=parseFloat(this.inputBoxElement.style.fontSize)/a/this.defaultFontSize/a*this.freeTextPaddingTop+"px";var l;l=parseFloat(this.inputBoxElement.style.fontSize)/a/(this.defaultFontSize/2),this.inputBoxElement.style.paddingTop=parseFloat(this.inputBoxElement.style.paddingTop)-l+"px",o.appendChild(this.inputBoxElement),!this.pdfViewer.freeTextSettings.enableAutoFit&&this.defaultHeight*a<this.inputBoxElement.scrollHeight&&parseInt(this.inputBoxElement.style.height,10)<this.inputBoxElement.scrollHeight&&(this.inputBoxElement.style.height=this.inputBoxElement.scrollHeight+"px"),this.isInuptBoxInFocus=!0,this.inputBoxElement.focus(),!0!==this.isNewFreeTextAnnot&&this.inputBoxElement.value!==this.defaultText||(this.inputBoxElement.select(),this.pdfViewerBase.isFreeTextSelected=!0),this.currentPosition.push(parseInt(this.inputBoxElement.style.left,10)/a,parseInt(this.inputBoxElement.style.top,10)/a,parseInt(this.inputBoxElement.style.width,10)/a,parseInt(this.inputBoxElement.style.height,10)/a)},e.prototype.applyFreetextStyles=function(e,i){this.inputBoxElement.style.height=this.defaultHeight*e+"px",this.inputBoxElement.style.width=this.defautWidth*e+"px",this.inputBoxElement.style.borderWidth=this.borderWidth*e+"px",this.inputBoxElement.style.fontSize=this.fontSize*e+"px",this.inputBoxElement.style.fontFamily=this.fontFamily,this.inputBoxElement.readOnly=(0,t.isNullOrUndefined)(i)?this.isReadonly:i},e.prototype.copySelectedText=function(){if(null!==window.getSelection()){this.selectedText=window.getSelection().toString();var e=document.createElement("textarea");e.contentEditable="true",e.textContent=this.selectedText,e.style.position="fixed",document.body.appendChild(e),e.select();try{document.execCommand("copy")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{e&&document.body.removeChild(e)}}},e.prototype.pasteSelectedText=function(e){if(""!==this.selectedText&&e){var t=e.value;e.value=t.slice(0,this.selectionStart)+this.selectedText+t.slice(this.selectionEnd,t.length)}var i=event;this.onKeyDownInputBox(i)},e.prototype.cutSelectedText=function(e){if(null!==window.getSelection()){var t=e.value;this.selectedText=window.getSelection().toString(),e.value=t.slice(0,e.selectionStart)+t.slice(e.selectionEnd);var i=document.createElement("textarea");i.contentEditable="true",i.textContent=this.selectedText,i.style.position="fixed",document.body.appendChild(i),i.select();try{document.execCommand("cut")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{i&&document.body.removeChild(i)}}},e.prototype.saveImportedFreeTextAnnotations=function(e,i){var n=e;if(n.AnnotType){var o=null;if(n.VertexPoints){o=[];for(var r=0;r<n.VertexPoints.length;r++){var a={x:n.VertexPoints[parseInt(r.toString(),10)].X,y:n.VertexPoints[parseInt(r.toString(),10)].Y};o.push(a)}}n.AnnotationSettings=n.AnnotationSettings?n.AnnotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.freeTextSettings),n.allowedInteractions=n.AllowedInteractions?n.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(n);var s=(0,t.isNullOrUndefined)(n.Bounds.X)?n.Bounds.x:n.Bounds.X,l=(0,t.isNullOrUndefined)(n.Bounds.Y)?n.Bounds.y:n.Bounds.Y,d=n.Bounds.Width?n.Bounds.Width:n.Bounds.width,h=n.Bounds.Height?n.Bounds.Height:n.Bounds.height,A={author:n.Author,allowedInteractions:n.allowedInteractions,modifiedDate:n.ModifiedDate,subject:n.Subject,id:"freetext",rotateAngle:n.Rotate,dynamicText:n.MarkupText,strokeColor:n.StrokeColor,thickness:n.Thickness,fillColor:n.FillColor,bounds:{x:s,y:l,left:s,top:l,width:d,height:h,right:n.Bounds.Right,bottom:n.Bounds.Bottom},annotName:n.AnnotName,shapeAnnotationType:"FreeText",pageIndex:i,opacity:n.Opacity,fontColor:n.FontColor,fontSize:n.FontSize,fontFamily:n.FontFamily,notes:n.MarkupText,textAlign:n.TextAlign,comments:this.pdfViewer.annotationModule.getAnnotationComments(n.Comments,n,n.Author),review:{state:n.State,stateModel:n.StateModel,modifiedDate:n.ModifiedDate,author:n.Author},font:{isBold:n.Font.Bold,isItalic:n.Font.Italic,isStrikeout:n.Font.Strikeout,isUnderline:n.Font.Underline},annotationSelectorSettings:this.getSettings(n),annotationSettings:n.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(n),isPrint:n.IsPrint,isCommentLock:n.IsCommentLock,isReadonly:n.IsReadonly};this.pdfViewer.annotationModule.storeAnnotations(i,A,"_annotations_freetext")}},e.prototype.updateFreeTextAnnotationCollections=function(e,t){var i=e;if(i.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(i,t,i.AnnotType),i.AnnotType){var n=null;if(i.VertexPoints){n=[];for(var o=0;o<i.VertexPoints.length;o++){var r={x:i.VertexPoints[parseInt(o.toString(),10)].X,y:i.VertexPoints[parseInt(o.toString(),10)].Y};n.push(r)}}i.AnnotationSettings=i.AnnotationSettings?i.AnnotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.freeTextSettings),i.IsLocked&&(i.AnnotationSettings.isLock=i.IsLocked),i.allowedInteractions=i.AllowedInteractions?i.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(i);var a=i.Bounds.X?i.Bounds.X:i.Bounds.x,s=i.Bounds.Y?i.Bounds.Y:i.Bounds.y,l=i.Bounds.Width?i.Bounds.Width:i.Bounds.width,d=i.Bounds.Height?i.Bounds.Height:i.Bounds.height;return{author:i.Author,allowedInteractions:i.allowedInteractions,modifiedDate:i.ModifiedDate,subject:i.Subject,id:"freetext",rotateAngle:i.Rotate,dynamicText:i.MarkupText,strokeColor:i.StrokeColor,thickness:i.Thickness,fillColor:i.FillColor,bounds:{x:a,y:s,left:a,top:s,width:l,height:d,right:i.Bounds.Right,bottom:i.Bounds.Bottom},annotationId:i.AnnotName,shapeAnnotationType:"FreeText",pageIndex:t,opacity:i.Opacity,fontColor:i.FontColor,fontSize:i.FontSize,fontFamily:i.FontFamily,notes:i.MarkupText,comments:this.pdfViewer.annotationModule.getAnnotationComments(i.Comments,i,i.Author),review:{state:i.State,stateModel:i.StateModel,modifiedDate:i.ModifiedDate,author:i.Author},customData:this.pdfViewer.annotation.getCustomData(i),font:{isBold:i.Font.Bold,isItalic:i.Font.Italic,isStrikeout:i.Font.Strikeout,isUnderline:i.Font.Underline},pageNumber:t,annotationSettings:i.AnnotationSettings,isCommentLock:i.IsCommentLock,isReadonly:i.IsReadonly,isPrint:i.IsPrint}}},e.prototype.updateAddAnnotationDetails=function(e,i){i=e?e.offset?e.offset:{x:1,y:1}:(e={offset:{x:1,y:1},pageNumber:0,width:void 0,height:void 0}).offset;var n=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),o=this.pdfViewer.annotation.createGUID(),r=e.fontStyle?e.fontStyle:Be.None,a=this.pdfViewer.freeTextSettings.annotationSelectorSettings;this.pdfViewerBase.updateSelectorSettings(a);var s=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.freeTextSettings),l=this.pdfViewer.freeTextSettings.allowedInteractions?this.pdfViewer.freeTextSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions;e.author=e.author?e.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("freeText",s.annotationSubType),s.isLock=e.isLock?e.isLock:s.isLock,(this.pdfViewer.freeTextSettings.isLock||this.pdfViewer.annotationSettings.isLock||this.pdfViewer.freeTextSettings.isReadonly)&&(e.isReadonly=!0),s.minHeight=e.minHeight?e.minHeight:0,s.minWidth=e.minWidth?e.minWidth:0,s.maxWidth=e.maxWidth?e.maxWidth:0,s.maxHeight=e.maxHeight?e.maxHeight:0,e.width=e.width?e.width:150,e.height=e.height?e.height:24.6;var d=[],h={AllowedInteractions:e.allowedInteractions?e.allowedInteractions:l,AnnotName:o,AnnotType:"freeText",AnnotationFlags:"Default",AnnotationIntent:null,AnnotationSelectorSettings:e.annotationSelectorSettings?e.annotationSelectorSettings:a,AnnotationSettings:s,Author:e.author?e.author:"Guest",Border:{HorizontalRadius:0,VerticalRadius:0,Width:(0,t.isNullOrUndefined)(e.borderWidth)?1:e.borderWidth},BorderColor:{IsEmpty:!0,B:255,Blue:1,C:0,G:255},Bounds:{X:i.x,Y:i.y,Width:e.width,Height:e.height,Left:i.x,Top:i.y,Right:i.x+e.width,Bottom:i.y+e.height},CalloutLines:null,Color:{IsEmpty:!1,B:51,Blue:.2,C:0,G:255},Comments:null,CreatedDate:n,CustomData:e.customData?e.customData:null,ExistingCustomData:null,FillColor:e.fillColor?e.fillColor:"#ffffff00",Flatten:!1,FlattenPopups:!1,Font:{Bold:(r&Be.Bold)===Be.Bold,Italic:(r&Be.Italic)===Be.Italic,Strikeout:(r&Be.Strikethrough)===Be.Strikethrough,Underline:(r&Be.Underline)===Be.Underline},FontColor:e.fontColor?e.fontColor:"#000",FontFamily:e.fontFamily?e.fontFamily:"Helvetica",FontSize:e.fontSize?e.fontSize:16,FreeTextAnnotationType:"Text Box",InnerColor:null,IsCommentLock:!1,IsLock:!!e.isLock&&e.isLock,IsPrint:null===e.isPrint||void 0===e.isPrint||e.isPrint,Layer:null,LineEndingStyle:"OpenArrow",Location:null,MarkupText:e.defaultText?e.defaultText:"Type Here",ModifiedDate:"",Name:o,Opacity:e.opacity?e.opacity:1,Page:null,PageTags:null,ReviewHistory:null,Rotate:0,IsReadonly:!!e.isReadonly&&e.isReadonly,State:"Unmarked",StateModel:"None",StrokeColor:e.borderColor?e.borderColor:"#ffffff00",Subject:e.subject?e.subject:"Text Box",Text:e.defaultText?e.defaultText:"Type Here",TextAlign:e.textAlignment?e.textAlignment:"Left",TextMarkupColor:null,Thickness:(0,t.isNullOrUndefined)(e.borderWidth)?1:e.borderWidth,isAddAnnotationProgramatically:!0};return d[0]=h,{freeTextAnnotation:d}},e.prototype.getPaddingValues=function(e){var t=5;return[4,t=e/16*(t-2)]},e.prototype.addInputInZoom=function(e){var t=this.pdfViewerBase.getZoomFactor();this.inputBoxElement.style.left=e.x*t+"px",this.inputBoxElement.style.top=e.y*t+"px",this.inputBoxElement.style.height=e.height*t+"px",this.inputBoxElement.style.width=e.width*t+"px",this.inputBoxElement.style.borderWidth=this.borderWidth*t+"px",this.inputBoxElement.style.fontSize=this.fontSize*t+"px"},e}(),zt=function(){function e(e,t){this.pdfViewer=e,this.pdfViewerBase=t,this.inputBoxElement=document.createElement("input"),this.inputBoxElement.addEventListener("focusout",this.onFocusOutInputBox.bind(this)),this.maxHeight=24.6,this.maxWidth=151,this.fontSize=16,this.isInFocus=!1,this.inputBoxElement.style.position="absolute",this.inputBoxElement.style.fontFamily="Helvetica"}return e.prototype.editLabel=function(e,t){var i=this.pdfViewerBase.currentPageNumber-1,n=this.pdfViewerBase.getElement("_pageDiv_"+i),o=this.pdfViewerBase.getZoomFactor();if(this.inputBoxElement.value=t.labelContent,this.inputBoxElement.select(),t.labelContent="",this.pdfViewer.nodePropertyChange(t,{}),this.inputBoxElement.style.left=e.x*o+"px",this.inputBoxElement.style.top=e.y*o+"px",this.inputBoxElement.style.maxHeight=this.maxHeight*o+"px",this.inputBoxElement.style.maxWidth=this.maxWidth*o+"px",this.inputBoxElement.style.fontSize=this.fontSize*o+"px",this.inputBoxElement.style.textAlign="center",t&&t.wrapper&&t.wrapper.bounds){this.inputBoxElement.style.width=t.wrapper.bounds.width?t.wrapper.bounds.width*o+1+"px":this.maxWidth*o+"px";var r=parseFloat(this.inputBoxElement.style.width);r=r>this.maxWidth*o?this.maxWidth*o:r,t.wrapper.bounds.left&&(this.inputBoxElement.style.left=(t.wrapper.bounds.left+t.wrapper.bounds.width/2-r/(2*o))*o+"px"),t.wrapper.bounds.top&&("Line"===t.shapeAnnotationType||"LineWidthArrowHead"===t.shapeAnnotationType||"Distance"===t.shapeAnnotationType||"Polygon"===t.shapeAnnotationType?this.inputBoxElement.style.top=(t.wrapper.bounds.top+t.wrapper.bounds.height/2-this.maxHeight)*o+"px":this.inputBoxElement.style.top=(t.wrapper.bounds.top+t.wrapper.bounds.height/2-this.maxHeight/2)*o+"px"),this.inputBoxElement.maxLength=t.labelMaxLength,this.inputBoxElement.fontFamily=t.fontFamily,this.inputBoxElement.style.color=t.fontColor,this.inputBoxElement.style.border="1px solid #ffffff00",this.inputBoxElement.style.padding="2px",this.inputBoxElement.style.background=t.labelFillColor}n.appendChild(this.inputBoxElement),this.isInFocus=!0,this.inputBoxElement.focus()},e.prototype.onFocusOutInputBox=function(){var e=this.pdfViewerBase.currentPageNumber-1,t=this.pdfViewerBase.getElement("_pageDiv_"+e),i=parseFloat(this.inputBoxElement.style.height),n=parseFloat(this.inputBoxElement.style.width);this.isInFocus=!1;var o=this.pdfViewer.selectedItems.annotations[0];if(o){n=(n-1)/this.pdfViewerBase.getZoomFactor(),i=(i-1)/this.pdfViewerBase.getZoomFactor(),o.labelContent=this.inputBoxElement.value,o.notes=this.inputBoxElement.value,"Rectangle"===o.shapeAnnotationType||"Ellipse"===o.shapeAnnotationType||"Line"===o.shapeAnnotationType||"LineWidthArrowHead"===o.shapeAnnotationType?this.pdfViewer.annotation.shapeAnnotationModule.modifyInCollection("labelContent",e,o,null):"Radius"===o.shapeAnnotationType&&o.measureType&&this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("labelContent",e,o),this.pdfViewer.nodePropertyChange(o,{}),this.pdfViewer.renderSelector(o.pageIndex,this.pdfViewer.annotationSelectorSettings);var r=document.getElementById(this.pdfViewer.selectedItems.annotations[0].annotName);r&&r.childNodes&&"label"!==this.inputBoxElement.value&&(r.childNodes[0].ej2_instances?r.childNodes[0].ej2_instances[0].value=this.inputBoxElement.value:r.childNodes[0].childNodes&&r.childNodes[0].childNodes[1].ej2_instances&&(r.childNodes[0].childNodes[1].ej2_instances[0].value=this.inputBoxElement.value))}t.removeChild(this.inputBoxElement);var a=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+e);this.pdfViewer.renderDrawing(a,e)},e.prototype.calculateLabelBounds=function(e,t){var i={};if(e){var n=0,o=0,r=0,a=24.6;void 0===t&&(t=this.pdfViewerBase.currentPageNumber-1);var s=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)].rotation;e.width&&(r=(r=e.width/2)>0&&r<151?r:151),e.left&&(o=e.left+e.width/2-r/2),e.top&&(n=e.top+e.height/2-12.3),i=1===s||3===s?{left:o,top:n,width:r-a+r/2,height:49.2+r,right:0,bottom:0}:{left:o,top:n,width:r,height:a,right:0,bottom:0}}return i},e.prototype.calculateLabelBoundsFromLoadedDocument=function(e){var t={};if(e){var i=0,n=0,o=0;e.Width&&(o=(o=e.Width/2)>0&&o<151?o:151),e.Left&&(n=e.Left+e.Width/2-o/2),e.Top&&(i=e.Top+e.Height/2-12.3),t={left:n,top:i,width:o,height:24.6,right:0,bottom:0}}return t},e}(),Ht=f(914),Yt=function(){function e(e,t){this.isUndoRedoAction=!1,this.isFreeTextFontsizeChanged=!1,this.isUndoAction=!1,this.annotationSelected=!0,this.isAnnotDeletionApiCall=!1,this.removedDocumentAnnotationCollection=[],this.isShapeCopied=!1,this.actionCollection=[],this.redoCollection=[],this.isPopupNoteVisible=!1,this.undoCommentsElement=[],this.redoCommentsElement=[],this.selectAnnotationId=null,this.isAnnotationSelected=!1,this.annotationPageIndex=null,this.previousIndex=null,this.overlappedAnnotations=[],this.overlappedCollections=[],this.isFormFieldShape=!1,this.removedAnnotationCollection=[],this.pdfViewer=e,this.pdfViewerBase=t,this.pdfViewer.enableTextMarkupAnnotation&&(this.textMarkupAnnotationModule=new ii(this.pdfViewer,this.pdfViewerBase)),this.pdfViewer.enableShapeAnnotation&&(this.shapeAnnotationModule=new oi(this.pdfViewer,this.pdfViewerBase)),this.pdfViewer.enableMeasureAnnotation&&(this.measureAnnotationModule=new ni(this.pdfViewer,this.pdfViewerBase)),this.stampAnnotationModule=new ri(this.pdfViewer,this.pdfViewerBase),this.stickyNotesAnnotationModule=new si(this.pdfViewer,this.pdfViewerBase),this.freeTextAnnotationModule=new Ut(this.pdfViewer,this.pdfViewerBase),this.inputElementModule=new zt(this.pdfViewer,this.pdfViewerBase),this.inkAnnotationModule=new li(this.pdfViewer,this.pdfViewerBase)}return e.prototype.setAnnotationMode=function(e,t,i,n){var o=this.pdfViewer.allowServerDataBinding;if(this.pdfViewer.enableServerDataBinding(!1),"Stamp"===this.pdfViewer.tool&&this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateStampItems(),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.resetFreeTextAnnot(),"None"!==e&&this.triggerAnnotationUnselectEvent(),this.pdfViewer.tool="",this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.deSelectCommentAnnotation(),"None"===e)this.clearAnnotationMode();else if("Highlight"===e||"Strikethrough"===e||"Underline"===e)this.textMarkupAnnotationModule&&(this.textMarkupAnnotationModule.isSelectionMaintained=!1,this.textMarkupAnnotationModule.drawTextMarkupAnnotations(e.toString()));else if("Line"===e||"Arrow"===e||"Rectangle"===e||"Circle"===e||"Polygon"===e)this.shapeAnnotationModule&&this.shapeAnnotationModule.setAnnotationType(e);else if("Distance"===e||"Perimeter"===e||"Area"===e||"Radius"===e||"Volume"===e)this.measureAnnotationModule&&this.measureAnnotationModule.setAnnotationType(e);else if("FreeText"===e&&this.freeTextAnnotationModule)this.freeTextAnnotationModule.setAnnotationType("FreeText"),this.freeTextAnnotationModule.isNewFreeTextAnnot=!0,this.freeTextAnnotationModule.isNewAddedAnnot=!0;else if("HandWrittenSignature"===e)this.pdfViewerBase.signatureModule.setAnnotationMode();else if("Initial"===e)this.pdfViewerBase.signatureModule.setInitialMode();else if("Ink"===e)this.inkAnnotationModule.setAnnotationMode();else if("StickyNotes"===e){this.pdfViewerBase.isCommentIconAdded=!0,this.pdfViewerBase.isAddComment=!0;var r=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+(this.pdfViewerBase.currentPageNumber-1));r&&r.addEventListener("mousedown",this.pdfViewer.annotationModule.stickyNotesAnnotationModule.drawIcons.bind(this))}else if("Stamp"===e)if(this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,this.pdfViewerBase.stampAdded=!0,t){var a=_e[t];this.pdfViewerBase.isDynamicStamp=!0,this.stampAnnotationModule.retrieveDynamicStampAnnotation(a)}else if(i){a=De[i];this.pdfViewerBase.isDynamicStamp=!1,this.stampAnnotationModule.retrievestampAnnotation(a)}else if(n){a=Me[n];this.pdfViewerBase.isDynamicStamp=!1,this.stampAnnotationModule.retrievestampAnnotation(a)}this.pdfViewer.enableServerDataBinding(o,!0),this.pdfViewerBase.initiateTextSelection()},e.prototype.deleteAnnotationById=function(e){e&&(this.isAnnotDeletionApiCall=!0,this.annotationSelected=!1,this.selectAnnotation(e),this.deleteAnnotation(),this.isAnnotDeletionApiCall=!1,this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.clearTextSelection())},e.prototype.clearAnnotationMode=function(){if(this.textMarkupAnnotationModule&&(this.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1),this.freeTextAnnotationModule&&(this.freeTextAnnotationModule.isNewFreeTextAnnot=!1,this.freeTextAnnotationModule.isNewAddedAnnot=!1),this.pdfViewerBase.isTextMarkupAnnotationModule()&&(this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAddMode=""),this.pdfViewerBase.isShapeAnnotationModule()&&(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode=""),this.pdfViewerBase.isCalibrateAnnotationModule()&&(this.pdfViewer.annotation.measureAnnotationModule.currentAnnotationMode=""),this.pdfViewer.annotationModule.inkAnnotationModule){var e=parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10);this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(e)}},e.prototype.deleteAnnotation=function(){this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.deleteTextMarkupAnnotation();var e=this.pdfViewer.selectedItems.annotations[0];if(e){var i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_formfields"),n=JSON.parse(i),o=[];if(n){for(var r=0;r<n.length;r++)if(n[parseInt(r.toString(),10)].uniqueID==e.id){n[parseInt(r.toString(),10)].Value="";for(var a=0;a<n.length;a++)"ink"===n[parseInt(a.toString(),10)].Name&&(n[parseInt(a.toString(),10)].Value=""),n[parseInt(r.toString(),10)].FieldName===n[parseInt(a.toString(),10)].FieldName&&"ink"===n[parseInt(a.toString(),10)].Name&&n.splice(a,1);o.push(n[parseInt(r.toString(),10)])}else o.push(n[parseInt(r.toString(),10)]);sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_formfields",JSON.stringify(o))}}var s=!1,l=!1;if(this.pdfViewer.selectedItems.annotations.length>0){var d=this.pdfViewer.selectedItems.annotations[0],h=d.shapeAnnotationType;if("Path"===h||"SignatureField"===d.formFieldAnnotationType||"InitialField"===d.formFieldAnnotationType||"HandWrittenSignature"===h||"SignatureText"===h||"SignatureImage"===h){var A=document.getElementById(d.id);A&&A.disabled&&(l=!0)}if(d.annotationSettings&&(s=d.annotationSettings.isLock)&&this.checkAllowedInteractions("Delete",d)&&(s=!1),!s&&!l){var p=d.pageIndex,c=d.shapeAnnotationType,g=void 0;"Line"===c||"LineWidthArrowHead"===c||"Polygon"===c||"Ellipse"===c||"Rectangle"===c||"Radius"===c||"Distance"===c?((0,t.isNullOrUndefined)(d.measureType)||""===d.measureType?(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(d,"shape"),this.updateImportAnnotationCollection(d,p,"shapeAnnotation")):(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(d,"measure"),this.updateImportAnnotationCollection(d,p,"measureShapeAnnotation")),g=this.modifyInCollections(d,"delete")):"FreeText"===c?(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(d,"FreeText","delete"),g=this.modifyInCollections(d,"delete"),this.updateImportAnnotationCollection(d,p,"freeTextAnnotation")):"HandWrittenSignature"===c||"SignatureImage"===c||"SignatureText"===c?g=this.modifyInCollections(d,"delete"):"Ink"===c?(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(d,"Ink","delete"),g=this.modifyInCollections(d,"delete"),this.updateImportAnnotationCollection(d,p,"signatureInkAnnotation")):(g=this.pdfViewer.selectedItems.annotations[0],this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(g,g.shapeAnnotationType,"delete"),this.pdfViewer.annotation.stampAnnotationModule.updateSessionStorage(d,null,"delete")),"StickyNotes"===c&&this.updateImportAnnotationCollection(d,p,"stickyNotesAnnotation"),"Stamp"!==c&&"Image"!==c||this.updateImportAnnotationCollection(d,p,"stampAnnotations"),this.pdfViewer.annotation.addAction(p,null,d,"Delete","",g,d);var u=void 0;""!==d.annotName?u=document.getElementById(d.annotName):g&&""!==g.annotName&&(u=document.getElementById(g.annotName)),this.removeCommentPanelDiv(u);var f=this.pdfViewer.selectedItems.annotations[0],m=f.annotName,w=this.getAnnotationType(f.shapeAnnotationType,f.measureType);if("Path"===c||"SignatureField"===f.formFieldAnnotationType||"InitialField"===f.formFieldAnnotationType||"HandWrittenSignature"===c||"SignatureText"===c||"SignatureImage"===c){var y=this.pdfViewer.retrieveFormFields(),S=void 0;(b=y.findIndex((function(e){return e.id===d.id})))>-1&&(S=y[parseInt(b.toString(),10)].name);for(var C=0;C<y.length;C++)if(f.id===y[parseInt(C.toString(),10)].id||(0,t.isNullOrUndefined)(S)&&S===y[parseInt(C.toString(),10)].name){y[parseInt(C.toString(),10)].value="",y[parseInt(C.toString(),10)].signatureType="";var B=this.getAnnotationsFromCollections(y[parseInt(C.toString(),10)].id);this.updateInputFieldDivElement(B),g=this.modifyInCollections(B,"delete"),this.pdfViewer.annotation.addAction(B.pageIndex,null,B,"Delete","",g,B),this.pdfViewer.formDesignerModule&&f.formFieldAnnotationType?this.updateFormFieldCollection(B):this.updateAnnotationCollection(B),this.pdfViewer.remove(B)}this.pdfViewer.formDesignerModule&&f.formFieldAnnotationType?this.updateFormFieldCollection(d):this.updateAnnotationCollection(d)}this.pdfViewer.formDesignerModule&&f.formFieldAnnotationType?this.updateFormFieldCollection(d):this.updateAnnotationCollection(d);var I=this.pdfViewer.nameTable[d.id.split("_")[0]];if(null!=I&&("SignatureField"===I.formFieldAnnotationType||"InitialField"===I.formFieldAnnotationType)){var b;S=void 0;(b=this.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===d.id.split("_")[0]})))>-1&&(S=this.pdfViewer.formFieldCollections[parseInt(b.toString(),10)].name);for(var v=0;v<this.pdfViewer.formFieldCollections.length;v++)if(S===this.pdfViewer.formFieldCollections[parseInt(v.toString(),10)].name){var E=this.pdfViewer.formFieldCollections[parseInt(v.toString(),10)];this.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",E,E.pageIndex,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,E.value,""),E.value="",E.signatureType="",this.pdfViewer.formDesignerModule.updateFormFieldCollections(E);var x=this.getAnnotationsFromCollections(E.id+"_content");if(!(0,t.isNullOrUndefined)(x)){g=this.modifyInCollections(x,"delete"),this.pdfViewer.annotation.addAction(x.pageIndex,null,x,"Delete","",g,x),this.updateInputFieldDivElement(x);var _=this.pdfViewer.nameTable[x.id.split("_")[0]];_.wrapper.children.splice(_.wrapper.children.indexOf(x.wrapper.children[0]),1),this.pdfViewer.remove(x)}}}if(this.pdfViewer.remove(d),this.pdfViewer.renderDrawing(),this.pdfViewer.clearSelection(p),this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.pdfViewerBase.tool=null,this.pdfViewer.tool=null,"HandWrittenSignature"===f.shapeAnnotationType||"SignatureText"===f.shapeAnnotationType||"SignatureImage"===f.shapeAnnotationType||"Path"===f.shapeAnnotationType){var D={left:f.bounds.x,top:f.bounds.y,width:f.bounds.width,height:f.bounds.height};this.pdfViewer.fireSignatureRemove(p,f.id,f.shapeAnnotationType,D)}else this.pdfViewer.annotationModule&&this.pdfViewer.fireAnnotationRemove(p,m,w,f.bounds);this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.enableTextSelectionMode()}}this.updateToolbar(!0),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&!s&&(this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(!1,!0),this.pdfViewer.toolbarModule.annotationToolbarModule.enableTextMarkupAnnotationPropertiesTools(!1))},e.prototype.getAnnotationsFromCollections=function(e){var t=this.pdfViewer.annotations;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].id===e)return t[parseInt(i.toString(),10)];return null},e.prototype.updateInputFieldDivElement=function(e){var i=document.getElementById(e.id),n=document.getElementById(e.id+"_html_element");null!==i||(0,t.isNullOrUndefined)(n)||(i=n.children[0].children[0]),i&&i.classList.contains("e-pdfviewer-signatureformfields-signature")&&(i.className="e-pdfviewer-signatureformfields",i.style.pointerEvents="",i.parentElement.style.pointerEvents=""),this.pdfViewer.formDesignerModule?this.pdfViewer.formDesignerModule.updateSignatureValue(e.id):this.pdfViewer.formFieldsModule.updateDataInSession(i,"")},e.prototype.storeAnnotationCollections=function(e,i,n,o){if(this.isFormFieldShape){var r=this.checkFormDesignCollection(e);(a=C(e)).formFieldId=e.annotName,a.pageNumber=i,delete a.annotName,e.id&&(a.uniqueKey=e.id,delete a.id),r.isExisting?this.pdfViewer.formFieldCollection.splice(r.position,0,a):this.pdfViewer.formFieldCollection.push(a)}else{var a;r=this.checkAnnotationCollection(e);(a=C(e)).annotationId=e.annotName,a.pageNumber=i,delete a.annotName,"stamp"===e.shapeAnnotationType&&(a.uniqueKey=e.randomId,delete a.randomId),"sticky"===e.shapeAnnotationType&&(a.uniqueKey=e.annotName),e.id&&(a.uniqueKey=e.id,delete a.id),a.customData&&e.customData&&JSON.stringify(a.customData)!==JSON.stringify(e.customData)&&(a.customData=e.customData),r.isExisting?this.pdfViewer.annotationCollection.splice(r.position,0,a):!(0,t.isNullOrUndefined)(n)&&n?this.pdfViewer.annotationCollection.splice(o,0,a):this.pdfViewer.annotationCollection.push(a)}},e.prototype.checkFormDesignCollection=function(e){var t=this.pdfViewer.formFieldCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].formFieldId===e.annotName)return this.pdfViewer.formFieldCollection.splice(i,1),{isExisting:!0,position:i};return{isExisting:!1,position:null}},e.prototype.updateFormFieldCollection=function(e){var t=this.pdfViewer.formFieldCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].formFieldId===e.annotName){this.removedAnnotationCollection.push(t[parseInt(i.toString(),10)]),this.pdfViewer.formFieldCollection.splice(i,1);break}},e.prototype.getCustomData=function(e){var t;return e.ExistingCustomData&&!e.CustomData?t=JSON.parse(e.ExistingCustomData):null===e.CustomData?("sticky"===e.shapeAnnotationType&&(t=this.pdfViewer.stickyNotesSettings.customData),"Stamp"===e.shapeAnnotationType&&(t=this.pdfViewer.stampSettings.customData),"FreeText"===e.shapeAnnotationType&&(t=this.pdfViewer.freeTextSettings.customData),"shape"===e.id&&(t=this.getShapeData(e.ShapeAnnotationType,e.subject)),"measure"===e.id&&(t=this.getMeasureData(e.Subject)),"textMarkup"===e.shapeAnnotationType&&(t=this.getTextMarkupData(e.subject)),"Ink"===e.shapeAnnotationType&&(t=this.pdfViewer.inkAnnotationSettings.customData)):t="string"==typeof e.CustomData?JSON.parse(e.CustomData):e.customData,t},e.prototype.getShapeData=function(e,t){var i;return"Line"===e&&"Arrow"!==t&&this.pdfViewer.lineSettings.customData?i=this.pdfViewer.lineSettings.customData:"LineWidthArrowHead"!==e&&"Arrow"!==t||!this.pdfViewer.arrowSettings.customData?"Rectangle"!==e&&"Square"!==e||!this.pdfViewer.rectangleSettings.customData?"Ellipse"!==e&&"Circle"!==e||!this.pdfViewer.circleSettings.customData?"Polygon"===e&&this.pdfViewer.polygonSettings.customData?i=this.pdfViewer.polygonSettings.customData:this.pdfViewer.annotationSettings.customData&&(i=this.pdfViewer.annotationSettings.customData):i=this.pdfViewer.circleSettings.customData:i=this.pdfViewer.rectangleSettings.customData:i=this.pdfViewer.arrowSettings.customData,i},e.prototype.getMeasureData=function(e){var t;return"Distance"!==e&&"Distance calculation"!==e||!this.pdfViewer.distanceSettings.customData?"Line"!==e&&"Perimeter calculation"!==e||!this.pdfViewer.lineSettings.customData?"Polygon"!==e&&"Area calculation"!==e&&"Volume calculation"!==e||!this.pdfViewer.polygonSettings.customData?"Radius"!==e&&"Radius calculation"!==e||!this.pdfViewer.radiusSettings.customData?this.pdfViewer.annotationSettings.customData&&(t=this.pdfViewer.annotationSettings.customData):t=this.pdfViewer.radiusSettings.customData:t=this.pdfViewer.polygonSettings.customData:t=this.pdfViewer.lineSettings.customData:t=this.pdfViewer.distanceSettings.customData,t},e.prototype.getTextMarkupData=function(e){var t;return"Highlight"===e&&this.pdfViewer.highlightSettings.customData?t=this.pdfViewer.highlightSettings.customData:"Underline"===e&&this.pdfViewer.underlineSettings.customData?t=this.pdfViewer.underlineSettings.customData:"Strikethrough"===e&&this.pdfViewer.strikethroughSettings.customData?t=this.pdfViewer.strikethroughSettings.customData:this.pdfViewer.annotationSettings.customData&&(t=this.pdfViewer.annotationSettings.customData),t},e.prototype.getData=function(e){var t;return"FreeText"===e&&this.pdfViewer.freeTextSettings.customData?t=this.pdfViewer.freeTextSettings.customData:"image"!==e&&"Stamp"!==e||!this.pdfViewer.stampSettings.customData?"sticky"===e&&this.pdfViewer.stickyNotesSettings.customData?t=this.pdfViewer.stickyNotesSettings.customData:this.pdfViewer.annotationSettings.customData&&(t=this.pdfViewer.annotationSettings.customData):t=this.pdfViewer.stampSettings.customData,t},e.prototype.clearAnnotationStorage=function(){var e=sd.sessionStorageManager.getWindowSessionStorageSize(),t=4500;if((this.pdfViewerBase.isDeviceiOS||this.pdfViewerBase.isMacSafari)&&(t=2e3),e>t){for(var i=sd.sessionStorageManager.getSessionLength(),n=[],o=0;o<i;o++)sd.sessionStorageManager.getKey(o)&&sd.sessionStorageManager.getKey(o).split("_")[3]&&"annotations"===sd.sessionStorageManager.getKey(o).split("_")[3]&&(this.pdfViewerBase.annotationStorage[sd.sessionStorageManager.getKey(o)]=sd.sessionStorageManager.getItem(sd.sessionStorageManager.getKey(o)),n.push(sd.sessionStorageManager.getKey(o)));if(n)for(o=0;o<n.length;o++)sd.sessionStorageManager.removeItem(n[parseInt(o.toString(),10)])}},e.prototype.checkAnnotationCollection=function(e){var t=this.pdfViewer.annotationCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId===e.annotName)return this.pdfViewer.annotationCollection.splice(i,1),{isExisting:!0,position:i};return{isExisting:!1,position:null}},e.prototype.updateAnnotationCollection=function(e){var t=this.pdfViewer.annotationCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId===e.annotName||t[parseInt(i.toString(),10)].annotationId===e.annotationId){this.removedAnnotationCollection.push(t[parseInt(i.toString(),10)]),this.pdfViewer.annotationCollection.splice(i,1);break}},e.prototype.updateImportAnnotationCollection=function(e,i,n){this.pdfViewerBase.isImportAction&&(this.pdfViewerBase.importedAnnotation&&this.pdfViewerBase.importedAnnotation[parseInt(i.toString(),10)]&&(this.pdfViewerBase.importedAnnotation[parseInt(i.toString(),10)][""+n]&&!(0,t.isNullOrUndefined)(this.pdfViewerBase.importedAnnotation[parseInt(i.toString(),10)].annotationOrder)&&(this.pdfViewerBase.importedAnnotation[parseInt(i.toString(),10)].annotationOrder=this.pdfViewerBase.importedAnnotation[parseInt(i.toString(),10)].annotationOrder.filter((function(t){return!(e.annotName===t.AnnotName||e.annotName===t.annotName)}))),(0,t.isNullOrUndefined)(this.pdfViewerBase.importedAnnotation)||(0,t.isNullOrUndefined)(this.pdfViewerBase.importedAnnotation[parseInt(i.toString(),10)])||(0,t.isNullOrUndefined)(this.pdfViewerBase.importedAnnotation[parseInt(i.toString(),10)][""+n])||(this.pdfViewerBase.importedAnnotation[parseInt(i.toString(),10)][""+n]=this.pdfViewerBase.importedAnnotation[parseInt(i.toString(),10)][""+n].filter((function(t){return e.annotName!==t.AnnotName})))));var o=this.pdfViewerBase.documentAnnotationCollections;if(o&&o[parseInt(i.toString(),10)]){var r=o[parseInt(i.toString(),10)];if(r&&r[""+n])for(var a=0;a<r[""+n].length;a++)if(e.annotName===r[""+n][parseInt(a.toString(),10)].AnnotName){this.pdfViewerBase.documentAnnotationCollections[parseInt(i.toString(),10)][""+n].splice(a,1);break}}},e.prototype.selectAnnotation=function(e){var i,n;if("object"==typeof e&&(n=(i=e).annotationId,i=this.getAnnotationsFromAnnotationCollections(n)),"string"==typeof e&&(i=this.getAnnotationsFromAnnotationCollections(e),n=e),i){var o,r=(0,t.isNullOrUndefined)(i.pageNumber)?i.pageIndex:i.pageNumber;o=this.findRenderPageList(r);var a=this.pdfViewer.annotationSelectorSettings;if(i&&r>=0){if("textMarkup"===i.shapeAnnotationType)if(i.rect||i.bounds){var s=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].top*this.pdfViewerBase.getZoomFactor()+this.getAnnotationTop(i)*this.pdfViewerBase.getZoomFactor();if(!this.isAnnotDeletionApiCall){var l=(s-20).toString();this.pdfViewerBase.viewerContainer.scrollTop=parseInt(l,10),this.pdfViewerBase.viewerContainer.scrollLeft=this.getAnnotationLeft(i)*this.pdfViewerBase.getZoomFactor()}}else this.pdfViewer.navigation&&this.pdfViewer.navigation.goToPage(r+1);else if(i.bounds){s=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].top*this.pdfViewerBase.getZoomFactor()+i.bounds.top*this.pdfViewerBase.getZoomFactor();var d=i.bounds.left*this.pdfViewerBase.getZoomFactor();if("Ink"===i.shapeAnnotationType&&(s=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)].top*this.pdfViewerBase.getZoomFactor()+i.bounds.y*this.pdfViewerBase.getZoomFactor(),d=i.bounds.x*this.pdfViewerBase.getZoomFactor()),!this.isAnnotDeletionApiCall){var h=(s-20).toString();this.pdfViewerBase.viewerContainer.scrollTop=parseInt(h,10),this.pdfViewerBase.viewerContainer.scrollLeft=d}}else this.pdfViewer.navigation&&this.pdfViewer.navigation.goToPage(r+1);if(o){if(this.previousIndex&&this.pdfViewer.clearSelection(this.previousIndex),this.pdfViewer.clearSelection(r),this.previousIndex=r,"textMarkup"===i.shapeAnnotationType){this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearCurrentAnnotationSelection(r,!0);var A=this.pdfViewerBase.getElement("_annotationCanvas_"+r),p=this.getTextMarkupAnnotations(r,i);p&&(this.textMarkupAnnotationModule.currentTextMarkupAnnotation=null,this.textMarkupAnnotationModule.isSelectedAnnotation=!0,this.textMarkupAnnotationModule.showHideDropletDiv(!0),this.textMarkupAnnotationModule.annotationClickPosition=null,this.textMarkupAnnotationModule.selectAnnotation(p,A,r,null,!0),this.textMarkupAnnotationModule.currentTextMarkupAnnotation=p,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage=r,this.textMarkupAnnotationModule.enableAnnotationPropertiesTool(!0),this.textMarkupAnnotationModule.isSelectedAnnotation=!1,this.pdfViewer.toolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem)))}else"stamp"===i.shapeAnnotationType||"stamp"===i.ShapeAnnotationType?(this.pdfViewer.select([i.uniqueKey],a),this.pdfViewer.annotation.onAnnotationMouseDown()):"sticky"===i.shapeAnnotationType||"sticky"===i.ShapeAnnotationType?(this.pdfViewer.select([i.annotationId],a),this.pdfViewer.annotation.onAnnotationMouseDown()):(this.pdfViewer.select([i.uniqueKey],a),this.pdfViewer.annotation.onAnnotationMouseDown());var c=document.getElementById(this.pdfViewer.element.id+"_commantPanel");if(c&&"block"===c.style.display){var g=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+this.pdfViewer.currentPageNumber);g&&g.ej2_instances[0].expandItem(!0);var u=document.getElementById(n);u&&(u.classList.contains("e-pv-comments-border")||u.firstChild.click())}}else(i.uniqueKey||"textMarkup"===i.shapeAnnotationType&&"Imported Annotation"===i.annotationAddMode)&&(this.selectAnnotationId=n,this.isAnnotationSelected=!0,this.annotationPageIndex=r,this.selectAnnotationFromCodeBehind())}if(!o&&!i.uniqueKey){var f=this.updateCollectionForNonRenderedPages(i,n,r);f.pageIndex=r,this.pdfViewer.annotation.addAction(r,null,f,"Delete","",f,f),this.undoCommentsElement.push(f);var m=document.getElementById(i.annotationId);this.removeCommentPanelDiv(m)}}},e.prototype.updateCollectionForNonRenderedPages=function(e,t,i){var n,o=this.pdfViewer.annotationCollection;if(o.length){var r=o.filter((function(e){return e.annotationId===t}));n=r[0],this.updateAnnotationCollection(r[0])}var a=this.getTypeOfAnnotation(e),s=this.pdfViewerBase.documentAnnotationCollections[parseInt(i.toString(),10)];if(s[""+a].length)for(var l=0;l<s[""+a].length;l++)if(s[""+a][parseInt(l.toString(),10)].AnnotName===e.annotationId){var d=s[""+a][parseInt(l.toString(),10)];this.removedDocumentAnnotationCollection.push(d),s[""+a].splice(l,1);break}return n},e.prototype.getTypeOfAnnotation=function(e){var t;return e.id&&"shape"===e.id.toLowerCase()?t="shapeAnnotation":e.id&&"measure"===e.id.toLowerCase()?t="measureShapeAnnotation":e.id&&"freetext"===e.id.toLowerCase()?t="freeTextAnnotation":e.shapeAnnotationType&&"textmarkup"===e.shapeAnnotationType.toLowerCase()?t="textMarkupAnnotation":e.shapeAnnotationType&&"stamp"===e.shapeAnnotationType.toLowerCase()?t="stampAnnotations":e.shapeAnnotationType&&"ink"===e.shapeAnnotationType.toLowerCase()?t="signatureInkAnnotation":e.shapeAnnotationType&&"sticky"===e.shapeAnnotationType.toLowerCase()&&(t="stickyNotesAnnotation"),t},e.prototype.removeCommentPanelDiv=function(e){e&&(1===e.parentElement.childElementCount?this.stickyNotesAnnotationModule.updateAccordionContainer(e):e.remove())},e.prototype.clearSelection=function(){if(this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.currentTextMarkupAnnotation)this.textMarkupAnnotationModule.clearCurrentSelectedAnnotation(),this.textMarkupAnnotationModule.clearCurrentAnnotationSelection(this.textMarkupAnnotationModule.selectTextMarkupCurrentPage);else if(this.pdfViewer.selectedItems&&this.pdfViewer.selectedItems.annotations[0]){var e=this.pdfViewer.selectedItems.annotations[0];this.pdfViewer.clearSelection(e.pageIndex)}else this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber-1)},e.prototype.getAnnotationTop=function(e){return e.rect&&(e.rect.Top||e.rect.top)?e.rect.Top||e.rect.top:e.bounds[0].Top||e.bounds[0].top},e.prototype.getAnnotationLeft=function(e){return e.rect?e.rect.Left?e.rect.Left:e.rect.left:e.bounds[0].Left?e.bounds[0].Left:e.bounds[0].left},e.prototype.selectAnnotationFromCodeBehind=function(){if(this.isAnnotationSelected&&this.selectAnnotationId){var e=this.getAnnotationsFromAnnotationCollections(this.selectAnnotationId),t=this.selectAnnotationId,i=e.pageNumber,n=this.pdfViewer.annotationSelectorSettings;if(e&&this.annotationPageIndex>=0&&this.annotationPageIndex===i){if(this.previousIndex&&this.pdfViewer.clearSelection(this.previousIndex),this.pdfViewer.clearSelection(i),this.previousIndex=i,"textMarkup"===e.shapeAnnotationType){this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearCurrentAnnotationSelection(i,!0);var o=this.pdfViewerBase.getElement("_annotationCanvas_"+i),r=this.getTextMarkupAnnotations(i,e);r&&(this.textMarkupAnnotationModule.currentTextMarkupAnnotation=null,this.textMarkupAnnotationModule.isSelectedAnnotation=!0,this.textMarkupAnnotationModule.showHideDropletDiv(!0),this.textMarkupAnnotationModule.annotationClickPosition=null,this.textMarkupAnnotationModule.selectAnnotation(r,o,i),this.textMarkupAnnotationModule.currentTextMarkupAnnotation=r,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage=i,this.textMarkupAnnotationModule.enableAnnotationPropertiesTool(!0),this.textMarkupAnnotationModule.isSelectedAnnotation=!1,this.pdfViewer.toolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem)))}else"stamp"===e.shapeAnnotationType||"stamp"===e.ShapeAnnotationType?(this.pdfViewer.select([e.uniqueKey],n),this.pdfViewer.annotation.onAnnotationMouseDown()):"sticky"===e.shapeAnnotationType||"sticky"===e.ShapeAnnotationType?(this.pdfViewer.select([e.annotationId],n),this.pdfViewer.annotation.onAnnotationMouseDown()):e.uniqueKey?(this.pdfViewer.select([e.uniqueKey],n),this.pdfViewer.annotation.onAnnotationMouseDown()):(this.pdfViewer.select([e.annotationId],n),this.pdfViewer.annotation.onAnnotationMouseDown());var a=document.getElementById(this.pdfViewer.element.id+"_commantPanel");if(a&&"block"===a.style.display){var s=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+this.pdfViewer.currentPageNumber);s&&s.ej2_instances[0].expandItem(!0);var l=document.getElementById(t);l&&(l.classList.contains("e-pv-comments-border")||l.firstChild.click())}}this.isAnnotationSelected=!1,this.selectAnnotationId=null,this.annotationPageIndex=null}},e.prototype.findRenderPageList=function(e){var t=!1,i=this.pdfViewerBase.renderedPagesList;if(i)for(var n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)]===e)return t=!0;return t},e.prototype.getAnnotationsFromAnnotationCollections=function(e){var t=this.pdfViewer.annotationCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId===e)return t[parseInt(i.toString(),10)];0===this.pdfViewer.selectedItems.annotations.length&&this.pdfViewer.selectedItems.annotations.push(this.pdfViewer.nameTable[""+e])},e.prototype.getTextMarkupAnnotations=function(e,t){var i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_textMarkup");if(this.pdfViewerBase.isStorageExceed&&(i=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_textMarkup"]),i){var n=JSON.parse(i),o=this.getPageCollection(n,e);if(null!=o&&n[parseInt(o.toString(),10)]){for(var r=0;r<n[parseInt(o.toString(),10)].annotations.length;r++)if(n[parseInt(o.toString(),10)].annotations[parseInt(r.toString(),10)].annotName===t.annotationId)return n[parseInt(o.toString(),10)].annotations[parseInt(r.toString(),10)];return null}return null}return null},e.prototype.getAnnotationType=function(e,i){var n;if(""===i||(0,t.isNullOrUndefined)(i))switch(e){case"Line":n="Line";break;case"LineWidthArrowHead":n="Arrow";break;case"Rectangle":n="Rectangle";break;case"Ellipse":n="Circle";break;case"Polygon":n="Polygon";break;case"Stamp":n="Stamp";break;case"Image":n="Image";break;case"FreeText":n="FreeText";break;case"Ink":n="Ink";break;case"StickyNotes":n="StickyNotes"}else switch(i){case"Distance":n="Distance";break;case"Perimeter":n="Perimeter";break;case"Area":n="Area";break;case"Radius":n="Radius";break;case"Volume":n="Volume"}return n},e.prototype.getAnnotationIndex=function(e,t){for(var i=this.pdfViewer.drawing.getPageObjects(e),n=null,o=0;o<i.length;o++)if(i[parseInt(o.toString(),10)].id===t){n=o;break}return n},e.prototype.initializeCollection=function(){this.actionCollection=[],this.redoCollection=[],this.popupNote||this.createNote()},e.prototype.showCommentsPanel=function(){if(this.pdfViewer.enableCommentPanel){var e=document.getElementById(this.pdfViewer.element.id+"_commantPanel");if(e&&"none"===e.style.display){if(e.style.display="block",t.Browser.isDevice&&!(0,t.isBlazor)())document.getElementById(this.pdfViewer.element.id+"_viewerMainContainer").insertBefore(this.pdfViewerBase.navigationPane.commentPanelContainer,this.pdfViewer.toolbarModule.toolbarElement);this.pdfViewerBase.navigationPane.commentPanelResizer&&(this.pdfViewerBase.navigationPane.commentPanelResizer.style.display="block"),this.pdfViewerBase.navigationPane.setCommentPanelResizeIconTop(),this.pdfViewer.annotation.stickyNotesAnnotationModule.updateCommentPanelTextTop();var i=document.getElementById(this.pdfViewer.element.id+"_viewerContainer"),n=document.getElementById(this.pdfViewer.element.id+"_pageViewContainer");if(i&&(this.pdfViewer.enableRtl?i.style.left=this.pdfViewerBase.navigationPane.getViewerContainerRight()+"px":i.style.right=this.pdfViewerBase.navigationPane.getViewerContainerRight()+"px",i.style.width=this.pdfViewer.element.clientWidth-this.pdfViewerBase.navigationPane.getViewerContainerLeft()-this.pdfViewerBase.navigationPane.getViewerContainerRight()+"px",n.style.width=i.offsetWidth-this.pdfViewerBase.navigationPane.getViewerContainerScrollbarWidth()+"px"),this.pdfViewerBase.updateZoomValue(),this.pdfViewer.annotation&&this.pdfViewer.annotation.textMarkupAnnotationModule&&this.pdfViewer.annotation.textMarkupAnnotationModule.showHideDropletDiv(!0),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&!(0,t.isBlazor)()){if(e.style.height=this.pdfViewerBase.viewerMainContainer.clientHeight+"px",this.pdfViewer.selectedItems.annotations.length>0){var o=document.getElementById(this.pdfViewer.selectedItems.annotations[0].annotName);o&&o.lastElementChild.children[1]&&o.lastElementChild.children[1].ej2_instances?o.lastElementChild.children[1].ej2_instances[0].enableEditMode=!0:o&&o.lastElementChild.ej2_instances&&(o.lastElementChild.ej2_instances[0].enableEditMode=!0,o.lastElementChild.style.display="block",o.lastElementChild.children[1]&&(o.lastElementChild.children[1].style.display="block"))}this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.element.style.display="none",this.pdfViewer.toolbarModule.annotationToolbarModule.propertyToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.propertyToolbar.element.style.display="none"))}(0,t.isNullOrUndefined)(this.pdfViewerBase.navigationPane)||this.pdfViewerBase.navigationPane.calculateCommentPanelWidth()}}},e.prototype.addAction=function(e,t,i,n,o,r,a){var s={pageIndex:e,index:t,annotation:i,action:n,modifiedProperty:o,undoElement:r,redoElement:a};this.actionCollection.push(s),this.updateToolbar()},e.prototype.undo=function(){var e=this,n=this.actionCollection.pop();if(n){var o=n.annotation.shapeAnnotationType;switch(this.isUndoRedoAction=!0,this.isUndoAction=!0,n.action){case"Text Markup Added":case"Text Markup Deleted":this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.undoTextMarkupAction(n.annotation,n.pageIndex,n.index,n.action);break;case"Text Markup Property modified":this.textMarkupAnnotationModule&&(n.annotation=this.textMarkupAnnotationModule.undoRedoPropertyChange(n.annotation,n.pageIndex,n.index,n.modifiedProperty,!0));break;case"Drag":case"Resize":c(n.annotation)?this.pdfViewer.nodePropertyChange(n.annotation,{bounds:n.undoElement.bounds,vertexPoints:n.undoElement.vertexPoints,leaderHeight:n.undoElement.leaderHeight}):this.pdfViewer.nodePropertyChange(n.annotation,{bounds:n.undoElement.bounds}),"Distance"!==n.annotation.measureType&&"Perimeter"!==n.annotation.measureType&&"Area"!==n.annotation.measureType&&"Radius"!==n.annotation.measureType&&"Volume"!==n.annotation.measureType||(this.pdfViewer.nodePropertyChange(n.annotation,{notes:n.undoElement.notes}),this.updateCalibrateValues(n.annotation)),n.annotation.formFieldAnnotationType&&this.pdfViewer.formDesigner.updateHTMLElement(n.annotation),this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.pdfViewer.select([n.annotation.id]),"Line"!==n.annotation.shapeAnnotationType&&"Rectangle"!==n.annotation.shapeAnnotationType&&"Ellipse"!==n.annotation.shapeAnnotationType&&"Polygon"!==n.annotation.shapeAnnotationType&&"LineWidthArrowHead"!==n.annotation.shapeAnnotationType&&"Radius"!==n.annotation.shapeAnnotationType&&"FreeText"!==n.annotation.shapeAnnotationType&&"HandWrittenSignature"!==n.annotation.shapeAnnotationType&&"SignatureText"!==n.annotation.shapeAnnotationType&&"SignatureImage"!==n.annotation.shapeAnnotationType&&"Ink"!==n.annotation.shapeAnnotationType||this.modifyInCollections(n.annotation,"bounds");break;case"Addition":if(this.pdfViewer.formDesigner&&n.annotation.formFieldAnnotationType)this.pdfViewer.formDesigner.deleteFormField(n.undoElement.id,!1);else{var r=!1;if("Line"===o||"LineWidthArrowHead"===o||"Polygon"===o||"Ellipse"===o||"Rectangle"===o||"Radius"===o||"Distance"===o){""===n.annotation.measureType||(0,t.isNullOrUndefined)(n.annotation.measureType)?this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(n.annotation,"shape",null,!0):this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(n.annotation,"measure",null,!0),r=!0;var a=n.annotation,s=a.wrapper?a.wrapper:null;s&&s.bounds&&(n.annotation.bounds=s.bounds),n.duplicate=this.modifyInCollections(n.annotation,"delete")}"Stamp"!==o&&"Image"!==o||(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(n.annotation,n.annotation.shapeAnnotationType,"delete",!0),this.stampAnnotationModule.updateSessionStorage(n.annotation,null,"delete"),n.duplicate=this.modifyInCollections(n.annotation,"delete"),r=!0),"FreeText"!==o&&"HandWrittenSignature"!==o&&"SignatureImage"!==o&&"SignatureText"!==o&&"Ink"!==o||(r=!0,this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(n.annotation,n.annotation.shapeAnnotationType,"delete",!0),n.duplicate=this.modifyInCollections(n.annotation,"delete")),r||this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(n.annotation,n.annotation.shapeAnnotationType,"delete",!0),this.pdfViewer.clearSelection((0,t.isNullOrUndefined)(this.pdfViewerBase.activeElements.activePageID)||isNaN(this.pdfViewerBase.activeElements.activePageID)?n.annotation.pageIndex:this.pdfViewerBase.activeElements.activePageID),this.pdfViewer.remove(n.annotation);this.pdfViewer.annotationCollection.filter((function(t){var i=t.annotationId!==n.annotation.annotName;if(i){var o=document.getElementById(t.annotName);o&&(1===o.parentElement.childElementCount?e.stickyNotesAnnotationModule.updateAccordionContainer(o):o.parentElement.removeChild(o))}return!i}));this.pdfViewer.renderDrawing(null,n.annotation.pageIndex);var l=document.getElementById(n.annotation.annotName);if(l&&(1===l.parentElement.childElementCount?this.stickyNotesAnnotationModule.updateAccordionContainer(l):l.parentElement.removeChild(l)),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode){var d=document.getElementById(this.pdfViewer.element.id+"_propertyToolbar");d&&d.children.length>0&&(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbarCreated=!1,this.pdfViewer.toolbarModule.annotationToolbarModule.createAnnotationToolbarForMobile())}}break;case"Delete":if(this.pdfViewer.formDesigner&&n.annotation.formFieldAnnotationType)n.undoElement.bounds.x=n.undoElement.wrapper.bounds.x,n.undoElement.bounds.y=n.undoElement.wrapper.bounds.y,this.pdfViewer.formDesigner.drawFormField(n.undoElement);else{if("Line"!==o&&"LineWidthArrowHead"!==o&&"Polygon"!==o&&"Ellipse"!==o&&"Rectangle"!==o&&"Radius"!==o&&"Distance"!==o||(""===n.annotation.measureType||(0,t.isNullOrUndefined)(n.annotation.measureType)?(o="shape",this.shapeAnnotationModule.addInCollection(n.annotation.pageIndex,n.undoElement)):(o="shape_measure",this.measureAnnotationModule.addInCollection(n.annotation.pageIndex,n.undoElement))),"Stamp"===o||"Image"===o?this.stampAnnotationModule.updateDeleteItems(n.annotation.pageIndex,n.annotation):"FreeText"===o?this.freeTextAnnotationModule.addInCollection(n.annotation.pageIndex,n.undoElement):"Ink"===o?this.inkAnnotationModule.addInCollection(n.annotation.pageIndex,n.undoElement):"HandWrittenSignature"!==o&&"SignatureText"!==o&&"SignatureImage"!==o||this.pdfViewerBase.signatureModule.addInCollection(n.annotation.pageIndex,n.undoElement),!n.annotation.annotationId){var h=this.pdfViewer.add(n.annotation);("FreeText"===o||h.enableShapeLabel)&&h&&this.pdfViewer.nodePropertyChange(h,{})}var A=void 0;if(n.annotation.id&&(A=this.pdfViewer.nameTable[n.annotation.id.split("_")[0]]),null!=A&&("SignatureField"===A.formFieldAnnotationType||"InitialField"===A.formFieldAnnotationType)){A.wrapper.children.push(n.annotation.wrapper.children[0]),"SignatureText"===n.annotation.shapeAnnotationType&&A.wrapper.children.push(n.annotation.wrapper.children[1]);var p=n.annotation.id.split("_")[0]+"_content",g=null;if(this.pdfViewer.formDesignerModule&&(g=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner")),g){for(var u=JSON.parse(g),f=0;f<u.length;f++)if(u[parseInt(f.toString(),10)].Key===p)if("SignatureText"===n.annotation.shapeAnnotationType)u[parseInt(f.toString(),10)].FormField.signatureType="Text",u[parseInt(f.toString(),10)].FormField.value=n.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.value=n.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.signatureType="Text";else if("SignatureImage"===n.annotation.shapeAnnotationType)u[parseInt(f.toString(),10)].FormField.signatureType="Image",u[parseInt(f.toString(),10)].FormField.value=n.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.value=n.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.signatureType="Image";else{u[parseInt(f.toString(),10)].FormField.signatureType="Path",this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.signatureType="Path";var m=(0,i.processPathData)(n.annotation.data),w=(0,i.splitArrayCollection)(m);u[parseInt(f.toString(),10)].FormField.value=JSON.stringify(w),this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.value=JSON.stringify(w)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}if(this.pdfViewer.renderDrawing(null,n.annotation.pageIndex),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addAnnotationComments(n.annotation.pageIndex,o,!0),n.annotation.annotationId){var y=this.removedAnnotationCollection[this.removedAnnotationCollection.length-1],S=this.getTypeOfAnnotation(y);this.pdfViewer.annotationCollection.push(y),this.removedAnnotationCollection.splice(this.removedAnnotationCollection.length-1);var C=n.annotation.pageNumber>=0?n.annotation.pageNumber:n.annotation.pageIndex;this.pdfViewerBase.documentAnnotationCollections[parseInt(C.toString(),10)][""+S].push(this.removedDocumentAnnotationCollection[this.removedDocumentAnnotationCollection.length-1]),this.removedDocumentAnnotationCollection.splice(this.removedDocumentAnnotationCollection.length-1)}}break;case"stampOpacity":this.pdfViewer.nodePropertyChange(n.annotation,{opacity:n.undoElement.opacity}),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n.annotation,null,!0),n.annotation.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();break;case"Shape Stroke":this.pdfViewer.nodePropertyChange(n.annotation,{strokeColor:n.undoElement.strokeColor}),this.modifyInCollections(n.annotation,"stroke"),this.pdfViewer.renderDrawing();break;case"Shape Fill":this.pdfViewer.nodePropertyChange(n.annotation,{fillColor:n.undoElement.fillColor}),this.modifyInCollections(n.annotation,"fill"),this.pdfViewer.renderDrawing();break;case"Shape Opacity":this.pdfViewer.nodePropertyChange(n.annotation,{opacity:n.undoElement.opacity}),"StickyNotes"===n.annotation.shapeAnnotationType?(this.stickyNotesAnnotationModule.updateOpacityValue(n.annotation),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n.annotation,null,!0),n.annotation.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()):this.modifyInCollections(n.annotation,"opacity"),this.pdfViewer.renderDrawing();break;case"Shape Thickness":this.pdfViewer.nodePropertyChange(n.annotation,{thickness:n.undoElement.thickness}),this.modifyInCollections(n.annotation,"thickness"),this.pdfViewer.renderDrawing();break;case"Line properties change":this.pdfViewer.nodePropertyChange(n.annotation,{fillColor:n.undoElement.fillColor,borderDashArray:n.undoElement.borderDashArray,borderStyle:n.undoElement.borderStyle,strokeColor:n.undoElement.strokeColor,opacity:n.undoElement.opacity,thickness:n.undoElement.thickness,sourceDecoraterShapes:this.getArrowType(n.undoElement.lineHeadStart),taregetDecoraterShapes:this.getArrowType(n.undoElement.lineHeadEnd)}),this.updateCollectionForLineProperty(n.annotation),this.pdfViewer.renderDrawing();break;case"Text Property Added":n.annotation=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.undoAction(n.annotation,n.action,n.undoElement),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n.annotation,null,!0),n.annotation.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();break;case"Comments Property Added":case"Status Property Added":case"Comments Reply Deleted":n.annotation=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.undoAction(n.annotation,n.action,n.undoElement);break;case"dynamicText Change":this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!0,n.annotation.dynamicText=n.undoElement.dynamicText,this.pdfViewer.selectedItems.annotations[0]&&(this.pdfViewer.selectedItems.annotations[0].dynamicText=n.undoElement.dynamicText),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.undoAction(n.annotation,n.action,n.undoElement),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n.annotation,null,!0),this.modifyInCollections(n.annotation,"dynamicText"),this.pdfViewer.selectedItems.annotations[0]?this.pdfViewer.nodePropertyChange(this.pdfViewer.selectedItems.annotations[0],{}):this.pdfViewer.nodePropertyChange(n.annotation,{}),this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!1,this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID);break;case"fontColor":this.pdfViewer.nodePropertyChange(n.annotation,{fontColor:n.undoElement.fontColor}),this.modifyInCollections(n.annotation,"fontColor"),this.pdfViewer.renderDrawing();break;case"fontSize":this.isFreeTextFontsizeChanged=!0,this.pdfViewer.nodePropertyChange(n.annotation,{fontSize:n.undoElement.fontSize}),this.modifyInCollections(n.annotation,"fontSize"),this.pdfViewer.renderDrawing();break;case"fontFamily":this.pdfViewer.nodePropertyChange(n.annotation,{fontFamily:n.undoElement.fontFamily}),this.modifyInCollections(n.annotation,"fontFamily"),this.pdfViewer.renderDrawing();break;case"textAlign":this.pdfViewer.nodePropertyChange(n.annotation,{textAlign:n.undoElement.textAlign}),this.modifyInCollections(n.annotation,"textAlign"),this.pdfViewer.renderDrawing();break;case"textPropertiesChange":this.pdfViewer.nodePropertyChange(n.annotation,{font:n.undoElement.font}),this.modifyInCollections(n.annotation,"textPropertiesChange"),this.pdfViewer.renderDrawing();break;case"Rotate":this.pdfViewer.nodePropertyChange(n.annotation.annotations[0],{bounds:n.undoElement.bounds,rotateAngle:n.undoElement.rotateAngle}),this.modifyInCollections(n.annotation.annotations[0],"bounds"),this.pdfViewer.renderDrawing();break;case"FormDesigner Properties Change":n.undoElement&&n.undoElement.isMultiline!==n.redoElement.isMultiline&&this.undoRedoMultiline(n.undoElement),this.updateFormFieldPropertiesChanges(n.undoElement.formFieldAnnotationType,n.undoElement);break;case"FormField Value Change":if(n.annotation.formFieldAnnotationType)"RadioButton"===n.annotation.formFieldAnnotationType?(this.updateFormFieldValueChange(n.annotation.formFieldAnnotationType,n.undoElement,!1),this.updateFormFieldValueChange(n.annotation.formFieldAnnotationType,n.redoElement,!0)):this.updateFormFieldValueChange(n.annotation.formFieldAnnotationType,n.annotation,n.undoElement);else{document.getElementById(n.annotation.id+"_html_element").children[0].children[0].className="e-pdfviewer-signatureformfields";A=this.pdfViewer.nameTable[n.annotation.id.split("_")[0]];var B=this.pdfViewer.nameTable[n.annotation.id];A.wrapper.children.splice(A.wrapper.children.indexOf(B.wrapper.children[0]),1),"SignatureText"===n.annotation.shapeAnnotationType&&A.wrapper.children.splice(A.wrapper.children.indexOf(B.wrapper.children[1]),1);p=n.annotation.id.split("_")[0]+"_content",g=null;if(this.pdfViewer.formDesignerModule&&(g=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner")),g){for(u=JSON.parse(g),f=0;f<u.length;f++)u[parseInt(f.toString(),10)].Key===p&&(u[parseInt(f.toString(),10)].FormField.value="",u[parseInt(f.toString(),10)].FormField.signatureType="",this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.value="",this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.signatureType="");this.pdfViewer.remove(n.annotation),this.pdfViewer.renderDrawing(),this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}}this.redoCollection.push(n),this.updateToolbar(),this.isUndoRedoAction=!1,this.isUndoAction=!1}},e.prototype.redo=function(){var e=this.redoCollection.pop(),n=this.pdfViewer.nameTable[e.annotation.id];if(e){var o=e.annotation.shapeAnnotationType;switch(this.isUndoRedoAction=!0,e.action){case"Text Markup Property modified":this.textMarkupAnnotationModule&&(e.annotation=this.textMarkupAnnotationModule.undoRedoPropertyChange(e.annotation,e.pageIndex,e.index,e.modifiedProperty));break;case"Text Markup Added":case"Text Markup Deleted":this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.redoTextMarkupAction(e.annotation,e.pageIndex,e.index,e.action);break;case"Drag":case"Resize":c(e.annotation)?this.pdfViewer.nodePropertyChange(n,{bounds:e.redoElement.bounds,vertexPoints:e.redoElement.vertexPoints,leaderHeight:e.redoElement.leaderHeight}):this.pdfViewer.nodePropertyChange(n,{bounds:e.redoElement.bounds}),"Distance"!==e.annotation.measureType&&"Perimeter"!==e.annotation.measureType&&"Area"!==e.annotation.measureType&&"Radius"!==e.annotation.measureType&&"Volume"!==e.annotation.measureType||(this.pdfViewer.nodePropertyChange(n,{notes:e.redoElement.notes}),this.updateCalibrateValues(n)),e.annotation.formFieldAnnotationType&&this.pdfViewer.formDesigner.updateHTMLElement(e.annotation),this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.pdfViewer.select([n.id]),"Line"!==e.annotation.shapeAnnotationType&&"Rectangle"!==e.annotation.shapeAnnotationType&&"Ellipse"!==e.annotation.shapeAnnotationType&&"Polygon"!==e.annotation.shapeAnnotationType&&"LineWidthArrowHead"!==e.annotation.shapeAnnotationType&&"Radius"!==e.annotation.shapeAnnotationType&&"FreeText"!==e.annotation.shapeAnnotationType&&"HandWrittenSignature"!==e.annotation.shapeAnnotationType&&"SignatureText"!==e.annotation.shapeAnnotationType&&"SignatureImage"!==e.annotation.shapeAnnotationType&&"Ink"!==e.annotation.shapeAnnotationType||this.modifyInCollections(n,"bounds");break;case"Addition":if(this.pdfViewer.formDesigner&&e.annotation.formFieldAnnotationType)e.redoElement.bounds.x=e.redoElement.wrapper.bounds.x,e.redoElement.bounds.y=e.redoElement.wrapper.bounds.y,this.pdfViewer.formDesigner.drawFormField(e.redoElement);else{"Line"!==o&&"LineWidthArrowHead"!==o&&"Polygon"!==o&&"Ellipse"!==o&&"Rectangle"!==o&&"Radius"!==o&&"Distance"!==o||(""===e.annotation.measureType||(0,t.isNullOrUndefined)(e.annotation.measureType)?(o="shape",this.shapeAnnotationModule.addInCollection(e.annotation.pageIndex,e.duplicate)):(o="shape_measure",this.measureAnnotationModule.addInCollection(e.annotation.pageIndex,e.duplicate))),"FreeText"===o&&this.freeTextAnnotationModule.addInCollection(e.annotation.pageIndex,e.duplicate),"Stamp"!==o&&"Image"!==o||this.stampAnnotationModule.updateDeleteItems(e.annotation.pageIndex,e.redoElement),"HandWrittenSignature"!==o&&"SignatureText"!==o&&"SignatureImage"!==o||this.pdfViewerBase.signatureModule.addInCollection(e.annotation.pageIndex,e.duplicate),"Ink"===o&&this.inkAnnotationModule.addInCollection(e.annotation.pageIndex,e.duplicate);var r=this.pdfViewer.add(e.annotation);if(this.pdfViewer.select([e.annotation.id]),("FreeText"===o||r.enableShapeLabel)&&r&&this.pdfViewer.nodePropertyChange(r,{}),this.pdfViewer.renderDrawing(null,e.annotation.pageIndex),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addAnnotationComments(e.annotation.pageIndex,o,!1),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode){var a=document.getElementById(this.pdfViewer.element.id+"_propertyToolbar");a&&a.children.length>0&&(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbarCreated=!1,this.pdfViewer.toolbarModule.annotationToolbarModule.createAnnotationToolbarForMobile())}}break;case"Delete":if(this.pdfViewer.formDesigner&&e.annotation.formFieldAnnotationType)this.pdfViewer.formDesigner.deleteFormField(e.redoElement.id,!1);else{var s=!1,l=e.annotation.shapeAnnotationType;"Line"!==o&&"LineWidthArrowHead"!==o&&"Polygon"!==o&&"Ellipse"!==o&&"Rectangle"!==o&&"Radius"!==o&&"Distance"!==o||(l=""===e.annotation.measureType||(0,t.isNullOrUndefined)(e.annotation.measureType)?"shape":"measure",this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(e.annotation,l,"delete"),this.modifyInCollections(e.annotation,"delete"),s=!0),"Stamp"!==o&&"Image"!==o||(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(e.annotation,l,"delete"),this.stampAnnotationModule.updateSessionStorage(e.annotation,null,"delete"),this.modifyInCollections(e.annotation,"delete"),s=!0),"FreeText"!==o&&"HandWrittenSignature"!==o&&"SignatureText"!==o&&"SignatureImage"!==o||(this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(e.annotation,l,"delete"),this.modifyInCollections(e.annotation,"delete")),s||this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(e.annotation,l,"delete");var d=void 0;if(e.annotation.id&&(d=this.pdfViewer.nameTable[e.annotation.id.split("_")[0]]),null!=d&&("SignatureField"===d.formFieldAnnotationType||"InitialField"===d.formFieldAnnotationType)){d.wrapper.children.splice(d.wrapper.children.indexOf(e.annotation.wrapper.children[0]),1),"SignatureText"===e.annotation.shapeAnnotationType&&d.wrapper.children.splice(d.wrapper.children.indexOf(e.annotation.wrapper.children[1]),1);var h=e.annotation.id.split("_")[0]+"_content",A=null;if(this.pdfViewer.formDesignerModule&&(A=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner")),A){for(var p=JSON.parse(A),g=0;g<p.length;g++)p[parseInt(g.toString(),10)].Key===h&&(p[parseInt(g.toString(),10)].FormField.value="",p[parseInt(g.toString(),10)].FormField.signatureType="",this.pdfViewerBase.formFieldCollection[parseInt(g.toString(),10)].FormField.value="",this.pdfViewerBase.formFieldCollection[parseInt(g.toString(),10)].FormField.signatureType="");this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}this.pdfViewer.clearSelection(e.annotation.pageIndex),this.pdfViewer.remove(e.annotation),this.pdfViewer.renderDrawing(null,e.annotation.pageIndex);var u=e.annotation.annotName?e.annotation.annotName:e.annotation.annotationId,f=document.getElementById(u);if(this.removeCommentPanelDiv(f),e.annotation.annotationId){var m=this.updateCollectionForNonRenderedPages(e.annotation,u,e.annotation.pageIndex);this.undoCommentsElement.push(m)}}break;case"stampOpacity":this.pdfViewer.nodePropertyChange(n,{opacity:e.redoElement.opacity}),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n,null,!0);break;case"Shape Stroke":this.pdfViewer.nodePropertyChange(n,{strokeColor:e.redoElement.strokeColor}),this.modifyInCollections(n,"stroke"),this.pdfViewer.renderDrawing();break;case"Shape Fill":this.pdfViewer.nodePropertyChange(n,{fillColor:e.redoElement.fillColor}),this.modifyInCollections(n,"fill"),this.pdfViewer.renderDrawing();break;case"Shape Opacity":this.pdfViewer.nodePropertyChange(n,{opacity:e.redoElement.opacity}),"StickyNotes"===e.annotation.shapeAnnotationType?(this.stickyNotesAnnotationModule.updateOpacityValue(n),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n,null,!0)):this.modifyInCollections(n,"opacity"),this.pdfViewer.renderDrawing();break;case"Shape Thickness":this.pdfViewer.nodePropertyChange(n,{thickness:e.redoElement.thickness}),this.modifyInCollections(n,"thickness"),this.pdfViewer.renderDrawing();break;case"Line properties change":this.pdfViewer.nodePropertyChange(n,{fillColor:e.redoElement.fillColor,strokeColor:e.redoElement.strokeColor,opacity:e.redoElement.opacity,thickness:e.redoElement.thickness,sourceDecoraterShapes:this.getArrowType(e.redoElement.lineHeadStart),taregetDecoraterShapes:this.getArrowType(e.redoElement.lineHeadEnd),borderDashArray:e.redoElement.borderDashArray,borderStyle:e.redoElement.borderStyle}),this.updateCollectionForLineProperty(n),this.pdfViewer.renderDrawing();break;case"Text Property Added":e.annotation=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.redoAction(e.annotation,e.action,e.undoElement),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(e.annotation,null,!0);break;case"Comments Property Added":e.annotation=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.redoAction(e.annotation,e.action,e.undoElement);break;case"Status Property Added":case"Comments Reply Deleted":e.annotation=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.redoAction(e.annotation,e.action);break;case"dynamicText Change":this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!0,n.dynamicText=e.redoElement.dynamicText;var w=this.pdfViewer.selectedItems.annotations[0];w&&(w.dynamicText=e.redoElement.dynamicText,w.bounds.height=e.redoElement.bounds.height),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.redoAction(e.annotation,e.action,e.undoElement),this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n,null,!0),this.modifyInCollections(n,"dynamicText"),w?this.pdfViewer.nodePropertyChange(w,{}):this.pdfViewer.nodePropertyChange(n,{}),this.pdfViewer.annotation.freeTextAnnotationModule.isFreeTextValueChange=!1,this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.pdfViewer.select([n.id]);break;case"fontColor":this.pdfViewer.nodePropertyChange(n,{fontColor:e.redoElement.fontColor}),this.modifyInCollections(n,"fontColor"),this.pdfViewer.renderDrawing();break;case"fontSize":this.isFreeTextFontsizeChanged=!0,this.pdfViewer.nodePropertyChange(n,{fontSize:e.redoElement.fontSize}),this.modifyInCollections(n,"fontSize"),this.pdfViewer.renderDrawing();break;case"textAlign":this.pdfViewer.nodePropertyChange(n,{textAlign:e.redoElement.textAlign}),this.modifyInCollections(n,"textAlign"),this.pdfViewer.renderDrawing();break;case"textPropertiesChange":this.pdfViewer.nodePropertyChange(n,{font:e.redoElement.font}),this.modifyInCollections(n,"textPropertiesChange"),this.pdfViewer.renderDrawing();break;case"Rotate":this.pdfViewer.nodePropertyChange(e.annotation.annotations[0],{bounds:e.redoElement.bounds,rotateAngle:e.redoElement.rotateAngle}),this.modifyInCollections(e.annotation.annotations[0],"bounds"),this.pdfViewer.renderDrawing();break;case"FormDesigner Properties Change":e.redoElement&&e.undoElement.isMultiline!==e.redoElement.isMultiline&&this.undoRedoMultiline(e.redoElement),this.updateFormFieldPropertiesChanges(e.redoElement.formFieldAnnotationType,e.redoElement);break;case"FormField Value Change":if(e.annotation.formFieldAnnotationType)"RadioButton"===e.annotation.formFieldAnnotationType?(this.updateFormFieldValueChange(e.annotation.formFieldAnnotationType,e.undoElement,!0),this.updateFormFieldValueChange(e.annotation.formFieldAnnotationType,e.redoElement,!1)):this.updateFormFieldValueChange(e.annotation.formFieldAnnotationType,e.annotation,e.redoElement);else{document.getElementById(e.annotation.id+"_html_element").children[0].children[0].className="e-pdfviewer-signatureformfields-signature";d=this.pdfViewer.nameTable[e.annotation.id.split("_")[0]];var y=this.pdfViewer.nameTable[e.annotation.id];d.wrapper.children.push(y.wrapper.children[0]),"SignatureText"===e.annotation.shapeAnnotationType&&d.wrapper.children.push(y.wrapper.children[1]);h=e.annotation.id.split("_")[0]+"_content",A=null;if(this.pdfViewer.formDesignerModule&&(A=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner")),A){for(p=JSON.parse(A),g=0;g<p.length;g++)if(p[parseInt(g.toString(),10)].Key===h)if("SignatureText"===e.annotation.shapeAnnotationType)p[parseInt(g.toString(),10)].FormField.signatureType="Text",p[parseInt(g.toString(),10)].FormField.value=e.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(g.toString(),10)].FormField.value=e.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(g.toString(),10)].FormField.signatureType="Text";else if("SignatureImage"===e.annotation.shapeAnnotationType)p[parseInt(g.toString(),10)].FormField.signatureType="Image",p[parseInt(g.toString(),10)].FormField.value=e.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(g.toString(),10)].FormField.value=e.annotation.data,this.pdfViewerBase.formFieldCollection[parseInt(g.toString(),10)].FormField.signatureType="Image";else{p[parseInt(g.toString(),10)].FormField.signatureType="Path",this.pdfViewerBase.formFieldCollection[parseInt(g.toString(),10)].FormField.signatureType="Path";var S=(0,i.processPathData)(e.annotation.data),C=(0,i.splitArrayCollection)(S);p[parseInt(g.toString(),10)].FormField.value=JSON.stringify(C),this.pdfViewerBase.formFieldCollection[parseInt(g.toString(),10)].FormField.value=JSON.stringify(C)}this.pdfViewer.add(e.annotation);var B=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+e.pageIndex);this.pdfViewer.renderDrawing(B,e.pageIndex),this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}}e.redoElement&&void 0!==e.redoElement.modifiedDate&&(e.annotation.modifiedDate=e.redoElement.modifiedDate),this.actionCollection.push(e),this.updateToolbar(),this.isUndoRedoAction=!1}},e.prototype.undoRedoMultiline=function(e){e.isMultiline&&"Textbox"===e.formFieldAnnotationType?this.pdfViewer.formDesignerModule.renderMultilineText(e,!0):"Textbox"===e.formFieldAnnotationType&&this.pdfViewer.formDesignerModule.renderTextbox(e,!0)},e.prototype.updateFormFieldValueChange=function(e,t,i){if(t){var n=this.pdfViewer.formDesigner.getFormField(t.id.split("_")[0]),o=null;if(this.pdfViewer.formDesignerModule&&(o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner")),o){var r=JSON.parse(o),a=this.pdfViewer.formDesigner.getFormFiledIndex(t.id.split("_")[0]);switch(e){case"Textbox":case"PasswordField":case"RadioButton":case"DropdownList":case"ListBox":var s=document.getElementById(t.id.split("_")[0]+"_content_html_element").firstElementChild.firstElementChild;if("Textbox"===e||"PasswordField"===e)n.value=i,this.pdfViewer.formDesigner.updateValuePropertyChange(n,s,!0,a,r);else if("RadioButton"===e)n.isSelected=i,this.pdfViewer.formDesigner.updateIsSelectedPropertyChange(n,s.firstElementChild,!0,a,r);else if("DropdownList"===e||"ListBox"===e)if(n.selectedIndex=i,r[parseInt(a.toString(),10)].FormField.selectedIndex=i,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.selectedIndex=i,this.pdfViewer.nameTable[r[parseInt(a.toString(),10)].Key.split("_")[0]].selectedIndex=i,"ListBox"===e)for(var l=0;l<s.options.length;l++)s.options[parseInt(l.toString(),10)].selected=!!i.includes(l);else s.selectedIndex=i;break;case"Checkbox":var d=document.getElementById(t.id.split("_")[0]+"_content_html_element").firstElementChild.firstElementChild.lastElementChild;n.isChecked=i,this.pdfViewer.formDesigner.updateIsCheckedPropertyChange(n,d,!0,a,r)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}},e.prototype.updateFormFieldPropertiesChanges=function(e,t){switch(e){case"Textbox":case"PasswordField":this.pdfViewer.formDesigner.updateTextboxFormDesignerProperties(t,!0);break;case"Checkbox":this.pdfViewer.formDesigner.updateCheckboxFormDesignerProperties(t,!0,!0);break;case"RadioButton":this.pdfViewer.formDesigner.updateRadioButtonDesignerProperties(t,!0,!0);break;case"DropdownList":this.pdfViewer.formDesigner.updateDropdownFormDesignerProperties(t,!0);break;case"ListBox":this.pdfViewer.formDesigner.updateListBoxFormDesignerProperties(t,!0);break;case"SignatureField":case"InitialField":this.pdfViewer.formDesigner.updateSignatureTextboxProperties(t,!0)}},e.prototype.updateCollectionForLineProperty=function(e){this.modifyInCollections(e,"fill"),this.modifyInCollections(e,"stroke"),this.modifyInCollections(e,"opacity"),this.modifyInCollections(e,"thickness"),this.modifyInCollections(e,"dashArray"),this.modifyInCollections(e,"startArrow"),this.modifyInCollections(e,"endArrow")},e.prototype.updateToolbar=function(e){this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateUndoRedoButtons(),this.actionCollection&&0===this.actionCollection.length?this.pdfViewerBase.updateDocumentEditedProperty(!1):this.pdfViewerBase.updateDocumentEditedProperty(!0),e&&this.pdfViewerBase.updateDocumentEditedProperty(!0)},e.prototype.createNote=function(){this.popupNote=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_annotation_note",className:"e-pv-annotation-note",styles:"display:none"}),this.popupNoteAuthor=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_annotation_note_author",className:"e-pv-annotation-note-author"}),this.popupNote.appendChild(this.popupNoteAuthor),this.popupNoteContent=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_annotation_note_content",className:"e-pv-annotation-note-content"}),this.popupNote.appendChild(this.popupNoteContent),this.pdfViewerBase.mainContainer&&this.pdfViewerBase.mainContainer.appendChild(this.popupNote)},e.prototype.showPopupNote=function(e,t,i,n,o){var r=this.pdfViewerBase.mainContainer.getBoundingClientRect(),a=this.popupNote.getBoundingClientRect();i&&(this.popupNoteAuthor.textContent=i),this.popupNoteContent.textContent=n,"Highlight"===o?this.popupNote.style.backgroundColor="rgb(237, 232, 177)":"Underline"===o?this.popupNote.style.backgroundColor="rgb(187, 241, 191)":"Strikethrough"===o&&(this.popupNote.style.backgroundColor="rgb(242, 188, 207)"),this.popupNote.style.display="block";var s=e.pageY-r.top+5,l=e.pageX-r.left+5;l+a.width>r.width&&(l-=a.width),s+a.height>r.height&&(s-=a.height),this.popupNote.style.top=s+"px",this.popupNote.style.left=l+"px"},e.prototype.hidePopupNote=function(){this.popupNote&&(this.popupNote.style.display="none")},e.prototype.createTextMarkupPopup=function(){var e=this,i=this.pdfViewer.element.id;this.popupElement=(0,t.createElement)("div",{id:i+"_popup_annotation_note",className:"e-pv-annotation-popup-menu",styles:"display:none"});var n=(0,t.createElement)("div",{id:i+"_popup_header",className:"e-pv-annotation-popup-header"});this.authorPopupElement=(0,t.createElement)("div",{id:i+"_popup_author",className:"e-pv-annotation-popup-author"}),n.appendChild(this.authorPopupElement);var o=(0,t.createElement)("span",{id:i+"_popup_close",className:"e-pv-annotation-popup-close e-pv-icon"});n.appendChild(o),this.popupElement.appendChild(n),this.modifiedDateElement=(0,t.createElement)("div",{id:i+"_popup_modified_time",className:"e-pv-annotation-modified-time"}),this.popupElement.appendChild(this.modifiedDateElement);var r=(0,t.createElement)("div",{id:i+"_popup_content_container",className:"e-pv-annotation-popup-note-container"});this.noteContentElement=(0,t.createElement)("div",{id:i+"_popup_content",className:"e-pv-annotation-popup-content"}),this.noteContentElement.contentEditable="true",r.appendChild(this.noteContentElement),this.popupElement.appendChild(r),this.pdfViewerBase.viewerContainer.appendChild(this.popupElement),o.addEventListener("click",this.saveClosePopupMenu.bind(this)),o.addEventListener("touchend",this.saveClosePopupMenu.bind(this)),this.popupElement.addEventListener("mousedown",this.onPopupElementMoveStart.bind(this)),this.popupElement.addEventListener("mousemove",this.onPopupElementMove.bind(this)),window.addEventListener("mouseup",this.onPopupElementMoveEnd.bind(this)),this.popupElement.addEventListener("touchstart",this.onPopupElementMoveStart.bind(this)),this.popupElement.addEventListener("touchmove",this.onPopupElementMove.bind(this)),window.addEventListener("touchend",this.onPopupElementMoveEnd.bind(this)),this.noteContentElement.addEventListener("mousedown",(function(){e.noteContentElement.focus()}))},e.prototype.onPopupElementMoveStart=function(e){if("touchstart"===e.type&&(e=e.changedTouches[0]),e.target.id!==this.noteContentElement.id||!e.target.contains(this.noteContentElement.childNodes[0])){this.isPopupMenuMoved=!0;var t=this.popupElement.getBoundingClientRect();this.clientX=e.clientX-t.left,this.clientY=e.clientY-t.top+this.pdfViewerBase.pageSize[this.currentAnnotPageNumber].top*this.pdfViewerBase.getZoomFactor()}},e.prototype.onPopupElementMove=function(e){if("touchmove"===e.type&&(e=e.changedTouches[0]),this.isPopupMenuMoved&&(e.target.id!==this.noteContentElement.id||!e.target.contains(this.noteContentElement.childNodes[0]))){var t=e.clientX-this.clientX+parseFloat(this.popupElement.style.left),i=e.clientY-this.clientY+parseFloat(this.popupElement.style.top);this.clientX=e.clientX,this.clientY=e.clientY;var n=this.popupElement.getBoundingClientRect(),o=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+this.currentAnnotPageNumber);t>parseFloat(o.style.left)&&t+n.width<parseFloat(o.style.left)+parseFloat(o.style.width)?this.popupElement.style.left=t+"px":this.popupElement.style.left=parseFloat(this.popupElement.style.left)+"px",i>parseFloat(o.style.top)&&i+n.height<parseFloat(o.style.top)+parseFloat(o.style.height)?this.popupElement.style.top=i+"px":this.popupElement.style.top=parseFloat(this.popupElement.style.top)+"px"}},e.prototype.onPopupElementMoveEnd=function(){this.isPopupMenuMoved=!1},e.prototype.saveClosePopupMenu=function(){this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.saveNoteContent(this.currentAnnotPageNumber,this.noteContentElement.innerText),this.closePopupMenu()},e.prototype.closePopupMenu=function(){this.popupElement&&(this.popupElement.parentElement.removeChild(this.popupElement),this.popupElement=null,this.isPopupNoteVisible=!1)},e.prototype.showAnnotationPopup=function(e){if(this.textMarkupAnnotationModule&&(this.currentAnnotPageNumber=this.getEventPageNumber(e),this.textMarkupAnnotationModule&&(e.target!==this.noteContentElement||e.target.contains(this.noteContentElement.childNodes[0]))&&(this.hidePopupNote(),!this.popupElement))){this.createTextMarkupPopup(),this.popupElement.style.display="block",this.authorPopupElement.textContent=this.textMarkupAnnotationModule.currentTextMarkupAnnotation.author,this.modifiedDateElement.textContent=this.getProperDate(this.textMarkupAnnotationModule.currentTextMarkupAnnotation.modifiedDate),this.noteContentElement.textContent=this.textMarkupAnnotationModule.currentTextMarkupAnnotation.note;var t=this.popupElement.getBoundingClientRect(),i=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+this.currentAnnotPageNumber),n=i.getBoundingClientRect(),o=e.clientY-n.top+parseFloat(i.style.top),r=e.clientX;r+t.width>parseFloat(i.style.left)+parseFloat(i.style.width)?this.popupElement.style.left=r-t.width+"px":this.popupElement.style.left=r+"px",o+t.height>parseFloat(i.style.top)+parseFloat(i.style.height)?this.popupElement.style.top=o-t.height+"px":this.popupElement.style.top=o+"px",this.isPopupNoteVisible=!0}},e.prototype.modifyOpacity=function(e,t){var i=this.pdfViewer.selectedItems.annotations[0],n=C(i),o=C(i),r=1;r=t?e/100:e.value/100,i.opacity!==r&&(o.opacity=r,this.pdfViewer.nodePropertyChange(i,{opacity:r}),"StickyNotes"===i.shapeAnnotationType?this.stickyNotesAnnotationModule.updateOpacityValue(i):this.modifyInCollections(i,"opacity"),"HandWrittenSignature"===i.shapeAnnotationType||"SignatureImage"===i.shapeAnnotationType||"SignatureText"===i.shapeAnnotationType?this.pdfViewer.fireSignaturePropertiesChange(i.pageIndex,i.signatureName,i.shapeAnnotationType,!1,!0,!1,n.opacity,o.opacity):this.triggerAnnotationPropChange(i,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Shape Opacity","",n,o),this.pdfViewer.renderDrawing())},e.prototype.modifyFontColor=function(e){var t=this.pdfViewer.selectedItems.annotations[0],i=C(t),n=C(t);n.fontColor=e,this.pdfViewer.nodePropertyChange(t,{fontColor:e}),this.modifyInCollections(t,"fontColor"),this.triggerAnnotationPropChange(t,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"fontColor","",i,n),this.pdfViewer.renderDrawing()},e.prototype.modifyFontFamily=function(e){var t=this.pdfViewer.selectedItems.annotations[0],i=C(t),n=C(t);n.fontFamily=e,this.pdfViewer.freeTextSettings.enableAutoFit?this.updateFontFamilyRenderSize(t,e):this.pdfViewer.nodePropertyChange(t,{fontFamily:e}),this.modifyInCollections(t,"fontFamily"),this.triggerAnnotationPropChange(t,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"fontFamily","",i,n),this.pdfViewer.renderDrawing()},e.prototype.modifyFontSize=function(e,t){var i=this.pdfViewer.selectedItems.annotations[0],n=C(i),o=C(i);o.fontSize=e;var r=this.freeTextAnnotationModule,a=i.bounds.x,s=i.bounds.y;if(i.fontSize=e,r&&!r.isNewFreeTextAnnot&&""!==i.dynamicText){if(r.addInuptElemet({x:a,y:s},i),i){i.previousFontSize!==e&&(r.inputBoxElement.style.height="auto",t||this.isFreeTextFontsizeChanged||r.inputBoxElement.scrollHeight+5>i.bounds.height?(this.isFreeTextFontsizeChanged=!1,r.inputBoxElement.style.height=r.inputBoxElement.scrollHeight+5+"px"):r.inputBoxElement.style.height=i.bounds.height+"px");var l=parseFloat(r.inputBoxElement.style.height),d=parseFloat(r.inputBoxElement.style.width),h=this.pdfViewerBase.getZoomFactor();d/=h;var A=(l/=h)-i.bounds.height,p=void 0;A>0?p=(p=i.wrapper.offsetY+A/2)>0?p:void 0:(A=Math.abs(A),p=(p=i.wrapper.offsetY-A/2)>0?p:void 0);var c=d-i.bounds.width,g=void 0;c>0?g=(g=i.wrapper.offsetX+c/2)>0?g:void 0:(c=Math.abs(c),g=i.wrapper.offsetX-c/2),i.bounds.width=d,i.bounds.height=l,this.pdfViewer.nodePropertyChange(i,{fontSize:e,bounds:{width:i.bounds.width,height:i.bounds.height,y:p,x:g}}),this.pdfViewer.renderSelector(i.pageIndex,this.pdfViewer.annotationSelectorSettings),i.previousFontSize=e}this.modifyInCollections(i,"fontSize"),this.modifyInCollections(i,"bounds"),this.triggerAnnotationPropChange(i,!1,!1,!1,!0),t&&this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"fontSize","",n,o),r.inputBoxElement.blur()}var u=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+i.pageIndex);this.pdfViewer.drawing.refreshCanvasDiagramLayer(u,i.pageIndex)},e.prototype.handleFontSizeUpdate=function(e){1===this.pdfViewer.selectedItems.annotations.length&&e?this.isUndoRedoAction?this.modifyFontSize(e,!1):this.modifyFontSize(e,!0):this.freeTextAnnotationModule&&(this.pdfViewer.freeTextSettings.fontSize=e,this.freeTextAnnotationModule.updateTextProperties())},e.prototype.modifyTextAlignment=function(e){var t=this.pdfViewer.selectedItems.annotations[0];this.pdfViewer.nodePropertyChange(t,{textAlign:e}),this.modifyInCollections(t,"textAlign"),this.triggerAnnotationPropChange(t,!1,!1,!1,!0),this.pdfViewer.renderDrawing()},e.prototype.modifyTextProperties=function(e,t){var i=this.pdfViewer.selectedItems.annotations[0],n=C(i),o=C(i);"bold"===t?o.font.isBold=e.isBold:"italic"===t?o.font.isItalic=e.isItalic:"underline"===t?(o.font.isUnderline=e.isUnderline,o.font.isUnderline&&o.font.isStrikeout&&(o.font.isStrikeout=!1)):"strikeout"===t&&(o.font.isStrikeout=e.isStrikeout,o.font.isUnderline&&o.font.isStrikeout&&(o.font.isUnderline=!1)),this.pdfViewer.nodePropertyChange(i,{font:e}),this.modifyInCollections(i,"textPropertiesChange"),this.triggerAnnotationPropChange(i,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"textPropertiesChange","",n,o),this.pdfViewer.renderDrawing()},e.prototype.modifyThickness=function(e){var t=this.pdfViewer.selectedItems.annotations[0];if(t.thickness!==e){var i=C(t),n=C(t);n.thickness=e,this.pdfViewer.nodePropertyChange(t,{thickness:e}),this.modifyInCollections(t,"thickness"),"HandWrittenSignature"===t.shapeAnnotationType||"SignatureText"===t.shapeAnnotationType||"SignatureImage"===t.shapeAnnotationType?this.pdfViewer.fireSignaturePropertiesChange(t.pageIndex,t.signatureName,t.shapeAnnotationType,!1,!1,!0,i.thickness,n.thickness):this.triggerAnnotationPropChange(t,!1,!1,!0,!1),this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"Shape Thickness","",i,n),this.pdfViewer.renderDrawing()}},e.prototype.modifyStrokeColor=function(e){var t=this.pdfViewer.selectedItems.annotations[0],i=C(t),n=C(t);n.strokeColor=e,this.pdfViewer.nodePropertyChange(t,{strokeColor:e}),this.modifyInCollections(t,"stroke"),"HandWrittenSignature"===t.shapeAnnotationType||"SignatureText"===t.shapeAnnotationType||"SignatureImage"===t.shapeAnnotationType?this.pdfViewer.fireSignaturePropertiesChange(t.pageIndex,t.signatureName,t.shapeAnnotationType,!0,!1,!1,i.strokeColor,n.strokeColor):this.triggerAnnotationPropChange(t,!1,!0,!1,!1),this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"Shape Stroke","",i,n),this.pdfViewer.renderDrawing()},e.prototype.modifyFillColor=function(e){var t=this.pdfViewer.selectedItems.annotations[0],i=C(t),n=C(t);n.fillColor=e,this.pdfViewer.nodePropertyChange(this.pdfViewer.selectedItems.annotations[0],{fillColor:e}),this.modifyInCollections(t,"fill"),this.triggerAnnotationPropChange(t,!0,!1,!1,!1),this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"Shape Fill","",i,n),this.pdfViewer.renderDrawing()},e.prototype.modifyDynamicTextValue=function(e,i){var n=null;if(n=this.pdfViewer.annotations.filter((function(e){return e.annotName===i}))[0]){var o=C(n),r=C(n);n.dynamicText=e,r.dynamicText=e,""===o.dynamicText&&(o.dynamicText=this.freeTextAnnotationModule.previousText),this.pdfViewer.nodePropertyChange(n,{dynamicText:e}),this.pdfViewer.renderSelector(n.pageIndex,n.annotationSelectorSettings),o.dynamicText!==r.dynamicText&&(this.pdfViewer.annotation.addAction(n.pageIndex,null,n,"dynamicText Change","",o,r),this.modifyInCollections(n,"dynamicText")),(0,t.isNullOrUndefined)(this.freeTextAnnotationModule)||this.freeTextAnnotationModule.previousText===n.dynamicText||this.triggerAnnotationPropChange(n,!1,!1,!1,!1,!1,!1,!1,!0,this.freeTextAnnotationModule.previousText,n.dynamicText),this.pdfViewer.renderDrawing()}},e.prototype.modifyInCollections=function(e,i){var n;return""===e.measureType||(0,t.isNullOrUndefined)(e.measureType)?n="FreeText"===e.shapeAnnotationType?this.freeTextAnnotationModule.modifyInCollection(i,e.pageIndex,e):"HandWrittenSignature"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType?this.pdfViewerBase.signatureModule.modifySignatureCollection(i,e.pageIndex,e):"Stamp"===e.shapeAnnotationType?this.stampAnnotationModule.modifyInCollection(i,e.pageIndex,e,null):"Ink"===e.shapeAnnotationType?this.inkAnnotationModule.modifySignatureInkCollection(i,e.pageIndex,e):this.shapeAnnotationModule.modifyInCollection(i,e.pageIndex,e,null):"Distance"!==e.measureType&&"Perimeter"!==e.measureType&&"Radius"!==e.measureType&&"Area"!==e.measureType&&"Volume"!==e.measureType||(n=this.measureAnnotationModule.modifyInCollection(i,e.pageIndex,e)),this.isUndoRedoAction?(this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(e,null,!0),this.isUndoAction&&(e.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime())):"bounds"!==i&&this.stickyNotesAnnotationModule.updateAnnotationModifiedDate(e),this.isUndoRedoAction&&"delete"===i&&this.updateAnnotationCollection(e),n},e.prototype.createPropertiesWindow=function(){var e=this;if((0,t.isBlazor)()){var i=100*this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.opacity,n=this.getArrowString(this.pdfViewer.selectedItems.annotations[0].sourceDecoraterShapes),o=this.getArrowString(this.pdfViewer.selectedItems.annotations[0].taregetDecoraterShapes),r=void 0;parseInt(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray,10)>=3?r="Dashed":"2"===this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray?r="Dotted":"0"===this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray&&(r="Solid"),this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenPropertiesDialog",i,n,o,r)}else{var a=this.pdfViewer.element.id,s=(0,t.createElement)("div",{id:a+"_properties_window",className:"e-pv-properties-window"}),l=this.createAppearanceTab();if(this.pdfViewerBase.pageContainer.appendChild(s),this.propertiesDialog=new Ne.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:this.pdfViewer.localeObj.getConstant("Line Properties"),target:this.pdfViewer.element,content:l,close:function(){e.destroyPropertiesWindow()}}),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.propertiesDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.onOkClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.onCancelClicked.bind(this)}]:this.propertiesDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.onCancelClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.onOkClicked.bind(this)}],this.pdfViewer.enableRtl&&(this.propertiesDialog.enableRtl=!0),this.propertiesDialog.appendTo(s),this.pdfViewer.selectedItems.annotations[0]&&"Line"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType)document.getElementById(this.pdfViewer.element.id+"_properties_fill_color").disabled=!0;this.startArrowDropDown.content=this.createContent(this.getArrowString(this.pdfViewer.selectedItems.annotations[0].sourceDecoraterShapes)).outerHTML,this.endArrowDropDown.content=this.createContent(this.getArrowString(this.pdfViewer.selectedItems.annotations[0].taregetDecoraterShapes)).outerHTML,this.thicknessBox.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeWidth,this.fillColorPicker.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.fill,this.refreshColorPicker(this.fillColorPicker),this.strokeColorPicker.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor,this.refreshColorPicker(this.strokeColorPicker),this.updateColorInIcon(this.fillDropDown.element,this.fillColorPicker.value),this.updateColorInIcon(this.strokeDropDown.element,this.strokeColorPicker.value),this.opacitySlider.value=100*this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.opacity,this.updateOpacityIndicator(),parseInt(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray,10)>=3?this.lineStyleDropDown.content=this.createDropDownContent("dashed").outerHTML:"2"===this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray?this.lineStyleDropDown.content=this.createDropDownContent("dotted").outerHTML:"0"===this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray&&(this.lineStyleDropDown.content=this.createDropDownContent("solid").outerHTML),this.selectedLineStyle=this.pdfViewer.selectedItems.annotations[0].borderStyle,this.selectedLineDashArray=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeDashArray,"Distance"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(this.leaderLengthBox.value=this.pdfViewer.selectedItems.annotations[0].leaderHeight)}},e.prototype.destroyPropertiesWindow=function(){this.strokeColorPicker&&(this.strokeColorPicker.destroy(),this.strokeColorPicker=null),this.fillColorPicker&&(this.fillColorPicker.destroy(),this.fillColorPicker=null),this.endArrowDropDown&&(this.endArrowDropDown.destroy(),this.endArrowDropDown=null),this.startArrowDropDown&&(this.startArrowDropDown.destroy(),this.startArrowDropDown=null),this.opacitySlider&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.thicknessBox&&(this.thicknessBox.destroy(),this.thicknessBox=null),this.lineStyleDropDown&&(this.lineStyleDropDown.destroy(),this.lineStyleDropDown=null),this.leaderLengthBox&&(this.leaderLengthBox.destroy(),this.leaderLengthBox=null),this.propertiesDialog&&(this.propertiesDialog.destroy(),this.propertiesDialog=null);var e=this.pdfViewerBase.getElement("_properties_window");e&&e.parentElement.removeChild(e)},e.prototype.refreshColorPicker=function(e){e.setProperties({value:e.value},!0),e.refresh()},e.prototype.createAppearanceTab=function(){var e=this,i=this.pdfViewer.element.id,n=[{text:this.pdfViewer.localeObj.getConstant("None")},{text:this.pdfViewer.localeObj.getConstant("Open Arrow")},{text:this.pdfViewer.localeObj.getConstant("Closed Arrow")},{text:this.pdfViewer.localeObj.getConstant("Round Arrow")},{text:this.pdfViewer.localeObj.getConstant("Square Arrow")},{text:this.pdfViewer.localeObj.getConstant("Diamond Arrow")}],o=(0,t.createElement)("div",{id:i+"_properties_appearance"}),r=(0,t.createElement)("div",{className:"e-pv-properties-line-style-prop"});o.appendChild(r);var a=this.createInputElement(this.pdfViewer.localeObj.getConstant("Start Arrow"),r,"text","button",!0,"e-pv-properties-line-start",i+"_properties_line_start");this.startArrowDropDown=new Re.DropDownButton({items:n,cssClass:"e-pv-properties-line-start",select:this.onStartArrowHeadStyleSelect.bind(this)},a);var s=this.createInputElement(this.pdfViewer.localeObj.getConstant("End Arrow"),r,"text","button",!0,"e-pv-properties-line-end",i+"_properties_line_end"),l=(0,t.createElement)("div",{className:"e-pv-properties-border-style"});o.appendChild(l),this.endArrowDropDown=new Re.DropDownButton({items:n,cssClass:"e-pv-properties-line-end",select:this.onEndArrowHeadStyleSelect.bind(this)},s);var d=this.createInputElement(this.pdfViewer.localeObj.getConstant("Line Style"),l,"text","button",!0,"e-pv-properties-line-style",i+"_properties_line_style"),h=this.createStyleList();this.lineStyleDropDown=new Re.DropDownButton({cssClass:"e-pv-properties-line-style",target:h},d);var A=this.createInputElement(this.pdfViewer.localeObj.getConstant("Line Thickness"),l,"text","input",!0,"e-pv-properties-line-thickness",i+"_properties_thickness");this.thicknessBox=new Pe.NumericTextBox({value:0,format:"## pt",cssClass:"e-pv-properties-line-thickness",min:0,max:12},A);var p=(0,t.createElement)("div",{className:"e-pv-properties-color-style"});o.appendChild(p);var c=this.createInputElement(this.pdfViewer.localeObj.getConstant("Fill Color"),p,"color","button",!0,"e-pv-properties-line-fill-color",i+"_properties_fill_color");this.fillColorPicker=this.createColorPicker(i+"_properties_fill_color",!0),this.fillColorPicker.change=function(t){var i=""===t.currentValue.hex?"#ffffff00":t.currentValue.hex;e.fillDropDown.toggle(),e.updateColorInIcon(e.fillDropDown.element,i)},this.fillDropDown=this.createDropDownButton(c,"e-pv-properties-fill-color-icon",this.fillColorPicker.element.parentElement),this.fillDropDown.beforeOpen=this.onFillDropDownBeforeOpen.bind(this),this.fillDropDown.open=function(){e.fillColorPicker.refresh()};var g=this.createInputElement(this.pdfViewer.localeObj.getConstant("Line Color"),p,"color","button",!0,"e-pv-properties-line-stroke-color",i+"_properties_stroke_color");this.strokeColorPicker=this.createColorPicker(i+"_properties_stroke_color",!1),this.strokeColorPicker.change=function(t){var i=""===t.currentValue.hex?"#ffffff00":t.currentValue.hex;e.strokeDropDown.toggle(),e.updateColorInIcon(e.strokeDropDown.element,i)},this.strokeDropDown=this.createDropDownButton(g,"e-pv-properties-stroke-color-icon",this.strokeColorPicker.element.parentElement),this.strokeDropDown.beforeOpen=this.onStrokeDropDownBeforeOpen.bind(this),this.strokeDropDown.open=function(){e.strokeColorPicker.refresh()};var u=(0,t.createElement)("div",{className:"e-pv-properties-opacity-style"});o.appendChild(u);var f=this.createInputElement(this.pdfViewer.localeObj.getConstant("Opacity"),u,"","div",!0,"e-pv-properties-line-opacity",i+"_properties_opacity");if(this.opacitySlider=new Pe.Slider({type:"MinRange",max:100,min:0,cssClass:"e-pv-properties-line-opacity",change:function(){e.updateOpacityIndicator()}},f),"Distance"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType){var m=this.createInputElement(this.pdfViewer.localeObj.getConstant("Leader Length"),u,"text","input",!0,"e-pv-properties-line-leader-length",i+"_properties_leader_length");this.leaderLengthBox=new Pe.NumericTextBox({value:0,format:"## pt",cssClass:"e-pv-properties-line-leader-length",min:0,max:100},m)}return o},e.prototype.createContent=function(e){var i=(0,t.createElement)("div",{className:"e-pv-properties-line-style-content"});return i.textContent=e,i},e.prototype.onStrokeDropDownBeforeOpen=function(){1===this.pdfViewer.selectedItems.annotations.length&&(this.strokeColorPicker.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor),this.strokeColorPicker.refresh()},e.prototype.onFillDropDownBeforeOpen=function(){1===this.pdfViewer.selectedItems.annotations.length&&(this.fillColorPicker.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor),this.fillColorPicker.refresh()},e.prototype.createStyleList=function(){var e=this,i=(0,t.createElement)("ul");document.body.appendChild(i);var n=this.createListForStyle("solid");n.addEventListener("click",(function(){e.setThickness("0","solid")})),i.appendChild(n);var o=this.createListForStyle("dotted");o.addEventListener("click",(function(){e.setThickness("2","dotted")})),i.appendChild(o);var r=this.createListForStyle("dashed");return r.addEventListener("click",(function(){e.setThickness("3","dashed")})),i.appendChild(r),i},e.prototype.createColorPicker=function(e,i){var n=(0,t.createElement)("input",{id:e+"_target"});document.body.appendChild(n);var o=new Pe.ColorPicker({inline:!0,mode:"Palette",enableOpacity:!1,value:"#000000",showButtons:!1,modeSwitcher:!1,noColor:i});return this.pdfViewer.enableRtl&&(o.enableRtl=!0),o.appendTo(n),o},e.prototype.createDropDownButton=function(e,t,i){var n=new Re.DropDownButton({iconCss:t+" e-pv-icon",target:i});return this.pdfViewer.enableRtl&&(n.enableRtl=!0),n.appendTo(e),n},e.prototype.updateColorInIcon=function(e,t){e.childNodes[0].style.borderBottomColor=t},e.prototype.onFillColorChange=function(e){var t=document.querySelector("#"+this.pdfViewer.element.id+"_properties_fill_color_button");"transparent"!==e&&(t.children[0].style.borderBottomColor=e)},e.prototype.onStrokeColorChange=function(e){var t=document.querySelector("#"+this.pdfViewer.element.id+"_properties_stroke_color_button");"transparent"!==e&&(t.children[0].style.borderBottomColor=e)},e.prototype.setThickness=function(e,t,i){i||(this.lineStyleDropDown.content=this.createDropDownContent(t).outerHTML),this.selectedLineDashArray=e,"0"===e?this.selectedLineStyle="Solid":"2"!==e&&"3"!==e||(this.selectedLineStyle="Dashed")},e.prototype.createDropDownContent=function(e){var i=(0,t.createElement)("div",{className:"e-pv-line-styles-content-container"}),n=(0,t.createElement)("span",{className:"e-pv-line-styles-content",styles:"border-bottom-style:"+e});return i.appendChild(n),i},e.prototype.createListForStyle=function(e){var i=(0,t.createElement)("li",{className:"e-menu-item"}),n=(0,t.createElement)("div",{className:"e-pv-line-styles-container"}),o=(0,t.createElement)("span",{className:"e-pv-line-styles-item",styles:"border-bottom-style:"+e});return n.appendChild(o),i.appendChild(n),i},e.prototype.onStartArrowHeadStyleSelect=function(e){this.startArrowDropDown.content=this.createContent(e.item.text).outerHTML},e.prototype.onEndArrowHeadStyleSelect=function(e){this.endArrowDropDown.content=this.createContent(e.item.text).outerHTML},e.prototype.createInputElement=function(e,i,n,o,r,a,s){var l=(0,t.createElement)("div",{id:s+"_container",className:a+"-container"});if(r){var d=(0,t.createElement)("div",{id:s+"_label",className:a+"-label"});d.textContent=e,l.appendChild(d)}this.pdfViewer.localeObj.getConstant("Opacity")===e&&(this.opacityIndicator=(0,t.createElement)("span",{className:"e-pv-properties-opacity-indicator"}),l.appendChild(this.opacityIndicator));var h=(0,t.createElement)(o,{id:s});return"input"===o&&(h.type=n),l.appendChild(h),i.appendChild(l),h},e.prototype.updateOpacityIndicator=function(){this.opacityIndicator.textContent=this.opacitySlider.value+"%"},e.prototype.onOkClicked=function(e){var i,n,o,r,a,s;if((0,t.isBlazor)()){var l=document.querySelector("#"+this.pdfViewer.element.id+"_properties_line_start"),d=document.querySelector("#"+this.pdfViewer.element.id+"_properties_line_end"),h=document.querySelector("#"+this.pdfViewer.element.id+"_line_thickness"),A=document.querySelector("#"+this.pdfViewer.element.id+"_properties_style"),p=document.querySelector("#"+this.pdfViewer.element.id+"_properties_fill_color_button"),c=document.querySelector("#"+this.pdfViewer.element.id+"_properties_stroke_color_button"),g=document.querySelector("#"+this.pdfViewer.element.id+"_properties_opacity");i=this.getArrowTypeFromDropDown(l.value,!0),n=this.getArrowTypeFromDropDown(d.value,!0),o=parseInt(h.value,10),r=""===(r=this.getValue(c.children[0].style.borderBottomColor,"hex"))?"#ffffff00":r,a=""===(a=this.getValue(p.children[0].style.borderBottomColor,"hex"))?"#ffffff00":a,s=e?e/100:g.value/100,A.value&&("Solid"===A.value?this.setThickness("0","solid",!0):"Dotted"===A.value?this.setThickness("2","dotted",!0):"Dashed"===A.value&&this.setThickness("3","dashed",!0))}else i=this.getArrowTypeFromDropDown(this.startArrowDropDown.content),n=this.getArrowTypeFromDropDown(this.endArrowDropDown.content),o=this.thicknessBox.value,r=""===(r=this.strokeColorPicker.getValue(this.strokeColorPicker.value,"hex"))?"#ffffff00":r,a=""===(a=this.fillColorPicker.getValue(this.fillColorPicker.value,"hex"))||"#transp"===a||"#ffffff00"===this.fillColorPicker.value?"#ffffff00":a,s=this.opacitySlider.value/100;var u=this.pdfViewer.selectedItems.annotations[0],f=C(u),m=C(u),w={},y=!1,S=!1,B=!1,I=!1,b=!1,v=!1,E=!1;if(i!==u.sourceDecoraterShapes&&(w.sourceDecoraterShapes=i,m.lineHeadStart=this.getArrowString(i),b=!0),n!==u.taregetDecoraterShapes&&(w.taregetDecoraterShapes=n,m.lineHeadEnd=this.getArrowString(n),v=!0),o!==u.wrapper.children[0].style.strokeWidth&&(w.thickness=o,m.thickness=o,B=!0),r!==u.wrapper.children[0].style.strokeColor&&(w.strokeColor=r,m.strokeColor=r,S=!0),a!==u.wrapper.children[0].style.fill&&(w.fillColor=a,m.fillColor=a,y=!0),s!==u.wrapper.children[0].style.opacity&&(w.opacity=s,m.opacity=s,I=!0),this.selectedLineDashArray!==u.wrapper.children[0].style.strokeDashArray&&(w.borderDashArray=this.selectedLineDashArray,w.borderStyle=this.selectedLineStyle,m.borderDashArray=w.borderDashArray,m.borderStyle=w.borderStyle,E=!0),(0,t.isBlazor)()){var x=document.querySelector("#"+this.pdfViewer.element.id+"_properties_leader_length");"Distance"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&parseInt(x.value,10)!==this.pdfViewer.selectedItems.annotations[0].leaderHeight&&(w.leaderHeight=parseInt(x.value,10))}else"Distance"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&this.leaderLengthBox.value!==this.pdfViewer.selectedItems.annotations[0].leaderHeight&&(w.leaderHeight=this.leaderLengthBox.value);this.pdfViewer.nodePropertyChange(this.pdfViewer.selectedItems.annotations[0],w),this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.fill=a,this.triggerAnnotationPropChange(this.pdfViewer.selectedItems.annotations[0],y,S,B,I,b,v,E),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"thickness"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"stroke"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"fill"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"opacity"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"dashArray"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"startArrow"),this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"endArrow"),"Distance"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&this.modifyInCollections(this.pdfViewer.selectedItems.annotations[0],"leaderLength"),this.pdfViewer.annotation.addAction(u.pageIndex,null,u,"Line properties change","",f,m),this.renderAnnotations(u.pageIndex,null,null,null),(0,t.isBlazor)()||this.propertiesDialog.hide()},e.prototype.onCancelClicked=function(){this.propertiesDialog.hide()},e.prototype.getArrowTypeFromDropDown=function(e,t){t||(e=e.split("</div>")[0].split('">')[1]);var i="None";switch(e){case this.pdfViewer.localeObj.getConstant("None"):i="None";break;case this.pdfViewer.localeObj.getConstant("Open Arrow"):i="OpenArrow";break;case this.pdfViewer.localeObj.getConstant("Closed Arrow"):i="Arrow";break;case this.pdfViewer.localeObj.getConstant("Round Arrow"):i="Circle";break;case this.pdfViewer.localeObj.getConstant("Square Arrow"):i="Square";break;case this.pdfViewer.localeObj.getConstant("Diamond Arrow"):i="Diamond";break;case this.pdfViewer.localeObj.getConstant("Butt"):i="Butt"}return i},e.prototype.getArrowString=function(e){var t=this.pdfViewer.localeObj.getConstant("None");switch(e){case"Arrow":t=this.pdfViewer.localeObj.getConstant("Closed");break;case"OpenArrow":t=this.pdfViewer.localeObj.getConstant("Open Arrow");break;case"Circle":t=this.pdfViewer.localeObj.getConstant("Round");break;case"None":case"Square":case"Diamond":t=this.pdfViewer.localeObj.getConstant(e);break;case"Butt":t=this.pdfViewer.localeObj.getConstant("Butt")}return t},e.prototype.onAnnotationMouseUp=function(){if(0!==this.pdfViewer.selectedItems.annotations.length)this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&(this.enableBasedOnType(),this.pdfViewer.toolbar.annotationToolbarModule.selectAnnotationDeleteItem(!0),t.Browser.isDevice||this.pdfViewer.toolbar.annotationToolbarModule.updateAnnnotationPropertyItems()),this.pdfViewer.textSelectionModule&&!this.pdfViewer.textSelectionModule.isTextSelection&&this.pdfViewerBase.disableTextSelectionMode();else if(!this.pdfViewer.textSelectionModule||this.pdfViewerBase.isPanMode||this.pdfViewer.designerMode||this.pdfViewer.textSelectionModule.enableTextSelectionMode(),this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode)){var e=this.pdfViewer.toolbar.annotationToolbarModule.inkAnnotationSelected;!this.pdfViewer.annotation.freeTextAnnotationModule||this.pdfViewer.annotation.freeTextAnnotationModule.isInuptBoxInFocus||e||(this.pdfViewer.toolbar.annotationToolbarModule.enableAnnotationPropertiesTools(!1),this.pdfViewer.toolbar.annotationToolbarModule.enableFreeTextAnnotationPropertiesTools(!1)),this.pdfViewer.toolbar.annotationToolbarModule.updateAnnnotationPropertyItems(),this.pdfViewer.toolbar.annotationToolbarModule.selectAnnotationDeleteItem(!1)}},e.prototype.onShapesMouseup=function(e,i){e=(0,t.isNullOrUndefined)(this.pdfViewer.selectedItems.annotations[0])?e:this.pdfViewer.selectedItems.annotations[0];var n=!1;if(this.pdfViewerBase.prevPosition.x===this.pdfViewerBase.currentPosition.x&&this.pdfViewerBase.prevPosition.y===this.pdfViewerBase.currentPosition.y||(n=!0),e){if(this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.currentTextMarkupAnnotation&&(this.textMarkupAnnotationModule.currentTextMarkupAnnotation=null,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage=null),(this.pdfViewerBase.tool instanceof re||this.pdfViewerBase.tool instanceof se)&&!this.pdfViewerBase.tool.dragging){var o={opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate};this.getAnnotationIndex(e.pageIndex,e.id);this.pdfViewerBase.tool instanceof se&&(o.lineHeadStartStyle=this.getArrowString(e.sourceDecoraterShapes),o.lineHeadEndStyle=this.getArrowString(e.taregetDecoraterShapes),o.borderDashArray=e.borderDashArray),this.pdfViewerBase.isAnnotationAdded&&"Distance"!==e.measureType||(""===e.measureType||(0,t.isNullOrUndefined)(e.measureType)?this.shapeAnnotationModule.renderShapeAnnotations(e,this.pdfViewer.annotation.getEventPageNumber(i)):"Distance"!==e.measureType&&"Perimeter"!==e.measureType&&"Radius"!==e.measureType||this.measureAnnotationModule.renderMeasureShapeAnnotations(e,this.pdfViewer.annotation.getEventPageNumber(i))),this.pdfViewerBase.updateDocumentEditedProperty(!0)}else this.pdfViewerBase.tool instanceof ee||this.pdfViewerBase.tool instanceof oe?(n&&this.pdfViewerBase.updateDocumentEditedProperty(!0),""===e.measureType||(0,t.isNullOrUndefined)(e.measureType)?"FreeText"===e.shapeAnnotationType?this.pdfViewer.annotation.freeTextAnnotationModule.modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(i),e):"HandWrittenSignature"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType?this.pdfViewerBase.signatureModule.modifySignatureCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(i),e):"Ink"===e.shapeAnnotationType?this.inkAnnotationModule.modifySignatureInkCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(i),e):"Stamp"===e.shapeAnnotationType||"Image"===e.shapeAnnotationType?this.stampAnnotationModule.modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(i),e,n):this.pdfViewer.annotation.shapeAnnotationModule.modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(i),e,n):"Distance"!==e.measureType&&"Perimeter"!==e.measureType&&"Radius"!==e.measureType&&"Area"!==e.measureType&&"Volume"!==e.measureType||this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(i),e),this.pdfViewerBase.tool instanceof oe&&(e.formFieldAnnotationType||this.triggerAnnotationResize(e)),this.pdfViewerBase.tool instanceof ee&&"Select"!==this.pdfViewerBase.action&&(e.formFieldAnnotationType||this.triggerAnnotationMove(e))):this.pdfViewerBase.tool instanceof ne&&(n&&this.pdfViewerBase.updateDocumentEditedProperty(!0),""===e.measureType||(0,t.isNullOrUndefined)(e.measureType)?"Line"!==e.shapeAnnotationType&&"LineWidthArrowHead"!==e.shapeAnnotationType&&"Polygon"!==e.shapeAnnotationType||this.pdfViewer.annotation.shapeAnnotationModule.modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(i),e,n):"Distance"!==e.measureType&&"Perimeter"!==e.measureType&&"Area"!==e.measureType&&"Volume"!==e.measureType||("Distance"===e.measureType&&this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("leaderLength",this.pdfViewer.annotation.getEventPageNumber(i),e),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("bounds",this.pdfViewer.annotation.getEventPageNumber(i),e)),this.triggerAnnotationResize(e));if(this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.annotationMenuObj&&this.pdfViewer.isSignatureEditable&&("HandWrittenSignature"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType)&&(this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!0),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export XFDF")],!0)),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.clearTextMarkupMode(),""===e.measureType||(0,t.isNullOrUndefined)(e.measureType)?this.pdfViewer.toolbarModule.annotationToolbarModule.clearMeasureMode():"Distance"!==e.measureType&&"Perimeter"!==e.measureType&&"Area"!==e.measureType&&"Volume"!==e.measureType&&"Radius"!==e.measureType||this.pdfViewer.toolbarModule.annotationToolbarModule.clearShapeMode(),1===this.pdfViewer.selectedItems.annotations.length&&null===this.pdfViewer.selectedItems.annotations[0].formFieldAnnotationType&&this.pdfViewer.toolbarModule.annotationToolbarModule.enableAnnotationPropertiesTools(!0),!(0,t.isBlazor)()&&1===this.pdfViewer.selectedItems.annotations.length&&!this.pdfViewer.designerMode)){if(this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(!0),this.pdfViewer.toolbarModule.annotationToolbarModule.setCurrentColorInPicker(),this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,this.pdfViewer.formDesignerModule||""==e.id||null==e.id||"sign"==e.id.slice(0,4))this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem);else{var r=document.getElementById(e.id),a=r&&r.disabled;a?this.pdfViewer.annotation&&a&&this.pdfViewer.annotation.clearSelection():this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem)}if(this.pdfViewer.isAnnotationToolbarVisible&&this.pdfViewer.isFormDesignerToolbarVisible)document.getElementById(this.pdfViewer.element.id+"_formdesigner_toolbar").style.display="none",this.pdfViewer.toolbarModule&&(this.pdfViewer.toolbarModule.formDesignerToolbarModule.isToolbarHidden=!1,this.pdfViewer.toolbarModule.formDesignerToolbarModule.showFormDesignerToolbar(this.pdfViewer.toolbarModule.formDesignerItem),this.pdfViewer.toolbarModule.annotationToolbarModule.adjustViewer(!0))}}},e.prototype.updateCalibrateValues=function(e,t){"Distance"===e.measureType?(e.notes=T(e,e.vertexPoints,this.measureAnnotationModule),!0===e.enableShapeLabel&&(e.labelContent=e.notes),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("notes",e.pageIndex,e,t),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(e.annotName,e.notes),this.renderAnnotations(e.pageIndex,null,null,null,null)):"Radius"===e.measureType?(e.notes=k(e,this.measureAnnotationModule),!0===e.enableShapeLabel&&(e.labelContent=e.notes),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("notes",e.pageIndex,e,t),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(e.annotName,e.notes),this.renderAnnotations(e.pageIndex,null,null,null,null)):"Perimeter"===e.measureType?(e.notes=N(e,e.vertexPoints,this.measureAnnotationModule),!0===e.enableShapeLabel&&(e.labelContent=e.notes),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("notes",e.pageIndex,e,t),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(e.annotName,e.notes),this.renderAnnotations(e.pageIndex,null,null,null,null)):"Area"===e.measureType?(e.notes=this.measureAnnotationModule.calculateArea(e.vertexPoints,e.id,e.pageIndex),!0===e.enableShapeLabel&&(e.labelContent=e.notes,L(e)),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("notes",e.pageIndex,e,t),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(e.annotName,e.notes),this.renderAnnotations(e.pageIndex,null,null,null,null)):"Volume"===e.measureType&&(e.notes=this.measureAnnotationModule.calculateVolume(e.vertexPoints,e.id,e.pageIndex),!0===e.enableShapeLabel&&(e.labelContent=e.notes,L(e)),this.pdfViewer.annotation.measureAnnotationModule.modifyInCollection("notes",e.pageIndex,e,t),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(e.annotName,e.notes),this.renderAnnotations(e.pageIndex,null,null,null,null))},e.prototype.onAnnotationMouseDown=function(){if(1===this.pdfViewer.selectedItems.annotations.length&&null===this.pdfViewer.selectedItems.annotations[0].formFieldAnnotationType&&this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule){if(!(0,t.isBlazor)()&&t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode)if("none"===document.getElementById(this.pdfViewer.element.id+"_commantPanel").style.display)if(this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&!(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.textMarkupAnnotationModule)&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools("");else if(this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&!this.pdfViewerBase.isAddComment){this.pdfViewer.toolbarModule.annotationToolbarModule.createAnnotationToolbarForMobile(),this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools(this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType);var e=document.getElementById(this.pdfViewer.element.id+"_annotationIcon");e&&!e.parentElement.classList.contains("e-pv-select")&&e.parentElement.classList.add("e-pv-select")}this.enableBasedOnType(),this.pdfViewer.toolbar.annotationToolbarModule.selectAnnotationDeleteItem(!0)}},e.prototype.enableBasedOnType=function(){var e=!1,i=this.pdfViewer.selectedItems.annotations[0];i&&i.annotationSettings&&(e=i.annotationSettings.isLock)&&this.checkAllowedInteractions("PropertyChange",i)&&(e=!1),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?e||("Stamp"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"Image"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"StickyNotes"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.pdfViewer.toolbar.annotationToolbarModule.enableStampAnnotationPropertiesTools(!0):"Path"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureImage"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.pdfViewer.toolbar.annotationToolbarModule.enableAnnotationPropertiesTools(!1):"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.pdfViewer.toolbar.annotationToolbarModule.enableFreeTextAnnotationPropertiesTools(!0):"HandWrittenSignature"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"Ink"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.pdfViewer.toolbar.annotationToolbarModule.enableSignaturePropertiesTools(!0):1===this.pdfViewer.selectedItems.annotations.length&&null===this.pdfViewer.selectedItems.annotations[0].formFieldAnnotationType&&this.pdfViewer.toolbar.annotationToolbarModule.enableAnnotationPropertiesTools(!0)):(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation||"annotations"===this.pdfViewer.selectedItems.annotations[0].propName||!t.Browser.isDevice||this.pdfViewer.enableDesktopMode||this.pdfViewer.toolbarModule.annotationToolbarModule.createMobileAnnotationToolbar(!0,!0)},e.prototype.getProperDate=function(e){var t=new Date(e.toString());if(isNaN(t.getFullYear())){var i=e.slice(2,16);i=i.slice(0,4)+"/"+i.slice(4,6)+"/"+i.slice(6,8)+" "+i.slice(8,10)+":"+i.slice(10,12)+":"+i.slice(12,14),t=new Date(i)}return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},e.prototype.getPageCollection=function(e,t){for(var i=null,n=0;n<e.length;n++)if(e[parseInt(n.toString(),10)].pageIndex===t){i=n;break}return i},e.prototype.getAnnotationWithId=function(e,t){for(var i,n=0;n<e.length;n++)t===e[parseInt(n.toString(),10)].id&&(i=e[parseInt(n.toString(),10)]);return i},e.prototype.getEventPageNumber=function(e){var i,n=e.target,o=e.target.parentElement;return n.classList.contains("e-pv-hyperlink")?n=o:o&&o.classList.contains("foreign-object")&&o.parentElement&&o.parentElement.parentElement&&o.parentElement.parentElement.parentElement?n=o.parentElement.parentElement.parentElement:n.classList.contains("e-pdfviewer-formFields")&&(n=o),n&&(i=n.id.split("_text_")[1]||n.id.split("_textLayer_")[1]||n.id.split("_annotationCanvas_")[1]||n.id.split("_pageDiv_")[1]),isNaN(parseInt(i,10))&&((n=(e=this.pdfViewerBase.annotationEvent&&this.pdfViewerBase.annotationEvent.target.id===n.id?this.pdfViewerBase.annotationEvent:e).target)&&n.id&&(i=n.id.split("_text_")[1]||n.id.split("_textLayer_")[1]||n.id.split("_annotationCanvas_")[1]||n.id.split("_pageDiv_")[1]),(0,t.isNullOrUndefined)(this.pdfViewerBase.annotationEvent)||(0,t.isNullOrUndefined)(this.pdfViewerBase.annotationEvent.target)||!(0,t.isNullOrUndefined)(i)||(i=this.pdfViewerBase.annotationEvent.target.id.split("_textLayer_")[1])),parseInt(i,10)},e.prototype.getAnnotationComments=function(e,t,i){var n=[],o=null;if(e&&e.length>0)for(var r=0;r<e.length;r++){var a=e[parseInt(r.toString(),10)];o={shapeAnnotationType:"sticky",author:a.Author,modifiedDate:a.ModifiedDate,note:a.Note,state:a.state,stateModel:a.stateModel,comments:[],review:{state:a.State,stateModel:a.StateModel,modifiedDate:a.ModifiedDate,author:a.Author},annotName:a.AnnotName,parentId:t.AnnotName,subject:a.Subject,isLock:a.IsLock},n[n.length]=o}return n},e.prototype.getRandomNumber=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return t.toString(16)}))},e.prototype.createGUID=function(){return this.getRandomNumber()},e.prototype.createAnnotationLayer=function(e,i,n,o,r){var a=this.pdfViewerBase.getElement("_annotationCanvas_"+o);if(a)return this.updateCanvas(a,i,n,o),a;var s=(0,t.createElement)("canvas",{id:this.pdfViewer.element.id+"_annotationCanvas_"+o,className:"e-pv-annotation-canvas"});return this.updateCanvas(s,i,n,o),e.appendChild(s),s},e.prototype.resizeAnnotations=function(e,t,i){var n=this.pdfViewerBase.getElement("_annotationCanvas_"+i);n&&(n.style.width=e+"px",n.style.height=t+"px",this.pdfViewerBase.applyElementStyles(n,i))},e.prototype.clearAnnotationCanvas=function(e){var t=this.pdfViewerBase.getElement("_annotationCanvas_"+e),i=this.pdfViewerBase.getZoomFactor(),n=this.pdfViewerBase.getZoomRatio(i);if(t){var o=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width,r=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height;t.width=o*n,t.height=r*n,t.style.width=o*i+"px",t.style.height=r*i+"px"}},e.prototype.renderAnnotations=function(e,n,o,r,a,s,l,d){if(this.clearAnnotationCanvas(e),this.shapeAnnotationModule&&(s?this.shapeAnnotationModule.renderShapeAnnotations(n,e,!0):this.shapeAnnotationModule.renderShapeAnnotations(n,e,null,l)),this.measureAnnotationModule&&(s?this.measureAnnotationModule.renderMeasureShapeAnnotations(o,e,!0):this.measureAnnotationModule.renderMeasureShapeAnnotations(o,e,null,l)),this.freeTextAnnotationModule&&(s?this.freeTextAnnotationModule.renderFreeTextAnnotations(d,e,!0):this.freeTextAnnotationModule.renderFreeTextAnnotations(d,e,null,l)),(0,t.isNullOrUndefined)(a)&&(a=this.pdfViewerBase.getElement("_annotationCanvas_"+e)),this.pdfViewer.drawing.refreshCanvasDiagramLayer(a,e),!this.pdfViewerBase.isInkAdded&&"Ink"===this.pdfViewer.tool&&this.pdfViewer.currentPageNumber-1===e){var h=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+(this.pdfViewer.currentPageNumber-1)),A=this.pdfViewerBase.getZoomFactor(),p=this.pdfViewerBase.getWindowDevicePixelRatio(),c=h.getContext("2d"),g=this.pdfViewer.inkAnnotationSettings.thickness?this.pdfViewer.inkAnnotationSettings.thickness:1,u=this.pdfViewer.inkAnnotationSettings.opacity?this.pdfViewer.inkAnnotationSettings.opacity:1,f=this.pdfViewer.inkAnnotationSettings.strokeColor?this.pdfViewer.inkAnnotationSettings.strokeColor:"#ff0000";(!t.Browser.isDevice||t.Browser.isDevice&&A<=.7)&&c.setTransform(p,0,0,p,0,0),c.beginPath(),c.lineJoin="round",c.lineCap="round",c.lineWidth=g*A>1?g*A:g,c.strokeStyle=f,c.globalAlpha=u;for(var m=(0,i.processPathData)(this.pdfViewer.annotationModule.inkAnnotationModule.updateInkDataWithZoom()),w=(0,i.splitArrayCollection)(m),y=0;y<w.length;y++){var S=w[parseInt(y.toString(),10)];switch(S.command){case"M":c.moveTo(S.x,S.y);break;case"L":c.lineTo(S.x,S.y)}}c.stroke(),c.closePath(),(0,t.isNullOrUndefined)(this.pdfViewer.toolbarModule)||(0,t.isNullOrUndefined)(this.pdfViewer.toolbarModule.annotationToolbarModule)||(this.pdfViewer.toolbar.annotationToolbarModule.inkAnnotationSelected=!0)}this.textMarkupAnnotationModule&&(s?this.textMarkupAnnotationModule.renderTextMarkupAnnotationsInPage(r,e,!0):this.textMarkupAnnotationModule.renderTextMarkupAnnotationsInPage(r,e))},e.prototype.storeAnnotations=function(e,t,i){sd.sessionStorageManager.getWindowSessionStorageSize()>4500&&(this.clearAnnotationStorage(),this.pdfViewerBase.isStorageExceed=!0,this.pdfViewerBase.isFormStorageExceed||this.pdfViewer.formFieldsModule&&this.pdfViewer.formFieldsModule.clearFormFieldStorage());var n=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+i);this.pdfViewerBase.isStorageExceed&&(n=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+i]);var o=0;if(n){this.storeAnnotationCollections(t,e);var r=JSON.parse(n);this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+i);var a=this.pdfViewer.annotationModule.getPageCollection(r,e);if(null!=a&&r[parseInt(a.toString(),10)])r[parseInt(a.toString(),10)].annotations.filter((function(e,i){e.annotName===t.annotName&&r[parseInt(a.toString(),10)].annotations.splice(i,1)})),r[parseInt(a.toString(),10)].annotations.push(t),o=r[parseInt(a.toString(),10)].annotations.indexOf(t);else{var s={pageIndex:e,annotations:[]};s.annotations.push(t),o=s.annotations.indexOf(t),r.push(s)}h=JSON.stringify(r);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+i]=h:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+i,h)}else{this.storeAnnotationCollections(t,e);var l={pageIndex:e,annotations:[]};l.annotations.push(t),o=l.annotations.indexOf(t);var d=[];d.push(l);var h=JSON.stringify(d);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+i]=h:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+i,h)}return o},e.prototype.getArrowType=function(e){var t="None";switch(e){case"ClosedArrow":case"Closed":t="Arrow";break;case"OpenArrow":case"Open":t="OpenArrow";break;case"Square":t="Square";break;case"Circle":case"Round":t="Circle";break;case"Diamond":t="Diamond";break;case"Butt":t="Butt"}return t},e.prototype.getArrowTypeForCollection=function(e){var t;switch(e){case"Arrow":t="ClosedArrow";break;case"OpenArrow":case"Square":case"Circle":case"Diamond":case"None":t=e.toString();break;case"Butt":t="Butt"}return t},e.prototype.getBounds=function(e,t){var i=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];return i?1===i.rotation?{left:e.top,top:i.width-(e.left+e.width),width:e.height,height:e.width}:2===i.rotation?{left:i.width-e.left-e.width,top:i.height-e.top-e.height,width:e.width,height:e.height}:3===i.rotation?{left:i.height-e.top-e.height,top:e.left,width:e.height,height:e.width}:e:e},e.prototype.getInkBounds=function(e,t){var i=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];return i?1===i.rotation?{x:e.y,y:i.width-(e.x+e.width),width:e.height,height:e.width}:2===i.rotation?{x:i.width-e.x-e.width,y:i.height-e.y-e.height,width:e.width,height:e.height}:3===i.rotation?{x:i.height-e.y-e.height,y:e.x,width:e.height,height:e.width}:e:e},e.prototype.getVertexPoints=function(e,t){if(e){var i=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];if(1===i.rotation){for(var n=[],o=0;o<e.length;o++){var r={x:e[parseInt(o.toString(),10)].y,y:i.width-e[parseInt(o.toString(),10)].x};n.push(r)}return n}if(2===i.rotation){var a=[];for(o=0;o<e.length;o++){r={x:i.width-e[parseInt(o.toString(),10)].x,y:i.height-e[parseInt(o.toString(),10)].y};a.push(r)}return a}if(3===i.rotation){var s=[];for(o=0;o<e.length;o++){r={x:i.height-e[parseInt(o.toString(),10)].y,y:e[parseInt(o.toString(),10)].x};s.push(r)}return s}return e}},e.prototype.getStoredAnnotations=function(e,t,i){var n,o=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+i);if(this.pdfViewerBase.isStorageExceed&&(o=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+i]),o){var r=JSON.parse(o),a=this.pdfViewer.annotationModule.getPageCollection(r,e);n=null!=a&&r[parseInt(a.toString(),10)]?r[parseInt(a.toString(),10)].annotations:null}else n=null;return n},e.prototype.triggerAnnotationPropChange=function(e,t,i,n,o,r,a,s,l,d,h){this.getAnnotationIndex(e.pageIndex,e.id);var A=this.getAnnotationType(e.shapeAnnotationType,e.measureType),p={name:"annotationPropertiesChange",pageIndex:e.pageIndex,annotationId:e.annotName,annotationType:A,isColorChanged:t,isOpacityChanged:o,isThicknessChanged:n,isStrokeColorChanged:i};l&&(p.isFreeTextChanged=l,p.previousText=d,p.currentText=h),r&&(p.isLineHeadStartStyleChanged=r),a&&(p.isLineHeadEndStyleChanged=a),s&&(p.isBorderDashArrayChanged=s),this.pdfViewer.trigger("annotationPropertiesChange",p)},e.prototype.triggerAnnotationAdd=function(e){var t,i={opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate},n={left:e.wrapper.bounds.x,top:e.wrapper.bounds.y,width:e.wrapper.bounds.width,height:e.wrapper.bounds.height},o=this.getAnnotationType(e.shapeAnnotationType,e.measureType);"Line"!==o&&"Arrow"!==o&&"Distance"!==o&&"Perimeter"!==o||(i.lineHeadStartStyle=this.getArrowString(e.sourceDecoraterShapes),i.lineHeadEndStyle=this.getArrowString(e.taregetDecoraterShapes),i.borderDashArray=e.borderDashArray),this.pdfViewer.enableShapeLabel?(t={fontColor:e.fontColor,fontSize:e.fontSize,fontFamily:e.fontFamily,opacity:e.labelOpacity,labelContent:e.labelContent,fillColor:e.labelFillColor},this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,o,n,i,null,null,null,t)):this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,o,n,i)},e.prototype.triggerAnnotationResize=function(e){var t,i={opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate},n=e.bounds,o={left:n.x,top:n.y,x:n.x,y:n.y,width:n.width,height:n.height},r={left:n.oldProperties.x,top:n.oldProperties.y,width:n.oldProperties.width,height:n.oldProperties.height},a=this.getAnnotationType(e.shapeAnnotationType,e.measureType);"Line"!==a&&"Arrow"!==a&&"Distance"!==a&&"Perimeter"!==a||(i.lineHeadStartStyle=this.getArrowString(e.sourceDecoraterShapes),i.lineHeadEndStyle=this.getArrowString(e.taregetDecoraterShapes),i.borderDashArray=e.borderDashArray),this.pdfViewer.enableShapeLabel&&"HandWrittenSignature"!==e.shapeAnnotationType?(t={fontColor:e.fontColor,fontSize:e.fontSize,fontFamily:e.fontFamily,opacity:e.labelOpacity,labelContent:e.labelContent,fillColor:e.labelFillColor,notes:e.notes},this.pdfViewer.fireAnnotationResize(e.pageIndex,e.annotName,a,o,i,null,null,null,t)):"HandWrittenSignature"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType?this.pdfViewer.fireSignatureResize(e.pageIndex,e.signatureName,e.shapeAnnotationType,e.opacity,e.strokeColor,e.thickness,o,r):this.pdfViewer.fireAnnotationResize(e.pageIndex,e.annotName,a,o,i)},e.prototype.triggerAnnotationMove=function(e,t){var i={opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate},n=e.bounds,o={left:n.x,top:n.y,x:n.x,y:n.y,width:n.width,height:n.height},r={left:n.oldProperties.x?n.oldProperties.x:n.x,top:n.oldProperties.y?n.oldProperties.y:n.y,width:n.width,height:n.height},a=this.getAnnotationType(e.shapeAnnotationType,e.measureType);"Line"!==a&&"Arrow"!==a&&"Distance"!==a&&"Perimeter"!==a||(i.lineHeadStartStyle=this.getArrowString(e.sourceDecoraterShapes),i.lineHeadEndStyle=this.getArrowString(e.taregetDecoraterShapes),i.borderDashArray=e.borderDashArray),"HandWrittenSignature"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType?this.pdfViewer.fireSignatureMove(e.pageIndex,e.signatureName,e.shapeAnnotationType,e.opacity,e.strokeColor,e.thickness,r,o):t?this.pdfViewer.fireAnnotationMoving(e.pageIndex,e.annotName,a,i,r,o):this.pdfViewer.fireAnnotationMove(e.pageIndex,e.annotName,a,i,r,o)},e.prototype.annotationSelect=function(e,t,i,n,o,r){var a;"textMarkup"===i.shapeAnnotationType?a={type:"TextMarkup",subType:i.subject,opacity:i.opacity,color:i.color,textMarkupContent:i.textMarkupContent,textMarkupStartIndex:i.textMarkupStartIndex,textMarkupEndIndex:i.textMarkupEndIndex,customData:i.customData}:"StickyNotes"===i.shapeAnnotationType?a={type:"StickyNotes",opacity:i.opacity,customData:i.customData}:"Stamp"===i.shapeAnnotationType||"Image"===i.shapeAnnotationType?a={type:"Stamp",opacity:i.opacity,customData:i.customData}:"Ink"===i.shapeAnnotationType?a={type:"Ink",opacity:i.opacity,strokeColor:i.strokeColor,thickness:i.thickness,modifiedDate:i.modifiedDate,width:i.bounds.width,height:i.bounds.height,left:i.bounds.x,top:i.bounds.y,data:i.data,customData:i.customData}:"FreeText"===i.shapeAnnotationType?a={type:"FreeText",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,content:i.dynamicText,fontFamily:i.fontFamily,fontSize:i.fontSize,fontColor:i.fontColor,textAlign:i.textAlign,fontStyle:this.updateFreeTextFontStyle(i.font),customData:i.customData}:""===i.measureType?"Line"===i.shapeAnnotationType?a={type:"Shape",subType:"Line",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,borderDashArray:i.borderDashArray,lineHeadStartStyle:i.sourceDecoraterShapes,lineHeadEndStyle:i.taregetDecoraterShapes,customData:i.customData}:"Arrow"===i.shapeAnnotationType||"LineWidthArrowHead"===i.shapeAnnotationType?a={type:"Shape",subType:"Arrow",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,borderDashArray:i.borderDashArray,lineHeadStartStyle:i.sourceDecoraterShapes,lineHeadEndStyle:i.taregetDecoraterShapes,customData:i.customData}:"Rectangle"===i.shapeAnnotationType?a={type:"Shape",subType:"Rectangle",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,customData:i.customData}:"Circle"===i.shapeAnnotationType||"Ellipse"===i.shapeAnnotationType?a={type:"Shape",subType:"Circle",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,customData:i.customData}:"Polygon"===i.shapeAnnotationType&&(a={type:"Shape",subType:"Polygon",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,customData:i.customData}):""!==i.measureType&&("Distance"===i.measureType?a={type:"Measure",subType:"Distance",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,borderDashArray:i.borderDashArray,lineHeadStartStyle:i.sourceDecoraterShapes,lineHeadEndStyle:i.taregetDecoraterShapes,customData:i.customData}:"Perimeter"===i.measureType?a={type:"Measure",subType:"Perimeter",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,borderDashArray:i.borderDashArray,lineHeadStartStyle:i.sourceDecoraterShapes,lineHeadEndStyle:i.taregetDecoraterShapes,customData:i.customData}:"Area"===i.measureType?a={type:"Measure",subType:"Area",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,customData:i.customData}:"Radius"===i.measureType?a={type:"Measure",subType:"Radius",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,customData:i.customData}:"Volume"===i.measureType&&(a={type:"Measure",subType:"Volume",opacity:i.opacity,fillColor:i.fillColor,strokeColor:i.strokeColor,thickness:i.thickness,calibrate:i.calibrate,annotationId:i.annotName,customData:i.customData}));var s=[],l=this.getOverlappedAnnotations(i,t);if(l&&this.overlappedCollections){for(var d=[],h=0;h<l.length;h++)if("textMarkup"!==l[parseInt(h.toString(),10)].shapeAnnotationType&&this.overlappedCollections||r){for(var A=0;A<this.overlappedCollections.length;A++)if(l[parseInt(h.toString(),10)].annotName===this.overlappedCollections[parseInt(A.toString(),10)].annotName){d.push(l[parseInt(h.toString(),10)]);break}}else d.push(l[parseInt(h.toString(),10)]);l=d}if(this.pdfViewer.enableMultiLineOverlap)for(h=0;h<l.length;h++)if("textMarkup"===l[parseInt(h.toString(),10)].shapeAnnotationType){var p=!1;for(A=0;A<l[parseInt(h.toString(),10)].bounds.length;A++){var c=this.orderTextMarkupBounds(l[parseInt(h.toString(),10)].bounds[parseInt(A.toString(),10)]),g=this.textMarkupAnnotationModule.annotationClickPosition;g&&(g.x||g.y)?c.left<=g.x&&c.left+c.width>=g.x&&c.top<=g.y&&c.top+c.height>=g.y&&(p=!0):p=!0}p||l.splice(h,1)}if(l&&l.length>0){n=l;for(h=0;h<n.length;h++){var u=C(n[parseInt(h.toString(),10)]);u.annotationId=n[parseInt(h.toString(),10)].annotName,e===n[parseInt(h.toString(),10)].annotName&&i.measureType&&"Volume"===i.measureType&&(a.calibrate=n[parseInt(h.toString(),10)].calibrate),delete u.annotName,s.push(u)}}else s=null;this.addFreeTextProperties(i,a);var f=i.annotationAddMode;if(o)("Stamp"===i.shapeAnnotationType||"Image"===i.shapeAnnotationType)&&this.pdfViewerBase.isNewStamp||this.pdfViewer.fireAnnotationDoubleClick(e,t,a);else if("Stamp"===i.shapeAnnotationType||"Image"===i.shapeAnnotationType)!this.pdfViewerBase.isNewStamp&&this.annotationSelected&&(s?this.pdfViewer.fireAnnotationSelect(e,t,a,s,null,null,f):this.pdfViewer.fireAnnotationSelect(e,t,a,null,null,null,f));else{var m=this.textMarkupAnnotationModule,w=m&&m.multiPageCollectionList(i);w&&0===w.length&&(w=null),this.annotationSelected&&(s?(r=!1,this.pdfViewer.fireAnnotationSelect(e,t,a,s,w,r,f)):(r=!0,this.pdfViewer.fireAnnotationSelect(e,t,a,null,w,r,f)))}this.annotationSelected=!0},e.prototype.selectSignature=function(e,t,i){var n=i.bounds,o={height:n.height,width:n.width,x:n.x,y:n.y};if(!this.pdfViewerBase.signatureAdded&&"ink"!==i.signatureName){var r={bounds:o,opacity:i.opacity,thickness:i.thickness,strokeColor:i.strokeColor};this.pdfViewer.fireSignatureSelect(e,t,r)}},e.prototype.unselectSignature=function(e,t,i){var n=i.bounds,o={height:n.height,width:n.width,x:n.x,y:n.y};if(!this.pdfViewerBase.signatureAdded){var r={bounds:o,opacity:i.opacity,thickness:i.thickness,strokeColor:i.strokeColor};this.pdfViewer.fireSignatureUnselect(e,t,r)}},e.prototype.editSignature=function(e){var i,n=(i=e.uniqueKey?this.pdfViewer.nameTable[e.uniqueKey]:this.pdfViewer.selectedItems.annotations[0]).pageIndex;if("HandWrittenSignature"===i.shapeAnnotationType||"SignatureText"===i.shapeAnnotationType||"SignatureImage"===i.shapeAnnotationType){var o=C(i),r=C(i);(0,t.isNullOrUndefined)(e.opacity)&&i.opacity===e.opacity||(r.opacity=e.opacity,this.pdfViewer.nodePropertyChange(i,{opacity:e.opacity}),this.pdfViewer.fireSignaturePropertiesChange(i.pageIndex,i.signatureName,i.shapeAnnotationType,!1,!0,!1,o.opacity,r.opacity),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Shape Opacity","",o,r)),i.strokeColor!==e.strokeColor&&(r.strokeColor=e.strokeColor,this.pdfViewer.nodePropertyChange(i,{strokeColor:e.strokeColor}),this.pdfViewer.fireSignaturePropertiesChange(i.pageIndex,i.signatureName,i.shapeAnnotationType,!0,!1,!1,o.strokeColor,r.strokeColor),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Shape Stroke","",o,r)),i.thickness!==e.thickness&&(r.thickness=e.thickness,this.pdfViewer.nodePropertyChange(i,{thickness:e.thickness}),this.pdfViewer.fireSignaturePropertiesChange(i.pageIndex,i.signatureName,i.shapeAnnotationType,!1,!1,!0,o.thickness,r.thickness),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Shape Thickness","",o,r)),i.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.pdfViewer.renderDrawing(),this.pdfViewerBase.signatureModule.modifySignatureCollection(null,n,i,!0)}},e.prototype.deletComment=function(e){e.parentElement.firstChild===e?this.deleteAnnotation():this.pdfViewer.annotationModule.stickyNotesAnnotationModule.modifyCommentDeleteProperty(e.parentElement,e)},e.prototype.addReplyComments=function(e,t,i){if("add"===i){var n=document.getElementById(e.annotName);this.pdfViewer.annotationModule.stickyNotesAnnotationModule.createCommentDiv(n);for(var o=0;o<t.length;o++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveCommentDiv(n,t[parseInt(o.toString(),10)])}else if("next"===i){n=document.getElementById(e.annotationId);this.selectAnnotation(e),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveCommentDiv(n,t)}},e.prototype.editComments=function(e,t){document.getElementById(e).childNodes[1].ej2_instances[0].value=t},e.prototype.editAnnotation=function(e){var i,n,o,r,a,s=!1;if((0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)||(a=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation),!a||e.annotationId&&e.uniqueKey||e.annotationId!==a.annotName?this.pdfViewer.selectedItems.annotations[0]&&(n=(i=this.pdfViewer.selectedItems.annotations[0]).annotName,r=i.pageIndex):(n=(i=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation).annotName,r=this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage),void 0!==e.uniqueKey){if((i=this.pdfViewer.nameTable[e.uniqueKey])&&i.annotationSettings&&!(0,t.isNullOrUndefined)(i.annotationSettings.isLock)&&(i.annotationSettings.isLock=e.annotationSettings.isLock),n=i.annotName,r=i.pageIndex,(0,t.isBlazor)()&&e.allowedInteractions)for(var l=e.allowedInteractions.length,d=0;d<l;d++)0===e.allowedInteractions[parseInt(d.toString(),10)]&&(e.allowedInteractions[parseInt(d.toString(),10)]=Ve.Select),1===e.allowedInteractions[parseInt(d.toString(),10)]&&(e.allowedInteractions[parseInt(d.toString(),10)]=Ve.Move),2===e.allowedInteractions[parseInt(d.toString(),10)]&&(e.allowedInteractions[parseInt(d.toString(),10)]=Ve.Resize),3===e.allowedInteractions[parseInt(d.toString(),10)]&&(e.allowedInteractions[parseInt(d.toString(),10)]=Ve.Delete),4===e.allowedInteractions[parseInt(d.toString(),10)]&&(e.allowedInteractions[parseInt(d.toString(),10)]=Ve.PropertyChange),5===e.allowedInteractions[parseInt(d.toString(),10)]&&(e.allowedInteractions[parseInt(d.toString(),10)]=Ve.None);i.allowedInteractions=e.allowedInteractions?e.allowedInteractions:this.updateAnnotationAllowedInteractions(e)}if(i||"sticky"===e.shapeAnnotationType&&void 0!==e.annotationId&&(i=this.pdfViewer.nameTable[e.annotationId])&&(i.annotationSettings.isLock=e.annotationSettings.isLock,n=i.annotName,r=i.pageIndex),"textMarkup"===e.shapeAnnotationType){i=this.pdfViewer.annotationModule.textMarkupAnnotationModule.getAnnotations(e.pageNumber,e);for(d=0;d<i.length;d++)if(e.annotationId===i[parseInt(d.toString(),10)].annotName){s=!0,(i=i[parseInt(d.toString(),10)]).isPrint=e.isPrint,this.textMarkupAnnotationModule.currentTextMarkupAnnotation=i,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage=i.pageNumber,i.allowedInteractions=e.allowedInteractions,r=i.pageNumber,n=e.annotationId;break}}if(i){var h=C(i),A=C(i);if("textMarkup"===e.shapeAnnotationType&&(o="textMarkup"),e&&!0===e.isCommentLock&&(i.isCommentLock=e.isCommentLock),e&&i.annotationSelectorSettings!==e.annotationSelectorSettings&&(!(0,t.isNullOrUndefined)(e.type)&&"TextMarkup"!==e.type||!(0,t.isNullOrUndefined)(e.shapeAnnotationType)&&"textMarkup"!==e.shapeAnnotationType)&&(i.annotationSelectorSettings=e.annotationSelectorSettings,A.annotationSelectorSettings=e.annotationSelectorSettings,this.pdfViewer.nodePropertyChange(i,{annotationSelectorSettings:e.annotationSelectorSettings}),this.triggerAnnotationPropChange(i,!1,!0,!1,!1)),e.comments)for(var p=0;p<e.comments.length;p++)!0===e.comments[parseInt(p.toString(),10)].isLock&&(o?(i.comments=e.comments,i.comments[parseInt(p.toString(),10)].isLock=e.comments[parseInt(p.toString(),10)].isLock):(i.properties.comments=e.comments,i.properties.comments[parseInt(p.toString(),10)].isLock=e.comments[parseInt(p.toString(),10)].isLock));if(e&&""!==e.note&&void 0!==e.note?o?(i.note=e.note,this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addTextToComments(i.annotName,i.note)):(i.notes=e.note,this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addTextToComments(i.annotName,i.notes)):e&&e.isCommentLock&&(e.type&&"FreeText"!==e.type||"FreeText"!==e.shapeAnnotationType)&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addTextToComments(i.annotName,"  "),e.commentId&&e.editComment&&"edit"===e.commentType&&this.editComments(e.commentId,e.editComment),e.replyComment&&"add"===e.commentType&&(this.addReplyComments(i,e.replyComment,e.commentType),this.pdfViewer.annotationCollection[0].note=e.note),e.nextComment&&"next"===e.commentType&&this.addReplyComments(e,e.nextComment,e.commentType),""===e.note&&"delete"===e.commentType){var c=document.getElementById(e.annotationId);this.deletComment(c)}if(e.comments)for(p=0;p<e.comments.length;p++)if(""===e.comments[parseInt(p.toString(),10)].note&&"delete"===e.commentType){c=document.getElementById(e.comments[parseInt(p.toString(),10)].annotName);this.deletComment(c)}if("TextMarkup"===e.type||"textMarkup"===e.shapeAnnotationType){if(i.annotationSettings&&e.annotationSettings&&i.annotationSettings.isLock!==e.annotationSettings.isLock){var g=this.textMarkupAnnotationModule.modifyAnnotationProperty("AnnotationSettings",e.annotationSettings.isLock,null);this.textMarkupAnnotationModule.manageAnnotations(g,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage)}if(e&&i.annotationSelectorSettings!==e.annotationSelectorSettings){g=this.textMarkupAnnotationModule.modifyAnnotationProperty("AnnotationSelectorSettings",e.annotationSelectorSettings,null);this.textMarkupAnnotationModule.manageAnnotations(g,this.textMarkupAnnotationModule.selectTextMarkupCurrentPage)}i.opacity!==e.opacity&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyOpacityProperty(null,e.opacity),i.color!==e.color&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyColorProperty(e.color),o="textMarkup",s&&(this.textMarkupAnnotationModule.selectTextMarkupCurrentPage=null)}else if(e&&"image"===e.stampAnnotationType&&"stamp"===e.shapeAnnotationType&&e.stampAnnotationPath)o="stamp",i.data!==e.stampAnnotationPath&&(i.data=e.stampAnnotationPath,i.wrapper.children[0].imageSource=e.stampAnnotationPath),(0,t.isNullOrUndefined)(e.opacity)||i.opacity===e.opacity||(A.opacity=e.opacity,this.annotationPropertyChange(i,e.opacity,"Shape Opacity",h,A)),this.calculateAnnotationBounds(i,e);else if("StickyNotes"===e.type||"Stamp"===e.type||"sticky"===e.shapeAnnotationType||"stamp"===e.shapeAnnotationType)(0,t.isNullOrUndefined)(e.opacity)||i.opacity===e.opacity||(A.opacity=e.opacity,this.annotationPropertyChange(i,e.opacity,"Shape Opacity",h,A)),this.calculateAnnotationBounds(i,e),o="StickyNotes"===e.type||"sticky"===e.shapeAnnotationType?"sticky":"stamp";else if("Ink"===e.type||"Shape"===e.type||"Measure"===e.type||"Line"===e.shapeAnnotationType||"Square"===e.shapeAnnotationType||"Circle"===e.shapeAnnotationType||"Polygon"===e.shapeAnnotationType||"Polyline"===e.shapeAnnotationType||"Ink"===e.shapeAnnotationType){if(this.calculateAnnotationBounds(i,e),(0,t.isNullOrUndefined)(e.opacity)||i.opacity===e.opacity||(A.opacity=e.opacity,this.annotationPropertyChange(i,e.opacity,"Shape Opacity",h,A)),e.fillColor&&i.fillColor!==e.fillColor&&(A.fillColor=e.fillColor,e.labelSettings&&e.labelSettings.fillColor&&(e.labelSettings.fillColor=e.fillColor),this.pdfViewer.nodePropertyChange(i,{fillColor:e.fillColor}),this.triggerAnnotationPropChange(i,!0,!1,!1,!1),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Shape Fill","",h,A)),e.strokeColor&&i.strokeColor!==e.strokeColor&&(A.strokeColor=e.strokeColor,this.pdfViewer.nodePropertyChange(i,{strokeColor:e.strokeColor}),this.triggerAnnotationPropChange(i,!1,!0,!1,!1),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Shape Stroke","",h,A)),e.thickness&&i.thickness!==e.thickness&&(A.thickness=e.thickness,this.pdfViewer.nodePropertyChange(i,{thickness:e.thickness}),this.triggerAnnotationPropChange(i,!1,!1,!0,!1),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Shape Thickness","",h,A)),i.author!==e.author&&(A.author=e.author,this.pdfViewer.nodePropertyChange(i,{author:e.author}),this.triggerAnnotationPropChange(i,!1,!0,!1,!1)),i.subject!==e.subject&&(A.subject=e.subject,this.pdfViewer.nodePropertyChange(i,{subject:e.subject}),this.triggerAnnotationPropChange(i,!1,!0,!1,!1)),i.modifiedDate!==e.modifiedDate&&(A.modifiedDate=e.modifiedDate,this.pdfViewer.nodePropertyChange(i,{modifiedDate:e.modifiedDate})),i.subject!==e.subject&&(A.subject=e.subject,this.pdfViewer.nodePropertyChange(i,{subject:e.subject}),this.triggerAnnotationPropChange(i,!1,!0,!1,!1),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Shape Stroke","",h,A)),this.pdfViewer.enableShapeLabel&&i.fontColor!==e.fontColor&&(A.fontColor=e.fontColor,this.pdfViewer.nodePropertyChange(i,{fontColor:e.fontColor})),this.pdfViewer.enableShapeLabel&&e.labelSettings&&e.labelSettings.fillColor&&i.labelFillColor!==e.labelSettings.fillColor&&(A.labelFillColor=e.labelSettings.fillColor,this.pdfViewer.nodePropertyChange(i,{labelFillColor:e.labelSettings.fillColor})),"Line"!==e.shapeAnnotationType&&"Polyline"!==e.shapeAnnotationType&&"Polygon"!==e.shapeAnnotationType||JSON.stringify(i.vertexPoints)!==JSON.stringify(e.vertexPoints)&&(i.vertexPoints=e.vertexPoints,this.pdfViewer.nodePropertyChange(i,{vertexPoints:e.vertexPoints})),"Line"===e.subType||"Arrow"===e.subType||"Distance"===e.subType||"Perimeter"===e.subType){var u=!1,f=!1,m=!1;h.lineHeadStart=i.sourceDecoraterShapes,h.lineHeadEnd=i.taregetDecoraterShapes,A.lineHeadStart=e.lineHeadStartStyle,A.lineHeadEnd=e.lineHeadEndStyle,A.borderDashArray=e.borderDashArray,i.taregetDecoraterShapes!==e.lineHeadEndStyle&&(f=!0),i.sourceDecoraterShapes!==e.lineHeadStartStyle&&(u=!0),i.borderDashArray!==e.borderDashArray&&(m=!0),this.pdfViewer.nodePropertyChange(i,{sourceDecoraterShapes:e.lineHeadStartStyle,taregetDecoraterShapes:e.lineHeadEndStyle,borderDashArray:e.borderDashArray}),this.triggerAnnotationPropChange(i,!1,!1,!1,!1,u,f,m),this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Line properties change","",h,A)}"Shape"!==e.type&&"Line"!==e.shapeAnnotationType&&"Square"!==e.shapeAnnotationType&&"Circle"!==e.shapeAnnotationType&&"Polygon"!==e.shapeAnnotationType||(o="shape"),"Ink"!==e.type&&"Ink"!==e.shapeAnnotationType||(o="ink"),"Measure"!==e.type&&"LineDimension"!==e.indent&&"PolyLineDimension"!==e.indent&&"PolygonDimension"!==e.indent&&"PolygonRadius"!==e.indent&&"PolygonVolume"!==e.indent||(o="shape_measure"),e.labelSettings&&this.pdfViewer.enableShapeLabel&&(this.updateFreeTextProperties(i),this.pdfViewer.nodePropertyChange(i,{labelOpacity:e.labelSettings.opacity,fontColor:e.labelSettings.fontColor,fontSize:e.labelSettings.fontSize,fontFamily:e.labelSettings.fontFamily,labelContent:i.notes,labelFillColor:e.labelSettings.fillColor})),this.pdfViewer.enableShapeLabel&&e.calibrate&&e.calibrate.depth&&this.pdfViewer.annotationModule.measureAnnotationModule.volumeDepth!==e.calibrate.depth&&(this.pdfViewer.annotationModule.measureAnnotationModule.volumeDepth=e.calibrate.depth,i.notes=this.pdfViewer.annotationModule.measureAnnotationModule.calculateVolume(i.vertexPoints,i.id,i.pageIndex),i.labelContent=i.notes,e.labelSettings&&e.labelSettings.labelContent&&(e.labelSettings.labelContent=i.notes),this.pdfViewer.nodePropertyChange(i,{labelContent:i.labelContent}),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addTextToComments(i.annotName,i.notes))}else if("FreeText"===e.type||"FreeText"===e.shapeAnnotationType){if(o="freetext",this.pdfViewer.freeTextSettings.enableAutoFit&&i.dynamicText!==e.content){var w=this.pdfViewerBase.getElement("_annotationCanvas_"+i.pageIndex).getContext("2d"),y=e.fontSize,S=void 0,B=e.fontFamily,I=this.pdfViewerBase.getZoomFactor();S=e.font.isBold?"bold "+y+"px "+B:y+"px "+B,w.font=S;var b="",v=[],E=e.content?e.content:e.dynamicText;if(E.indexOf("\n")>-1){v=E.split("\n");for(p=0;p<v.length;p++){var x=w.measureText(v[parseInt(p.toString(),10)]),_=w.measureText(b);x.width>_.width&&(b=v[parseInt(p.toString(),10)])}}else b=E;var D=w.measureText(b);e.bounds.width=Math.ceil(D.width+18);var M=this.pdfViewerBase.getElement("_pageDiv_"+e.pageIndex).clientWidth-e.bounds.left*I;e.bounds.width>M&&(e.bounds.width=M/I);var V=e.bounds.height;e.bounds.height=V>=i.bounds.height?V:i.bounds.height}this.calculateAnnotationBounds(i,e),e.opacity&&i.opacity!==e.opacity&&this.triggerAnnotationPropChange(i,!1,!1,!1,!0),e.fillColor&&i.fillColor!==e.fillColor&&(A.fillColor=e.fillColor,this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"Shape Fill","",h,A),this.triggerAnnotationPropChange(i,!0,!1,!1,!1)),e.fontColor&&i.fontColor!==e.fontColor&&(A.fontColor=e.fontColor,this.pdfViewer.annotation.addAction(i.pageIndex,null,i,"fontColor","",h,A),this.triggerAnnotationPropChange(i,!1,!1,!1,!1)),e.strokeColor&&i.strokeColor!==e.strokeColor&&this.triggerAnnotationPropChange(i,!1,!0,!1,!1),e.thickness&&i.thickness!==e.thickness&&this.triggerAnnotationPropChange(i,!1,!1,!0,!1);var Q=i.isLock;(0,t.isNullOrUndefined)(e.isLock)?(0,t.isNullOrUndefined)(e.annotationSettings.isLock)||(Q=e.annotationSettings.isLock):Q=e.isLock,i.annotationSettings.isLock=Q,i.isLock=Q,e.content=e.content&&e.content===e.dynamicText?e.content:e.dynamicText,e.content&&i.dynamicText!==e.content&&this.triggerAnnotationPropChange(i,!1,!1,!1,!1,!1,!1,!1,!0,i.dynamicText,e.content),this.pdfViewer.nodePropertyChange(i,{opacity:e.opacity,fontColor:e.fontColor,fontSize:e.fontSize,fontFamily:e.fontFamily,dynamicText:e.content,fillColor:e.fillColor,textAlign:e.textAlign,strokeColor:e.strokeColor,thickness:e.thickness,font:e.fontStyle?this.setFreeTextFontStyle(e.fontStyle):this.setFreeTextFontStyle(e.font),isReadonly:e.isReadonly}),e.content&&i&&this.updateAnnotationComments(i.annotName,e.content);var F=document.getElementById(this.pdfViewer.element.id+"_commenttextbox_editor");new Ht.InPlaceEditor({value:e.content}).appendTo(F)}i.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),i.customData!==e.customData&&(i.customData=e.customData),i.isPrint=e.isPrint,"TextMarkup"!==e.type&&"textMarkup"!==e.shapeAnnotationType&&this.pdfViewer.renderDrawing(),this.updateCollection(n,r,e,o)}},e.prototype.annotationPropertyChange=function(e,t,i,n,o){this.pdfViewer.nodePropertyChange(e,{opacity:t}),this.triggerAnnotationPropChange(e,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(e.pageIndex,null,e,i,"",n,o)},e.prototype.calculateAnnotationBounds=function(e,t){var i=this.pdfViewerBase.convertBounds(e.wrapper.bounds),n=this.pdfViewerBase.convertBounds(t.bounds);if(i&&n&&(JSON.stringify(i)!==JSON.stringify(n)&&Math.abs(i.Y-i.Y)>2||Math.abs(i.X-n.X)>2||Math.abs(i.Width-n.Width)>2||Math.abs(i.Height-n.Height)>2)){var o={x:n.X+n.Width/2,y:n.Y+n.Height/2,width:n.Width,height:n.Height};this.pdfViewer.nodePropertyChange(e,{bounds:o}),this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.triggerAnnotationPropChange(e,!1,!1,!1,!1)}},e.prototype.updateFreeTextProperties=function(e){e.labelSettings&&(e.labelSettings.fillColor&&(e.labelFillColor=e.labelSettings.fillColor),e.labelSettings.fontColor&&(e.fontColor=e.labelSettings.fontColor),e.labelSettings.fontSize&&(e.fontSize=e.labelSettings.fontSize),e.labelSettings.fontFamily&&(e.fontFamily=e.labelSettings.fontFamily),e.labelSettings.opacity&&(e.labelOpacity=e.labelSettings.opacity),e.labelSettings.labelContent&&(e.labelContent=e.labelSettings.labelContent))},e.prototype.updateAnnotationComments=function(e,t){var i=document.getElementById(e);i&&i.childNodes&&(i.childNodes[0].ej2_instances?i.childNodes[0].ej2_instances[0].value=t:i.childNodes[0].childNodes&&i.childNodes[0].childNodes[1].ej2_instances&&(i.childNodes[0].childNodes[1].ej2_instances[0].value=t))},e.prototype.addFreeTextProperties=function(e,t){this.pdfViewer.enableShapeLabel&&e&&t&&(t.labelSettings={fontColor:e.fontColor,fontSize:e.fontSize,fontFamily:e.fontFamily,opacity:e.labelOpacity,labelContent:e.labelContent,fillColor:e.labelFillColor})},e.prototype.updateMeasurementSettings=function(){if(this.pdfViewer.enableAnnotation&&this.pdfViewer.enableMeasureAnnotation){var e="1 "+this.pdfViewer.measurementSettings.conversionUnit+" = "+this.pdfViewer.measurementSettings.scaleRatio+" "+this.pdfViewer.measurementSettings.displayUnit;this.measureAnnotationModule.updateMeasureValues(e,this.pdfViewer.measurementSettings.displayUnit,this.pdfViewer.measurementSettings.conversionUnit,this.pdfViewer.measurementSettings.depth)}},e.prototype.updateCollection=function(e,t,i,n){var o,r=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_"+n);if(this.pdfViewerBase.isStorageExceed&&(r=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+n]),r){var a=JSON.parse(r),s=this.getPageCollection(a,t);if(null!=s&&a[parseInt(s.toString(),10)]&&null!==(o=a[parseInt(s.toString(),10)].annotations)){for(var l=0;l<o.length;l++)if(o[parseInt(l.toString(),10)].annotName===e){var d=this.modifyAnnotationProperties(o[parseInt(l.toString(),10)],i,n);o[parseInt(l.toString(),10)]=d}this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_"+n),a[parseInt(s.toString(),10)]&&(a[parseInt(s.toString(),10)].annotations=o);var h=JSON.stringify(a);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+n]=h:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_"+n,h)}}},e.prototype.modifyAnnotationProperties=function(e,i,n){var o=!1;if(i&&!0===i.isCommentLock&&(e.isCommentLock=i.isCommentLock),(0,t.isNullOrUndefined)(i)||(0,t.isNullOrUndefined)(i.annotationSettings)||!0!==i.annotationSettings.isLock||!0!==i.isCommentLock||(o=!0),i.comments)for(var r=0;r<i.comments.length;r++)(0,t.isNullOrUndefined)(i.comments[parseInt(r.toString(),10)].isLock)||(e.comments[parseInt(r.toString(),10)].isLock=i.comments[parseInt(r.toString(),10)].isLock);if(i&&""!==i.note&&void 0!==i.note&&(e.note=i.note),i.commentId&&i.editComment&&"edit"===i.commentType){var a=document.getElementById(i.commentId);i.annotationId===i.commentId&&(e.note=a.childNodes[1].ej2_instances[0].value);for(r=0;r<i.comments.length;r++)i.comments[parseInt(r.toString(),10)].annotName===i.commentId&&(e.comments[parseInt(r.toString(),10)].note=a.childNodes[1].ej2_instances[0].value)}if("textMarkup"===n)e.opacity=i.opacity,e.color=i.color,e.allowedInteractions=i.allowedInteractions,e.annotationSettings=i.annotationSettings;else if("sticky"===n||"stamp"===n)i.bounds&&(e.bounds=i.bounds),e.opacity=i.opacity,e.annotationSettings=i.annotationSettings,e.allowedInteractions=i.allowedInteractions,i.stampAnnotationPath&&(e.stampAnnotationPath=i.stampAnnotationPath);else if("ink"===n)i.bounds&&(e.bounds=i.bounds),e.opacity=i.opacity,e.strokeColor=i.strokeColor,e.thickness=i.thickness,e.annotationSettings=i.annotationSettings,e.allowedInteractions=i.allowedInteractions;else if("shape"===n||"shape_measure"===n){if("Line"===i.subType||"Arrow"===i.subType||"Distance"===i.subType||"Perimeter"===i.subType?(i.bounds&&(e.bounds=i.bounds),i.vertexPoints&&(e.vertexPoints=i.vertexPoints),e.opacity=i.opacity,e.fillColor=i.fillColor,e.strokeColor=i.strokeColor,e.thickness=i.thickness,e.borderDashArray=i.borderDashArray,e.lineHeadStart=this.getArrowTypeForCollection(i.lineHeadStartStyle),e.lineHeadEnd=this.getArrowTypeForCollection(i.lineHeadEndStyle),e.annotationSettings=i.annotationSettings,e.allowedInteractions=i.allowedInteractions):(i.bounds&&(e.bounds=i.bounds),i.vertexPoints&&(e.vertexPoints=i.vertexPoints),e.opacity=i.opacity,e.fillColor=i.fillColor,e.strokeColor=i.strokeColor,e.thickness=i.thickness,e.annotationSettings=i.annotationSettings,e.allowedInteractions=i.allowedInteractions,i.calibrate&&e.annotName===i.annotationId&&e.calibrate.depth!==i.calibrate.depth&&(e.calibrate.depth=i.calibrate.depth,this.pdfViewer.annotationModule.measureAnnotationModule.volumeDepth=i.calibrate.depth,e.note=this.pdfViewer.annotationModule.measureAnnotationModule.calculateVolume(e.vertexPoints))),this.pdfViewer.enableShapeLabel&&i.labelSettings){var s=i.labelSettings.labelContent;e.note=s,e.fontSize=i.labelSettings.fontSize,e.labelFillColor=i.labelSettings.fillColor,e.labelContent&&(e.labelContent=s),e.labelSettings&&(e.labelSettings=i.labelSettings),this.updateAnnotationComments(e.annotName,s)}}else"freetext"===n&&(i.bounds&&(e.bounds=i.bounds),e.opacity=i.opacity,e.strokeColor=i.strokeColor,e.thickness=i.thickness,i.content&&(e.dynamicText=i.content),e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontColor=i.fontColor,e.fillColor=i.fillColor,e.font=i.font?i.font:i.fontStyle,e.textAlign=i.textAlign,e.annotationSettings=i.annotationSettings,e.allowedInteractions=i.allowedInteractions,e.isReadonly=i.isReadonly);return e.author=i.author,e.customData=i.customData,e.subject=i.subject,e.modifiedDate=o?i.modifiedDate:this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),e.isPrint=i.isPrint,i.annotationSettings&&!(0,t.isNullOrUndefined)(i.annotationSettings.isLock)&&(e.isLocked=i.annotationSettings.isLock),(0,t.isNullOrUndefined)(i.annotationSelectorSettings)||e.annotationSelectorSettings===i.annotationSelectorSettings||(e.annotationSelectorSettings=i.annotationSelectorSettings),e},e.prototype.updateAnnotationAuthor=function(e,i){var n;return"sticky"===e?"Guest"!==(n="Guest"!==this.pdfViewer.stickyNotesSettings.author?this.pdfViewer.stickyNotesSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"stamp"===e?"Guest"!==(n="Guest"!==this.pdfViewer.stampSettings.author?this.pdfViewer.stampSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"shape"===e?"Line"===i?"Guest"!==(n="Guest"!==this.pdfViewer.lineSettings.author?this.pdfViewer.lineSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"LineWidthArrowHead"===i||"Arrow"===i?"Guest"!==(n="Guest"!==this.pdfViewer.arrowSettings.author?this.pdfViewer.arrowSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"Circle"===i||"Ellipse"===i||"Oval"===i?"Guest"!==(n="Guest"!==this.pdfViewer.circleSettings.author?this.pdfViewer.circleSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"Rectangle"===i||"Square"===i?"Guest"!==(n="Guest"!==this.pdfViewer.rectangleSettings.author?this.pdfViewer.rectangleSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"Polygon"===i&&"Guest"!==(n="Guest"!==this.pdfViewer.polygonSettings.author?this.pdfViewer.polygonSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"measure"===e?"Distance"===i||"Distance calculation"===i?"Guest"!==(n="Guest"!==this.pdfViewer.distanceSettings.author?this.pdfViewer.distanceSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"Perimeter"===i||"Perimeter calculation"===i?"Guest"!==(n="Guest"!==this.pdfViewer.perimeterSettings.author?this.pdfViewer.perimeterSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"Radius"===i||"Radius calculation"===i?"Guest"!==(n="Guest"!==this.pdfViewer.radiusSettings.author?this.pdfViewer.radiusSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"Area"===i||"Area calculation"===i?"Guest"!==(n="Guest"!==this.pdfViewer.areaSettings.author?this.pdfViewer.areaSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"Volume"!==i&&"Volume calculation"!==i||"Guest"!==(n="Guest"!==this.pdfViewer.volumeSettings.author?this.pdfViewer.volumeSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"textMarkup"===e?"Highlight"===i?"Guest"!==(n="Guest"!==this.pdfViewer.highlightSettings.author?this.pdfViewer.highlightSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"Underline"===i?"Guest"!==(n="Guest"!==this.pdfViewer.underlineSettings.author?this.pdfViewer.underlineSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"Strikethrough"===i?"Guest"!==(n="Guest"!==this.pdfViewer.strikethroughSettings.author?this.pdfViewer.strikethroughSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):n=this.pdfViewer.annotationSettings.author:"freeText"===e?"Guest"!==(n="Guest"!==this.pdfViewer.freeTextSettings.author?this.pdfViewer.freeTextSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)):"ink"===e&&"Guest"!==(n="Guest"!==this.pdfViewer.inkAnnotationSettings.author?this.pdfViewer.inkAnnotationSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest")&&this.pdfViewer.enableHtmlSanitizer&&(n=t.SanitizeHtmlHelper.sanitize(n)),n||(n=this.pdfViewer.annotationSettings.author),n},e.prototype.nameToHash=function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",yellow:"#ffff00",yellowgreen:"#9acd32",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkred:"#8b0000",darksalmon:"#e9967a",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",indigo:"#4b0082",ivory:"#fffff0",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",pink:"#ffc0cb",plum:"#dda0dd",steelblue:"#4682b4",violet:"#ee82ee",powderblue:"#b0e0e6",purple:"#800080",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0"};return void 0!==t[e.toLowerCase()]?t[e.toLowerCase()]:""},e.prototype.updateFreeTextFontStyle=function(e){return 1===e.isBold?1:2===e.isItalic?2:4===e.isUnderline?4:8===e.isStrikeout?8:{isBold:e.isBold,isItalic:e.isItalic,isUnderline:e.isUnderline,isStrikeout:e.isStrikeout}},e.prototype.setFreeTextFontStyle=function(e){return 1===e?{isBold:!0}:2===e?{isItalic:!0}:4===e?{isUnderline:!0}:8===e?{isStrikeout:!0}:{isBold:e.isBold,isItalic:e.isItalic,isUnderline:e.isUnderline,isStrikeout:e.isStrikeout}},e.prototype.findAnnotationSettings=function(e,t){var i=this.pdfViewer.annotationSettings;if(e){var n=e.shapeAnnotationType;"StickyNotes"===n&&this.pdfViewer.stickyNotesSettings?i=this.pdfViewer.stickyNotesSettings:"Stamp"===n||"Image"===n?(i=this.pdfViewer.stampSettings,"Image"===n&&(i=this.pdfViewer.customStampSettings)):"FreeText"===n?i=this.pdfViewer.freeTextSettings:""===e.measureType?"Line"===n?i=this.pdfViewer.lineSettings:"Arrow"===n||"LineWidthArrowHead"===n?i=this.pdfViewer.arrowSettings:"Rectangle"===n?i=this.pdfViewer.rectangleSettings:"Circle"===n||"Ellipse"===n?i=this.pdfViewer.circleSettings:"Polygon"===n&&this.pdfViewer.polygonSettings&&(i=this.pdfViewer.polygonSettings):""!==e.measureType&&("Distance"===e.measureType?i=this.pdfViewer.distanceSettings:"Perimeter"===e.measureType?i=this.pdfViewer.perimeterSettings:"Area"===e.measureType?i=this.pdfViewer.areaSettings:"Radius"===e.measureType?i=this.pdfViewer.radiusSettings:"Volume"===e.measureType&&(i=this.pdfViewer.volumeSettings))}var o=e?e.annotationSettings:{};return o&&(o.minWidth||o.maxWidth||o.minHeight||o.maxHeight)?this.updateSettings(o):t?this.updateSettings(i):i},e.prototype.updateAnnotationSettings=function(e){var t=this.pdfViewer.annotationSettings;return"sticky"===e.AnnotType?t=this.pdfViewer.stickyNotesSettings:"stamp"===e.AnnotType||"image"===e.AnnotType||"Image"===e.AnnotType?(t=this.pdfViewer.stampSettings,"image"!==e.Subject&&"Image"!==e.Subject||(t=this.pdfViewer.customStampSettings)):"freeText"===e.AnnotType?t=this.pdfViewer.freeTextSettings:"ink"===e.AnnotType||"Ink"===e.AnnotationType?t=this.pdfViewer.inkAnnotationSettings:"shape"===e.AnnotType?"Line"===e.Subject?t=this.pdfViewer.lineSettings:"Arrow"===e.Subject||"LineWidthArrowHead"===e.Subject?t=this.pdfViewer.arrowSettings:"Rectangle"===e.Subject||"Square"===e.Subject?t=this.pdfViewer.rectangleSettings:"Circle"===e.Subject||"Ellipse"===e.Subject||"Oval"===e.Subject?t=this.pdfViewer.circleSettings:"Polygon"===e.Subject&&(t=this.pdfViewer.polygonSettings):"shape_measure"===e.AnnotType&&("Distance"===e.Subject||"Distance calculation"===e.Subject?t=this.pdfViewer.distanceSettings:"Perimeter"===e.Subject||"Perimeter calculation"===e.Subject?t=this.pdfViewer.perimeterSettings:"Area"===e.Subject||"Area calculation"===e.Subject?t=this.pdfViewer.areaSettings:"Radius"===e.Subject||"Radius calculation"===e.Subject?t=this.pdfViewer.radiusSettings:"Volume"!==e.Subject&&"Volume calculation"!==e.Subject||(t=this.pdfViewer.volumeSettings)),this.updateSettings(t)},e.prototype.updateSettings=function(e){var t=0,i=0,n=0,o=0,r=this.pdfViewer.annotationSettings;return e.minWidth||e.maxWidth||e.minHeight||e.maxHeight?(t=e.maxHeight?e.maxHeight:2e3,i=e.maxWidth?e.maxWidth:2e3,n=e.minHeight?e.minHeight:0,o=e.minWidth?e.minWidth:0):(r.minWidth||r.maxWidth||r.minHeight||r.maxHeight)&&(t=r.maxHeight?r.maxHeight:2e3,i=r.maxWidth?r.maxWidth:2e3,n=r.minHeight?r.minHeight:0,o=r.minWidth?r.minWidth:0),{minWidth:o,maxWidth:i,minHeight:n,maxHeight:t,isLock:e.isLock?e.isLock:!!r.isLock&&r.isLock,isPrint:e.isPrint}},e.prototype.getOverlappedAnnotations=function(e,t){for(var i,n=this.getPageShapeAnnotations(t),o=0;o<n.length;o++)if(e.annotName===n[parseInt(o.toString(),10)].annotName){i=n[parseInt(o.toString(),10)];break}return this.findOverlappedAnnotations(i,n)},e.prototype.getPageShapeAnnotations=function(e){var t=[],i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_ink");if(i){var n=JSON.parse(i);if(n)if(null!=(B=this.getPageCollection(n,e))&&n[parseInt(B.toString(),10)]){var o=n[parseInt(B.toString(),10)].annotations;if(o&&o.length>0)for(var r=0;r<o.length;r++)t.push(o[parseInt(r.toString(),10)])}}var a=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape");if(a){var s=JSON.parse(a);if(s)if(null!=(B=this.getPageCollection(s,e))&&s[parseInt(B.toString(),10)]){var l=s[parseInt(B.toString(),10)].annotations;if(l&&l.length>0)for(r=0;r<l.length;r++)t.push(l[parseInt(r.toString(),10)])}}var d=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape_measure");if(d){var h=JSON.parse(d);if(h)if(null!=(B=this.getPageCollection(h,e))&&h[parseInt(B.toString(),10)]){var A=h[parseInt(B.toString(),10)].annotations;if(A&&A.length>0)for(r=0;r<A.length;r++)t.push(A[parseInt(r.toString(),10)])}}var p=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp");if(p){var c=JSON.parse(p);if(c)if(null!=(B=this.getPageCollection(c,e))&&c[parseInt(B.toString(),10)]){var g=c[parseInt(B.toString(),10)].annotations;if(g&&g.length>0)for(r=0;r<g.length;r++)t.push(g[parseInt(r.toString(),10)])}}var u=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_freetext");if(u){var f=JSON.parse(u);if(f)if(null!=(B=this.getPageCollection(f,e))&&f[parseInt(B.toString(),10)]){var m=f[parseInt(B.toString(),10)].annotations;if(m&&m.length>0)for(r=0;r<m.length;r++)t.push(m[parseInt(r.toString(),10)])}}var w=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sticky");if(w){var y=JSON.parse(w);if(y)if(null!=(B=this.getPageCollection(y,e))&&y[parseInt(B.toString(),10)]){var S=y[parseInt(B.toString(),10)].annotations;if(S&&S.length>0)for(r=0;r<S.length;r++)t.push(S[parseInt(r.toString(),10)])}}var C=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_textMarkup");if(C){var B,I=JSON.parse(C);if(I)if(null!=(B=this.getPageCollection(I,e))&&I[parseInt(B.toString(),10)]){var b=I[parseInt(B.toString(),10)].annotations;if(b&&b.length>0)for(r=0;r<b.length;r++)t.push(b[parseInt(r.toString(),10)])}}return t},e.prototype.findOverlappedAnnotations=function(e,t){if(this.overlappedAnnotations=[],e&&e.bounds)if("textMarkup"===e.shapeAnnotationType)for(var i=0;i<e.bounds.length;i++){var n=this.orderTextMarkupBounds(e.bounds[parseInt(i.toString(),10)]);this.calculateOverlappedAnnotationBounds(e,n,t)}else this.calculateOverlappedAnnotationBounds(e,e.bounds,t);return this.overlappedAnnotations},e.prototype.calculateOverlappedAnnotationBounds=function(e,t,i){var n=t;"Ink"===e.shapeAnnotationType&&(n={left:t.x,top:t.y,height:t.height,width:t.width});for(var o=parseInt(n.left,10),r=parseInt(n.top,10),a=parseInt(n.top+n.height,10),s=parseInt(n.left+n.width,10),l=0;l<i.length;l++)if(e.annotName===i[parseInt(l.toString(),10)].annotName)this.checkOverlappedCollections(i[parseInt(l.toString(),10)],this.overlappedAnnotations);else{var d=1;"textMarkup"===i[parseInt(l.toString(),10)].shapeAnnotationType&&(d=i[parseInt(l.toString(),10)].bounds.length);for(var h=0;h<d;h++){var A=void 0,p=i[parseInt(l.toString(),10)].bounds;if("Ink"===i[parseInt(l.toString(),10)].shapeAnnotationType&&(p={left:p.x,top:p.y,height:p.height,width:p.width}),A="textMarkup"!==i[parseInt(l.toString(),10)].shapeAnnotationType&&1===d?p:this.orderTextMarkupBounds(p[parseInt(h.toString(),10)])){var c=!1;(o<=parseInt(A.left,10)&&s>=parseInt(A.left,10)||o<=parseInt(A.left+A.width,10)&&s>=parseInt(A.left+A.width,10))&&(c=!0),c&&(c=r<=parseInt(A.top,10)&&a>=parseInt(A.top,10)||r<=parseInt(A.top+A.height,10)&&a>=parseInt(A.top+A.height,10)),c?this.checkOverlappedCollections(i[parseInt(l.toString(),10)],this.overlappedAnnotations):((parseInt(A.left,10)<=o&&parseInt(A.left+A.width,10)>=o||s>=parseInt(A.left,10)&&s<=parseInt(A.left+A.width,10))&&(c=!0),c&&(c=parseInt(A.top,10)<=r&&parseInt(A.top+A.height,10)>=r||a>=parseInt(A.top,10)&&a<=parseInt(A.top+A.height,10)),c?this.checkOverlappedCollections(i[parseInt(l.toString(),10)],this.overlappedAnnotations):((o<=parseInt(A.left,10)&&s>=parseInt(A.left,10)||o<=parseInt(A.left+A.width,10)&&s>=parseInt(A.left+A.width,10))&&(c=!0),c&&(c=parseInt(A.top,10)<=r&&parseInt(A.top+A.height,10)>=r||a>=parseInt(A.top,10)&&a<=parseInt(A.top+A.height,10)),c?this.checkOverlappedCollections(i[parseInt(l.toString(),10)],this.overlappedAnnotations):((parseInt(A.left,10)<=o&&parseInt(A.left+A.width,10)>=o||s>=parseInt(A.left,10)&&s<=parseInt(A.left+A.width,10))&&(c=!0),c&&(c=r<=parseInt(A.top,10)&&a>=parseInt(A.top,10)||r<=parseInt(A.top+A.height,10)&&a>=parseInt(A.top+A.height,10)),c&&this.checkOverlappedCollections(i[parseInt(l.toString(),10)],this.overlappedAnnotations))))}}}},e.prototype.findAnnotationMode=function(e,t,i){var n=this.pdfViewer.viewerBase.importedAnnotation[parseInt(t.toString(),10)];if(n){var o=void 0;if("shape"===i?o=n.shapeAnnotation:"shape_measure"===i?o=n.measureShapeAnnotation:"freeText"===i?o=n.freeTextAnnotation:"stamp"===i?o=n.stampAnnotations:"sticky"===i?o=n.stickyNotesAnnotation:"textMarkup"===i&&(o=n.textMarkupAnnotation),o)for(var r=0;r<o.length;r++)if(o[parseInt(r.toString(),10)].AnnotName===e.AnnotName)return"Imported Annotation"}return"Existing Annotation"},e.prototype.checkOverlappedCollections=function(e,t){if(t.length>0){for(var i=!1,n=0;n<t.length;n++)if(e.annotName===t[parseInt(n.toString(),10)].annotName&&e.bounds===t[parseInt(n.toString(),10)].bounds){i=!0;break}i||t.push(e)}else t.push(e)},e.prototype.orderTextMarkupBounds=function(e){return e.Left||e.Width?{left:e.Left,top:e.Top,height:e.Height,width:e.Width}:{left:e.left,top:e.top,height:e.height,width:e.width}},e.prototype.updateModifiedDate=function(e){if(e.modifiedDate&&(e.modifiedDate=this.setAnnotationModifiedDate(e.modifiedDate)),e.comments&&e.comments.length>0)for(var t=0;t<e.comments.length;t++)e.comments[parseInt(t.toString(),10)].modifiedDate&&(e.comments[parseInt(t.toString(),10)].modifiedDate=this.setAnnotationModifiedDate(e.comments[parseInt(t.toString(),10)].modifiedDate),e.comments[parseInt(t.toString(),10)].review&&e.comments[parseInt(t.toString(),10)].review.modifiedDate&&(e.comments[parseInt(t.toString(),10)].review.modifiedDate=this.setAnnotationModifiedDate(e.comments[parseInt(t.toString(),10)].review.modifiedDate)));e.review&&e.review.modifiedDate&&(e.review.modifiedDate=this.setAnnotationModifiedDate(e.review.modifiedDate))},e.prototype.setAnnotationModifiedDate=function(e){var t,i;if(""===e)return e;var n=parseInt(e.split(" ")[1].split(":")[0],10);t=3===e.split(" ").length?n+":"+e.split(" ")[1].split(":")[1]+":"+e.split(" ")[1].split(":")[2]+" "+e.split(" ")[2]:n>=12?12===n?n+":"+e.split(" ")[1].split(":")[1]+":"+e.split(" ")[1].split(":")[2]+" PM":n-12+":"+e.split(" ")[1].split(":")[1]+":"+e.split(" ")[1].split(":")[2]+" PM":n+":"+e.split(" ")[1].split(":")[1]+":"+e.split(" ")[1].split(":")[2]+" AM";var o=e.split(" ")[0];return i=e.split(",").length>1?o+" "+t:o+", "+t,i=new Date(i).toISOString()},e.prototype.clear=function(){this.shapeAnnotationModule&&(this.shapeAnnotationModule.shapeCount=0),this.measureAnnotationModule&&(this.measureAnnotationModule.measureShapeCount=0),this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.clear(),this.stickyNotesAnnotationModule&&this.stickyNotesAnnotationModule.clear(),this.pdfViewer.refresh(),this.undoCommentsElement=[],this.redoCommentsElement=[],this.overlappedAnnotations=[],this.previousIndex=null,this.pdfViewer.annotation&&this.pdfViewer.annotation.stampAnnotationModule&&(this.pdfViewer.annotation.stampAnnotationModule.stampPageNumber=[]),this.pdfViewer.annotation&&this.pdfViewer.annotation.freeTextAnnotationModule&&(this.pdfViewer.annotation.freeTextAnnotationModule.freeTextPageNumbers=[],this.freeTextAnnotationModule.previousText="Type Here"),this.pdfViewer.annotation&&this.pdfViewer.annotation.inkAnnotationModule&&(this.pdfViewer.annotation.inkAnnotationModule.inkAnnotationindex=[]),sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_shape"),sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_shape_measure"),sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_stamp"),sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_sticky")},e.prototype.retrieveAnnotationCollection=function(){return this.pdfViewer.annotationCollection},e.prototype.checkAllowedInteractions=function(e,t){var i=this.updateAnnotationAllowedInteractions(t);if(i&&i.length>0)for(var n=0;n<i.length;n++)if("Select"===e){if("Move"===i[parseInt(n.toString(),10)]||"Resize"===i[parseInt(n.toString(),10)]||"Delete"===i[parseInt(n.toString(),10)]||"PropertyChange"===i[parseInt(n.toString(),10)]||"Select"===i[parseInt(n.toString(),10)])return!0}else if(i[parseInt(n.toString(),10)]===e)return!0;return!1},e.prototype.checkContextMenuDeleteItem=function(e){var t=this.findCurrentAnnotation();t&&t.annotationSettings&&(t.annotationSettings.isLock?this.checkAllowedInteractions("Delete",t)?e.enableItems([this.pdfViewer.localeObj.getConstant("Delete Context")],!0):e.enableItems([this.pdfViewer.localeObj.getConstant("Delete Context")],!1):e.enableItems([this.pdfViewer.localeObj.getConstant("Delete Context")],!0))},e.prototype.isEnableDelete=function(){var e=this.findCurrentAnnotation();return!(!e||!e.annotationSettings)&&(!e.annotationSettings.isLock||!!this.checkAllowedInteractions("Delete",e))},e.prototype.findCurrentAnnotation=function(){return this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.textMarkupAnnotationModule.currentTextMarkupAnnotation:this.pdfViewer.selectedItems.annotations&&this.pdfViewer.selectedItems.annotations[0]?this.pdfViewer.selectedItems.annotations[0]:null},e.prototype.updateAnnotationAllowedInteractions=function(e){var t=["None"];return e&&("FreeText"===e.shapeAnnotationType&&this.pdfViewer.freeTextSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.freeTextSettings.allowedInteractions,e.allowedInteractions):"Ink"===e.shapeAnnotationType&&this.pdfViewer.inkAnnotationSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.inkAnnotationSettings.allowedInteractions,e.allowedInteractions):"StickyNotes"===e.shapeAnnotationType&&this.pdfViewer.stickyNotesSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.stickyNotesSettings.allowedInteractions,e.allowedInteractions):"Stamp"===e.shapeAnnotationType&&this.pdfViewer.stampSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.stampSettings.allowedInteractions,e.allowedInteractions):"Image"===e.shapeAnnotationType&&this.pdfViewer.customStampSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.customStampSettings.allowedInteractions,e.allowedInteractions):"textMarkup"===e.shapeAnnotationType?"Highlight"===e.textMarkupAnnotationType&&this.pdfViewer.highlightSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.highlightSettings.allowedInteractions,e.allowedInteractions):"Underline"===e.textMarkupAnnotationType&&this.pdfViewer.underlineSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.underlineSettings.allowedInteractions,e.allowedInteractions):"Strikethrough"===e.textMarkupAnnotationType&&this.pdfViewer.strikethroughSettings.allowedInteractions&&(t=this.checkAllowedInteractionSettings(this.pdfViewer.strikethroughSettings.allowedInteractions,e.allowedInteractions)):""!==e.measureType?"Distance"===e.measureType&&this.pdfViewer.distanceSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.distanceSettings.allowedInteractions,e.allowedInteractions):"Perimeter"===e.measureType&&this.pdfViewer.perimeterSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.perimeterSettings.allowedInteractions,e.allowedInteractions):"Radius"===e.measureType&&this.pdfViewer.radiusSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.radiusSettings.allowedInteractions,e.allowedInteractions):"Area"===e.measureType&&this.pdfViewer.areaSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.areaSettings.allowedInteractions,e.allowedInteractions):"Volume"===e.measureType&&this.pdfViewer.volumeSettings.allowedInteractions&&(t=this.checkAllowedInteractionSettings(this.pdfViewer.volumeSettings.allowedInteractions,e.allowedInteractions)):"Line"===e.shapeAnnotationType&&this.pdfViewer.lineSettings.allowedInteractions?t=this.checkAllowedInteractionSettings(this.pdfViewer.lineSettings.allowedInteractions,e.allowedInteractions):"Arrow"!==e.shapeAnnotationType&&"LineWidthArrowHead"!==e.shapeAnnotationType||!this.pdfViewer.arrowSettings.allowedInteractions?"Circle"!==e.shapeAnnotationType&&"Ellipse"!==e.shapeAnnotationType&&"Oval"!==e.shapeAnnotationType||!this.pdfViewer.circleSettings.allowedInteractions?"Rectangle"!==e.shapeAnnotationType&&"Square"!==e.shapeAnnotationType||!this.pdfViewer.rectangleSettings.allowedInteractions?"Polygon"===e.shapeAnnotationType&&this.pdfViewer.polygonSettings.allowedInteractions&&(t=this.checkAllowedInteractionSettings(this.pdfViewer.polygonSettings.allowedInteractions,e.allowedInteractions)):t=this.checkAllowedInteractionSettings(this.pdfViewer.rectangleSettings.allowedInteractions,e.allowedInteractions):t=this.checkAllowedInteractionSettings(this.pdfViewer.circleSettings.allowedInteractions,e.allowedInteractions):t=this.checkAllowedInteractionSettings(this.pdfViewer.arrowSettings.allowedInteractions,e.allowedInteractions)),t},e.prototype.checkIsLockSettings=function(e){var t=!1;return e&&("FreeText"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.freeTextSettings.isLock):"Ink"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.inkAnnotationSettings.isLock):"StickyNotes"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.stickyNotesSettings.isLock):"Stamp"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.stampSettings.isLock):"Image"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.customStampSettings.isLock):"textMarkup"===e.shapeAnnotationType?"Highlight"===e.textMarkupAnnotationType?t=this.checkLockSettings(this.pdfViewer.highlightSettings.isLock):"Underline"===e.textMarkupAnnotationType?t=this.checkLockSettings(this.pdfViewer.underlineSettings.isLock):"Strikethrough"===e.textMarkupAnnotationType&&(t=this.checkLockSettings(this.pdfViewer.strikethroughSettings.isLock)):""!==e.measureType?"Distance"===e.measureType?t=this.checkLockSettings(this.pdfViewer.distanceSettings.isLock):"Perimeter"===e.measureType?t=this.checkLockSettings(this.pdfViewer.perimeterSettings.isLock):"Radius"===e.measureType?t=this.checkLockSettings(this.pdfViewer.radiusSettings.isLock):"Area"===e.measureType?t=this.checkLockSettings(this.pdfViewer.areaSettings.isLock):"Volume"===e.measureType&&(t=this.checkLockSettings(this.pdfViewer.volumeSettings.isLock)):"Line"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.lineSettings.isLock):"Arrow"===e.shapeAnnotationType||"LineWidthArrowHead"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.arrowSettings.isLock):"Circle"===e.shapeAnnotationType||"Ellipse"===e.shapeAnnotationType||"Oval"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.circleSettings.isLock):"Rectangle"===e.shapeAnnotationType||"Square"===e.shapeAnnotationType?t=this.checkLockSettings(this.pdfViewer.rectangleSettings.isLock):"Polygon"===e.shapeAnnotationType&&(t=this.checkLockSettings(this.pdfViewer.polygonSettings.isLock))),t},e.prototype.checkLockSettings=function(e){var t=!1;return(e||this.pdfViewer.annotationSettings.isLock)&&(t=!0),t},e.prototype.restrictContextMenu=function(){var e=!1,t=this.findCurrentAnnotation();return t&&this.checkIsLockSettings(t)&&this.checkAllowedInteractions("Select",t)&&(e=!0),e},e.prototype.checkAllowedInteractionSettings=function(e,t){if(t){if(1!==t.length)return t;if("None"!==t[0])return t}if(e){if(1!==e.length)return e;if("None"!==e[0])return e}return this.pdfViewer.annotationSettings.allowedInteractions?this.pdfViewer.annotationSettings.allowedInteractions:["None"]},e.prototype.getValue=function(e,t){if(t=t?t.toLowerCase():"hex","r"===e[0]){var i=this.convertRgbToNumberArray(e);if("hex"===t||"hexa"===t){var n=this.rgbToHex(i);return"hex"===t?n.slice(0,7):n}return"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"null"}if("h"===e[0]){i=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e));if("rgba"===t)return this.convertToRgbString(i);if("hex"===t||"hexa"===t){n=this.rgbToHex(i);return"hex"===t?n.slice(0,7):n}return"rgb"===t?this.convertToRgbString(i.slice(0,3)):"null"}e=this.roundValue(e);var o=this.hexToRgb(e);return"rgb"!==t&&"hsv"!==t||(o=o.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(o):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,o)):"hex"===t?e.slice(0,7):"a"===t?o[3].toString():"null"},e.prototype.convertRgbToNumberArray=function(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map((function(e,t){return 3!==t?parseInt(e,10):parseFloat(e)}))},e.prototype.convertToRgbString=function(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""},e.prototype.convertToHsvString=function(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"},e.prototype.roundValue=function(e){if(!e)return"";"#"!==e[0]&&(e="#"+e);var t=e.length;if(4===t&&(e+="f",t=5),5===t){for(var i="",n=1,o=e.length;n<o;n++)i+=e.charAt(n)+e.charAt(n);e="#"+i,t=9}return 7===t&&(e+="ff"),e},e.prototype.hexToRgb=function(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));var t=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);var i=parseInt(e,16),n=[];return n.push(i>>16&255),n.push(i>>8&255),n.push(255&i),n.push(t),n},e.prototype.rgbToHsv=function(e,i,n,o){e/=255,i/=255,n/=255;var r,a=Math.max(e,i,n),s=Math.min(e,i,n),l=a,d=a-s,h=0===a?0:d/a;if(a===s)r=0;else{switch(a){case e:r=(i-n)/d+(i<n?6:0);break;case i:r=(n-e)/d+2;break;case n:r=(e-i)/d+4}r/=6}var A=[Math.round(360*r),Math.round(1e3*h)/10,Math.round(1e3*l)/10];return(0,t.isNullOrUndefined)(o)||A.push(o),A},e.prototype.hsvToRgb=function(e,i,n,o){var r,a,s;if(n/=100,0===(i/=100))return r=a=s=n,[Math.round(255*r),Math.round(255*a),Math.round(255*s),o];e/=60;var l=Math.floor(e),d=e-l,h=n*(1-i),A=n*(1-i*d),p=n*(1-i*(1-d));switch(l){case 0:r=n,a=p,s=h;break;case 1:r=A,a=n,s=h;break;case 2:r=h,a=n,s=p;break;case 3:r=h,a=A,s=n;break;case 4:r=p,a=h,s=n;break;default:r=n,a=h,s=A}var c=[Math.round(255*r),Math.round(255*a),Math.round(255*s)];return(0,t.isNullOrUndefined)(o)||c.push(o),c},e.prototype.rgbToHex=function(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+((0,t.isNullOrUndefined)(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""},e.prototype.exportAnnotationsAsStream=function(e){var t=this;if(this.pdfViewer.annotationModule&&this.pdfViewer.viewerBase.updateExportItem())return new Promise((function(i,n){t.pdfViewer.viewerBase.createRequestForExportAnnotations(!0,e,!0).then((function(e){i(e)}))}));return null},e.prototype.hex=function(e){return(0,t.isNullOrUndefined)(e)?"0":("0"+e.toString(16)).slice(-2)},e.prototype.cloneObject=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.destroy=function(){this.destroyPropertiesWindow(),this.textMarkupAnnotationModule&&this.textMarkupAnnotationModule.clear()},e.prototype.getModuleName=function(){return"Annotation"},e.prototype.getVertexPointsXY=function(e){for(var t=[],i=0;i<e.length;i++)t[parseInt(i.toString(),10)]={X:e[parseInt(i.toString(),10)].x,Y:e[parseInt(i.toString(),10)].y};return t},e.prototype.addAnnotation=function(e,t,i,n,o){var r={x:1,y:1},a=0;t&&t.pageNumber&&t.pageNumber>0&&(a=t.pageNumber?t.pageNumber-1:0);var s=null,l=[];this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),"FreeText"===e?(l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.freeTextAnnotationModule.updateAddAnnotationDetails(t,r),this.pdfViewer.annotation.freeTextAnnotationModule.isAddAnnotationProgramatically=!0):"StickyNotes"===e?(l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.stickyNotesAnnotationModule.updateAddAnnotationDetails(t,r),this.pdfViewer.annotation.stickyNotesAnnotationModule.isAddAnnotationProgramatically=!0):"Highlight"===e||"Underline"===e||"Strikethrough"===e?(("Highlight"===e||"Underline"===e||"Strikethrough"===e)&&(s=t),l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.textMarkupAnnotationModule.updateAddAnnotationDetails(e,s),this.pdfViewer.annotation.textMarkupAnnotationModule.isAddAnnotationProgramatically=!0):"Line"===e||"Arrow"===e||"Rectangle"===e||"Circle"===e||"Polygon"===e?(("Line"===e||"Arrow"===e||"Rectangle"===e||"Circle"===e||"Polygon"===e)&&(s=t),l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.shapeAnnotationModule.updateAddAnnotationDetails(e,s,r),this.pdfViewer.annotation.shapeAnnotationModule.isAddAnnotationProgramatically=!0):"Distance"===e||"Perimeter"===e||"Area"===e||"Radius"===e||"Volume"===e?(("Distance"===e||"Perimeter"===e||"Area"===e||"Radius"===e||"Volume"===e)&&(s=t),l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.measureAnnotationModule.updateAddAnnotationDetails(e,s,r),this.pdfViewer.annotation.measureAnnotationModule.isAddAnnotationProgramatically=!0):"Stamp"===e?(t&&t.customStamps,l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.stampAnnotationModule.updateAddAnnotationDetails(t,r,a,i,n,o),this.pdfViewer.annotation.stampAnnotationModule.isAddAnnotationProgramatically=!0):"Ink"===e?(l[parseInt(a.toString(),10)]=this.pdfViewer.annotation.inkAnnotationModule.updateAddAnnotationDetails(t,r,a),this.pdfViewer.annotation.inkAnnotationModule.isAddAnnotationProgramatically=!0):"HandWrittenSignature"!==e&&"Initial"!==e||(l[parseInt(a.toString(),10)]=this.pdfViewerBase.signatureModule.updateSignatureDetails(t,r,a),this.pdfViewerBase.signatureModule.isAddAnnotationProgramatically=!0);var d={pdfAnnotation:l};this.pdfViewerBase.isAddAnnotation=!0,this.pdfViewerBase.importAnnotations(d),this.pdfViewerBase.isAddAnnotation=!1},e.prototype.triggerAnnotationAddEvent=function(e){var t=e.shapeAnnotationType;if("Stamp"===t||"Image"===t||"Path"===t||"FreeText"===t||"StickyNotes"===t||"Ink"===t){var i=void 0;i="FreeText"===t?{opacity:e.opacity,borderColor:e.strokeColor,borderWidth:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate,fillColor:e.fillColor,fontSize:e.fontSize,width:e.bounds.width,height:e.bounds.height,fontColor:e.fontColor,fontFamily:e.fontFamily,defaultText:e.dynamicText,fontStyle:e.font,textAlignment:e.textAlign}:{opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate,data:e.data};var n={left:e.bounds.x,top:e.bounds.y,width:e.bounds.width,height:e.bounds.height},o=this.getAnnotationType(e.shapeAnnotationType,e.measureType);this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,o,n,i)}else if("SignatureText"===t||"SignatureImage"===t||"HandWrittenSignature"===t){n={left:e.bounds.x,top:e.bounds.y,width:e.bounds.width,height:e.bounds.height};this.pdfViewer.fireSignatureAdd(e.pageIndex,e.signatureName,e.shapeAnnotationType,n,e.opacity,e.strokeColor,e.thickness,e.data)}else{var r={opacity:e.opacity,fillColor:e.fillColor,strokeColor:e.strokeColor,thickness:e.thickness,author:e.author,subject:e.subject,modifiedDate:e.modifiedDate};n={left:e.bounds.x,top:e.bounds.y,width:e.bounds.width,height:e.bounds.height};"Line"!==(o=this.getAnnotationType(e.shapeAnnotationType,e.measureType))&&"Arrow"!==o&&"Distance"!==o&&"Perimeter"!==o||(r.lineHeadStartStyle=this.getArrowString(e.sourceDecoraterShapes),r.lineHeadEndStyle=this.getArrowString(e.taregetDecoraterShapes),r.borderDashArray=e.borderDashArray);var a=void 0;this.pdfViewer.enableShapeLabel?(a={fontColor:e.fontColor,fontSize:e.fontSize,fontFamily:e.fontFamily,opacity:e.labelOpacity,labelContent:e.labelContent,fillColor:e.labelFillColor},this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,o,n,r,null,null,null,a)):this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,o,n,r)}},e.prototype.triggerAnnotationUnselectEvent=function(){if(this.pdfViewer.selectedItems.annotations&&this.pdfViewer.selectedItems.annotations[0]){var e=this.pdfViewer.selectedItems.annotations[0];"HandWrittenSignature"!==e.shapeAnnotationType&&"SignatureText"!==e.shapeAnnotationType&&"SignatureImage"!==e.shapeAnnotationType&&"Path"!==e.shapeAnnotationType&&(this.pdfViewer.fireAnnotationUnSelect(e.annotName,e.pageIndex,e),this.pdfViewer.clearSelection(e.pageIndex))}},e.prototype.triggerSignatureUnselectEvent=function(){if(this.pdfViewer.selectedItems.annotations&&this.pdfViewer.selectedItems.annotations[0]){var e=this.pdfViewer.selectedItems;if(e.annotations.length)for(var t=0;t<e.annotations.length;t++){var i=e.annotations[parseInt(t.toString(),10)];this.pdfViewer.annotationModule.unselectSignature(i.signatureName,i.pageIndex,i),this.pdfViewer.clearSelection(i.pageIndex)}}},e.prototype.updateFontFamilyRenderSize=function(e,t){var i=this.freeTextAnnotationModule;i.inputBoxElement.style.fontFamily=t,i.autoFitFreeText();var n=this.pdfViewerBase.getZoomFactor(),o=(parseFloat(i.inputBoxElement.style.paddingLeft),e.bounds.height*n),r=parseFloat(i.inputBoxElement.style.width)-8;r/=n;var a=(o/=n)-e.bounds.height,s=void 0;a>0?s=(s=e.wrapper.offsetY+a/2)>0?s:void 0:(a=Math.abs(a),s=(s=e.wrapper.offsetY-a/2)>0?s:void 0);var l=r-e.bounds.width,d=void 0;l>0?d=(d=e.wrapper.offsetX+l/2)>0?d:void 0:(l=Math.abs(l),d=e.wrapper.offsetX-l/2),e.bounds.width=r,e.bounds.height=o,this.pdfViewer.nodePropertyChange(e,{fontFamily:t,bounds:{width:e.bounds.width,height:e.bounds.height,y:s,x:d}}),this.pdfViewer.renderSelector(e.pageIndex,this.pdfViewer.annotationSelectorSettings),this.modifyInCollections(e,"bounds")},e.prototype.updateCanvas=function(e,t,i,n){var o=this.pdfViewerBase.getZoomRatio();e.width=t*o,e.height=i*o,e.style.width=t+"px",e.style.height=i+"px",e.style.position="absolute",e.style.zIndex="1",this.pdfViewerBase.applyElementStyles(e,n)},e.prototype.calculateFontSize=function(e,t){for(var i=document.createElement("canvas").getContext("2d"),n=10,o=0;t.width>o;)i.font=n+"px Helvetica",o=i.measureText(e).width,n++;return n},e}(),jt=function(){},Gt=function(){},Jt=function(){},Kt=function(){},Wt=function(){},Xt=function(){},Zt=function(){},qt=function(){},$t=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new i((function(t){t(e.value)})).then(a,s)}l((n=n.apply(e,t||[])).next())}))},ei=function(e,t){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},ti=function(){function e(e,t){this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.renderHyperlinkContent=function(e,t){if(this.pdfViewer.enableHyperlink){var i=e.hyperlinks,n=e.hyperlinkBounds;this.linkAnnotation=e.linkAnnotation,this.linkPage=e.linkPage,this.annotationY=e.annotationLocation,i&&i.length>0&&n.length>0&&this.renderWebLink(i,n,t),this.linkAnnotation&&this.linkAnnotation.length>0&&this.linkPage.length>0&&this.renderDocumentLink(this.linkAnnotation,this.linkPage,this.annotationY,t)}},e.prototype.disableHyperlinkNavigationUnderObjects=function(e,t,i){if(he(i,i.pdfViewer,t).length>0)t.target.classList.contains("e-pv-hyperlink")&&(e.style.cursor="move",e.style.pointerEvents="none",e.title="");else{var n=document.getElementsByClassName("e-pv-hyperlink");if(n&&n.length>0)for(var o=0;o<n.length;o++)"none"===n[parseInt(o.toString(),10)].style.pointerEvents&&(n[parseInt(o.toString(),10)].style.pointerEvents="all"),n[parseInt(o.toString(),10)].title||(n[parseInt(o.toString(),10)].title=n[parseInt(o.toString(),10)].href)}},e.prototype.renderWebLink=function(e,i,n){for(var o=this,r=this,a=!1,s=function(s){var d=(0,t.createElement)("a",{id:"weblinkdiv_"+s+"_"+n}),h=i[parseInt(s.toString(),10)];if((d=l.setHyperlinkProperties(d,h,n)).title=e[parseInt(s.toString(),10)],e[parseInt(s.toString(),10)]&&1===e[parseInt(s.toString(),10)].split("http").length){var A="http://"+e[parseInt(s.toString(),10)];d.setAttribute("href",A)}else d.setAttribute("href",e[parseInt(s.toString(),10)]);"CurrentTab"===l.pdfViewer.hyperlinkOpenState?(d.target="_self",d.onclick=function(t){return $t(o,void 0,void 0,(function(){var i;return ei(this,(function(n){switch(n.label){case 0:return a?[3,4]:(t.preventDefault(),r.pdfViewerBase.tool instanceof se||r.pdfViewerBase.tool instanceof ae?[2,!1]:[3,1]);case 1:return[4,r.pdfViewer.fireHyperlinkClick(e[parseInt(s.toString(),10)],d)];case 2:return(i=n.sent())&&0===this.pdfViewer.selectedItems.annotations.length&&0===this.pdfViewer.selectedItems.formFields.length&&(a=!0,d.click()),[2,i];case 3:return[3,5];case 4:return a=!1,[2,!0];case 5:return[2]}}))}))},d.onmouseover=function(){r.triggerHyperlinkEvent(d)}):"NewTab"===l.pdfViewer.hyperlinkOpenState?(d.target="_blank",d.onclick=function(t){return $t(o,void 0,void 0,(function(){var i;return ei(this,(function(n){switch(n.label){case 0:return a?[3,4]:(t.preventDefault(),r.pdfViewerBase.tool instanceof se||r.pdfViewerBase.tool instanceof ae?[2,!1]:[3,1]);case 1:return[4,r.pdfViewer.fireHyperlinkClick(e[parseInt(s.toString(),10)],d)];case 2:return(i=n.sent())&&0===this.pdfViewer.selectedItems.annotations.length&&0===this.pdfViewer.selectedItems.formFields.length&&(a=!0,d.click()),[2,i];case 3:return[3,5];case 4:return a=!1,[2,!0];case 5:return[2]}}))}))},d.onmouseover=function(){r.triggerHyperlinkEvent(d)}):"NewWindow"===l.pdfViewer.hyperlinkOpenState&&(d.onclick=function(t){return $t(o,void 0,void 0,(function(){return ei(this,(function(i){switch(i.label){case 0:return t.preventDefault(),r.pdfViewerBase.tool instanceof se||r.pdfViewerBase.tool instanceof ae?[2,!1]:[3,1];case 1:return[4,r.pdfViewer.fireHyperlinkClick(e[parseInt(s.toString(),10)],d)];case 2:return i.sent()&&0===this.pdfViewer.selectedItems.annotations.length&&0===this.pdfViewer.selectedItems.formFields.length&&window.open(d.href,"_blank","scrollbars=yes,resizable=yes"),[2,!1]}}))}))},d.onmouseover=function(){r.triggerHyperlinkEvent(d)});var p=document.getElementById(l.pdfViewer.element.id+"_pageDiv_"+n);(0,t.isNullOrUndefined)(p)||p.appendChild(d)},l=this,d=0;d<e.length;d++)s(d)},e.prototype.triggerHyperlinkEvent=function(e){return!(this.pdfViewerBase.tool instanceof se||this.pdfViewerBase.tool instanceof ae)&&(this.pdfViewer.fireHyperlinkHover(e),!0)},e.prototype.renderDocumentLink=function(e,i,n,o){for(var r=this,a=this,s=function(s){var d=(0,t.createElement)("a",{id:"linkdiv_"+s+"_"+o}),h=e[parseInt(s.toString(),10)];(d=l.setHyperlinkProperties(d,h,o)).setAttribute("href","javascript:void(0)");var A=i[parseInt(s.toString(),10)];if(void 0!==A&&A>=0){var p,c,g=l.pdfViewerBase.pageSize[parseInt(o.toString(),10)].height,u=l.pdfViewerBase.pageSize[parseInt(A.toString(),10)];u&&(0!==n.length?(p=n[parseInt(s.toString(),10)],c=u.top*l.pdfViewerBase.getZoomFactor()+(g-p)*l.pdfViewerBase.getZoomFactor()):c=u.top*l.pdfViewerBase.getZoomFactor()),void 0!==c?(d.name=c.toString(),d.setAttribute("aria-label",c.toString())):(0,t.isNullOrUndefined)(u)&&A>l.pdfViewerBase.pageSize.length&&(d.dataset.annotationY=JSON.stringify(n),d.dataset.pageIndex=JSON.stringify(A),d.dataset.index=JSON.stringify(s)),d.onclick=function(){if(a.pdfViewerBase.tool instanceof se||a.pdfViewerBase.tool instanceof ae)return!1;if(!d.name){if(d.dataset.pageIndex){var e=a.pdfViewerBase.pageSize[JSON.parse(d.dataset.pageIndex)],t=JSON.parse(d.dataset.annotationY),i=JSON.parse(d.dataset.index),o=r.pdfViewerBase.getZoomFactor();t&&t.length>0?(p=n[parseInt(i.toString(),10)],c=e.top*o+(g-p)*o):c=e.top*o}d.name=c.toString(),d.setAttribute("aria-label",c.toString())}return a.pdfViewerBase.viewerContainer.scrollTop=parseInt(d.name,10),!1};var f=document.getElementById(l.pdfViewer.element.id+"_pageDiv_"+o);(0,t.isNullOrUndefined)(f)||f.appendChild(d)}},l=this,d=0;d<e.length;d++)s(d)},e.prototype.setHyperlinkProperties=function(e,t,i){return e.className="e-pv-hyperlink",e.style.background="transparent",e.style.position="absolute",e.style.left=t.Left*this.pdfViewerBase.getZoomFactor()+"px",e.style.top=t.Top*this.pdfViewerBase.getZoomFactor()+"px",e.style.width=t.Width*this.pdfViewerBase.getZoomFactor()+"px",t.Height<0?(e.style.height=-t.Height*this.pdfViewerBase.getZoomFactor()+"px",e.style.top=(t.Top+t.Height)*this.pdfViewerBase.getZoomFactor()+"px"):e.style.height=(t.Height<0?-t.Height:t.Height)*this.pdfViewerBase.getZoomFactor()+"px",e.style.color="transparent",this.pdfViewerBase.applyElementStyles(e,i),e},e.prototype.modifyZindexForTextSelection=function(e,t){if(this.pdfViewerBase.pageCount>0){var i=this.pdfViewerBase.getElement("_pageDiv_"+e);if(i)for(var n=i.childNodes,o=0;o<n.length;o++){var r=n[parseInt(o.toString(),10)];"A"===r.tagName&&(t?r.classList.add("e-pv-onselection"):r.classList.remove("e-pv-onselection"))}}},e.prototype.modifyZindexForHyperlink=function(e,t){t?e.classList.add("e-pv-onselection"):e.classList.remove("e-pv-onselection")},e.prototype.destroy=function(){for(var e=0;e<this.pdfViewerBase.pageCount-1;e++){var t=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+e);if(t){var i=t.getElementsByTagName("a");if(0!==i.length)for(var n=i.length-1;n>=0;n--)i[parseInt(n.toString(),10)].parentNode.removeChild(i[parseInt(n.toString(),10)])}}},e.prototype.getModuleName=function(){return"LinkAnnotation"},e}(),ii=function(){function e(e,t){var i=this;this.currentTextMarkupAddMode="",this.selectTextMarkupCurrentPage=null,this.currentTextMarkupAnnotation=null,this.isAddAnnotationProgramatically=!1,this.currentAnnotationIndex=null,this.isAnnotationSelect=!1,this.isDropletClicked=!1,this.isRightDropletClicked=!1,this.isLeftDropletClicked=!1,this.isSelectionMaintained=!1,this.isExtended=!1,this.isNewAnnotation=!1,this.selectedTextMarkup=null,this.multiPageCollection=[],this.triggerAddEvent=!1,this.isSelectedAnnotation=!1,this.dropletHeight=20,this.strikeoutDifference=-3,this.underlineDifference=2,this.annotationClickPosition={},this.maintainSelection=function(){i.isDropletClicked=!0,i.pdfViewer.textSelectionModule.initiateSelectionByTouch(),i.isExtended=!0,i.pdfViewer.textSelectionModule.selectionRangeArray=[]},this.selectionEnd=function(){i.isDropletClicked&&(i.isDropletClicked=!1)},this.annotationLeftMove=function(){i.isDropletClicked&&(i.isLeftDropletClicked=!0)},this.annotationRightMove=function(){i.isDropletClicked&&(i.isRightDropletClicked=!0)},this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.createAnnotationSelectElement=function(){this.dropDivAnnotationLeft=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_droplet_left",className:"e-pv-drop"}),this.dropDivAnnotationLeft.style.borderRight="2px solid",this.dropDivAnnotationRight=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_droplet_right",className:"e-pv-drop"}),this.dropDivAnnotationRight.style.borderLeft="2px solid",this.dropElementLeft=(0,t.createElement)("div",{className:"e-pv-droplet",id:this.pdfViewer.element.id+"_dropletspan_left"}),this.dropElementLeft.style.transform="rotate(0deg)",this.dropDivAnnotationLeft.appendChild(this.dropElementLeft),this.dropElementRight=(0,t.createElement)("div",{className:"e-pv-droplet",id:this.pdfViewer.element.id+"_dropletspan_right"}),this.dropElementRight.style.transform="rotate(-90deg)",this.dropDivAnnotationRight.appendChild(this.dropElementRight),this.pdfViewerBase.pageContainer.appendChild(this.dropDivAnnotationLeft),this.pdfViewerBase.pageContainer.appendChild(this.dropDivAnnotationRight),this.dropElementLeft.style.top="20px",this.dropElementRight.style.top="20px",this.dropElementRight.style.left="-8px",this.dropElementLeft.style.left="-8px",this.dropDivAnnotationLeft.style.display="none",this.dropDivAnnotationRight.style.display="none",this.dropDivAnnotationLeft.addEventListener("mousedown",this.maintainSelection),this.dropDivAnnotationLeft.addEventListener("mousemove",this.annotationLeftMove),this.dropDivAnnotationLeft.addEventListener("mouseup",this.selectionEnd),this.dropDivAnnotationRight.addEventListener("mousedown",this.maintainSelection),this.dropDivAnnotationRight.addEventListener("mousemove",this.annotationRightMove),this.dropDivAnnotationRight.addEventListener("mouseup",this.selectionEnd)},e.prototype.textSelect=function(e,t,i){if(this.isLeftDropletClicked){var n=this.dropDivAnnotationRight.getBoundingClientRect(),o=this.dropDivAnnotationLeft.getBoundingClientRect(),r=t,a=i;e.classList.contains("e-pv-text")&&(o.top-25>n.top?this.pdfViewer.textSelectionModule.textSelectionOnDrag(e,r,a,!0):this.pdfViewer.textSelectionModule.textSelectionOnDrag(e,r,a,!1),this.updateLeftposition(r,a))}else if(this.isRightDropletClicked){n=this.dropDivAnnotationLeft.getBoundingClientRect(),r=t,a=i;e.classList.contains("e-pv-text")&&(a>=n.top?this.pdfViewer.textSelectionModule.textSelectionOnDrag(e,r,a,!0):this.pdfViewer.textSelectionModule.textSelectionOnDrag(e,r,a,!1),this.updatePosition(r,a))}},e.prototype.showHideDropletDiv=function(e){var t=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode;this.isEnableTextMarkupResizer(t)&&this.dropDivAnnotationLeft&&this.dropDivAnnotationRight&&(e?(this.dropDivAnnotationLeft.style.display="none",this.dropDivAnnotationRight.style.display="none"):(this.dropDivAnnotationLeft.style.display="",this.dropDivAnnotationRight.style.display="",this.updateDropletStyles(t)))},e.prototype.isEnableTextMarkupResizer=function(e){var t=!1;return e?("Highlight"===e&&this.pdfViewer.highlightSettings.enableTextMarkupResizer||"Underline"===e&&this.pdfViewer.underlineSettings.enableTextMarkupResizer||"Strikethrough"===e&&this.pdfViewer.strikethroughSettings.enableTextMarkupResizer||this.pdfViewer.enableTextMarkupResizer)&&(t=!0):(this.pdfViewer.enableTextMarkupResizer||this.pdfViewer.highlightSettings.enableTextMarkupResizer||this.pdfViewer.underlineSettings.enableTextMarkupResizer||this.pdfViewer.strikethroughSettings.enableTextMarkupResizer)&&(t=!0),t},e.prototype.updateDropletStyles=function(e){this.isEnableTextMarkupResizer(e)&&this.dropDivAnnotationLeft&&this.dropDivAnnotationLeft.offsetWidth>0&&(this.dropDivAnnotationLeft.style.width=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropDivAnnotationRight.style.width=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementLeft.style.width=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementRight.style.width=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropDivAnnotationLeft.style.height=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropDivAnnotationRight.style.height=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementLeft.style.height=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementRight.style.height=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementLeft.style.top=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px",this.dropElementRight.style.top=this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px")},e.prototype.updateAnnotationBounds=function(){this.isSelectionMaintained=!1;var e=this.currentTextMarkupAnnotation;e&&e.isMultiSelect?(this.showHideDropletDiv(!0),this.updateMultiAnnotBounds(e)):e&&e.bounds&&(this.retreieveSelection(e,null),this.pdfViewer.textSelectionModule.maintainSelection(this.selectTextMarkupCurrentPage,!1),this.isSelectionMaintained=!0,window.getSelection().removeAllRanges())},e.prototype.updateMultiAnnotBounds=function(e){if(!e.annotpageNumbers&&(s=this.getAnnotations(e.pageNumber,null)))for(var t=0;t<s.length;t++)if(s[parseInt(t.toString(),10)].annotName===e.annotName){e=s[parseInt(t.toString(),10)];break}for(var i=e.annotpageNumbers[0],n=e.annotpageNumbers[0],o=0;o<e.annotpageNumbers.length;o++){var r=e.annotpageNumbers[parseInt(o.toString(),10)];r>=n&&(n=r),r<=i&&(i=r)}for(var a=i;a<=n;a++){var s;if(s=this.getAnnotations(a,null))for(var l=0;l<e.annotNameCollection.length;l++){var d=e.annotNameCollection[parseInt(l.toString(),10)];for(t=0;t<s.length;t++)if(s[parseInt(t.toString(),10)].annotName===d){var h=s[parseInt(t.toString(),10)];this.retreieveSelection(h,null),this.pdfViewer.textSelectionModule.maintainSelection(h.pageNumber,!1)}}}this.isSelectionMaintained=!0,window.getSelection().removeAllRanges()},e.prototype.retreieveSelection=function(e,t){for(var i=0;i<e.bounds.length;i++){var n=e.bounds[parseInt(i.toString(),10)],o=(n.left?n.left:n.Left)*this.pdfViewerBase.getZoomFactor(),r=(n.top?n.top:n.Top)*this.pdfViewerBase.getZoomFactor(),a=(n.width?n.width:n.Width)*this.pdfViewerBase.getZoomFactor(),s=this.pdfViewerBase.getElement("_textLayer_"+e.pageNumber);if(s){for(var l=s.childNodes,d=0;d<l.length;d++)if(l[parseInt(d.toString(),10)]){var h=l[parseInt(d.toString(),10)].getBoundingClientRect(),A=this.getClientValueTop(h.top,e.pageNumber),p=h.left-this.pdfViewerBase.getElement("_pageDiv_"+e.pageNumber).getBoundingClientRect().left,c=p+h.width,g=parseInt(l[parseInt(d.toString(),10)].style.left,10),u=parseInt(l[parseInt(d.toString(),10)].style.top,10),f=this.pdfViewer.textSelectionModule.checkLeftBounds(p,g,c,o),m=this.pdfViewer.textSelectionModule.checkTopBounds(A,u,r);if(f&&m){t=l[parseInt(d.toString(),10)];break}}if(null!=t){var w=this.pdfViewerBase.getElement("_textLayer_"+e.pageNumber).getBoundingClientRect();this.pdfViewer.textSelectionModule.textSelectionOnMouseMove(t,o+w.left,r+w.top,!1),e.bounds.length-1===i&&this.pdfViewer.textSelectionModule.textSelectionOnMouseMove(t,o+w.left+a,r+w.top,!1)}}}},e.prototype.updatePosition=function(e,t,i){this.showHideDropletDiv(!1);var n=this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber-1].top,o=this.getClientValueTop(t,this.pdfViewerBase.currentPageNumber-1),r=document.getElementById(this.pdfViewer.element.id+"_droplet_right");r.style.top=i?o*this.pdfViewerBase.getZoomFactor()+n*this.pdfViewerBase.getZoomFactor()+"px":o+n*this.pdfViewerBase.getZoomFactor()+"px",r.style.left=e+this.pdfViewerBase.viewerContainer.scrollLeft-this.pdfViewerBase.viewerContainer.getBoundingClientRect().left+"px"},e.prototype.updateLeftposition=function(e,t,i){this.showHideDropletDiv(!1);var n=this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber-1].top,o=this.getClientValueTop(t,this.pdfViewerBase.currentPageNumber-1),r=document.getElementById(this.pdfViewer.element.id+"_droplet_left");r.style.display="",r.style.top=i?o*this.pdfViewerBase.getZoomFactor()+n*this.pdfViewerBase.getZoomFactor()+"px":o+n*this.pdfViewerBase.getZoomFactor()+"px",r.style.left=e+this.pdfViewerBase.viewerContainer.scrollLeft-this.pdfViewerBase.viewerContainer.getBoundingClientRect().left-this.dropletHeight*this.pdfViewerBase.getZoomFactor()+"px"},e.prototype.getClientValueTop=function(e,t){return this.pdfViewerBase.getElement("_pageDiv_"+t)?e-this.pdfViewerBase.getElement("_pageDiv_"+t).getBoundingClientRect().top:e},e.prototype.renderTextMarkupAnnotationsInPage=function(e,t,i,n){var o=this.pdfViewerBase.getElement("_annotationCanvas_"+t);i?(this.renderTextMarkupAnnotations(null,t,o,this.pdfViewerBase.getZoomFactor()),this.renderTextMarkupAnnotations(e,t,o,this.pdfViewerBase.getZoomFactor(),!0)):this.renderTextMarkupAnnotations(e,t,o,this.pdfViewerBase.getZoomFactor(),null,n)},e.prototype.renderTextMarkupAnnotations=function(e,i,n,o,r,a){if(n){var s,l=n.getContext("2d");if(l.setTransform(1,0,0,1,0,0),l.setLineDash([]),s=r||a?e:this.getAnnotations(i,e),e&&e.forEach((function(e){s.some((function(t){return t.annotName===e.AnnotName}))||s.push(e)})),s){for(var d=[],h=0;h<s.length;h++){for(var A=!1,p=0;p<d.length;p++)if(s[parseInt(h.toString(),10)].AnnotName===d[parseInt(p.toString(),10)].AnnotName&&s[parseInt(h.toString(),10)].annotName===d[parseInt(p.toString(),10)].annotName){A=!0;break}A||d.push(s[parseInt(h.toString(),10)])}s=d}if(s)for(h=0;h<s.length;h++){var c=s[parseInt(h.toString(),10)],g=null,u=void 0;if(c.TextMarkupAnnotationType){if(r&&this.pdfViewerBase.isJsonImported){for(var f=[],m=0;m<c.Bounds.length;m++)c.Bounds[parseInt(m.toString(),10)]=this.pdfViewerBase.importJsonForRotatedDocuments(c.Rotate,i,c.Bounds[parseInt(m.toString(),10)],c.AnnotationRotation),c.Bounds[parseInt(m.toString(),10)].left=c.Bounds[parseInt(m.toString(),10)].X,c.Bounds[parseInt(m.toString(),10)].top=c.Bounds[parseInt(m.toString(),10)].Y,f.push(c.Bounds[parseInt(m.toString(),10)]);c.Bounds=f,u=this.pdfViewerBase.isPageRotated}if(c.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(c,i,c.AnnotType),c.allowedInteractions=c.AllowedInteractions?c.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(c),c.AnnotationSettings=c.AnnotationSettings?c.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(c),c.IsLocked&&(c.AnnotationSettings.isLock=c.IsLocked),g={textMarkupAnnotationType:c.TextMarkupAnnotationType,color:c.Color,allowedInteractions:c.allowedInteractions,opacity:c.Opacity,bounds:c.Bounds,author:c.Author,subject:c.Subject,modifiedDate:c.ModifiedDate,note:c.Note,rect:c.Rect,annotName:c.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(c.Comments,c,c.Author),review:{state:c.State,stateModel:c.StateModel,modifiedDate:c.ModifiedDate,author:c.Author},shapeAnnotationType:"textMarkup",pageNumber:i,textMarkupContent:c.TextMarkupContent,textMarkupStartIndex:0,textMarkupEndIndex:0,annotationSelectorSettings:this.getSettings(c),customData:this.pdfViewer.annotation.getCustomData(c),annotationAddMode:c.annotationAddMode,annotationSettings:c.AnnotationSettings,isLocked:c.IsLocked,isPrint:c.IsPrint,isCommentLock:c.IsCommentLock,isAnnotationRotated:u,annotationRotation:c.AnnotationRotation},c.IsMultiSelect&&(g.annotNameCollection=c.AnnotNameCollection,g.annotpageNumbers=c.AnnotpageNumbers,g.isMultiSelect=c.IsMultiSelect),c.textMarkupContent&&""!==c.textMarkupContent&&(g.textMarkupContent=c.textMarkupContent,g.textMarkupStartIndex=c.textMarkupStartIndex,g.textMarkupEndIndex=c.textMarkupEndIndex),(0,t.isNullOrUndefined)(c.TextMarkupContent)&&(0,t.isNullOrUndefined)(c.textMarkupContent)){var w=c.Bounds,y=this.pdfViewerBase.getStoredData(i,!0);if((0,t.isNullOrUndefined)(y))this.pdfViewerBase.requestForTextExtraction(i,g);else{var S=y.pageText.split(""),C=this.pdfViewerBase.textLayer.characterBound[parseInt(i.toString(),10)],B=this.pdfViewerBase.textMarkUpContent(w,S,C);g.textMarkupContent=B}}if(this.pdfViewer.annotationModule.storeAnnotations(i,g,"_annotations_textMarkup"),this.isAddAnnotationProgramatically){var I={opacity:g.opacity,author:c.author,subject:c.subject,modifiedDate:c.modifiedDate,width:g.bounds.width,height:g.bounds.height};this.pdfViewer.fireAnnotationAdd(g.pageNumber,g.annotName,c.TextMarkupAnnotationType,g.bounds,I)}}var b=c.TextMarkupAnnotationType?c.TextMarkupAnnotationType:c.textMarkupAnnotationType,v=c.Bounds?c.Bounds:c.bounds,E=c.Opacity?c.Opacity:c.opacity,x=c.Color?c.Color:c.color,_=c.AnnotationRotation?c.AnnotationRotation:c.annotationRotation,D=!0;switch(c.TextMarkupAnnotationType&&(D=c.IsPrint),c.textMarkupAnnotationType&&(D=c.isPrint),b){case"Highlight":this.renderHighlightAnnotation(v,E,x,l,o,D,i);break;case"Strikethrough":this.renderStrikeoutAnnotation(v,E,x,l,o,i,D,_,c.textMarkupContent);break;case"Underline":this.renderUnderlineAnnotation(v,E,x,l,o,i,D,_)}}var M=!1;if(this.currentTextMarkupAnnotation&&this.currentTextMarkupAnnotation.annotpageNumbers)for(var V=0;V<this.currentTextMarkupAnnotation.annotpageNumbers.length;V++)if(i===this.currentTextMarkupAnnotation.annotpageNumbers[parseInt(V.toString(),10)]){M=!0,this.isAnnotationSelect=!1;break}(i===this.selectTextMarkupCurrentPage||M)&&(this.isAnnotationSelect?this.isAnnotationSelect=!1:this.maintainAnnotationSelection())}},e.prototype.getSettings=function(e){return e.AnnotationSelectorSettings?"string"==typeof e.AnnotationSelectorSettings?JSON.parse(e.AnnotationSelectorSettings):e.AnnotationSelectorSettings:this.getSelector(e.TextMarkupAnnotationType)},e.prototype.drawTextMarkupAnnotations=function(e){var t=!1;this.isTextMarkupAnnotationMode=!0,this.pdfViewer.annotationModule.isFormFieldShape=!1,this.currentTextMarkupAddMode=e;var i=!0;this.multiPageCollection=[];var n=this.pdfViewer.textSelectionModule?this.pdfViewer.textSelectionModule.selectionRangeArray:[];n.length>0&&!this.isSelectionMaintained&&(t=!0,this.convertSelectionToTextMarkup(e,n,this.pdfViewerBase.getZoomFactor()));var o,r=window.getSelection();if(r&&r.anchorNode&&(o=r.anchorNode.parentElement),this.isEnableTextMarkupResizer(e)&&this.isExtended&&window.getSelection().toString()){if((d=this.getDrawnBounds())[0]&&d[0].bounds)for(var a=this.currentTextMarkupAnnotation,s=0;s<d.length;s++)if(a&&a.pageNumber===d[parseInt(s.toString(),10)].pageIndex)this.currentTextMarkupAnnotation=a,this.selectTextMarkupCurrentPage=d[parseInt(s.toString(),10)].pageIndex,this.updateTextMarkupAnnotationBounds(d,s);else if(a&&""===e&&(e=a.textMarkupAnnotationType),a.isMultiSelect)a.isMultiSelect&&a.annotNameCollection&&this.modifyCurrentAnnotation(a,d,s);else{var l=!1;this.isMultiAnnotation(e)&&(this.multiPageCollection.push(a),l=!0),this.drawTextMarkups(e,d[parseInt(s.toString(),10)].bounds,d[parseInt(s.toString(),10)].pageIndex,d[parseInt(s.toString(),10)].rect,this.pdfViewerBase.getZoomFactor(),d[parseInt(s.toString(),10)].textContent,d[parseInt(s.toString(),10)].startIndex,d[parseInt(s.toString(),10)].endIndex,l,o)}}else if(window.getSelection().toString()&&!t){var d=this.getDrawnBounds();l=this.isMultiPageAnnotations(d,e);if(d.length>0)for(var h=0;h<d.length;h++)""===e&&(i=!1),this.drawTextMarkups(e,d[parseInt(h.toString(),10)].bounds,d[parseInt(h.toString(),10)].pageIndex,d[parseInt(h.toString(),10)].rect,this.pdfViewerBase.getZoomFactor(),d[parseInt(h.toString(),10)].textContent,d[parseInt(h.toString(),10)].startIndex,d[parseInt(h.toString(),10)].endIndex,l,o)}if(this.multiPageCollection)for(var A=0;A<this.multiPageCollection.length;A++)this.updateAnnotationNames(this.multiPageCollection[parseInt(A.toString(),10)],this.multiPageCollection[parseInt(A.toString(),10)].pageNumber);this.isExtended=!1,this.isSelectionMaintained=!1,i&&this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.clearTextSelection(),this.isEnableTextMarkupResizer(e)&&this.updateAnnotationBounds()},e.prototype.isMultiPageAnnotations=function(e,t){for(var i=!1,n=0;n<e.length;n++)if(e[parseInt(n.toString(),10)].pageIndex!==e[0].pageIndex&&this.isMultiAnnotation(t)){i=!0;break}return i},e.prototype.isMultiAnnotation=function(e){var t=!1;return("Highlight"===e&&this.pdfViewer.highlightSettings.enableMultiPageAnnotation||"Underline"===e&&this.pdfViewer.underlineSettings.enableMultiPageAnnotation||"Strikethrough"===e&&this.pdfViewer.strikethroughSettings.enableMultiPageAnnotation||this.pdfViewer.enableMultiPageAnnotation)&&(t=!0),t},e.prototype.modifyCurrentAnnotation=function(e,t,i){for(var n=0;n<e.annotNameCollection.length;n++){var o=e.annotNameCollection[parseInt(n.toString(),10)],r=this.getAnnotations(t[parseInt(i.toString(),10)].pageIndex,null);if(r)for(var a=0;a<r.length;a++)if(r[parseInt(a.toString(),10)].annotName===o){this.currentTextMarkupAnnotation=r[parseInt(a.toString(),10)],this.selectTextMarkupCurrentPage=t[parseInt(i.toString(),10)].pageIndex,this.updateTextMarkupAnnotationBounds(t,i);break}}},e.prototype.drawAnnotationSelector=function(e,i,n){for(var o=[],r=0,a=0,s=0,l=0,d=0,h=0,A=0,p=0;p<e.bounds.length;p++){d=e.bounds[parseInt(p.toString(),10)].top?e.bounds[parseInt(p.toString(),10)].top:e.bounds[parseInt(p.toString(),10)].Top,h=(0,t.isNullOrUndefined)(e.bounds[p+1])?0:e.bounds[p+1].top?e.bounds[p+1].top:e.bounds[p+1].Top;var c=void 0;if(this.pdfViewerBase.clientSideRendering&&(e.bounds[parseInt(p.toString(),10)].left?e.bounds[parseInt(p.toString(),10)].left:e.bounds[parseInt(p.toString(),10)].Left,(0,t.isNullOrUndefined)(e.bounds[p+1])?0:e.bounds[p+1].left?e.bounds[p+1].left:e.bounds[p+1].Left,A=e.bounds[parseInt(p.toString(),10)].rotation,(0,t.isNullOrUndefined)(e.bounds[p+1])?0:e.bounds[p+1].rotation,c=0===A||180===A),e.bounds.length>1&&p<e.bounds.length-1&&d===h)o.push(e.bounds[parseInt(p.toString(),10)]);else{if((p===e.bounds.length-1||e.bounds.length>=1)&&o.push(e.bounds[parseInt(p.toString(),10)]),o.length>=1)if(this.pdfViewerBase.clientSideRendering){o.length;r=o.reduce((function(e,t){return(t.left?t.left:t.Left||0)<e?t.left?t.left:t.Left||0:e}),1/0),a=o.reduce((function(e,t){return(t.top?t.top:t.Top||0)<e?t.top?t.top:t.Top||0:e}),1/0),c?(l=o[0].height?o[0].height:o[0].Height,s=o.reduce((function(e,t){return e+(t.width?t.width:t.Width||0)}),0)):(s+=o[0].width?o[0].width:o[0].Width,l=o.reduce((function(e,t){return e+(t.height?t.height:t.Height||0)}),0))}else{r=o[0].left?o[0].left:o[0].Left,a=o[0].top?o[0].top:o[0].Top,l=o[0].height?o[0].height:o[0].Height;for(var g=0;g<o.length;g++)(!isNaN(o[parseInt(g.toString(),10)].width)&&o[parseInt(g.toString(),10)].width>0||!isNaN(o[parseInt(g.toString(),10)].Width)&&o[parseInt(g.toString(),10)].Width>0)&&(s+=o[parseInt(g.toString(),10)].width?o[parseInt(g.toString(),10)].width:o[parseInt(g.toString(),10)].Width);n||(n=this.pdfViewerBase.getElement("_annotationCanvas_"+e.pageNumber)),this.drawAnnotationSelectRect(n,this.getMagnifiedValue(r-.5,this.pdfViewerBase.getZoomFactor()),this.getMagnifiedValue(a-.5,this.pdfViewerBase.getZoomFactor()),this.getMagnifiedValue(s+.5,this.pdfViewerBase.getZoomFactor()),this.getMagnifiedValue(l+.5,this.pdfViewerBase.getZoomFactor()),i),o=[],s=0}this.pdfViewerBase.clientSideRendering&&(n||(n=this.pdfViewerBase.getElement("_annotationCanvas_"+e.pageNumber)),this.drawAnnotationSelectRect(n,this.getMagnifiedValue(r-.5,this.pdfViewerBase.getZoomFactor()),this.getMagnifiedValue(a-.5,this.pdfViewerBase.getZoomFactor()),this.getMagnifiedValue(s+.5,this.pdfViewerBase.getZoomFactor()),this.getMagnifiedValue(l+.5,this.pdfViewerBase.getZoomFactor()),i),o=[],s=0,l=0)}}},e.prototype.selectMultiPageAnnotations=function(e){for(var t=0;t<e.annotNameCollection.length;t++){var i=e.annotNameCollection[parseInt(t.toString(),10)];if(i!==e.annotName)for(var n=0;n<e.annotpageNumbers.length;n++){var o=e.annotpageNumbers[parseInt(n.toString(),10)],r=this.getAnnotations(o,null);if(r)for(var a=0;a<r.length;a++)if(r[parseInt(a.toString(),10)].annotName===i){var s=r[parseInt(a.toString(),10)];this.drawAnnotationSelector(s,e)}}}},e.prototype.deletMultiPageAnnotation=function(e){for(var t=0;t<e.annotNameCollection.length;t++){var i=e.annotNameCollection[parseInt(t.toString(),10)];if(i!==e.annotName)for(var n=0;n<e.annotpageNumbers.length;n++){var o=e.annotpageNumbers[parseInt(n.toString(),10)],r=this.getAnnotations(o,null);if(r)for(var a=0;a<r.length;a++)if(r[parseInt(a.toString(),10)].annotName===i){var s,l=r[parseInt(a.toString(),10)];s=r.splice(a,1)[0],this.pdfViewer.annotationModule.addAction(o,a,s,"Text Markup Deleted",null),this.currentAnnotationIndex=a,this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(s,"textMarkup");var d=document.getElementById(s.annotName);d&&(1===d.parentElement.childElementCount?this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAccordionContainer(d):d.remove()),this.pdfViewer.annotationModule.updateAnnotationCollection(l),this.manageAnnotations(r,o),this.pdfViewer.annotationModule.updateImportAnnotationCollection(l,l.pageNumber,"textMarkupAnnotation"),this.pdfViewer.annotationModule.renderAnnotations(o,null,null,null)}}}},e.prototype.modifyMultiPageAnnotations=function(e,t,i){for(var n=0;n<e.annotNameCollection.length;n++){var o=e.annotNameCollection[parseInt(n.toString(),10)];if(o!==e.annotName)for(var r=0;r<e.annotpageNumbers.length;r++){var a=e.annotpageNumbers[parseInt(r.toString(),10)],s=this.getAnnotations(a,null);if(s)for(var l=0;l<s.length;l++)s[parseInt(l.toString(),10)].annotName===o&&("Color"===t?s[parseInt(l.toString(),10)].color=i:s[parseInt(l.toString(),10)].opacity=i,s[parseInt(l.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.currentAnnotationIndex=l,null!==status&&"changed"!==status||this.pdfViewer.annotationModule.addAction(s[parseInt(l.toString(),10)].pageNumber,l,s[parseInt(l.toString(),10)],"Text Markup Property modified",t),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationModifiedDate(s[parseInt(l.toString(),10)]),this.manageAnnotations(s,a),this.pdfViewer.annotationModule.renderAnnotations(a,null,null,null))}}},e.prototype.convertSelectionToTextMarkup=function(e,t,i){var n=!1;this.triggerAddEvent=!1,this.multiPageCollection=[];for(var o=0;o<t.length;o++){var r=t[parseInt(o.toString(),10)].textContent,a=void 0;if(t[parseInt(o.toString(),10)].startNode===t[parseInt(o.toString(),10)].endNode){var s=document.getElementById(t[parseInt(o.toString(),10)].startNode).textContent;a=this.getIndexNumbers(t[parseInt(o.toString(),10)].pageNumber,r,s)}else a=this.getIndexNumbers(t[parseInt(o.toString(),10)].pageNumber,r);if(!n)for(var l=1;l<t.length;l++)if(t[parseInt(l.toString(),10)].pageNumber!==t[0].pageNumber&&this.isMultiAnnotation(e)){n=!0;break}this.isMultiAnnotation(e)&&t.length-1===o&&(this.triggerAddEvent=!0),this.drawTextMarkups(e,t[parseInt(o.toString(),10)].rectangleBounds,t[parseInt(o.toString(),10)].pageNumber,t[parseInt(o.toString(),10)].bound,i,r,a.startIndex,a.endIndex,n,document.getElementById(t[parseInt(o.toString(),10)].startNode))}},e.prototype.updateTextMarkupAnnotationBounds=function(e,t){if(this.currentTextMarkupAnnotation){var i=this.getAnnotations(e[parseInt(t.toString(),10)].pageIndex,null),n=null;if(i){for(var o=0;o<i.length;o++)JSON.stringify(this.currentTextMarkupAnnotation)===JSON.stringify(i[parseInt(o.toString(),10)])&&(i[parseInt(o.toString(),10)].bounds=e[parseInt(t.toString(),10)].bounds,i[parseInt(o.toString(),10)].textMarkupContent=e[parseInt(t.toString(),10)].textContent,i[parseInt(o.toString(),10)].textMarkupStartIndex=e[parseInt(t.toString(),10)].startIndex,i[parseInt(o.toString(),10)].textMarkupEndIndex=e[parseInt(t.toString(),10)].endIndex,i[parseInt(o.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),n=i[parseInt(o.toString(),10)]);if(this.manageAnnotations(i,e[parseInt(t.toString(),10)].pageIndex),this.currentTextMarkupAnnotation=null,this.pdfViewer.annotationModule.renderAnnotations(e[parseInt(t.toString(),10)].pageIndex,null,null,null),this.pdfViewerBase.updateDocumentEditedProperty(!0),n){var r={opacity:n.opacity,color:n.color,author:n.author,subject:n.subject,modifiedDate:n.modifiedDate},a=this.multiPageCollectionList(n);a.length>0?e.length-1===t&&this.pdfViewer.fireAnnotationResize(e[parseInt(t.toString(),10)].pageIndex,n.annotName,n.textMarkupAnnotationType,n.bounds,r,n.textMarkupContent,n.textMarkupStartIndex,n.textMarkupEndIndex,null,a):this.pdfViewer.fireAnnotationResize(e[parseInt(t.toString(),10)].pageIndex,n.annotName,n.textMarkupAnnotationType,n.bounds,r,n.textMarkupContent,n.textMarkupStartIndex,n.textMarkupEndIndex,null)}this.currentAnnotationIndex=null,this.selectTextMarkupCurrentPage=null}}},e.prototype.multiPageCollectionList=function(e){var t=[];if(e.isMultiSelect&&e.annotNameCollection){t.push(e);for(var i=0;i<e.annotNameCollection.length;i++){var n=e.annotNameCollection[parseInt(i.toString(),10)];if(n!==e.annotName)for(var o=0;o<e.annotpageNumbers.length;o++){var r=e.annotpageNumbers[parseInt(o.toString(),10)],a=this.getAnnotations(r,null);if(a)for(var s=0;s<a.length;s++)a[parseInt(s.toString(),10)].annotName===n&&t.push(a[parseInt(s.toString(),10)])}}}return t},e.prototype.updateAnnotationNames=function(e,t){if(e){var i=this.getAnnotations(t,null);if(i){for(var n=0;n<i.length;n++)if(e.annotName===i[parseInt(n.toString(),10)].annotName){for(var o=[],r=[],a=0;a<this.multiPageCollection.length;a++)o.push(this.multiPageCollection[parseInt(a.toString(),10)].annotName),r.push(this.multiPageCollection[parseInt(a.toString(),10)].pageNumber);i[parseInt(n.toString(),10)].isMultiSelect=!0,i[parseInt(n.toString(),10)].annotNameCollection=o,i[parseInt(n.toString(),10)].annotpageNumbers=r,i[parseInt(n.toString(),10)]}this.manageAnnotations(i,t)}}},e.prototype.updateAnnotationContent=function(e,t){if(e){var i=this.getAnnotations(this.selectTextMarkupCurrentPage,null);if(i){for(var n=0;n<i.length;n++)JSON.stringify(this.currentTextMarkupAnnotation)===JSON.stringify(i[parseInt(n.toString(),10)])&&(i[parseInt(n.toString(),10)].textMarkupContent=t.textContent,i[parseInt(n.toString(),10)].textMarkupStartIndex=t.startIndex,i[parseInt(n.toString(),10)].textMarkupEndIndex=t.endIndex,i[parseInt(n.toString(),10)]),this.pdfViewer.annotationModule.storeAnnotationCollections(i[parseInt(n.toString(),10)],this.selectTextMarkupCurrentPage);this.manageAnnotations(i,this.selectTextMarkupCurrentPage)}}},e.prototype.drawTextMarkups=function(e,i,n,o,r,a,s,l,d,h){var A=null;this.isNewAnnotation=!1;var p,c,g="Guest",u=this.getPageContext(n),f=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();this.highlightColor=this.highlightColor?this.highlightColor:this.pdfViewer.highlightSettings.color?this.pdfViewer.highlightSettings.color:"#FFDF56",this.underlineColor=this.underlineColor?this.underlineColor:this.pdfViewer.underlineSettings.color?this.pdfViewer.underlineSettings.color:"#00ff00",this.strikethroughColor=this.strikethroughColor?this.strikethroughColor:this.pdfViewer.strikethroughSettings.color?this.pdfViewer.strikethroughSettings.color:"#ff0000",this.highlightOpacity=this.highlightOpacity?this.highlightOpacity:this.pdfViewer.highlightSettings.opacity,this.underlineOpacity=this.underlineOpacity?this.underlineOpacity:this.pdfViewer.underlineSettings.opacity,this.strikethroughOpacity=this.strikethroughOpacity?this.strikethroughOpacity:this.pdfViewer.strikethroughSettings.opacity,this.annotationAddMode="UI Drawn Annotation";var m=this.pdfViewerBase.pageSize[parseInt(n.toString(),10)],w=0,y=this.pdfViewerBase.getAngle(m.rotation);if(u){switch(u.setLineDash([]),e){case"Highlight":this.isNewAnnotation=!0,p=""!==this.pdfViewer.highlightSettings.subject&&this.pdfViewer.highlightSettings.subject?this.pdfViewer.highlightSettings.subject:this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Highlight",g="Guest"!==this.pdfViewer.highlightSettings.author&&this.pdfViewer.highlightSettings.author?this.pdfViewer.highlightSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest",c=this.pdfViewer.highlightSettings.allowedInteractions?this.pdfViewer.highlightSettings.allowedInteractions:["None"],(0,t.isNullOrUndefined)(this.highlightOpacity)&&(this.highlightOpacity=1),(A=this.getAddedAnnotation(e,this.highlightColor,this.highlightOpacity,i,g,p,f,"",!1,o,n,a,s,l,d,c,w))&&this.renderHighlightAnnotation(A.bounds,A.opacity,A.color,u,r,A.isPrint,n);break;case"Strikethrough":this.isNewAnnotation=!0,p=""!==this.pdfViewer.strikethroughSettings.subject&&this.pdfViewer.strikethroughSettings.subject?this.pdfViewer.strikethroughSettings.subject:this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Strikethrough",g="Guest"!==this.pdfViewer.strikethroughSettings.author&&this.pdfViewer.strikethroughSettings.author?this.pdfViewer.strikethroughSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest",c=this.pdfViewer.strikethroughSettings.allowedInteractions?this.pdfViewer.strikethroughSettings.allowedInteractions:["None"],h&&""!==h.style.transform&&(w=h.style.transform.startsWith("rotate(90deg)")?Math.abs(y-90):h.style.transform.startsWith("rotate(180deg)")?Math.abs(y-180):h.style.transform.startsWith("rotate(-90deg)")?Math.abs(y-270):y),(0,t.isNullOrUndefined)(this.strikethroughOpacity)&&(this.strikethroughOpacity=1),(A=this.getAddedAnnotation(e,this.strikethroughColor,this.strikethroughOpacity,i,g,p,f,"",!1,o,n,a,s,l,d,c,w))&&this.renderStrikeoutAnnotation(A.bounds,A.opacity,A.color,u,r,n,A.isPrint,A.annotationRotation,A.textMarkupContent);break;case"Underline":this.isNewAnnotation=!0,p=""!==this.pdfViewer.underlineSettings.subject&&this.pdfViewer.underlineSettings.subject?this.pdfViewer.underlineSettings.subject:this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Underline",g="Guest"!==this.pdfViewer.underlineSettings.author&&this.pdfViewer.underlineSettings.author?this.pdfViewer.underlineSettings.author:this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:"Guest",c=this.pdfViewer.underlineSettings.allowedInteractions?this.pdfViewer.underlineSettings.allowedInteractions:["None"],h&&""!==h.style.transform&&(w=h.style.transform.startsWith("rotate(90deg)")?Math.abs(y-90):h.style.transform.startsWith("rotate(180deg)")?Math.abs(y-180):h.style.transform.startsWith("rotate(-90deg)")?Math.abs(y-270):y),(0,t.isNullOrUndefined)(this.underlineOpacity)&&(this.underlineOpacity=1),(A=this.getAddedAnnotation(e,this.underlineColor,this.underlineOpacity,i,g,p,f,"",!1,o,n,a,s,l,d,c,w))&&this.renderUnderlineAnnotation(A.bounds,A.opacity,A.color,u,r,n,A.isPrint,A.annotationRotation)}if(this.isNewAnnotation=!1,A){this.pdfViewerBase.updateDocumentEditedProperty(!0);var S={opacity:A.opacity,color:A.color,author:A.author,subject:A.subject,modifiedDate:A.modifiedDate};this.isMultiAnnotation(e)?this.triggerAddEvent&&this.pdfViewer.fireAnnotationAdd(n,A.annotName,e,A.bounds,S,a,s,l,null,this.multiPageCollection):this.pdfViewer.fireAnnotationAdd(n,A.annotName,e,A.bounds,S,a,s,l)}t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools(e)}},e.prototype.retreiveTextIndex=function(e){if(""===e.textMarkupContent){this.retreieveSelection(e,null);var t=this.getDrawnBounds();window.getSelection().removeAllRanges(),t[0]&&t[0].bounds&&(this.updateAnnotationContent(e,t[0]),e.textMarkupContent=t[0].textContent,e.textMarkupStartIndex=t[0].startIndex,e.textMarkupEndIndex=t[0].endIndex)}return e},e.prototype.renderHighlightAnnotation=function(e,t,i,n,o,r,a){for(var s=this.pdfViewerBase.getZoomRatio(o),l=0;l<e.length;l++){var d=e[parseInt(l.toString(),10)];n.beginPath();var h=d.X?d.X:d.left,A=d.Y?d.Y:d.top,p=d.Width?d.Width:d.width,c=d.Height?d.Height:d.height,g=d.Rotation?d.Rotation:d.rotation;h=h||d.x,A=A||d.y,this.pdfViewerBase.clientSideRendering?(g>=0&&(g=Math.abs(g)/90),0===g||2===g?c-=1:1!==g&&3!==g||(p-=1)):c-=1,n.canvas.id===this.pdfViewer.element.id+"_print_annotation_layer_"+a?r&&(n.rect(h*s,A*s,p*s,c*s),n.globalAlpha=.5*t,n.closePath(),n.fillStyle=i,n.msFillRule="nonzero",n.fill()):(n.rect(h*s,A*s,p*s,c*s),n.globalAlpha=.5*t,n.closePath(),n.fillStyle=i,n.msFillRule="nonzero",n.fill())}n.save()},e.prototype.renderStrikeoutAnnotation=function(e,t,i,n,o,r,a,s,l){for(var d=0;d<e.length;d++){var h=this.getProperBounds(e[parseInt(d.toString(),10)]),A=this.pdfViewerBase.pageSize[parseInt(r.toString(),10)],p=this.pdfViewerBase.getZoomRatio(o),c=A.rotation;if(s||this.pdfViewerBase.clientSideRendering&&e[parseInt(d.toString(),10)].rotation){var g=this.pdfViewerBase.getAngle(c);c=this.pdfViewerBase.clientSideRendering?Math.abs(e[parseInt(d.toString(),10)].rotation)/90:Math.abs(s-g)/90}n.canvas.id===this.pdfViewer.element.id+"_print_annotation_layer_"+r?a&&(1===c?this.drawLine(t,h.x+h.width/2,h.y,h.width,h.height,i,p,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(d.toString(),10)].rotation:s,l):2===c?this.drawLine(t,h.x,h.y+h.height/2,h.width,h.height,i,p,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(d.toString(),10)].rotation:s,l):3===c?this.drawLine(t,h.x,h.y,h.width/2,h.height,i,p,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(d.toString(),10)].rotation:s,l):this.drawLine(t,h.x,h.y,h.width,h.height/2,i,p,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(d.toString(),10)].rotation:s,l)):1===c?this.drawLine(t,h.x+h.width/2,h.y,h.width,h.height,i,p,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(d.toString(),10)].rotation:s,l):2===c?this.drawLine(t,h.x,h.y+h.height/2,h.width,h.height,i,p,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(d.toString(),10)].rotation:s,l):3===c?this.drawLine(t,h.x,h.y,h.width/2,h.height,i,p,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(d.toString(),10)].rotation:s,l):this.drawLine(t,h.x,h.y,h.width,h.height/2,i,p,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(d.toString(),10)].rotation:s,l)}},e.prototype.renderUnderlineAnnotation=function(e,t,i,n,o,r,a,s){for(var l=0;l<e.length;l++){var d=this.getProperBounds(e[parseInt(l.toString(),10)]),h=this.pdfViewerBase.getZoomRatio(o);n.canvas.id===this.pdfViewer.element.id+"_print_annotation_layer_"+r?a&&this.drawLine(t,d.x,d.y,d.width,d.height,i,h,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(l.toString(),10)].rotation:s):this.drawLine(t,d.x,d.y,d.width,d.height,i,h,n,r,this.pdfViewerBase.clientSideRendering?e[parseInt(l.toString(),10)].rotation:s)}},e.prototype.getProperBounds=function(e){var t=e.X?e.X:e.left,i=e.Y?e.Y:e.top,n=e.Width?e.Width:e.width,o=e.Height?e.Height:e.height;return{x:t=t||e.x,y:i=i||e.y,width:n,height:o}},e.prototype.isChineseLanguage=function(e){return!!/[\u4e00-\u9fff]/.test(e)},e.prototype.drawLine=function(e,i,n,o,r,a,s,l,d,h,A){l.globalAlpha=e,(0,t.isBlazor)()&&(n-=1),this.isChineseLanguage(A)&&(r-=1.5),this.pdfViewerBase.clientSideRendering||this.isChineseLanguage(A)||(r-=1),l.beginPath();var p=this.pdfViewerBase.pageSize[parseInt(d.toString(),10)].rotation;if(h||this.pdfViewerBase.clientSideRendering&&h>=0){var c=this.pdfViewerBase.getAngle(p);p=this.pdfViewerBase.clientSideRendering?Math.abs(h)/90:Math.abs(h-c)/90}this.pdfViewerBase.clientSideRendering&&(0===p||2===p?r-=1:1!==p&&3!==p||(o-=1)),1===p?(l.moveTo(i*s,n*s),l.lineTo(i*s,(n+r)*s)):2===p?(l.moveTo(i*s,n*s),l.lineTo((o+i)*s,n*s)):3===p?(l.moveTo((o+i)*s,n*s),l.lineTo((o+i)*s,(n+r)*s)):(l.moveTo(i*s,(n+r)*s),l.lineTo((o+i)*s,(n+r)*s)),l.lineWidth=1,l.strokeStyle=a,l.closePath(),l.msFillRule="nonzero",l.stroke()},e.prototype.printTextMarkupAnnotations=function(e,i,n,o,r,a,s){var l=(0,t.createElement)("canvas",{id:this.pdfViewer.element.id+"_print_annotation_layer_"+i});l.style.width="816px",l.style.height="1056px";var d=this.pdfViewerBase.pageSize[parseInt(i.toString(),10)].width,h=this.pdfViewerBase.pageSize[parseInt(i.toString(),10)].height,A=this.pdfViewerBase.getZoomFactor(),p=this.pdfViewerBase.getZoomRatio(A);l.height=h*p,l.width=d*p;var c=this.getAnnotations(i,null,"_annotations_textMarkup"),g=this.getAnnotations(i,null,"_annotations_shape"),u=this.getAnnotations(i,null,"_annotations_shape_measure"),f=this.getAnnotations(i,null,"_annotations_stamp"),m=this.getAnnotations(i,null,"_annotations_sticky");f||g||m||u?this.pdfViewer.renderDrawing(l,i):(this.pdfViewer.annotation.renderAnnotations(i,o,r,null,l,null,null,s),this.pdfViewer.annotation.stampAnnotationModule.renderStampAnnotations(n,i,l),this.pdfViewer.annotation.stickyNotesAnnotationModule.renderStickyNotesAnnotations(a,i,l));var w=this.pdfViewerBase.getZoomFactor();return c?this.renderTextMarkupAnnotations(null,i,l,w):this.renderTextMarkupAnnotations(e,i,l,w),l.toDataURL()},e.prototype.saveTextMarkupAnnotations=function(){var e=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_textMarkup");this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_textMarkup"]);for(var t=[],i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=function(e){if(l.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(e.toString(),10)]),l.pdfViewerBase.isJsonExported)if(a.annotations[parseInt(e.toString(),10)].isAnnotationRotated)a.annotations[parseInt(e.toString(),10)].bounds=l.getBoundsForSave(a.annotations[parseInt(e.toString(),10)].bounds,o);else{var t=l.pdfViewerBase.pageSize[a.pageIndex];t&&(a.annotations[parseInt(e.toString(),10)].annotationRotation=t.rotation)}if(l.isChineseLanguage(a.annotations[parseInt(e.toString(),10)].textMarkupContent)&&a.annotations[parseInt(e.toString(),10)].bounds.length>0){var i="Strikethrough"===a.annotations[parseInt(e.toString(),10)].textMarkupAnnotationType?l.strikeoutDifference:"Underline"===a.annotations[parseInt(e.toString(),10)].textMarkupAnnotationType?l.underlineDifference:0;a.annotations[parseInt(e.toString(),10)].bounds.forEach((function(e){e.height=e.height?e.height:e.Height,e.height>0&&(e.height+=i)}))}a.annotations[parseInt(e.toString(),10)].bounds=JSON.stringify(l.getBoundsForSave(a.annotations[parseInt(e.toString(),10)].bounds,a.annotations[parseInt(e.toString(),10)].pageNumber));var n=a.annotations[parseInt(e.toString(),10)].color;a.annotations[parseInt(e.toString(),10)].color=JSON.stringify(l.getRgbCode(n)),a.annotations[parseInt(e.toString(),10)].rect=JSON.stringify(a.annotations[parseInt(e.toString(),10)].rect)},l=this,d=0;a.annotations.length>d;d++)s(d);r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},e.prototype.deleteTextMarkupAnnotation=function(){if(this.currentTextMarkupAnnotation){var e=!1;if(this.currentTextMarkupAnnotation.annotationSettings&&(e=this.currentTextMarkupAnnotation.annotationSettings.isLock,this.pdfViewer.annotationModule.checkAllowedInteractions("Delete",this.currentTextMarkupAnnotation)&&(e=!1)),!e){var i=null;this.showHideDropletDiv(!0);var n=this.currentTextMarkupAnnotation;this.currentTextMarkupAnnotation.isMultiSelect&&n.annotNameCollection&&this.deletMultiPageAnnotation(n);var o=this.getAnnotations(this.selectTextMarkupCurrentPage,null);if(o){for(var r=0;r<o.length;r++)if(this.currentTextMarkupAnnotation.annotName===o[parseInt(r.toString(),10)].annotName){i=o.splice(r,1)[0],this.pdfViewer.annotationModule.addAction(this.selectTextMarkupCurrentPage,r,i,"Text Markup Deleted",null),this.currentAnnotationIndex=r,this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(i,"textMarkup");var a=document.getElementById(i.annotName);a&&(1===a.parentElement.childElementCount?this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAccordionContainer(a):a.remove())}this.pdfViewer.annotationModule.updateAnnotationCollection(this.currentTextMarkupAnnotation),this.manageAnnotations(o,this.selectTextMarkupCurrentPage),this.pdfViewer.annotationModule.updateImportAnnotationCollection(this.currentTextMarkupAnnotation,this.currentTextMarkupAnnotation.pageNumber,"textMarkupAnnotation");var s=this.currentTextMarkupAnnotation.annotName,l=this.currentTextMarkupAnnotation.bounds;this.currentTextMarkupAnnotation=null,this.pdfViewer.annotationModule.renderAnnotations(this.selectTextMarkupCurrentPage,null,null,null),this.pdfViewerBase.updateDocumentEditedProperty(!0);var d=this.multiPageCollectionList(n);d.length>0?(d.push(i),this.pdfViewer.fireAnnotationRemove(this.selectTextMarkupCurrentPage,s,i.textMarkupAnnotationType,l,i.textMarkupContent,i.textMarkupStartIndex,i.textMarkupEndIndex,d)):(0,t.isNullOrUndefined)(i)||this.pdfViewer.fireAnnotationRemove(this.selectTextMarkupCurrentPage,s,i.textMarkupAnnotationType,l,i.textMarkupContent,i.textMarkupStartIndex,i.textMarkupEndIndex),this.currentAnnotationIndex=null,this.selectTextMarkupCurrentPage=null,t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar(),this.pdfViewer.toolbarModule.showToolbar(!0))}}}},e.prototype.modifyColorProperty=function(e){if(this.currentTextMarkupAnnotation){var t=this.modifyAnnotationProperty("Color",e,null);this.manageAnnotations(t,this.selectTextMarkupCurrentPage),this.pdfViewer.annotationModule.renderAnnotations(this.selectTextMarkupCurrentPage,null,null,null),this.pdfViewerBase.updateDocumentEditedProperty(!0);var i=this.currentTextMarkupAnnotation,n=this.multiPageCollectionList(i);n.length>0?(this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage,i.annotName,i.textMarkupAnnotationType,!0,!1,!1,!1,i.textMarkupContent,i.textMarkupStartIndex,i.textMarkupEndIndex,n),this.currentAnnotationIndex=null):(this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage,i.annotName,i.textMarkupAnnotationType,!0,!1,!1,!1,i.textMarkupContent,i.textMarkupStartIndex,i.textMarkupEndIndex),this.currentAnnotationIndex=null)}},e.prototype.modifyOpacityProperty=function(e,i){if(this.currentTextMarkupAnnotation){var n=void 0;if((n=(0,t.isNullOrUndefined)(i)?this.modifyAnnotationProperty("Opacity",e.value/100,e.name):this.modifyAnnotationProperty("Opacity",i,"changed"))&&(this.manageAnnotations(n,this.selectTextMarkupCurrentPage),this.pdfViewer.annotationModule.renderAnnotations(this.selectTextMarkupCurrentPage,null,null,null),!(0,t.isNullOrUndefined)(i)||"changed"===e.name)){this.pdfViewerBase.updateDocumentEditedProperty(!0);var o=this.currentTextMarkupAnnotation,r=this.multiPageCollectionList(o);r.length>0?(this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage,o.annotName,o.textMarkupAnnotationType,!1,!0,!1,!1,o.textMarkupContent,o.textMarkupStartIndex,o.textMarkupEndIndex,r),this.currentAnnotationIndex=null):(this.pdfViewer.fireAnnotationPropertiesChange(this.selectTextMarkupCurrentPage,o.annotName,o.textMarkupAnnotationType,!1,!0,!1,!1,o.textMarkupContent,o.textMarkupStartIndex,o.textMarkupEndIndex),this.currentAnnotationIndex=null)}}},e.prototype.modifyAnnotationProperty=function(e,t,i,n){var o=this.currentTextMarkupAnnotation;this.pdfViewer.annotationModule.isFormFieldShape=!1,o.isMultiSelect&&o.annotNameCollection&&this.modifyMultiPageAnnotations(o,e,t);var r=this.getAnnotations(this.selectTextMarkupCurrentPage,null);if(r)for(var a=0;a<r.length;a++)JSON.stringify(this.currentTextMarkupAnnotation)===JSON.stringify(r[parseInt(a.toString(),10)])&&("Color"===e?r[parseInt(a.toString(),10)].color=t:"Opacity"===e?r[parseInt(a.toString(),10)].opacity=t:"AnnotationSettings"===e?r[parseInt(a.toString(),10)].annotationSettings={isLock:t}:"AnnotationSelectorSettings"===e&&(r[parseInt(a.toString(),10)].annotationSelectorSettings=t),r[parseInt(a.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.currentAnnotationIndex=a,null!==i&&"changed"!==i||this.pdfViewer.annotationModule.addAction(this.selectTextMarkupCurrentPage,a,this.currentTextMarkupAnnotation,"Text Markup Property modified",e),this.currentTextMarkupAnnotation=r[parseInt(a.toString(),10)],this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationModifiedDate(r[parseInt(a.toString(),10)]),this.pdfViewer.annotationModule.storeAnnotationCollections(r[parseInt(a.toString(),10)],this.selectTextMarkupCurrentPage));return r},e.prototype.undoTextMarkupAction=function(e,t,i,n){var o=this.getAnnotations(t,null);if(o)if("Text Markup Added"===n){this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(o[parseInt(i.toString(),10)],"textMarkup",null,!0);var r=document.getElementById(o[parseInt(i.toString(),10)].annotName);r&&(1===r.parentElement.childElementCount?this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAccordionContainer(r):r.parentElement.removeChild(r)),o.splice(i,1),this.pdfViewer.annotationCollection.splice(i,1)}else"Text Markup Deleted"===n&&(this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addAnnotationComments(t,e.shapeAnnotationType,!0),o.splice(i,0,e));this.clearCurrentAnnotation(),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.manageAnnotations(o,t),this.pdfViewer.annotationModule.renderAnnotations(t,null,null,null)},e.prototype.undoRedoPropertyChange=function(e,t,i,n,o){var r=this.getAnnotations(t,null);if(r){if("Color"===n){var a=r[parseInt(i.toString(),10)].color;r[parseInt(i.toString(),10)].color=e.color,e.color=a}else{var s=r[parseInt(i.toString(),10)].opacity;r[parseInt(i.toString(),10)].opacity=e.opacity,e.opacity=s}this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationModifiedDate(e,null,!0),o&&(e.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime())}return this.clearCurrentAnnotation(),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.manageAnnotations(r,t),this.pdfViewer.annotationModule.renderAnnotations(t,null,null,null),e},e.prototype.redoTextMarkupAction=function(e,t,i,n){var o=this.getAnnotations(t,null);if(o)if("Text Markup Added"===n)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.addAnnotationComments(t,e.shapeAnnotationType,!1),o.push(e);else if("Text Markup Deleted"===n){this.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(o[parseInt(i.toString(),10)],"textMarkup");var r=document.getElementById(o[parseInt(i.toString(),10)].annotName);r&&(1===r.parentElement.childElementCount?this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAccordionContainer(r):r.remove()),o.splice(i,1)}this.clearCurrentAnnotation(),this.pdfViewerBase.updateDocumentEditedProperty(!0),this.manageAnnotations(o,t),this.pdfViewer.annotationModule.renderAnnotations(t,null,null,null)},e.prototype.saveNoteContent=function(e,t){var i=this.getAnnotations(e,null);if(i)for(var n=0;n<i.length;n++)JSON.stringify(this.currentTextMarkupAnnotation)===JSON.stringify(i[parseInt(n.toString(),10)])&&(i[parseInt(n.toString(),10)].note=t);this.manageAnnotations(i,e),this.pdfViewerBase.updateDocumentEditedProperty(!0)},e.prototype.clearCurrentAnnotation=function(){if(!this.isExtended){this.pdfViewer.isMaintainSelection&&!this.pdfViewer.textSelectionModule.isTextSelection||(this.selectTextMarkupCurrentPage=null,this.currentTextMarkupAnnotation=null);var e=!1;this.pdfViewer.annotation.freeTextAnnotationModule&&this.pdfViewer.annotation.freeTextAnnotationModule.isInuptBoxInFocus&&(e=!0),e||this.enableAnnotationPropertiesTool(!1)}},e.prototype.clearCurrentAnnotationSelection=function(e,t){this.isAnnotationSelect=!!t;for(var i=e-2>=0?e-2:0,n=e+2<this.pdfViewerBase.pageCount?e+2:this.pdfViewerBase.pageCount-1,o=i;o<=n;o++)this.clearAnnotationSelection(o)},e.prototype.getBoundsForSave=function(e,t){for(var i=[],n=0;n<e.length;n++){var o=this.getAnnotationBounds(e[parseInt(n.toString(),10)],t);i.push(o)}return i},e.prototype.getAnnotationBounds=function(e,i){var n=(0,t.isNullOrUndefined)(e.left)?e.Left:e.left,o=(0,t.isNullOrUndefined)(e.top)?e.Top:e.top,r=(0,t.isNullOrUndefined)(e.height)?e.Height:e.height,a=(0,t.isNullOrUndefined)(e.width)?e.Width:e.width,s=this.pdfViewerBase.pageSize[parseInt(i.toString(),10)];return n=n||e.x,o=o||e.y,s?1===s.rotation?{left:o,top:s.width-(n+a),width:r,height:a}:2===s.rotation?{left:s.width-n-a,top:s.height-o-r,width:a,height:r}:3===s.rotation?{left:s.height-o-r,top:n,width:r,height:a}:{left:n,top:o,width:a,height:r}:{left:n,top:o,width:a,height:r}},e.prototype.getRgbCode=function(e){e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||(e=this.pdfViewer.annotationModule.nameToHash(e));var i=e.split(",");(0,t.isNullOrUndefined)(i[1])&&(i=(e=this.pdfViewer.annotationModule.getValue(e,"rgba")).split(","));var n=parseInt(i[0].split("(")[1],10),o=parseInt(i[1],10),r=parseInt(i[2],10);return{a:parseInt(i[3],10),r:n,g:o,b:r}},e.prototype.getDrawnBounds=function(){var e=[],t=window.getSelection();if(null!==t.anchorNode){var i=document.createRange(),n=this.pdfViewerBase.textLayer.isBackWardSelection(t);if(t.anchorNode===t.focusNode){var o=this.pdfViewerBase.textLayer.getPageIndex(t.anchorNode);if(!isNaN(o)){var r=this.pdfViewerBase.getElement("_pageDiv_"+o).getBoundingClientRect();this.pdfViewerBase.isMixedSizeDocument&&(r=this.pdfViewerBase.getElement("_textLayer_"+o).getBoundingClientRect()),n?(i.setStart(t.focusNode,t.focusOffset),i.setEnd(t.anchorNode,t.anchorOffset)):t.anchorOffset<t.focusOffset?(t.anchorOffset,t.focusOffset,i.setStart(t.anchorNode,t.anchorOffset),i.setEnd(t.focusNode,t.focusOffset)):(t.focusOffset,t.anchorOffset,i.setStart(t.focusNode,t.focusOffset),i.setEnd(t.anchorNode,t.anchorOffset));var a=i.getBoundingClientRect(),s=0;if(this.pdfViewerBase.clientSideRendering){var l=this.pdfViewerBase.pageSize[parseInt(o.toString(),10)],d=(this.pdfViewerBase.getAngle(l.rotation),void 0);(d=i.startContainer.parentElement?i.startContainer.parentElement:i.startContainer.parentNode)&&""!==d.style.transform&&(s=d.style.transform.startsWith("rotate(90deg)")?90:d.style.transform.startsWith("rotate(180deg)")?180:d.style.transform.startsWith("rotate(-90deg)")||d.style.transform.startsWith("rotate(270deg)")?270:0)}var h=this.getIndexNumbers(o,i.toString(),i.commonAncestorContainer.textContent.toString()),A={left:this.getDefaultValue(a.left-r.left),top:this.getDefaultValue(a.top-r.top),width:this.getDefaultValue(a.width),height:this.getDefaultValue(a.height),right:this.getDefaultValue(a.right-r.left),bottom:this.getDefaultValue(a.bottom-r.top),rotation:s},p=[];p.push(A);var c={left:A.left,top:A.top,right:A.right,bottom:A.bottom,rotation:s};e.push({pageIndex:o,bounds:p,rect:c,startIndex:h.startIndex,endIndex:h.endIndex,textContent:i.toString()})}}else{var g=void 0,u=void 0,f=void 0,m=void 0;n?(g=t.focusNode,f=t.focusOffset,u=t.anchorNode,m=t.anchorOffset):(g=t.anchorNode,f=t.anchorOffset,u=t.focusNode,m=t.focusOffset);for(var w=this.pdfViewerBase.textLayer.getPageIndex(g),y=this.pdfViewerBase.textLayer.getTextIndex(g,w),S=this.pdfViewerBase.textLayer.getPageIndex(u),C=this.pdfViewerBase.textLayer.getTextIndex(u,S),B=0,I=0,b=0,v=w;v<=S;v++){var E=[],x=void 0,_=void 0,D=void 0,M=void 0,V=this.pdfViewerBase.getElement("_textLayer_"+v).childNodes;r=this.pdfViewerBase.getElement("_pageDiv_"+v).getBoundingClientRect();this.pdfViewerBase.isMixedSizeDocument&&(r=this.pdfViewerBase.getElement("_textLayer_"+v).getBoundingClientRect());for(var Q=b=v===w?y:0;Q<V.length;Q++){d=V[parseInt(Q.toString(),10)];Q===b?(x=b,D=v===w?f:0):(_=Q,M=v===S?m:d.textContent.length),B=Q===y&&v===w?f:0,I=Q===C&&v===S?m:d.textContent.length;for(var F=0;F<d.childNodes.length;F++){var T=d.childNodes[parseInt(F.toString(),10)];i.setStart(T,B),i.setEnd(T,I)}a=i.getBoundingClientRect(),s=0;if(this.pdfViewerBase.clientSideRendering){l=this.pdfViewerBase.pageSize[parseInt(v.toString(),10)],this.pdfViewerBase.getAngle(l.rotation);d&&""!==d.style.transform&&(s=d.style.transform.startsWith("rotate(90deg)")?90:d.style.transform.startsWith("rotate(180deg)")?180:d.style.transform.startsWith("rotate(-90deg)")||d.style.transform.startsWith("rotate(270deg)")?270:0)}A={left:this.getDefaultValue(a.left-r.left),top:this.getDefaultValue(a.top-r.top),width:this.getDefaultValue(a.width),height:this.getDefaultValue(a.height),right:this.getDefaultValue(a.right-r.left),bottom:this.getDefaultValue(a.bottom-r.top),rotation:s};if(E.push(A),i.detach(),v===S&&Q===C)break}_||(_=x),M||(M=I);var k=this.pdfViewerBase.getElement("_text_"+v+"_"+x).childNodes[0],P=this.pdfViewerBase.getElement("_text_"+v+"_"+_).childNodes[0],N=document.createRange();N.setStart(k,D),N.setEnd(P,M);var R=N.getBoundingClientRect(),L=N.toString(),O=(h=this.getIndexNumbers(v,L),{left:this.getDefaultValue(R.left-r.left),top:this.getDefaultValue(R.top-r.top),width:this.getDefaultValue(R.width),height:this.getDefaultValue(R.height),right:this.getDefaultValue(R.right-r.left),bottom:this.getDefaultValue(R.bottom-r.top)});c={left:O.left,top:O.top,right:O.right,bottom:O.bottom};e.push({pageIndex:v,bounds:E,rect:c,startIndex:h.startIndex,endIndex:h.endIndex,textContent:L})}}}return t.removeAllRanges(),e},e.prototype.getIndexNumbers=function(e,i,n){var o,r,a=this.pdfViewerBase.clientSideRendering?this.pdfViewerBase.getLinkInformation(e):this.pdfViewerBase.getStoredData(e);if(a){for(var s=0,l=a.pageText,d=0;d<e;d++)if(this.pdfViewer.isExtractText){var h=this.pdfViewer.textSearchModule.documentTextCollection[parseInt(d.toString(),10)][parseInt(d.toString(),10)],A=h.pageText?h.pageText:h.PageText;if(this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.documentTextCollection&&this.pdfViewer.textSearchModule.isTextRetrieved)this.pdfViewer.textSearchModule.documentTextCollection[parseInt(d.toString(),10)]&&(s+=A.length);else if(this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.documentTextCollection){if(!(e<=this.pdfViewer.textSearchModule.documentTextCollection.length)){s=0;break}this.pdfViewer.textSearchModule.documentTextCollection[parseInt(d.toString(),10)]&&(s+=A.length)}}if((0,t.isNullOrUndefined)(n))o=l.indexOf(i)+s;else o=l.indexOf(n)+n.indexOf(i)+s;r=o+(i.length-1)}return{startIndex:o,endIndex:r}},e.prototype.rerenderAnnotationsPinch=function(e){var t=this.pdfViewerBase.getElement("_annotationCanvas_"+e);if(t){var i=this.pdfViewerBase.getElement("_old_annotationCanvas_"+e);i&&(t?(i.id=t.id,t.parentElement.removeChild(t)):i.id=this.pdfViewer.element.id+"_annotationCanvas_"+e,t=i),t.style.width="",t.style.height="",this.pdfViewer.restrictZoomRequest?(t.style.width=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width*this.pdfViewerBase.getZoomFactor()+"px",t.style.height=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height*this.pdfViewerBase.getZoomFactor()+"px"):(t.width=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width*this.pdfViewerBase.getZoomFactor(),t.height=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height*this.pdfViewerBase.getZoomFactor()),this.renderTextMarkupAnnotations(null,e,t,this.pdfViewerBase.getZoomFactor())}},e.prototype.rerenderAnnotations=function(e){for(var t=document.querySelectorAll("#"+this.pdfViewer.element.id+"_old_annotationCanvas_"+e),i=0;i<t.length;i++)t[parseInt(i.toString(),10)]&&t[parseInt(i.toString(),10)].parentElement.removeChild(t[parseInt(i.toString(),10)]);var n=this.pdfViewerBase.getElement("_annotationCanvas_"+e);n&&(n.style.display="block")},e.prototype.onTextMarkupAnnotationMouseUp=function(e){var i=this.pdfViewer.annotationModule.getEventPageNumber(e);if((0,t.isNullOrUndefined)(i)||isNaN(i))this.pdfViewerBase.isClickedOnScrollBar(e,!0)||(this.clearCurrentAnnotation(),this.clearCurrentAnnotationSelection(i));else{var n=this.pdfViewerBase.getElement("_annotationCanvas_"+i);this.currentTextMarkupAnnotation?this.selectedTextMarkup=this.currentTextMarkupAnnotation:this.selectedTextMarkup=null,this.clearCurrentSelectedAnnotation();var o=this.getCurrentMarkupAnnotation(e.clientX,e.clientY,i,n);if(o&&!window.getSelection().toString()){var r=!1,a=!1;if(o.annotationSettings&&o.annotationSettings.isLock&&(r=o.annotationSettings.isLock)&&this.pdfViewer.annotationModule.checkAllowedInteractions("Select",o)&&(r=!1,a=!this.pdfViewer.annotationModule.checkAllowedInteractions("PropertyChange",o)),!r){var s=n.parentElement.getBoundingClientRect(),l=e.clientX-s.left,d=e.clientY-s.top;this.annotationClickPosition={x:l,y:d},this.selectAnnotation(o,n,i,e),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools(this.currentTextMarkupAnnotation.textMarkupAnnotationType),this.currentTextMarkupAnnotation=o,this.selectTextMarkupCurrentPage=i,a||this.enableAnnotationPropertiesTool(!0);var h=document.getElementById(this.pdfViewer.element.id+"_commantPanel");if(h&&"block"===h.style.display){var A=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+(i+1));A&&A.ej2_instances[0].expandItem(!0);var p=document.getElementById(o.annotName);p&&p.firstChild.click()}(0,t.isBlazor)()||this.pdfViewer.toolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem))}}else this.clearCurrentAnnotation();this.pdfViewer.isMaintainSelection&&!this.pdfViewer.textSelectionModule.isTextSelection?o&&this.clearCurrentAnnotationSelection(i):this.clearCurrentAnnotationSelection(i)}},e.prototype.onTextMarkupAnnotationTouchEnd=function(e){var i=this.pdfViewer.annotationModule.getEventPageNumber(e);if((0,t.isNullOrUndefined)(i)||isNaN(i))if(null!=this.selectTextMarkupCurrentPage&&t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode){var n=this.selectTextMarkupCurrentPage;this.selectTextMarkupCurrentPage=null,this.clearAnnotationSelection(n)}else this.clearCurrentAnnotation(),this.clearCurrentAnnotationSelection(i);else{this.currentTextMarkupAnnotation?this.selectedTextMarkup=this.currentTextMarkupAnnotation:this.selectedTextMarkup=null,this.clearCurrentAnnotationSelection(i);var o=this.pdfViewerBase.getElement("_annotationCanvas_"+i);this.clearCurrentSelectedAnnotation();var r=this.getCurrentMarkupAnnotation(e.touches[0].clientX,e.touches[0].clientY,i,o);if(r){var a=!1;if(r.annotationSettings&&r.annotationSettings.isLock&&(a=r.annotationSettings.isLock),!a){var s=o.parentElement.getBoundingClientRect(),l=e.touches[0].clientX-s.left,d=e.touches[0].clientY-s.top;this.annotationClickPosition={x:l,y:d},this.selectAnnotation(r,o,i,e),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools(this.currentTextMarkupAnnotation.textMarkupAnnotationType),this.currentTextMarkupAnnotation=r,this.selectTextMarkupCurrentPage=i,this.enableAnnotationPropertiesTool(!0);var h=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+(i+1));h&&h.ej2_instances[0].expandItem(!0);var A=document.getElementById(r.annotName);A&&(t.Browser.isDevice||A.firstChild.click())}}else this.clearCurrentAnnotation();this.clearCurrentAnnotationSelection(i)}},e.prototype.clearCurrentSelectedAnnotation=function(){if(this.currentTextMarkupAnnotation){this.clearAnnotationSelection(this.selectTextMarkupCurrentPage);var e=this.currentTextMarkupAnnotation;this.pdfViewer.fireAnnotationUnSelect(e.annotName,e.pageNumber,e),this.currentTextMarkupAnnotation=null,this.clearCurrentAnnotation()}},e.prototype.onTextMarkupAnnotationMouseMove=function(e){var t=e.target,i=parseInt(t.id.split("_text_")[1],10)||parseInt(t.id.split("_textLayer_")[1],10)||parseInt(t.id.split("_annotationCanvas_")[1],10);if(e.target&&(t.id.indexOf("_text")>-1||t.id.indexOf("_annotationCanvas")>-1||t.classList.contains("e-pv-hyperlink"))&&this.pdfViewer.annotation){i=this.pdfViewer.annotation.getEventPageNumber(e);var n=this.pdfViewerBase.getElement("_annotationCanvas_"+i),o=this.getCurrentMarkupAnnotation(e.clientX,e.clientY,i,n);if(o){t.style.cursor="pointer";var r=this.pdfViewerBase.getMousePosition(e),a=this.pdfViewerBase.relativePosition(e),s={left:a.x,top:a.y},l={left:r.x,top:r.y},d={opacity:o.opacity,color:o.color,author:o.author,subject:o.subject,modifiedDate:o.modifiedDate};this.pdfViewerBase.isMousedOver=!0,this.pdfViewer.fireAnnotationMouseover(o.annotName,o.pageNumber,o.textMarkupAnnotationType,o.bounds,d,l,s)}else this.pdfViewer.annotationModule.hidePopupNote(),this.pdfViewerBase.isPanMode&&!this.pdfViewerBase.getAnnotationToolStatus()&&(t.style.cursor="grab"),this.pdfViewerBase.isMousedOver&&!this.pdfViewerBase.isFormFieldMousedOver&&(this.pdfViewer.fireAnnotationMouseLeave(i),this.pdfViewerBase.isMousedOver=!1)}},e.prototype.showPopupNote=function(e,t){t.note&&this.pdfViewer.annotationModule.showPopupNote(e,t.color,t.author,t.note,t.textMarkupAnnotationType)},e.prototype.getCurrentMarkupAnnotation=function(e,t,i,n){var o=[];if(n){var r=n.parentElement.getBoundingClientRect();n.clientWidth!==n.parentElement.clientWidth&&(r=n.getBoundingClientRect());var a=e-r.left,s=t-r.top,l=this.getAnnotations(i,null),d=!1;if(l)for(var h=0;h<l.length;h++)for(var A=l[parseInt(h.toString(),10)],p=0;p<A.bounds.length;p++){var c=A.bounds[parseInt(p.toString(),10)],g=c.left?c.left:c.Left,u=c.top?c.top:c.Top,f=c.width?c.width:c.Width,m=c.height?c.height:c.Height;if(a>=this.getMagnifiedValue(g,this.pdfViewerBase.getZoomFactor())&&a<=this.getMagnifiedValue(g+f,this.pdfViewerBase.getZoomFactor())&&s>=this.getMagnifiedValue(u,this.pdfViewerBase.getZoomFactor())&&s<=this.getMagnifiedValue(u+m,this.pdfViewerBase.getZoomFactor()))o.push(A),d=!0;else if(d){d=!1;break}}var w=null;return o.length>1?w=this.compareCurrentAnnotations(o):1===o.length&&(w=o[0]),w}return null},e.prototype.compareCurrentAnnotations=function(e){for(var t,i=null,n=0;n<e.length&&n!==e.length-1;n++){var o=e[parseInt(n.toString(),10)].bounds,r=o[0].left?o[0].left:o[0].Left,a=o[0].top?o[0].top:o[0].Top,s=e[n+1].bounds,l=s[0].left?s[0].left:s[0].Left,d=s[0].top?s[0].top:s[0].Top;r<l||a<d?(t=l,i=e[n+1]):(t=r,i=e[parseInt(n.toString(),10)]),t&&n===e.length-2&&t===r&&t===l&&(t=l,i=e[n+1])}return i},e.prototype.clearAnnotationSelection=function(e){var t=this.pdfViewerBase.getElement("_annotationCanvas_"+e);t&&(t.getContext("2d").setLineDash([]),this.pdfViewer.annotationModule.renderAnnotations(e,null,null,null))},e.prototype.selectAnnotation=function(e,t,i,n,o){this.pdfViewer.selectedItems.annotations[0]&&(this.pdfViewer.clearSelection(this.pdfViewer.selectedItems.annotations[0].pageIndex),this.pdfViewer.clearSelection(this.selectTextMarkupCurrentPage));var r=!1;if(e.annotationSettings&&e.annotationSettings.isLock&&(r=e.annotationSettings.isLock)&&this.pdfViewer.annotationModule.checkAllowedInteractions("Select",e)&&(r=!1),!r){var a=!1;this.currentTextMarkupAnnotation||(a=!0),this.selectedTextMarkup&&e&&!o&&(a=this.selectedTextMarkup.annotName!==e.annotName),isNaN(i)||(this.selectTextMarkupCurrentPage=i,this.currentTextMarkupAnnotation=e,e=this.retreiveTextIndex(e),this.currentTextMarkupAnnotation=e),this.isSelectedAnnotation&&this.pdfViewer.textSelectionModule&&(this.pdfViewerBase.isSelection=!0,this.updateAnnotationBounds());var s=n;if(this.isEnableTextMarkupResizer(e.textMarkupAnnotationType)&&e&&s&&!s.touches&&this.updateCurrentResizerPosition(e),this.drawAnnotationSelector(e,this.currentTextMarkupAnnotation,t),e.isMultiSelect&&e.annotNameCollection&&this.selectMultiPageAnnotations(e),""!==e.annotName&&!this.isNewAnnotation&&a){var l=!1;s||(l=!0),this.pdfViewer.annotationModule.annotationSelect(e.annotName,this.selectTextMarkupCurrentPage,e,null,!1,l),this.selectedTextMarkup=null}e&&this.isEnableTextMarkupResizer(e.textMarkupAnnotationType)&&(this.isTextMarkupAnnotationMode=!0)}},e.prototype.updateCurrentResizerPosition=function(e){if(e||(e=this.currentTextMarkupAnnotation),e&&this.isEnableTextMarkupResizer(e.textMarkupAnnotationType)&&e){var t=this.pdfViewerBase.getElement("_textLayer_"+this.selectTextMarkupCurrentPage);if(t){var i=t.getBoundingClientRect(),n=e.bounds[0].left?e.bounds[0].left:e.bounds[0].Left,o=e.bounds[0].top?e.bounds[0].top:e.bounds[0].Top;this.updateLeftposition(n*this.pdfViewerBase.getZoomFactor()+i.left,i.top+o,!0);var r=e.bounds[e.bounds.length-1],a=r.left?r.left:r.Left,s=r.top?r.top:r.Top,l=r.width?r.width:r.Width;this.updatePosition((a+l)*this.pdfViewerBase.getZoomFactor()+i.left,s+i.top,!0)}}},e.prototype.drawAnnotationSelectRect=function(e,t,i,n,o,r){var a=this.pdfViewerBase.getZoomRatio();if(e){var s=e.getContext("2d");if(s.setTransform(1,0,0,1,0,0),s.beginPath(),"string"==typeof r.annotationSelectorSettings){(d=0===JSON.parse(r.annotationSelectorSettings).selectorLineDashArray.length?[4]:JSON.parse(r.annotationSelectorSettings).selectorLineDashArray).length>2&&(d=[d[0],d[1]]),s.setLineDash(d),s.globalAlpha=1,s.rect(t*a,i*a,n*a,o*a),s.closePath();var l=""===JSON.parse(r.annotationSelectorSettings).selectionBorderColor?"#0000ff":JSON.parse(r.annotationSelectorSettings).selectionBorderColor;s.strokeStyle=l,s.lineWidth=1===JSON.parse(r.annotationSelectorSettings).selectionBorderThickness?1:r.annotationSelectorSettings.selectionBorderThickness,s.stroke(),s.save()}else{var d;(d=0===r.annotationSelectorSettings.selectorLineDashArray.length?[4]:r.annotationSelectorSettings.selectorLineDashArray).length>2&&(d=[d[0],d[1]]),s.setLineDash(d),s.globalAlpha=1,s.rect(t*a,i*a,n*a,o*a),s.closePath();l=""===r.annotationSelectorSettings.selectionBorderColor?"#0000ff":r.annotationSelectorSettings.selectionBorderColor;s.strokeStyle=l,s.lineWidth=r.annotationSelectorSettings.selectionBorderThickness?1:r.annotationSelectorSettings.selectionBorderThickness,s.stroke(),s.save()}}},e.prototype.enableAnnotationPropertiesTool=function(e){if(this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-color-container")),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&(t.Browser.isDevice||this.pdfViewer.toolbarModule.annotationToolbarModule.createMobileAnnotationToolbar(e)),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.isMobileAnnotEnabled&&0===this.pdfViewer.selectedItems.annotations.length&&this.pdfViewer.toolbarModule.annotationToolbarModule){this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(e);var i=e;this.isTextMarkupAnnotationMode&&(i=!0),this.pdfViewer.toolbarModule.annotationToolbarModule.enableTextMarkupAnnotationPropertiesTools(i),this.currentTextMarkupAnnotation?(0,t.isBlazor)()?this.pdfViewer.toolbarModule.annotationToolbarModule.updateColorInIcon(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElementInBlazor,this.currentTextMarkupAnnotation.color):this.pdfViewer.toolbarModule.annotationToolbarModule.updateColorInIcon(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElement,this.currentTextMarkupAnnotation.color):(0,t.isNullOrUndefined)(this.isTextMarkupAnnotationMode)||this.isTextMarkupAnnotationMode?this.pdfViewer.toolbarModule.annotationToolbarModule.setCurrentColorInPicker():(0,t.isBlazor)()?this.pdfViewer.toolbarModule.annotationToolbarModule.updateColorInIcon(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElementInBlazor,"#000000"):this.pdfViewer.toolbarModule.annotationToolbarModule.updateColorInIcon(this.pdfViewer.toolbarModule.annotationToolbarModule.colorDropDownElement,"#000000")}},e.prototype.maintainAnnotationSelection=function(){if(this.currentTextMarkupAnnotation){var e=this.pdfViewerBase.getElement("_annotationCanvas_"+this.selectTextMarkupCurrentPage);e&&this.selectAnnotation(this.currentTextMarkupAnnotation,e,this.selectTextMarkupCurrentPage)}},e.prototype.manageAnnotations=function(e,t){var i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_textMarkup");if(this.pdfViewerBase.isStorageExceed&&(i=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_textMarkup"]),i){var n=JSON.parse(i);this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_textMarkup");var o=this.pdfViewer.annotationModule.getPageCollection(n,t);null!=o&&n[parseInt(o.toString(),10)]&&(n[parseInt(o.toString(),10)].annotations=e);var r=JSON.stringify(n);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_textMarkup"]=r:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_textMarkup",r)}},e.prototype.getAnnotations=function(e,t,i){var n;null!=i&&void 0!==i||(i="_annotations_textMarkup");var o=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+i);if(this.pdfViewerBase.isStorageExceed&&(o=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+i]),o){var r=JSON.parse(o),a=this.pdfViewer.annotationModule.getPageCollection(r,e);n=null!=a&&r[parseInt(a.toString(),10)]?r[parseInt(a.toString(),10)].annotations:t}else n=t;return n},e.prototype.getAddedAnnotation=function(e,t,i,n,o,r,a,s,l,d,h,A,p,c,g,u,f){var m=a||this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),w=this.pdfViewer.annotation.createGUID(),y=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("textMarkup",h+1,e);y&&(document.getElementById(y).id=w);var S=this.pdfViewer.annotationSettings?this.pdfViewer.annotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(this.pdfViewer.annotation),C=this.getIsPrintValue(e),B={textMarkupAnnotationType:e,color:t,opacity:i,bounds:n,author:o,allowedInteractions:u,subject:r,modifiedDate:m,note:s,rect:d,annotName:w,comments:[],review:{state:"",stateModel:"",author:o,modifiedDate:m},shapeAnnotationType:"textMarkup",pageNumber:h,textMarkupContent:A,textMarkupStartIndex:p,textMarkupEndIndex:c,isMultiSelect:g,annotationSelectorSettings:this.getSelector(e),customData:this.pdfViewer.annotation.getTextMarkupData(r),annotationAddMode:this.annotationAddMode,annotationSettings:S,isPrint:C,isCommentLock:l,isAnnotationRotated:!1,annotationRotation:f,isLocked:!1};g&&this.multiPageCollection.push(B);var I=!1;g&&this.isExtended&&(I=!0),document.getElementById(w)&&!I&&document.getElementById(w).addEventListener("mouseup",this.annotationDivSelect(B,h));var b=this.pdfViewer.annotationModule.storeAnnotations(h,B,"_annotations_textMarkup");return this.pdfViewer.annotationModule.addAction(h,b,B,"Text Markup Added",null),B},e.prototype.getSelector=function(e){var t=this.pdfViewer.annotationSelectorSettings;return"Highlight"===e&&this.pdfViewer.highlightSettings.annotationSelectorSettings?t=this.pdfViewer.highlightSettings.annotationSelectorSettings:"Underline"===e&&this.pdfViewer.underlineSettings.annotationSelectorSettings?t=this.pdfViewer.underlineSettings.annotationSelectorSettings:"Strikethrough"===e&&this.pdfViewer.strikethroughSettings.annotationSelectorSettings&&(t=this.pdfViewer.strikethroughSettings.annotationSelectorSettings),t},e.prototype.getIsPrintValue=function(e){var i=!0;return"Highlight"===e&&(i=this.pdfViewer.highlightSettings.isPrint),"Underline"===e&&(i=this.pdfViewer.underlineSettings.isPrint),"Strikethrough"===e&&(i=this.pdfViewer.strikethroughSettings.isPrint),(0,t.isNullOrUndefined)(i)&&(i=!0),i},e.prototype.annotationDivSelect=function(e,i){var n=this.pdfViewerBase.getElement("_annotationCanvas_"+i);if(this.selectAnnotation(e,n,i),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.enableAnnotationToolbar){this.pdfViewer.toolbarModule.annotationToolbarModule.clearShapeMode(),this.pdfViewer.toolbarModule.annotationToolbarModule.clearMeasureMode();var o=!1;e.annotationSettings&&e.annotationSettings.isLock&&(o=e.annotationSettings.isLock),o?(this.pdfViewer.annotationModule.checkAllowedInteractions("PropertyChange",e)&&(this.pdfViewer.toolbarModule.annotationToolbarModule.enableTextMarkupAnnotationPropertiesTools(!0),this.pdfViewer.toolbarModule.annotationToolbarModule.setCurrentColorInPicker()),this.pdfViewer.annotationModule.checkAllowedInteractions("Delete",e)&&this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(!0)):(this.pdfViewer.toolbarModule.annotationToolbarModule.enableTextMarkupAnnotationPropertiesTools(!0),this.pdfViewer.toolbarModule.annotationToolbarModule.selectAnnotationDeleteItem(!0),this.pdfViewer.toolbarModule.annotationToolbarModule.setCurrentColorInPicker()),this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,(0,t.isBlazor)()||this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem)}},e.prototype.getPageContext=function(e){var t=this.pdfViewerBase.getElement("_annotationCanvas_"+e),i=null;return t&&(i=t.getContext("2d")),i},e.prototype.getDefaultValue=function(e){return e/this.pdfViewerBase.getZoomFactor()},e.prototype.getMagnifiedValue=function(e,t){return e*t},e.prototype.saveImportedTextMarkupAnnotations=function(e,t){var i;e.Author=this.pdfViewer.annotationModule.updateAnnotationAuthor("textMarkup",e.Subject),e.allowedInteractions=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),i={textMarkupAnnotationType:e.TextMarkupAnnotationType,color:e.Color,opacity:e.Opacity,allowedInteractions:e.allowedInteractions,bounds:e.Bounds,author:e.Author,subject:e.Subject,modifiedDate:e.ModifiedDate,note:e.Note,rect:e.Rect,annotName:e.AnnotName,isLocked:e.IsLocked,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},shapeAnnotationType:"textMarkup",pageNumber:t,textMarkupContent:"",textMarkupStartIndex:0,textMarkupEndIndex:0,annotationSelectorSettings:this.getSettings(e),customData:this.pdfViewer.annotation.getCustomData(e),isMultiSelect:e.IsMultiSelect,annotNameCollection:e.AnnotNameCollection,annotpageNumbers:e.AnnotpageNumbers,annotationAddMode:this.annotationAddMode,annotationSettings:e.AnnotationSettings,isPrint:e.IsPrint,isCommentLock:e.IsCommentLock,isAnnotationRotated:!1},this.pdfViewer.annotationModule.storeAnnotations(t,i,"_annotations_textMarkup")},e.prototype.updateTextMarkupAnnotationCollections=function(e,t){return e.allowedInteractions=e.AllowedInteractions?e.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),{textMarkupAnnotationType:e.TextMarkupAnnotationType,allowedInteractions:e.allowedInteractions,color:e.Color,opacity:e.Opacity,bounds:e.Bounds,author:e.Author,subject:e.Subject,modifiedDate:e.ModifiedDate,note:e.Note,rect:e.Rect,annotationId:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},shapeAnnotationType:"textMarkup",pageNumber:t,isMultiSelect:e.IsMultiSelect,annotNameCollection:e.AnnotNameCollection,annotpageNumbers:e.AnnotpageNumbers,customData:this.pdfViewer.annotation.getCustomData(e),annotationSettings:e.AnnotationSettings,isLocked:e.IsLocked,isPrint:e.IsPrint,isCommentLock:e.IsCommentLock}},e.prototype.updateTextMarkupSettings=function(e){"highlightSettings"===e&&(this.highlightColor=this.pdfViewer.highlightSettings.color?this.pdfViewer.highlightSettings.color:this.highlightColor,this.highlightOpacity=this.pdfViewer.highlightSettings.opacity?this.pdfViewer.highlightSettings.opacity:this.highlightOpacity),"underlineSettings"===e&&(this.underlineColor=this.pdfViewer.underlineSettings.color?this.pdfViewer.underlineSettings.color:this.underlineColor,this.underlineOpacity=this.pdfViewer.underlineSettings.opacity?this.pdfViewer.underlineSettings.opacity:this.underlineOpacity),"strikethroughSettings"===e&&(this.strikethroughColor=this.pdfViewer.strikethroughSettings.color?this.pdfViewer.strikethroughSettings.color:this.strikethroughColor,this.strikethroughOpacity=this.pdfViewer.strikethroughSettings.opacity?this.pdfViewer.strikethroughSettings.opacity:this.strikethroughOpacity)},e.prototype.clear=function(){this.selectTextMarkupCurrentPage=null,this.currentTextMarkupAnnotation=null,this.annotationClickPosition=null,sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_textMarkup")},e.prototype.getOffsetPoints=function(e){for(var t=[],i=0;i<e.length;i++)t[parseInt(i.toString(),10)]={X:e[parseInt(i.toString(),10)].x,Y:e[parseInt(i.toString(),10)].y,Width:e[parseInt(i.toString(),10)].width,Height:e[parseInt(i.toString(),10)].height,Left:e[parseInt(i.toString(),10)].x,Top:e[parseInt(i.toString(),10)].y};return t},e.prototype.updateAddAnnotationDetails=function(e,t){t||(t={pageNumber:0});var i=null,n=null,o="",r=null,a="",s=[],l=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),d=this.pdfViewer.annotation.createGUID();"Highlight"===e?(i=this.pdfViewer.highlightSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(i),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.highlightSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("textMarkup",e),n=this.pdfViewer.highlightSettings.allowedInteractions?this.pdfViewer.highlightSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,o="Highlight",a=t.color?t.color:"#ffff00"):"Underline"===e?(i=this.pdfViewer.underlineSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(i),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.underlineSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("textMarkup",e),n=this.pdfViewer.underlineSettings.allowedInteractions?this.pdfViewer.underlineSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,o="Underline",a=t.color?t.color:"#00ff00"):"Strikethrough"===e&&(i=this.pdfViewer.strikethroughSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(i),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.strikethroughSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("textMarkup",e),n=this.pdfViewer.strikethroughSettings.allowedInteractions?this.pdfViewer.strikethroughSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,o="Strikethrough",a=t.color?t.color:"#ff0000"),r.isLock=t.isLock?t.isLock:r.isLock,s=t.bounds?this.getOffsetPoints(t.bounds):[{X:1,Y:1,Width:100,Height:14,Left:1,Top:1,Location:{X:1,Y:1},Size:{Height:14,IsEmpty:!1,Width:100}}];var h=[],A={AllowedInteractions:t.allowedInteractions?t.allowedInteractions:n,AnnotName:d,AnnotNameCollection:null,AnnotType:"textMarkup",AnnotationSelectorSettings:t.annotationSelectorSettings?t.annotationSelectorSettings:i,AnnotationSettings:r,Author:t.author?t.author:"Guest",Bounds:s,Color:t.color?t.color:a,Comments:null,CreatedDate:l,CustomData:t.customData?t.customData:null,ExistingCustomData:null,EnableMultiPageAnnotation:!!t.enableMultiPageAnnotation&&t.enableMultiPageAnnotation,EnableTextMarkupResizer:!!t.enableTextMarkupResizer&&t.enableTextMarkupResizer,IsCommentLock:!1,IsMultiSelect:!1,IsLocked:!!t.isLock&&t.isLock,IsLock:!!t.isLock&&t.isLock,IsPrint:!t.isPrint||t.isPrint,ModifiedDate:"",Note:"",Opacity:t.opacity?t.opacity:1,Rect:{},State:"",StateModel:"",Subject:t.subject?t.subject:o,TextMarkupAnnotationType:o};return h[0]=A,{textMarkupAnnotation:h}},e}(),ni=function(){function e(e,t){this.measureShapeCount=0,this.isAddAnnotationProgramatically=!1,this.pdfViewer=e,this.pdfViewerBase=t}return Object.defineProperty(e.prototype,"pixelToPointFactor",{get:function(){return.75},enumerable:!0,configurable:!0}),e.prototype.renderMeasureShapeAnnotations=function(e,i,n,o){if(e)if(e.length>=1){if(!this.pdfViewer.annotation.getStoredAnnotations(i,e,"_annotations_shape_measure")||n||o)for(var r=0;r<e.length;r++){var a=e[parseInt(r.toString(),10)],s=null;this.measureShapeCount=this.measureShapeCount+1,a.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(a,i,a.AnnotType);var l=void 0;if(a.ShapeAnnotationType){n&&this.pdfViewerBase.isJsonImported&&(a.Bounds=this.pdfViewerBase.importJsonForRotatedDocuments(a.Rotate,i,a.Bounds,a.AnnotationRotation),l=this.pdfViewerBase.isPageRotated);var d=null;if(a.VertexPoints)if(d=[],n&&this.pdfViewerBase.isJsonImported)d=this.pdfViewerBase.calculateVertexPoints(a.Rotate,i,a.VertexPoints,a.AnnotationRotation);else for(var h=0;h<a.VertexPoints.length;h++){var A={x:a.VertexPoints[parseInt(h.toString(),10)].X?a.VertexPoints[parseInt(h.toString(),10)].X:a.VertexPoints[parseInt(h.toString(),10)].x,y:a.VertexPoints[parseInt(h.toString(),10)].Y?a.VertexPoints[parseInt(h.toString(),10)].Y:a.VertexPoints[parseInt(h.toString(),10)].y};d.push(A)}a.Bounds&&!0===a.EnableShapeLabel&&(a.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(a.Bounds),a.LabelBorderColor=a.LabelBorderColor?a.LabelBorderColor:a.StrokeColor,a.FontColor=a.FontColor?a.FontColor:a.StrokeColor,a.LabelFillColor=a.LabelFillColor?a.LabelFillColor:a.FillColor,a.FontSize=a.FontSize?a.FontSize:16,a.LabelSettings=a.LabelSettings?a.LabelSettings:this.pdfViewer.shapeLabelSettings),a.AnnotationSettings=a.AnnotationSettings?a.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(a),a.IsLocked&&(a.AnnotationSettings.isLock=a.IsLocked),a.allowedInteractions=a.AllowedInteractions?a.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(a);var p=a.IsPrint,c={ratio:a.Calibrate.Ratio,x:this.getNumberFormatArray(a.Calibrate.X),distance:this.getNumberFormatArray(a.Calibrate.Distance),area:this.getNumberFormatArray(a.Calibrate.Area),angle:this.getNumberFormatArray(a.Calibrate.Angle),volume:this.getNumberFormatArray(a.Calibrate.Volume),targetUnitConversion:a.Calibrate.TargetUnitConversion};a.Calibrate.Depth&&(c.depth=a.Calibrate.Depth);var g=a.Bounds.X?a.Bounds.X:a.Bounds.x,u=a.Bounds.Y?a.Bounds.Y:a.Bounds.y,f=a.Bounds.Width?a.Bounds.Width:a.Bounds.width,m=a.Bounds.Height?a.Bounds.Height:a.Bounds.height,w=(s={id:"measure"+this.measureShapeCount,shapeAnnotationType:a.ShapeAnnotationType,author:a.Author,allowedInteractions:a.allowedInteractions,modifiedDate:a.ModifiedDate,subject:a.Subject,note:a.Note,strokeColor:a.StrokeColor,fillColor:a.FillColor,opacity:a.Opacity,thickness:a.Thickness,rectangleDifference:a.RectangleDifference,borderStyle:a.BorderStyle,borderDashArray:a.BorderDashArray,rotateAngle:a.RotateAngle,isCloudShape:a.IsCloudShape,cloudIntensity:a.CloudIntensity,vertexPoints:d,lineHeadStart:a.LineHeadStart,lineHeadEnd:a.LineHeadEnd,isLocked:a.IsLocked,bounds:{left:g,top:u,width:f,height:m,right:a.Bounds.Right,bottom:a.Bounds.Bottom},caption:a.Caption,captionPosition:a.CaptionPosition,calibrate:c,leaderLength:a.LeaderLength,leaderLineExtension:a.LeaderLineExtension,leaderLineOffset:a.LeaderLineOffset,indent:a.Indent,annotName:a.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(a.Comments,a,a.Author),review:{state:a.State,stateModel:a.StateModel,modifiedDate:a.ModifiedDate,author:a.Author},labelContent:a.LabelContent,enableShapeLabel:a.EnableShapeLabel,labelFillColor:a.LabelFillColor,fontColor:a.FontColor,labelBorderColor:a.LabelBorderColor,fontSize:a.FontSize,labelBounds:a.LabelBounds,annotationSelectorSettings:this.getSettings(a),labelSettings:a.LabelSettings,annotationSettings:a.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(a),isPrint:a.IsPrint,isCommentLock:a.IsCommentLock,isAnnotationRotated:l}).vertexPoints;null==d&&(w=[]);var y="string"==typeof a.AnnotationSelectorSettings?JSON.parse(a.AnnotationSelectorSettings):a.AnnotationSelectorSettings;(0,t.isNullOrUndefined)(a.AnnotationSelectorSettings)?this.pdfViewerBase.annotationSelectorSettingLoad(a):a.AnnotationSelectorSettings=y,a.allowedInteractions=a.AllowedInteractions?a.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(a);var S={id:"measure"+this.measureShapeCount,shapeAnnotationType:this.getShapeType(s),author:s.author,allowedInteractions:a.allowedInteractions,modifiedDate:s.modifiedDate,subject:s.subject,notes:s.note,fillColor:s.fillColor,strokeColor:s.strokeColor,opacity:s.opacity,thickness:s.thickness,borderStyle:s.borderStyle,borderDashArray:s.borderDashArray.toString(),rotateAngle:parseFloat(s.rotateAngle.split("Angle")[1]),isCloudShape:s.isCloudShape,cloudIntensity:s.cloudIntensity,taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(s.lineHeadEnd),sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(s.lineHeadStart),vertexPoints:w,bounds:{x:s.bounds.left,y:s.bounds.top,width:s.bounds.width,height:s.bounds.height},leaderHeight:s.leaderLength,pageIndex:i,annotName:s.annotName,comments:s.comments,review:s.review,measureType:this.getMeasureType(s),labelContent:a.LabelContent,enableShapeLabel:a.EnableShapeLabel,labelFillColor:a.LabelFillColor,fontColor:a.FontColor,labelBorderColor:a.LabelBorderColor,fontSize:a.FontSize,labelBounds:a.LabelBounds,annotationSelectorSettings:a.AnnotationSelectorSettings,annotationSettings:s.annotationSettings,annotationAddMode:a.annotationAddMode,isPrint:p,isCommentLock:s.isCommentLock,customData:s.customData};if(this.pdfViewer.annotation.storeAnnotations(i,s,"_annotations_shape_measure"),this.pdfViewer.add(S),this.isAddAnnotationProgramatically){var C={opacity:S.opacity,strokeColor:S.strokeColor,thickness:S.thickness,modifiedDate:S.modifiedDate,width:S.bounds.width,height:S.bounds.height};this.pdfViewer.fireAnnotationAdd(S.pageIndex,S.annotName,a.ShapeAnnotationType,S.bounds,C)}}}}else if(e.shapeAnnotationType){s=this.createAnnotationObject(e);this.pdfViewer.annotationModule.isFormFieldShape=!1,this.pdfViewer.annotationModule.storeAnnotations(i,s,"_annotations_shape_measure"),e&&(e.customData=s.customData),this.pdfViewer.annotationModule.triggerAnnotationAdd(e)}},e.prototype.getSettings=function(e){this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?"string"==typeof e.AnnotationSelectorSettings?JSON.parse(e.AnnotationSelectorSettings):e.AnnotationSelectorSettings:this.getSelector(e.Subject)},e.prototype.setAnnotationType=function(e){var i,n="Guest",o="";switch(this.updateMeasureproperties(),this.pdfViewerBase.disableTextSelectionMode(),e){case"Distance":this.currentAnnotationMode="Distance";this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();n="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.distanceSettings.author?this.pdfViewer.distanceSettings.author:"Guest",o=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.distanceSettings.subject?this.pdfViewer.distanceSettings.subject:"Distance calculation":this.pdfViewer.annotationSettings.subject,i=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.distanceSettings.customData?this.pdfViewer.distanceSettings.customData:null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.distanceStartHead),taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.distanceEndHead),measureType:"Distance",fillColor:this.distanceFillColor,notes:"",strokeColor:this.distanceStrokeColor,leaderHeight:this.leaderLength,opacity:this.distanceOpacity,thickness:this.distanceThickness,borderDashArray:this.distanceDashArray.toString(),shapeAnnotationType:"Distance",author:n,subject:o,isCommentLock:!1,customData:i},this.pdfViewer.tool="Distance";break;case"Perimeter":this.currentAnnotationMode="Perimeter";this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();n="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.perimeterSettings.author?this.pdfViewer.perimeterSettings.author:"Guest",o=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.perimeterSettings.subject?this.pdfViewer.perimeterSettings.subject:"Perimeter calculation":this.pdfViewer.annotationSettings.subject,this.pdfViewer.drawingObject={shapeAnnotationType:"LineWidthArrowHead",fillColor:this.perimeterFillColor,notes:"",strokeColor:this.perimeterStrokeColor,opacity:this.perimeterOpacity,thickness:this.perimeterThickness,sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.perimeterStartHead),taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.perimeterEndHead),measureType:"Perimeter",borderDashArray:this.perimeterDashArray.toString(),author:n,subject:o,isCommentLock:!1,customData:i},this.pdfViewer.tool="Perimeter";break;case"Area":this.currentAnnotationMode="Area";var r=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();n="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.areaSettings.author?this.pdfViewer.areaSettings.author:"Guest",o=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.areaSettings.subject?this.pdfViewer.areaSettings.subject:"Area calculation":this.pdfViewer.annotationSettings.subject,this.pdfViewer.drawingObject={shapeAnnotationType:"Polygon",fillColor:this.areaFillColor,notes:"",strokeColor:this.areaStrokeColor,thickness:this.areaThickness,opacity:this.areaOpacity,measureType:"Area",modifiedDate:r,borderStyle:"",borderDashArray:"0",author:n,subject:o,isCommentLock:!1,customData:i},this.pdfViewer.tool="Polygon";break;case"Radius":this.currentAnnotationMode="Radius";var a=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();n="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.radiusSettings.author?this.pdfViewer.radiusSettings.author:"Guest",o=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.radiusSettings.subject?this.pdfViewer.radiusSettings.subject:"Radius calculation":this.pdfViewer.annotationSettings.subject,i=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.radiusSettings.customData?this.pdfViewer.radiusSettings.customData:null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={shapeAnnotationType:"Radius",fillColor:this.radiusFillColor,notes:"",strokeColor:this.radiusStrokeColor,opacity:this.radiusOpacity,thickness:this.radiusThickness,measureType:"Radius",modifiedDate:a,borderStyle:"",borderDashArray:"0",author:n,subject:o,isCommentLock:!1,customData:i},this.pdfViewer.tool="DrawTool";break;case"Volume":this.currentAnnotationMode="Volume";var s=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();n="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.volumeSettings.author?this.pdfViewer.volumeSettings.author:"Guest",o=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.volumeSettings.subject?this.pdfViewer.volumeSettings.subject:"Volume calculation":this.pdfViewer.annotationSettings.subject,this.pdfViewer.drawingObject={shapeAnnotationType:"Polygon",notes:"",fillColor:this.volumeFillColor,strokeColor:this.volumeStrokeColor,opacity:this.volumeOpacity,thickness:this.volumeThickness,measureType:"Volume",modifiedDate:s,borderStyle:"",borderDashArray:"0",author:n,subject:o,isCommentLock:!1,customData:i},this.pdfViewer.tool="Polygon"}},e.prototype.updateMeasureproperties=function(){this.distanceFillColor=this.pdfViewer.distanceSettings.fillColor?this.pdfViewer.distanceSettings.fillColor:"#ff0000",this.distanceStrokeColor=this.pdfViewer.distanceSettings.strokeColor?this.pdfViewer.distanceSettings.strokeColor:"#ff0000",this.distanceOpacity=this.pdfViewer.distanceSettings.opacity?this.pdfViewer.distanceSettings.opacity:1,this.distanceThickness=this.pdfViewer.distanceSettings.thickness?this.pdfViewer.distanceSettings.thickness:1,this.distanceDashArray=this.pdfViewer.distanceSettings.borderDashArray?this.pdfViewer.distanceSettings.borderDashArray:0,this.leaderLength=null!=this.pdfViewer.distanceSettings.leaderLength?this.pdfViewer.distanceSettings.leaderLength:40,this.distanceStartHead=this.pdfViewer.distanceSettings.lineHeadStartStyle?this.pdfViewer.distanceSettings.lineHeadStartStyle:"Closed",this.distanceEndHead=this.pdfViewer.distanceSettings.lineHeadEndStyle?this.pdfViewer.distanceSettings.lineHeadEndStyle:"Closed",this.perimeterFillColor=this.pdfViewer.perimeterSettings.fillColor?this.pdfViewer.perimeterSettings.fillColor:"#ffffff00",this.perimeterStrokeColor=this.pdfViewer.perimeterSettings.strokeColor?this.pdfViewer.perimeterSettings.strokeColor:"#ff0000",this.perimeterOpacity=this.pdfViewer.perimeterSettings.opacity?this.pdfViewer.perimeterSettings.opacity:1,this.perimeterThickness=this.pdfViewer.perimeterSettings.thickness?this.pdfViewer.perimeterSettings.thickness:1,this.perimeterDashArray=this.pdfViewer.perimeterSettings.borderDashArray?this.pdfViewer.perimeterSettings.borderDashArray:0,this.perimeterStartHead=this.pdfViewer.perimeterSettings.lineHeadStartStyle?this.pdfViewer.perimeterSettings.lineHeadStartStyle:"Open",this.perimeterEndHead=this.pdfViewer.perimeterSettings.lineHeadEndStyle?this.pdfViewer.perimeterSettings.lineHeadEndStyle:"Open",this.areaFillColor=this.pdfViewer.areaSettings.fillColor?this.pdfViewer.areaSettings.fillColor:"#ffffff00",this.areaStrokeColor=this.pdfViewer.areaSettings.strokeColor?this.pdfViewer.areaSettings.strokeColor:"#ff0000",this.areaOpacity=this.pdfViewer.areaSettings.opacity?this.pdfViewer.areaSettings.opacity:1,this.areaThickness=this.pdfViewer.areaSettings.thickness?this.pdfViewer.areaSettings.thickness:1,this.radiusFillColor=this.pdfViewer.radiusSettings.fillColor?this.pdfViewer.radiusSettings.fillColor:"#ffffff00",this.radiusStrokeColor=this.pdfViewer.radiusSettings.strokeColor?this.pdfViewer.radiusSettings.strokeColor:"#ff0000",this.radiusOpacity=this.pdfViewer.radiusSettings.opacity?this.pdfViewer.radiusSettings.opacity:1,this.radiusThickness=this.pdfViewer.radiusSettings.thickness?this.pdfViewer.radiusSettings.thickness:1,this.volumeFillColor=this.pdfViewer.volumeSettings.fillColor?this.pdfViewer.volumeSettings.fillColor:"#ffffff00",this.volumeStrokeColor=this.pdfViewer.volumeSettings.strokeColor?this.pdfViewer.volumeSettings.strokeColor:"#ff0000",this.volumeOpacity=this.pdfViewer.volumeSettings.opacity?this.pdfViewer.volumeSettings.opacity:1,this.volumeThickness=this.pdfViewer.volumeSettings.thickness?this.pdfViewer.volumeSettings.thickness:1,this.unit=this.pdfViewer.measurementSettings.conversionUnit.toLowerCase(),this.displayUnit=this.pdfViewer.measurementSettings.displayUnit.toLowerCase(),this.ratio=(0,t.isNullOrUndefined)(this.ratio)?1*this.pdfViewer.measurementSettings.scaleRatio:this.ratio,this.volumeDepth=this.pdfViewer.measurementSettings.depth,this.scaleRatioString="1 "+this.unit+" = "+this.ratio.toString()+" "+this.displayUnit},e.prototype.createAnnotationObject=function(e){var t,i,n=this.pdfViewer.annotation.createGUID(),o=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("shape_measure",e.pageIndex+1,e.measureType);o&&(document.getElementById(o).id=n),e.annotName=n,e.author=e&&"Guest"!=e.author?e.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e.subject),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(n,e.notes),e.wrapper.bounds?(t={left:e.wrapper.bounds.x,top:e.wrapper.bounds.y,height:e.wrapper.bounds.height,width:e.wrapper.bounds.width,right:e.wrapper.bounds.right,bottom:e.wrapper.bounds.bottom},i=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBounds(e.wrapper.bounds)):(t={left:0,top:0,height:0,width:0,right:0,bottom:0},i={left:0,top:0,height:0,width:0,right:0,bottom:0});var r=parseInt(e.borderDashArray,10);r=isNaN(r)?0:r;var a={ratio:this.scaleRatioString,x:[this.createNumberFormat("x")],distance:[this.createNumberFormat("d")],area:[this.createNumberFormat("a")]};"Volume"===e.measureType&&(a.depth=this.volumeDepth);var s=this.pdfViewer.annotationModule.findAnnotationSettings(e,!0),l=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e);e.isPrint=s.isPrint;var d=this.pdfViewer.shapeLabelSettings,h={borderColor:e.strokeColor,fillColor:e.fillColor,fontColor:e.fontColor,fontSize:e.fontSize,labelContent:e.labelContent,labelHeight:d.labelHeight,labelWidth:d.labelMaxWidth,opacity:e.opacity};return{id:e.id,shapeAnnotationType:this.getShapeAnnotType(e.measureType),author:e.author,allowedInteractions:l,subject:e.subject,note:e.notes,strokeColor:e.strokeColor,fillColor:e.fillColor,opacity:e.opacity,thickness:e.thickness,borderStyle:e.borderStyle,borderDashArray:r,bounds:t,modifiedDate:this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),rotateAngle:"RotateAngle"+e.rotateAngle,isCloudShape:e.isCloudShape,cloudIntensity:e.cloudIntensity,vertexPoints:e.vertexPoints,lineHeadStart:this.pdfViewer.annotation.getArrowTypeForCollection(e.sourceDecoraterShapes),lineHeadEnd:this.pdfViewer.annotation.getArrowTypeForCollection(e.taregetDecoraterShapes),rectangleDifference:[],isLocked:s.isLock,leaderLength:e.leaderHeight,leaderLineExtension:2,leaderLineOffset:0,calibrate:a,caption:!0,captionPosition:"Top",indent:this.getIndent(e.measureType),annotName:n,comments:[],review:{state:"",stateModel:"",modifiedDate:this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),author:e.author},labelContent:e.labelContent,enableShapeLabel:e.enableShapeLabel,labelFillColor:e.labelFillColor,labelBorderColor:e.labelBorderColor,fontColor:e.fontColor,fontSize:e.fontSize,labelBounds:i,annotationSelectorSettings:this.getSelector(e.subject),labelSettings:h,annotationSettings:s,customData:this.pdfViewer.annotation.getMeasureData(e.subject),isPrint:e.isPrint,isCommentLock:e.isCommentLock,isAnnotationRotated:!1}},e.prototype.getSelector=function(e){var t=this.pdfViewer.annotationSelectorSettings;return"Distance calculation"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?t=this.pdfViewer.distanceSettings.annotationSelectorSettings:"Perimeter calculation"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?t=this.pdfViewer.perimeterSettings.annotationSelectorSettings:"Area calculation"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?t=this.pdfViewer.areaSettings.annotationSelectorSettings:"Radius calculation"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?t=this.pdfViewer.radiusSettings.annotationSelectorSettings:"Volume calculation"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings&&(t=this.pdfViewer.volumeSettings.annotationSelectorSettings),t},e.prototype.getShapeAnnotType=function(e){var t;switch(e){case"Distance":t="Line";break;case"Perimeter":t="Polyline";break;case"Area":case"Volume":t="Polygon";break;case"Radius":t="Circle"}return t},e.prototype.getShapeType=function(e){var t;return"Line"===e.shapeAnnotationType?t="Distance":"Polyline"===e.shapeAnnotationType?t="LineWidthArrowHead":"Polygon"===e.shapeAnnotationType&&"PolygonDimension"===e.indent?t="Polygon":"Polygon"===e.shapeAnnotationType&&"PolygonRadius"===e.indent||"Circle"===e.shapeAnnotationType?t="Radius":"Polygon"===e.shapeAnnotationType&&"PolygonVolume"===e.indent&&(t="Polygon"),t},e.prototype.getMeasureType=function(e){var t;return"Line"===e.shapeAnnotationType?t="Distance":"Polyline"===e.shapeAnnotationType?t="Perimeter":"Polygon"===e.shapeAnnotationType&&"PolygonDimension"===e.indent?t="Area":"Polygon"===e.shapeAnnotationType&&"PolygonRadius"===e.indent||"Circle"===e.shapeAnnotationType?t="Radius":"Polygon"===e.shapeAnnotationType&&"PolygonVolume"===e.indent&&(t="Volume"),t},e.prototype.getIndent=function(e){var t;switch(e){case"Distance":t="LineDimension";break;case"Perimeter":t="PolyLineDimension";break;case"Area":t="PolygonDimension";break;case"Radius":t="PolygonRadius";break;case"Volume":t="PolygonVolume"}return t},e.prototype.getNumberFormatArray=function(e){var t=[];if(e)for(var i=0;i<e.length;i++)t[parseInt(i.toString(),10)]={unit:e[parseInt(i.toString(),10)].Unit,fractionalType:e[parseInt(i.toString(),10)].FractionalType,conversionFactor:e[parseInt(i.toString(),10)].ConversionFactor,denominator:e[parseInt(i.toString(),10)].Denominator,formatDenominator:e[parseInt(i.toString(),10)].FormatDenominator};return t},e.prototype.createNumberFormat=function(e){var t=1,i=this.displayUnit;return"x"===e&&(t=this.getFactor(this.unit)),"a"===e&&(i="sq "+this.displayUnit),{unit:i,fractionalType:"D",conversionFactor:t,denominator:100,formatDenominator:!1}},e.prototype.saveMeasureShapeAnnotations=function(){var e=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape_measure");this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape_measure"]);for(var t=[],i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=0;a.annotations.length>s;s++){if(this.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(s.toString(),10)]),this.pdfViewerBase.isJsonExported)if(a.annotations[parseInt(s.toString(),10)].isAnnotationRotated)a.annotations[parseInt(s.toString(),10)].bounds=this.pdfViewer.annotation.getBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex),a.annotations[parseInt(s.toString(),10)].vertexPoints=this.pdfViewer.annotation.getVertexPoints(a.annotations[parseInt(s.toString(),10)].vertexPoints,a.pageIndex);else{var l=this.pdfViewerBase.pageSize[a.pageIndex];l&&(a.annotations[parseInt(s.toString(),10)].annotationRotation=l.rotation)}a.annotations[parseInt(s.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex));var d=a.annotations[parseInt(s.toString(),10)].strokeColor;a.annotations[parseInt(s.toString(),10)].strokeColor=JSON.stringify(this.getRgbCode(d));var h=a.annotations[parseInt(s.toString(),10)].fillColor;if(a.annotations[parseInt(s.toString(),10)].fillColor=JSON.stringify(this.getRgbCode(h)),a.annotations[parseInt(s.toString(),10)].vertexPoints=JSON.stringify(this.pdfViewer.annotation.getVertexPoints(a.annotations[parseInt(s.toString(),10)].vertexPoints,a.pageIndex)),null!==a.annotations[parseInt(s.toString(),10)].rectangleDifference&&(a.annotations[parseInt(s.toString(),10)].rectangleDifference=JSON.stringify(a.annotations[parseInt(s.toString(),10)].rectangleDifference)),a.annotations[parseInt(s.toString(),10)].calibrate=this.getStringifiedMeasure(a.annotations[parseInt(s.toString(),10)].calibrate),!0===a.annotations[parseInt(s.toString(),10)].enableShapeLabel){a.annotations[parseInt(s.toString(),10)].labelBounds=JSON.stringify(this.pdfViewer.annotationModule.inputElementModule.calculateLabelBounds(JSON.parse(a.annotations[parseInt(s.toString(),10)].bounds),a.pageIndex));var A=a.annotations[parseInt(s.toString(),10)].labelFillColor;a.annotations[parseInt(s.toString(),10)].labelFillColor=JSON.stringify(this.getRgbCode(A));var p=a.annotations[parseInt(s.toString(),10)].labelBorderColor;a.annotations[parseInt(s.toString(),10)].labelBorderColor=JSON.stringify(this.getRgbCode(p)),a.annotations[parseInt(s.toString(),10)].labelSettings.fillColor=A;var c=a.annotations[parseInt(s.toString(),10)].labelSettings.fontColor;a.annotations[parseInt(s.toString(),10)].fontColor=JSON.stringify(this.getRgbCode(c))}}r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},e.prototype.createScaleRatioWindow=function(){var e=this;if((0,t.isBlazor)())this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenScaleRatioDialog");else{var i=this.pdfViewer.element.id,n=(0,t.createElement)("div",{id:i+"_scale_ratio_window",className:"e-pv-scale-ratio-window"});this.pdfViewerBase.pageContainer.appendChild(n);var o=this.createRatioUI();this.scaleRatioDialog=new Ne.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:this.pdfViewer.localeObj.getConstant("Scale Ratio"),target:this.pdfViewer.element,content:o,close:function(){e.sourceTextBox.destroy(),e.convertUnit.destroy(),e.destTextBox.destroy(),e.dispUnit.destroy(),e.scaleRatioDialog.destroy();var t=e.pdfViewerBase.getElement("_scale_ratio_window");t.parentElement.removeChild(t)}}),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.scaleRatioDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.onOkClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.onCancelClicked.bind(this)}]:this.scaleRatioDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.onCancelClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.onOkClicked.bind(this)}],this.pdfViewer.enableRtl&&(this.scaleRatioDialog.enableRtl=!0),this.scaleRatioDialog.appendTo(n),this.convertUnit.content=this.createContent(this.pdfViewer.localeObj.getConstant(this.unit)).outerHTML,this.dispUnit.content=this.createContent(this.pdfViewer.localeObj.getConstant(this.displayUnit)).outerHTML,this.depthUnit.content=this.createContent(this.pdfViewer.localeObj.getConstant(this.displayUnit)).outerHTML}},e.prototype.createRatioUI=function(){var e=(0,t.createElement)("div"),i=this.pdfViewer.element.id,n=[{text:this.pdfViewer.localeObj.getConstant("pt"),label:"pt"},{text:this.pdfViewer.localeObj.getConstant("in"),label:"in"},{text:this.pdfViewer.localeObj.getConstant("mm"),label:"mm"},{text:this.pdfViewer.localeObj.getConstant("cm"),label:"cm"},{text:this.pdfViewer.localeObj.getConstant("p"),label:"p"},{text:this.pdfViewer.localeObj.getConstant("ft"),label:"ft"},{text:this.pdfViewer.localeObj.getConstant("ft_in"),label:"ft_in"},{text:this.pdfViewer.localeObj.getConstant("m"),label:"m"}],o=(0,t.createElement)("div",{id:i+"_scale_ratio_label",className:"e-pv-scale-ratio-text"});o.textContent=this.pdfViewer.localeObj.getConstant("Scale Ratio"),e.appendChild(o);var r=(0,t.createElement)("div",{id:i+"_scale_src_container"});e.appendChild(r);var a=this.createInputElement("input","e-pv-scale-ratio-src-input",i+"_src_input",r);this.sourceTextBox=new Pe.NumericTextBox({value:this.srcValue?this.srcValue:1,format:"##",cssClass:"e-pv-scale-ratio-src-input",min:1,max:100},a);var s=this.createInputElement("button","e-pv-scale-ratio-src-unit",i+"_src_unit",r);this.convertUnit=new Re.DropDownButton({items:n,cssClass:"e-pv-scale-ratio-src-unit"},s),this.convertUnit.select=this.convertUnitSelect.bind(this);var l=(0,t.createElement)("div",{id:i+"_scale_dest_container"}),d=this.createInputElement("input","e-pv-scale-ratio-dest-input",i+"_dest_input",l);this.destTextBox=new Pe.NumericTextBox({value:this.destValue?this.destValue:1,format:"##",cssClass:"e-pv-scale-ratio-dest-input",min:1,max:100},d);var h=this.createInputElement("button","e-pv-scale-ratio-dest-unit",i+"_dest_unit",l);this.dispUnit=new Re.DropDownButton({items:n,cssClass:"e-pv-scale-ratio-dest-unit"},h),this.dispUnit.select=this.dispUnitSelect.bind(this),e.appendChild(l);var A=(0,t.createElement)("div",{id:i+"_depth_label",className:"e-pv-depth-text"});A.textContent=this.pdfViewer.localeObj.getConstant("Depth"),e.appendChild(A);var p=(0,t.createElement)("div",{id:i+"_depth_container"});e.appendChild(p);var c=this.createInputElement("input","e-pv-depth-input",i+"_depth_input",p);this.depthTextBox=new Pe.NumericTextBox({value:this.volumeDepth,format:"##",cssClass:"e-pv-depth-input",min:1},c);var g=this.createInputElement("button","e-pv-depth-unit",i+"_depth_unit",p);return this.depthUnit=new Re.DropDownButton({items:n,cssClass:"e-pv-depth-unit"},g),this.depthUnit.select=this.depthUnitSelect.bind(this),e},e.prototype.convertUnitSelect=function(e){this.convertUnit.content=this.createContent(e.item.text).outerHTML},e.prototype.dispUnitSelect=function(e){this.dispUnit.content=this.createContent(e.item.text).outerHTML,this.depthUnit.content=this.createContent(e.item.text).outerHTML},e.prototype.depthUnitSelect=function(e){this.depthUnit.content=this.createContent(e.item.text).outerHTML},e.prototype.createContent=function(e){var i=(0,t.createElement)("div",{className:"e-pv-scale-unit-content"});return i.textContent=e,i},e.prototype.createInputElement=function(e,i,n,o){var r=(0,t.createElement)("div",{id:n+"_container",className:i+"-container"}),a=(0,t.createElement)(e,{id:n});return"input"===e&&(a.type="text"),r.appendChild(a),o.appendChild(r),a},e.prototype.onOkClicked=function(){if((0,t.isBlazor)()){var e=document.querySelector("#"+this.pdfViewer.element.id+"_src_unit"),i=document.querySelector("#"+this.pdfViewer.element.id+"_dest_unit"),n=document.querySelector("#"+this.pdfViewer.element.id+"_ratio_input"),o=document.querySelector("#"+this.pdfViewer.element.id+"_dest_input"),r=document.querySelector("#"+this.pdfViewer.element.id+"_depth_input");e&&i&&n&&o&&r&&(this.unit=e.value,this.displayUnit=i.value,this.ratio=parseInt(o.value,10)/parseInt(n.value,10),this.volumeDepth=parseInt(r.value,10)),this.scaleRatioString=parseInt(n.value,10)+" "+this.unit+" = "+parseInt(o.value,10)+" "+this.displayUnit,this.updateMeasureValues(this.scaleRatioString,this.displayUnit,this.unit,this.volumeDepth)}else{this.unit=this.getContent(this.convertUnit.content),this.displayUnit=this.getContent(this.dispUnit.content),this.ratio=this.destTextBox.value/this.sourceTextBox.value,this.volumeDepth=this.depthTextBox.value,this.scaleRatioString=this.sourceTextBox.value+" "+this.unit+" = "+this.destTextBox.value+" "+this.displayUnit,this.scaleRatioDialog.hide();var a=this.restoreUnit(this.convertUnit),s=this.restoreUnit(this.dispUnit);this.updateMeasureValues(this.scaleRatioString,s,a,this.volumeDepth)}},e.prototype.restoreUnit=function(e){for(var t,i=0;i<e.items.length;i++){var n=e.items[parseInt(i.toString(),10)];this.unit===n.text&&(t=n.label)}return t},e.prototype.updateMeasureValues=function(e,t,i,n){this.scaleRatioString=e,this.displayUnit=t,this.unit=i,this.volumeDepth=n;for(var o=0;o<this.pdfViewerBase.pageCount;o++){var r=this.getAnnotations(o,null);if(r)for(var a=0;a<r.length;a++){var s=(r=this.getAnnotations(o,null))[parseInt(a.toString(),10)];s.annotationSettings.isLock||(s.calibrate.ratio=e,s.calibrate.x[0].unit=t,s.calibrate.distance[0].unit=t,s.calibrate.area[0].unit=t,s.calibrate.x[0].conversionFactor=this.getFactor(i),"PolygonVolume"===s.indent&&(s.calibrate.depth=n),r[parseInt(a.toString(),10)]=s,this.manageAnnotations(r,o),this.pdfViewer.annotation.updateCalibrateValues(this.getAnnotationBaseModel(s.id)))}this.pdfViewer.annotation.renderAnnotations(o,null,null,null,null,!1)}},e.prototype.getAnnotationBaseModel=function(e){for(var t=null,i=0;i<this.pdfViewer.annotations.length;i++)if(e===this.pdfViewer.annotations[parseInt(i.toString(),10)].id){t=this.pdfViewer.annotations[parseInt(i.toString(),10)];break}return t},e.prototype.getContent=function(e){return e.split("</div>")[0].split('">')[1]},e.prototype.setConversion=function(e,t){var i;if(t){var n=t.pageIndex;"diagram_helper"===t.id&&(n=t.pageIndex?t.pageIndex:this.pdfViewerBase.activeElements.activePageID,t=this.getCurrentObject(n,null,t.annotName)),i=t?this.getCurrentValues(t.id,n):this.getCurrentValues()}else i=this.getCurrentValues();var o=e*i.ratio;return this.convertPointToUnits(i.factor,o,i.unit)},e.prototype.onCancelClicked=function(){this.scaleRatioDialog.hide()},e.prototype.modifyInCollection=function(e,i,n,o){(0,t.isNullOrUndefined)(n.formFieldAnnotationType)||""===n.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0;var r=null,a=!1,s=this.getAnnotations(i,null);if(null!=s&&n){for(var l=0;l<s.length;l++)if(n.id===s[parseInt(l.toString(),10)].id){if("bounds"===e)this.pdfViewerBase.isBounds=this.pdfViewerBase.boundsCalculation(s[parseInt(l.toString(),10)].bounds,n.wrapper.bounds),this.pdfViewerBase.isBounds&&(this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n,!0),"Line"===s[parseInt(l.toString(),10)].shapeAnnotationType||"Polyline"===s[parseInt(l.toString(),10)].shapeAnnotationType||"Polygon"===s[parseInt(l.toString(),10)].shapeAnnotationType?(s[parseInt(l.toString(),10)].vertexPoints=n.vertexPoints,s[parseInt(l.toString(),10)].bounds={left:n.bounds.x,top:n.bounds.y,width:n.bounds.width,height:n.bounds.height,right:n.bounds.right,bottom:n.bounds.bottom}):s[parseInt(l.toString(),10)].bounds={left:n.bounds.x,top:n.bounds.y,width:n.bounds.width,height:n.bounds.height,right:n.bounds.right,bottom:n.bounds.bottom}),!0===s[parseInt(l.toString(),10)].enableShapeLabel&&n.wrapper&&(s[parseInt(l.toString(),10)].labelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBounds(n.wrapper.bounds));else if("fill"===e)s[parseInt(l.toString(),10)].fillColor=n.wrapper.children[0].style.fill,this.pdfViewer.enableShapeLabel&&(s[parseInt(l.toString(),10)].labelFillColor=n.wrapper.children[0].style.fill);else if("stroke"===e)s[parseInt(l.toString(),10)].strokeColor=n.wrapper.children[0].style.strokeColor;else if("opacity"===e)s[parseInt(l.toString(),10)].opacity=n.wrapper.children[0].style.opacity;else if("thickness"===e)s[parseInt(l.toString(),10)].thickness=n.wrapper.children[0].style.strokeWidth;else if("dashArray"===e)s[parseInt(l.toString(),10)].borderDashArray=n.wrapper.children[0].style.strokeDashArray,s[parseInt(l.toString(),10)].borderStyle=n.borderStyle;else if("startArrow"===e)s[parseInt(l.toString(),10)].lineHeadStart=this.pdfViewer.annotation.getArrowTypeForCollection(n.sourceDecoraterShapes);else if("endArrow"===e)s[parseInt(l.toString(),10)].lineHeadEnd=this.pdfViewer.annotation.getArrowTypeForCollection(n.taregetDecoraterShapes);else if("leaderLength"===e)s[parseInt(l.toString(),10)].leaderLength=n.leaderHeight;else if("notes"===e)s[parseInt(l.toString(),10)].note=n.notes,!0===s[parseInt(l.toString(),10)].enableShapeLabel&&(a=!0,s[parseInt(l.toString(),10)].labelContent=n.notes);else{if("delete"===e){r=s.splice(l,1)[0];break}if("labelContent"===e){s[parseInt(l.toString(),10)].note=n.labelContent,s[parseInt(l.toString(),10)].labelContent=n.labelContent;break}"fontColor"===e?s[parseInt(l.toString(),10)].fontColor=n.fontColor:"fontSize"===e&&(s[parseInt(l.toString(),10)].fontSize=n.fontSize)}this.pdfViewerBase.isBounds&&(s[parseInt(l.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()),this.pdfViewer.annotationModule.storeAnnotationCollections(s[parseInt(l.toString(),10)],i)}this.manageAnnotations(s,i)}return!o&&a&&this.pdfViewerBase.updateDocumentEditedProperty(!0),r},e.prototype.addInCollection=function(e,t){var i=this.getAnnotations(e,null);i&&i.push(t),this.manageAnnotations(i,e)},e.prototype.manageAnnotations=function(e,t){var i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape_measure");if(this.pdfViewerBase.isStorageExceed&&(i=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape_measure"]),i){var n=JSON.parse(i);this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_shape_measure");var o=this.pdfViewer.annotationModule.getPageCollection(n,t);null!=o&&n[parseInt(o.toString(),10)]&&(n[parseInt(o.toString(),10)].annotations=e);var r=JSON.stringify(n);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape_measure"]=r:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_shape_measure",r)}},e.prototype.getAnnotations=function(e,t){var i,n=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape_measure");if(this.pdfViewerBase.isStorageExceed&&(n=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape_measure"]),n){var o=JSON.parse(n),r=this.pdfViewer.annotationModule.getPageCollection(o,e);i=null!=r&&o[parseInt(r.toString(),10)]?o[parseInt(r.toString(),10)].annotations:t}else i=t;return i},e.prototype.getCurrentObject=function(e,t,i){var n=null,o=this.getAnnotations(e,null);if(null!=o)for(var r=0;r<o.length;r++)if(t){if(t===o[parseInt(r.toString(),10)].id){n=o[parseInt(r.toString(),10)];break}}else if(i&&i===o[parseInt(r.toString(),10)].annotName){n=o[parseInt(r.toString(),10)];break}return n},e.prototype.getCurrentValues=function(e,t){var i,n,o,r;if(e&&!isNaN(t)){var a=this.getCurrentObject(t,e);a?(i=this.getCurrentRatio(a.calibrate.ratio),n=a.calibrate.x[0].unit,o=a.calibrate.x[0].conversionFactor,r=a.calibrate.depth):(i=this.ratio,n=this.displayUnit,o=this.getFactor(this.unit),r=this.volumeDepth)}else i=this.ratio,n=this.displayUnit,o=this.getFactor(this.unit),r=this.volumeDepth;return{ratio:i,unit:n,factor:o,depth:r}},e.prototype.getCurrentRatio=function(e){var t=e.split(" ");return"="===t[3]?parseFloat(t[4])/parseFloat(t[0]):parseFloat(t[3])/parseFloat(t[0])},e.prototype.calculateArea=function(e,t,i){var n=this.getCurrentValues(t,i),o=this.getArea(e,n.factor,n.unit)*n.ratio;if("ft_in"===n.unit){var r=Math.round(100*o)/100;if(r>=12){if((r=(r=(Math.round(r/12*100)/100).toString()).split("."))[1]){var a=0;return r[1].charAt(1)?(a=parseInt(r[1].charAt(0),10)+"."+parseInt(r[1].charAt(1),10),a=Math.round(a)):a=r[1],a?r[0]+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant("ft")+" "+a+" "+this.pdfViewer.localeObj.getConstant("in"):r[0]+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant("ft")}return r[0]+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant("ft")}return Math.round(100*o)/100+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant("in")}return"m"===n.unit?100*o/100+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant(n.unit):Math.round(100*o)/100+" "+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant(n.unit)},e.prototype.getArea=function(e,t,i){for(var n=0,o=e.length-1,r=0;r<e.length;r++)n+=(e[parseInt(o.toString(),10)].x*this.pixelToPointFactor*t+e[parseInt(r.toString(),10)].x*this.pixelToPointFactor*t)*(e[parseInt(o.toString(),10)].y*this.pixelToPointFactor*t-e[parseInt(r.toString(),10)].y*this.pixelToPointFactor*t),o=r;return"ft_in"===i?Math.abs(2*n):Math.abs(n/2)},e.prototype.calculateVolume=function(e,t,i){var n=this.getCurrentValues(t,i),o=n.depth?n.depth:this.volumeDepth,r=this.getArea(e,n.factor,n.unit)*(o*this.convertUnitToPoint(n.unit)*n.factor)*n.ratio;if("ft_in"===n.unit){var a=Math.round(100*r)/100;if(a>=12){if((a=(a=(Math.round(a/12*100)/100).toString()).split("."))[1]){var s=0;return a[1].charAt(1)?(s=parseInt(a[1].charAt(0),10)+"."+parseInt(a[1].charAt(1),10),s=Math.round(s)):s=a[1],s?a[0]+" "+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant("ft")+" "+s+" "+this.pdfViewer.localeObj.getConstant("in"):a[0]+" "+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant("ft")}return a[0]+" "+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant("ft")}return Math.round(100*r)/100+" "+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant("in")}return Math.round(100*r)/100+" "+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant(n.unit)},e.prototype.calculatePerimeter=function(e){var t=i.Point.getLengthFromListOfPoints(e.vertexPoints);return this.setConversion(t*this.pixelToPointFactor,e)},e.prototype.getFactor=function(e){var t;switch(e){case"in":case"ft_in":t=1/72;break;case"cm":t=1/28.346;break;case"mm":t=1/2.835;break;case"pt":t=1;break;case"p":t=1/12;break;case"ft":t=1/864;break;case"m":t=1/2834.64567}return t},e.prototype.convertPointToUnits=function(e,t,i){var n;if("ft_in"===i){var o=Math.round(t*e*100)/100;if(o>=12)if((o=(o=(Math.round(o/12*100)/100).toString()).split("."))[1]){var r=0;o[1].charAt(1)?(r=parseInt(o[1].charAt(0),10)+"."+parseInt(o[1].charAt(1),10),r=Math.round(r)):r=o[1],n=r?o[0]+" "+this.pdfViewer.localeObj.getConstant("ft")+" "+r+" "+this.pdfViewer.localeObj.getConstant("in"):o[0]+" "+this.pdfViewer.localeObj.getConstant("ft")}else n=o[0]+" "+this.pdfViewer.localeObj.getConstant("ft");else n=Math.round(t*e*100)/100+" "+this.pdfViewer.localeObj.getConstant("in")}else n=Math.round(t*e*100)/100+" "+this.pdfViewer.localeObj.getConstant(i);return n},e.prototype.convertUnitToPoint=function(e){var t;switch(e){case"in":case"ft_in":t=72;break;case"cm":t=28.346;break;case"mm":t=2.835;break;case"pt":t=1;break;case"p":t=12;break;case"ft":t=864;break;case"m":t=2834.64567}return t},e.prototype.getStringifiedMeasure=function(e){return(0,t.isNullOrUndefined)(e)||(e.angle=JSON.stringify(e.angle),e.area=JSON.stringify(e.area),e.distance=JSON.stringify(e.distance),e.volume=JSON.stringify(e.volume)),JSON.stringify(e)},e.prototype.getRgbCode=function(e){e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||(e=this.pdfViewer.annotationModule.nameToHash(e));var i=e.split(",");return(0,t.isNullOrUndefined)(i[1])&&(i=(e=this.pdfViewer.annotationModule.getValue(e,"rgba")).split(",")),{r:parseInt(i[0].split("(")[1],10),g:parseInt(i[1],10),b:parseInt(i[2],10),a:parseInt(i[3],10)}},e.prototype.saveImportedMeasureAnnotations=function(e,t){var i,n=null;if(e.VertexPoints){n=[];for(var o=0;o<e.VertexPoints.length;o++){var r={x:e.VertexPoints[parseInt(o.toString(),10)].X,y:e.VertexPoints[parseInt(o.toString(),10)].Y};n.push(r)}}var a={ratio:e.Calibrate.Ratio,x:this.getNumberFormatArray(e.Calibrate.X),distance:this.getNumberFormatArray(e.Calibrate.Distance),area:this.getNumberFormatArray(e.Calibrate.Area),angle:this.getNumberFormatArray(e.Calibrate.Angle),volume:this.getNumberFormatArray(e.Calibrate.Volume),targetUnitConversion:e.Calibrate.TargetUnitConversion};e.Calibrate.Depth&&(a.depth=e.Calibrate.Depth),e.Bounds&&!0===e.EnableShapeLabel&&(e.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(e.Bounds),e.LabelBorderColor=e.LabelBorderColor?e.LabelBorderColor:e.StrokeColor,e.FontColor=e.FontColor?e.FontColor:e.StrokeColor,e.LabelFillColor=e.LabelFillColor?e.LabelFillColor:e.FillColor,e.FontSize=e.FontSize?e.FontSize:16,e.LabelSettings=e.LabelSettings?e.LabelSettings:this.pdfViewer.shapeLabelSettings),e.allowedInteractions=e.AllowedInteractions?e.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(e),e.Author=this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e.Subject),i={id:"measure",shapeAnnotationType:e.ShapeAnnotationType,author:e.Author,allowedInteractions:e.allowedInteractions,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,thickness:e.Thickness,rectangleDifference:e.RectangleDifference,borderStyle:e.BorderStyle,borderDashArray:e.BorderDashArray,rotateAngle:e.RotateAngle,isCloudShape:e.IsCloudShape,cloudIntensity:e.CloudIntensity,vertexPoints:n,lineHeadStart:e.LineHeadStart,lineHeadEnd:e.LineHeadEnd,isLocked:e.IsLocked,bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},caption:e.Caption,captionPosition:e.CaptionPosition,calibrate:a,leaderLength:e.LeaderLength,leaderLineExtension:e.LeaderLineExtension,leaderLineOffset:e.LeaderLineOffset,indent:e.Indent,annotName:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},labelContent:e.LabelContent,enableShapeLabel:e.EnableShapeLabel,labelFillColor:e.LabelFillColor,labelBorderColor:e.LabelBorderColor,fontColor:e.FontColor,fontSize:e.FontSize,labelBounds:e.LabelBounds,annotationSelectorSettings:this.getSettings(e),labelSettings:e.LabelSettings,annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.IsPrint,isCommentLock:e.IsCommentLock,isAnnotationRotated:!1},this.pdfViewer.annotationModule.storeAnnotations(t,i,"_annotations_shape_measure")},e.prototype.updateMeasureAnnotationCollections=function(e,t){var i=null;if(e.VertexPoints){i=[];for(var n=0;n<e.VertexPoints.length;n++){var o={x:e.VertexPoints[parseInt(n.toString(),10)].X,y:e.VertexPoints[parseInt(n.toString(),10)].Y};i.push(o)}}var r={ratio:e.Calibrate.Ratio,x:this.getNumberFormatArray(e.Calibrate.X),distance:this.getNumberFormatArray(e.Calibrate.Distance),area:this.getNumberFormatArray(e.Calibrate.Area),angle:this.getNumberFormatArray(e.Calibrate.Angle),volume:this.getNumberFormatArray(e.Calibrate.Volume),targetUnitConversion:e.Calibrate.TargetUnitConversion};if(e.Calibrate.Depth&&(r.depth=e.Calibrate.Depth),e.Bounds&&!0===e.EnableShapeLabel){e.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(e.Bounds),e.LabelBorderColor=e.LabelBorderColor?e.LabelBorderColor:e.StrokeColor,e.FontColor=e.FontColor?e.FontColor:e.StrokeColor,e.LabelFillColor=e.LabelFillColor?e.LabelFillColor:e.FillColor,e.FontSize=e.FontSize?e.FontSize:16;var a=this.pdfViewer.shapeLabelSettings,s={borderColor:e.StrokeColor,fillColor:e.FillColor,fontColor:e.FontColor,fontSize:e.FontSize,labelContent:e.LabelContent,labelHeight:a.labelHeight,labelWidth:a.labelWidth,opacity:e.Opacity};e.LabelSettings=e.LabelSettings?e.LabelSettings:s}return e.allowedInteractions=e.AllowedInteractions?e.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.AnnotationSelectorSettings=e.AnnotationSelectorSettings?e.AnnotationSelectorSettings:this.pdfViewerBase.annotationSelectorSettingLoad(e),e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(e),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),{id:"measure",shapeAnnotationType:e.ShapeAnnotationType,author:e.Author,allowedInteractions:e.allowedInteractions,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,thickness:e.Thickness,rectangleDifference:e.RectangleDifference,borderStyle:e.BorderStyle,borderDashArray:e.BorderDashArray,rotateAngle:e.RotateAngle,isCloudShape:e.IsCloudShape,cloudIntensity:e.CloudIntensity,vertexPoints:i,lineHeadStart:e.LineHeadStart,lineHeadEnd:e.LineHeadEnd,isLocked:e.IsLocked,bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},caption:e.Caption,captionPosition:e.CaptionPosition,calibrate:r,leaderLength:e.LeaderLength,leaderLineExtension:e.LeaderLineExtension,leaderLineOffset:e.LeaderLineOffset,indent:e.Indent,annotationId:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},labelContent:e.LabelContent,enableShapeLabel:e.EnableShapeLabel,labelFillColor:e.LabelFillColor,labelBorderColor:e.LabelBorderColor,fontColor:e.FontColor,fontSize:e.FontSize,labelBounds:e.LabelBounds,pageNumber:t,annotationSelectorSettings:e.AnnotationSelectorSettings,labelSettings:e.labelSettings,annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.IsPrint,isCommentLock:e.IsCommentLock}},e.prototype.updateAddAnnotationDetails=function(e,t,i){i=t?t.offset?t.offset:{x:10,y:10}:(t={offset:{x:10,y:10},pageNumber:0,width:void 0,height:void 0}).offset;var n=null,o=null,r=null,a="",s="",l="",d=!1,h=[],A=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),p=this.pdfViewer.annotation.createGUID();"Distance"===e?(n=this.pdfViewer.lineSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.lineSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e),o=this.pdfViewer.lineSettings.allowedInteractions?this.pdfViewer.lineSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,a="LineDimension",s="Line",l=""!==this.pdfViewer.lineSettings.subject?this.pdfViewer.lineSettings.subject:""!==this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Distance calculation",d=!0,h=t.vertexPoints?t.vertexPoints:[{x:i.x,y:i.y},{x:i.x+100,y:i.y}],t.width=t.width?t.width:1,t.height=t.height?t.height:1):"Perimeter"===e?(n=this.pdfViewer.arrowSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.arrowSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e),o=this.pdfViewer.arrowSettings.allowedInteractions?this.pdfViewer.arrowSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,a="PolyLineDimension",s="Polyline",l=""!==this.pdfViewer.arrowSettings.subject?this.pdfViewer.arrowSettings.subject:""!==this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Perimeter calculation",d=!0,h=t.vertexPoints?t.vertexPoints:[{x:i.x,y:i.y},{x:i.x+85,y:i.y},{x:i.x+86,y:i.y+62}],t.width=t.width?t.width:1,t.height=t.height?t.height:1):"Area"===e?(n=this.pdfViewer.rectangleSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.rectangleSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e),o=this.pdfViewer.rectangleSettings.allowedInteractions?this.pdfViewer.rectangleSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,a="PolygonDimension",s="Polygon",l=""!==this.pdfViewer.rectangleSettings.subject?this.pdfViewer.rectangleSettings.subject:""!==this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Area calculation",h=t.vertexPoints?t.vertexPoints:[{x:i.x,y:i.y},{x:i.x+88,y:i.y-1},{x:i.x+89,y:i.y+53},{x:i.x,y:i.y}],t.width=t.width?t.width:1,t.height=t.height?t.height:1):"Radius"===e?(n=this.pdfViewer.circleSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.circleSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e),o=this.pdfViewer.circleSettings.allowedInteractions?this.pdfViewer.circleSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,a="PolygonRadius",s="Circle",l=""!==this.pdfViewer.circleSettings.subject?this.pdfViewer.circleSettings.subject:""!==this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Radius calculation",t.width=t.width?t.width:100,t.height=t.height?t.height:100,h=null):"Volume"===e&&(n=this.pdfViewer.polygonSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.polygonSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("measure",e),o=this.pdfViewer.polygonSettings.allowedInteractions?this.pdfViewer.polygonSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,a="PolygonVolume",s="Polygon",l=""!==this.pdfViewer.polygonSettings.subject?this.pdfViewer.polygonSettings.subject:""!==this.pdfViewer.annotationSettings.subject?this.pdfViewer.annotationSettings.subject:"Volume calculation",h=t.vertexPoints?t.vertexPoints:[{x:i.x,y:i.y},{x:i.x,y:i.y+109},{x:i.x+120,y:i.y+109},{x:i.x+120,y:i.y-1},{x:i.x,y:i.y}],t.width=t.width?t.width:1,t.height=t.height?t.height:1),r.isLock=t.isLock?t.isLock:r.isLock,r.minHeight=t.minHeight?t.minHeight:r.minHeight,r.minWidth=t.minWidth?t.minWidth:r.minWidth,r.maxWidth=t.maxWidth?t.maxWidth:r.maxWidth,r.maxHeight=t.maxHeight?t.maxHeight:r.maxHeight;var c=96,g=.013888888888888888,u=1,f="in",m="";if(h||"Radius"===e||"Volume"===e)if("Distance"===e||"Perimeter"===e||"Radius"===e){var w=0;if("Radius"===e)w=t.width/2*this.pixelToPointFactor;else{for(var y=0;y<h.length-1;y++)w+=Math.sqrt(Math.pow(h[parseInt(y.toString(),10)].x-h[y+1].x,2)+Math.pow(h[parseInt(y.toString(),10)].y-h[y+1].y,2));w*=this.pixelToPointFactor}var S=w*u;m=this.convertPointToUnits(g,S,f)}else if("Area"===e||"Volume"===e){var C=0,B=h.length-1;for(y=0;y<h.length;y++)C+=(h[parseInt(B.toString(),10)].x*this.pixelToPointFactor*g+h[parseInt(y.toString(),10)].x*this.pixelToPointFactor*g)*(h[parseInt(B.toString(),10)].y*this.pixelToPointFactor*g-h[parseInt(y.toString(),10)].y*this.pixelToPointFactor*g),B=y;C=Math.abs(C/2),"Volume"===e?(C=C*(c*this.convertUnitToPoint(f)*g)*u,m=Math.round(100*C)/100+this.pdfViewer.localeObj.getConstant("cu")+" "+this.pdfViewer.localeObj.getConstant(f)):m=Math.round(100*C)/100+this.pdfViewer.localeObj.getConstant("sq")+" "+this.pdfViewer.localeObj.getConstant(f)}h&&(h=this.pdfViewer.annotation.getVertexPointsXY(h));var I=[],b={AllowedInteractions:t.allowedInteractions?t.allowedInteractions:o,AnnotName:p,AnnotType:"shape_measure",AnnotationSelectorSettings:t.annotationSelectorSettings?t.annotationSelectorSettings:n,AnnotationSettings:r,Author:t.author?t.author:"Guest",BorderDashArray:t.borderDashArray?t.borderDashArray:0,BorderStyle:"Solid",Bounds:{X:i.x,Y:i.y,Width:t.width,Height:t.height,Left:i.x,Top:i.y,Location:{X:i.x,Y:i.y},Size:{Height:t.height,IsEmpty:!1,Width:t.width}},Calibrate:{Area:[{ConversionFactor:1,Denominator:100,FormatDenominator:!1,FractionalType:"D",Unit:"sq in"}],Depth:t.depth?t.depth:0,Distance:[{ConversionFactor:1,Denominator:100,FormatDenominator:!1,FractionalType:"D",Unit:"in"}],Ratio:"1 in = 1 in",TargetUnitConversion:0,Volume:null,X:[{ConversionFactor:.013888889,Denominator:100,FormatDenominator:!1,FractionalType:"D",Unit:"in"}]},Caption:!0,CaptionPosition:"Top",CloudIntensity:0,Comments:null,CustomData:t.customData?t.customData:null,CreatedDate:A,EnableShapeLabel:!1,ExistingCustomData:null,FillColor:t.fillColor?t.fillColor:"#ffffff00",FontColor:null,FontSize:0,Indent:a,IsCloudShape:!1,IsCommentLock:!1,IsLocked:!!t.isLock&&t.isLock,IsPrint:!t.isPrint||t.isPrint,LabelBorderColor:null,LabelBounds:{X:0,Y:0,Width:0,Height:0},LabelContent:null,LabelFillColor:null,LabelSettings:null,LeaderLength:0,LeaderLineExtension:0,LeaderLineOffset:0,LineHeadEnd:t.lineHeadStartStyle?t.lineHeadStartStyle:d?"ClosedArrow":"None",LineHeadStart:t.lineHeadEndStyle?t.lineHeadEndStyle:d?"ClosedArrow":"None",ModifiedDate:"",Note:m,Opacity:t.opacity?t.opacity:1,RectangleDifference:[],RotateAngle:"RotateAngle0",ShapeAnnotationType:s,State:"",StateModel:"",StrokeColor:t.strokeColor?t.strokeColor:"#ff0000",Subject:t.subject?t.subject:l,Thickness:t.thickness?t.thickness:1,VertexPoints:h};return I[0]=b,{measureShapeAnnotation:I}},e}(),oi=function(){function e(e,t){this.shapeCount=0,this.isAddAnnotationProgramatically=!1,this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.renderShapeAnnotations=function(e,i,n,o){if(e)if(e.length>=1){if(!this.pdfViewer.annotation.getStoredAnnotations(i,e,"_annotations_shape")||o||n)for(var r=0;r<e.length;r++){var a=e[parseInt(r.toString(),10)];a.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(a,i,a.AnnotType);var s=null;this.shapeCount=this.shapeCount+1;var l=void 0;if(a.ShapeAnnotationType){n&&this.pdfViewerBase.isJsonImported&&(a.Bounds=this.pdfViewerBase.importJsonForRotatedDocuments(a.Rotate,i,a.Bounds,a.AnnotationRotation),l=this.pdfViewerBase.isPageRotated);var d=null;if(a.VertexPoints)if(d=[],n&&this.pdfViewerBase.isJsonImported)d=this.pdfViewerBase.calculateVertexPoints(a.Rotate,i,a.VertexPoints,a.AnnotationRotation);else for(var h=0;h<a.VertexPoints.length;h++){var A={x:a.VertexPoints[parseInt(h.toString(),10)].X?a.VertexPoints[parseInt(h.toString(),10)].X:a.VertexPoints[parseInt(h.toString(),10)].x,y:a.VertexPoints[parseInt(h.toString(),10)].Y?a.VertexPoints[parseInt(h.toString(),10)].Y:a.VertexPoints[parseInt(h.toString(),10)].y};d.push(A)}a.Bounds&&!0===a.EnableShapeLabel&&(a.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(a.Bounds),a.LabelBorderColor=a.LabelBorderColor?a.LabelBorderColor:a.StrokeColor,a.FontColor=a.FontColor?a.FontColor:a.StrokeColor,a.LabelFillColor=a.LabelFillColor?a.LabelFillColor:a.FillColor,a.FontSize=a.FontSize?a.FontSize:16,a.LabelSettings=a.LabelSettings?a.LabelSettings:this.pdfViewer.shapeLabelSettings);var p="string"==typeof a.AnnotationSelectorSettings?JSON.parse(a.AnnotationSelectorSettings):a.AnnotationSelectorSettings;(0,t.isNullOrUndefined)(p)?this.pdfViewerBase.annotationSelectorSettingLoad(a):a.AnnotationSelectorSettings=p,a.AnnotationSettings=a.AnnotationSettings?a.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(a),a.IsLocked&&(a.AnnotationSettings.isLock=a.IsLocked),a.allowedInteractions=a.AllowedInteractions?a.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(a);var c=a.Bounds.X?a.Bounds.X:a.Bounds.x,g=a.Bounds.Y?a.Bounds.Y:a.Bounds.y,u=a.Bounds.Width?a.Bounds.Width:a.Bounds.width,f=a.Bounds.Height?a.Bounds.Height:a.Bounds.height,m=(s={id:"shape"+this.shapeCount,shapeAnnotationType:a.ShapeAnnotationType,author:a.Author,allowedInteractions:a.allowedInteractions,modifiedDate:a.ModifiedDate,subject:a.Subject,pageNumber:i,note:a.Note,strokeColor:a.StrokeColor,fillColor:a.FillColor,opacity:a.Opacity,thickness:a.Thickness,rectangleDifference:a.RectangleDifference,borderStyle:a.BorderStyle,borderDashArray:a.BorderDashArray,rotateAngle:a.RotateAngle,isCloudShape:a.IsCloudShape,cloudIntensity:a.CloudIntensity,vertexPoints:d,lineHeadStart:a.LineHeadStart,lineHeadEnd:a.LineHeadEnd,isLocked:a.IsLocked,comments:this.pdfViewer.annotationModule.getAnnotationComments(a.Comments,a,a.Author),review:{state:a.State,stateModel:a.StateModel,modifiedDate:a.ModifiedDate,author:a.Author},annotName:a.AnnotName,bounds:{left:c,top:g,width:u,height:f,right:a.Bounds.Right,bottom:a.Bounds.Bottom},labelContent:a.LabelContent,enableShapeLabel:a.EnableShapeLabel,labelFillColor:a.LabelFillColor,fontColor:a.FontColor,labelBorderColor:a.LabelBorderColor,fontSize:a.FontSize,labelBounds:a.LabelBounds,annotationSelectorSettings:this.getSettings(a),labelSettings:a.LabelSettings,annotationSettings:a.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(a),isPrint:a.IsPrint,isCommentLock:a.IsCommentLock,isAnnotationRotated:l}).vertexPoints;null==d&&(m=[]),a.AnnotationSelectorSettings=a.AnnotationSelectorSettings?"string"==typeof a.AnnotationSelectorSettings?JSON.parse(a.AnnotationSelectorSettings):a.AnnotationSelectorSettings:this.pdfViewer.annotationSelectorSettings;var w={id:"shape"+this.shapeCount,shapeAnnotationType:this.getShapeType(s),author:s.author,allowedInteractions:s.allowedInteractions,modifiedDate:s.modifiedDate,annotName:s.annotName,subject:s.subject,notes:s.note,fillColor:s.fillColor,strokeColor:s.strokeColor,opacity:s.opacity,thickness:s.thickness,borderStyle:s.borderStyle,borderDashArray:s.borderDashArray?s.borderDashArray.toString():"0",rotateAngle:parseFloat(s.rotateAngle.split("Angle")[1]),comments:s.comments,review:s.review,isCloudShape:s.isCloudShape,cloudIntensity:s.cloudIntensity,taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(s.lineHeadEnd),sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(s.lineHeadStart),vertexPoints:m,bounds:{x:s.bounds.left,y:s.bounds.top,width:s.bounds.width,height:s.bounds.height},pageIndex:s.pageNumber,labelContent:a.LabelContent,enableShapeLabel:a.EnableShapeLabel,labelFillColor:a.LabelFillColor,fontColor:a.FontColor,labelBorderColor:a.LabelBorderColor,fontSize:a.FontSize,labelBounds:a.LabelBounds,annotationSelectorSettings:a.AnnotationSelectorSettings,annotationSettings:s.annotationSettings,annotationAddMode:a.annotationAddMode,isPrint:a.IsPrint,isCommentLock:s.isCommentLock,customData:s.customData};this.pdfViewer.add(w);if(this.pdfViewer.annotationModule.storeAnnotations(i,s,"_annotations_shape"),this.isAddAnnotationProgramatically){var y={opacity:w.opacity,strokeColor:w.strokeColor,thickness:w.thickness,modifiedDate:w.modifiedDate,width:w.bounds.width,height:w.bounds.height};this.pdfViewer.fireAnnotationAdd(w.pageIndex,w.annotName,a.ShapeAnnotationType,w.bounds,y)}}}}else if(e.shapeAnnotationType){s=this.createAnnotationObject(e);(0,t.isNullOrUndefined)(e.formFieldAnnotationType)||""===e.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0,this.pdfViewer.annotationModule.storeAnnotations(i,s,"_annotations_shape"),e&&(e.customData=s.customData),this.pdfViewer.annotationModule.triggerAnnotationAdd(e)}},e.prototype.getSettings=function(e){this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?"string"==typeof e.AnnotationSelectorSettings?JSON.parse(e.AnnotationSelectorSettings):e.AnnotationSelectorSettings:this.getSelector(e.ShapeAnnotationType,e.Subject)},e.prototype.setAnnotationType=function(e){this.updateShapeProperties(),this.pdfViewerBase.disableTextSelectionMode();var i,n="Guest",o="";switch(e){case"Line":this.currentAnnotationMode="Line";var r=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();n="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.lineSettings.author?this.pdfViewer.lineSettings.author:"Guest",o=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.lineSettings.subject?this.pdfViewer.lineSettings.subject:"Line":this.pdfViewer.annotationSettings.subject,i=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.lineSettings.customData?this.pdfViewer.lineSettings.customData:null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={shapeAnnotationType:this.setShapeType("Line"),fillColor:this.lineFillColor,notes:"",strokeColor:this.lineStrokeColor,opacity:this.lineOpacity,thickness:this.lineThickness,modifiedDate:r,borderDashArray:this.lineDashArray.toString(),sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.lineStartHead.toString()),taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.lineEndHead.toString()),author:n,subject:o,lineHeadStart:this.lineStartHead,lineHeadEnd:this.lineEndHead,isCommentLock:!1,customData:i},this.pdfViewer.tool="Line";break;case"Arrow":this.currentAnnotationMode="Arrow";var a=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();n="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.arrowSettings.author?this.pdfViewer.arrowSettings.author:"Guest",o=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.arrowSettings.subject?this.pdfViewer.arrowSettings.subject:"Arrow":this.pdfViewer.annotationSettings.subject,i=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.arrowSettings.customData?this.pdfViewer.arrowSettings.customData:null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={shapeAnnotationType:this.setShapeType("Arrow"),opacity:this.arrowOpacity,sourceDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.arrowStartHead.toString()),taregetDecoraterShapes:this.pdfViewer.annotation.getArrowType(this.arrowEndHead.toString()),fillColor:this.arrowFillColor,strokeColor:this.arrowStrokeColor,notes:"",thickness:this.arrowThickness,borderDashArray:this.arrowDashArray.toString(),author:n,subject:o,modifiedDate:a,lineHeadStart:this.arrowStartHead,lineHeadEnd:this.arrowEndHead,isCommentLock:!1,customData:i},this.pdfViewer.tool="Line";break;case"Rectangle":this.currentAnnotationMode="Rectangle";var s=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();n="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.rectangleSettings.author?this.pdfViewer.rectangleSettings.author:"Guest",o=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.rectangleSettings.subject?this.pdfViewer.rectangleSettings.subject:"Rectangle":this.pdfViewer.annotationSettings.subject,i=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.rectangleSettings.customData?this.pdfViewer.rectangleSettings.customData:null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={shapeAnnotationType:this.setShapeType("Rectangle"),strokeColor:this.rectangleStrokeColor,fillColor:this.rectangleFillColor,opacity:this.rectangleOpacity,notes:"",thickness:this.rectangleThickness,borderDashArray:"0",modifiedDate:s,author:n,subject:o,isCommentLock:!1,customData:i},this.pdfViewer.tool="DrawTool";break;case"Circle":this.currentAnnotationMode="Circle";var l=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();n="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.circleSettings.author?this.pdfViewer.circleSettings.author:"Guest",o=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.circleSettings.subject?this.pdfViewer.circleSettings.subject:"Circle":this.pdfViewer.annotationSettings.subject,i=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.circleSettings.customData?this.pdfViewer.circleSettings.customData:null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={shapeAnnotationType:this.setShapeType("Circle"),strokeColor:this.circleStrokeColor,fillColor:this.circleFillColor,opacity:this.circleOpacity,notes:"",thickness:this.circleThickness,borderDashArray:"0",modifiedDate:l,author:n,subject:o,isCommentLock:!1,customData:i},this.pdfViewer.tool="DrawTool";break;case"Polygon":this.currentAnnotationMode="Polygon";var d=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();n="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.polygonSettings.author?this.pdfViewer.polygonSettings.author:"Guest",o=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.polygonSettings.subject?this.pdfViewer.polygonSettings.subject:"Polygon":this.pdfViewer.annotationSettings.subject,i=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.polygonSettings.customData?this.pdfViewer.polygonSettings.customData:null:this.pdfViewer.annotationSettings.customData,this.pdfViewer.drawingObject={strokeColor:this.polygonStrokeColor,fillColor:this.polygonFillColor,opacity:this.polygonOpacity,thickness:this.polygonThickness,borderDashArray:"0",notes:"",author:n,subject:o,modifiedDate:d,borderStyle:"",isCommentLock:!1,customData:i},this.pdfViewer.tool="Polygon"}},e.prototype.updateShapeProperties=function(){this.lineFillColor=this.pdfViewer.lineSettings.fillColor?this.pdfViewer.lineSettings.fillColor:"#ffffff00",this.lineStrokeColor=this.pdfViewer.lineSettings.strokeColor?this.pdfViewer.lineSettings.strokeColor:"#ff0000",this.lineThickness=this.pdfViewer.lineSettings.thickness?this.pdfViewer.lineSettings.thickness:1,this.lineOpacity=this.pdfViewer.lineSettings.opacity?this.pdfViewer.lineSettings.opacity:1,this.lineDashArray=this.pdfViewer.lineSettings.borderDashArray?this.pdfViewer.lineSettings.borderDashArray:0,this.lineStartHead=this.pdfViewer.lineSettings.lineHeadStartStyle?this.pdfViewer.lineSettings.lineHeadStartStyle:"None",this.lineEndHead=this.pdfViewer.lineSettings.lineHeadEndStyle?this.pdfViewer.lineSettings.lineHeadEndStyle:"None",this.arrowFillColor=this.pdfViewer.arrowSettings.fillColor?this.pdfViewer.arrowSettings.fillColor:"#ffffff00",this.arrowStrokeColor=this.pdfViewer.arrowSettings.strokeColor?this.pdfViewer.arrowSettings.strokeColor:"#ff0000",this.arrowThickness=this.pdfViewer.arrowSettings.thickness?this.pdfViewer.arrowSettings.thickness:1,this.arrowOpacity=this.pdfViewer.arrowSettings.opacity?this.pdfViewer.arrowSettings.opacity:1,this.arrowDashArray=this.pdfViewer.arrowSettings.borderDashArray?this.pdfViewer.arrowSettings.borderDashArray:0,this.arrowStartHead=this.pdfViewer.arrowSettings.lineHeadStartStyle?this.pdfViewer.arrowSettings.lineHeadStartStyle:"Closed",this.arrowEndHead=this.pdfViewer.arrowSettings.lineHeadEndStyle?this.pdfViewer.arrowSettings.lineHeadEndStyle:"Closed",this.rectangleFillColor=this.pdfViewer.rectangleSettings.fillColor?this.pdfViewer.rectangleSettings.fillColor:"#ffffff00",this.rectangleStrokeColor=this.pdfViewer.rectangleSettings.strokeColor?this.pdfViewer.rectangleSettings.strokeColor:"#ff0000",this.rectangleThickness=this.pdfViewer.rectangleSettings.thickness?this.pdfViewer.rectangleSettings.thickness:1,this.rectangleOpacity=this.pdfViewer.rectangleSettings.opacity?this.pdfViewer.rectangleSettings.opacity:1,this.circleFillColor=this.pdfViewer.circleSettings.fillColor?this.pdfViewer.circleSettings.fillColor:"#ffffff00",this.circleStrokeColor=this.pdfViewer.circleSettings.strokeColor?this.pdfViewer.circleSettings.strokeColor:"#ff0000",this.circleThickness=this.pdfViewer.circleSettings.thickness?this.pdfViewer.circleSettings.thickness:1,this.circleOpacity=this.pdfViewer.circleSettings.opacity?this.pdfViewer.circleSettings.opacity:1,this.polygonFillColor=this.pdfViewer.polygonSettings.fillColor?this.pdfViewer.polygonSettings.fillColor:"#ffffff00",this.polygonStrokeColor=this.pdfViewer.polygonSettings.strokeColor?this.pdfViewer.polygonSettings.strokeColor:"#ff0000",this.polygonThickness=this.pdfViewer.polygonSettings.thickness?this.pdfViewer.polygonSettings.thickness:1,this.polygonOpacity=this.pdfViewer.polygonSettings.opacity?this.pdfViewer.polygonSettings.opacity:1},e.prototype.setShapeType=function(e){var t;switch(e){case"Line":case"Polyline":t="Line";break;case"Circle":t="Ellipse";break;case"Square":t="Rectangle";break;case"Arrow":t="LineWidthArrowHead"}return t},e.prototype.getShapeType=function(e){var t;switch(e.shapeAnnotationType){case"Line":case"Polyline":t="Line";break;case"Circle":t="Ellipse";break;case"Square":t="Rectangle";break;case"Polygon":t="Polygon"}return"Line"!==e.shapeAnnotationType&&"Polyline"!==e.shapeAnnotationType||"None"===e.lineHeadStart&&"None"===e.lineHeadEnd||(t="LineWidthArrowHead"),t},e.prototype.getShapeAnnotType=function(e){var t;switch(e){case"Line":case"LineWidthArrowHead":t="Line";break;case"Rectangle":t="Square";break;case"Ellipse":t="Circle";break;case"Polygon":t="Polygon"}return t},e.prototype.modifyInCollection=function(e,i,n,o){(0,t.isNullOrUndefined)(n.formFieldAnnotationType)||""===n.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0,o&&this.pdfViewerBase.updateDocumentEditedProperty(!0);var r=null;n&&"bounds"===e&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationModifiedDate(n,!0);var a=this.getAnnotations(i,null);if(null!=a&&n){for(var s=0;s<a.length;s++)if(n.id===a[parseInt(s.toString(),10)].id){if("bounds"===e){if(this.pdfViewerBase.isBounds=this.pdfViewerBase.boundsCalculation(a[parseInt(s.toString(),10)].bounds,n.wrapper.bounds),this.pdfViewerBase.isBounds&&("Line"===a[parseInt(s.toString(),10)].shapeAnnotationType||"Polygon"===a[parseInt(s.toString(),10)].shapeAnnotationType?(a[parseInt(s.toString(),10)].vertexPoints=n.vertexPoints,a[parseInt(s.toString(),10)].bounds={left:n.bounds.x,top:n.bounds.y,width:n.bounds.width,height:n.bounds.height,right:n.bounds.right,bottom:n.bounds.bottom}):a[parseInt(s.toString(),10)].bounds={left:n.bounds.x,top:n.bounds.y,width:n.bounds.width,height:n.bounds.height,right:n.bounds.right,bottom:n.bounds.bottom}),!0===a[parseInt(s.toString(),10)].enableShapeLabel&&n.wrapper){var l=0,d=0,h=0;n.wrapper.bounds.width&&(h=(h=n.wrapper.bounds.width/2)>0&&h<151?h:151),n.wrapper.bounds.left&&(d=n.wrapper.bounds.left+n.wrapper.bounds.width/2-h/2),n.wrapper.bounds.top&&(l=n.wrapper.bounds.top+n.wrapper.bounds.height/2-12.3),a[parseInt(s.toString(),10)].labelBounds={left:d,top:l,width:h,height:24.6,right:0,bottom:0}}}else if("fill"===e)a[parseInt(s.toString(),10)].fillColor=n.wrapper.children[0].style.fill;else if("stroke"===e)a[parseInt(s.toString(),10)].strokeColor=n.wrapper.children[0].style.strokeColor;else if("opacity"===e)a[parseInt(s.toString(),10)].opacity=n.wrapper.children[0].style.opacity;else if("thickness"===e)a[parseInt(s.toString(),10)].thickness=n.wrapper.children[0].style.strokeWidth;else if("dashArray"===e)a[parseInt(s.toString(),10)].borderDashArray=n.wrapper.children[0].style.strokeDashArray,a[parseInt(s.toString(),10)].borderStyle=n.borderStyle;else if("startArrow"===e)a[parseInt(s.toString(),10)].lineHeadStart=this.pdfViewer.annotation.getArrowTypeForCollection(n.sourceDecoraterShapes);else if("endArrow"===e)a[parseInt(s.toString(),10)].lineHeadEnd=this.pdfViewer.annotation.getArrowTypeForCollection(n.taregetDecoraterShapes);else if("notes"===e)a[parseInt(s.toString(),10)].note=n.notes;else{if("delete"===e){r=a.splice(s,1)[0];break}if("labelContent"===e){a[parseInt(s.toString(),10)].note=n.labelContent,a[parseInt(s.toString(),10)].labelContent=n.labelContent;break}"fontColor"===e?a[parseInt(s.toString(),10)].fontColor=n.fontColor:"fontSize"===e&&(a[parseInt(s.toString(),10)].fontSize=n.fontSize)}this.pdfViewerBase.isBounds&&(a[parseInt(s.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()),this.pdfViewer.annotationModule.storeAnnotationCollections(a[parseInt(s.toString(),10)],i)}this.manageAnnotations(a,i)}return r},e.prototype.addInCollection=function(e,t){var i=this.getAnnotations(e,null);i&&i.push(t),this.manageAnnotations(i,e)},e.prototype.saveShapeAnnotations=function(){var e=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape");this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape"]);for(var i=[],n=0;n<this.pdfViewerBase.pageCount;n++)i[parseInt(n.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var o=JSON.parse(e),r=0;r<o.length;r++){var a=[],s=o[parseInt(r.toString(),10)];if(s){for(var l=0;s.annotations.length>l;l++)if(this.pdfViewerBase.checkFormFieldCollection(s.annotations[parseInt(l.toString(),10)].id))s.annotations[parseInt(l.toString(),10)]="";else{if(this.pdfViewer.annotationModule.updateModifiedDate(s.annotations[parseInt(l.toString(),10)]),this.pdfViewerBase.isJsonExported)if(s.annotations[parseInt(l.toString(),10)].isAnnotationRotated)s.annotations[parseInt(l.toString(),10)].bounds=this.pdfViewer.annotation.getBounds(s.annotations[parseInt(l.toString(),10)].bounds,s.pageIndex),s.annotations[parseInt(l.toString(),10)].vertexPoints=this.pdfViewer.annotation.getVertexPoints(s.annotations[parseInt(l.toString(),10)].vertexPoints,s.pageIndex);else{var d=this.pdfViewerBase.pageSize[s.pageIndex];d&&(s.annotations[parseInt(l.toString(),10)].annotationRotation=d.rotation)}s.annotations[parseInt(l.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(s.annotations[parseInt(l.toString(),10)].bounds,s.pageIndex));var h=s.annotations[parseInt(l.toString(),10)].strokeColor;s.annotations[parseInt(l.toString(),10)].strokeColor=JSON.stringify(this.getRgbCode(h));var A=s.annotations[parseInt(l.toString(),10)].fillColor;if((0,t.isNullOrUndefined)(A)?s.annotations[parseInt(l.toString(),10)].fillColor="transparent":s.annotations[parseInt(l.toString(),10)].fillColor=JSON.stringify(this.getRgbCode(A)),s.annotations[parseInt(l.toString(),10)].vertexPoints=JSON.stringify(this.pdfViewer.annotation.getVertexPoints(s.annotations[parseInt(l.toString(),10)].vertexPoints,s.pageIndex)),null!==s.annotations[parseInt(l.toString(),10)].rectangleDifference&&(s.annotations[parseInt(l.toString(),10)].rectangleDifference=JSON.stringify(s.annotations[parseInt(l.toString(),10)].rectangleDifference)),!0===s.annotations[parseInt(l.toString(),10)].enableShapeLabel){s.annotations[parseInt(l.toString(),10)].labelBounds=JSON.stringify(this.pdfViewer.annotationModule.inputElementModule.calculateLabelBounds(JSON.parse(s.annotations[parseInt(l.toString(),10)].bounds)));var p=s.annotations[parseInt(l.toString(),10)].labelFillColor;s.annotations[parseInt(l.toString(),10)].labelFillColor=JSON.stringify(this.getRgbCode(p));var c=s.annotations[parseInt(l.toString(),10)].labelBorderColor;s.annotations[parseInt(l.toString(),10)].labelBorderColor=JSON.stringify(this.getRgbCode(c)),s.annotations[parseInt(l.toString(),10)].labelSettings.fillColor=p;var g=s.annotations[parseInt(l.toString(),10)].labelSettings.fontColor;s.annotations[parseInt(l.toString(),10)].fontColor=JSON.stringify(this.getRgbCode(g))}}s.annotations=s.annotations.filter((function(e){return e})),a=s.annotations}i[s.pageIndex]=a}return JSON.stringify(i)},e.prototype.manageAnnotations=function(e,t){var i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape");if(this.pdfViewerBase.isStorageExceed&&(i=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape"]),i){var n=JSON.parse(i);this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_shape");var o=this.pdfViewer.annotationModule.getPageCollection(n,t);null!=o&&n[parseInt(o.toString(),10)]&&(n[parseInt(o.toString(),10)].annotations=e);var r=JSON.stringify(n);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape"]=r:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_shape",r)}},e.prototype.createAnnotationObject=function(e){var t,i,n=this.pdfViewer.annotation.createGUID();if(!e.formFieldAnnotationType){var o=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("shape",e.pageIndex+1,e.shapeAnnotationType);o&&(document.getElementById(o).id=n)}e.annotName=n,e.wrapper.bounds?(t={left:e.wrapper.bounds.x,top:e.wrapper.bounds.y,height:e.wrapper.bounds.height,width:e.wrapper.bounds.width,right:e.wrapper.bounds.right,bottom:e.wrapper.bounds.bottom},i=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBounds(e.wrapper.bounds)):(t={left:0,top:0,height:0,width:0,right:0,bottom:0},i={left:0,top:0,height:0,width:0,right:0,bottom:0}),"Line"===e.subject&&"Polygon"===e.shapeAnnotationType?e.author=this.pdfViewer.annotationModule.updateAnnotationAuthor("shape","Polygon"):e.author=e&&"Guest"!=e.author?e.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e.subject),this.pdfViewer.annotation.stickyNotesAnnotationModule.addTextToComments(n,e.notes);var r=parseInt(e.borderDashArray,10);r=isNaN(r)?0:r;var a=this.pdfViewer.annotationModule.findAnnotationSettings(e,!0);e.isPrint=a.isPrint;var s=this.pdfViewer.shapeLabelSettings,l={borderColor:e.strokeColor,fillColor:e.fillColor,fontColor:e.fontColor,fontSize:e.fontSize,labelContent:e.labelContent,labelHeight:s.labelHeight,labelWidth:s.labelMaxWidth,opacity:e.opacity};return{id:e.id,shapeAnnotationType:this.getShapeAnnotType(e.shapeAnnotationType),author:e.author,allowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),subject:e.subject,note:e.notes,strokeColor:e.strokeColor,annotName:n,comments:[],review:{state:"",stateModel:"",modifiedDate:this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),author:e.author},fillColor:e.fillColor,opacity:e.opacity,thickness:e.thickness,pageNumber:e.pageIndex,borderStyle:e.borderStyle,borderDashArray:r,bounds:t,modifiedDate:this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),rotateAngle:"RotateAngle"+e.rotateAngle,isCloudShape:e.isCloudShape,cloudIntensity:e.cloudIntensity,vertexPoints:e.vertexPoints,lineHeadStart:this.pdfViewer.annotation.getArrowTypeForCollection(e.sourceDecoraterShapes),lineHeadEnd:this.pdfViewer.annotation.getArrowTypeForCollection(e.taregetDecoraterShapes),rectangleDifference:[],isLocked:a.isLock,labelContent:e.labelContent,enableShapeLabel:e.enableShapeLabel,labelFillColor:e.labelFillColor,fontColor:e.fontColor,labelBorderColor:e.labelBorderColor,fontSize:e.fontSize,labelBounds:i,annotationSelectorSettings:this.getSelector(e.shapeAnnotationType,e.subject),labelSettings:l,annotationSettings:a,customData:this.pdfViewer.annotation.getShapeData(e.shapeAnnotationType,e.subject),isPrint:e.isPrint,isCommentLock:e.isCommentLock,isAnnotationRotated:!1}},e.prototype.getSelector=function(e,t){var i=this.pdfViewer.annotationSelectorSettings;return"Line"===e&&"Arrow"!==t&&this.pdfViewer.lineSettings.annotationSelectorSettings?i=this.pdfViewer.lineSettings.annotationSelectorSettings:"LineWidthArrowHead"!==e&&"Arrow"!==t||!this.pdfViewer.lineSettings.annotationSelectorSettings?"Rectangle"!==e&&"Square"!==e||!this.pdfViewer.rectangleSettings.annotationSelectorSettings?"Ellipse"!==e&&"Circle"!==e||!this.pdfViewer.circleSettings.annotationSelectorSettings?"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings&&(i=this.pdfViewer.polygonSettings.annotationSelectorSettings):i=this.pdfViewer.circleSettings.annotationSelectorSettings:i=this.pdfViewer.rectangleSettings.annotationSelectorSettings:i=this.pdfViewer.arrowSettings.annotationSelectorSettings,i},e.prototype.getAnnotations=function(e,t){var i,n=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape");if(this.pdfViewerBase.isStorageExceed&&(n=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_shape"]),n){var o=JSON.parse(n),r=this.pdfViewer.annotationModule.getPageCollection(o,e);i=null!=r&&o[parseInt(r.toString(),10)]?o[parseInt(r.toString(),10)].annotations:t}else i=t;return i},e.prototype.getRgbCode=function(e){e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||(e=this.pdfViewer.annotationModule.nameToHash(e));var i=e.split(",");return(0,t.isNullOrUndefined)(i[1])&&(i=(e=this.pdfViewer.annotationModule.getValue(e,"rgba")).split(",")),{r:parseInt(i[0].split("(")[1],10),g:parseInt(i[1],10),b:parseInt(i[2],10),a:parseFloat(i[3])}},e.prototype.saveImportedShapeAnnotations=function(e,t){var i,n=null;if(e.Author=this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e.Subject),e.VertexPoints){n=[];for(var o=0;o<e.VertexPoints.length;o++){var r={x:e.VertexPoints[parseInt(o.toString(),10)].X,y:e.VertexPoints[parseInt(o.toString(),10)].Y};n.push(r)}}e.Bounds&&!0===e.EnableShapeLabel&&(e.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(e.Bounds),e.LabelBorderColor=e.LabelBorderColor?e.LabelBorderColor:e.StrokeColor,e.FontColor=e.FontColor?e.FontColor:e.StrokeColor,e.LabelFillColor=e.LabelFillColor?e.LabelFillColor:e.FillColor,e.FontSize=e.FontSize?e.FontSize:16,e.LabelSettings=e.LabelSettings?e.LabelSettings:this.pdfViewer.shapeLabelSettings),e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(e),e.allowedInteractions=e.AllowedInteractions?e.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),i={id:"shape",shapeAnnotationType:e.ShapeAnnotationType,author:e.Author,allowedInteractions:e.allowedInteractions,modifiedDate:e.ModifiedDate,subject:e.Subject,pageNumber:t,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,thickness:e.Thickness,rectangleDifference:e.RectangleDifference,borderStyle:e.BorderStyle,borderDashArray:e.BorderDashArray,rotateAngle:e.RotateAngle,isCloudShape:e.IsCloudShape,cloudIntensity:e.CloudIntensity,vertexPoints:n,lineHeadStart:e.LineHeadStart,lineHeadEnd:e.LineHeadEnd,isLocked:e.IsLocked,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},annotName:e.AnnotName,bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},labelContent:e.LabelContent,enableShapeLabel:e.EnableShapeLabel,labelFillColor:e.LabelFillColor,labelBorderColor:e.LabelBorderColor,fontColor:e.FontColor,fontSize:e.FontSize,labelBounds:e.LabelBounds,annotationSelectorSettings:this.getSettings(e),labelSettings:e.LabelSettings,annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.IsPrint,isCommentLock:e.IsCommentLock,isAnnotationRotated:!1},this.pdfViewer.annotationModule.storeAnnotations(t,i,"_annotations_shape")},e.prototype.updateShapeAnnotationCollections=function(e,t){var i=null;if(e.VertexPoints){i=[];for(var n=0;n<e.VertexPoints.length;n++){var o={x:e.VertexPoints[parseInt(n.toString(),10)].X,y:e.VertexPoints[parseInt(n.toString(),10)].Y};i.push(o)}}if(e.Bounds&&!0===e.EnableShapeLabel){e.LabelBounds=this.pdfViewer.annotationModule.inputElementModule.calculateLabelBoundsFromLoadedDocument(e.Bounds),e.LabelBorderColor=e.LabelBorderColor?e.LabelBorderColor:e.StrokeColor,e.FontColor=e.FontColor?e.FontColor:e.StrokeColor,e.LabelFillColor=e.LabelFillColor?e.LabelFillColor:e.FillColor,e.FontSize=e.FontSize?e.FontSize:16;var r=this.pdfViewer.shapeLabelSettings,a={borderColor:e.StrokeColor,fillColor:e.FillColor,fontColor:e.FontColor,fontSize:e.FontSize,labelContent:e.LabelContent,labelHeight:r.labelHeight,labelWidth:r.labelWidth,opacity:e.Opacity};e.LabelSettings=e.LabelSettings?e.LabelSettings:a}return e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(e),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),e.allowedInteractions=e.AllowedInteractions?e.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),{id:"shape",shapeAnnotationType:e.ShapeAnnotationType,author:e.Author,allowedInteractions:e.allowedInteractions,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,thickness:e.Thickness,rectangleDifference:e.RectangleDifference,borderStyle:e.BorderStyle,borderDashArray:e.BorderDashArray,rotateAngle:e.RotateAngle,isCloudShape:e.IsCloudShape,cloudIntensity:e.CloudIntensity,vertexPoints:i,lineHeadStart:e.LineHeadStart,lineHeadEnd:e.LineHeadEnd,isLocked:e.IsLocked,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},annotationId:e.AnnotName,bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},labelContent:e.LabelContent,enableShapeLabel:e.EnableShapeLabel,labelFillColor:e.LabelFillColor,labelBorderColor:e.LabelBorderColor,fontColor:e.FontColor,fontSize:e.FontSize,labelBounds:e.LabelBounds,pageNumber:t,labelSettings:e.LabelSettings,annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.IsPrint,isCommentLock:e.IsCommentLock}},e.prototype.updateAddAnnotationDetails=function(e,t,i){i=t?t.offset?t.offset:{x:10,y:10}:(t={offset:{x:10,y:10},pageNumber:0,width:void 0,height:void 0}).offset;var n=null,o=null,r=null,a="",s=!1,l=null,d=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),h=this.pdfViewer.annotation.createGUID();"Line"===e?(n=this.pdfViewer.lineSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.lineSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e),o=this.pdfViewer.lineSettings.allowedInteractions?this.pdfViewer.lineSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,a="Line",l=t.vertexPoints?t.vertexPoints:[{x:i.x,y:i.y},{x:i.x+100,y:i.y}],t.width=t.width?t.width:1,t.height=t.height?t.height:1):"Arrow"===e?(n=this.pdfViewer.arrowSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.arrowSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e),o=this.pdfViewer.arrowSettings.allowedInteractions?this.pdfViewer.arrowSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,a="Line",s=!0,l=t.vertexPoints?t.vertexPoints:[{x:i.x,y:i.y},{x:i.x+100,y:i.y}],t.width=t.width?t.width:1,t.height=t.height?t.height:1):"Rectangle"===e?(n=this.pdfViewer.rectangleSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.rectangleSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e),o=this.pdfViewer.rectangleSettings.allowedInteractions?this.pdfViewer.rectangleSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,a="Square",t.width=t.width?t.width:150,t.height=t.height?t.height:75):"Circle"===e?(n=this.pdfViewer.circleSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.circleSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e),o=this.pdfViewer.circleSettings.allowedInteractions?this.pdfViewer.circleSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,a="Circle",t.width=t.width?t.width:100,t.height=t.height?t.height:90):"Polygon"===e&&(n=this.pdfViewer.polygonSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(n),r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.polygonSettings),t.author=t.author?t.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("shape",e),o=this.pdfViewer.polygonSettings.allowedInteractions?this.pdfViewer.polygonSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,a="Polygon",l=t.vertexPoints?t.vertexPoints:[{x:i.x,y:i.y},{x:i.x+42,y:i.y-29},{x:i.x+89,y:i.y-1},{x:i.x+78,y:i.y+42},{x:i.x+11,y:i.y+42},{x:i.x,y:i.y}],t.width=t.width?t.width:1,t.height=t.height?t.height:1),r.isLock=t.isLock?t.isLock:r.isLock,r.minHeight=t.minHeight?t.minHeight:r.minHeight,r.minWidth=t.minWidth?t.minWidth:r.minWidth,r.maxWidth=t.maxWidth?t.maxWidth:r.maxWidth,r.maxHeight=t.maxHeight?t.maxHeight:r.maxHeight,l&&(l=this.pdfViewer.annotation.getVertexPointsXY(l));var A=[],p={AllowedInteractions:t.allowedInteractions?t.allowedInteractions:o,AnnotName:h,AnnotType:"shape",AnnotationSelectorSettings:t.annotationSelectorSettings?t.annotationSelectorSettings:n,AnnotationSettings:r,Author:t.author?t.author:"Guest",BorderDashArray:t.borderDashArray?t.borderDashArray:0,BorderStyle:"Solid",Bounds:{X:i.x,Y:i.y,Width:t.width,Height:t.height,Left:i.x,Top:i.y,Location:{X:i.x,Y:i.y},Size:{Height:t.height,IsEmpty:!1,Width:t.width}},CloudIntensity:0,Comments:null,CustomData:t.customData?t.customData:null,CreatedDate:d,EnableShapeLabel:!1,ExistingCustomData:null,FillColor:t.fillColor?t.fillColor:"#ffffff00",FontColor:null,FontSize:0,IsCloudShape:!1,IsCommentLock:!1,IsLocked:!!t.isLock&&t.isLock,IsPrint:!t.isPrint||t.isPrint,LabelBorderColor:null,LabelBounds:{X:0,Y:0,Width:0,Height:0},LabelContent:null,LabelFillColor:null,LabelSettings:null,LineHeadEnd:t.lineHeadStartStyle?t.lineHeadStartStyle:s?"ClosedArrow":"None",LineHeadStart:t.lineHeadEndStyle?t.lineHeadEndStyle:s?"ClosedArrow":"None",ModifiedDate:"",Note:"",Opacity:t.opacity?t.opacity:1,RectangleDifference:null,RotateAngle:"RotateAngle0",ShapeAnnotationType:a,State:"",StateModel:"",StrokeColor:t.strokeColor?t.strokeColor:"#ff0000",Subject:t.subject?t.subject:e.toString(),Thickness:t.thickness?t.thickness:1,VertexPoints:l};return A[0]=p,{shapeAnnotation:A}},e}(),ri=function(){function e(e,t){this.isStampAddMode=!1,this.stampPageNumber=[],this.isAddAnnotationProgramatically=!1,this.customStampName=null,this.dynamicText="",this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.renderStampAnnotations=function(e,i,n,o,r){var a=!1;if(!o)for(var s=0;s<this.stampPageNumber.length;s++)if(this.stampPageNumber[parseInt(s.toString(),10)]===i){a=!0;break}if(o&&(a=!1),e&&(!a||r)){this.stampPageNumber.push(i);for(var l=function(r){var a=e[parseInt(r.toString(),10)];a.annotationAddMode=d.pdfViewer.annotationModule.findAnnotationMode(a,i,a.AnnotType);var s=a.Apperarance,l=a.Rect,h=a.Opacity,A=parseFloat(e[parseInt(r.toString(),10)].pageNumber);isNaN(A)&&(A=e[parseInt(r.toString(),10)].PageNumber);var p=a.IsDynamic;a.AnnotationSettings=a.AnnotationSettings?a.AnnotationSettings:d.pdfViewer.annotationModule.updateSettings(d.pdfViewer.stampSettings),a.IsLocked&&(a.AnnotationSettings.isLock=a.IsLocked);var c=d.stampImageData(a);if(p&&a.IconName&&"Draft"!==a.IconName&&!c&&((0,t.isNullOrUndefined)(a.template)||""===a.template)){d.retrieveDynamicStampAnnotation(a.IconName),d.isExistingStamp=!0;for(var g=d.calculateImagePosition(l,!0),u=a.RotateAngle,f=0;f<s.length;f++){var m=s[parseInt(f.toString(),10)];if("string"===m.type&&void 0!==m.text){var w=void 0;2===(w=!o&&m.text.split("(").length>1?m.text.split("(")[1].split(")")[0]:m.text).split("(").length?w.split("(")[1].split(")")[0].toLowerCase()!==a.IconName.toLowerCase()&&(d.dynamicText+=w.split("(")[1].split(")")[0]):w.toLowerCase()!==a.IconName.toLowerCase()&&(d.dynamicText+=w)}}d.renderStamp(g.left,g.top,g.width,g.height,A,h,u,n,a,!0)}else if(!a.IconName||c||!(0,t.isNullOrUndefined)(a.template)&&""!==a.template){if(s)for(var y=function(e){var t=s[parseInt(e.toString(),10)],i=t.imagedata,o=t.CreationDate,r=t.ModifiedDate,p=t.RotateAngle;if(i){var c=new Image,g=d;c.onload=function(){var e=g.calculateImagePosition(l,!0);a.AnnotationSettings=a.AnnotationSettings?a.AnnotationSettings:g.pdfViewer.customStampSettings.annotationSettings,g.renderCustomImage(e,A,c,o,r,p,h,n,!0,a)},c.src=i}},S=0;S<s.length;S++)y(S)}else{d.retrievestampAnnotation(a.IconName),d.isExistingStamp=!0;g=d.calculateImagePosition(l,!0),u=a.RotateAngle;d.renderStamp(g.left,g.top,g.width,g.height,A,h,u,n,a),d.isExistingStamp=!1}},d=this,h=0;h<e.length;h++)l(h)}},e.prototype.renderStampAnnotImage=function(e,t,i,n,o,r,a){var s=e.Apperarance,l=e.Rect,d=e.Opacity,h=(e.AnnotationSelectorSettings,parseFloat(e.pageNumber));if(s)for(var A=function(t){var n=s[parseInt(t.toString(),10)],o=n.imagedata,A=n.CreationDate,c=n.ModifiedDate,g=n.RotateAngle;if(o){var u=new Image,f=p;u.onload=function(){var t=f.calculateImagePosition(l,!0);e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:f.pdfViewer.customStampSettings.annotationSettings,f.renderCustomImage(t,h,u,A,c,g,d,i,!0,e,null,r,a)},u.src=o}},p=this,c=0;c<s.length;c++)A(c)},e.prototype.moveStampElement=function(e,i,n){var o=this.pdfViewerBase.getZoomFactor();e/=o,i/=o;var r,a=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.author)||"Guest"===this.pdfViewer.annotationSettings.author?this.pdfViewer.stampSettings.author?this.pdfViewer.stampSettings.author:"Guest":this.pdfViewer.annotationSettings.author;if(this.pdfViewerBase.isDynamicStamp)if(this.pdfViewer.dateTimeFormat){var s=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTimeFormat();this.dynamicText="By "+a+" at "+s+" "}else{var l=(new Date).toString().split(" ").splice(1,3).join(" "),d=(new Date).toLocaleTimeString();this.dynamicText="By "+a+" at "+d+" , "+l+"   "}var h=this.currentStampAnnotation,A=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.stampSettings.subject?this.pdfViewer.stampSettings.subject:(0,t.isNullOrUndefined)(h)?"":h.iconName:this.pdfViewer.annotationSettings.subject,p=this.pdfViewer.stampSettings.annotationSelectorSettings;return this.pdfViewerBase.updateSelectorSettings(p),h&&"Image"===h.shapeAnnotationType?r={id:"stamp"+this.pdfViewerBase.customStampCount,bounds:{x:e,y:i,width:h.bounds.width,height:h.bounds.height},pageIndex:n,data:h.data,modifiedDate:h.modifiedDate,shapeAnnotationType:"Image",opacity:h.opacity,rotateAngle:h.RotationAngle,annotName:h.annotationName,comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:h.author}}:h&&(r={id:"stamp"+this.pdfViewerBase.customStampCount,bounds:{x:e,y:i,width:h.width,height:h.height},pageIndex:n,data:h.pathdata,shapeAnnotationType:"Stamp",strokeColor:h.strokeColor,fillColor:h.fillColor,opacity:.5,stampFillColor:h.stampFillColor,stampStrokeColor:h.stampStrokeColor,rotateAngle:h.RotateAngle,isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:this.dynamicText,subject:A,annotationSelectorSettings:p,icon:h.iconName}),this.pdfViewerBase.currentSignatureAnnot&&(r="SignatureText"===(h=this.pdfViewerBase.currentSignatureAnnot).shapeAnnotationType?{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:e,y:i,width:h.bounds.width,height:h.bounds.height},pageIndex:n,data:h.data,modifiedDate:"",shapeAnnotationType:"SignatureText",thickness:h.thickness,strokeColor:h.strokeColor,opacity:h.opacity,signatureName:h.signatureName,fontFamily:h.fontFamily,fontSize:Math.floor(h.bounds.height/2)}:"SignatureImage"===h.shapeAnnotationType?{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:e,y:i,width:h.bounds.width,height:h.bounds.height},pageIndex:n,data:h.data,modifiedDate:"",shapeAnnotationType:"SignatureImage",thickness:h.thickness,strokeColor:h.strokeColor,opacity:h.opacity,signatureName:h.signatureName}:{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:e,y:i,width:h.bounds.width,height:h.bounds.height},pageIndex:n,data:h.data,shapeAnnotationType:"HandWrittenSignature",thickness:h.thickness,strokeColor:h.strokeColor,opacity:h.opacity,signatureName:h.signatureName}),r},e.prototype.ConvertPointToPixel=function(e){return e*(96/72)},e.prototype.calculateImagePosition=function(e,t){var i={width:0,height:0,left:0,top:0},n=parseFloat(e.x?e.x:e.X),o=parseFloat(e.y?e.y:e.Y),r=parseFloat(e.width?e.width:e.Width),a=parseFloat(e.height?e.height:e.Height);t?i={width:this.ConvertPointToPixel(r),height:this.ConvertPointToPixel(a),left:this.ConvertPointToPixel(n),top:this.ConvertPointToPixel(o)}:i={width:r,height:a,left:n,top:o};return i},e.prototype.createCustomStampAnnotation=function(e,t){var i=this,n=this.pdfViewerBase.currentPageNumber-1,o=new Image,r=this;o.onload=function(){var e=i.pdfViewer.customStampSettings,a=e.width>0?e.width:0,s=e.height>0?e.height:0,l=100;a>0||s>0||(o.naturalHeight>=o.naturalWidth?(s=o.naturalHeight/o.naturalHeight*l,a=o.naturalWidth/o.naturalHeight*l):(s=o.naturalHeight/o.naturalWidth*l,a=o.naturalWidth/o.naturalWidth*l));var d={width:a,height:s,left:i.pdfViewer.customStampSettings.left,top:i.pdfViewer.customStampSettings.top},h=(new Date).toLocaleDateString(),A=i.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime();r.renderCustomImage(d,n,o,h,A,0,1,null,null,null,t)},o.src=e},e.prototype.renderStamp=function(e,n,o,r,a,s,l,d,h,A){t.Browser.isDevice&&(this.pdfViewerBase.customStampCount+=1);var p,c="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.stampSettings.author?this.pdfViewer.stampSettings.author:"Guest";if(this.pdfViewerBase.isDynamicStamp){var g=(new Date).toString().split(" ").splice(1,3).join(" "),u=(new Date).toLocaleTimeString();this.dynamicText="By "+c+" at "+u+" , "+g+" "}A&&(this.dynamicText+=" ",this.pdfViewerBase.isDynamicStamp=!0);var f=null,m=this.currentStampAnnotation;if(m){if(null!==o&&null!==r){m.width=o,m.height=r,m.Opacity=s,m.RotateAngle=l;var w=h.AnnotName;m.AnnotName=w;var y=h.State;m.State=y;var S=h.AnnotationSettings;m.AnnotationSettings=S||this.pdfViewer.annotationModule.updateAnnotationSettings(m);var C="string"==typeof h.AnnotationSelectorSettings?JSON.parse(h.AnnotationSelectorSettings):h.AnnotationSelectorSettings;m.AnnotationSelectorSettings=C||this.pdfViewer.annotationSelectorSettings;var B=h.ModifiedDate;m.ModifiedDate=B;var I=h.StateNodel;m.StateModel=I;var b=h.IsCommentLock;m.IsCommentLock=b;var v=h.Note;m.Note=v;var E=h.Author;m.Author=E;var x=h.Subject;m.Subject=x;var _=this.pdfViewer.annotation.getCustomData(h);m.allowedInteractions=h.AllowedInteractions?h.AllowedInteractions:h.allowedInteractions?h.allowedInteractions:["None"],m.CustomData=_;var D=!0;D="Imported Annotation"===m.annotationAddMode?h.IsPrint:h.AnnotationSettings.isPrint,m.isPrint=D,null===m.Author&&(m.Author="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.stampSettings.author?this.pdfViewer.stampSettings.author:"Guest");var M=h.Comments;m.Comments=this.pdfViewer.annotationModule.getAnnotationComments(M,h,E)}else{w=this.pdfViewer.annotation.createGUID();var V=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("stamp",a+1);V&&(document.getElementById(V).id=w),m.AnnotationSettings=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings),m.AnnotName=w,m.Comments=[],m.State="",m.StateModel="",m.Note="",m.Opacity=1,m.RotateAngle=0,m.ModifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),m.Author="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.stampSettings.author?this.pdfViewer.stampSettings.author:"Guest",m.Subject=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.stampSettings.subject?this.pdfViewer.stampSettings.subject:m.iconName:this.pdfViewer.annotationSettings.subject}var Q=(0,i.processPathData)(m.pathdata),F=(0,i.splitArrayCollection)(Q),T=h?h.annotationAddMode:"UI Drawn Annotation";m.AnnotationSelectorSettings=m.AnnotationSelectorSettings?m.AnnotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,p={id:"stamp"+this.pdfViewerBase.customStampCount,bounds:{x:e,y:n,width:m.width,height:m.height},pageIndex:a,data:m.pathdata,modifiedDate:m.ModifiedDate,shapeAnnotationType:"Stamp",strokeColor:m.strokeColor,fillColor:m.fillColor,opacity:m.Opacity,stampFillColor:m.stampFillColor,stampStrokeColor:m.stampStrokeColor,rotateAngle:m.RotateAngle,isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:this.dynamicText,annotName:m.AnnotName,notes:m.Note,comments:m.Comments,review:{state:m.State,stateModel:m.StateModel,modifiedDate:m.ModifiedDate,author:m.Author},subject:m.Subject,annotationSelectorSettings:m.AnnotationSelectorSettings,annotationSettings:m.AnnotationSettings,allowedInteractions:m.allowedInteractions,annotationAddMode:T,isPrint:m.isPrint,isCommentLock:m.IsCommentLock},f={stampAnnotationType:"path",author:m.Author,modifiedDate:m.ModifiedDate,subject:m.Subject,note:m.Note,strokeColor:m.strokeColor,fillColor:m.fillColor,opacity:m.Opacity,stampFillcolor:m.stampFillColor,rotateAngle:m.RotateAngle,creationDate:m.creationDate,pageNumber:a,icon:m.iconName,stampAnnotationPath:F,randomId:"stamp"+this.pdfViewerBase.customStampCount,isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:this.dynamicText,bounds:{left:e,top:n,width:m.width,height:m.height},annotName:m.AnnotName,comments:m.Comments,review:{state:m.State,stateModel:m.StateModel,author:m.Author,modifiedDate:m.ModifiedDate},shapeAnnotationType:"stamp",annotationSelectorSettings:this.getSettings(m),annotationSettings:m.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(m),allowedInteractions:m.allowedInteractions,isPrint:m.isPrint,isCommentLock:m.IsCommentLock,isMaskedImage:m.IsMaskedImage,customStampName:"",template:m?m.template:null,templateSize:m?m.templateSize:0},this.storeStampInSession(a,f),this.pdfViewer.add(p),this.isAddAnnotationProgramatically&&this.triggerAnnotationAdd(p,m),(0,t.isNullOrUndefined)(d)&&(d=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+a)),this.pdfViewer.renderDrawing(d,a),this.pdfViewerBase.stampAdded&&(this.triggerAnnotationAdd(p,m),this.pdfViewerBase.isNewStamp=!0,this.pdfViewer.annotation.addAction(a,null,p,"Addition","",p,p)),this.pdfViewerBase.stampAdded=!1,this.isExistingStamp||(m.creationDate=(new Date).toLocaleDateString(),m.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime())}this.resetAnnotation()},e.prototype.getSettings=function(e){var t=this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?t=e.AnnotationSelectorSettings:this.pdfViewer.stampSettings.annotationSelectorSettings&&(t=this.pdfViewer.stampSettings.annotationSelectorSettings),t},e.prototype.resetAnnotation=function(){this.pdfViewerBase.isDynamicStamp=!1,this.dynamicText="",this.currentStampAnnotation=null,t.Browser.isDevice||(this.pdfViewerBase.customStampCount+=1)},e.prototype.updateDeleteItems=function(e,n,o){this.pdfViewerBase.updateDocumentEditedProperty(!0);var r=null,a=!1;if(n.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),n.author="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.stampSettings.author?this.pdfViewer.stampSettings.author:"Guest",o){var s=this.pdfViewer.annotation.createGUID(),l=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("stamp",e+1);l&&(document.getElementById(l).id=s),n.annotName=s,n.Comments=[],n.State="",n.StateModel="",n.Note="",n.Opacity=1,n.RotateAngle=0}"Stamp"===n.shapeAnnotationType&&(n.isPrint=this.pdfViewer.stampSettings.isPrint);var d=this.pdfViewer.stampSettings.annotationSelectorSettings?this.pdfViewer.stampSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,h=this.pdfViewer.stampSettings.allowedInteractions?this.pdfViewer.stampSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions;if("Image"===n.shapeAnnotationType?(n.Author="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.customStampSettings.author?this.pdfViewer.customStampSettings.author:"Guest",n.Subject=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.customStampSettings.subject?this.pdfViewer.customStampSettings.subject:"":this.pdfViewer.annotationSettings.subject,n.isPrint=this.pdfViewer.customStampSettings.isPrint,this.customStampName=this.customStampName?this.customStampName:this.currentStampAnnotation&&this.currentStampAnnotation.signatureName?this.currentStampAnnotation.signatureName:n.id,r={stampAnnotationType:"image",author:n.author,modifiedDate:n.modifiedDate,subject:n.Subject,note:"",strokeColor:"",fillColor:"",opacity:o,rotateAngle:"0",creationDate:n.currentDate,pageNumber:e,icon:"",stampAnnotationPath:n.data,randomId:n.id,bounds:{left:n.bounds.x,top:n.bounds.y,width:n.bounds.width,height:n.bounds.height},stampFillcolor:"",isDynamicStamp:!1,annotName:n.annotName,comments:[],review:{state:"",stateModel:"",author:n.author,modifiedDate:n.modifiedDate},shapeAnnotationType:"stamp",annotationSelectorSettings:d,annotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),customData:this.pdfViewer.annotationModule.getData("image"),isPrint:n.isPrint,allowedInteractions:h,isCommentLock:!1,isMaskedImage:n.isMaskedImage,customStampName:this.customStampName,template:n?n.template:null,templateSize:n?n.templateSize:0}):r=n.stampAnnotationType?{stampAnnotationType:n.stampAnnotationType,author:n.author,modifiedDate:n.modifiedDate,subject:n.Subject,note:n.Note,strokeColor:n.strokeColor,fillColor:n.fillColor,opacity:n.opacity,stampFillcolor:n.stampFillcolor,rotateAngle:n.rotateAngle,creationDate:n.creationDate,pageNumber:n.pageNumber,icon:n.icon,stampAnnotationPath:n.stampAnnotationPath,randomId:n.randomId,isDynamicStamp:n.isDynamicStamp,dynamicText:n.dynamicText,bounds:{left:n.bounds.left,top:n.bounds.top,width:n.bounds.width,height:n.bounds.height},annotName:n.annotName,comments:n.Comments,review:{state:n.State,stateModel:n.StateModel,author:n.author,modifiedDate:n.ModifiedDate},shapeAnnotationType:"stamp",annotationSelectorSettings:d,annotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings),customData:this.pdfViewer.annotationModule.getData(n.stampAnnotationType),isPrint:n.isPrint,allowedInteractions:h,isCommentLock:n.isCommentLock,isMaskedImage:n.isMaskedImage,customStampName:"",template:n?n.template:null,templateSize:n?n.templateSize:0}:{stampAnnotationType:n.shapeAnnotationType,author:n.author,modifiedDate:n.modifiedDate,subject:n.subject,note:n.notes,strokeColor:n.strokeColor,fillColor:n.fillColor,opacity:n.opacity,stampFillcolor:n.stampFillColor,rotateAngle:n.rotateAngle,creationDate:n.creationDate,pageNumber:n.pageIndex,icon:n.icon,stampAnnotationPath:n.data,randomId:n.id,isDynamicStamp:n.isDynamicStamp,dynamicText:n.dynamicText,shapeAnnotationType:"stamp",bounds:{left:n.bounds.x,top:n.bounds.y,width:n.bounds.width,height:n.bounds.height},annotName:n.annotName,comments:n.Comments,review:{state:n.State,stateModel:n.StateModel,author:n.author,modifiedDate:n.ModifiedDate},annotationSelectorSettings:d,annotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings),customData:this.pdfViewer.annotationModule.getData(n.shapeAnnotationType),isPrint:n.isPrint,allowedInteractions:h,isCommentLock:n.isCommentLock,isMaskedImage:n.isMaskedImage,customStampName:"",template:n?n.template:null,templateSize:n?n.templateSize:0},o){if("Image"!==n.shapeAnnotationType){var A=(0,i.processPathData)(n.data),p=(0,i.splitArrayCollection)(A);r.stampAnnotationPath=p}if(n.creationDate=(new Date).toLocaleDateString(),!t.Browser.isDevice&&n.wrapper&&(r.bounds.width=n.wrapper.actualSize.width,r.bounds.height=n.wrapper.actualSize.height,r.bounds.left=n.wrapper.bounds.x,r.bounds.top=n.wrapper.bounds.y),r.opacity=o,this.pdfViewerBase.stampAdded){this.storeStampInSession(e,r),a=!0;var c={left:r.bounds.left,top:r.bounds.top,width:r.bounds.width,height:r.bounds.height};this.pdfViewerBase.updateDocumentEditedProperty(!0);var g={opacity:r.opacity,author:r.author,modifiedDate:r.modifiedDate};"Image"===n.shapeAnnotationType?(this.pdfViewerBase.stampAdded=!1,this.pdfViewer.fireAnnotationAdd(r.pageNumber,r.annotName,"Image",c,g,null,null,null,null,null,this.customStampName),this.customStampName=null):this.pdfViewer.fireAnnotationAdd(r.pageNumber,r.annotName,"Stamp",c,g),this.pdfViewer.annotation.addAction(e,null,n,"Addition","",n,r)}}a||this.storeStampInSession(e,r)},e.prototype.renderCustomImage=function(e,i,n,o,r,a,s,l,d,h,A,p,c){var g,u,f,m,w=null,y=this.pdfViewer.customStampSettings.left>0&&this.pdfViewer.customStampSettings.top>0,S=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),C=this.pdfViewer.stampSettings.allowedInteractions?this.pdfViewer.stampSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,B=!((0,t.isNullOrUndefined)(h)||!h.template);t.Browser.isDevice&&(this.pdfViewerBase.customStampCount+=1),d?(g=h.AnnotName,u=h.Author,f=h.Subject,m=h.IsCommentLock,S=h.AnnotationSettings?h.AnnotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),C=h.AllowedInteractions?h.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(h),null===u&&(u="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.customStampSettings.author?this.pdfViewer.customStampSettings.author:"Guest"),null===f&&(f=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.customStampSettings.subject?this.pdfViewer.customStampSettings.subject:"":this.pdfViewer.annotationSettings.subject),h.IsLocked&&h.AnnotationSettings?h.AnnotationSettings.isLock=h.IsLocked:S.isLock=h.IsLocked):(g=this.pdfViewer.annotation.createGUID(),u="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.customStampSettings.author?this.pdfViewer.customStampSettings.author:"Guest",f=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.customStampSettings.subject?this.pdfViewer.customStampSettings.subject:"":this.pdfViewer.annotationSettings.subject,m=!1),r||(r=h.ModifiedDate?h.ModifiedDate:(new Date).toLocaleString());var I,b=h?h.annotationAddMode:"UI Drawn Annotation ",v=!0;d?"Imported Annotation"===h.annotationAddMode?v=h.IsPrint:h.AnnotationSettings&&(v=h.AnnotationSettings.isPrint):v=this.pdfViewer.customStampSettings.isPrint,(0,t.isNullOrUndefined)(h)||(0,t.isNullOrUndefined)(h.AnnotationSelectorSettings)?(I=this.pdfViewer.stampSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(I)):I="string"==typeof h.AnnotationSelectorSettings?JSON.parse(h.AnnotationSelectorSettings):h.AnnotationSelectorSettings;var E={id:"stamp"+this.pdfViewerBase.customStampCount,allowedInteractions:C,bounds:{x:e.left,y:e.top,width:e.width,height:e.height},pageIndex:i,data:n.src,modifiedDate:r,shapeAnnotationType:"Image",opacity:s,rotateAngle:a,annotName:g,comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:u},annotationSettings:S,annotationSelectorSettings:I,annotationAddMode:b,signatureName:A,isPrint:v,isCommentLock:m,subject:f,template:B?h.template:null,templateSize:h?h.templateSize:0};if(this.currentStampAnnotation=E,d||y){if(!h){this.isStampAnnotSelected=!1,(h=E).Note="",h.State="",h.StateModel="";var x=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("stamp",i+1);x&&(document.getElementById(x).id=g)}if(w={stampAnnotationType:"image",author:u,allowedInteractions:C,modifiedDate:r,subject:f,note:h.Note,strokeColor:"",fillColor:"",opacity:s,rotateAngle:"0",creationDate:o,pageNumber:i,icon:"",stampAnnotationPath:n.src,randomId:"stamp"+this.pdfViewerBase.customStampCount,bounds:{left:e.left,top:e.top,width:e.width,height:e.height},stampFillcolor:"",isDynamicStamp:!1,annotName:g,comments:this.pdfViewer.annotationModule.getAnnotationComments(h.Comments,h,h.Author),review:{state:h.State,stateModel:h.StateModel,author:u,modifiedDate:r},shapeAnnotationType:"stamp",annotationSelectorSettings:I,annotationSettings:S,customData:this.pdfViewer.annotation.getCustomData(h),isPrint:v,isCommentLock:m,isMaskedImage:h.IsMaskedImage,customStampName:h.CustomStampName,template:B?h.template:null,templateSize:h?h.templateSize:0},this.storeStampInSession(i,w,p,c),E.comments=this.pdfViewer.annotationModule.getAnnotationComments(h.Comments,h,h.Author),E.review={state:h.State,stateModel:h.StateModel,author:u,modifiedDate:r},this.pdfViewer.add(E),this.isAddAnnotationProgramatically){var _={opacity:E.opacity,borderColor:E.strokeColor,borderWidth:E.thickness,author:h.author,subject:h.subject,modifiedDate:h.modifiedDate,fillColor:E.fillColor,fontSize:E.fontSize,width:E.bounds.width,height:E.bounds.height,fontColor:E.fontColor,fontFamily:E.fontFamily,defaultText:E.dynamicText,fontStyle:E.font,textAlignment:E.textAlign};this.customStampName=this.customStampName?this.customStampName:this.currentStampAnnotation.signatureName?this.currentStampAnnotation.signatureName:h.id,this.pdfViewer.fireAnnotationAdd(E.pageIndex,E.annotName,"Image",E.bounds,_,null,null,null,null,null,this.customStampName),this.customStampName=null}(0,t.isNullOrUndefined)(l)&&(l=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+i)),this.pdfViewer.renderDrawing(l,i),this.pdfViewerBase.stampAdded&&this.pdfViewer.annotation.addAction(i,null,E,"Addition","",E,E)}t.Browser.isDevice||(this.pdfViewerBase.customStampCount+=1)},e.prototype.retrieveDynamicStampAnnotation=function(e){var t;if(e){switch(e.trim()){case"Revised":t={iconName:"Revised",pathdata:"M19.68,21.22a3.94,3.94,0,0,1-1.1-1.9L16,11.87l-.21-.64a20.77,20.77,0,0,0,2.11-.58,7.24,7.24,0,0,0,2-1.09,5.65,5.65,0,0,0,1.72-2.12,5.4,5.4,0,0,0,.52-2.2A4.15,4.15,0,0,0,19.1,1.05a14.58,14.58,0,0,0-4.72-.6H5.31v.86a7,7,0,0,1,2,.33c.3.14.45.48.45,1a6.1,6.1,0,0,1-.14,1.08l-.21.8L3.31,19.32a3.35,3.35,0,0,1-.94,1.78,3.58,3.58,0,0,1-1.74.57v.86h9.83v-.86a6.22,6.22,0,0,1-2-.35c-.29-.15-.43-.52-.43-1.11,0-.1,0-.21,0-.31a2.36,2.36,0,0,1,0-.28l.28-1.14,1.95-6.86h.93l3.56,10.91h6.25v-.88A3.05,3.05,0,0,1,19.68,21.22ZM13.29,10.31a14,14,0,0,1-2.63.23l2-7.56a2.67,2.67,0,0,1,.52-1.17,1.4,1.4,0,0,1,1-.3,2.74,2.74,0,0,1,2.33.91,3.72,3.72,0,0,1,.69,2.3,6.4,6.4,0,0,1-.49,2.52,6.72,6.72,0,0,1-1.06,1.82A4.11,4.11,0,0,1,13.29,10.31ZM26,.45H43.74l-1.4,6.27-.88-.15a6,6,0,0,0-.78-3.4c-.84-1.12-2.54-1.69-5.11-1.69a2.9,2.9,0,0,0-1.68.32A2.34,2.34,0,0,0,33.26,3l-1.95,7.33a13.55,13.55,0,0,0,4.48-.56c.68-.32,1.44-1.3,2.27-2.92l.91.11-2.44,9-.91-.16a7.27,7.27,0,0,0,.09-.82q0-.35,0-.57a2.69,2.69,0,0,0-1-2.4A7.57,7.57,0,0,0,31,11.38l-2.17,8c0,.2-.09.38-.12.57a2.62,2.62,0,0,0,0,.43.92.92,0,0,0,.35.74,2.54,2.54,0,0,0,1.49.29,13.84,13.84,0,0,0,5.11-.84A9.85,9.85,0,0,0,40.73,16l.81.14-1.95,6.42h-18v-.9a3.43,3.43,0,0,0,1.42-.53A3.42,3.42,0,0,0,24,19.32L28,4.51c.1-.37.18-.72.25-1a4.23,4.23,0,0,0,.09-.78c0-.56-.15-.91-.44-1.06a6.85,6.85,0,0,0-2-.34ZM63.4,3.37,51,23.15H49.9L47.39,6.34a17.25,17.25,0,0,0-.93-4.24c-.25-.43-.93-.7-2.05-.79V.45h9.86v.86a5.47,5.47,0,0,0-1.72.19,1.14,1.14,0,0,0-.81,1.16,3,3,0,0,0,0,.31l0,.32L53.5,16.43l6.24-9.85c.49-.79.94-1.57,1.33-2.36a4.45,4.45,0,0,0,.6-1.85.88.88,0,0,0-.61-.9,6.11,6.11,0,0,0-1.52-.16V.45h6.34v.86a3.88,3.88,0,0,0-1.16.5A5.73,5.73,0,0,0,63.4,3.37ZM70.08,20c0,.11,0,.22,0,.31,0,.56.15.91.45,1.06a6.39,6.39,0,0,0,1.95.35v.86H62.63v-.86a3.58,3.58,0,0,0,1.74-.57,3.35,3.35,0,0,0,.94-1.78l4-14.81q.18-.63.27-1a3.78,3.78,0,0,0,.09-.75c0-.56-.16-.91-.47-1.06a7,7,0,0,0-2-.34V.45h9.83v.86a3.61,3.61,0,0,0-1.75.58,3.37,3.37,0,0,0-.91,1.78L70.4,18.48l-.26,1.14Zm19.26-7.23a6.37,6.37,0,0,1,1.07,3.62,6.58,6.58,0,0,1-2.06,4.71,7.54,7.54,0,0,1-5.65,2.1A10.15,10.15,0,0,1,80.89,23a11.42,11.42,0,0,1-1.8-.49l-.83-.3-.58-.2a2,2,0,0,0-.38,0,1,1,0,0,0-.78.26,3.89,3.89,0,0,0-.52.92H75l1.19-7.4,1,.07a14.63,14.63,0,0,0,.28,2.3,5.27,5.27,0,0,0,2.79,3.44,4.73,4.73,0,0,0,2.06.44,3.85,3.85,0,0,0,3.07-1.26,4.39,4.39,0,0,0,1.09-2.94q0-2.09-4.05-5.25c-2.7-2.22-4-4.26-4-6.14a6.31,6.31,0,0,1,1.78-4.53,6.51,6.51,0,0,1,5-1.87,9.67,9.67,0,0,1,1.82.18A6.54,6.54,0,0,1,88,.45l.84.28.56.13a2.59,2.59,0,0,0,.52.06,1.4,1.4,0,0,0,.88-.24,2.2,2.2,0,0,0,.53-.6h1L91,6.69l-.85-.12L90,5.49a6,6,0,0,0-1-2.62,3.82,3.82,0,0,0-3.38-1.73A3,3,0,0,0,82.9,2.53a3.6,3.6,0,0,0-.58,2,3.44,3.44,0,0,0,.59,2,6,6,0,0,0,1,1l2.85,2.33A12.75,12.75,0,0,1,89.34,12.72ZM110.27,16l.81.14-2,6.42H90.85v-.86a3.66,3.66,0,0,0,1.74-.57,3.42,3.42,0,0,0,.93-1.78l4-14.81c.1-.37.18-.72.25-1a4.23,4.23,0,0,0,.09-.78c0-.56-.14-.91-.44-1.06a6.85,6.85,0,0,0-2-.34V.45h17.77l-1.4,6.27L111,6.57a6,6,0,0,0-.78-3.4c-.84-1.12-2.54-1.69-5.1-1.69a2.92,2.92,0,0,0-1.69.32A2.34,2.34,0,0,0,102.8,3l-2,7.33a13.55,13.55,0,0,0,4.48-.56c.69-.32,1.44-1.3,2.27-2.92l.92.11-2.45,9-.91-.16a7.27,7.27,0,0,0,.09-.82q0-.35,0-.57a2.69,2.69,0,0,0-1-2.4,7.57,7.57,0,0,0-3.79-.64l-2.17,8c0,.2-.09.38-.12.57a2.62,2.62,0,0,0,0,.43.92.92,0,0,0,.35.74,2.54,2.54,0,0,0,1.49.29,13.84,13.84,0,0,0,5.11-.84A9.81,9.81,0,0,0,110.27,16Zm22.65-13Q130.39.45,125.52.45h-9.58v.86a7,7,0,0,1,2,.34c.31.15.47.5.47,1.06a3.61,3.61,0,0,1-.09.74c-.06.29-.15.64-.26,1.06L114,19.31a3.18,3.18,0,0,1-1.15,1.91,3.57,3.57,0,0,1-1.53.45v.86h9.47a14.87,14.87,0,0,0,10.95-4.14,12,12,0,0,0,3.75-8.77A8.94,8.94,0,0,0,132.92,2.94ZM129,15.36q-2.62,6.06-8.52,6.05a2.46,2.46,0,0,1-1.42-.29,1.05,1.05,0,0,1-.4-.93,2.24,2.24,0,0,1,0-.34,2.65,2.65,0,0,1,.08-.43l4.55-16.67a2,2,0,0,1,.54-.92,2.2,2.2,0,0,1,1.44-.35,4.74,4.74,0,0,1,4.47,2.22,7.9,7.9,0,0,1,.83,3.9A19.32,19.32,0,0,1,129,15.36Z",opacity:1,strokeColor:"",fillColor:"#192760",width:127.47,height:55.84601,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Reviewed":t={iconName:"Reviewed",pathdata:"M17.37,18.25a3.47,3.47,0,0,1-1-1.67L14.17,10c0-.07-.1-.26-.19-.56A14.71,14.71,0,0,0,15.83,9a6.08,6.08,0,0,0,1.76-1A4.92,4.92,0,0,0,19.1,6.14a4.71,4.71,0,0,0,.46-1.93A3.65,3.65,0,0,0,16.86.52,12.83,12.83,0,0,0,12.72,0h-8V.75a6.62,6.62,0,0,1,1.72.3c.26.12.39.41.39.88a4.56,4.56,0,0,1-.13.94c0,.2-.1.44-.17.7L3,16.58a2.87,2.87,0,0,1-.82,1.56,3.15,3.15,0,0,1-1.53.51v.75H9.27v-.75a5.88,5.88,0,0,1-1.74-.31c-.25-.13-.37-.46-.37-1a2.53,2.53,0,0,1,0-.28,1.44,1.44,0,0,1,0-.24l.24-1,1.71-6H10l3.13,9.59h5.49v-.77A2.71,2.71,0,0,1,17.37,18.25ZM11.75,8.67a12.06,12.06,0,0,1-2.3.19L11.2,2.22a2.2,2.2,0,0,1,.46-1,1.19,1.19,0,0,1,.87-.27,2.41,2.41,0,0,1,2.05.8,3.29,3.29,0,0,1,.6,2A5.63,5.63,0,0,1,14.75,6a6.06,6.06,0,0,1-.93,1.59A3.65,3.65,0,0,1,11.75,8.67ZM22.9,0H38.52L37.29,5.51l-.78-.13a5.34,5.34,0,0,0-.68-3c-.74-1-2.24-1.48-4.49-1.48a2.68,2.68,0,0,0-1.49.27,2.09,2.09,0,0,0-.54,1L27.59,8.67a12.08,12.08,0,0,0,3.94-.5,5.69,5.69,0,0,0,2-2.56l.81.1-2.16,7.93-.79-.15c0-.27.06-.51.08-.71s0-.37,0-.5a2.34,2.34,0,0,0-.85-2.11A6.61,6.61,0,0,0,27.3,9.6l-1.91,7.08a4.91,4.91,0,0,0-.1.5,2,2,0,0,0,0,.38.83.83,0,0,0,.31.65,2.29,2.29,0,0,0,1.31.25,12.21,12.21,0,0,0,4.49-.73,8.69,8.69,0,0,0,4.51-4.09l.71.12L34.86,19.4H19.05v-.79a2.88,2.88,0,0,0,1.28-.47,2.94,2.94,0,0,0,.82-1.56l3.56-13q.13-.49.21-.9A3.26,3.26,0,0,0,25,2q0-.73-.39-.93A6.44,6.44,0,0,0,22.9.75ZM55.79,2.57,44.86,20h-.93L41.72,5.17a16.05,16.05,0,0,0-.81-3.73c-.22-.37-.82-.6-1.81-.69V0h8.67V.75a5,5,0,0,0-1.52.17,1,1,0,0,0-.7,1,2.53,2.53,0,0,0,0,.28l0,.27L47.09,14l5.48-8.66C53,4.69,53.4,4,53.75,3.32a4,4,0,0,0,.52-1.63.78.78,0,0,0-.54-.8A5.88,5.88,0,0,0,52.4.75V0H58V.75a3.55,3.55,0,0,0-1,.44A5.18,5.18,0,0,0,55.79,2.57ZM62,18.34a6,6,0,0,0,1.71.31v.75H55.12v-.75a3.15,3.15,0,0,0,1.53-.51,2.94,2.94,0,0,0,.82-1.56L61,3.57c.1-.37.18-.68.23-.93A2.81,2.81,0,0,0,61.34,2c0-.49-.13-.8-.41-.93a6.61,6.61,0,0,0-1.71-.3V0h8.63V.75a3.17,3.17,0,0,0-1.53.51,3,3,0,0,0-.8,1.57l-3.58,13-.22,1a2.74,2.74,0,0,0,0,.28,1.41,1.41,0,0,0,0,.28C61.64,17.9,61.78,18.21,62,18.34ZM69.13,0H84.75L83.52,5.51l-.78-.13a5.34,5.34,0,0,0-.68-3c-.74-1-2.24-1.48-4.49-1.48a2.68,2.68,0,0,0-1.49.27,2.09,2.09,0,0,0-.54,1L73.82,8.67a12.08,12.08,0,0,0,3.94-.5,5.69,5.69,0,0,0,2-2.56l.81.1L78.4,13.64l-.79-.15c0-.27.07-.51.08-.71s0-.37,0-.5a2.34,2.34,0,0,0-.85-2.11,6.61,6.61,0,0,0-3.33-.57l-1.91,7.08a4.91,4.91,0,0,0-.1.5,2,2,0,0,0,0,.38.83.83,0,0,0,.31.65,2.29,2.29,0,0,0,1.31.25,12.21,12.21,0,0,0,4.49-.73,8.69,8.69,0,0,0,4.51-4.09l.71.12L81.1,19.4H65v-.75a3.15,3.15,0,0,0,1.53-.51,2.94,2.94,0,0,0,.82-1.56l3.56-13q.14-.49.21-.9A3.26,3.26,0,0,0,71.24,2q0-.73-.39-.93a6.44,6.44,0,0,0-1.72-.3Zm39.15,2.83L100,20h-.84L97.41,5.85,90.67,20h-.84L87.58,3.13A3.83,3.83,0,0,0,87,1.23,2.84,2.84,0,0,0,85.33.71V0h8.06V.75A2.55,2.55,0,0,0,92.27,1a1.33,1.33,0,0,0-.66,1.31c0,.06,0,.13,0,.19s0,.15,0,.26l1.15,10.16,4.32-9a1,1,0,0,0,0-.27,3.33,3.33,0,0,0-.64-2.38A2.5,2.5,0,0,0,95.06.71V0h7.78V.71a2.9,2.9,0,0,0-1.4.34c-.27.19-.41.6-.41,1.24,0,.13,0,.32,0,.55,0,.4.08.88.14,1.47l1,8.47,4.51-9.42a7.12,7.12,0,0,0,.29-.74,2.48,2.48,0,0,0,.14-.79.9.9,0,0,0-.48-.93,3.25,3.25,0,0,0-1.34-.19V0h5.41V.71a2.34,2.34,0,0,0-1.1.35A4.56,4.56,0,0,0,108.28,2.83Zm16.45,10.81.71.12-1.71,5.64H107.66v-.75a3.15,3.15,0,0,0,1.53-.51,2.87,2.87,0,0,0,.82-1.56l3.57-13q.12-.49.21-.9a3.17,3.17,0,0,0,.08-.69q0-.73-.39-.93a6.44,6.44,0,0,0-1.72-.3V0h15.62l-1.23,5.51-.78-.13a5.26,5.26,0,0,0-.68-3C124,1.4,122.46.91,120.2.91a2.64,2.64,0,0,0-1.48.27,2.09,2.09,0,0,0-.55,1l-1.72,6.45a12,12,0,0,0,3.94-.5,5.62,5.62,0,0,0,2-2.56l.81.1L121,13.64l-.79-.15c0-.27.06-.51.07-.71s0-.37,0-.5a2.34,2.34,0,0,0-.86-2.11,6.57,6.57,0,0,0-3.32-.57l-1.91,7.08a5,5,0,0,0-.11.5,3.14,3.14,0,0,0,0,.38.8.8,0,0,0,.31.65,2.25,2.25,0,0,0,1.3.25,12.26,12.26,0,0,0,4.5-.73A8.67,8.67,0,0,0,124.73,13.64ZM144.64,2.19Q142.41,0,138.14,0h-8.42V.75a6.61,6.61,0,0,1,1.71.3c.28.13.41.44.41.93a2.81,2.81,0,0,1-.08.66c0,.25-.12.56-.23.93l-3.56,13a2.78,2.78,0,0,1-1,1.68,3.44,3.44,0,0,1-1.35.4v.75h8.32a13.06,13.06,0,0,0,9.63-3.64,10.49,10.49,0,0,0,3.3-7.7A7.87,7.87,0,0,0,144.64,2.19ZM141.2,13.1q-2.31,5.32-7.48,5.32a2.27,2.27,0,0,1-1.26-.25,1,1,0,0,1-.34-.82,1.62,1.62,0,0,1,0-.3,2.16,2.16,0,0,1,.08-.38l4-14.65a1.63,1.63,0,0,1,.47-.81A2,2,0,0,1,138,.91a4.16,4.16,0,0,1,3.93,1.95,7,7,0,0,1,.72,3.42A16.82,16.82,0,0,1,141.2,13.1Z",opacity:1,strokeColor:"",fillColor:"#192760",width:127.70402,height:55.84601,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Received":t={iconName:"Received",pathdata:"M18.17,8.76a5,5,0,0,0,1.57-1.93,5,5,0,0,0,.47-2A3.76,3.76,0,0,0,17.42,1,13,13,0,0,0,13.13.48H4.89v.78a6.49,6.49,0,0,1,1.77.31c.27.12.41.43.41.91a5.87,5.87,0,0,1-.13,1c-.05.2-.12.44-.19.72L3.06,17.64a3,3,0,0,1-.84,1.61,3.36,3.36,0,0,1-1.59.53v.77H9.57v-.77a6.17,6.17,0,0,1-1.8-.32c-.26-.14-.39-.48-.39-1a2.46,2.46,0,0,1,0-.28,1.78,1.78,0,0,1,0-.26l.25-1,1.78-6.25h.84l3.24,9.92h5.66v-.8A2.76,2.76,0,0,1,18,19.36a3.57,3.57,0,0,1-1-1.72l-2.31-6.78c0-.07-.09-.27-.19-.58.87-.2,1.51-.38,1.92-.52A6.56,6.56,0,0,0,18.17,8.76Zm-2.93-2.1a6.19,6.19,0,0,1-1,1.65,3.85,3.85,0,0,1-2.14,1.14,12.92,12.92,0,0,1-2.39.2l1.81-6.87A2.5,2.5,0,0,1,12,1.72a1.27,1.27,0,0,1,.9-.27,2.5,2.5,0,0,1,2.12.83,3.35,3.35,0,0,1,.62,2.09A5.81,5.81,0,0,1,15.24,6.66ZM30.3,2.78,28.52,9.45a12.53,12.53,0,0,0,4.08-.51,5.91,5.91,0,0,0,2-2.66l.84.11-2.23,8.2-.82-.15c0-.28.07-.53.08-.74a5.17,5.17,0,0,0,0-.52A2.43,2.43,0,0,0,31.66,11a6.87,6.87,0,0,0-3.44-.58l-2,7.32a3.61,3.61,0,0,0-.11.51,2.31,2.31,0,0,0,0,.4.83.83,0,0,0,.32.67,2.32,2.32,0,0,0,1.35.26,12.58,12.58,0,0,0,4.65-.76,9,9,0,0,0,4.67-4.23l.73.13-1.77,5.83H19.8v-.83A2.83,2.83,0,0,0,21,19.25a3.09,3.09,0,0,0,.85-1.61L25.54,4.17c.09-.34.16-.65.22-.93a3.35,3.35,0,0,0,.09-.71c0-.5-.13-.82-.4-1a6.34,6.34,0,0,0-1.78-.31V.48H39.82l-1.27,5.7-.81-.13A5.44,5.44,0,0,0,37,3Q35.9,1.42,32.4,1.42a2.69,2.69,0,0,0-1.54.29A2.08,2.08,0,0,0,30.3,2.78ZM56.56,6.1c0-.07,0-.18,0-.33a4.89,4.89,0,0,0-1.12-3.53,3.75,3.75,0,0,0-2.82-1.16c-2.33,0-4.35,1.55-6.07,4.63a17.09,17.09,0,0,0-2.31,8.43c0,2.08.47,3.5,1.43,4.27a4.89,4.89,0,0,0,3.11,1.15,6.84,6.84,0,0,0,4.14-1.45A11.51,11.51,0,0,0,55,16l.91.66A10.08,10.08,0,0,1,52.26,20a9.33,9.33,0,0,1-4.34,1.11A8.56,8.56,0,0,1,42,19a7.25,7.25,0,0,1-2.35-5.67A13.53,13.53,0,0,1,43.22,4a11.19,11.19,0,0,1,8.56-4A12.34,12.34,0,0,1,55,.44,13.17,13.17,0,0,0,56.9.88a1,1,0,0,0,.71-.24A2.94,2.94,0,0,0,58.06,0H59L57.45,7l-.94-.18C56.54,6.42,56.55,6.17,56.56,6.1Zm18,8.49.74.13-1.78,5.83H56.87v-.77a3.31,3.31,0,0,0,1.58-.53,3.09,3.09,0,0,0,.85-1.61L63,4.17c.09-.34.16-.65.22-.93a3.35,3.35,0,0,0,.09-.71c0-.5-.14-.82-.4-1a6.34,6.34,0,0,0-1.78-.31V.48H77.26L76,6.18l-.81-.13A5.44,5.44,0,0,0,74.48,3q-1.14-1.54-4.64-1.54a2.69,2.69,0,0,0-1.54.29,2.08,2.08,0,0,0-.56,1.07L66,9.45A12.53,12.53,0,0,0,70,8.94a5.91,5.91,0,0,0,2-2.66l.84.11-2.23,8.2-.82-.15c0-.28.07-.53.08-.74a5.17,5.17,0,0,0,0-.52A2.43,2.43,0,0,0,69.1,11a6.87,6.87,0,0,0-3.44-.58l-2,7.32a3.61,3.61,0,0,0-.11.51,2.31,2.31,0,0,0,0,.4.83.83,0,0,0,.32.67,2.32,2.32,0,0,0,1.35.26,12.58,12.58,0,0,0,4.65-.76A8.91,8.91,0,0,0,74.52,14.59Zm31-11.45-11.31,18h-1L91,5.83A16.56,16.56,0,0,0,90.12,2c-.2-.34-.71-.56-1.51-.67a3,3,0,0,0-1.31.48,3.08,3.08,0,0,0-.82,1.62l-3.7,13.47-.24,1c0,.1,0,.2-.05.3s0,.2,0,.28c0,.51.14.83.41,1a6.21,6.21,0,0,0,1.77.32v.77H75.72v-.77a3.31,3.31,0,0,0,1.58-.53,3.09,3.09,0,0,0,.85-1.61L81.83,4.17c.11-.38.19-.7.25-.95a3.75,3.75,0,0,0,.08-.69c0-.5-.15-.82-.43-1A6.49,6.49,0,0,0,80,1.26V.48H97.22v.78a4.92,4.92,0,0,0-1.57.18,1,1,0,0,0-.73,1.05,2.81,2.81,0,0,0,0,.29l0,.28,1.56,12,5.67-9a24.21,24.21,0,0,0,1.21-2.14,4.07,4.07,0,0,0,.54-1.68.79.79,0,0,0-.55-.82A5.69,5.69,0,0,0,102,1.26V.48h5.76v.78a3.5,3.5,0,0,0-1,.46A5.16,5.16,0,0,0,105.52,3.14Zm16.83,11.45.73.13-1.77,5.83H104.69v-.77a3.31,3.31,0,0,0,1.58-.53,3,3,0,0,0,.85-1.61l3.69-13.47c.08-.34.16-.65.22-.93a4,4,0,0,0,.08-.71c0-.5-.13-.82-.4-1a6.34,6.34,0,0,0-1.78-.31V.48h16.16l-1.28,5.7-.8-.13A5.43,5.43,0,0,0,122.3,3q-1.14-1.54-4.64-1.54a2.67,2.67,0,0,0-1.53.29,2.16,2.16,0,0,0-.57,1.07l-1.78,6.67a12.53,12.53,0,0,0,4.08-.51,5.91,5.91,0,0,0,2.06-2.66l.83.11-2.22,8.2-.82-.15c0-.28.06-.53.08-.74s0-.38,0-.52a2.45,2.45,0,0,0-.88-2.18,6.9,6.9,0,0,0-3.44-.58l-2,7.32c-.05.18-.08.35-.11.51a3.58,3.58,0,0,0,0,.4.81.81,0,0,0,.32.67,2.28,2.28,0,0,0,1.35.26,12.62,12.62,0,0,0,4.65-.76A9,9,0,0,0,122.35,14.59ZM142.94,2.75Q140.63.48,136.21.48h-8.7v.78a6.66,6.66,0,0,1,1.77.31q.42.21.42,1a2.91,2.91,0,0,1-.08.68q-.08.39-.24,1L125.7,17.62a2.93,2.93,0,0,1-1,1.75,3.54,3.54,0,0,1-1.39.41v.77h8.61a13.5,13.5,0,0,0,10-3.76,10.84,10.84,0,0,0,3.41-8A8.14,8.14,0,0,0,142.94,2.75ZM139.38,14q-2.38,5.51-7.74,5.5a2.35,2.35,0,0,1-1.29-.26,1,1,0,0,1-.36-.85,1.78,1.78,0,0,1,0-.31,2.08,2.08,0,0,1,.08-.39l4.13-15.15a1.76,1.76,0,0,1,.49-.84A2,2,0,0,1,136,1.42a4.32,4.32,0,0,1,4.07,2A7.17,7.17,0,0,1,140.83,7,17.49,17.49,0,0,1,139.38,14Z",opacity:1,strokeColor:"",fillColor:"#192760",width:127.70402,height:55.84601,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Approved":t={iconName:"Approved",pathdata:"M19,20.22H10.55v-.71a4.26,4.26,0,0,0,1.79-.41,1.37,1.37,0,0,0,.53-1.29c0-.22,0-.75-.16-1.58,0-.17-.11-.89-.29-2.15H6.06l-1.72,3a4,4,0,0,0-.31.66,2,2,0,0,0-.14.69c0,.41.12.67.37.78a5.42,5.42,0,0,0,1.53.3v.71H0v-.71A4,4,0,0,0,1.21,19a5.68,5.68,0,0,0,1.28-1.56L13.45.07h.76L17,17a4.35,4.35,0,0,0,.7,2.08,2.4,2.4,0,0,0,1.31.44Zm-6.83-7.31L11.13,5.73,6.76,12.91Zm7.18,6.52a3,3,0,0,0,1.33-.49,3,3,0,0,0,.84-1.59L25.19,4.11c.07-.3.14-.6.2-.9a3.14,3.14,0,0,0,.1-.72,1,1,0,0,0-.58-1,5.68,5.68,0,0,0-1.57-.23V.48h8.47a9.68,9.68,0,0,1,3.57.57,4,4,0,0,1,2.71,4,4.93,4.93,0,0,1-2.2,4.22,9.53,9.53,0,0,1-5.69,1.58l-.85,0-1.71-.11L26,16.6l-.25,1a1,1,0,0,0-.05.3,2.83,2.83,0,0,0,0,.29c0,.5.14.81.4.94a6.31,6.31,0,0,0,1.76.31v.76H19.39Zm8.52-9.66.54.06h.48a5.81,5.81,0,0,0,2.3-.36,3.47,3.47,0,0,0,1.4-1.18,6.24,6.24,0,0,0,.86-2,8.94,8.94,0,0,0,.3-2,3.29,3.29,0,0,0-.58-2,2.3,2.3,0,0,0-2-.79,1.23,1.23,0,0,0-.93.28,2.71,2.71,0,0,0-.46,1Zm8,9.69a3.19,3.19,0,0,0,1.55-.52,3,3,0,0,0,.84-1.59L42,4.11c.07-.3.14-.6.2-.9a3.14,3.14,0,0,0,.1-.72,1,1,0,0,0-.58-1,5.68,5.68,0,0,0-1.57-.23V.48h8.47a9.68,9.68,0,0,1,3.57.57,4,4,0,0,1,2.71,4,4.93,4.93,0,0,1-2.2,4.22A9.53,9.53,0,0,1,47,10.87l-.85,0-1.71-.11L42.79,16.6l-.25,1a1.45,1.45,0,0,0,0,.3,2.83,2.83,0,0,0,0,.29c0,.5.14.81.4.94a6.31,6.31,0,0,0,1.76.31v.76h-8.7Zm8.74-9.69.54.06h.48A5.81,5.81,0,0,0,48,9.48a3.41,3.41,0,0,0,1.4-1.18,6.24,6.24,0,0,0,.86-2,9,9,0,0,0,.31-2,3.29,3.29,0,0,0-.59-2,2.3,2.3,0,0,0-2-.79,1.23,1.23,0,0,0-.93.28,2.88,2.88,0,0,0-.46,1Zm7.95,9.69a3.27,3.27,0,0,0,1.56-.52A3.06,3.06,0,0,0,55,17.35L58.64,4.11l.18-.71a4.72,4.72,0,0,0,.13-1c0-.47-.13-.77-.4-.9a6.74,6.74,0,0,0-1.74-.3V.48h8.11A13,13,0,0,1,69.14,1a3.7,3.7,0,0,1,2.74,3.75,4.8,4.8,0,0,1-.46,2,5,5,0,0,1-1.54,1.9,6.55,6.55,0,0,1-1.79,1,19.35,19.35,0,0,1-1.89.52c.1.3.16.49.2.57l2.27,6.66a3.49,3.49,0,0,0,1,1.7,3.08,3.08,0,0,0,1.6.41v.76H65.33l-3.19-9.76h-.83L59.57,16.6l-.25,1a1.87,1.87,0,0,0,0,.25,2.64,2.64,0,0,0,0,.28q0,.8.39,1a5.88,5.88,0,0,0,1.76.32v.76H52.62ZM63.94,9.3a3.79,3.79,0,0,0,2.11-1.13A6,6,0,0,0,67,6.55a5.84,5.84,0,0,0,.44-2.26,3.31,3.31,0,0,0-.61-2,2.47,2.47,0,0,0-2.09-.81,1.25,1.25,0,0,0-.88.26,2.34,2.34,0,0,0-.47,1.05L61.59,9.5A13.42,13.42,0,0,0,63.94,9.3ZM76.39,4.53Q80.26,0,85,0a7.34,7.34,0,0,1,5.23,1.92,6.76,6.76,0,0,1,2,5.19,13.9,13.9,0,0,1-3.62,9.07q-3.86,4.61-8.88,4.6a7.06,7.06,0,0,1-5.13-1.92,6.86,6.86,0,0,1-2-5.14A14,14,0,0,1,76.39,4.53ZM77.3,18a2.56,2.56,0,0,0,2.57,1.78A4.62,4.62,0,0,0,83,18.47,14.42,14.42,0,0,0,86,13.54a27.18,27.18,0,0,0,1.52-4.83,20.67,20.67,0,0,0,.54-4.11,4.38,4.38,0,0,0-.73-2.55A2.62,2.62,0,0,0,85,1q-3.68,0-6.19,6.54a24.29,24.29,0,0,0-1.9,8.26A5.91,5.91,0,0,0,77.3,18ZM102.23.48v.76a5.19,5.19,0,0,0-1.55.17,1,1,0,0,0-.72,1,2.46,2.46,0,0,0,0,.28L100,3l1.52,11.76L107.11,6c.44-.71.84-1.41,1.2-2.11a4.06,4.06,0,0,0,.53-1.66.79.79,0,0,0-.55-.81,6.11,6.11,0,0,0-1.35-.14V.48h5.67v.76a3.31,3.31,0,0,0-1,.45,5.33,5.33,0,0,0-1.18,1.4L99.26,20.78h-.94l-2.25-15A15.49,15.49,0,0,0,95.24,2c-.22-.39-.84-.62-1.83-.71V.48Zm7.35,19a3.19,3.19,0,0,0,1.55-.52,3,3,0,0,0,.84-1.59l3.62-13.24c.09-.34.16-.64.22-.92a3.27,3.27,0,0,0,.09-.7c0-.5-.14-.81-.4-.94a6.13,6.13,0,0,0-1.75-.31V.48h15.89l-1.25,5.6L127.6,6a5.32,5.32,0,0,0-.7-3q-1.12-1.52-4.56-1.51a2.61,2.61,0,0,0-1.51.28,2.12,2.12,0,0,0-.56,1.06L118.52,9.3a12.1,12.1,0,0,0,4-.51,5.8,5.8,0,0,0,2-2.61l.82.1-2.19,8.07-.81-.14c0-.28.07-.52.08-.73s0-.37,0-.51a2.4,2.4,0,0,0-.87-2.15,6.76,6.76,0,0,0-3.38-.57l-1.94,7.2a3.34,3.34,0,0,0-.11.51,3.67,3.67,0,0,0,0,.39.81.81,0,0,0,.32.66,2.3,2.3,0,0,0,1.33.26,12.39,12.39,0,0,0,4.57-.75A8.84,8.84,0,0,0,127,14.35l.72.13-1.74,5.74H109.58Zm18.27,0a3.27,3.27,0,0,0,1.37-.41,2.85,2.85,0,0,0,1-1.71l3.63-13.23c.1-.38.18-.69.23-1a3,3,0,0,0,.09-.67c0-.5-.15-.81-.42-.94A6.38,6.38,0,0,0,132,1.24V.48h8.57c2.9,0,5.1.74,6.62,2.22a8,8,0,0,1,2.26,6,10.72,10.72,0,0,1-3.35,7.84,13.3,13.3,0,0,1-9.8,3.7h-8.47ZM144.4,3.39a4.23,4.23,0,0,0-4-2,2,2,0,0,0-1.29.31,1.74,1.74,0,0,0-.48.83l-4.07,14.9a3.24,3.24,0,0,0-.07.39,1.69,1.69,0,0,0,0,.3,1,1,0,0,0,.36.84,2.27,2.27,0,0,0,1.27.26q5.26,0,7.62-5.42a17.25,17.25,0,0,0,1.43-6.94A7,7,0,0,0,144.4,3.39Z",opacity:1,strokeColor:"",fillColor:"#516c30",width:127.70402,height:55.84601,stampFillColor:"#e6eddf",stampStrokeColor:""};break;case"Confidential":t={iconName:"Confidential",pathdata:"M13.71,0,12.63,6.9,12,6.73c0-.41,0-.66,0-.73s0-.18,0-.32a6.16,6.16,0,0,0-.79-3.47,2.37,2.37,0,0,0-2-1.14c-1.64,0-3.07,1.51-4.29,4.55a22,22,0,0,0-1.64,8.29c0,2,.34,3.44,1,4.2A3,3,0,0,0,6.5,19.24a4.08,4.08,0,0,0,2.93-1.43,10.47,10.47,0,0,0,1.5-2.09l.64.65A8.84,8.84,0,0,1,9,19.72a5.24,5.24,0,0,1-3.08,1.09,5.16,5.16,0,0,1-4.21-2.08A8.68,8.68,0,0,1,0,13.16,16.5,16.5,0,0,1,2.55,3.92Q5.1,0,8.61,0a6.35,6.35,0,0,1,2.25.43,6.62,6.62,0,0,0,1.38.43.55.55,0,0,0,.5-.23A2.61,2.61,0,0,0,13.06,0ZM27.49,7.11a17.19,17.19,0,0,1-2.61,9.07q-2.77,4.61-6.39,4.6a4.42,4.42,0,0,1-3.7-1.92,8.47,8.47,0,0,1-1.43-5.14A17.31,17.31,0,0,1,16,4.53C17.88,1.51,20,0,22.25,0A4.53,4.53,0,0,1,26,1.92,8.27,8.27,0,0,1,27.49,7.11ZM24.42,4.6a5.71,5.71,0,0,0-.53-2.55A1.76,1.76,0,0,0,22.24,1q-2.65,0-4.45,6.54a31.93,31.93,0,0,0-1.37,8.26A8.15,8.15,0,0,0,16.67,18c.34,1.19,1,1.78,1.85,1.78a2.9,2.9,0,0,0,2.28-1.29,15.85,15.85,0,0,0,2.13-4.93A34.08,34.08,0,0,0,24,8.71,28.5,28.5,0,0,0,24.42,4.6ZM42.75,1.3l.3-.06V.48H38.69v.76a2.55,2.55,0,0,1,1.16.33,1.8,1.8,0,0,1,.51,1.48,10.11,10.11,0,0,1-.13,1.34c-.06.41-.14.87-.24,1.39l-1.65,8.34L33.73.48H29.45v.76a2.66,2.66,0,0,1,1,.24,1.88,1.88,0,0,1,.65,1.06l.09.3L28.81,15a20.72,20.72,0,0,1-1,3.61,1.61,1.61,0,0,1-1.19.9v.76h4.42v-.76a2.55,2.55,0,0,1-1.13-.32,1.67,1.67,0,0,1-.56-1.44,7.13,7.13,0,0,1,.05-.79c.06-.43.17-1.09.34-2L31.89,4.38l5.52,16.33h.52l3-15a22.58,22.58,0,0,1,.87-3.42A1.42,1.42,0,0,1,42.75,1.3ZM55.53.48H44.23v.76a3.63,3.63,0,0,1,1.26.3c.19.13.29.42.29.9a7.08,7.08,0,0,1-.09,1c0,.2-.08.44-.13.71L43,17.34a3.47,3.47,0,0,1-.59,1.58,1.91,1.91,0,0,1-1.13.54v.76h6.29v-.76a2.13,2.13,0,0,1-1-.19A1.23,1.23,0,0,1,46,18.1c0-.1,0-.21,0-.31s0-.23.05-.35l1.4-7.21a3.15,3.15,0,0,1,2.37.64A3.21,3.21,0,0,1,50.38,13c0,.11,0,.28,0,.49s0,.46-.06.75l.58.14,1.58-8.07-.59-.1a5.79,5.79,0,0,1-1.43,2.59,6.17,6.17,0,0,1-2.77.52l1.26-6.54a2.06,2.06,0,0,1,.42-1.08,1.39,1.39,0,0,1,1-.26c1.62,0,2.7.51,3.24,1.54a7.11,7.11,0,0,1,.49,3l.57.13Zm3.69,17.71c0-.08,0-.17,0-.27s0-.2,0-.3l.17-1L62.06,3.36a3.44,3.44,0,0,1,.59-1.6,2,2,0,0,1,1.12-.52V.48H57.44v.76a3.47,3.47,0,0,1,1.26.31c.2.13.3.44.3.94a4.25,4.25,0,0,1-.06.67c0,.26-.09.57-.17,1L56.16,17.35a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.12.52v.76h6.33v-.76a3.3,3.3,0,0,1-1.26-.32C59.32,19,59.22,18.69,59.22,18.19Zm18-9.51a13,13,0,0,1-2.42,7.84,8.31,8.31,0,0,1-7,3.7H61.6v-.76a2,2,0,0,0,1-.41,3.14,3.14,0,0,0,.73-1.71L65.93,4.11c.08-.38.13-.69.17-1a4.36,4.36,0,0,0,.06-.67c0-.5-.1-.81-.3-.94a3.47,3.47,0,0,0-1.26-.31V.48h6.17A5.52,5.52,0,0,1,75.53,2.7,9.91,9.91,0,0,1,77.17,8.68ZM74,6.87a9.22,9.22,0,0,0-.53-3.48,2.91,2.91,0,0,0-2.87-2,1.12,1.12,0,0,0-.93.31,1.81,1.81,0,0,0-.35.83l-2.93,14.9a3,3,0,0,0-.05.39c0,.11,0,.21,0,.3a1.17,1.17,0,0,0,.25.84,1.3,1.3,0,0,0,.92.26q3.8,0,5.49-5.42A23.26,23.26,0,0,0,74,6.87Zm11.3,11.65a6.72,6.72,0,0,1-3.29.75,1.3,1.3,0,0,1-1-.26,1,1,0,0,1-.23-.66,3.28,3.28,0,0,1,0-.39,4.88,4.88,0,0,1,.08-.51l1.4-7.2a3.73,3.73,0,0,1,2.43.57A2.87,2.87,0,0,1,85.43,13c0,.14,0,.31,0,.51s0,.45-.06.73l.59.14,1.57-8.07-.59-.1a5.79,5.79,0,0,1-1.46,2.61,6.5,6.5,0,0,1-2.89.51l1.26-6.56a2.41,2.41,0,0,1,.41-1.06c.16-.19.52-.28,1.08-.28,1.65,0,2.75.5,3.29,1.51a7,7,0,0,1,.5,3l.57.13.9-5.6H79.14v.76a3.35,3.35,0,0,1,1.26.31c.19.13.29.44.29.94a5,5,0,0,1-.07.7c0,.28-.09.58-.15.92L77.86,17.35a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.13.52v.76H87.91l1.25-5.74-.52-.13A7.69,7.69,0,0,1,85.34,18.52ZM105.8,1.24V.48h-4.37v.76a2.55,2.55,0,0,1,1.16.33,1.77,1.77,0,0,1,.52,1.48A10.58,10.58,0,0,1,103,4.39c-.06.41-.13.87-.23,1.39l-1.66,8.34L96.47.48H92.19v.76a2.61,2.61,0,0,1,1,.24,1.83,1.83,0,0,1,.65,1.06l.1.3L91.55,15a19,19,0,0,1-1,3.61,1.61,1.61,0,0,1-1.19.9v.76h4.42v-.76a2.59,2.59,0,0,1-1.13-.32,1.67,1.67,0,0,1-.56-1.44,7.13,7.13,0,0,1,0-.79c.06-.43.17-1.09.35-2L94.63,4.38l5.52,16.33h.53l2.95-15a22.93,22.93,0,0,1,.86-3.42,1.42,1.42,0,0,1,1-1Zm11.4,4.9L118,.48H106.28l-.82,5,.55.2a8,8,0,0,1,1.87-3.16,3.7,3.7,0,0,1,2.7-1.06l-3.12,15.85a2.94,2.94,0,0,1-.87,1.85,2.48,2.48,0,0,1-1.34.26v.76h7v-.76a4.24,4.24,0,0,1-1.43-.3c-.23-.13-.34-.45-.34-.95a2.26,2.26,0,0,1,0-.26c0-.09,0-.2,0-.33l.18-1,3-15.1a2.73,2.73,0,0,1,1.79.63c.75.7,1.13,2,1.17,3.94Zm3.57,12.05c0-.08,0-.17,0-.27s0-.2,0-.3l.17-1,2.62-13.24a3.44,3.44,0,0,1,.59-1.6,2,2,0,0,1,1.12-.52V.48H119v.76a3.47,3.47,0,0,1,1.26.31c.2.13.3.44.3.94a4.25,4.25,0,0,1-.06.67c0,.26-.09.57-.17,1l-2.61,13.24a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.12.52v.76h6.33v-.76a3.36,3.36,0,0,1-1.26-.32C120.87,19,120.77,18.69,120.77,18.19Zm28.86-3.71-1.24,5.74H130.3v-.71a2.48,2.48,0,0,0,1.3-.41,1.64,1.64,0,0,0,.37-1.29c0-.22,0-.75-.11-1.58,0-.17-.08-.89-.21-2.15h-4.58l-1.24,3a5.1,5.1,0,0,0-.22.66,2.45,2.45,0,0,0-.1.69c0,.41.09.67.26.78a3.05,3.05,0,0,0,1.11.3v.71h-4.17v-.71a2.66,2.66,0,0,0,.87-.53,5.79,5.79,0,0,0,.92-1.56L132.39.07h.55L135,17a5.53,5.53,0,0,0,.5,2.08,1.67,1.67,0,0,0,1.14.46v0a1.93,1.93,0,0,0,1.12-.52,3.52,3.52,0,0,0,.6-1.6l2.61-13.23c.08-.38.13-.69.17-1a4.36,4.36,0,0,0,.06-.67c0-.5-.1-.81-.3-.94a3.47,3.47,0,0,0-1.26-.31V.48h6.73v.76a3.23,3.23,0,0,0-1.49.48,3.06,3.06,0,0,0-.64,1.64l-2.77,14.08c0,.16-.05.3-.07.44s0,.29,0,.47a.79.79,0,0,0,.31.71,1.55,1.55,0,0,0,.87.21,6.83,6.83,0,0,0,3.79-1,8.42,8.42,0,0,0,2.81-3.88ZM131.5,12.91l-.78-7.18-3.14,7.18Z",opacity:1,strokeColor:"",fillColor:"#192760",width:127.70402,height:55.84601,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"NotApproved":case"Not Approved":t={iconName:"Not Approved",pathdata:"M0,19.46a1.56,1.56,0,0,0,1.16-.9A19.84,19.84,0,0,0,2.1,15L4.42,2.84l-.09-.3a1.82,1.82,0,0,0-.64-1.06,2.41,2.41,0,0,0-1-.24V.48H6.88l4.49,13.64L13,5.78c.09-.52.17-1,.22-1.39a10.11,10.11,0,0,0,.13-1.34,1.83,1.83,0,0,0-.49-1.48,2.49,2.49,0,0,0-1.13-.33V.48H16v.76l-.29.06a1.42,1.42,0,0,0-1,1,23.7,23.7,0,0,0-.84,3.42L11,20.71h-.51L5.1,4.38,3,15c-.17.87-.28,1.53-.33,2a5.32,5.32,0,0,0,0,.79,1.69,1.69,0,0,0,.54,1.44,2.48,2.48,0,0,0,1.1.32v.76H0ZM17.73,4.53C19.54,1.51,21.55,0,23.79,0a4.4,4.4,0,0,1,3.66,1.92,8.52,8.52,0,0,1,1.43,5.19,17.56,17.56,0,0,1-2.53,9.07q-2.7,4.61-6.21,4.6a4.24,4.24,0,0,1-3.6-1.92,8.6,8.6,0,0,1-1.39-5.14A17.68,17.68,0,0,1,17.73,4.53ZM18.37,18c.33,1.19.93,1.78,1.8,1.78a2.83,2.83,0,0,0,2.22-1.29,16.41,16.41,0,0,0,2.06-4.93,35.53,35.53,0,0,0,1.06-4.83A28.26,28.26,0,0,0,25.9,4.6a5.86,5.86,0,0,0-.52-2.55A1.7,1.7,0,0,0,23.78,1Q21.2,1,19.45,7.53a33,33,0,0,0-1.33,8.26A8.15,8.15,0,0,0,18.37,18Zm11.08,1.48a2.34,2.34,0,0,0,1.3-.26,3,3,0,0,0,.85-1.85l3-15.85A3.54,3.54,0,0,0,32,2.56a8,8,0,0,0-1.82,3.16l-.53-.2.8-5H41.81l-.74,5.66-.54-.07c0-1.92-.41-3.24-1.13-3.94a2.6,2.6,0,0,0-1.74-.63L34.79,16.6l-.17,1a2.43,2.43,0,0,0,0,.33,2.26,2.26,0,0,0,0,.26c0,.5.11.82.33.95a3.94,3.94,0,0,0,1.39.3v.76H29.45Zm26.65.76H50.18v-.71a2.28,2.28,0,0,0,1.25-.41,1.64,1.64,0,0,0,.37-1.29c0-.22,0-.75-.11-1.58,0-.17-.08-.89-.2-2.15H47l-1.2,3c-.08.2-.15.42-.22.66a2.84,2.84,0,0,0-.09.69c0,.41.08.67.25.78a2.91,2.91,0,0,0,1.08.3v.71H42.79v-.71a2.44,2.44,0,0,0,.85-.53,5.59,5.59,0,0,0,.9-1.56L52.21.07h.53l2,16.88A5.46,5.46,0,0,0,55.2,19a1.36,1.36,0,0,0,.9.43Zm-4.76-7.31-.76-7.18-3,7.18Zm4.95,6.53a1.82,1.82,0,0,0,1-.5,3.56,3.56,0,0,0,.58-1.59L60.42,4.11c.06-.3.1-.6.15-.9a5.46,5.46,0,0,0,.06-.72c0-.52-.13-.86-.4-1a2.88,2.88,0,0,0-1.1-.23V.48h5.93a5,5,0,0,1,2.5.57c1.26.73,1.9,2.07,1.9,4a5.81,5.81,0,0,1-1.54,4.22,5.32,5.32,0,0,1-4,1.58l-.59,0-1.2-.11L61,16.6l-.17,1a2.72,2.72,0,0,0,0,.3,2.81,2.81,0,0,0,0,.29c0,.5.09.81.28.94a3.26,3.26,0,0,0,1.23.31v.76h-6Zm6-9.67.38.06H63a3,3,0,0,0,1.62-.36,2.87,2.87,0,0,0,1-1.18,7.28,7.28,0,0,0,.6-2,11.67,11.67,0,0,0,.22-2,4.4,4.4,0,0,0-.41-2,1.44,1.44,0,0,0-1.39-.79.71.71,0,0,0-.65.28,3.7,3.7,0,0,0-.32,1Zm5.61,9.69A1.86,1.86,0,0,0,69,18.94a3.54,3.54,0,0,0,.59-1.59L72.15,4.11q.09-.45.15-.9a5.73,5.73,0,0,0,.07-.72,1.1,1.1,0,0,0-.41-1,2.88,2.88,0,0,0-1.1-.23V.48h5.93a5,5,0,0,1,2.5.57c1.27.73,1.9,2.07,1.9,4a5.77,5.77,0,0,1-1.54,4.22,5.31,5.31,0,0,1-4,1.58l-.6,0-1.2-.11L72.74,16.6l-.17,1a2.72,2.72,0,0,0,0,.3c0,.1,0,.19,0,.29,0,.5.1.81.29.94a3.15,3.15,0,0,0,1.23.31v.76h-6.1Zm6.12-9.69.38.06h.33a3,3,0,0,0,1.62-.36,3,3,0,0,0,1-1.18,7.67,7.67,0,0,0,.59-2,11.67,11.67,0,0,0,.22-2,4.4,4.4,0,0,0-.41-2,1.43,1.43,0,0,0-1.38-.79.73.73,0,0,0-.66.28,3.7,3.7,0,0,0-.32,1Zm5.57,9.69a1.9,1.9,0,0,0,1.09-.52,3.56,3.56,0,0,0,.58-1.59L83.84,4.11c0-.27.09-.51.13-.71a7.08,7.08,0,0,0,.09-1c0-.47-.1-.77-.28-.9a3.53,3.53,0,0,0-1.22-.3V.48h5.68a6.57,6.57,0,0,1,3,.53q1.92,1,1.92,3.75a6.79,6.79,0,0,1-.32,2,5.23,5.23,0,0,1-1.08,1.9,4.56,4.56,0,0,1-1.25,1,11.62,11.62,0,0,1-1.33.52c.07.3.12.49.14.57l1.59,6.66a4.07,4.07,0,0,0,.69,1.7,1.72,1.72,0,0,0,1.13.41v.76H88.52l-2.23-9.76h-.58L84.49,16.6l-.17,1a1,1,0,0,0,0,.25,2.62,2.62,0,0,0,0,.28c0,.53.09.86.26,1a3.11,3.11,0,0,0,1.24.32v.76H79.63ZM87.55,9.3A2.59,2.59,0,0,0,89,8.17a7.24,7.24,0,0,0,.66-1.62A8.18,8.18,0,0,0,90,4.29a4.32,4.32,0,0,0-.43-2,1.5,1.5,0,0,0-1.45-.81.71.71,0,0,0-.62.26,2.78,2.78,0,0,0-.33,1.05L85.91,9.5A6.63,6.63,0,0,0,87.55,9.3Zm8.72-4.77Q99,0,102.32,0A4.37,4.37,0,0,1,106,1.92a8.46,8.46,0,0,1,1.44,5.19,17.58,17.58,0,0,1-2.54,9.07q-2.7,4.61-6.21,4.6a4.27,4.27,0,0,1-3.6-1.92,8.67,8.67,0,0,1-1.38-5.14A17.68,17.68,0,0,1,96.27,4.53ZM96.9,18c.33,1.19.93,1.78,1.8,1.78a2.83,2.83,0,0,0,2.22-1.29A16.63,16.63,0,0,0,103,13.54a37.1,37.1,0,0,0,1.06-4.83,29.49,29.49,0,0,0,.38-4.11,5.86,5.86,0,0,0-.51-2.55A1.71,1.71,0,0,0,102.31,1C100.6,1,99.15,3.17,98,7.53a33.42,33.42,0,0,0-1.33,8.26A8.57,8.57,0,0,0,96.9,18ZM114.35.48v.76a2.57,2.57,0,0,0-1.08.17,1.07,1.07,0,0,0-.5,1,2.53,2.53,0,0,0,0,.28,2.64,2.64,0,0,0,0,.28l1.07,11.76L117.77,6c.31-.71.59-1.41.84-2.11A5.25,5.25,0,0,0,119,2.19a.85.85,0,0,0-.38-.81,3.09,3.09,0,0,0-.95-.14V.48h4v.76a2.08,2.08,0,0,0-.73.45,5.35,5.35,0,0,0-.82,1.4l-7.79,17.69h-.66L110,5.74A22,22,0,0,0,109.46,2c-.16-.39-.58-.62-1.28-.71V.48Zm5.15,19a1.83,1.83,0,0,0,1.08-.52,3.42,3.42,0,0,0,.59-1.59l2.54-13.24c.06-.34.11-.64.15-.92a4.83,4.83,0,0,0,.06-.7c0-.5-.09-.81-.28-.94a3.14,3.14,0,0,0-1.22-.31V.48h11.12l-.87,5.6L132.11,6a7,7,0,0,0-.49-3c-.52-1-1.59-1.51-3.19-1.51-.55,0-.9.09-1.06.28A2.44,2.44,0,0,0,127,2.74L125.76,9.3a6.21,6.21,0,0,0,2.81-.51A6,6,0,0,0,130,6.18l.58.1L129,14.35l-.56-.14c0-.28,0-.52,0-.73s0-.37,0-.51a2.92,2.92,0,0,0-.61-2.15,3.55,3.55,0,0,0-2.37-.57l-1.36,7.2a4.79,4.79,0,0,0-.07.51,3.28,3.28,0,0,0,0,.39,1,1,0,0,0,.22.66,1.24,1.24,0,0,0,.93.26,6.43,6.43,0,0,0,3.21-.75,7.67,7.67,0,0,0,3.21-4.17l.5.13-1.22,5.74H119.5Zm12.79,0a1.87,1.87,0,0,0,1-.41,3.23,3.23,0,0,0,.71-1.71L136.5,4.11c.07-.38.13-.69.17-1a5.89,5.89,0,0,0,.05-.67c0-.5-.1-.81-.29-.94a3.32,3.32,0,0,0-1.22-.31V.48h6a5.35,5.35,0,0,1,4.63,2.22,10.11,10.11,0,0,1,1.58,6,13.3,13.3,0,0,1-2.34,7.84,8,8,0,0,1-6.86,3.7h-5.93ZM143.87,3.39a2.84,2.84,0,0,0-2.79-2,1.08,1.08,0,0,0-.91.31,1.93,1.93,0,0,0-.34.83L137,17.44a3.1,3.1,0,0,0-.06.39c0,.11,0,.21,0,.3a1.22,1.22,0,0,0,.24.84,1.26,1.26,0,0,0,.9.26q3.67,0,5.33-5.42a23.91,23.91,0,0,0,1-6.94A9.45,9.45,0,0,0,143.87,3.39Z",opacity:1,strokeColor:"",fillColor:"#8a251a",width:127.70402,height:55.84601,stampFillColor:"#f6dedd",stampStrokeColor:""}}if(t)return t.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.currentStampAnnotation=t,t}},e.prototype.retrievestampAnnotation=function(e){if(e){var t=void 0;switch(e.trim()){case"Approved":t={iconName:"Approved",pathdata:"M19,20.22H10.55v-.71a4.26,4.26,0,0,0,1.79-.41,1.37,1.37,0,0,0,.53-1.29c0-.22,0-.75-.16-1.58,0-.17-.11-.89-.29-2.15H6.06l-1.72,3a4,4,0,0,0-.31.66,2,2,0,0,0-.14.69c0,.41.12.67.37.78a5.42,5.42,0,0,0,1.53.3v.71H0v-.71A4,4,0,0,0,1.21,19a5.68,5.68,0,0,0,1.28-1.56L13.45.07h.76L17,17a4.35,4.35,0,0,0,.7,2.08,2.4,2.4,0,0,0,1.31.44Zm-6.83-7.31L11.13,5.73,6.76,12.91Zm7.18,6.52a3,3,0,0,0,1.33-.49,3,3,0,0,0,.84-1.59L25.19,4.11c.07-.3.14-.6.2-.9a3.14,3.14,0,0,0,.1-.72,1,1,0,0,0-.58-1,5.68,5.68,0,0,0-1.57-.23V.48h8.47a9.68,9.68,0,0,1,3.57.57,4,4,0,0,1,2.71,4,4.93,4.93,0,0,1-2.2,4.22,9.53,9.53,0,0,1-5.69,1.58l-.85,0-1.71-.11L26,16.6l-.25,1a1,1,0,0,0-.05.3,2.83,2.83,0,0,0,0,.29c0,.5.14.81.4.94a6.31,6.31,0,0,0,1.76.31v.76H19.39Zm8.52-9.66.54.06h.48a5.81,5.81,0,0,0,2.3-.36,3.47,3.47,0,0,0,1.4-1.18,6.24,6.24,0,0,0,.86-2,8.94,8.94,0,0,0,.3-2,3.29,3.29,0,0,0-.58-2,2.3,2.3,0,0,0-2-.79,1.23,1.23,0,0,0-.93.28,2.71,2.71,0,0,0-.46,1Zm8,9.69a3.19,3.19,0,0,0,1.55-.52,3,3,0,0,0,.84-1.59L42,4.11c.07-.3.14-.6.2-.9a3.14,3.14,0,0,0,.1-.72,1,1,0,0,0-.58-1,5.68,5.68,0,0,0-1.57-.23V.48h8.47a9.68,9.68,0,0,1,3.57.57,4,4,0,0,1,2.71,4,4.93,4.93,0,0,1-2.2,4.22A9.53,9.53,0,0,1,47,10.87l-.85,0-1.71-.11L42.79,16.6l-.25,1a1.45,1.45,0,0,0,0,.3,2.83,2.83,0,0,0,0,.29c0,.5.14.81.4.94a6.31,6.31,0,0,0,1.76.31v.76h-8.7Zm8.74-9.69.54.06h.48A5.81,5.81,0,0,0,48,9.48a3.41,3.41,0,0,0,1.4-1.18,6.24,6.24,0,0,0,.86-2,9,9,0,0,0,.31-2,3.29,3.29,0,0,0-.59-2,2.3,2.3,0,0,0-2-.79,1.23,1.23,0,0,0-.93.28,2.88,2.88,0,0,0-.46,1Zm7.95,9.69a3.27,3.27,0,0,0,1.56-.52A3.06,3.06,0,0,0,55,17.35L58.64,4.11l.18-.71a4.72,4.72,0,0,0,.13-1c0-.47-.13-.77-.4-.9a6.74,6.74,0,0,0-1.74-.3V.48h8.11A13,13,0,0,1,69.14,1a3.7,3.7,0,0,1,2.74,3.75,4.8,4.8,0,0,1-.46,2,5,5,0,0,1-1.54,1.9,6.55,6.55,0,0,1-1.79,1,19.35,19.35,0,0,1-1.89.52c.1.3.16.49.2.57l2.27,6.66a3.49,3.49,0,0,0,1,1.7,3.08,3.08,0,0,0,1.6.41v.76H65.33l-3.19-9.76h-.83L59.57,16.6l-.25,1a1.87,1.87,0,0,0,0,.25,2.64,2.64,0,0,0,0,.28q0,.8.39,1a5.88,5.88,0,0,0,1.76.32v.76H52.62ZM63.94,9.3a3.79,3.79,0,0,0,2.11-1.13A6,6,0,0,0,67,6.55a5.84,5.84,0,0,0,.44-2.26,3.31,3.31,0,0,0-.61-2,2.47,2.47,0,0,0-2.09-.81,1.25,1.25,0,0,0-.88.26,2.34,2.34,0,0,0-.47,1.05L61.59,9.5A13.42,13.42,0,0,0,63.94,9.3ZM76.39,4.53Q80.26,0,85,0a7.34,7.34,0,0,1,5.23,1.92,6.76,6.76,0,0,1,2,5.19,13.9,13.9,0,0,1-3.62,9.07q-3.86,4.61-8.88,4.6a7.06,7.06,0,0,1-5.13-1.92,6.86,6.86,0,0,1-2-5.14A14,14,0,0,1,76.39,4.53ZM77.3,18a2.56,2.56,0,0,0,2.57,1.78A4.62,4.62,0,0,0,83,18.47,14.42,14.42,0,0,0,86,13.54a27.18,27.18,0,0,0,1.52-4.83,20.67,20.67,0,0,0,.54-4.11,4.38,4.38,0,0,0-.73-2.55A2.62,2.62,0,0,0,85,1q-3.68,0-6.19,6.54a24.29,24.29,0,0,0-1.9,8.26A5.91,5.91,0,0,0,77.3,18ZM102.23.48v.76a5.19,5.19,0,0,0-1.55.17,1,1,0,0,0-.72,1,2.46,2.46,0,0,0,0,.28L100,3l1.52,11.76L107.11,6c.44-.71.84-1.41,1.2-2.11a4.06,4.06,0,0,0,.53-1.66.79.79,0,0,0-.55-.81,6.11,6.11,0,0,0-1.35-.14V.48h5.67v.76a3.31,3.31,0,0,0-1,.45,5.33,5.33,0,0,0-1.18,1.4L99.26,20.78h-.94l-2.25-15A15.49,15.49,0,0,0,95.24,2c-.22-.39-.84-.62-1.83-.71V.48Zm7.35,19a3.19,3.19,0,0,0,1.55-.52,3,3,0,0,0,.84-1.59l3.62-13.24c.09-.34.16-.64.22-.92a3.27,3.27,0,0,0,.09-.7c0-.5-.14-.81-.4-.94a6.13,6.13,0,0,0-1.75-.31V.48h15.89l-1.25,5.6L127.6,6a5.32,5.32,0,0,0-.7-3q-1.12-1.52-4.56-1.51a2.61,2.61,0,0,0-1.51.28,2.12,2.12,0,0,0-.56,1.06L118.52,9.3a12.1,12.1,0,0,0,4-.51,5.8,5.8,0,0,0,2-2.61l.82.1-2.19,8.07-.81-.14c0-.28.07-.52.08-.73s0-.37,0-.51a2.4,2.4,0,0,0-.87-2.15,6.76,6.76,0,0,0-3.38-.57l-1.94,7.2a3.34,3.34,0,0,0-.11.51,3.67,3.67,0,0,0,0,.39.81.81,0,0,0,.32.66,2.3,2.3,0,0,0,1.33.26,12.39,12.39,0,0,0,4.57-.75A8.84,8.84,0,0,0,127,14.35l.72.13-1.74,5.74H109.58Zm18.27,0a3.27,3.27,0,0,0,1.37-.41,2.85,2.85,0,0,0,1-1.71l3.63-13.23c.1-.38.18-.69.23-1a3,3,0,0,0,.09-.67c0-.5-.15-.81-.42-.94A6.38,6.38,0,0,0,132,1.24V.48h8.57c2.9,0,5.1.74,6.62,2.22a8,8,0,0,1,2.26,6,10.72,10.72,0,0,1-3.35,7.84,13.3,13.3,0,0,1-9.8,3.7h-8.47ZM144.4,3.39a4.23,4.23,0,0,0-4-2,2,2,0,0,0-1.29.31,1.74,1.74,0,0,0-.48.83l-4.07,14.9a3.24,3.24,0,0,0-.07.39,1.69,1.69,0,0,0,0,.3,1,1,0,0,0,.36.84,2.27,2.27,0,0,0,1.27.26q5.26,0,7.62-5.42a17.25,17.25,0,0,0,1.43-6.94A7,7,0,0,0,144.4,3.39Z",opacity:1,strokeColor:"",fillColor:"#516c30",width:149.474,height:20.783,stampFillColor:"#e6eddf",stampStrokeColor:""};break;case"Confidential":t={iconName:"Confidential",pathdata:"M13.71,0,12.63,6.9,12,6.73c0-.41,0-.66,0-.73s0-.18,0-.32a6.16,6.16,0,0,0-.79-3.47,2.37,2.37,0,0,0-2-1.14c-1.64,0-3.07,1.51-4.29,4.55a22,22,0,0,0-1.64,8.29c0,2,.34,3.44,1,4.2A3,3,0,0,0,6.5,19.24a4.08,4.08,0,0,0,2.93-1.43,10.47,10.47,0,0,0,1.5-2.09l.64.65A8.84,8.84,0,0,1,9,19.72a5.24,5.24,0,0,1-3.08,1.09,5.16,5.16,0,0,1-4.21-2.08A8.68,8.68,0,0,1,0,13.16,16.5,16.5,0,0,1,2.55,3.92Q5.1,0,8.61,0a6.35,6.35,0,0,1,2.25.43,6.62,6.62,0,0,0,1.38.43.55.55,0,0,0,.5-.23A2.61,2.61,0,0,0,13.06,0ZM27.49,7.11a17.19,17.19,0,0,1-2.61,9.07q-2.77,4.61-6.39,4.6a4.42,4.42,0,0,1-3.7-1.92,8.47,8.47,0,0,1-1.43-5.14A17.31,17.31,0,0,1,16,4.53C17.88,1.51,20,0,22.25,0A4.53,4.53,0,0,1,26,1.92,8.27,8.27,0,0,1,27.49,7.11ZM24.42,4.6a5.71,5.71,0,0,0-.53-2.55A1.76,1.76,0,0,0,22.24,1q-2.65,0-4.45,6.54a31.93,31.93,0,0,0-1.37,8.26A8.15,8.15,0,0,0,16.67,18c.34,1.19,1,1.78,1.85,1.78a2.9,2.9,0,0,0,2.28-1.29,15.85,15.85,0,0,0,2.13-4.93A34.08,34.08,0,0,0,24,8.71,28.5,28.5,0,0,0,24.42,4.6ZM42.75,1.3l.3-.06V.48H38.69v.76a2.55,2.55,0,0,1,1.16.33,1.8,1.8,0,0,1,.51,1.48,10.11,10.11,0,0,1-.13,1.34c-.06.41-.14.87-.24,1.39l-1.65,8.34L33.73.48H29.45v.76a2.66,2.66,0,0,1,1,.24,1.88,1.88,0,0,1,.65,1.06l.09.3L28.81,15a20.72,20.72,0,0,1-1,3.61,1.61,1.61,0,0,1-1.19.9v.76h4.42v-.76a2.55,2.55,0,0,1-1.13-.32,1.67,1.67,0,0,1-.56-1.44,7.13,7.13,0,0,1,.05-.79c.06-.43.17-1.09.34-2L31.89,4.38l5.52,16.33h.52l3-15a22.58,22.58,0,0,1,.87-3.42A1.42,1.42,0,0,1,42.75,1.3ZM55.53.48H44.23v.76a3.63,3.63,0,0,1,1.26.3c.19.13.29.42.29.9a7.08,7.08,0,0,1-.09,1c0,.2-.08.44-.13.71L43,17.34a3.47,3.47,0,0,1-.59,1.58,1.91,1.91,0,0,1-1.13.54v.76h6.29v-.76a2.13,2.13,0,0,1-1-.19A1.23,1.23,0,0,1,46,18.1c0-.1,0-.21,0-.31s0-.23.05-.35l1.4-7.21a3.15,3.15,0,0,1,2.37.64A3.21,3.21,0,0,1,50.38,13c0,.11,0,.28,0,.49s0,.46-.06.75l.58.14,1.58-8.07-.59-.1a5.79,5.79,0,0,1-1.43,2.59,6.17,6.17,0,0,1-2.77.52l1.26-6.54a2.06,2.06,0,0,1,.42-1.08,1.39,1.39,0,0,1,1-.26c1.62,0,2.7.51,3.24,1.54a7.11,7.11,0,0,1,.49,3l.57.13Zm3.69,17.71c0-.08,0-.17,0-.27s0-.2,0-.3l.17-1L62.06,3.36a3.44,3.44,0,0,1,.59-1.6,2,2,0,0,1,1.12-.52V.48H57.44v.76a3.47,3.47,0,0,1,1.26.31c.2.13.3.44.3.94a4.25,4.25,0,0,1-.06.67c0,.26-.09.57-.17,1L56.16,17.35a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.12.52v.76h6.33v-.76a3.3,3.3,0,0,1-1.26-.32C59.32,19,59.22,18.69,59.22,18.19Zm18-9.51a13,13,0,0,1-2.42,7.84,8.31,8.31,0,0,1-7,3.7H61.6v-.76a2,2,0,0,0,1-.41,3.14,3.14,0,0,0,.73-1.71L65.93,4.11c.08-.38.13-.69.17-1a4.36,4.36,0,0,0,.06-.67c0-.5-.1-.81-.3-.94a3.47,3.47,0,0,0-1.26-.31V.48h6.17A5.52,5.52,0,0,1,75.53,2.7,9.91,9.91,0,0,1,77.17,8.68ZM74,6.87a9.22,9.22,0,0,0-.53-3.48,2.91,2.91,0,0,0-2.87-2,1.12,1.12,0,0,0-.93.31,1.81,1.81,0,0,0-.35.83l-2.93,14.9a3,3,0,0,0-.05.39c0,.11,0,.21,0,.3a1.17,1.17,0,0,0,.25.84,1.3,1.3,0,0,0,.92.26q3.8,0,5.49-5.42A23.26,23.26,0,0,0,74,6.87Zm11.3,11.65a6.72,6.72,0,0,1-3.29.75,1.3,1.3,0,0,1-1-.26,1,1,0,0,1-.23-.66,3.28,3.28,0,0,1,0-.39,4.88,4.88,0,0,1,.08-.51l1.4-7.2a3.73,3.73,0,0,1,2.43.57A2.87,2.87,0,0,1,85.43,13c0,.14,0,.31,0,.51s0,.45-.06.73l.59.14,1.57-8.07-.59-.1a5.79,5.79,0,0,1-1.46,2.61,6.5,6.5,0,0,1-2.89.51l1.26-6.56a2.41,2.41,0,0,1,.41-1.06c.16-.19.52-.28,1.08-.28,1.65,0,2.75.5,3.29,1.51a7,7,0,0,1,.5,3l.57.13.9-5.6H79.14v.76a3.35,3.35,0,0,1,1.26.31c.19.13.29.44.29.94a5,5,0,0,1-.07.7c0,.28-.09.58-.15.92L77.86,17.35a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.13.52v.76H87.91l1.25-5.74-.52-.13A7.69,7.69,0,0,1,85.34,18.52ZM105.8,1.24V.48h-4.37v.76a2.55,2.55,0,0,1,1.16.33,1.77,1.77,0,0,1,.52,1.48A10.58,10.58,0,0,1,103,4.39c-.06.41-.13.87-.23,1.39l-1.66,8.34L96.47.48H92.19v.76a2.61,2.61,0,0,1,1,.24,1.83,1.83,0,0,1,.65,1.06l.1.3L91.55,15a19,19,0,0,1-1,3.61,1.61,1.61,0,0,1-1.19.9v.76h4.42v-.76a2.59,2.59,0,0,1-1.13-.32,1.67,1.67,0,0,1-.56-1.44,7.13,7.13,0,0,1,0-.79c.06-.43.17-1.09.35-2L94.63,4.38l5.52,16.33h.53l2.95-15a22.93,22.93,0,0,1,.86-3.42,1.42,1.42,0,0,1,1-1Zm11.4,4.9L118,.48H106.28l-.82,5,.55.2a8,8,0,0,1,1.87-3.16,3.7,3.7,0,0,1,2.7-1.06l-3.12,15.85a2.94,2.94,0,0,1-.87,1.85,2.48,2.48,0,0,1-1.34.26v.76h7v-.76a4.24,4.24,0,0,1-1.43-.3c-.23-.13-.34-.45-.34-.95a2.26,2.26,0,0,1,0-.26c0-.09,0-.2,0-.33l.18-1,3-15.1a2.73,2.73,0,0,1,1.79.63c.75.7,1.13,2,1.17,3.94Zm3.57,12.05c0-.08,0-.17,0-.27s0-.2,0-.3l.17-1,2.62-13.24a3.44,3.44,0,0,1,.59-1.6,2,2,0,0,1,1.12-.52V.48H119v.76a3.47,3.47,0,0,1,1.26.31c.2.13.3.44.3.94a4.25,4.25,0,0,1-.06.67c0,.26-.09.57-.17,1l-2.61,13.24a3.52,3.52,0,0,1-.6,1.59,2,2,0,0,1-1.12.52v.76h6.33v-.76a3.36,3.36,0,0,1-1.26-.32C120.87,19,120.77,18.69,120.77,18.19Zm28.86-3.71-1.24,5.74H130.3v-.71a2.48,2.48,0,0,0,1.3-.41,1.64,1.64,0,0,0,.37-1.29c0-.22,0-.75-.11-1.58,0-.17-.08-.89-.21-2.15h-4.58l-1.24,3a5.1,5.1,0,0,0-.22.66,2.45,2.45,0,0,0-.1.69c0,.41.09.67.26.78a3.05,3.05,0,0,0,1.11.3v.71h-4.17v-.71a2.66,2.66,0,0,0,.87-.53,5.79,5.79,0,0,0,.92-1.56L132.39.07h.55L135,17a5.53,5.53,0,0,0,.5,2.08,1.67,1.67,0,0,0,1.14.46v0a1.93,1.93,0,0,0,1.12-.52,3.52,3.52,0,0,0,.6-1.6l2.61-13.23c.08-.38.13-.69.17-1a4.36,4.36,0,0,0,.06-.67c0-.5-.1-.81-.3-.94a3.47,3.47,0,0,0-1.26-.31V.48h6.73v.76a3.23,3.23,0,0,0-1.49.48,3.06,3.06,0,0,0-.64,1.64l-2.77,14.08c0,.16-.05.3-.07.44s0,.29,0,.47a.79.79,0,0,0,.31.71,1.55,1.55,0,0,0,.87.21,6.83,6.83,0,0,0,3.79-1,8.42,8.42,0,0,0,2.81-3.88ZM131.5,12.91l-.78-7.18-3.14,7.18Z",opacity:1,strokeColor:"",fillColor:"#192760",width:149.633,height:20.811,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Witness":t={iconName:"Witness",pathdata:"M19.63,2.67,12.77,16.84h-.69L10.63,5.17,5.05,16.84H4.36L2.5,2.92A3.13,3.13,0,0,0,2,1.35,2.38,2.38,0,0,0,.63.91V.33H7.3V1a2.27,2.27,0,0,0-.92.17A1.11,1.11,0,0,0,5.84,2.2v.16c0,.05,0,.13,0,.22L6.81,11l3.57-7.48a.79.79,0,0,0,0-.23,2.78,2.78,0,0,0-.53-2A2.23,2.23,0,0,0,8.68.91V.33h6.45V.91A2.42,2.42,0,0,0,14,1.2c-.23.16-.34.5-.34,1,0,.11,0,.26,0,.46s.07.73.12,1.21l.8,7L18.3,3.11c.09-.19.17-.4.25-.62a2.11,2.11,0,0,0,.11-.65.73.73,0,0,0-.4-.76,2.73,2.73,0,0,0-1.1-.17V.33h4.47V.91a1.92,1.92,0,0,0-.91.3A3.66,3.66,0,0,0,19.63,2.67ZM29.76.33H22.62V1A5.07,5.07,0,0,1,24,1.2c.23.11.34.36.34.77a2.86,2.86,0,0,1-.06.54c0,.21-.11.47-.19.77L21.17,14.05a2.47,2.47,0,0,1-.68,1.29,2.62,2.62,0,0,1-1.27.42v.62h7.15v-.62A5.09,5.09,0,0,1,25,15.51c-.22-.11-.33-.37-.33-.77a2,2,0,0,1,0-.23c0-.08,0-.16,0-.24l.19-.83,3-10.77a2.5,2.5,0,0,1,.66-1.3A2.76,2.76,0,0,1,29.76,1ZM41.9,4.88l.63,0,.86-4.6H30.2l-.93,4.1.62.16A6.6,6.6,0,0,1,32,2a5.22,5.22,0,0,1,3.06-.86L31.53,14.05a2.24,2.24,0,0,1-1,1.5,3.67,3.67,0,0,1-1.51.21v.62H37v-.62a6,6,0,0,1-1.62-.24c-.26-.1-.39-.36-.39-.77,0-.07,0-.14,0-.21s0-.16.05-.27l.2-.83L38.57,1.16a3.76,3.76,0,0,1,2,.52A3.69,3.69,0,0,1,41.9,4.88ZM59.24,1,59.58,1V.33H54.65V1A3.78,3.78,0,0,1,56,1.22a1.25,1.25,0,0,1,.58,1.2,6.26,6.26,0,0,1-.15,1.09c-.07.33-.16.71-.27,1.13l-1.87,6.79L49.05.33H44.21V1a3.51,3.51,0,0,1,1.13.2,1.51,1.51,0,0,1,.74.85l.1.25L43.49,12.1A13.5,13.5,0,0,1,42.4,15a1.87,1.87,0,0,1-1.35.72v.62h5v-.62a3.62,3.62,0,0,1-1.28-.26,1.19,1.19,0,0,1-.64-1.17,3.55,3.55,0,0,1,.06-.64q.11-.53.39-1.59L47,3.5,53.2,16.78h.59L57.13,4.6a15.29,15.29,0,0,1,1-2.78A1.51,1.51,0,0,1,59.24,1Zm7.26.31a2.11,2.11,0,0,1,1.23-.23c1.87,0,3.1.41,3.71,1.23A4.39,4.39,0,0,1,72,4.78l.64.11,1-4.56H60.75V1a5,5,0,0,1,1.42.25c.22.11.32.36.32.77a2.73,2.73,0,0,1-.07.57c0,.22-.1.47-.17.74l-3,10.77a2.47,2.47,0,0,1-.68,1.29,2.62,2.62,0,0,1-1.27.42v.62h13.3l1.42-4.66-.59-.11A7.1,7.1,0,0,1,67.75,15a10,10,0,0,1-3.72.61A1.86,1.86,0,0,1,63,15.4a.67.67,0,0,1-.26-.54,2.36,2.36,0,0,1,0-.32,3.38,3.38,0,0,1,.09-.41l1.58-5.86a5.48,5.48,0,0,1,2.75.47,2,2,0,0,1,.71,1.75c0,.11,0,.25,0,.41s0,.37-.06.6l.65.11L70.2,5.05,69.54,5a4.69,4.69,0,0,1-1.65,2.12,10.06,10.06,0,0,1-3.26.41l1.42-5.33A1.75,1.75,0,0,1,66.5,1.31ZM80.88.83a2.77,2.77,0,0,1,2.46,1.26A4.36,4.36,0,0,1,84,4l.08.78.62.08,1-4.8H85a1.77,1.77,0,0,1-.38.43A1,1,0,0,1,84,.67a2.76,2.76,0,0,1-.37,0l-.41-.1-.61-.2a4.78,4.78,0,0,0-.79-.2A6.71,6.71,0,0,0,80.46,0a4.76,4.76,0,0,0-3.62,1.36,4.61,4.61,0,0,0-1.29,3.29q0,2.05,2.94,4.47t2.94,3.82a3.19,3.19,0,0,1-.79,2.14,2.8,2.8,0,0,1-2.23.92,3.43,3.43,0,0,1-1.5-.33,3.82,3.82,0,0,1-2-2.5,10.33,10.33,0,0,1-.2-1.67L74,11.45l-.87,5.38h.73a2.85,2.85,0,0,1,.38-.67A.75.75,0,0,1,74.8,16a1.12,1.12,0,0,1,.27,0l.42.15.61.22a8.62,8.62,0,0,0,1.3.35,7.53,7.53,0,0,0,1.32.12,5.48,5.48,0,0,0,4.11-1.53,4.77,4.77,0,0,0,1.49-3.43,4.59,4.59,0,0,0-.77-2.63,9.31,9.31,0,0,0-1.87-2L79.61,5.5a4.31,4.31,0,0,1-.74-.77,2.55,2.55,0,0,1-.43-1.45,2.68,2.68,0,0,1,.42-1.44A2.23,2.23,0,0,1,80.88.83Zm12.31,0a2.8,2.8,0,0,1,2.47,1.26A4.49,4.49,0,0,1,96.35,4l.08.78.62.08,1-4.8h-.71a1.62,1.62,0,0,1-.39.43,1,1,0,0,1-.64.18,2.9,2.9,0,0,1-.38,0l-.41-.1-.61-.2a4.65,4.65,0,0,0-.78-.2A6.88,6.88,0,0,0,92.77,0a4.73,4.73,0,0,0-3.61,1.36,4.57,4.57,0,0,0-1.3,3.29q0,2.05,2.94,4.47c2,1.54,3,2.81,3,3.82a3.2,3.2,0,0,1-.8,2.14,2.78,2.78,0,0,1-2.23.92,3.36,3.36,0,0,1-1.49-.33A3.68,3.68,0,0,1,88,14.73a3.76,3.76,0,0,1-.81-1.56A10.6,10.6,0,0,1,87,11.5l-.7-.05-.86,5.38h.72a2.85,2.85,0,0,1,.38-.67.78.78,0,0,1,.57-.19,1.12,1.12,0,0,1,.27,0l.42.15.61.22a8.74,8.74,0,0,0,1.31.35,7.37,7.37,0,0,0,1.32.12,5.49,5.49,0,0,0,4.11-1.53,4.81,4.81,0,0,0,1.49-3.43,4.67,4.67,0,0,0-.77-2.63A9.57,9.57,0,0,0,94,7.2L91.93,5.5a4,4,0,0,1-.74-.77,2.48,2.48,0,0,1-.43-1.45,2.68,2.68,0,0,1,.42-1.44A2.2,2.2,0,0,1,93.19.83Z",opacity:1,strokeColor:"",fillColor:"#192760",width:97.39,height:16.84,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"InitialHere":case"Initial Here":t={iconName:"Initial Here",pathdata:"M6.36,15.51a5.09,5.09,0,0,0,1.42.25v.62H.63v-.62a2.62,2.62,0,0,0,1.27-.42,2.47,2.47,0,0,0,.68-1.29l3-10.77c.08-.3.15-.56.19-.77A2.86,2.86,0,0,0,5.78,2c0-.41-.11-.66-.34-.77A5.07,5.07,0,0,0,4,1V.33h7.14V1a2.76,2.76,0,0,0-1.27.42,2.5,2.5,0,0,0-.66,1.3l-3,10.77-.19.83c0,.08,0,.16,0,.24a2,2,0,0,0,0,.23C6,15.14,6.14,15.4,6.36,15.51ZM27,1,27.36,1V.33H22.43V1a3.78,3.78,0,0,1,1.31.27,1.25,1.25,0,0,1,.58,1.2,6.26,6.26,0,0,1-.15,1.09c-.07.33-.16.71-.27,1.13L22,11.43,16.83.33H12V1a3.49,3.49,0,0,1,1.12.2,1.51,1.51,0,0,1,.74.85l.11.25-2.7,9.85A13,13,0,0,1,10.18,15a1.85,1.85,0,0,1-1.35.72v.62h5v-.62a3.62,3.62,0,0,1-1.28-.26,1.19,1.19,0,0,1-.63-1.17,4.72,4.72,0,0,1,.05-.64q.1-.53.39-1.59l2.39-8.6L21,16.78h.6L24.91,4.6a15.29,15.29,0,0,1,1-2.78A1.51,1.51,0,0,1,27,1ZM35.78.33H28.64V1a5.16,5.16,0,0,1,1.41.25c.23.11.34.36.34.77a2.86,2.86,0,0,1-.06.54c0,.21-.11.47-.19.77L27.19,14.05a2.47,2.47,0,0,1-.68,1.29,2.66,2.66,0,0,1-1.27.42v.62h7.15v-.62A5.09,5.09,0,0,1,31,15.51c-.22-.11-.33-.37-.33-.77a2,2,0,0,1,0-.23,2,2,0,0,1,0-.24l.19-.83,3-10.77a2.5,2.5,0,0,1,.66-1.3A2.76,2.76,0,0,1,35.78,1Zm12.76,4.6.87-4.6H36.22l-.93,4.1.62.16A6.52,6.52,0,0,1,38,2a5.21,5.21,0,0,1,3-.86L37.55,14.05a2.24,2.24,0,0,1-1,1.5,3.7,3.7,0,0,1-1.51.21v.62H43v-.62a5.79,5.79,0,0,1-1.61-.24c-.26-.1-.39-.36-.39-.77a1.48,1.48,0,0,1,0-.21,2,2,0,0,1,0-.27l.2-.83L44.58,1.16a3.77,3.77,0,0,1,2,.52,3.74,3.74,0,0,1,1.31,3.2Zm4,9.81a.93.93,0,0,1,0-.23,2,2,0,0,1,0-.24l.18-.83,3-10.77a2.42,2.42,0,0,1,.67-1.3A2.72,2.72,0,0,1,57.72,1V.33H50.57V1A5.26,5.26,0,0,1,52,1.2c.23.11.34.36.34.77a2.28,2.28,0,0,1-.07.54,7.71,7.71,0,0,1-.19.77l-3,10.77a2.4,2.4,0,0,1-.68,1.29,2.58,2.58,0,0,1-1.26.42v.62h7.14v-.62a5.07,5.07,0,0,1-1.41-.25C52.69,15.4,52.58,15.14,52.58,14.74Zm32-3.13.57.11-1.4,4.66H63.34v-.57a3.65,3.65,0,0,0,1.46-.34c.29-.16.43-.51.43-1,0-.18,0-.61-.13-1.29,0-.14-.09-.73-.23-1.75H59.69l-1.4,2.44a3.38,3.38,0,0,0-.25.54,1.64,1.64,0,0,0-.11.56q0,.5.3.63a4.41,4.41,0,0,0,1.25.25v.57H54.76v-.57a3.36,3.36,0,0,0,1-.43,4.58,4.58,0,0,0,1-1.27L65.7,0h.62l2.3,13.72a3.49,3.49,0,0,0,.56,1.7,2.34,2.34,0,0,0,1.29.37v0a2.58,2.58,0,0,0,1.26-.42,2.46,2.46,0,0,0,.68-1.3L75.35,3.28c.09-.3.16-.56.2-.77A2.86,2.86,0,0,0,75.61,2c0-.41-.11-.66-.34-.77A5.17,5.17,0,0,0,73.85,1V.33h7.61V1a4.77,4.77,0,0,0-1.69.39A2.27,2.27,0,0,0,79,2.67L75.92,14.12c0,.13,0,.25-.07.36a2.21,2.21,0,0,0,0,.39.59.59,0,0,0,.35.57,2.33,2.33,0,0,0,1,.17,10.06,10.06,0,0,0,4.28-.84A7.67,7.67,0,0,0,84.6,11.61ZM64.7,10.44,63.81,4.6l-3.55,5.84Zm38,4.32a.71.71,0,0,1,0-.16s0-.16.07-.34l.2-.83L106,2.67a2.43,2.43,0,0,1,.79-1.39A2.78,2.78,0,0,1,107.9,1V.33h-7.15V1a4.45,4.45,0,0,1,1.27.19.81.81,0,0,1,.47.83,2.73,2.73,0,0,1-.07.57c0,.22-.1.47-.17.74l-1.14,4.16h-5.7L96.7,2.67a2.27,2.27,0,0,1,.73-1.33A4.77,4.77,0,0,1,99.12,1V.33H91.51V1a5.09,5.09,0,0,1,1.42.25c.22.11.33.36.33.77a2.93,2.93,0,0,1-.08.58c-.05.24-.1.48-.17.73L90.07,14a2.73,2.73,0,0,1-.65,1.29,2.47,2.47,0,0,1-1.3.43v.62h7.15v-.62a5.13,5.13,0,0,1-1.42-.24c-.21-.1-.31-.34-.31-.72a3.11,3.11,0,0,1,0-.57c0-.16.1-.43.19-.8L95.12,8.5h5.7L99.31,14a2.21,2.21,0,0,1-.74,1.33,4.36,4.36,0,0,1-1.69.39v.62h7.63v-.62a4.72,4.72,0,0,1-1.25-.17A.8.8,0,0,1,102.73,14.76Zm13.38.24a10.07,10.07,0,0,1-3.72.61,1.86,1.86,0,0,1-1.08-.21.67.67,0,0,1-.26-.54,2.36,2.36,0,0,1,0-.32,3.38,3.38,0,0,1,.09-.41l1.58-5.86a5.51,5.51,0,0,1,2.75.47,2,2,0,0,1,.7,1.75c0,.11,0,.25,0,.41s0,.37-.07.6l.66.11,1.78-6.56L117.89,5a4.63,4.63,0,0,1-1.65,2.12A10,10,0,0,1,113,7.5l1.43-5.33a1.6,1.6,0,0,1,.45-.86,2.07,2.07,0,0,1,1.23-.23c1.86,0,3.1.41,3.71,1.23a4.32,4.32,0,0,1,.56,2.47l.65.11,1-4.56H109.1V1a5.1,5.1,0,0,1,1.43.25c.21.11.32.36.32.77a3.63,3.63,0,0,1-.07.57c0,.22-.11.47-.18.74l-2.95,10.77a2.4,2.4,0,0,1-.68,1.29,2.58,2.58,0,0,1-1.26.42v.62H119l1.42-4.66-.58-.11A7.17,7.17,0,0,1,116.11,15ZM144.36,2.17,142.93,7.5a10.13,10.13,0,0,0,3.27-.41A4.69,4.69,0,0,0,147.84,5l.67.08-1.78,6.56-.66-.11c0-.23.06-.43.07-.6s0-.3,0-.41a2,2,0,0,0-.7-1.75,5.51,5.51,0,0,0-2.75-.47l-1.58,5.86a3.38,3.38,0,0,0-.09.41,2.36,2.36,0,0,0,0,.32.67.67,0,0,0,.26.54,1.86,1.86,0,0,0,1.08.21,10.07,10.07,0,0,0,3.72-.61,7.14,7.14,0,0,0,3.73-3.39l.58.11L149,16.38H131l-2.59-7.93h-.68l-1.42,5-.2.83,0,.2a1.77,1.77,0,0,0,0,.23c0,.43.1.7.31.81a4.87,4.87,0,0,0,1.43.25v.62h-7.14v-.62a2.58,2.58,0,0,0,1.26-.42,2.4,2.4,0,0,0,.68-1.29l3-10.77.15-.57a4.09,4.09,0,0,0,.1-.79c0-.38-.11-.62-.32-.72A4.8,4.8,0,0,0,124,1V.33h6.6a10.58,10.58,0,0,1,3.42.43,3,3,0,0,1,2.24,3.05,4,4,0,0,1-.38,1.6A4,4,0,0,1,134.66,7a5.47,5.47,0,0,1-1.45.8c-.33.11-.85.25-1.54.42a4.73,4.73,0,0,0,.16.46l1.85,5.42a2.81,2.81,0,0,0,.8,1.38,2.42,2.42,0,0,0,1.23.32,2.53,2.53,0,0,0,1.22-.41,2.47,2.47,0,0,0,.68-1.29l2.94-10.77c.07-.27.13-.52.18-.74A2.73,2.73,0,0,0,140.8,2c0-.41-.11-.66-.32-.77A5.1,5.1,0,0,0,139.05,1V.33H152l-1,4.56-.65-.11a4.32,4.32,0,0,0-.56-2.47c-.61-.82-1.85-1.23-3.71-1.23a2.07,2.07,0,0,0-1.23.23A1.67,1.67,0,0,0,144.36,2.17ZM131.54,6.59a5,5,0,0,0,.77-1.32,4.68,4.68,0,0,0,.36-1.84,2.74,2.74,0,0,0-.5-1.67,2,2,0,0,0-1.7-.66,1,1,0,0,0-.72.22,2,2,0,0,0-.38.85l-1.45,5.49a10.33,10.33,0,0,0,1.91-.16A3.07,3.07,0,0,0,131.54,6.59Z",opacity:1,strokeColor:"",fillColor:"#192760",width:151.345,height:16.781,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"SignHere":case"Sign Here":t={iconName:"Sign Here",pathdata:"M6.38,1.9A2.56,2.56,0,0,0,6,3.34a2.49,2.49,0,0,0,.44,1.45,3.9,3.9,0,0,0,.73.76l2.07,1.7a9.34,9.34,0,0,1,1.87,2.06,4.6,4.6,0,0,1,.78,2.63,4.78,4.78,0,0,1-1.5,3.43A5.46,5.46,0,0,1,6.23,16.9a7.34,7.34,0,0,1-1.31-.12,7.48,7.48,0,0,1-1.31-.36L3,16.2l-.42-.14a1.12,1.12,0,0,0-.27,0,.71.71,0,0,0-.57.19,2.85,2.85,0,0,0-.38.67H.63l.87-5.38.69,0a10.34,10.34,0,0,0,.2,1.68,3.82,3.82,0,0,0,2,2.5,3.42,3.42,0,0,0,1.5.32,2.76,2.76,0,0,0,2.23-.92A3.14,3.14,0,0,0,8.94,13c0-1-1-2.29-2.94-3.82S3.06,6.08,3.06,4.71A4.59,4.59,0,0,1,4.35,1.42,4.76,4.76,0,0,1,8,.06,6.71,6.71,0,0,1,9.29.19a4.78,4.78,0,0,1,.79.2l.61.2.41.1a2.76,2.76,0,0,0,.37,0,1,1,0,0,0,.65-.18A1.75,1.75,0,0,0,12.5.12h.72l-1,4.8-.62-.08-.09-.79a4.45,4.45,0,0,0-.69-1.91A2.78,2.78,0,0,0,8.39.89,2.2,2.2,0,0,0,6.38,1.9ZM22.8.39H15.66V1a4.71,4.71,0,0,1,1.41.25c.23.11.34.36.34.77a2.86,2.86,0,0,1-.06.54c0,.21-.11.47-.19.77L14.21,14.11a2.47,2.47,0,0,1-.68,1.29,2.62,2.62,0,0,1-1.27.42v.62h7.15v-.62A4.63,4.63,0,0,1,18,15.56c-.22-.1-.33-.36-.33-.77a1.8,1.8,0,0,1,0-.22c0-.08,0-.16,0-.24l.19-.83,3-10.77a2.5,2.5,0,0,1,.66-1.3A2.76,2.76,0,0,1,22.8,1ZM38.09,9.14V8.52H31.18v.62a5.05,5.05,0,0,1,1.44.28c.22.1.32.35.32.75a13.35,13.35,0,0,1-.54,2.54,19.13,19.13,0,0,1-.54,1.87A1.85,1.85,0,0,1,31,15.66a3.77,3.77,0,0,1-1.78.35A3.71,3.71,0,0,1,27,15.38c-1.09-.77-1.64-2.13-1.64-4.08a13.74,13.74,0,0,1,1.78-6.69q2.05-3.72,5-3.72a2.93,2.93,0,0,1,3,1.86,6.09,6.09,0,0,1,.4,2.48l.69.08L37.44,0h-.71a2.44,2.44,0,0,1-.41.53.82.82,0,0,1-.58.2A9.14,9.14,0,0,1,34.33.36,9.23,9.23,0,0,0,31.73,0a9.4,9.4,0,0,0-7.46,3.42,10.46,10.46,0,0,0-2.65,7,5.88,5.88,0,0,0,2.2,4.83,7.77,7.77,0,0,0,5,1.64A13.06,13.06,0,0,0,32,16.52a14.26,14.26,0,0,0,2.33-.75l.67-.3,1.2-4.36a4.15,4.15,0,0,1,.62-1.59A2.28,2.28,0,0,1,38.09,9.14ZM50.36,1a3.36,3.36,0,0,1,1.31.27,1.25,1.25,0,0,1,.58,1.2,6.26,6.26,0,0,1-.15,1.09c-.07.33-.16.7-.27,1.13L50,11.48,44.76.39H39.93V1a3.49,3.49,0,0,1,1.12.2,1.51,1.51,0,0,1,.74.85l.1.25L39.2,12.16a12.62,12.62,0,0,1-1.09,2.93,1.86,1.86,0,0,1-1.35.73v.62h5v-.62a3.62,3.62,0,0,1-1.28-.26,1.21,1.21,0,0,1-.63-1.17,4.72,4.72,0,0,1,0-.64q.1-.52.39-1.59l2.39-8.6,6.23,13.28h.6L52.84,4.66a15.29,15.29,0,0,1,1-2.78A1.52,1.52,0,0,1,55,1.05l.34,0V.39H50.36Zm22.33,13.8a.66.66,0,0,1,0-.15c0-.05,0-.16.07-.34l.2-.83L75.91,2.73a2.43,2.43,0,0,1,.79-1.39A2.78,2.78,0,0,1,77.86,1V.39H70.71V1A4.45,4.45,0,0,1,72,1.2a.81.81,0,0,1,.47.83,2.73,2.73,0,0,1-.07.57c0,.22-.1.47-.17.74L71.07,7.5h-5.7l1.29-4.77a2.27,2.27,0,0,1,.73-1.33A4.36,4.36,0,0,1,69.08,1V.39H61.47V1a4.73,4.73,0,0,1,1.42.25c.22.11.33.36.33.77a2.93,2.93,0,0,1-.08.58c0,.24-.1.48-.17.73L60,14.1a2.73,2.73,0,0,1-.65,1.29,2.47,2.47,0,0,1-1.3.43v.62h7.15v-.62a5.13,5.13,0,0,1-1.42-.24c-.21-.1-.31-.34-.31-.72a3,3,0,0,1,0-.57c0-.16.1-.43.19-.8l1.35-4.94h5.7L69.27,14.1a2.21,2.21,0,0,1-.74,1.33,4.77,4.77,0,0,1-1.69.39v.62h7.63v-.62a4.72,4.72,0,0,1-1.25-.17A.82.82,0,0,1,72.69,14.81Zm13.38.25a10.28,10.28,0,0,1-3.72.61,1.86,1.86,0,0,1-1.08-.21.67.67,0,0,1-.26-.54,2.23,2.23,0,0,1,0-.32,3.38,3.38,0,0,1,.09-.41l1.58-5.86a5.51,5.51,0,0,1,2.75.47,2,2,0,0,1,.7,1.75c0,.11,0,.24,0,.41s0,.37-.07.59l.66.12,1.78-6.56L87.85,5a4.75,4.75,0,0,1-1.64,2.12,10.13,10.13,0,0,1-3.27.41l1.43-5.33a1.56,1.56,0,0,1,.45-.86,2.07,2.07,0,0,1,1.23-.23c1.86,0,3.1.41,3.71,1.23a4.32,4.32,0,0,1,.56,2.47L91,5,92,.39H79.06V1a4.75,4.75,0,0,1,1.43.25c.21.11.32.36.32.77a2.73,2.73,0,0,1-.07.57c0,.22-.11.47-.18.74l-3,10.77a2.4,2.4,0,0,1-.68,1.29,2.58,2.58,0,0,1-1.26.42v.62H89l1.41-4.66-.58-.11A7.22,7.22,0,0,1,86.07,15.06ZM114.32,2.23l-1.43,5.33a10.13,10.13,0,0,0,3.27-.41A4.75,4.75,0,0,0,117.8,5l.67.08-1.78,6.56-.66-.12c0-.22.06-.42.07-.59s0-.3,0-.41a2,2,0,0,0-.71-1.75,5.51,5.51,0,0,0-2.75-.47l-1.58,5.86a3.38,3.38,0,0,0-.09.41,2.23,2.23,0,0,0,0,.32.67.67,0,0,0,.26.54,1.86,1.86,0,0,0,1.08.21,10.28,10.28,0,0,0,3.72-.61,7.22,7.22,0,0,0,3.73-3.39l.58.11-1.41,4.66h-18L98.33,8.51h-.68l-1.42,5-.2.83,0,.2a1.77,1.77,0,0,0,0,.23c0,.43.1.7.31.8a4.51,4.51,0,0,0,1.43.26v.62H90.59v-.62a2.58,2.58,0,0,0,1.26-.42,2.4,2.4,0,0,0,.68-1.29l3-10.77.15-.57a4.09,4.09,0,0,0,.1-.79c0-.38-.11-.62-.32-.73A5.3,5.3,0,0,0,94,1V.39h6.6A10.58,10.58,0,0,1,104,.82a3,3,0,0,1,2.24,3.05,4,4,0,0,1-.38,1.6A4.06,4.06,0,0,1,104.62,7a5.32,5.32,0,0,1-1.45.8c-.33.11-.84.25-1.54.42.08.24.13.4.16.46l1.85,5.42a2.81,2.81,0,0,0,.8,1.38,2.42,2.42,0,0,0,1.23.32,2.64,2.64,0,0,0,1.22-.41,2.47,2.47,0,0,0,.68-1.29l2.94-10.77c.07-.27.13-.52.18-.74a2.73,2.73,0,0,0,.07-.57c0-.41-.11-.66-.32-.77A4.75,4.75,0,0,0,109,1V.39h12.93l-1,4.56-.64-.11a4.39,4.39,0,0,0-.57-2.47c-.61-.82-1.85-1.23-3.71-1.23a2.07,2.07,0,0,0-1.23.23A1.7,1.7,0,0,0,114.32,2.23ZM101.5,6.64a4.76,4.76,0,0,0,.77-1.31,4.68,4.68,0,0,0,.36-1.84,2.72,2.72,0,0,0-.5-1.67,2,2,0,0,0-1.7-.66.94.94,0,0,0-.71.22,1.81,1.81,0,0,0-.39.85L97.88,7.72a10.33,10.33,0,0,0,1.91-.16A3,3,0,0,0,101.5,6.64Z",opacity:1,strokeColor:"",fillColor:"#192760",width:121.306,height:16.899,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Accepted":t={iconName:"Accepted",pathdata:"M22.409,0.000 C22.647,0.006 25.364,2.818 27.458,4.112 28.000,4.448 28.015,5.227 23.803,7.927 12.881,15.464 9.475,23.800 8.332,24.542 6.069,21.014 1.899,14.526 0.095,11.832 0.081,11.023 1.967,10.824 6.581,9.529 7.847,11.400 8.402,13.832 8.952,14.781 16.385,3.230 21.985,0.106 21.985,0.106 21.985,0.106 22.266,-0.003 22.409,0.00021190348 z",opacity:1,strokeColor:"",fillColor:"#516c30",width:27.873,height:24.346,stampFillColor:"#e6eddf",stampStrokeColor:""};break;case"Rejected":t={iconName:"Rejected",pathdata:"M3.8779989,0 L11.294,7.4140023 18.710001,0 22.588001,3.8779911 15.172998,11.293032 22.588001,18.707033 18.710001,22.586 11.294,15.169985 3.8779989,22.586 0,18.707033 7.4150017,11.293032 0,3.8779911 z",opacity:1,strokeColor:"",fillColor:"#8a251a",width:22.588,height:22.586,stampFillColor:"#f6dedd",stampStrokeColor:""};break;case"Rejected_with_border":t={iconName:"Rejected_with_border",pathdata:"M3.8779989,0 L11.294,7.4140023 18.710001,0 22.588001,3.8779911 15.172998,11.293032 22.588001,18.707033 18.710001,22.586 11.294,15.169985 3.8779989,22.586 0,18.707033 7.4150017,11.293032 0,3.8779911 z",opacity:1,strokeColor:"",fillColor:"#192760",width:22.588,height:24.346,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"NotApproved":case"Not Approved":t={iconName:"Not Approved",pathdata:"M0,19.46a1.56,1.56,0,0,0,1.16-.9A19.84,19.84,0,0,0,2.1,15L4.42,2.84l-.09-.3a1.82,1.82,0,0,0-.64-1.06,2.41,2.41,0,0,0-1-.24V.48H6.88l4.49,13.64L13,5.78c.09-.52.17-1,.22-1.39a10.11,10.11,0,0,0,.13-1.34,1.83,1.83,0,0,0-.49-1.48,2.49,2.49,0,0,0-1.13-.33V.48H16v.76l-.29.06a1.42,1.42,0,0,0-1,1,23.7,23.7,0,0,0-.84,3.42L11,20.71h-.51L5.1,4.38,3,15c-.17.87-.28,1.53-.33,2a5.32,5.32,0,0,0,0,.79,1.69,1.69,0,0,0,.54,1.44,2.48,2.48,0,0,0,1.1.32v.76H0ZM17.73,4.53C19.54,1.51,21.55,0,23.79,0a4.4,4.4,0,0,1,3.66,1.92,8.52,8.52,0,0,1,1.43,5.19,17.56,17.56,0,0,1-2.53,9.07q-2.7,4.61-6.21,4.6a4.24,4.24,0,0,1-3.6-1.92,8.6,8.6,0,0,1-1.39-5.14A17.68,17.68,0,0,1,17.73,4.53ZM18.37,18c.33,1.19.93,1.78,1.8,1.78a2.83,2.83,0,0,0,2.22-1.29,16.41,16.41,0,0,0,2.06-4.93,35.53,35.53,0,0,0,1.06-4.83A28.26,28.26,0,0,0,25.9,4.6a5.86,5.86,0,0,0-.52-2.55A1.7,1.7,0,0,0,23.78,1Q21.2,1,19.45,7.53a33,33,0,0,0-1.33,8.26A8.15,8.15,0,0,0,18.37,18Zm11.08,1.48a2.34,2.34,0,0,0,1.3-.26,3,3,0,0,0,.85-1.85l3-15.85A3.54,3.54,0,0,0,32,2.56a8,8,0,0,0-1.82,3.16l-.53-.2.8-5H41.81l-.74,5.66-.54-.07c0-1.92-.41-3.24-1.13-3.94a2.6,2.6,0,0,0-1.74-.63L34.79,16.6l-.17,1a2.43,2.43,0,0,0,0,.33,2.26,2.26,0,0,0,0,.26c0,.5.11.82.33.95a3.94,3.94,0,0,0,1.39.3v.76H29.45Zm26.65.76H50.18v-.71a2.28,2.28,0,0,0,1.25-.41,1.64,1.64,0,0,0,.37-1.29c0-.22,0-.75-.11-1.58,0-.17-.08-.89-.2-2.15H47l-1.2,3c-.08.2-.15.42-.22.66a2.84,2.84,0,0,0-.09.69c0,.41.08.67.25.78a2.91,2.91,0,0,0,1.08.3v.71H42.79v-.71a2.44,2.44,0,0,0,.85-.53,5.59,5.59,0,0,0,.9-1.56L52.21.07h.53l2,16.88A5.46,5.46,0,0,0,55.2,19a1.36,1.36,0,0,0,.9.43Zm-4.76-7.31-.76-7.18-3,7.18Zm4.95,6.53a1.82,1.82,0,0,0,1-.5,3.56,3.56,0,0,0,.58-1.59L60.42,4.11c.06-.3.1-.6.15-.9a5.46,5.46,0,0,0,.06-.72c0-.52-.13-.86-.4-1a2.88,2.88,0,0,0-1.1-.23V.48h5.93a5,5,0,0,1,2.5.57c1.26.73,1.9,2.07,1.9,4a5.81,5.81,0,0,1-1.54,4.22,5.32,5.32,0,0,1-4,1.58l-.59,0-1.2-.11L61,16.6l-.17,1a2.72,2.72,0,0,0,0,.3,2.81,2.81,0,0,0,0,.29c0,.5.09.81.28.94a3.26,3.26,0,0,0,1.23.31v.76h-6Zm6-9.67.38.06H63a3,3,0,0,0,1.62-.36,2.87,2.87,0,0,0,1-1.18,7.28,7.28,0,0,0,.6-2,11.67,11.67,0,0,0,.22-2,4.4,4.4,0,0,0-.41-2,1.44,1.44,0,0,0-1.39-.79.71.71,0,0,0-.65.28,3.7,3.7,0,0,0-.32,1Zm5.61,9.69A1.86,1.86,0,0,0,69,18.94a3.54,3.54,0,0,0,.59-1.59L72.15,4.11q.09-.45.15-.9a5.73,5.73,0,0,0,.07-.72,1.1,1.1,0,0,0-.41-1,2.88,2.88,0,0,0-1.1-.23V.48h5.93a5,5,0,0,1,2.5.57c1.27.73,1.9,2.07,1.9,4a5.77,5.77,0,0,1-1.54,4.22,5.31,5.31,0,0,1-4,1.58l-.6,0-1.2-.11L72.74,16.6l-.17,1a2.72,2.72,0,0,0,0,.3c0,.1,0,.19,0,.29,0,.5.1.81.29.94a3.15,3.15,0,0,0,1.23.31v.76h-6.1Zm6.12-9.69.38.06h.33a3,3,0,0,0,1.62-.36,3,3,0,0,0,1-1.18,7.67,7.67,0,0,0,.59-2,11.67,11.67,0,0,0,.22-2,4.4,4.4,0,0,0-.41-2,1.43,1.43,0,0,0-1.38-.79.73.73,0,0,0-.66.28,3.7,3.7,0,0,0-.32,1Zm5.57,9.69a1.9,1.9,0,0,0,1.09-.52,3.56,3.56,0,0,0,.58-1.59L83.84,4.11c0-.27.09-.51.13-.71a7.08,7.08,0,0,0,.09-1c0-.47-.1-.77-.28-.9a3.53,3.53,0,0,0-1.22-.3V.48h5.68a6.57,6.57,0,0,1,3,.53q1.92,1,1.92,3.75a6.79,6.79,0,0,1-.32,2,5.23,5.23,0,0,1-1.08,1.9,4.56,4.56,0,0,1-1.25,1,11.62,11.62,0,0,1-1.33.52c.07.3.12.49.14.57l1.59,6.66a4.07,4.07,0,0,0,.69,1.7,1.72,1.72,0,0,0,1.13.41v.76H88.52l-2.23-9.76h-.58L84.49,16.6l-.17,1a1,1,0,0,0,0,.25,2.62,2.62,0,0,0,0,.28c0,.53.09.86.26,1a3.11,3.11,0,0,0,1.24.32v.76H79.63ZM87.55,9.3A2.59,2.59,0,0,0,89,8.17a7.24,7.24,0,0,0,.66-1.62A8.18,8.18,0,0,0,90,4.29a4.32,4.32,0,0,0-.43-2,1.5,1.5,0,0,0-1.45-.81.71.71,0,0,0-.62.26,2.78,2.78,0,0,0-.33,1.05L85.91,9.5A6.63,6.63,0,0,0,87.55,9.3Zm8.72-4.77Q99,0,102.32,0A4.37,4.37,0,0,1,106,1.92a8.46,8.46,0,0,1,1.44,5.19,17.58,17.58,0,0,1-2.54,9.07q-2.7,4.61-6.21,4.6a4.27,4.27,0,0,1-3.6-1.92,8.67,8.67,0,0,1-1.38-5.14A17.68,17.68,0,0,1,96.27,4.53ZM96.9,18c.33,1.19.93,1.78,1.8,1.78a2.83,2.83,0,0,0,2.22-1.29A16.63,16.63,0,0,0,103,13.54a37.1,37.1,0,0,0,1.06-4.83,29.49,29.49,0,0,0,.38-4.11,5.86,5.86,0,0,0-.51-2.55A1.71,1.71,0,0,0,102.31,1C100.6,1,99.15,3.17,98,7.53a33.42,33.42,0,0,0-1.33,8.26A8.57,8.57,0,0,0,96.9,18ZM114.35.48v.76a2.57,2.57,0,0,0-1.08.17,1.07,1.07,0,0,0-.5,1,2.53,2.53,0,0,0,0,.28,2.64,2.64,0,0,0,0,.28l1.07,11.76L117.77,6c.31-.71.59-1.41.84-2.11A5.25,5.25,0,0,0,119,2.19a.85.85,0,0,0-.38-.81,3.09,3.09,0,0,0-.95-.14V.48h4v.76a2.08,2.08,0,0,0-.73.45,5.35,5.35,0,0,0-.82,1.4l-7.79,17.69h-.66L110,5.74A22,22,0,0,0,109.46,2c-.16-.39-.58-.62-1.28-.71V.48Zm5.15,19a1.83,1.83,0,0,0,1.08-.52,3.42,3.42,0,0,0,.59-1.59l2.54-13.24c.06-.34.11-.64.15-.92a4.83,4.83,0,0,0,.06-.7c0-.5-.09-.81-.28-.94a3.14,3.14,0,0,0-1.22-.31V.48h11.12l-.87,5.6L132.11,6a7,7,0,0,0-.49-3c-.52-1-1.59-1.51-3.19-1.51-.55,0-.9.09-1.06.28A2.44,2.44,0,0,0,127,2.74L125.76,9.3a6.21,6.21,0,0,0,2.81-.51A6,6,0,0,0,130,6.18l.58.1L129,14.35l-.56-.14c0-.28,0-.52,0-.73s0-.37,0-.51a2.92,2.92,0,0,0-.61-2.15,3.55,3.55,0,0,0-2.37-.57l-1.36,7.2a4.79,4.79,0,0,0-.07.51,3.28,3.28,0,0,0,0,.39,1,1,0,0,0,.22.66,1.24,1.24,0,0,0,.93.26,6.43,6.43,0,0,0,3.21-.75,7.67,7.67,0,0,0,3.21-4.17l.5.13-1.22,5.74H119.5Zm12.79,0a1.87,1.87,0,0,0,1-.41,3.23,3.23,0,0,0,.71-1.71L136.5,4.11c.07-.38.13-.69.17-1a5.89,5.89,0,0,0,.05-.67c0-.5-.1-.81-.29-.94a3.32,3.32,0,0,0-1.22-.31V.48h6a5.35,5.35,0,0,1,4.63,2.22,10.11,10.11,0,0,1,1.58,6,13.3,13.3,0,0,1-2.34,7.84,8,8,0,0,1-6.86,3.7h-5.93ZM143.87,3.39a2.84,2.84,0,0,0-2.79-2,1.08,1.08,0,0,0-.91.31,1.93,1.93,0,0,0-.34.83L137,17.44a3.1,3.1,0,0,0-.06.39c0,.11,0,.21,0,.3a1.22,1.22,0,0,0,.24.84,1.26,1.26,0,0,0,.9.26q3.67,0,5.33-5.42a23.91,23.91,0,0,0,1-6.94A9.45,9.45,0,0,0,143.87,3.39Z",opacity:1,strokeColor:"",fillColor:"#8a251a",width:147.425,height:20.783,stampFillColor:"#f6dedd",stampStrokeColor:""};break;case"Draft":t={iconName:"Draft",pathdata:"M24.92,3Q22,.46,16.4.46h-11v.87a9.38,9.38,0,0,1,2.24.35q.54.23.54,1.08a3.24,3.24,0,0,1-.1.76c-.07.29-.17.65-.31,1.08L3.08,19.69a3.26,3.26,0,0,1-1.32,1.95A4.67,4.67,0,0,1,0,22.1V23H10.91q7.8,0,12.61-4.22a11.56,11.56,0,0,0,4.32-8.94A8.58,8.58,0,0,0,24.92,3ZM20.41,15.66a10.18,10.18,0,0,1-9.8,6.18A3.18,3.18,0,0,1,9,21.54a1,1,0,0,1-.46-.95,2.47,2.47,0,0,1,0-.35,3,3,0,0,1,.1-.44l5.24-17a1.91,1.91,0,0,1,.62-.95,2.81,2.81,0,0,1,1.66-.35c2.44,0,4.15.76,5.15,2.27a7.29,7.29,0,0,1,.94,4A17.63,17.63,0,0,1,20.41,15.66ZM49.75,9.74a5.84,5.84,0,0,0,2-2.16,5.1,5.1,0,0,0,.59-2.24c0-2.1-1.18-3.53-3.54-4.27A18.67,18.67,0,0,0,43.36.46H32.92v.87a8.79,8.79,0,0,1,2.24.35c.35.14.52.48.52,1a5.36,5.36,0,0,1-.17,1.11c-.06.23-.14.5-.23.8L30.61,19.7a3.26,3.26,0,0,1-1.08,1.81,4.44,4.44,0,0,1-2,.59V23H38.85V22.1a8.54,8.54,0,0,1-2.28-.36c-.32-.15-.49-.53-.49-1.13,0-.11,0-.21,0-.32a1.15,1.15,0,0,1,.06-.28l.31-1.16,2.25-7h1.07L43.89,23h7.64V22.1a4.27,4.27,0,0,1-2.07-.47,3.91,3.91,0,0,1-1.27-1.93l-2.92-7.6a4.67,4.67,0,0,1-.25-.65c1.1-.23,1.91-.42,2.43-.59A8.49,8.49,0,0,0,49.75,9.74ZM46,7.39a6.73,6.73,0,0,1-1.21,1.84,5,5,0,0,1-2.72,1.29,19.56,19.56,0,0,1-3,.23L41.38,3A2.54,2.54,0,0,1,42,1.85a1.76,1.76,0,0,1,1.14-.31,3.38,3.38,0,0,1,2.69.93,3.52,3.52,0,0,1,.79,2.34A5.94,5.94,0,0,1,46,7.39Zm27.9,11.85L70.29,0h-1L55.21,19.78a6.61,6.61,0,0,1-1.66,1.78,5.3,5.3,0,0,1-1.55.6V23h7.45v-.81a8,8,0,0,1-2-.34.85.85,0,0,1-.47-.89,2,2,0,0,1,.17-.79,5.32,5.32,0,0,1,.4-.75L59.8,16H68c.22,1.44.35,2.25.37,2.45a16,16,0,0,1,.2,1.81,1.51,1.51,0,0,1-.67,1.47,6.38,6.38,0,0,1-2.31.46V23H77.1v-.81a4.28,4.28,0,0,1-2.28-.55A4.47,4.47,0,0,1,73.93,19.24ZM60.7,14.64l5.62-8.19,1.4,8.19ZM84,.46h20.2l-1.61,6.39-1-.15a5.61,5.61,0,0,0-.88-3.43Q99.2,1.52,94.86,1.51a3.56,3.56,0,0,0-1.76.3A2.05,2.05,0,0,0,92.34,3L90.1,10.5A16.53,16.53,0,0,0,95,9.91c.77-.33,1.62-1.32,2.56-3l1.06.12-2.82,9.2-1-.17c0-.33.08-.61.1-.85s0-.43,0-.56a2.76,2.76,0,0,0-1-2.38c-.66-.49-2.07-.73-4.23-.73l-2.5,8.22a3.56,3.56,0,0,0-.09.39,1.55,1.55,0,0,0,0,.37,1.32,1.32,0,0,0,1,1.33,5.52,5.52,0,0,0,1.78.21V23H78.58V22.1a4.35,4.35,0,0,0,2-.61,3.33,3.33,0,0,0,1.06-1.8L86.32,4.6c.09-.31.16-.58.23-.81a5.05,5.05,0,0,0,.16-1.1c0-.53-.17-.87-.52-1A8.7,8.7,0,0,0,84,1.33Zm24.1,0h20.89l-1.37,6.46-1-.08c-.07-2.2-.76-3.69-2.09-4.49a6.61,6.61,0,0,0-3.2-.72L116,18.84,115.7,20a2.63,2.63,0,0,0-.07.38,1.51,1.51,0,0,0,0,.3c0,.57.2.94.61,1.08a11.19,11.19,0,0,0,2.56.34V23H106.2V22.1a6.49,6.49,0,0,0,2.4-.3,3.19,3.19,0,0,0,1.56-2.1l5.58-18.07a9.07,9.07,0,0,0-4.83,1.2,9.52,9.52,0,0,0-3.34,3.61l-1-.23Z",opacity:1,strokeColor:"",fillColor:"#192760",width:128.941,height:22.97,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Final":t={iconName:"Final",pathdata:"M24.94,6l-1.06-.13a4.37,4.37,0,0,0-.91-3q-1.51-1.54-6-1.54a4.28,4.28,0,0,0-1.83.26,1.8,1.8,0,0,0-.78,1.08L12,9.21a20.26,20.26,0,0,0,5.15-.52A6.49,6.49,0,0,0,19.8,6.1l1.1.1L18,14.27l-1.09-.15a6.34,6.34,0,0,0,.11-.74c0-.22,0-.38,0-.5a2.26,2.26,0,0,0-1-2.09c-.68-.42-2.15-.63-4.39-.63L9,17.37a3.09,3.09,0,0,0-.1.34,1.22,1.22,0,0,0,0,.32,1.18,1.18,0,0,0,1,1.17,7,7,0,0,0,1.86.18v.77H0v-.77a5.14,5.14,0,0,0,2.11-.53,3,3,0,0,0,1.1-1.58L8.06,4c.09-.27.17-.5.23-.7a3.74,3.74,0,0,0,.18-1,.83.83,0,0,0-.55-.89,10.94,10.94,0,0,0-2.33-.3V.4h21Zm8.54,12.11a1.49,1.49,0,0,1,0-.28,2.46,2.46,0,0,1,.07-.29l.3-1L38.76,3.29a2.93,2.93,0,0,1,1.09-1.6A5.42,5.42,0,0,1,42,1.17V.4H30.17v.77a10.52,10.52,0,0,1,2.34.31.88.88,0,0,1,.56.94,2.58,2.58,0,0,1-.11.67c-.07.26-.18.57-.32,1L27.79,17.28a2.94,2.94,0,0,1-1.12,1.59,5.28,5.28,0,0,1-2.09.51v.77H36.36v-.77A10.22,10.22,0,0,1,34,19.07.89.89,0,0,1,33.48,18.12ZM66.19,2.24a2.53,2.53,0,0,1,1.87-1l.56-.06V.4H60.5v.77a8,8,0,0,1,2.16.33,1.47,1.47,0,0,1,1,1.48,5.61,5.61,0,0,1-.25,1.34c-.11.4-.25.87-.43,1.38l-3.08,8.35L51.26.4h-8v.77a8.44,8.44,0,0,1,1.86.24,2.26,2.26,0,0,1,1.22,1.05l.17.31L42.11,14.88a13.74,13.74,0,0,1-1.8,3.61,3.36,3.36,0,0,1-2.22.89v.77h8.23v-.77a7.75,7.75,0,0,1-2.1-.31,1.45,1.45,0,0,1-1-1.44,3.56,3.56,0,0,1,.1-.79,16.15,16.15,0,0,1,.64-2L47.85,4.31,58.11,20.64h1l5.5-15A15.48,15.48,0,0,1,66.19,2.24Zm23,17.13v.78H78.08v-.71A7.47,7.47,0,0,0,80.49,19a1.25,1.25,0,0,0,.7-1.29A13.26,13.26,0,0,0,81,16.16c0-.18-.16-.89-.39-2.15H72.06l-2.3,3a3.7,3.7,0,0,0-.42.66,1.54,1.54,0,0,0-.18.69.74.74,0,0,0,.49.78,10.28,10.28,0,0,0,2.06.3v.71H63.94v-.71a6.43,6.43,0,0,0,1.63-.53,6.63,6.63,0,0,0,1.72-1.56L82,0h1l3.78,16.88A3.69,3.69,0,0,0,87.7,19,3.53,3.53,0,0,0,89.24,19.37Zm-8.93-6.53L78.86,5.65,73,12.84Zm32.8,1.44a11.51,11.51,0,0,1-5.23,3.88,21.36,21.36,0,0,1-7,1A4.88,4.88,0,0,1,99.22,19a.74.74,0,0,1-.58-.71,2.33,2.33,0,0,1,0-.48c0-.13.08-.28.13-.43L104,3.29a2.72,2.72,0,0,1,1.19-1.64,9.4,9.4,0,0,1,2.79-.48V.4H95.4v.77a10.42,10.42,0,0,1,2.34.31.88.88,0,0,1,.56.94,2.58,2.58,0,0,1-.11.67c-.07.25-.17.57-.31.94L93,17.27a2.92,2.92,0,0,1-1.12,1.6,4.59,4.59,0,0,1-1.71.47v.81h21.55l2.32-5.74Z",opacity:1,strokeColor:"",fillColor:"#516c30",width:114.058,height:20.639,stampFillColor:"#e6eddf",stampStrokeColor:""};break;case"Completed":t={iconName:"Completed",pathdata:"M16.37,0,15.08,6.9l-.79-.17c0-.41,0-.66,0-.73a2.73,2.73,0,0,0,0-.32,5.33,5.33,0,0,0-.94-3.47A3,3,0,0,0,11,1.07c-2,0-3.68,1.51-5.13,4.55a18.84,18.84,0,0,0-2,8.29q0,3.06,1.2,4.2a3.82,3.82,0,0,0,2.64,1.13,5.3,5.3,0,0,0,3.51-1.43,10.75,10.75,0,0,0,1.78-2.09l.77.65a9.32,9.32,0,0,1-3.12,3.35A7,7,0,0,1,7,20.81a6.66,6.66,0,0,1-5-2.08,7.72,7.72,0,0,1-2-5.57A14.57,14.57,0,0,1,3.05,3.92Q6.1,0,10.29,0A8.92,8.92,0,0,1,13,.43a9.09,9.09,0,0,0,1.65.43.72.72,0,0,0,.6-.23A2.55,2.55,0,0,0,15.6,0ZM32.83,7.11a15.24,15.24,0,0,1-3.11,9.07q-3.31,4.61-7.63,4.6a5.63,5.63,0,0,1-4.42-1.92A7.47,7.47,0,0,1,16,13.72a15.27,15.27,0,0,1,3.18-9.19Q22.46,0,26.57,0a5.82,5.82,0,0,1,4.5,1.92A7.35,7.35,0,0,1,32.83,7.11ZM29.16,4.6a4.92,4.92,0,0,0-.63-2.55,2.14,2.14,0,0,0-2-1.06Q23.4,1,21.24,7.53a27.45,27.45,0,0,0-1.63,8.26A6.68,6.68,0,0,0,19.92,18a2.24,2.24,0,0,0,2.2,1.78,3.71,3.71,0,0,0,2.73-1.29,15,15,0,0,0,2.54-4.93,30.56,30.56,0,0,0,1.3-4.83A23,23,0,0,0,29.16,4.6Zm21.2,13.62a3.83,3.83,0,0,1,.08-.75,8.6,8.6,0,0,1,.19-.88L53.75,3.31a3,3,0,0,1,.85-1.67,2.72,2.72,0,0,1,1.21-.4V.48H50.42L42.66,14.39,41.21.48h-5.8v.76a4.65,4.65,0,0,1,1.45.21c.26.11.38.37.38.78a4.57,4.57,0,0,1-.08.75c-.06.28-.13.61-.23,1L34.34,15a16.85,16.85,0,0,1-1.16,3.65,1.9,1.9,0,0,1-1.42.86v.76h5.3v-.76a3.22,3.22,0,0,1-1.32-.29A1.48,1.48,0,0,1,35,17.74a8.32,8.32,0,0,1,.17-1.42c.07-.37.17-.82.3-1.37L38.06,4.23l1.71,16.38h.71L50,3.76l-3.2,13.58A2.84,2.84,0,0,1,46,19a4.06,4.06,0,0,1-1.76.49v.76h7.93v-.76a4.79,4.79,0,0,1-1.49-.31Q50.36,19,50.36,18.22ZM67.69,9.29a7.39,7.39,0,0,1-4.89,1.58l-.73,0-1.48-.11L59.21,16.6l-.21,1a1,1,0,0,0,0,.3,2.83,2.83,0,0,0,0,.29c0,.5.12.81.35.94a4.74,4.74,0,0,0,1.51.31v.76H53.31v-.76a2.52,2.52,0,0,0,1.33-.52,3.18,3.18,0,0,0,.72-1.59L58.48,4.11q.1-.45.18-.9a4.48,4.48,0,0,0,.08-.72,1,1,0,0,0-.49-1,4.36,4.36,0,0,0-1.36-.23V.48h7.29a7.29,7.29,0,0,1,3.07.57,4,4,0,0,1,2.33,4A5.22,5.22,0,0,1,67.69,9.29Zm-1.8-5a3.65,3.65,0,0,0-.51-2,1.85,1.85,0,0,0-1.7-.79,1,1,0,0,0-.8.28,3.27,3.27,0,0,0-.4,1l-1.66,7,.47.06h.41a4.37,4.37,0,0,0,2-.36,3.14,3.14,0,0,0,1.2-1.18,6.51,6.51,0,0,0,.74-2A9.87,9.87,0,0,0,65.89,4.25Zm16.9,10.1a8.71,8.71,0,0,1-3.35,3.88,9.36,9.36,0,0,1-4.53,1,2.15,2.15,0,0,1-1-.21.75.75,0,0,1-.37-.71,3.18,3.18,0,0,1,0-.47c0-.14,0-.28.08-.44l3.3-14.08a2.94,2.94,0,0,1,.77-1.64,4.47,4.47,0,0,1,1.79-.48V.48h-8v.76a4.8,4.8,0,0,1,1.5.31c.23.13.35.44.35.94a4.36,4.36,0,0,1-.06.67c0,.26-.12.57-.21,1L69.9,17.34a3.18,3.18,0,0,1-.72,1.6,2.53,2.53,0,0,1-1.34.52v.76H81.91l1.49-5.74ZM85.73,1.24a4.59,4.59,0,0,1,1.5.31c.23.13.34.44.34.94a3.84,3.84,0,0,1-.07.7c0,.28-.11.58-.19.92L84.2,17.35a3.18,3.18,0,0,1-.72,1.59,2.27,2.27,0,0,1-1.06.47h-.07v.8H96.2l1.5-5.74-.62-.13a8.14,8.14,0,0,1-3.94,4.17,9.39,9.39,0,0,1-3.94.75A1.75,1.75,0,0,1,88.06,19a.87.87,0,0,1-.27-.66,3.28,3.28,0,0,1,0-.39,5,5,0,0,1,.09-.51l1.67-7.2a5.16,5.16,0,0,1,2.91.57A2.58,2.58,0,0,1,93.24,13c0,.14,0,.31,0,.51s0,.45-.07.73l.7.14,1.88-8.07L95,6.18a5.62,5.62,0,0,1-1.74,2.61,9.05,9.05,0,0,1-3.45.51l1.51-6.56a2.23,2.23,0,0,1,.47-1.06,2,2,0,0,1,1.3-.28c2,0,3.29.5,3.93,1.51a6.13,6.13,0,0,1,.6,3l.68.13L99.4.48H85.73ZM114,6.14l.92-5.66h-14l-1,5,.66.2a7.81,7.81,0,0,1,2.23-3.16,4.91,4.91,0,0,1,3.23-1.06l-3.73,15.85a2.84,2.84,0,0,1-1,1.85,3.48,3.48,0,0,1-1.6.26v.76h8.4v-.76a5.82,5.82,0,0,1-1.71-.3c-.27-.13-.41-.45-.41-.95a2.26,2.26,0,0,1,0-.26c0-.09,0-.2,0-.33l.21-1,3.53-15.1a3.65,3.65,0,0,1,2.14.63c.89.7,1.35,2,1.39,3.94Zm9.44,12.38a9.39,9.39,0,0,1-3.94.75,1.77,1.77,0,0,1-1.14-.26.87.87,0,0,1-.27-.66,3.28,3.28,0,0,1,0-.39,5,5,0,0,1,.09-.51l1.67-7.2a5.12,5.12,0,0,1,2.91.57,2.58,2.58,0,0,1,.75,2.15c0,.14,0,.31,0,.51s0,.45-.07.73l.7.14L126,6.28l-.7-.1a5.78,5.78,0,0,1-1.74,2.61,9.16,9.16,0,0,1-3.46.51l1.51-6.56a2.14,2.14,0,0,1,.48-1.06,2,2,0,0,1,1.3-.28c2,0,3.28.5,3.92,1.51a6,6,0,0,1,.6,3l.68.13,1.08-5.6H116v.76a4.67,4.67,0,0,1,1.51.31c.22.13.34.44.34.94a4,4,0,0,1-.08.7c0,.28-.11.58-.18.92l-3.12,13.24a3.18,3.18,0,0,1-.72,1.59,2.56,2.56,0,0,1-1.34.52v.76h14.06l1.5-5.74-.62-.13A8.14,8.14,0,0,1,123.39,18.52Zm23.32-9.84a11.62,11.62,0,0,1-2.89,7.84,10.6,10.6,0,0,1-8.42,3.7h-7.29v-.76a2.58,2.58,0,0,0,1.18-.41,2.94,2.94,0,0,0,.88-1.71l3.11-13.23c.09-.38.16-.69.21-1a4.49,4.49,0,0,0,.07-.67c0-.5-.12-.81-.36-.94a4.8,4.8,0,0,0-1.5-.31V.48h7.36a7.16,7.16,0,0,1,5.69,2.22A8.72,8.72,0,0,1,146.71,8.68ZM143,6.87a8,8,0,0,0-.64-3.48,3.52,3.52,0,0,0-3.44-2,1.52,1.52,0,0,0-1.11.31,1.75,1.75,0,0,0-.41.83l-3.5,14.9c0,.14,0,.27-.07.39s0,.21,0,.3a1.06,1.06,0,0,0,.3.84,1.75,1.75,0,0,0,1.1.26q4.53,0,6.55-5.42A19.84,19.84,0,0,0,143,6.87Z",opacity:1,strokeColor:"",fillColor:"#516c30",width:146.706,height:20.811,stampFillColor:"#e6eddf",stampStrokeColor:""};break;case"ForPublicRelease":case"For Public Release":t={iconName:"For Public Release",pathdata:"M10.33.48l-.65,5.6L9.27,6a9.74,9.74,0,0,0-.36-3A2.27,2.27,0,0,0,6.57,1.4a.85.85,0,0,0-.71.26,2.67,2.67,0,0,0-.3,1.08L4.65,9.28a3.45,3.45,0,0,0,2-.52,6.65,6.65,0,0,0,1-2.59l.43.1L7,14.34l-.42-.14c0-.29,0-.54,0-.75s0-.38,0-.49a4.17,4.17,0,0,0-.39-2.09,1.91,1.91,0,0,0-1.71-.64l-1,7.21c0,.13,0,.24,0,.35s0,.21,0,.31a1.45,1.45,0,0,0,.38,1.17,1.17,1.17,0,0,0,.72.19v.76H0v-.76a1.31,1.31,0,0,0,.82-.54,4.39,4.39,0,0,0,.42-1.58L3.13,4.11c0-.27.06-.51.09-.71,0-.41.07-.73.07-1a1.34,1.34,0,0,0-.21-.9,2.13,2.13,0,0,0-.91-.3V.48ZM20.5,7.11a22.43,22.43,0,0,1-1.88,9.07q-2,4.61-4.62,4.6a3,3,0,0,1-2.67-1.92,10.91,10.91,0,0,1-1-5.14,22.46,22.46,0,0,1,1.92-9.19Q14.23,0,16.71,0a3.11,3.11,0,0,1,2.72,1.92A10.72,10.72,0,0,1,20.5,7.11ZM18.28,4.6a7.7,7.7,0,0,0-.38-2.55c-.26-.7-.65-1-1.19-1-1.28,0-2.35,2.17-3.22,6.53a43.69,43.69,0,0,0-1,8.26,10.72,10.72,0,0,0,.19,2.2c.24,1.18.69,1.77,1.33,1.77s1.16-.43,1.65-1.29a19.35,19.35,0,0,0,1.54-4.93A48.7,48.7,0,0,0,18,8.71,38.21,38.21,0,0,0,18.28,4.6Zm11.59.16a8.73,8.73,0,0,1-.24,2,5.64,5.64,0,0,1-.8,1.9,3.49,3.49,0,0,1-.93,1,7.31,7.31,0,0,1-1,.52c0,.3.08.49.1.57l1.18,6.66a4.54,4.54,0,0,0,.52,1.7,1.1,1.1,0,0,0,.83.41v.76H26.46l-1.65-9.76h-.43l-.91,6.14-.13,1a2,2,0,0,0,0,.25,2.62,2.62,0,0,0,0,.28,1.57,1.57,0,0,0,.2,1,1.77,1.77,0,0,0,.92.32v.76H19.86v-.76a1.33,1.33,0,0,0,.81-.52,4.35,4.35,0,0,0,.43-1.59L23,4.11c0-.27.07-.51.09-.71a8.23,8.23,0,0,0,.07-1,1.3,1.3,0,0,0-.21-.9,2.08,2.08,0,0,0-.91-.3V.48h4.22A3.79,3.79,0,0,1,28.44,1C29.4,1.66,29.87,2.91,29.87,4.76Zm-2.31-.47a5.77,5.77,0,0,0-.32-2,1.12,1.12,0,0,0-1.09-.81.5.5,0,0,0-.46.26,3.87,3.87,0,0,0-.24,1.05L24.52,9.5a3.73,3.73,0,0,0,1.22-.2,2.1,2.1,0,0,0,1.1-1.13,8.41,8.41,0,0,0,.49-1.62A10.75,10.75,0,0,0,27.56,4.29Zm14.92.78a7.06,7.06,0,0,1-1.14,4.22,3.5,3.5,0,0,1-3,1.58l-.44,0-.89-.11-.84,5.86-.12,1a1.45,1.45,0,0,0,0,.3,2.81,2.81,0,0,0,0,.29,1.38,1.38,0,0,0,.21.94,1.93,1.93,0,0,0,.91.31v.76H32.65v-.76a1.28,1.28,0,0,0,.8-.52,4.3,4.3,0,0,0,.44-1.59L35.77,4.11c0-.3.08-.6.11-.9a5.21,5.21,0,0,0,0-.72,1.29,1.29,0,0,0-.3-1,1.82,1.82,0,0,0-.81-.23V.48h4.4a3,3,0,0,1,1.86.57C42,1.78,42.48,3.12,42.48,5.07Zm-2.23-.82a5.74,5.74,0,0,0-.3-2,1.07,1.07,0,0,0-1-.79.5.5,0,0,0-.49.28,5.11,5.11,0,0,0-.24,1l-1,7,.28.06h.25a1.79,1.79,0,0,0,1.2-.36,2.88,2.88,0,0,0,.73-1.18,10.56,10.56,0,0,0,.44-2A15.74,15.74,0,0,0,40.25,4.25Zm12.91-3V.48H50v.76a1.46,1.46,0,0,1,.82.32A2,2,0,0,1,51.24,3a15,15,0,0,1-.14,1.57q0-.17-.15,1.17l-.89,6.16a29.63,29.63,0,0,1-1,4.77c-.55,1.63-1.31,2.44-2.28,2.44a1.59,1.59,0,0,1-1.38-.77,4.16,4.16,0,0,1-.5-2.23q0-.63.15-2c.06-.5.15-1.14.27-1.93l1.26-8.84a4.13,4.13,0,0,1,.46-1.66,1.66,1.66,0,0,1,1-.46V.48H43.34v.76a2,2,0,0,1,.9.3,1.3,1.3,0,0,1,.21.9,7.27,7.27,0,0,1,0,.75c0,.29-.07.59-.11.92l-1,7.24c-.16,1.14-.27,1.93-.32,2.38a19.16,19.16,0,0,0-.12,2,6.13,6.13,0,0,0,1,3.71,2.93,2.93,0,0,0,2.43,1.33c1.39,0,2.45-.9,3.17-2.69a29.58,29.58,0,0,0,1.23-5.61l1-6.74A24.45,24.45,0,0,1,52.3,2.1,1.22,1.22,0,0,1,53.16,1.24Zm7.14,9.82a5.87,5.87,0,0,1,.68,3,8.55,8.55,0,0,1-1,4.27,3.68,3.68,0,0,1-3.48,1.84H51.82v-.76a1.3,1.3,0,0,0,.72-.4,3.94,3.94,0,0,0,.52-1.71L55,4.1c0-.39.09-.72.12-1s0-.46,0-.6c0-.53-.07-.86-.23-1A1.64,1.64,0,0,0,54,1.24V.48h4.17a3.4,3.4,0,0,1,2.67,1,4.91,4.91,0,0,1,1,3.38,5.33,5.33,0,0,1-1.17,3.61,4.8,4.8,0,0,1-1.68,1.22A4.84,4.84,0,0,1,60.3,11.06Zm-1.66,2.45a3.81,3.81,0,0,0-.73-2.74,2.63,2.63,0,0,0-1.58-.52l-1,7.2a4,4,0,0,0-.05.4c0,.15,0,.32,0,.51a.9.9,0,0,0,.33.82,1.13,1.13,0,0,0,.59.12c1,0,1.67-.87,2.1-2.59A13.54,13.54,0,0,0,58.64,13.51Zm.12-5.29A5.92,5.92,0,0,0,59.4,6.1a12.74,12.74,0,0,0,.13-1.74,6.54,6.54,0,0,0-.29-2.11,1.11,1.11,0,0,0-1.13-.81.49.49,0,0,0-.49.32,3.52,3.52,0,0,0-.23,1l-.94,6.62A7.45,7.45,0,0,0,58,9,1.8,1.8,0,0,0,58.76,8.22Zm11.71,6.14a8.78,8.78,0,0,1-2,3.87,4,4,0,0,1-2.74,1,.89.89,0,0,1-.63-.21.93.93,0,0,1-.22-.7,3.4,3.4,0,0,1,0-.48c0-.14,0-.28,0-.44l2-14.08a3.8,3.8,0,0,1,.47-1.64,1.94,1.94,0,0,1,1.08-.48V.48H63.6v.76a2,2,0,0,1,.91.31,1.36,1.36,0,0,1,.22.94c0,.2,0,.42,0,.67s-.07.57-.13,1L62.68,17.34a4.31,4.31,0,0,1-.44,1.6,1.28,1.28,0,0,1-.8.52v.76h8.5l.9-5.74ZM76.89.48H72.32v.76a1.92,1.92,0,0,1,.9.31c.15.13.22.44.22.94a5.56,5.56,0,0,1,0,.67c0,.26-.07.57-.12,1L71.39,17.35A4.35,4.35,0,0,1,71,18.94a1.33,1.33,0,0,1-.81.52v.76h4.57v-.76a1.81,1.81,0,0,1-.91-.32,1.39,1.39,0,0,1-.21-.94c0-.09,0-.18,0-.28l0-.3.12-1L75.65,3.36a4.43,4.43,0,0,1,.43-1.6,1.3,1.3,0,0,1,.81-.52Zm8.46.15A.38.38,0,0,1,85,.87a4.12,4.12,0,0,1-1-.44A3.51,3.51,0,0,0,82.37,0Q79.84,0,78,3.92a21.42,21.42,0,0,0-1.84,9.24,11.15,11.15,0,0,0,1.2,5.57,3.51,3.51,0,0,0,3.05,2.08,3.15,3.15,0,0,0,2.21-1.09,8.92,8.92,0,0,0,1.89-3.35L84,15.72A11.08,11.08,0,0,1,83,17.81a2.71,2.71,0,0,1-2.12,1.43,2,2,0,0,1-1.59-1.13,8.33,8.33,0,0,1-.74-4.2A29.46,29.46,0,0,1,79.7,5.62Q81,1.08,82.8,1.07c.59,0,1.07.38,1.45,1.14a8,8,0,0,1,.57,3.47,2.73,2.73,0,0,1,0,.32c0,.08,0,.32,0,.73l.48.17L86.05,0h-.47A2.93,2.93,0,0,1,85.35.63Zm21.41,13.73.37.12-.9,5.74H94.72l-1.66-9.76h-.43l-.91,6.14-.13,1c0,.08,0,.16,0,.25s0,.19,0,.28a1.57,1.57,0,0,0,.2,1,1.81,1.81,0,0,0,.92.32v.76H88.11v-.76a1.3,1.3,0,0,0,.81-.52,4.35,4.35,0,0,0,.43-1.59L91.24,4.11c0-.27.07-.51.09-.71a8.23,8.23,0,0,0,.07-1,1.3,1.3,0,0,0-.21-.9,2.08,2.08,0,0,0-.91-.3V.48h4.23A3.81,3.81,0,0,1,96.7,1c1,.65,1.43,1.9,1.43,3.75a8.73,8.73,0,0,1-.24,2,5.66,5.66,0,0,1-.81,1.9,3.49,3.49,0,0,1-.93,1,6.73,6.73,0,0,1-1,.52c0,.3.09.49.1.57l1.18,6.66a4.74,4.74,0,0,0,.52,1.7,1,1,0,0,0,.78.39,1.23,1.23,0,0,0,.78-.5A4.3,4.3,0,0,0,99,17.35l1.88-13.24c.05-.34.09-.64.12-.92a6.28,6.28,0,0,0,0-.7,1.45,1.45,0,0,0-.2-.94,2,2,0,0,0-.91-.31V.48h8.26l-.65,5.6L107.1,6a9.57,9.57,0,0,0-.36-3,2.3,2.3,0,0,0-2.38-1.51c-.41,0-.67.09-.78.28a2.87,2.87,0,0,0-.29,1.06l-.91,6.56a3.57,3.57,0,0,0,2.08-.51,6.59,6.59,0,0,0,1.06-2.61l.42.1-1.14,8.08-.42-.15c0-.28,0-.52.05-.73s0-.37,0-.51a3.6,3.6,0,0,0-.46-2.15,2.14,2.14,0,0,0-1.75-.57l-1,7.2a4.7,4.7,0,0,0-.06.51c0,.16,0,.29,0,.39a1.12,1.12,0,0,0,.17.66.77.77,0,0,0,.69.26,3.77,3.77,0,0,0,2.37-.75A7.71,7.71,0,0,0,106.76,14.36ZM95.09,8.17a7.75,7.75,0,0,0,.49-1.62,10.75,10.75,0,0,0,.23-2.26,5.77,5.77,0,0,0-.32-2,1.11,1.11,0,0,0-1.08-.81.48.48,0,0,0-.46.26,3.44,3.44,0,0,0-.25,1.05L92.78,9.5A3.78,3.78,0,0,0,94,9.3,2.08,2.08,0,0,0,95.09,8.17Zm21.32,6.19a8.67,8.67,0,0,1-2,3.87,4,4,0,0,1-2.73,1,.89.89,0,0,1-.63-.21.93.93,0,0,1-.23-.7c0-.19,0-.35,0-.48s0-.28,0-.44l2-14.08a3.84,3.84,0,0,1,.46-1.64,2,2,0,0,1,1.08-.48V.48h-4.86v.76a2,2,0,0,1,.91.31,1.38,1.38,0,0,1,.21.94,5.56,5.56,0,0,1,0,.67c0,.26-.07.57-.12,1l-1.89,13.23a4.16,4.16,0,0,1-.43,1.6,1.27,1.27,0,0,1-.81.52v.76h8.51l.9-5.74Zm8.64,0a7.71,7.71,0,0,1-2.38,4.16,3.82,3.82,0,0,1-2.38.75.77.77,0,0,1-.69-.26,1.2,1.2,0,0,1-.17-.66c0-.1,0-.23,0-.39a4.7,4.7,0,0,1,.06-.51l1-7.2a2.17,2.17,0,0,1,1.76.57,3.69,3.69,0,0,1,.45,2.15c0,.14,0,.31,0,.51s0,.45,0,.73l.42.15,1.13-8.08-.42-.1a6.79,6.79,0,0,1-1,2.61,3.63,3.63,0,0,1-2.09.51l.91-6.56a2.87,2.87,0,0,1,.29-1.06c.12-.19.38-.28.78-.28A2.3,2.3,0,0,1,125,2.91a9.57,9.57,0,0,1,.36,3l.41.13.65-5.6h-8.26v.76a1.93,1.93,0,0,1,.91.31,1.45,1.45,0,0,1,.2.94,6.28,6.28,0,0,1,0,.7c0,.28-.07.58-.11.92l-1.89,13.24a4.35,4.35,0,0,1-.43,1.59,1.33,1.33,0,0,1-.81.52v.76h8.5l.91-5.74Zm10.29,5.15v.71h-4.65v-.71a1.44,1.44,0,0,0,.93-.41,2.08,2.08,0,0,0,.27-1.29c0-.22,0-.75-.08-1.58,0-.17-.06-.89-.15-2.15h-3.31l-.89,3a5.32,5.32,0,0,0-.16.66,3.4,3.4,0,0,0-.08.69,1.06,1.06,0,0,0,.2.78,1.68,1.68,0,0,0,.79.3v.71h-3v-.71a1.8,1.8,0,0,0,.63-.53,6.45,6.45,0,0,0,.67-1.56L132.19.07h.4L134.06,17a7.15,7.15,0,0,0,.36,2.08A1.13,1.13,0,0,0,135.34,19.51Zm-3.79-6.6L131,5.73l-2.27,7.18Zm9.6-4-1.32-2.09a4.57,4.57,0,0,1-.47-.94,5.12,5.12,0,0,1-.28-1.78,5.57,5.57,0,0,1,.27-1.77c.27-.83.7-1.24,1.29-1.24s1.21.51,1.57,1.54A8.78,8.78,0,0,1,142.65,5l.06,1,.39.1.63-5.91h-.46a2.09,2.09,0,0,1-.25.54.46.46,0,0,1-.41.21.57.57,0,0,1-.24-.05,1.23,1.23,0,0,1-.26-.12l-.39-.24a2.34,2.34,0,0,0-.5-.25,2.41,2.41,0,0,0-.85-.16,2.55,2.55,0,0,0-2.31,1.67,9.11,9.11,0,0,0-.83,4.05,10.47,10.47,0,0,0,1.88,5.5A9.21,9.21,0,0,1,141,16a6.49,6.49,0,0,1-.5,2.63,1.59,1.59,0,0,1-1.43,1.14,1.42,1.42,0,0,1-1-.4,3.55,3.55,0,0,1-.78-1.16,7.09,7.09,0,0,1-.52-1.92c-.05-.43-.1-1.12-.13-2.06l-.44-.06-.55,6.62h.46a4.11,4.11,0,0,1,.25-.82.36.36,0,0,1,.36-.23.47.47,0,0,1,.17,0,2.38,2.38,0,0,1,.27.18l.39.27a3.52,3.52,0,0,0,.84.43,2.48,2.48,0,0,0,.84.15,2.91,2.91,0,0,0,2.63-1.88,9.24,9.24,0,0,0,1-4.21,9.85,9.85,0,0,0-.49-3.24A12.1,12.1,0,0,0,141.15,8.92Zm7.75-7.24c.12-.19.38-.28.78-.28a2.3,2.3,0,0,1,2.38,1.51,9.57,9.57,0,0,1,.36,3l.41.13.65-5.6h-8.26v.76a1.93,1.93,0,0,1,.91.31c.14.13.2.44.2.94a6.28,6.28,0,0,1,0,.7c0,.28-.07.58-.11.92l-1.89,13.24a4.35,4.35,0,0,1-.43,1.59,1.33,1.33,0,0,1-.81.52v.76h8.5l.91-5.74-.38-.12a7.71,7.71,0,0,1-2.38,4.16,3.82,3.82,0,0,1-2.38.75.77.77,0,0,1-.69-.26,1.2,1.2,0,0,1-.17-.66c0-.1,0-.23,0-.39a4.7,4.7,0,0,1,.06-.51l1-7.2a2.17,2.17,0,0,1,1.76.57,3.69,3.69,0,0,1,.45,2.15c0,.14,0,.31,0,.51s0,.45,0,.73l.42.15,1.14-8.08-.43-.1a6.79,6.79,0,0,1-1.05,2.61,3.63,3.63,0,0,1-2.09.51l.91-6.56A2.87,2.87,0,0,1,148.9,1.68Z",opacity:1,strokeColor:"",fillColor:"#192760",width:153.485,height:20.812,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"NotForPublicRelease":case"Not For Public Release":t={iconName:"Not For Public Release",pathdata:"M9,2.35q-.21.9-.51,3.48L6.69,21.05H6.38L3.11,4.45,1.85,15.19c-.1.89-.17,1.56-.2,2s0,.55,0,.81A2.39,2.39,0,0,0,2,19.45a1.09,1.09,0,0,0,.67.33v.77H0v-.77a1.22,1.22,0,0,0,.71-.91,33.91,33.91,0,0,0,.57-3.68L2.7,2.88l-.06-.3a2.09,2.09,0,0,0-.39-1.07,1,1,0,0,0-.59-.25V.48H4.2L6.93,14.36l1-8.49c.06-.53.11-1,.14-1.4.06-.63.08-1.08.08-1.37a2.67,2.67,0,0,0-.3-1.5,1.07,1.07,0,0,0-.69-.34V.48H9.73v.78l-.18.06C9.29,1.41,9.09,1.75,9,2.35ZM16.74,2a13.19,13.19,0,0,1,.87,5.28,27.45,27.45,0,0,1-1.54,9.22q-1.65,4.66-3.79,4.67-1.35,0-2.19-1.95a13.31,13.31,0,0,1-.85-5.23A27.59,27.59,0,0,1,10.82,4.6C11.91,1.53,13.15,0,14.51,0,15.41,0,16.16.65,16.74,2Zm-.95,2.73a9.33,9.33,0,0,0-.31-2.59c-.21-.72-.54-1.08-1-1.08-1.05,0-1.92,2.21-2.64,6.64a54.69,54.69,0,0,0-.81,8.4,14.21,14.21,0,0,0,.15,2.23c.2,1.2.57,1.8,1.1,1.8s.95-.43,1.35-1.31a22.84,22.84,0,0,0,1.26-5c.28-1.55.49-3.19.65-4.91S15.79,5.74,15.79,4.68Zm2.3.93.32.21A10.7,10.7,0,0,1,19.52,2.6a1.87,1.87,0,0,1,1.6-1.08L19.27,17.63a4,4,0,0,1-.52,1.88,1,1,0,0,1-.79.27v.77h4.17v-.77a1.72,1.72,0,0,1-.85-.3,1.56,1.56,0,0,1-.2-1,2.44,2.44,0,0,1,0-.27c0-.08,0-.2,0-.33l.11-1L23,1.52A1.31,1.31,0,0,1,24,2.17a8.49,8.49,0,0,1,.69,4l.33.07L25.5.48H18.57ZM28.75.48v.78a1.39,1.39,0,0,1,.74.31,1.44,1.44,0,0,1,.18.9q0,.36-.06,1c0,.2-.05.44-.07.71L28,17.62a5.34,5.34,0,0,1-.35,1.61,1.05,1.05,0,0,1-.67.55v.77H30.7v-.77a.82.82,0,0,1-.6-.2,1.69,1.69,0,0,1-.31-1.18c0-.11,0-.22,0-.32l0-.35.83-7.33a1.42,1.42,0,0,1,1.4.64,5,5,0,0,1,.33,2.13c0,.12,0,.28,0,.5s0,.47,0,.76l.34.15.94-8.21-.35-.1a8.12,8.12,0,0,1-.85,2.64,2.42,2.42,0,0,1-1.64.52l.74-6.65a3.34,3.34,0,0,1,.25-1.1.64.64,0,0,1,.59-.26A1.91,1.91,0,0,1,34.28,3a11.32,11.32,0,0,1,.29,3.06l.34.13.54-5.7Zm15,6.75a27.46,27.46,0,0,1-1.55,9.22q-1.65,4.66-3.79,4.67-1.35,0-2.19-1.95a13.49,13.49,0,0,1-.85-5.23A27.59,27.59,0,0,1,37,4.6Q38.65,0,40.69,0c.91,0,1.65.65,2.23,2A13.17,13.17,0,0,1,43.8,7.23ZM42,4.68a9.3,9.3,0,0,0-.32-2.59c-.21-.72-.53-1.08-1-1.08Q39.12,1,38,7.65a54.69,54.69,0,0,0-.81,8.4,13,13,0,0,0,.16,2.23c.2,1.2.56,1.8,1.09,1.8s1-.43,1.35-1.31a23.28,23.28,0,0,0,1.27-5c.27-1.55.49-3.19.64-4.91S42,5.74,42,4.68ZM50.32,1c.78.66,1.17,1.93,1.17,3.8a11,11,0,0,1-.19,2,7.2,7.2,0,0,1-.66,1.93,3.45,3.45,0,0,1-.77,1,5.58,5.58,0,0,1-.8.52c0,.31.07.51.08.58l1,6.78a5.63,5.63,0,0,0,.42,1.72.85.85,0,0,0,.69.42v.77H48.69l-1.36-9.92H47l-.75,6.25-.1,1c0,.08,0,.16,0,.26v.28a1.94,1.94,0,0,0,.16,1,1.39,1.39,0,0,0,.75.32v.77H43.27v-.77a1.07,1.07,0,0,0,.66-.53,4.83,4.83,0,0,0,.36-1.61L45.84,4.18c0-.28.06-.52.08-.72,0-.42,0-.75,0-1a1.48,1.48,0,0,0-.17-.91,1.39,1.39,0,0,0-.74-.31V.48h3.46A2.67,2.67,0,0,1,50.32,1Zm-.73,3.34a7.2,7.2,0,0,0-.26-2.09c-.18-.55-.47-.83-.89-.83a.4.4,0,0,0-.38.27,4.46,4.46,0,0,0-.2,1.06L47.1,9.65a2.39,2.39,0,0,0,1-.2A2,2,0,0,0,49,8.31a10,10,0,0,0,.4-1.65A12.71,12.71,0,0,0,49.59,4.37Zm11.1-3.3c.77.74,1.16,2.1,1.16,4.09a8.51,8.51,0,0,1-.94,4.28A2.78,2.78,0,0,1,58.48,11h-.36l-.73-.12-.69,6-.11,1c0,.1,0,.2,0,.3s0,.2,0,.3a1.7,1.7,0,0,0,.17.95,1.47,1.47,0,0,0,.75.32v.77H53.77v-.77a1.07,1.07,0,0,0,.66-.53,4.83,4.83,0,0,0,.36-1.61L56.34,4.17l.09-.9c0-.31,0-.55,0-.74a1.58,1.58,0,0,0-.25-1,1.33,1.33,0,0,0-.67-.23V.48h3.62A2.11,2.11,0,0,1,60.69,1.07ZM60,4.32a7,7,0,0,0-.25-2.06c-.17-.53-.45-.8-.84-.8a.4.4,0,0,0-.4.29,6.14,6.14,0,0,0-.2,1L57.5,9.93l.23.06h.21a1.3,1.3,0,0,0,1-.36,3.17,3.17,0,0,0,.6-1.2,12.69,12.69,0,0,0,.36-2A19.64,19.64,0,0,0,60,4.32Zm10.6-3.06V.48H68v.78a1.17,1.17,0,0,1,.68.32A2.43,2.43,0,0,1,69,3.05c0,.32,0,.85-.11,1.6,0-.12,0,.27-.12,1.18l-.73,6.26a36.28,36.28,0,0,1-.8,4.86c-.45,1.65-1.07,2.47-1.87,2.47a1.27,1.27,0,0,1-1.13-.78,5.05,5.05,0,0,1-.41-2.27c0-.43,0-1.1.13-2,.05-.51.12-1.17.21-2l1-9a4.69,4.69,0,0,1,.38-1.69,1.24,1.24,0,0,1,.8-.47V.48H62.55v.78a1.39,1.39,0,0,1,.74.31,1.56,1.56,0,0,1,.17.91c0,.21,0,.47,0,.76s-.06.6-.1.94l-.85,7.36c-.14,1.15-.23,2-.27,2.42-.06.76-.1,1.44-.1,2a7.4,7.4,0,0,0,.81,3.78,2.35,2.35,0,0,0,2,1.35c1.14,0,2-.91,2.6-2.74a35.69,35.69,0,0,0,1-5.7l.79-6.85a30.83,30.83,0,0,1,.58-3.7A1.15,1.15,0,0,1,70.61,1.26Zm5.86,10a7.16,7.16,0,0,1,.56,3.1,10.31,10.31,0,0,1-.86,4.34,2.93,2.93,0,0,1-2.86,1.87h-3.8v-.77a1.07,1.07,0,0,0,.59-.41,4.64,4.64,0,0,0,.43-1.73L72.08,4.17c0-.4.08-.73.1-1s0-.46,0-.61a1.83,1.83,0,0,0-.19-1,1.22,1.22,0,0,0-.73-.28V.48h3.43a2.58,2.58,0,0,1,2.19,1.06A5.92,5.92,0,0,1,77.69,5a6.3,6.3,0,0,1-1,3.67,4.18,4.18,0,0,1-1.39,1.24A4.36,4.36,0,0,1,76.47,11.24Zm-1.36,2.49a4.59,4.59,0,0,0-.6-2.79,2,2,0,0,0-1.3-.52l-.84,7.32c0,.12,0,.25,0,.4s0,.33,0,.52a1.06,1.06,0,0,0,.27.84.77.77,0,0,0,.48.11c.8,0,1.38-.87,1.73-2.63A17.3,17.3,0,0,0,75.11,13.73Zm.1-5.38a7.33,7.33,0,0,0,.52-2.15,15,15,0,0,0,.11-1.77,7.89,7.89,0,0,0-.24-2.14c-.16-.55-.46-.83-.93-.83a.42.42,0,0,0-.4.33,4.42,4.42,0,0,0-.19,1l-.77,6.73a5.23,5.23,0,0,0,1.27-.36A1.77,1.77,0,0,0,75.21,8.35Zm9.61,6.24a9.73,9.73,0,0,1-1.66,3.94,2.93,2.93,0,0,1-2.25,1,.64.64,0,0,1-.51-.21,1,1,0,0,1-.19-.71c0-.19,0-.35,0-.49s0-.29,0-.44L81.91,3.41a4.53,4.53,0,0,1,.38-1.66,1.47,1.47,0,0,1,.88-.49V.48h-4v.78a1.39,1.39,0,0,1,.75.32,1.59,1.59,0,0,1,.18.95c0,.2,0,.43,0,.68s0,.58-.1,1L78.42,17.62a5.28,5.28,0,0,1-.35,1.63,1.12,1.12,0,0,1-.67.53v.77h7l.73-5.83ZM90.09,1.26V.48H86.34v.78a1.38,1.38,0,0,1,.74.32,1.59,1.59,0,0,1,.18.95q0,.3,0,.69c0,.25-.06.57-.11.95L85.58,17.64a5.41,5.41,0,0,1-.36,1.61,1.07,1.07,0,0,1-.66.53v.77h3.75v-.77a1.47,1.47,0,0,1-.75-.32,1.78,1.78,0,0,1-.17-1c0-.08,0-.18,0-.28s0-.2,0-.3l.1-1L89.07,3.41a5.68,5.68,0,0,1,.35-1.62A1.1,1.1,0,0,1,90.09,1.26Zm7-.62a.33.33,0,0,1-.3.24,3.1,3.1,0,0,1-.82-.44A2.5,2.5,0,0,0,94.59,0Q92.51,0,91,4a26.57,26.57,0,0,0-1.51,9.39,13.57,13.57,0,0,0,1,5.67c.66,1.41,1.49,2.11,2.5,2.11A2.46,2.46,0,0,0,94.79,20a9.66,9.66,0,0,0,1.55-3.4L96,16a12.68,12.68,0,0,1-.89,2.13c-.54,1-1.12,1.45-1.74,1.45-.47,0-.91-.39-1.31-1.15a10.33,10.33,0,0,1-.6-4.27,36.59,36.59,0,0,1,1-8.43c.72-3.08,1.57-4.63,2.54-4.63.48,0,.88.39,1.19,1.16a10,10,0,0,1,.47,3.53V6.1c0,.07,0,.32,0,.74L97,7l.64-7h-.38A4.28,4.28,0,0,1,97,.64Zm17.57,14,.31.13-.75,5.83h-9.45l-1.35-9.92H103l-.74,6.25-.11,1c0,.08,0,.16,0,.26v.28a1.94,1.94,0,0,0,.16,1,1.39,1.39,0,0,0,.75.32v.77H99.3v-.77a1.12,1.12,0,0,0,.67-.53,5.18,5.18,0,0,0,.35-1.61l1.55-13.46c0-.28.06-.52.08-.72,0-.42,0-.75,0-1a1.48,1.48,0,0,0-.17-.91,1.39,1.39,0,0,0-.74-.31V.48h3.46a2.64,2.64,0,0,1,1.8.55c.78.66,1.17,1.93,1.17,3.8a11,11,0,0,1-.19,2,6.57,6.57,0,0,1-.66,1.93,3.61,3.61,0,0,1-.76,1,6.48,6.48,0,0,1-.81.52c0,.31.07.51.08.58l1,6.78a5.63,5.63,0,0,0,.42,1.72.84.84,0,0,0,.65.4,1.06,1.06,0,0,0,.64-.51,5.41,5.41,0,0,0,.36-1.61l1.54-13.47c0-.34.07-.65.1-.92s0-.52,0-.72a1.61,1.61,0,0,0-.17-.95,1.31,1.31,0,0,0-.74-.32V.48h6.78l-.53,5.7-.34-.13a11.8,11.8,0,0,0-.3-3.09,1.92,1.92,0,0,0-2-1.54c-.33,0-.55.1-.64.29a3.46,3.46,0,0,0-.24,1.07L111,9.45a2.6,2.6,0,0,0,1.72-.51,7.79,7.79,0,0,0,.86-2.66l.35.11-.93,8.2-.35-.15c0-.28,0-.53,0-.74v-.52a4.42,4.42,0,0,0-.37-2.18,1.56,1.56,0,0,0-1.44-.58l-.83,7.32c0,.18,0,.35,0,.51s0,.3,0,.4a1.45,1.45,0,0,0,.13.67c.09.18.28.26.57.26a2.72,2.72,0,0,0,2-.76A8.33,8.33,0,0,0,114.61,14.59ZM105,8.31a9.81,9.81,0,0,0,.41-1.65,13.72,13.72,0,0,0,.18-2.29,6.87,6.87,0,0,0-.26-2.09c-.17-.55-.47-.83-.89-.83a.4.4,0,0,0-.38.27,5.05,5.05,0,0,0-.2,1.06l-.76,6.87a2.39,2.39,0,0,0,1-.2A2,2,0,0,0,105,8.31Zm17.51,6.28a9.86,9.86,0,0,1-1.67,3.94,2.93,2.93,0,0,1-2.25,1,.64.64,0,0,1-.51-.21,1.1,1.1,0,0,1-.19-.71c0-.19,0-.35,0-.49s0-.29,0-.44l1.64-14.32A4.53,4.53,0,0,1,120,1.75a1.47,1.47,0,0,1,.89-.49V.48h-4v.78a1.39,1.39,0,0,1,.75.32,1.59,1.59,0,0,1,.18.95c0,.2,0,.43,0,.68s0,.58-.1,1l-1.55,13.45a5.28,5.28,0,0,1-.35,1.63,1.1,1.1,0,0,1-.66.53v.77h7l.74-5.83Zm7.09,0a8.33,8.33,0,0,1-2,4.23,2.73,2.73,0,0,1-2,.76c-.29,0-.48-.08-.57-.26a1.45,1.45,0,0,1-.13-.67c0-.1,0-.23,0-.4s0-.33,0-.51l.83-7.32a1.58,1.58,0,0,1,1.44.58,4.42,4.42,0,0,1,.37,2.18c0,.14,0,.31,0,.52s0,.46,0,.74l.34.15.94-8.2-.35-.11a7.71,7.71,0,0,1-.87,2.66,2.56,2.56,0,0,1-1.71.51l.75-6.67A3.46,3.46,0,0,1,127,1.71c.09-.19.31-.29.64-.29a1.92,1.92,0,0,1,2,1.54,11.8,11.8,0,0,1,.3,3.09l.33.13.54-5.7H124v.78a1.31,1.31,0,0,1,.75.32,1.7,1.7,0,0,1,.17.95,6.75,6.75,0,0,1,0,.72c0,.27-.05.58-.09.92l-1.55,13.47a5.18,5.18,0,0,1-.35,1.61,1.12,1.12,0,0,1-.67.53v.77h7l.75-5.83Zm8.45,5.24v.72h-3.83v-.72a1.11,1.11,0,0,0,.77-.41,2.52,2.52,0,0,0,.23-1.31c0-.23,0-.77-.07-1.62,0-.17-.05-.9-.13-2.18h-2.71l-.74,3c0,.2-.09.43-.13.67a4.44,4.44,0,0,0-.06.71,1.27,1.27,0,0,0,.16.79,1.35,1.35,0,0,0,.65.3v.72h-2.47v-.72a1.66,1.66,0,0,0,.52-.54,7.25,7.25,0,0,0,.55-1.58L135.49.07h.33L137,17.23a8.87,8.87,0,0,0,.3,2.11A.9.9,0,0,0,138.08,19.83ZM135,13.12l-.47-7.3-1.86,7.3Zm7.88-4-1.09-2.13a6.38,6.38,0,0,1-.39-1,6.65,6.65,0,0,1-.23-1.82,6.93,6.93,0,0,1,.23-1.8q.33-1.26,1-1.26c.57,0,1,.53,1.3,1.57a10.87,10.87,0,0,1,.36,2.39l0,1,.33.1.51-6h-.38a2.26,2.26,0,0,1-.2.54.38.38,0,0,1-.34.22.54.54,0,0,1-.19-.05l-.22-.13-.32-.25a2.36,2.36,0,0,0-.41-.25,1.82,1.82,0,0,0-.7-.16c-.81,0-1.44.57-1.9,1.7a11.21,11.21,0,0,0-.68,4.12,12.36,12.36,0,0,0,1.55,5.58,10.74,10.74,0,0,1,1.54,4.78,7.8,7.8,0,0,1-.41,2.67c-.28.76-.67,1.15-1.17,1.15a1.07,1.07,0,0,1-.79-.4,3.78,3.78,0,0,1-.64-1.18,7.79,7.79,0,0,1-.42-1.95c-.05-.44-.08-1.14-.11-2.1l-.36-.06-.46,6.73h.38a6.32,6.32,0,0,1,.2-.83.31.31,0,0,1,.3-.24.21.21,0,0,1,.14,0,1.06,1.06,0,0,1,.22.18l.32.27a3,3,0,0,0,.69.44,1.72,1.72,0,0,0,.69.15c.92,0,1.64-.63,2.16-1.91a11.22,11.22,0,0,0,.78-4.28,12.2,12.2,0,0,0-.4-3.29A14.21,14.21,0,0,0,142.85,9.07Zm6.36-7.36c.09-.19.31-.29.64-.29a1.92,1.92,0,0,1,2,1.54,11.8,11.8,0,0,1,.3,3.09l.33.13L153,.48h-6.79v.78a1.31,1.31,0,0,1,.75.32,1.7,1.7,0,0,1,.17.95,6.75,6.75,0,0,1,0,.72c0,.27-.05.58-.09.92l-1.55,13.47a5.18,5.18,0,0,1-.35,1.61,1.12,1.12,0,0,1-.67.53v.77h7l.75-5.83-.31-.13a8.33,8.33,0,0,1-2,4.23,2.73,2.73,0,0,1-2,.76c-.29,0-.48-.08-.57-.26a1.45,1.45,0,0,1-.13-.67c0-.1,0-.23,0-.4s0-.33.05-.51l.83-7.32a1.58,1.58,0,0,1,1.44.58,4.42,4.42,0,0,1,.37,2.18c0,.14,0,.31,0,.52s0,.46,0,.74l.34.15.94-8.2-.35-.11a7.71,7.71,0,0,1-.87,2.66,2.56,2.56,0,0,1-1.71.51L149,2.78A3.46,3.46,0,0,1,149.21,1.71Z",opacity:1,strokeColor:"",fillColor:"#192760",width:152.969,height:21.152,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"ForComment":case"For Comment":t={iconName:"For Comment",pathdata:"M14.1.48l-.89,5.6L12.65,6a7.14,7.14,0,0,0-.48-3c-.54-1-1.6-1.54-3.19-1.54a1.37,1.37,0,0,0-1,.26,2.06,2.06,0,0,0-.42,1.08L6.35,9.28a6,6,0,0,0,2.73-.52,5.92,5.92,0,0,0,1.41-2.59l.58.1L9.52,14.34,9,14.2c0-.29,0-.54.05-.75s0-.38,0-.49a3.15,3.15,0,0,0-.55-2.09,3.07,3.07,0,0,0-2.32-.64L4.77,17.44c0,.13,0,.24-.06.35s0,.21,0,.31a1.23,1.23,0,0,0,.53,1.17,2,2,0,0,0,1,.19v.76H0v-.76a1.91,1.91,0,0,0,1.12-.54,3.56,3.56,0,0,0,.58-1.58L4.27,4.11c.05-.27.09-.51.12-.71a7.42,7.42,0,0,0,.1-1c0-.48-.1-.77-.29-.9A3.54,3.54,0,0,0,3,1.24V.48ZM28,7.11a17.42,17.42,0,0,1-2.57,9.07q-2.75,4.61-6.3,4.6a4.33,4.33,0,0,1-3.65-1.92,8.53,8.53,0,0,1-1.41-5.14,17.56,17.56,0,0,1,2.62-9.19Q19.43,0,22.82,0a4.48,4.48,0,0,1,3.72,1.92A8.46,8.46,0,0,1,28,7.11ZM25,4.6a5.72,5.72,0,0,0-.52-2.55,1.72,1.72,0,0,0-1.63-1c-1.74,0-3.2,2.17-4.39,6.53a32.66,32.66,0,0,0-1.35,8.26,8.24,8.24,0,0,0,.26,2.2c.33,1.18.94,1.77,1.82,1.77a2.88,2.88,0,0,0,2.25-1.29,16.48,16.48,0,0,0,2.1-4.93,37.09,37.09,0,0,0,1.07-4.83A28.26,28.26,0,0,0,25,4.6Zm15.83.16a6.49,6.49,0,0,1-.33,2,5.12,5.12,0,0,1-1.09,1.9,4.65,4.65,0,0,1-1.27,1,11.5,11.5,0,0,1-1.35.52c.07.3.12.49.14.57l1.62,6.66a3.79,3.79,0,0,0,.7,1.7,1.75,1.75,0,0,0,1.14.41v.76H36.13l-2.26-9.76h-.59L32,16.6l-.17,1,0,.25a2.62,2.62,0,0,0,0,.28q0,.8.27,1a3,3,0,0,0,1.25.32v.76H27.11v-.76a1.93,1.93,0,0,0,1.11-.52,3.54,3.54,0,0,0,.59-1.59L31.38,4.11c.06-.27.1-.51.13-.71a6,6,0,0,0,.1-1c0-.47-.1-.77-.29-.9a3.54,3.54,0,0,0-1.24-.3V.48h5.76a6.77,6.77,0,0,1,3,.53Q40.79,2,40.79,4.76Zm-3.16-.47a4.35,4.35,0,0,0-.44-2,1.54,1.54,0,0,0-1.48-.81.75.75,0,0,0-.63.26,2.78,2.78,0,0,0-.33,1.05L33.48,9.5a6.85,6.85,0,0,0,1.67-.2,2.55,2.55,0,0,0,1.49-1.13,6.37,6.37,0,0,0,.67-1.62A7.81,7.81,0,0,0,37.63,4.29ZM58.49,0a2.61,2.61,0,0,1-.32.63.55.55,0,0,1-.49.24A7,7,0,0,1,56.31.43,6.15,6.15,0,0,0,54.1,0q-3.47,0-6,3.92a16.73,16.73,0,0,0-2.51,9.24,8.73,8.73,0,0,0,1.64,5.57,5,5,0,0,0,7.19,1A8.89,8.89,0,0,0,57,16.37l-.64-.65a10.47,10.47,0,0,1-1.47,2.09A4,4,0,0,1,52,19.24a2.89,2.89,0,0,1-2.17-1.13c-.67-.75-1-2.15-1-4.2a22.2,22.2,0,0,1,1.62-8.29q1.8-4.54,4.23-4.55a2.33,2.33,0,0,1,2,1.14,6.16,6.16,0,0,1,.78,3.47c0,.14,0,.25,0,.32s0,.32,0,.73l.66.17L59.12,0ZM72.71,7.11a17.33,17.33,0,0,1-2.57,9.07c-1.82,3.07-3.93,4.6-6.3,4.6a4.34,4.34,0,0,1-3.65-1.92,8.53,8.53,0,0,1-1.4-5.14A17.55,17.55,0,0,1,61.4,4.53Q64.15,0,67.54,0a4.48,4.48,0,0,1,3.72,1.92A8.39,8.39,0,0,1,72.71,7.11Zm-3-2.51a5.72,5.72,0,0,0-.52-2.55,1.72,1.72,0,0,0-1.63-1c-1.74,0-3.2,2.17-4.39,6.53a32.66,32.66,0,0,0-1.35,8.26,8.24,8.24,0,0,0,.26,2.2c.33,1.18.94,1.77,1.82,1.77a2.85,2.85,0,0,0,2.25-1.29,16,16,0,0,0,2.1-4.93,34.08,34.08,0,0,0,1.07-4.83A28.26,28.26,0,0,0,69.68,4.6Zm17.5,13.62a4.63,4.63,0,0,1,.07-.75c0-.3.09-.59.15-.88L90,3.31a3.32,3.32,0,0,1,.7-1.67,2,2,0,0,1,1-.4V.48H87.23l-6.4,13.91L79.63.48H74.84v.76a3.29,3.29,0,0,1,1.2.21c.21.11.31.37.31.78a4.35,4.35,0,0,1-.07.75c0,.28-.11.61-.18,1L74,15a19.63,19.63,0,0,1-1,3.65,1.54,1.54,0,0,1-1.17.86v.76H76.2v-.76a2.31,2.31,0,0,1-1.09-.29,1.6,1.6,0,0,1-.58-1.43,8.8,8.8,0,0,1,.14-1.42c0-.37.14-.82.24-1.37L77,4.24l1.41,16.37H79L86.89,3.76,84.25,17.34A2.94,2.94,0,0,1,83.61,19a2.87,2.87,0,0,1-1.44.49v.76h6.54v-.76a3.39,3.39,0,0,1-1.23-.31Q87.18,19,87.18,18.22Zm17.73,0a4.63,4.63,0,0,1,.07-.75c0-.3.1-.59.16-.88l2.58-13.28a3.24,3.24,0,0,1,.69-1.67,2,2,0,0,1,1-.4V.48H105l-6.4,13.91L97.36.48H92.57v.76a3.29,3.29,0,0,1,1.2.21c.21.11.32.37.32.78A5.65,5.65,0,0,1,94,3c0,.28-.11.61-.19,1L91.69,15a19.63,19.63,0,0,1-1,3.65,1.54,1.54,0,0,1-1.17.86v.76h4.38v-.76a2.33,2.33,0,0,1-1.1-.29,1.6,1.6,0,0,1-.58-1.43,10.12,10.12,0,0,1,.14-1.42c.06-.37.14-.82.25-1.37L94.76,4.24l1.41,16.37h.59l7.86-16.85L102,17.34a3.1,3.1,0,0,1-.64,1.63,3,3,0,0,1-1.45.49v.76h6.55v-.76a3.46,3.46,0,0,1-1.24-.31Q104.91,19,104.91,18.22Zm11.52.3a6.56,6.56,0,0,1-3.25.75,1.27,1.27,0,0,1-.94-.26,1,1,0,0,1-.22-.66,3,3,0,0,1,0-.39,4.88,4.88,0,0,1,.08-.51l1.38-7.2a3.65,3.65,0,0,1,2.4.57,2.92,2.92,0,0,1,.62,2.15c0,.14,0,.31,0,.51s0,.45-.06.73l.58.15,1.55-8.08-.58-.1a5.92,5.92,0,0,1-1.44,2.61,6.32,6.32,0,0,1-2.85.51L115,2.74a2.44,2.44,0,0,1,.39-1.06,1.43,1.43,0,0,1,1.07-.28c1.63,0,2.71.5,3.25,1.51a7.37,7.37,0,0,1,.49,3l.56.13.89-5.6H110.31v.76a3.28,3.28,0,0,1,1.25.31c.19.13.28.44.28.94a4.83,4.83,0,0,1-.06.7c0,.28-.09.58-.16.92l-2.57,13.24a3.54,3.54,0,0,1-.59,1.59,1.93,1.93,0,0,1-1.11.52v.76H119l1.24-5.74-.51-.12A7.7,7.7,0,0,1,116.43,18.52ZM136.6,1.24V.48h-4.3v.76a2.5,2.5,0,0,1,1.14.33A1.8,1.8,0,0,1,134,3.05a10.58,10.58,0,0,1-.14,1.34c-.05.41-.13.87-.22,1.39L132,14.12,127.41.48h-4.22v.76a2.53,2.53,0,0,1,1,.24,1.82,1.82,0,0,1,.64,1.06l.1.3L122.55,15a19.54,19.54,0,0,1-1,3.61,1.59,1.59,0,0,1-1.18.9v.76h4.37v-.76a2.5,2.5,0,0,1-1.12-.32,1.67,1.67,0,0,1-.55-1.44,5.32,5.32,0,0,1,0-.79c0-.43.17-1.09.34-2l2.08-10.57L131,20.71h.52l2.91-15a24.72,24.72,0,0,1,.85-3.42,1.42,1.42,0,0,1,1-1Zm.48-.76-.81,5,.54.2a8.1,8.1,0,0,1,1.85-3.16,3.63,3.63,0,0,1,2.66-1.06l-3.08,15.85a3,3,0,0,1-.86,1.85,2.42,2.42,0,0,1-1.32.26v.76H143v-.76a4,4,0,0,1-1.41-.3c-.23-.13-.34-.45-.34-.95a2.26,2.26,0,0,1,0-.26c0-.09,0-.2,0-.33l.17-1,2.92-15.1a2.64,2.64,0,0,1,1.76.63c.74.7,1.12,2,1.15,3.94l.55.07L148.6.48Z",opacity:1,strokeColor:"",fillColor:"#192760",width:148.603,height:20.812,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"Void":t={iconName:"Void",pathdata:"M27.88,1.72a6.53,6.53,0,0,0-1.81,1.42L9,21.12H7.54L4.09,5.83A11.83,11.83,0,0,0,2.82,2Q2.3,1.4,0,1.26V.48H13.54v.78a11,11,0,0,0-2.37.18q-1.11.27-1.11,1.05a1.43,1.43,0,0,0,0,.29c0,.09,0,.19,0,.28l2.35,12,8.56-9a25.11,25.11,0,0,0,1.83-2.14,3.15,3.15,0,0,0,.82-1.68c0-.41-.28-.69-.84-.82a12.57,12.57,0,0,0-2.08-.15V.48h8.7v.78A7.11,7.11,0,0,0,27.88,1.72ZM57.37,7.23q0,4.85-5.56,9.22a21.41,21.41,0,0,1-13.62,4.67,14.41,14.41,0,0,1-7.89-1.95,6,6,0,0,1-3-5.23q0-4.92,5.66-9.34A21.12,21.12,0,0,1,46.2,0a15,15,0,0,1,8,2A6,6,0,0,1,57.37,7.23ZM50.82,4.68a3.46,3.46,0,0,0-1.13-2.59A4.93,4.93,0,0,0,46.17,1q-5.64,0-9.49,6.64c-1.94,3.36-2.92,6.16-2.92,8.4a4.27,4.27,0,0,0,.56,2.23q1.08,1.8,3.93,1.8a9.24,9.24,0,0,0,4.87-1.31,15.24,15.24,0,0,0,4.54-5A21.81,21.81,0,0,0,50,8.85,14.23,14.23,0,0,0,50.82,4.68ZM66,18.49a1.49,1.49,0,0,1,0-.28c0-.1,0-.2.08-.3l.35-1L72,3.41a2.94,2.94,0,0,1,1.25-1.62,6.79,6.79,0,0,1,2.4-.53V.48H62.19v.78a13.27,13.27,0,0,1,2.67.32.88.88,0,0,1,.64.95,2.38,2.38,0,0,1-.12.69c-.08.25-.2.57-.36.95L59.45,17.64a3,3,0,0,1-1.28,1.61,6.84,6.84,0,0,1-2.39.53v.77H69.27v-.77a13.72,13.72,0,0,1-2.67-.32A.9.9,0,0,1,66,18.49Zm38.25-9.67q0,4.59-5.15,8-5.73,3.77-15,3.76h-13v-.77a7.4,7.4,0,0,0,2.1-.41,3.08,3.08,0,0,0,1.57-1.75L80.28,4.17c.16-.38.28-.7.37-1a2.27,2.27,0,0,0,.12-.68.89.89,0,0,0-.64-.95,13.41,13.41,0,0,0-2.68-.32V.48H90.6q6.68,0,10.15,2.27A6.92,6.92,0,0,1,104.23,8.82ZM97.58,7a5.28,5.28,0,0,0-1.13-3.54q-1.77-2-6.14-2a4.24,4.24,0,0,0-2,.32,1.77,1.77,0,0,0-.74.84L81.35,17.73a1.72,1.72,0,0,0-.12.39,1.89,1.89,0,0,0,0,.31.89.89,0,0,0,.54.85,5.1,5.1,0,0,0,2,.26q8.07,0,11.68-5.5A12.61,12.61,0,0,0,97.58,7Z",opacity:1,strokeColor:"",fillColor:"#8a251a",width:104.233,height:21.123,stampFillColor:"#f6dedd",stampStrokeColor:""};break;case"PreliminaryResults":case"Preliminary Results":t={iconName:"Preliminary Results",pathdata:"M9.23,5.08q0-3-1.32-4.08A2.6,2.6,0,0,0,6.17.41H2v.78a1.5,1.5,0,0,1,.76.23,1.39,1.39,0,0,1,.28,1c0,.19,0,.43,0,.73s-.07.61-.1.91L1.17,17.56a4.76,4.76,0,0,1-.41,1.62A1.18,1.18,0,0,1,0,19.7v.78H4.25V19.7a1.77,1.77,0,0,1-.86-.31,1.5,1.5,0,0,1-.2-1c0-.09,0-.19,0-.3a1.36,1.36,0,0,1,0-.29l.12-1,.78-6L5,11h.41a3.21,3.21,0,0,0,2.78-1.6A7.57,7.57,0,0,0,9.23,5.08ZM7,6.32a10,10,0,0,1-.42,2,3,3,0,0,1-.68,1.21,1.63,1.63,0,0,1-1.13.36H4.53l-.27-.06,1-7.15a4.75,4.75,0,0,1,.22-1,.45.45,0,0,1,.46-.29,1,1,0,0,1,1,.8,6.22,6.22,0,0,1,.29,2.06A18,18,0,0,1,7,6.32ZM23.4,18.75a3.35,3.35,0,0,1-2.23.76.68.68,0,0,1-.64-.26,1.27,1.27,0,0,1-.16-.68c0-.09,0-.23,0-.39s0-.34.05-.51l.95-7.33a1.92,1.92,0,0,1,1.65.59,4,4,0,0,1,.42,2.18c0,.14,0,.31,0,.52s0,.46,0,.74l.4.15,1.07-8.21-.4-.1a7,7,0,0,1-1,2.65,3.15,3.15,0,0,1-2,.52l.85-6.67a3,3,0,0,1,.28-1.08c.11-.19.35-.28.73-.28a2.16,2.16,0,0,1,2.23,1.54A10.27,10.27,0,0,1,26,6l.39.13L27,.41H19.2v.78a1.67,1.67,0,0,1,.86.31,1.52,1.52,0,0,1,.19,1,6.58,6.58,0,0,1,0,.71c0,.28-.07.59-.11.93L18.33,17.56a4.59,4.59,0,0,1-.4,1.62,1.22,1.22,0,0,1-.74.51,1,1,0,0,1-.73-.4A5.08,5.08,0,0,1,16,17.56l-1.1-6.77c0-.08,0-.27-.1-.58a5.14,5.14,0,0,0,.92-.53,3.23,3.23,0,0,0,.87-1,6,6,0,0,0,.76-1.93,9.63,9.63,0,0,0,.22-2c0-1.87-.44-3.14-1.34-3.81a3.4,3.4,0,0,0-2-.54h-4v.78a1.78,1.78,0,0,1,.85.3,1.4,1.4,0,0,1,.19.91c0,.24,0,.56-.06,1,0,.21-.05.45-.09.73L9.31,17.56a4.53,4.53,0,0,1-.41,1.62,1.15,1.15,0,0,1-.75.52v.78h4.28V19.7a1.62,1.62,0,0,1-.86-.32,1.72,1.72,0,0,1-.18-1v-.29c0-.09,0-.18,0-.25l.12-1,.86-6.24h.4l1.55,9.92h10.8L26,14.65l-.35-.13A7.9,7.9,0,0,1,23.4,18.75ZM13.67,9.38a3.35,3.35,0,0,1-1.15.2l.87-6.87a4,4,0,0,1,.23-1.06.45.45,0,0,1,.43-.27,1.05,1.05,0,0,1,1,.83,6.14,6.14,0,0,1,.3,2.08,11.74,11.74,0,0,1-.21,2.29,9,9,0,0,1-.47,1.65A2,2,0,0,1,13.67,9.38ZM35,14.65l-.84,5.83h-8V19.7a1.24,1.24,0,0,0,.76-.52,4.73,4.73,0,0,0,.4-1.63L29.15,4.1q.08-.57.12-1c0-.26,0-.48,0-.68a1.42,1.42,0,0,0-.21-1,1.67,1.67,0,0,0-.85-.31V.41h4.56v.78a1.67,1.67,0,0,0-1,.49,4.17,4.17,0,0,0-.44,1.66L29.49,17.65c0,.16,0,.31,0,.45a3.47,3.47,0,0,0,0,.48,1,1,0,0,0,.21.72.8.8,0,0,0,.59.21,3.54,3.54,0,0,0,2.56-1.05,9.24,9.24,0,0,0,1.91-3.94Zm2.79,4.73a1.61,1.61,0,0,0,.85.32v.78H34.39V19.7a1.18,1.18,0,0,0,.76-.52,4.76,4.76,0,0,0,.41-1.62L37.33,4.1c.05-.38.09-.7.11-1a5.83,5.83,0,0,0,0-.68,1.5,1.5,0,0,0-.2-1,1.71,1.71,0,0,0-.85-.31V.41h4.29v.78a1.22,1.22,0,0,0-.77.52,4.9,4.9,0,0,0-.39,1.63L37.78,16.8l-.11,1,0,.29c0,.11,0,.2,0,.29A1.52,1.52,0,0,0,37.83,19.38Zm12.2,0a1.81,1.81,0,0,0,.85.31v.78h-4.5V19.7a1.64,1.64,0,0,0,1-.49,4,4,0,0,0,.44-1.66l1.81-13.8-5.4,17.12h-.4l-1-16.64L41.39,15.12c-.07.56-.13,1-.17,1.39-.06.61-.09,1.09-.09,1.45a2,2,0,0,0,.4,1.45,1.19,1.19,0,0,0,.75.29v.78h-3V19.7a1.21,1.21,0,0,0,.81-.87,29.47,29.47,0,0,0,.66-3.71L42.21,4c0-.38.09-.71.12-1a5.41,5.41,0,0,0,.05-.75c0-.42-.07-.69-.21-.8a1.69,1.69,0,0,0-.83-.21V.41h3.29l.83,14.14L49.85.41h3.07v.78a1.12,1.12,0,0,0-.69.41,4.08,4.08,0,0,0-.48,1.69L50,16.79c0,.29-.08.59-.11.89s0,.56,0,.76A1.41,1.41,0,0,0,50,19.39Zm5,0a1.61,1.61,0,0,0,.85.32v.78H51.56V19.7a1.18,1.18,0,0,0,.76-.52,4.76,4.76,0,0,0,.41-1.62L54.5,4.1c0-.38.09-.7.11-1a5.83,5.83,0,0,0,0-.68,1.5,1.5,0,0,0-.2-1,1.71,1.71,0,0,0-.85-.31V.41h4.29v.78a1.22,1.22,0,0,0-.77.52,4.9,4.9,0,0,0-.39,1.63L55,16.8l-.11,1,0,.29c0,.11,0,.2,0,.29A1.52,1.52,0,0,0,55,19.38ZM66.13,5.75,64.13,21h-.36L60,4.38,58.6,15.12c-.12.89-.2,1.55-.23,2a7.32,7.32,0,0,0,0,.81,2.17,2.17,0,0,0,.38,1.46,1.32,1.32,0,0,0,.77.32v.78h-3V19.7a1.26,1.26,0,0,0,.81-.91,29,29,0,0,0,.65-3.67L59.56,2.81,59.5,2.5a2,2,0,0,0-.45-1.06,1.21,1.21,0,0,0-.67-.25V.41h2.9L64.4,14.28,65.52,5.8c.07-.53.12-1,.16-1.41.06-.62.09-1.08.09-1.36a2.45,2.45,0,0,0-.34-1.51,1.39,1.39,0,0,0-.79-.33V.41h3v.78l-.21.06c-.29.08-.52.43-.68,1A34.22,34.22,0,0,0,66.13,5.75ZM83.27,1A3.41,3.41,0,0,0,81.21.41h-4v.78a1.74,1.74,0,0,1,.85.3c.14.13.2.43.2.91,0,.24,0,.56-.06,1,0,.21-.06.45-.09.73L76.38,17.56A4.53,4.53,0,0,1,76,19.18a1.18,1.18,0,0,1-.76.52v0a1,1,0,0,1-.67-.45,8.11,8.11,0,0,1-.34-2.12L72.83,0h-.38L67.11,17.64a6.42,6.42,0,0,1-.63,1.58,1.84,1.84,0,0,1-.59.54v.72h2.83v-.72a1.68,1.68,0,0,1-.75-.31,1.16,1.16,0,0,1-.18-.79,3.46,3.46,0,0,1,.07-.7,5.16,5.16,0,0,1,.15-.67l.84-3H72c.08,1.28.13,2,.13,2.18.06.85.08,1.39.08,1.61a2.26,2.26,0,0,1-.25,1.31,1.43,1.43,0,0,1-.88.42v.72H79.5V19.7a1.58,1.58,0,0,1-.86-.32,1.7,1.7,0,0,1-.19-1c0-.1,0-.2,0-.29a1.81,1.81,0,0,1,0-.25l.12-1,.85-6.24h.41l1.55,9.92h2.9V19.7a1,1,0,0,1-.79-.41A5.15,5.15,0,0,1,83,17.56l-1.11-6.77c0-.08,0-.27-.09-.58a5.53,5.53,0,0,0,.92-.53,3.52,3.52,0,0,0,.87-1,6.16,6.16,0,0,0,.75-1.93,9.67,9.67,0,0,0,.23-2C84.61,2.89,84.16,1.62,83.27,1ZM69.19,13.05l2.13-7.3.53,7.3Zm13-6.47a8.39,8.39,0,0,1-.46,1.65,2,2,0,0,1-1,1.15,3.29,3.29,0,0,1-1.14.2l.87-6.87a3.61,3.61,0,0,1,.23-1.06.45.45,0,0,1,.43-.27,1.05,1.05,0,0,1,1,.83,6.14,6.14,0,0,1,.3,2.08A11,11,0,0,1,82.22,6.58ZM90.48.41h3v.78a1.07,1.07,0,0,0-.55.41,6.13,6.13,0,0,0-.77,1.62l-2.72,8-.72,5.55c0,.22-.07.51-.1.86a7.29,7.29,0,0,0-.06.73,1.46,1.46,0,0,0,.29,1.07,1.61,1.61,0,0,0,.83.25v.78H85V19.7a1.56,1.56,0,0,0,.93-.39,3.7,3.7,0,0,0,.53-1.76l.85-6.45-1.26-8a6.07,6.07,0,0,0-.36-1.47.81.81,0,0,0-.7-.4V.41h4v.78a1.32,1.32,0,0,0-.76.23c-.15.12-.23.4-.23.84a4.46,4.46,0,0,0,0,.48c0,.19,0,.39.07.6l1,6.54,1.88-5.55c.1-.29.18-.55.24-.79a4.68,4.68,0,0,0,.14-1.11,1.35,1.35,0,0,0-.31-1,1.14,1.14,0,0,0-.66-.2Zm18.61,1.22c.1-.19.35-.28.73-.28a2.16,2.16,0,0,1,2.23,1.54A10.27,10.27,0,0,1,112.39,6l.38.13.62-5.7h-7.76v.78a1.67,1.67,0,0,1,.86.31,1.59,1.59,0,0,1,.19,1,6.58,6.58,0,0,1,0,.71c0,.28-.07.59-.11.93l-1.77,13.46a4.53,4.53,0,0,1-.41,1.62,1.17,1.17,0,0,1-.73.51,1,1,0,0,1-.73-.4,5.08,5.08,0,0,1-.49-1.73l-1.1-6.77c0-.08,0-.27-.1-.58a5.14,5.14,0,0,0,.92-.53,3.4,3.4,0,0,0,.88-1,6.16,6.16,0,0,0,.75-1.93,9.63,9.63,0,0,0,.22-2c0-1.87-.44-3.14-1.34-3.81a3.38,3.38,0,0,0-2-.54h-4v.78a1.78,1.78,0,0,1,.85.3,1.4,1.4,0,0,1,.19.91c0,.24,0,.56-.06,1,0,.21,0,.45-.09.73L95.74,17.56a4.53,4.53,0,0,1-.41,1.62,1.15,1.15,0,0,1-.75.52v.78h4.28V19.7a1.62,1.62,0,0,1-.86-.32,1.72,1.72,0,0,1-.18-1v-.29c0-.09,0-.18,0-.25l.12-1,.86-6.24h.4l1.55,9.92h10.8l.85-5.83-.35-.13a7.9,7.9,0,0,1-2.24,4.23,3.35,3.35,0,0,1-2.23.76.71.71,0,0,1-.65-.26,1.37,1.37,0,0,1-.15-.68c0-.09,0-.23,0-.39s0-.34.05-.51l.95-7.33a1.92,1.92,0,0,1,1.65.59,4,4,0,0,1,.42,2.18c0,.14,0,.31,0,.52s0,.46,0,.74l.4.15,1.07-8.21-.41-.1a7,7,0,0,1-1,2.65,3.15,3.15,0,0,1-2,.52l.85-6.67A3,3,0,0,1,109.09,1.63Zm-9,7.75a3.35,3.35,0,0,1-1.15.2l.87-6.87a4,4,0,0,1,.23-1.06.45.45,0,0,1,.43-.27,1.05,1.05,0,0,1,1,.83,6.14,6.14,0,0,1,.3,2.08,11.74,11.74,0,0,1-.21,2.29,9,9,0,0,1-.47,1.65A2,2,0,0,1,100.1,9.38ZM120.18.07h.43l-.59,6-.37-.1-.05-1a10.11,10.11,0,0,0-.41-2.39c-.34-1-.83-1.57-1.48-1.57s-.95.42-1.21,1.26a6.17,6.17,0,0,0-.25,1.8,5.92,5.92,0,0,0,.26,1.82,5.23,5.23,0,0,0,.44,1L118.19,9a12.6,12.6,0,0,1,1.12,2.57,10.75,10.75,0,0,1,.47,3.29,10,10,0,0,1-.9,4.29,2.76,2.76,0,0,1-2.46,1.91,2.17,2.17,0,0,1-.79-.15,3.28,3.28,0,0,1-.79-.44l-.36-.28-.26-.18a.38.38,0,0,0-.16,0,.34.34,0,0,0-.34.23,5.5,5.5,0,0,0-.23.84h-.43l.52-6.73.41.06c0,1,.07,1.66.12,2.09a7.13,7.13,0,0,0,.49,1.95,3.52,3.52,0,0,0,.73,1.18,1.25,1.25,0,0,0,.9.41c.57,0,1-.39,1.34-1.15a7.13,7.13,0,0,0,.47-2.68,9.86,9.86,0,0,0-1.76-4.77,11.23,11.23,0,0,1-1.77-5.58,9.8,9.8,0,0,1,.78-4.12A2.41,2.41,0,0,1,117.46,0a2.06,2.06,0,0,1,.79.16,1.9,1.9,0,0,1,.47.25l.37.25a1.15,1.15,0,0,0,.25.12.47.47,0,0,0,.22,0A.44.44,0,0,0,120,.62,2.6,2.6,0,0,0,120.18.07Zm10,2a26.67,26.67,0,0,0-.66,3.7l-.9,6.85a32.12,32.12,0,0,1-1.16,5.7c-.68,1.83-1.67,2.74-3,2.74a2.7,2.7,0,0,1-2.28-1.36,6.67,6.67,0,0,1-.92-3.77,19.46,19.46,0,0,1,.11-2c0-.46.15-1.26.3-2.42l1-7.36c0-.33.08-.64.11-.93s0-.55,0-.77a1.38,1.38,0,0,0-.2-.91,1.74,1.74,0,0,0-.85-.3V.41h4.43v.78a1.39,1.39,0,0,0-.91.47,4.25,4.25,0,0,0-.44,1.68l-1.18,9c-.11.8-.19,1.46-.25,2q-.15,1.37-.15,2a4.41,4.41,0,0,0,.48,2.27,1.44,1.44,0,0,0,1.29.78c.91,0,1.62-.82,2.13-2.48a30.62,30.62,0,0,0,.91-4.85L129,5.76c.1-.91.14-1.3.13-1.19a14.64,14.64,0,0,0,.13-1.6,2.12,2.12,0,0,0-.38-1.46,1.35,1.35,0,0,0-.77-.32V.41H131v.78A1.18,1.18,0,0,0,130.23,2.06Zm8.41,12.59-.84,5.83h-8V19.7a1.24,1.24,0,0,0,.76-.52,4.73,4.73,0,0,0,.4-1.63L132.75,4.1q.08-.57.12-1c0-.26,0-.48,0-.68,0-.51-.06-.83-.2-1a1.67,1.67,0,0,0-.85-.31V.41h4.56v.78a1.67,1.67,0,0,0-1,.49A4.17,4.17,0,0,0,135,3.34l-1.87,14.31c0,.16,0,.31-.05.45s0,.3,0,.48a1,1,0,0,0,.21.72.8.8,0,0,0,.59.21,3.54,3.54,0,0,0,2.56-1.05,9.24,9.24,0,0,0,1.91-3.94Zm7.72-8.56a7.63,7.63,0,0,0-.79-4,1.53,1.53,0,0,0-1.21-.64l-2,15.35-.12,1a2.47,2.47,0,0,0,0,.34,2.35,2.35,0,0,0,0,.26c0,.52.08.84.23,1a2,2,0,0,0,1,.3v.78h-4.76V19.7a1.18,1.18,0,0,0,.9-.26,3.75,3.75,0,0,0,.6-1.88l2.11-16.11a2.17,2.17,0,0,0-1.83,1.08,9.57,9.57,0,0,0-1.27,3.21l-.37-.2.56-5.13h7.91l-.52,5.76Zm3.41-3.79a6.17,6.17,0,0,0-.25,1.8,5.63,5.63,0,0,0,.26,1.82,5.23,5.23,0,0,0,.44,1L151.46,9a13.19,13.19,0,0,1,1.13,2.57,11.08,11.08,0,0,1,.46,3.29,10,10,0,0,1-.9,4.29,2.76,2.76,0,0,1-2.46,1.91,2.21,2.21,0,0,1-.79-.15,3.28,3.28,0,0,1-.79-.44l-.36-.28-.26-.18a.38.38,0,0,0-.16,0,.34.34,0,0,0-.34.23,5.5,5.5,0,0,0-.23.84h-.43l.52-6.73.41.06c0,1,.07,1.66.12,2.09a7.13,7.13,0,0,0,.49,1.95,3.52,3.52,0,0,0,.73,1.18,1.25,1.25,0,0,0,.9.41c.57,0,1-.39,1.34-1.15a7.13,7.13,0,0,0,.47-2.68,9.86,9.86,0,0,0-1.76-4.77,11.23,11.23,0,0,1-1.77-5.58,9.8,9.8,0,0,1,.78-4.12A2.41,2.41,0,0,1,150.73,0a2.06,2.06,0,0,1,.79.16,1.9,1.9,0,0,1,.47.25l.37.25a1.34,1.34,0,0,0,.24.12.56.56,0,0,0,.23,0,.44.44,0,0,0,.39-.21,2.6,2.6,0,0,0,.23-.55h.43l-.59,6-.37-.1,0-1a10.11,10.11,0,0,0-.41-2.39c-.34-1-.83-1.57-1.48-1.57S150,1.46,149.77,2.3Z",opacity:1,strokeColor:"",fillColor:"#192760",width:153.879,height:21.051,stampFillColor:"#dce3ef",stampStrokeColor:""};break;case"InformationOnly":case"Information Only":t={iconName:"Information Only",pathdata:"M4,19.14a2,2,0,0,0,1,.32v.76H0v-.76a1.42,1.42,0,0,0,.87-.52,4,4,0,0,0,.47-1.59l2-13.24c.06-.38.1-.69.13-1a5.73,5.73,0,0,0,0-.67c0-.5-.08-.81-.24-.94a2.2,2.2,0,0,0-1-.31V.48H7.26v.76a1.48,1.48,0,0,0-.88.52,4.14,4.14,0,0,0-.45,1.6l-2,13.24-.13,1c0,.1,0,.19,0,.3a2.72,2.72,0,0,0,0,.28A1.32,1.32,0,0,0,4,19.14ZM18.17,1.3l.24-.06V.48H15v.76a1.66,1.66,0,0,1,.9.33,2.08,2.08,0,0,1,.4,1.48,12.85,12.85,0,0,1-.1,1.34c-.05.41-.11.87-.18,1.39l-1.29,8.34L11.15.48H7.83v.76a1.69,1.69,0,0,1,.77.24,1.9,1.9,0,0,1,.51,1.06l.07.3L7.33,15a24.86,24.86,0,0,1-.76,3.61,1.32,1.32,0,0,1-.92.9v.76H9.09v-.76a1.67,1.67,0,0,1-.88-.32,1.92,1.92,0,0,1-.44-1.44,7.09,7.09,0,0,1,0-.79c0-.43.13-1.09.27-2L9.72,4.38,14,20.71h.41l2.3-15a28.78,28.78,0,0,1,.67-3.42C17.57,1.72,17.83,1.38,18.17,1.3ZM19.33.48v.76a2.32,2.32,0,0,1,1,.3c.15.13.23.42.23.9,0,.23,0,.55-.07,1,0,.2-.06.44-.1.71l-2,13.23a4,4,0,0,1-.46,1.58,1.39,1.39,0,0,1-.88.54v.76h4.89v-.76a1.36,1.36,0,0,1-.78-.19,1.39,1.39,0,0,1-.41-1.17c0-.1,0-.21,0-.31s0-.22,0-.35l1.09-7.21a2.09,2.09,0,0,1,1.83.64A3.81,3.81,0,0,1,24.1,13c0,.11,0,.28,0,.49s0,.46,0,.75l.45.14,1.22-8.07-.46-.1a6.19,6.19,0,0,1-1.11,2.59A3.89,3.89,0,0,1,22,9.28l1-6.54a2.43,2.43,0,0,1,.33-1.08.93.93,0,0,1,.76-.26,2.45,2.45,0,0,1,2.52,1.54A9,9,0,0,1,27,6l.44.13.7-5.6ZM39.06,7.11a21,21,0,0,1-2,9.07q-2.16,4.61-5,4.6a3.28,3.28,0,0,1-2.88-1.92,10.29,10.29,0,0,1-1.11-5.14,21.08,21.08,0,0,1,2.07-9.19Q32.31,0,35,0a3.37,3.37,0,0,1,2.93,1.92A10.14,10.14,0,0,1,39.06,7.11ZM36.68,4.6a7,7,0,0,0-.42-2.55A1.37,1.37,0,0,0,35,1c-1.37,0-2.52,2.17-3.46,6.53a40.81,40.81,0,0,0-1.07,8.26,10,10,0,0,0,.21,2.2c.26,1.18.74,1.77,1.43,1.77s1.24-.43,1.78-1.29a18.75,18.75,0,0,0,1.65-4.93,43.28,43.28,0,0,0,.85-4.83A36.93,36.93,0,0,0,36.68,4.6ZM61,19.15a2.25,2.25,0,0,0,1,.31v.76H56.84v-.76A2,2,0,0,0,58,19a3.6,3.6,0,0,0,.5-1.63L60.56,3.76l-6.2,16.85H53.9L52.78,4.24,51.12,15c-.09.55-.15,1-.2,1.37a13,13,0,0,0-.11,1.42,1.8,1.8,0,0,0,.46,1.43,1.54,1.54,0,0,0,.86.29v.76H45.49l-1.78-9.76h-.47l-1,6.14-.13,1,0,.25c0,.09,0,.19,0,.28a1.47,1.47,0,0,0,.22,1,2,2,0,0,0,1,.32v.76H38.37v-.76a1.42,1.42,0,0,0,.88-.52,4.21,4.21,0,0,0,.46-1.59l2-13.24c0-.27.08-.51.11-.71a8.23,8.23,0,0,0,.07-1,1.23,1.23,0,0,0-.23-.9,2.32,2.32,0,0,0-1-.3V.48h4.54A4.34,4.34,0,0,1,47.62,1c1,.65,1.54,1.9,1.54,3.75a7.78,7.78,0,0,1-.26,2A5.56,5.56,0,0,1,48,8.62a3.87,3.87,0,0,1-1,1,8.06,8.06,0,0,1-1.06.52c.05.3.09.49.11.57l1.27,6.66a4.58,4.58,0,0,0,.55,1.7,1.23,1.23,0,0,0,.83.39,1.31,1.31,0,0,0,.86-.84A23,23,0,0,0,50.36,15L52.05,4c.06-.37.11-.7.15-1a7.42,7.42,0,0,0,0-.75c0-.41-.08-.67-.25-.78a2.09,2.09,0,0,0-.94-.21V.48h3.77l1,13.91,5-13.91h3.51v.76a1.46,1.46,0,0,0-.79.4A3.71,3.71,0,0,0,63,3.31L61,16.59c0,.29-.09.58-.13.88s-.05.55-.05.75Q60.79,19,61,19.15Zm-15.14-11a7.46,7.46,0,0,0,.53-1.62,9.54,9.54,0,0,0,.25-2.26,5.31,5.31,0,0,0-.35-2,1.18,1.18,0,0,0-1.16-.81.54.54,0,0,0-.5.26,3.37,3.37,0,0,0-.26,1.05l-1,6.76a4.28,4.28,0,0,0,1.31-.2A2.17,2.17,0,0,0,45.89,8.17ZM73.21,19.51v.71h-5v-.71a1.61,1.61,0,0,0,1-.41,1.92,1.92,0,0,0,.3-1.29c0-.22,0-.75-.09-1.58,0-.17-.06-.89-.16-2.15H65.68l-1,3c-.06.2-.12.42-.17.66a3.4,3.4,0,0,0-.08.69q0,.62.21.78a1.9,1.9,0,0,0,.86.3v.71H62.29v-.71A2,2,0,0,0,63,19a6.47,6.47,0,0,0,.72-1.56L69.82.07h.43L71.83,17A6.77,6.77,0,0,0,72.22,19,1.23,1.23,0,0,0,73.21,19.51Zm-4.08-6.6-.61-7.18-2.44,7.18ZM82.52,6.14l.6-5.66H74l-.63,5,.42.2a8.71,8.71,0,0,1,1.46-3.16,2.57,2.57,0,0,1,2.1-1.06L75,17.35a3.36,3.36,0,0,1-.68,1.85,1.57,1.57,0,0,1-1,.26v.76H78.7v-.76a2.69,2.69,0,0,1-1.11-.3c-.18-.13-.27-.45-.27-.95a2.26,2.26,0,0,1,0-.26c0-.09,0-.2,0-.33l.14-1L79.8,1.5a1.87,1.87,0,0,1,1.39.63c.58.7.88,2,.91,3.94ZM88.84.48H83.92v.76a2.31,2.31,0,0,1,1,.31c.15.13.23.44.23.94a5.56,5.56,0,0,1,0,.67c0,.26-.08.57-.14,1l-2,13.24a4,4,0,0,1-.47,1.59,1.36,1.36,0,0,1-.87.52v.76H86.5v-.76a2,2,0,0,1-1-.32,1.32,1.32,0,0,1-.23-.94c0-.09,0-.18,0-.28s0-.2,0-.3l.13-1,2-13.24A4.09,4.09,0,0,1,88,1.76a1.45,1.45,0,0,1,.87-.52ZM99.11,7.11a21,21,0,0,1-2,9.07q-2.16,4.61-5,4.6a3.28,3.28,0,0,1-2.88-1.92,10.29,10.29,0,0,1-1.11-5.14,21.08,21.08,0,0,1,2.07-9.19C91.63,1.51,93.25,0,95,0A3.36,3.36,0,0,1,98,1.92,10,10,0,0,1,99.11,7.11ZM96.72,4.6a7.18,7.18,0,0,0-.41-2.55c-.28-.7-.7-1-1.29-1-1.37,0-2.52,2.17-3.46,6.53a40.7,40.7,0,0,0-1.06,8.26,10,10,0,0,0,.2,2.2c.26,1.18.74,1.77,1.43,1.77a2.2,2.2,0,0,0,1.78-1.29,18.75,18.75,0,0,0,1.65-4.93,41.1,41.1,0,0,0,.85-4.83A34.65,34.65,0,0,0,96.72,4.6Zm11.1-3.36a1.66,1.66,0,0,1,.9.33,2.08,2.08,0,0,1,.4,1.48,12.85,12.85,0,0,1-.1,1.34c0,.41-.11.87-.18,1.39l-1.29,8.34L104,.48h-3.33v.76a1.7,1.7,0,0,1,.78.24,2,2,0,0,1,.51,1.06l.07.3L100.13,15a24,24,0,0,1-.75,3.61,1.35,1.35,0,0,1-.93.9v.76h3.45v-.76a1.67,1.67,0,0,1-.88-.32,1.88,1.88,0,0,1-.44-1.44,7.09,7.09,0,0,1,0-.79c0-.43.13-1.09.27-2l1.64-10.57,4.29,16.33h.41l2.3-15a28.78,28.78,0,0,1,.67-3.42c.18-.59.44-.93.78-1l.23-.06V.48h-3.39ZM125,7.11a21,21,0,0,1-2,9.07c-1.45,3.07-3.1,4.6-5,4.6a3.28,3.28,0,0,1-2.87-1.92A10.29,10.29,0,0,1,114,13.72a21.22,21.22,0,0,1,2.06-9.19Q118.22,0,120.91,0a3.36,3.36,0,0,1,2.92,1.92A10,10,0,0,1,125,7.11ZM122.59,4.6a7,7,0,0,0-.41-2.55,1.37,1.37,0,0,0-1.28-1c-1.37,0-2.53,2.17-3.46,6.53a40.11,40.11,0,0,0-1.07,8.26,10.65,10.65,0,0,0,.2,2.2q.39,1.77,1.44,1.77a2.2,2.2,0,0,0,1.77-1.29,18.29,18.29,0,0,0,1.66-4.93,45.71,45.71,0,0,0,.85-4.83A36.53,36.53,0,0,0,122.59,4.6Zm14.26-3.3.24-.06V.48h-3.4v.76a1.74,1.74,0,0,1,.91.33,2.13,2.13,0,0,1,.4,1.48c0,.28,0,.73-.11,1.34,0,.41-.11.87-.18,1.39l-1.29,8.34L129.83.48h-3.32v.76a1.69,1.69,0,0,1,.77.24,1.9,1.9,0,0,1,.51,1.06l.07.3L126,15a27,27,0,0,1-.75,3.61,1.35,1.35,0,0,1-.93.9v.76h3.44v-.76a1.67,1.67,0,0,1-.88-.32,1.92,1.92,0,0,1-.44-1.44c0-.26,0-.52,0-.79.05-.43.13-1.09.27-2l1.65-10.57,4.29,16.33h.41l2.29-15a31.07,31.07,0,0,1,.67-3.42C136.25,1.72,136.52,1.38,136.85,1.3Zm8.52,13.06a8.55,8.55,0,0,1-2.19,3.87,4.44,4.44,0,0,1-2.94,1,1,1,0,0,1-.68-.21.9.9,0,0,1-.24-.7,3.4,3.4,0,0,1,0-.48c0-.14,0-.28,0-.44l2.15-14.08a3.69,3.69,0,0,1,.5-1.64,2.22,2.22,0,0,1,1.16-.48V.48H138v.76a2.2,2.2,0,0,1,1,.31c.16.13.24.44.24.94a5.73,5.73,0,0,1-.05.67c0,.26-.07.57-.13,1l-2,13.23a4,4,0,0,1-.47,1.6,1.36,1.36,0,0,1-.87.52v.76h9.16l1-5.74ZM151.79.48v.76a1.52,1.52,0,0,1,.76.2,1.21,1.21,0,0,1,.37,1,4.09,4.09,0,0,1-.17,1.09c-.07.24-.16.5-.27.79L150.32,9.8l-1.18-6.44a4.51,4.51,0,0,1-.08-.6,4.37,4.37,0,0,1,0-.46c0-.43.09-.71.27-.83a1.75,1.75,0,0,1,.87-.23V.48h-4.63v.76a.94.94,0,0,1,.8.4,5.08,5.08,0,0,1,.42,1.44L148.2,11l-1,6.35a3.35,3.35,0,0,1-.61,1.73,1.91,1.91,0,0,1-1.06.39v.76h5.32v-.76a2,2,0,0,1-.95-.25,1.29,1.29,0,0,1-.33-1.05,7.29,7.29,0,0,1,.06-.73q.06-.51.12-.84l.82-5.46,3.12-7.89a5.54,5.54,0,0,1,.89-1.59,1.28,1.28,0,0,1,.63-.41V.48Z",opacity:1,strokeColor:"",fillColor:"#192760",width:155.237,height:20.783,stampFillColor:"#dce3ef",stampStrokeColor:""}}if(t)return t.modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),this.currentStampAnnotation=t,t}},e.prototype.saveStampAnnotations=function(){var e=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp");this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]);for(var t=[],i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=0;a.annotations.length>s;s++){if(this.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(s.toString(),10)]),this.pdfViewer.nameTable[a.annotations[parseInt(s.toString(),10)].randomId]&&(a.annotations[parseInt(s.toString(),10)].wrapperBounds=this.pdfViewer.nameTable[a.annotations[parseInt(s.toString(),10)].randomId].wrapper.bounds),!this.pdfViewerBase.clientSideRendering&&a.annotations[parseInt(s.toString(),10)].icon){var l=a.annotations[parseInt(s.toString(),10)].bounds,d=this.pdfViewer.annotationModule.calculateFontSize(a.annotations[parseInt(s.toString(),10)].icon.toUpperCase(),l);a.annotations[parseInt(s.toString(),10)].iconFontSize=d;var h=10,A=a.annotations[parseInt(s.toString(),10)].dynamicText;0!==A.trim().length&&(h=this.pdfViewer.annotationModule.calculateFontSize(A,l)),a.annotations[parseInt(s.toString(),10)].textFontSize=h}a.annotations[parseInt(s.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex))}r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},e.prototype.storeStampInSession=function(e,t,i,n){var o=sd.sessionStorageManager.getWindowSessionStorageSize(),r=Math.round(JSON.stringify(t).length/1024);this.pdfViewer.annotationModule.isFormFieldShape=!1,o+r>4500&&(this.pdfViewerBase.isStorageExceed=!0,this.pdfViewer.annotationModule.clearAnnotationStorage(),this.pdfViewerBase.isFormStorageExceed||this.pdfViewer.formFieldsModule.clearFormFieldStorage());var a=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp"),s=0;if(this.pdfViewerBase.isStorageExceed&&(a=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]),a){this.pdfViewer.annotationModule.storeAnnotationCollections(t,e,i,n);var l=JSON.parse(a);this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_stamp");var d=this.pdfViewer.annotationModule.getPageCollection(l,e);if(null!=d&&l[parseInt(d.toString(),10)])l[parseInt(d.toString(),10)].annotations.push(t),s=l[parseInt(d.toString(),10)].annotations.indexOf(t);else{var h={pageIndex:e,annotations:[]};h.annotations.push(t),s=h.annotations.indexOf(t),l.push(h)}c=JSON.stringify(l);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]=c:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_stamp",c)}else{this.pdfViewer.annotationModule.storeAnnotationCollections(t,e,i,n);var A={pageIndex:e,annotations:[]};A.annotations.push(t),s=A.annotations.indexOf(t);var p=[];p.push(A);var c=JSON.stringify(p);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]=c:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_stamp",c)}return s},e.prototype.updateSessionStorage=function(e,t,i){if(null!=t&&e.annotations)for(var n=0;n<e.annotations.length;n++)if(e.annotations[parseInt(n.toString(),10)].id===t){e=e.annotations[parseInt(n.toString(),10)];break}"Rotate"===i&&(e=e.annotations[0]);var o=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp");if(this.pdfViewerBase.isStorageExceed&&(o=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]),o)for(var r=e.bounds,a=JSON.parse(o),s=0;s<a.length;s++)for(var l=a[parseInt(s.toString(),10)],d=0;d<l.annotations.length;d++)if(null!=a[parseInt(s.toString(),10)].annotations[parseInt(d.toString(),10)]&&a[parseInt(s.toString(),10)].annotations[parseInt(d.toString(),10)].randomId===e.id){this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_stamp");var h=this.pdfViewer.annotationModule.getPageCollection(a,a[parseInt(s.toString(),10)].annotations[parseInt(d.toString(),10)].pageNumber);"delete"!==i?null!=h&&a[parseInt(h.toString(),10)]&&(e.wrapper.children[1]?a[parseInt(s.toString(),10)].annotations[parseInt(d.toString(),10)].opacity=e.wrapper.children[1].style.opacity:a[parseInt(s.toString(),10)].annotations[parseInt(d.toString(),10)].opacity=e.wrapper.children[0].style.opacity,a[parseInt(s.toString(),10)].annotations[parseInt(d.toString(),10)].rotateAngle=e.rotateAngle,a[parseInt(s.toString(),10)].annotations[parseInt(d.toString(),10)].bounds={left:r.x,top:r.y,width:e.wrapper.actualSize.width,height:e.wrapper.actualSize.height,right:r.right,bottom:r.bottom}):a[parseInt(s.toString(),10)].annotations.splice(d,1);var A=JSON.stringify(a);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]=A:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_stamp",A);break}},e.prototype.saveImportedStampAnnotations=function(e,t){var n,o=null,r=!1,a=e.IsDynamic;if(e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings),e.allowedInteractions=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.IconName&&a)n=this.retrieveDynamicStampAnnotation(e.IconName),r=!0;else if(e.IconName){if(n=this.retrievestampAnnotation(e.IconName),"Accepted"===e.IconName||"Rejected"===e.IconName){var s=(0,i.processPathData)(n.pathdata);n.pathdata=(0,i.splitArrayCollection)(s),r=!0}}else e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),o={stampAnnotationType:"image",author:e.Author,modifiedDate:e.ModifiedDate,subject:e.Subject,allowedInteractions:e.allowedInteractions,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,stampFillcolor:e.FillColor,rotateAngle:e.RotateAngle,creationDate:e.ModifiedDate,pageNumber:t,icon:"",stampAnnotationPath:this.findImageData(e.Apperarance),randomId:"image",isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:" ",bounds:this.calculateImagePosition(e.Rect,!0),annotName:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,author:e.Author,modifiedDate:e.ModifiedDate},shapeAnnotationType:"stamp",annotationSelectorSettings:this.getSettings(e),annotationSettings:e.annotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.isPrint,isCommentLock:e.IsCommentLock,isMaskedImage:e.IsMaskedImage,customStampName:e.CustomStampName,template:e?e.template:null,templateSize:e?e.templateSize:0},this.pdfViewer.annotationModule.storeAnnotations(t,o,"_annotations_stamp");n&&(o={stampAnnotationType:"path",author:e.Author,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,strokeColor:n.strokeColor,fillColor:n.fillColor,opacity:e.Opacity,stampFillcolor:n.stampFillColor,rotateAngle:e.RotateAngle,creationDate:e.ModifiedDate,pageNumber:t,icon:n.iconName,stampAnnotationPath:n.pathdata,randomId:"stamp",isDynamicStamp:!1,dynamicText:this.dynamicText,bounds:this.calculateImagePosition(e.Rect,!0),annotName:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,author:e.Author,modifiedDate:e.ModifiedDate},shapeAnnotationType:"stamp",annotationSelectorSettings:this.getSettings(e),annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.isPrint,isCommentLock:e.IsCommentLock,isMaskedImage:e.IsMaskedImage,customStampName:"",template:e?e.template:null,templateSize:e?e.templateSize:0},r&&(o.dynamicText=this.findDynamicText(e.Apperarance,e.IconName),""===o.dynamicText&&(o.dynamicText="By "+o.author+" at "+o.creationDate),o.isDynamicStamp=!0),this.pdfViewer.annotationModule.storeAnnotations(t,o,"_annotations_stamp"))},e.prototype.updateStampAnnotationCollections=function(e,t){var i,n=e.IsDynamic;e.allowedInteractions=e.AllowedInteractions?e.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e);var o=this.stampImageData(e);if(e.IconName&&n&&"Draft"!==e.IconName&&!o)i=this.retrieveDynamicStampAnnotation(e.IconName);else{if(!e.IconName||o)return e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.customStampSettings),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),{stampAnnotationType:"image",author:e.Author,modifiedDate:e.ModifiedDate,allowedInteractions:e.allowedInteractions,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,stampFillcolor:e.StampFillColor,rotateAngle:e.RotateAngle,pageNumber:t,randomId:"stamp",isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:this.dynamicText,annotationId:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,author:e.Author,modifiedDate:e.ModifiedDate},shapeAnnotationType:"stamp",annotationSettings:e.AnnotationSettings,customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.isPrint,isMaskedImage:e.IsMaskedImage,customStampName:e.CustomStampName,subject:e.Subject,template:e?e.template:null,templateSize:e?e.templateSize:0};i=this.retrievestampAnnotation(e.IconName)}if(i)return e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked),e.allowedInteractions=e.AllowedInteractions?e.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),{stampAnnotationType:"path",author:e.Author,allowedInteractions:e.allowedInteractions,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,strokeColor:e.StrokeColor,fillColor:e.FillColor,opacity:e.Opacity,stampFillcolor:e.StampFillColor,rotateAngle:e.RotateAngle,creationDate:i.creationDate,pageNumber:t,icon:i.iconName,stampAnnotationPath:i.pathdata,randomId:"stamp",isDynamicStamp:this.pdfViewerBase.isDynamicStamp,dynamicText:this.dynamicText,bounds:{left:e.Rect.X,top:e.Rect.Y,width:e.Rect.Width,height:e.Rect.Height},annotationId:e.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,author:e.Author,modifiedDate:e.ModifiedDate},shapeAnnotationType:"stamp",customData:this.pdfViewer.annotation.getCustomData(e),isPrint:e.isPrint,isMaskedImage:e.IsMaskedImage,customStampName:"",template:e?e.template:null,templateSize:e?e.templateSize:0}},e.prototype.stampImageData=function(e){var t=!1;if(e&&e.Apperarance)for(var i=0;i<e.Apperarance.length;i++)if(e.Apperarance[parseInt(i.toString(),10)].imagedata){t=!0;break}return t},e.prototype.findImageData=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[parseInt(t.toString(),10)].imagedata;if(i)return i}return""},e.prototype.findDynamicText=function(e,t){var i="";if(e){for(var n=0;n<e.length;n++){var o=e[parseInt(n.toString(),10)],r=o.type,a=o.isImport;if("string"===r&&void 0!==o.text){var s=void 0;if(a)s=o.text;else{var l=o.text.split("(");s=l[1]?l[1].split(")")[0]:o.text}s.toLowerCase()!==t.toLowerCase()&&(i+=s)}}return i}return i},e.prototype.getAnnotations=function(e,t){var i,n=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp");if(this.pdfViewerBase.isStorageExceed&&(n=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]),n){var o=JSON.parse(n),r=this.pdfViewer.annotationModule.getPageCollection(o,e);i=null!=r&&o[parseInt(r.toString(),10)]?o[parseInt(r.toString(),10)].annotations:t}else i=t;return i},e.prototype.modifyInCollection=function(e,i,n,o){(0,t.isNullOrUndefined)(n.formFieldAnnotationType)||""===n.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0,o&&this.pdfViewerBase.updateDocumentEditedProperty(!0);var r=this.getAnnotations(i,null);if(null!=r&&n){for(var a=0;a<r.length;a++)n.annotName===r[parseInt(a.toString(),10)].annotName&&("bounds"===e&&(this.pdfViewerBase.isBounds=this.pdfViewerBase.boundsCalculation(r[parseInt(a.toString(),10)].bounds,n.wrapper.bounds),this.pdfViewerBase.isBounds&&(r[parseInt(a.toString(),10)].bounds={left:n.wrapper.bounds.x,top:n.wrapper.bounds.y,width:n.wrapper.bounds.width,height:n.wrapper.bounds.height}),r[parseInt(a.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()),this.pdfViewer.annotationModule.storeAnnotationCollections(r[parseInt(a.toString(),10)],i));this.manageAnnotations(r,i)}return null},e.prototype.manageAnnotations=function(e,t){var i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_stamp");if(this.pdfViewerBase.isStorageExceed&&(i=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]),i){var n=JSON.parse(i);this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_stamp");var o=this.pdfViewer.annotationModule.getPageCollection(n,t);null!=o&&n[parseInt(o.toString(),10)]&&(n[parseInt(o.toString(),10)].annotations=e);var r=JSON.stringify(n);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_stamp"]=r:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_stamp",r)}},e.prototype.updateAddAnnotationDetails=function(e,t,i,n,o,r){t=e?e.offset?e.offset:{x:10,y:10}:(e={offset:{x:10,y:10},pageNumber:0,width:void 0,height:void 0}).offset,n||o||r||(n=_e.Approved);var a=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),s=this.pdfViewer.annotation.createGUID(),l=i,d=[],h="",A="Stamp",p=[],c=!1,g=e.author?e.author:"Guest",u=this.pdfViewer.stampSettings.annotationSelectorSettings;this.pdfViewerBase.updateSelectorSettings(u);var f=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stampSettings);g=g||this.pdfViewer.annotationModule.updateAnnotationAuthor("stamp",f.annotationSubType);var m=this.pdfViewer.stampSettings.allowedInteractions?this.pdfViewer.stampSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions;if(f.isLock=e.isLock?e.isLock:f.isLock,f.minHeight=e.minHeight?e.minHeight:f.minHeight,f.minWidth=e.minWidth?e.minWidth:f.minWidth,f.maxWidth=e.maxWidth?e.maxWidth:f.maxWidth,f.maxHeight=e.maxHeight?e.maxHeight:f.maxHeight,e.customStamps&&e.customStamps[0].customStampName)p[0]={imagedata:e.customStamps[0].customStampImageSource,isImport:!0},this.customStampName=e.customStamps[0].customStampName,this.pdfViewerBase.customStampCollection.push(e.customStamps[0]),A="Image",e.width=e.width?e.width:100,e.height=e.height?e.height:100;else if(n){var w;w=a.split(" "),h=n.toString(),p[0]={baseFontName:"Helvetica-BoldOblique",currentFontname:"95b303ab-d397-438a-83af-e2ff8a9900f1",fontSize:10,isImport:!0,text:"By "+g+" at "+w[1]+w[2]+" , "+w[0],type:"string"},c=!0,e.width=e.width?e.width:140,e.height=e.height?e.height:55}else o?(h=o.toString(),o===De.Accepted||o===De.Rejected?(e.width=e.width?e.width:35,e.height=e.height?e.height:35):o===De.SignHere?(e.width=e.width?e.width:110,e.height=e.height?e.height:30):o===De.Witness?(e.width=e.width?e.width:130,e.height=e.height?e.height:30):o===De.InitialHere&&(e.width=e.width?e.width:90,e.height=e.height?e.height:30)):r&&(h=r.toString(),r===Me.Final||r===Me.Draft?(e.width=e.width?e.width:110,e.height=e.height?e.height:30):r===Me.Void?(e.width=e.width?e.width:100,e.height=e.height?e.height:30):(e.width=e.width?e.width:130,e.height=e.height?e.height:30));var y={AllowedInteractions:e.allowedInteractions?e.allowedInteractions:m,AnnotName:s,AnnotType:"stamp",AnnotationSelectorSettings:e.annotationSelectorSettings?e.annotationSelectorSettings:u,AnnotationSettings:f,Apperarance:p||null,Author:g,Comments:null,CreatedDate:a,CustomData:e.customData?e.customData:null,ExistingCustomData:null,FillColor:"#192760",Icon:0,IsCommentLock:!1,IsDynamic:c,IsLocked:!!e.isLock&&e.isLock,IsPrint:!e.isPrint||e.isPrint,ModifiedDate:"",Name:null,Note:"",Opacity:e.opacity?e.opacity:1,Rect:{X:t.x,Y:t.y,Width:e.width,Height:e.height,Left:t.x,Top:t.y,Location:{X:t.x,Y:t.y},Size:{Height:e.height,IsEmpty:!1,Width:e.width}},RotateAngle:0,StampAnnotationtype:A,State:"",StateModel:"",StrokeColor:"#dce3ef",IconName:h,Subject:e.subject?e.subject:h,matrix:null,CustomStampName:this.customStampName?this.customStampName:"",pageNumber:l};return d[0]=y,{stampAnnotations:d}},e.prototype.triggerAnnotationAdd=function(e,t){var i={opacity:e.opacity,borderColor:e.strokeColor,borderWidth:e.thickness,author:t.author,subject:t.subject,modifiedDate:t.modifiedDate,fillColor:e.fillColor,fontSize:e.fontSize,width:e.bounds.width,height:e.bounds.height,fontColor:e.fontColor,fontFamily:e.fontFamily,defaultText:e.dynamicText,fontStyle:e.font,textAlignment:e.textAlign};this.pdfViewer.fireAnnotationAdd(e.pageIndex,e.annotName,"Stamp",e.bounds,i)},e}(),ai=f(215),si=function(){function e(e,t){this.moreButtonId="",this.commentsCount=0,this.commentsreplyCount=0,this.commentContextMenu=[],this.isAccordionContainer=!0,this.isCreateContextMenu=!1,this.isCommentsSelected=!1,this.isAddAnnotationProgramatically=!1,this.isEditableElement=!1,this.isPageCommentsRendered=!1,this.isCommentsRendered=!1,this.isAnnotationRendered=!1,this.textFromCommentPanel=!1,this.pdfViewer=e,this.pdfViewerBase=t,this.opacity=this.pdfViewer.stickyNotesSettings.opacity?this.pdfViewer.stickyNotesSettings.opacity:1}return e.prototype.renderStickyNotesAnnotations=function(e,t,i){if(e&&e.length>0)for(var n=0;n<e.length;n++){var o=e[parseInt(n.toString(),10)],r=!1,a=this.getAnnotations(t,null,"sticky");if(null!==a)for(var s=0;s<a.length;s++){var l=o.annotName?o.annotName:o.AnnotName,d=a[parseInt(s.toString(),10)].annotName?a[parseInt(s.toString(),10)].annotName:a[parseInt(s.toString(),10)].AnnotName;if(d&&l&&d===l){r=!0;break}}if(!r){o.annotationAddMode=this.pdfViewer.annotationModule.findAnnotationMode(o,t,o.AnnotType);var h,A=o.Bounds,p=o.Author;o.AnnotationSettings=o.AnnotationSettings?o.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(o),o.allowedInteractions=o.AllowedInteraction?o.AllowedInteraction:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(o);var c=!0;c="Imported Annotation"===o.annotationAddMode?o.IsPrint:o.AnnotationSettings.isPrint,(o.IsLock||o.IsLocked)&&(o.AnnotationSettings.isLock=o.IsLock?o.IsLock:o.IsLocked),h={shapeAnnotationType:"sticky",author:p,modifiedDate:o.ModifiedDate,subject:o.Subject,note:o.Note,opacity:o.Opacity,state:o.State,stateModel:o.StateModel,pathData:"",comments:this.pdfViewer.annotationModule.getAnnotationComments(o.Comments,o,p),review:{state:o.State,stateModel:o.StateModel,modifiedDate:o.ModifiedDate,author:p},pageNumber:t,bounds:{left:o.Bounds.X,top:o.Bounds.Y,width:o.Bounds.Width,height:o.Bounds.Height,right:o.Bounds.Right,bottom:o.Bounds.Bottom},annotName:o.AnnotName,color:o.color,annotationSelectorSettings:this.getSettings(o),customData:this.pdfViewer.annotation.getCustomData(o),annotationSettings:o.AnnotationSettings,allowedInteractions:o.allowedInteractions,isPrint:c,isCommentLock:o.IsCommentLock},o.AnnotationSelectorSettings=o.AnnotationSelectorSettings?o.AnnotationSelectorSettings:this.pdfViewer.annotationSelectorSettings;var g={author:p,modifiedDate:h.modifiedDate,annotName:h.annotName,pageIndex:t,bounds:{x:A.Left,y:A.Top,width:A.Width,height:A.Height},strokeColor:"transparent",stampStrokeColor:"",data:this.setImageSource(),shapeAnnotationType:"StickyNotes",subject:h.subject,notes:h.note,opacity:h.opacity,id:h.annotName,fillColor:h.color,annotationSelectorSettings:o.AnnotationSelectorSettings,annotationSettings:h.annotationSettings,annotationAddMode:o.annotationAddMode,isPrint:c,isCommentLock:h.isCommentLock};if(i?this.drawStickyNotes(A.Left,A.Top,A.Width,A.Height,t,g,i):(this.pdfViewer.add(g),this.drawStickyNotes(A.Left,A.Top,A.Width,A.Height,t,g),this.pdfViewer.annotationModule.storeAnnotations(t,h,"_annotations_sticky")),this.isAddAnnotationProgramatically){var u={opacity:g.opacity,borderColor:g.strokeColor,borderWidth:g.thickness,author:o.author,subject:o.subject,modifiedDate:o.modifiedDate,fillColor:g.fillColor,fontSize:g.fontSize,width:g.bounds.width,height:g.bounds.height,fontColor:g.fontColor,fontFamily:g.fontFamily,defaultText:g.dynamicText,fontStyle:g.font,textAlignment:g.textAlign};this.pdfViewer.fireAnnotationAdd(g.pageIndex,g.annotName,"StickyNotes",g.bounds,u)}}}},e.prototype.getSettings=function(e){var t=this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?t="string"==typeof e.AnnotationSelectorSettings?JSON.parse(e.AnnotationSelectorSettings):e.AnnotationSelectorSettings:this.pdfViewer.stickyNotesSettings.annotationSelectorSettings&&(t=this.pdfViewer.stickyNotesSettings.annotationSelectorSettings),t},e.prototype.drawStickyNotes=function(e,i,n,o,r,a,s){var l,d=this,h=null,A=new Image,p=this;A.onload=function(){var c,g,u="Guest"!==d.pdfViewer.annotationSettings.author?d.pdfViewer.annotationSettings.author:d.pdfViewer.stickyNotesSettings.author,f=""===d.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(d.pdfViewer.annotationSettings.subject)?d.pdfViewer.stickyNotesSettings.subject?d.pdfViewer.stickyNotesSettings.subject:"Sticky Note":d.pdfViewer.annotationSettings.subject,m=d.pdfViewer.annotationModule.updateSettings(d.pdfViewer.stickyNotesSettings);if(a)l={author:a.author,modifiedDate:a.modifiedDate,annotName:a.annotName,annotationSettings:a.annotationSettings&&""!==a.annotationSettings?a.annotationSettings:m,data:A.src,bounds:{x:e,y:i,width:n,height:o},subject:a.subject,notes:a.notes,opacity:a.opacity,id:a.annotName,shapeAnnotationType:"StickyNotes",strokeColor:"transparent",stampStrokeColor:"",pageIndex:a.pageIndex,isPrint:a.isPrint};else{g=d.pdfViewer.annotation.createGUID(),(c=p.addComments("sticky",r+1))&&(document.getElementById(c).id=g);var w=d.pdfViewer.stickyNotesSettings.annotationSelectorSettings?d.pdfViewer.stickyNotesSettings.annotationSelectorSettings:d.pdfViewer.annotationSelectorSettings,y=d.pdfViewer.stickyNotesSettings.isPrint;l={bounds:{x:e,y:i,width:n,height:o},pageIndex:r,data:A.src,modifiedDate:d.getDateAndTime(),annotationSettings:m,shapeAnnotationType:"StickyNotes",strokeColor:"transparent",stampStrokeColor:"",annotName:g,id:g,opacity:d.opacity,isPrint:y};var S=d.pdfViewer.stickyNotesSettings.isLock?d.pdfViewer.stickyNotesSettings.isLock:d.pdfViewer.annotationSettings.isLock,C=d.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(a);h={author:u,allowedInteractions:C,modifiedDate:d.getDateAndTime(),subject:f,shapeAnnotationType:"sticky",pageNumber:r,note:"",opacity:d.opacity,pathData:"",state:"",stateModel:"",color:"rgba(255,255,0)",comments:[],annotName:g,bounds:{left:e,top:i,width:n,height:o},review:{state:"",stateModel:"",modifiedDate:"",author:u},annotationSelectorSettings:w,customData:d.pdfViewer.annotationModule.getData("sticky"),annotationSettings:{isLock:S},isPrint:y,isCommentLock:!1}}if(a||(p.pdfViewer.annotation.addAction(r,null,l,"Addition","",l,l),p.pdfViewer.add(l),p.pdfViewer.annotationModule.storeAnnotations(r,h,"_annotations_sticky")),p.pdfViewerBase.isAddComment){var B={left:l.bounds.x,top:l.bounds.y,width:l.bounds.width,height:l.bounds.height};d.pdfViewerBase.updateDocumentEditedProperty(!0);var I={opacity:l.opacity,author:u,modifiedDate:l.modifiedDate,subject:f};d.pdfViewer.fireAnnotationAdd(l.pageIndex,l.annotName,"StickyNotes",B,I)}if(s)p.pdfViewer.renderDrawing(s,r);else{var b=document.getElementById(p.pdfViewer.element.id+"_annotationCanvas_"+r);p.pdfViewer.renderDrawing(b,r)}t.Browser.isDevice&&p.pdfViewer.select([l.id],l.annotationSelectorSettings),p.pdfViewerBase.isAddComment=!1},A.src=this.setImageSource()},e.prototype.setImageSource=function(){return"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgd2lkdGg9IjE2IgogICBoZWlnaHQ9IjE1IgogICB2aWV3Qm94PSIwIDAgNC4yMzMzMzMxIDMuOTY4NzQ5NyIKICAgdmVyc2lvbj0iMS4xIj4KICA8ZyBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBkPSJNIDMuODM4OSwwLjk0MTY3IEMgMy42NTM5LDAuNzAzNjcgMy40MTU5LDAuNTE3NjcgMy4xMjQ5LDAuMzg1NjcgMi44MDc5LDAuMjUzNjcgMi40ODk5LDAuMTczNjcgMi4xMTk5LDAuMTczNjcgMS43NDg5LDAuMTczNjcgMS40MzE5LDAuMjUzNjcgMS4xMTQyLDAuMzg1NjcgMC44MjMxNiwwLjUxNzY3IDAuNTg1MTYsMC43MDM2NyAwLjQwMDE2LDAuOTQxNjcgMC4yMTUxNiwxLjE3OTcgMC4xMzUxNiwxLjQxNzcgMC4xMzUxNiwxLjcwODcgMC4xMzUxNiwxLjk0NjcgMC4xODgxNiwyLjE1ODcgMC4zMjAxNiwyLjM0MzcgMC40NTMxNiwyLjU1NTcgMC42MTExNiwyLjcxMzcgMC44MjMxNiwyLjg0NjcgMC43OTIxNiwzLjE1NDcgMC42NTAxNiwzLjM4MjcgMC40NzkxNiwzLjU4NzcgMC40MjgxNiwzLjY2NzcgMC41MTcxNiwzLjc0MTcgMC42OTExNiwzLjcxOTcgMS4wODgyLDMuNjM5NyAxLjQwNDksMy40NTQ3IDEuNjQyOSwzLjE2MzcgMS44MDE5LDMuMTkwNyAxLjk2MDksMy4yMTY3IDIuMTE5OSwzLjIxNjcgMi40ODk5LDMuMjE2NyAyLjgwNzksMy4xMzc3IDMuMTI0OSwzLjAwNTcgMy40MTU5LDIuODcyNyAzLjY4MDksMi42ODc3IDMuODM4OSwyLjQ0OTcgNC4wMjQ5LDIuMjExNyA0LjEwMzksMS45NzM3IDQuMTAzOSwxLjY4MjcgNC4xMDM5LDEuNDE3NyA0LjAyNDksMS4xNTI3IDMuODM4OSwwLjk0MTY3IFoiCiAgICAgICBpZD0icGF0aDE1MjQiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmNzAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjI2NDU4MztzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMy4wNDI5LDEuNDE2NyBIIDEuMTkxMiBDIDEuMTExMiwxLjQxNjcgMS4wNTkyLDEuMzYzNyAxLjA1OTIsMS4yODM3IDEuMDU5MiwxLjIwNDcgMS4xMTEyLDEuMTUxNyAxLjE5MTIsMS4xNTE3IEggMy4wNDI5IEMgMy4xMjE5LDEuMTUxNyAzLjE3NDksMS4yMDQ3IDMuMTc0OSwxLjI4MzcgMy4xNzQ5LDEuMzYzNyAzLjEyMTksMS40MTY3IDMuMDQyOSwxLjQxNjcgWiIKICAgICAgIGlkPSJwYXRoMTUzNiIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC4yNjQ1ODMiIC8+CiAgICA8cGF0aAogICAgICAgZD0iTSAzLjA0MjksMS45NDU3IEggMS4xOTEyIEMgMS4xMTEyLDEuOTQ1NyAxLjA1OTIsMS44OTI3IDEuMDU5MiwxLjgxMjcgMS4wNTkyLDEuNzMzNyAxLjExMTIsMS42ODA3IDEuMTkxMiwxLjY4MDcgSCAzLjA0MjkgQyAzLjEyMTksMS42ODA3IDMuMTc0OSwxLjczMzcgMy4xNzQ5LDEuODEyNyAzLjE3NDksMS44OTI3IDMuMTIxOSwxLjk0NTcgMy4wNDI5LDEuOTQ1NyBaIgogICAgICAgaWQ9InBhdGgxNTQwIgogICAgICAgc3R5bGU9InN0cm9rZS13aWR0aDowLjI2NDU4MyIgLz4KICA8L2c+Cjwvc3ZnPgo="},e.prototype.createRequestForComments=function(){var e,t=this,i=t.pdfViewerBase.pageCount;t.isCommentsRendered||(20<i?i=20:t.isPageCommentsRendered=!0),this.isCommentsRendered?e={pageStartIndex:20..toString(),pageEndIndex:i.toString(),hashId:this.pdfViewerBase.hashId,action:"RenderAnnotationComments",elementId:this.pdfViewer.element.id,uniqueId:t.pdfViewerBase.documentId}:(e={pageStartIndex:(0).toString(),pageEndIndex:i.toString(),hashId:this.pdfViewerBase.hashId,action:"RenderAnnotationComments",elementId:this.pdfViewer.element.id,uniqueId:t.pdfViewerBase.documentId},t.isCommentsRendered=!0),this.pdfViewerBase.jsonDocumentId&&(e.documentId=this.pdfViewerBase.jsonDocumentId);var n=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.renderComments;if(t.commentsRequestHandler=new hd(t.pdfViewer),t.commentsRequestHandler.url=n,t.commentsRequestHandler.mode=!0,t.commentsRequestHandler.responseType="text",this.pdfViewerBase.clientSideRendering){var o=this.pdfViewer.pdfRendererModule.getAnnotationComments(e);this.renderCommentsOnSuccess(o,t)}else this.pdfViewerBase.requestCollection.push(this.commentsRequestHandler),t.commentsRequestHandler.send(e),t.commentsRequestHandler.onSuccess=function(e){var i=e.data;if(!t.pdfViewerBase.checkRedirection(i)&&i){if("object"!=typeof i)try{"object"!=typeof(i=JSON.parse(i))&&(i=JSON.parse(i)),"object"!=typeof i&&(t.pdfViewerBase.onControlError(500,i,this.pdfViewer.serverActionSettings.renderComments),i=null)}catch(e){t.pdfViewerBase.onControlError(500,i,this.pdfViewer.serverActionSettings.renderComments),i=null}t.renderCommentsOnSuccess(i,t)}},t.commentsRequestHandler.onFailure=function(e){this.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText)},t.commentsRequestHandler.onError=function(e){t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t.pdfViewer.serverActionSettings.renderComments)}},e.prototype.renderCommentsOnSuccess=function(e,t){if(e){var i=!1;if(t.pdfViewerBase.annotationComments?t.pdfViewerBase.annotationComments=e.annotationDetails:(t.pdfViewerBase.annotationComments=e.annotationDetails,i=!0),e.annotationDetails&&e.uniqueId===t.pdfViewerBase.documentId){t.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.renderComments,e),t.isAnnotationRendered=!0;var n=void 0;if(t.pdfViewerBase.documentAnnotationCollections)n=t.updateAnnotationsInDocumentCollections(t.pdfViewerBase.annotationComments,t.pdfViewerBase.documentAnnotationCollections);else{var o=t.pdfViewerBase.createAnnotationsCollection();n=t.updateAnnotationsInDocumentCollections(t.pdfViewerBase.annotationComments,o)}t.pdfViewerBase.annotationComments=n,t.pdfViewerBase.documentAnnotationCollections=n;for(var r=e.startPageIndex;r<e.endPageIndex;r++){var a=e.annotationDetails[parseInt(r.toString(),10)];t.pdfViewerBase.updateModifiedDateToLocalDate(a,"annotationOrder"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"freeTextAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"measureShapeAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"shapeAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"signatureAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"signatureInkAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"stampAnnotations"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"stickyNotesAnnotation"),t.pdfViewerBase.updateModifiedDateToLocalDate(a,"textMarkupAnnotation")}for(var s=e.startPageIndex;s<e.endPageIndex;s++)e.annotationDetails[parseInt(s.toString(),10)]&&t.renderAnnotationCollections(e.annotationDetails[parseInt(s.toString(),10)],s,i);t.isPageCommentsRendered||(t.isPageCommentsRendered=!0,t.createRequestForComments())}}},e.prototype.updateAnnotationsInDocumentCollections=function(e,t){for(var i=0;i<this.pdfViewerBase.pageCount;i++)if(e[parseInt(i.toString(),10)]&&t[parseInt(i.toString(),10)]){if(e[parseInt(i.toString(),10)].textMarkupAnnotation&&0!==e[parseInt(i.toString(),10)].textMarkupAnnotation.length&&t[parseInt(i.toString(),10)].textMarkupAnnotation)for(var n=0;n<e[parseInt(i.toString(),10)].textMarkupAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].textMarkupAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].textMarkupAnnotation);if(e[parseInt(i.toString(),10)].shapeAnnotation&&0!==e[parseInt(i.toString(),10)].shapeAnnotation.length&&t[parseInt(i.toString(),10)].shapeAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].shapeAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].shapeAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].shapeAnnotation);if(e[parseInt(i.toString(),10)].measureShapeAnnotation&&0!==e[parseInt(i.toString(),10)].measureShapeAnnotation.length&&t[parseInt(i.toString(),10)].measureShapeAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].measureShapeAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].measureShapeAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].measureShapeAnnotation);if(e[parseInt(i.toString(),10)].stampAnnotations&&0!==e[parseInt(i.toString(),10)].stampAnnotations.length&&t[parseInt(i.toString(),10)].stampAnnotations)for(n=0;n<e[parseInt(i.toString(),10)].stampAnnotations.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].stampAnnotations[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].stampAnnotations);if(e[parseInt(i.toString(),10)].stickyNotesAnnotation&&0!==e[parseInt(i.toString(),10)].stickyNotesAnnotation.length&&t[parseInt(i.toString(),10)].stickyNotesAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].stickyNotesAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].stickyNotesAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].stickyNotesAnnotation);if(e[parseInt(i.toString(),10)].freeTextAnnotation&&0!==e[parseInt(i.toString(),10)].freeTextAnnotation.length&&t[parseInt(i.toString(),10)].freeTextAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].freeTextAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].freeTextAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].freeTextAnnotation);if(e[parseInt(i.toString(),10)].signatureAnnotation&&0!==e[parseInt(i.toString(),10)].signatureAnnotation.length&&t[parseInt(i.toString(),10)].signatureAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].signatureAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].signatureAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].signatureAnnotation);if(e[parseInt(i.toString(),10)].signatureInkAnnotation&&0!==e[parseInt(i.toString(),10)].signatureInkAnnotation.length&&t[parseInt(i.toString(),10)].signatureInkAnnotation)for(n=0;n<e[parseInt(i.toString(),10)].signatureInkAnnotation.length;n++)this.updateDocumentAnnotationCollections(e[parseInt(i.toString(),10)].signatureInkAnnotation[parseInt(n.toString(),10)],t[parseInt(i.toString(),10)].signatureInkAnnotation)}return t},e.prototype.updateDocumentAnnotationCollections=function(e,t){if(0===t.length)t.push(e);else{for(var i=!1,n=0;n<t.length;n++)if(e.AnnotName&&t[parseInt(n.toString(),10)].AnnotName&&e.AnnotName===t[parseInt(n.toString(),10)].AnnotName){i=!0;break}i||t.push(e)}},e.prototype.renderAnnotationCollections=function(e,i,n){var o=[],r=e.annotationOrder;if(!(0,t.isNullOrUndefined)(r))for(var a=0;a<r.length;a++){var s=r[parseInt(a.toString(),10)],l=s.AnnotType?s.AnnotType:s.AnnotationType;switch(this.pdfViewer.dateTimeFormat&&(s.ModifiedDate=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.getDateAndTime(s.ModifiedDate)),o.push(s),l){case"textMarkup":(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule)||(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.textMarkupAnnotationModule.updateTextMarkupAnnotationCollections(s,i));break;case"shape_measure":(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule)||(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.measureAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.measureAnnotationModule.updateMeasureAnnotationCollections(s,i));break;case"shape":(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule)||(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.shapeAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.shapeAnnotationModule.updateShapeAnnotationCollections(s,i));break;case"sticky":this.updateCollections(this.updateStickyNotesAnnotationCollections(s,i));break;case"stamp":(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule)||(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.stampAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.stampAnnotationModule.updateStampAnnotationCollections(s,i));break;case"Ink":(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule)||(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.inkAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.inkAnnotationModule.updateInkCollections(s,i));break;case"Text Box":(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule)||(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.freeTextAnnotationModule)||this.updateCollections(this.pdfViewer.annotationModule.freeTextAnnotationModule.updateFreeTextAnnotationCollections(s,i))}}if(e.signatureAnnotation&&0!==e.signatureAnnotation.length)for(var d=0;d<e.signatureAnnotation.length;d++)this.pdfViewer.dateTimeFormat&&(e.signatureAnnotation[parseInt(d.toString(),10)].ModifiedDate=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.getDateAndTime(e.signatureAnnotation[parseInt(d.toString(),10)].ModifiedDate)),this.updateCollections(this.pdfViewerBase.signatureModule.updateSignatureCollections(e.signatureAnnotation[parseInt(d.toString(),10)],i),!0);if(this.pdfViewer.toolbarModule&&this.renderAnnotationComments(o,i),n)for(d=0;d<this.pdfViewerBase.renderedPagesList.length;d++)this.pdfViewerBase.renderedPagesList[parseInt(d.toString(),10)]===i&&this.pdfViewerBase.renderAnnotations(i,e,!1)},e.prototype.updateCollections=function(e,t){var i,n=!1;if((i=t?this.pdfViewer.signatureCollection:this.pdfViewer.annotationCollection)&&e)for(var o=0;o<i.length;o++)if(t){if(i[parseInt(o.toString(),10)].signatureName===e.signatureName){n=!0;break}}else if(i[parseInt(o.toString(),10)].annotationId===e.annotationId){n=!0;break}!n&&e&&(t?this.pdfViewer.signatureCollection.push(e):this.pdfViewer.annotationCollection.push(e))},e.prototype.renderAnnotationComments=function(e,t){if(t+=1,e&&0!==e.length){(1!==e.length||"Signature"!==e[0].AnnotationType&&"signature"!==e[0].AnnotationType)&&this.createPageAccordion(t);for(var i=0;i<e.length;i++)e[parseInt(i.toString(),10)].AnnotName&&1===e[parseInt(i.toString(),10)].AnnotName.split("freeText").length&&this.createCommentControlPanel(e[parseInt(i.toString(),10)],t);var n=document.querySelectorAll(".e-pv-new-comments-div");if(n)for(var o=0;o<n.length;o++)n[parseInt(o.toString(),10)].style.display="none"}},e.prototype.initializeAcccordionContainer=function(){var e=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentsPanelText",className:"e-pv-comments-panel-text"});(0,t.isBlazor)()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_NoCommentsYet").then((function(t){e.textContent=t})):e.textContent=this.pdfViewer.localeObj.getConstant("No Comments Yet");this.updateCommentPanelTextTop(),this.pdfViewerBase.navigationPane.commentsContentContainer.appendChild(e),this.accordionContentContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_accordionContentContainer",className:"e-pv-accordion-content-container"}),this.pdfViewerBase.navigationPane.commentsContentContainer.appendChild(this.accordionContentContainer),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!1),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export XFDF")],!1)},e.prototype.updateCommentPanelTextTop=function(){var e=document.getElementById(this.pdfViewer.element.id+"_commentsPanelText");this.pdfViewerBase.navigationPane.commentPanelContainer&&this.pdfViewerBase.navigationPane.commentPanelContainer.clientHeight&&"none"!==e.style.display&&(e.style.paddingTop=this.pdfViewerBase.navigationPane.commentPanelContainer.clientHeight/2-47+"px",e.style.paddingLeft=this.pdfViewerBase.navigationPane.commentPanelContainer.clientWidth/3+"px")},e.prototype.createPageAccordion=function(e){if(null===document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+e))return this.accordionContent=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_accordioncontent"+e}),this.accordionContent.style.zIndex="1000",this.accordionPageContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_accordionPageContainer"+e,className:"e-pv-accordion-page-container"}),this.accordionPageContainer.appendChild(this.accordionContent),this.pdfViewerBase.viewerMainContainer.appendChild(this.accordionPageContainer),this.accordionContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_accordionContainer"+e,className:"e-pv-accordion-container"}),new ai.Accordion({items:[{header:this.pdfViewer.localeObj.getConstant("Page")+" "+e,expanded:!0,content:"#"+this.pdfViewer.element.id+"_accordioncontent"+e}]}).appendTo(this.accordionContainer),this.accordionContainer.style.order="pageIndex",this.alignAccordionContainer(this.accordionContainer,e),document.getElementById(this.pdfViewer.element.id+"_commentsPanelText")&&(this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!0),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export XFDF")],!0),document.getElementById(this.pdfViewer.element.id+"_commentsPanelText").style.display="none"),document.getElementById(this.pdfViewer.element.id+"_accordionContentContainer")&&(document.getElementById(this.pdfViewer.element.id+"_accordionContentContainer").style.display="block"),this.accordionContainer},e.prototype.alignAccordionContainer=function(e,t){var i=!0;if(this.accordionContentContainer){if(this.isAccordionContainer)this.accordionContentContainer.appendChild(e),i=!1;else for(var n=1;n<=this.pdfViewerBase.pageCount;n++){var o=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+n);if(o&&t<n){this.accordionContentContainer.insertBefore(e,o),i=!1;break}}i&&(this.accordionContentContainer.appendChild(e),i=!1),this.isAccordionContainer=!1}},e.prototype.updateCommentPanelScrollTop=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+e);if(t){var i=t.offsetTop+t.clientTop-35;this.pdfViewerBase.navigationPane.commentsContentContainer.scrollTop=i}},e.prototype.getButtonState=function(e,t){t.addEventListener("keyup",(function(t){e.element.querySelector(".e-btn-save")&&(""===t.srcElement.value&&""===t.srcElement.defaultValue||t.srcElement.defaultValue===t.srcElement.value||(e.element.querySelector(".e-btn-save").ej2_instances[0].disabled=!1))}))},e.prototype.createCommentControlPanel=function(e,i,n,o,r){var a=document.getElementById(this.pdfViewer.element.id+"_accordioncontent"+i);if(a){var s=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+i);s&&s.ej2_instances[0].expandItem(!0),this.commentsContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"commentscontainer_"+i+"_"+this.commentsCount,className:"e-pv-comments-container"}),this.commentsContainer.accessKey=i.toString()+"_"+this.commentsCount;var l=!1;if(e){if(this.commentsContainer.id=e.AnnotName,e.AnnotName)for(var d=0;d<a.childElementCount;d++)if(a.children[parseInt(d.toString(),10)].id===e.AnnotName){if(l=!0,r)document.getElementById(a.children[parseInt(d.toString(),10)].id).remove(),l=!1;break}e.Name&&"freeText"===e.Name?this.commentsContainer.setAttribute("name","freeText"):this.commentsContainer.setAttribute("name",e.AnnotType)}n&&this.commentsContainer.setAttribute("name",n),this.commentsContainer.addEventListener("mousedown",this.commentsAnnotationSelect.bind(this));var h=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentdiv_"+i+"_"+this.commentsCount,className:"e-pv-comments-div"});this.commentsCount=this.commentsCount+1,this.commentsContainer.appendChild(h),this.updateCommentPanelScrollTop(i),l||a.appendChild(this.commentsContainer);var A=void 0;e?("null"===(A=this.commentsContainer.getAttribute("name"))&&(A=e.AnnotationType),this.createTitleContainer(h,A,i,e.Subject,e.ModifiedDate,e.Author)):(A=this.commentsContainer.getAttribute("name"),this.createTitleContainer(h,A,i,o));var p=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commenttextbox_"+i+"_"+this.commentsCount,className:"e-pv-comment-textbox",attrs:{role:"textbox","aria-label":"comment textbox"}}),c=this.pdfViewer.enableAutoComplete?"on":"off",g=new Ht.InPlaceEditor({mode:"Inline",type:"Text",model:{placeholder:this.pdfViewer.localeObj.getConstant("Add a comment")+"..",htmlAttributes:{autocomplete:c}},emptyText:"",editableOn:"EditIconClick",saveButton:{content:this.pdfViewer.localeObj.getConstant("Post"),cssClass:"e-outline",disabled:!0},cancelButton:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-outline"},submitOnEnter:!0});!e||(0,t.isNullOrUndefined)(e.Note)&&(0,t.isNullOrUndefined)(e.Text)||(g.created=function(){setTimeout((function(){g.element.querySelector(".e-editable-value").innerText=(0,t.isNullOrUndefined)(e.Note)?(0,t.isNullOrUndefined)(e.Text)?"":e.Text:e.Note}))},g.beginEdit=function(){g.value=g.valueEle.innerText}),g.appendTo(p);var u=document.querySelectorAll(".e-editable-inline");for(d=0;d<u.length;d++)u[parseInt(d.toString(),10)].style.display="none";if(e||"freeText"===n||(g.enableEditMode=!0),this.getButtonState(g,p),g.actionSuccess=this.createCommentDiv.bind(this,g),h.appendChild(p),e){if(g.value=(0,t.isNullOrUndefined)(e.Note)?(0,t.isNullOrUndefined)(e.Text)?"":e.Text:e.Note,this.checkIslockProperty(e)&&null==e.Comments&&this.createCommentDiv(this.commentsContainer),"freeText"===e.Name&&(g.value=e.MarkupText),e.State){var f=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),m=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),w=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"status_icon"});m.appendChild(w),f.appendChild(m),h.appendChild(f),this.updateStatusContainer(e.State,w,m,f)}if(e.Comments){for(d=0;d<e.Comments.length;d++)this.renderComments(e.Comments[parseInt(d.toString(),10)],this.commentsContainer);" "!==e.Note&&""!==e.Note&&null!==e.Note&&this.createCommentDiv(this.commentsContainer),"Text Box"===e.AnnotType&&" "!==e.Text&&""!==e.Text&&null!==e.Text&&this.createCommentDiv(this.commentsContainer)}" "!==e.Note&&""!==e.Note&&null!==e.Note&&this.createCommentDiv(this.commentsContainer),"Text Box"===e.AnnotType&&" "!==e.Text&&""!==e.Text&&null!==e.Text&&this.createCommentDiv(this.commentsContainer)}return this.isNewcommentAdded=!0,h.addEventListener("click",this.commentsDivClickEvent.bind(this)),h.addEventListener("mouseover",this.commentDivMouseOver.bind(this)),h.addEventListener("mouseleave",this.commentDivMouseLeave.bind(this)),h.addEventListener("mouseout",this.commentDivMouseLeave.bind(this)),h.addEventListener("focusout",this.commentDivMouseLeave.bind(this)),p.addEventListener("dblclick",this.openEditorElement.bind(this)),p.addEventListener("focusin",this.commentDivFocus.bind(this)),this.commentsContainer.id}return""},e.prototype.commentDivFocus=function(e){if((0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.defaultText)&&(this.pdfViewer.freeTextSettings.defaultText="Type here"),!(0,t.isNullOrUndefined)(e.target)&&!(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.defaultText)&&this.pdfViewer.selectedItems&&this.pdfViewer.selectedItems.annotations[0]&&"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&e.target.value===this.pdfViewer.freeTextSettings.defaultText&&e.target.select(),this.isNewcommentAdded){var i=this,n=this.pdfViewerBase.currentPageNumber;setTimeout((function(){i.updateScrollPosition(n)}),500)}else null!==e.relatedTarget&&e.relatedTarget.id===this.pdfViewer.element.id+"_viewerContainer"&&(e.preventDefault(),e.target.blur())},e.prototype.updateScrollPosition=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+e);if(t&&this.isNewcommentAdded){var i=0,n=document.querySelectorAll(".e-editable-inline");n[0]&&(i=n[0].getBoundingClientRect().height);var o=t.offsetTop+t.clientTop+i;this.pdfViewerBase.navigationPane.commentsContentContainer.scrollTop<o&&(this.pdfViewerBase.navigationPane.commentsContentContainer.scrollTop=o),this.isNewcommentAdded=!1}},e.prototype.updateCommentsScrollTop=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+this.pdfViewerBase.currentPageNumber),i=document.querySelector(".e-pv-comments-border"),n=0;if(t&&i){n=i.getBoundingClientRect().height;var o=void 0;o=e?t.offsetTop+i.offsetTop+n/4:t.offsetTop+i.offsetTop-70,this.pdfViewerBase.navigationPane.commentsContentContainer.scrollTop=o}},e.prototype.createCommentDiv=function(e){var i,n,o=this,r=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_newcommentdiv_"+this.commentsCount+"_"+this.commentsreplyCount,className:"e-pv-new-comments-div"});e.localName?i=e:(i=e.valueEle.parentElement.parentElement.parentElement.parentElement,n=e.valueEle.parentElement.parentElement.previousSibling.childNodes[1]);var a=this.pdfViewer.enableAutoComplete?"on":"off",s=new Ht.InPlaceEditor({mode:"Inline",type:"Text",value:"",editableOn:"Click",model:{placeholder:this.pdfViewer.localeObj.getConstant("Add a reply")+"..",htmlAttributes:{autocomplete:a}},emptyText:this.pdfViewer.localeObj.getConstant("Add a reply"),saveButton:{content:this.pdfViewer.localeObj.getConstant("Post"),cssClass:"e-outline",disabled:!0},cancelButton:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-outline"},submitOnEnter:!0});if(s.appendTo(r),r.lastChild.firstChild.click(),this.getButtonState(s,r),e.valueEle){if(this.pdfViewer.enableHtmlSanitizer&&e.value&&(e.value=t.SanitizeHtmlHelper.sanitize(e.value)),null!==e.value&&""!==e.value&&" "!==e.value||""===e.value&&""!==e.prevValue){if(this.pdfViewer.selectedItems.annotations[0]&&"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType)this.modifyTextProperty(e.value,e.prevValue,e.valueEle.parentNode.parentNode.parentNode.parentNode.id);else try{this.modifyTextProperty(e.value,e.prevValue,e.valueEle.parentNode.parentNode.parentNode.parentNode.id)}catch(t){this.modifyTextProperty(e.value,e.prevValue)}e.prevValue!=e.value&&this.updateModifiedDate(n)}1===e.valueEle.parentElement.parentElement.parentElement.parentElement.childElementCount&&null!=e.value&&""!==e.value&&(i.appendChild(r),setTimeout((function(){o.updateCommentsScrollTop(!0)}),50))}else i.appendChild(r),setTimeout((function(){o.updateCommentsScrollTop(!0)}),50);s.actionSuccess=this.saveCommentDiv.bind(this,s)},e.prototype.saveCommentDiv=function(e,i){var n,o,r,a;if(this.pdfViewer.enableHtmlSanitizer&&e.value&&(e.value=t.SanitizeHtmlHelper.sanitize(e.value)),i.name&&""!==e.value?(n=e.valueEle.parentElement.parentElement.parentElement,r=e.valueEle.parentElement.parentElement,a=e.value):(r=(n=e).lastChild,a=i),n&&r){n.removeChild(r);var s=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_replytextbox_"+this.commentsCount+"_"+this.commentsreplyCount});this.commentsreplyCount=this.commentsreplyCount+1;var l=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"replyDiv_"+this.commentsCount+"_"+this.commentsreplyCount,className:"e-pv-reply-div"});l.id=this.pdfViewer.annotation.createGUID(),o=this.getAuthorName(this.pdfViewer.selectedItems.annotations[0],n),this.createReplyDivTitleContainer(l,null,o),l.addEventListener("mouseover",this.commentDivMouseOver.bind(this)),l.addEventListener("mouseleave",this.commentDivMouseLeave.bind(this)),l.addEventListener("click",this.commentDivOnSelect.bind(this)),s.addEventListener("dblclick",this.openEditorElement.bind(this)),l.style.border="1px",l.style.borderColor="black",l.style.zIndex=1002;var d=this.pdfViewer.enableAutoComplete?"on":"off",h=new Ht.InPlaceEditor({mode:"Inline",type:"Text",emptyText:"",editableOn:"EditIconClick",model:{placeholder:this.pdfViewer.localeObj.getConstant("Add a reply")+"..",htmlAttributes:{autocomplete:d}},value:a,saveButton:{content:this.pdfViewer.localeObj.getConstant("Post"),cssClass:"e-outline",disabled:!0},cancelButton:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-outline"}});h.created=function(){setTimeout((function(){h.element.querySelector(".e-editable-value").innerText=a}))},h.beginEdit=function(){h.value=h.valueEle.innerText},h.appendTo(s),h.actionSuccess=this.modifyProperty.bind(this,h),l.appendChild(s),l.style.paddingLeft="24px",n.appendChild(l),this.getButtonState(h,s),l.addEventListener("click",this.commentsDivClickEvent.bind(this)),l.addEventListener("dblclick",this.commentsDivDoubleClickEvent.bind(this)),this.createCommentDiv(l.parentElement),this.modifyCommentsProperty(a,l.id,n.id)}},e.prototype.renderComments=function(e,i,n,o,r){var a,s=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_replytextbox_"+this.commentsCount+"_"+this.commentsreplyCount});this.commentsreplyCount=this.commentsreplyCount+1;var l=(0,t.createElement)("div",{id:"replyDiv_"+this.commentsCount+"_"+this.commentsreplyCount,className:"e-pv-reply-div"});n?(l.id=e.annotName,a=e.author):(l.id=e.AnnotName,a=e.Author),l.style.border="1px",l.style.borderColor="black",a||(a=i.getAttribute("author")),n?void 0!==e.modifiedDate?this.createReplyDivTitleContainer(l,e.modifiedDate,a):this.createReplyDivTitleContainer(l,null,a):this.createReplyDivTitleContainer(l,e.ModifiedDate,a),l.addEventListener("mouseover",this.commentDivMouseOver.bind(this)),l.addEventListener("mouseleave",this.commentDivMouseLeave.bind(this)),l.addEventListener("click",this.commentDivOnSelect.bind(this)),s.addEventListener("dblclick",this.openEditorElement.bind(this));var d=this.pdfViewer.enableAutoComplete?"on":"off",h=new Ht.InPlaceEditor({mode:"Inline",type:"Text",emptyText:"",editableOn:"EditIconClick",model:{placeholder:this.pdfViewer.localeObj.getConstant("Add a reply")+"..",htmlAttributes:{autocomplete:d}},value:"",saveButton:{content:this.pdfViewer.localeObj.getConstant("Post"),cssClass:"e-outline",disabled:!0},cancelButton:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-outline"}});if(h.value=n?e.note:e.Note,h.created=function(){setTimeout((function(){h.element.querySelector(".e-editable-value").innerText=n?e?e.note:"":e?e.Note:""}))},h.beginEdit=function(){h.value=h.valueEle.innerText},h.appendTo(s),l.appendChild(s),n&&(e.State=e.state),e.State){var A=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),p=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),c=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"status_icon"});p.appendChild(c),A.appendChild(p),l.appendChild(A),this.updateStatusContainer(e.State,c,p,A)}if(l.style.paddingLeft="24px",this.getButtonState(h,s),n)if(r)i.appendChild(l);else{var g=document.getElementById(o);e.position?g.insertBefore(l,g.childNodes[e.position]):g&&(g.childElementCount>1?g.insertBefore(l,g.childNodes[g.childElementCount-1]):i.appendChild(l))}else i.appendChild(l);l.addEventListener("click",this.commentsDivClickEvent.bind(this)),l.addEventListener("dblclick",this.commentsDivDoubleClickEvent.bind(this)),h.actionSuccess=this.modifyProperty.bind(this,h)},e.prototype.createCommentsContainer=function(e,i,n){var o=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+i);if(!o){var r=document.getElementById(this.pdfViewer.element.id+"_accordionPageContainer"+i);r&&r.parentElement.removeChild(r),(o=this.createPageAccordion(i))&&o.ej2_instances[0].expandItem(!0)}var a=document.getElementById(this.pdfViewer.element.id+"_accordioncontent"+i);this.commentsContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"commentscontainer_"+i+"_"+this.commentsCount,className:"e-pv-comments-container"}),this.commentsContainer.accessKey=i.toString()+"_"+this.commentsCount,e&&(this.commentsContainer.id=e.annotName?e.annotName:e.annotationId),this.commentsContainer.addEventListener("mousedown",this.commentsAnnotationSelect.bind(this));var s=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentdiv_"+i+"_"+this.commentsCount,className:"e-pv-comments-div"});if(this.commentsCount=this.commentsCount+1,this.commentsContainer.appendChild(s),this.updateCommentPanelScrollTop(i),e&&a&&(e.position||0===e.position?a.insertBefore(this.commentsContainer,a.children[e.position]):a.appendChild(this.commentsContainer)),e&&a)if(e.indent)this.commentsContainer.setAttribute("name","shape_measure"),this.createTitleContainer(s,"shape_measure",i,e.subject,e.modifiedDate,e.author);else if("sticky"===e.shapeAnnotationType||"stamp"===e.shapeAnnotationType){var l=this.createTitleContainer(s,e.shapeAnnotationType,i,null,e.modifiedDate,e.author);this.commentsContainer.setAttribute("name",l),"sticky"===l&&(n||this.addStickyNotesAnnotations(i-1,e))}else"textMarkup"===e.shapeAnnotationType?(this.commentsContainer.setAttribute("name","textMarkup"),this.createTitleContainer(s,"textMarkup",i,e.subject,e.modifiedDate,e.author)):"FreeText"===e.shapeAnnotationType?(e.note=e.dynamicText,this.commentsContainer.setAttribute("name","freetext"),this.createTitleContainer(s,"freeText",i,e.subject,e.modifiedDate)):"Ink"===e.shapeAnnotationType?(e.note=e.dynamicText,this.commentsContainer.setAttribute("name","ink"),this.createTitleContainer(s,"ink",i,e.subject,e.modifiedDate)):(this.commentsContainer.setAttribute("name","shape"),"Line"===e.shapeAnnotationType?this.createTitleContainer(s,"shape",i,e.subject,e.modifiedDate,e.author):this.createTitleContainer(s,"shape",i,e.shapeAnnotationType,e.modifiedDate,e.author));var d=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commenttextbox_"+i+"_"+this.commentsCount,className:"e-pv-comment-textbox",attrs:{role:"textbox","aria-label":"comment textbox"}}),h=this.pdfViewer.enableAutoComplete?"on":"off",A=new Ht.InPlaceEditor({mode:"Inline",type:"Text",model:{placeholder:this.pdfViewer.localeObj.getConstant("Add a comment")+"..",htmlAttributes:{autocomplete:h}},emptyText:"",editableOn:"EditIconClick",saveButton:{content:this.pdfViewer.localeObj.getConstant("Post"),cssClass:"e-outline",disabled:!0},cancelButton:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-outline"},submitOnEnter:!0});A.appendTo(d);for(var p=document.querySelectorAll(".e-editable-inline"),c=0;c<p.length;c++)p[parseInt(c.toString(),10)].style.display="none";if(d.addEventListener("keydown",(function(e){A.element.querySelector(".e-btn-save")&&(""!==e.srcElement.value?A.element.querySelector(".e-btn-save").ej2_instances[0].disabled=!1:A.element.querySelector(".e-btn-save").ej2_instances[0].disabled=!0)})),A.actionSuccess=this.createCommentDiv.bind(this,A),s.appendChild(d),e){if(A.value=e.note,e.state){var g=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),u=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),f=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"status_icon"});u.appendChild(f),g.appendChild(u),s.appendChild(g),this.updateStatusContainer(e.state,f,u,g)}if(e.comments){for(c=0;c<e.comments.length;c++)this.renderComments(e.comments[parseInt(c.toString(),10)],this.commentsContainer,!0,null,!0);e.comments.length>0&&this.createCommentDiv(this.commentsContainer)}}return s.addEventListener("click",this.commentsDivClickEvent.bind(this)),s.addEventListener("mouseover",this.commentDivMouseOver.bind(this)),s.addEventListener("mouseleave",this.commentDivMouseLeave.bind(this)),s.addEventListener("mouseout",this.commentDivMouseLeave.bind(this)),s.addEventListener("focusout",this.commentDivMouseLeave.bind(this)),d.addEventListener("dblclick",this.openEditorElement.bind(this)),this.commentsContainer.id},e.prototype.modifyProperty=function(e){var t=e.element.parentElement.id,i=e.element.parentElement.parentElement.id,n=e.element.previousSibling.firstChild;this.updateModifiedDate(n),this.modifyCommentsProperty(e.value,t,i,e.prevValue)},e.prototype.createTitleContainer=function(e,i,n,o,r,a,s){var l,d=this.getAnnotationType(i),h=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentTitleConatiner_"+n+"_"+this.commentsCount,className:"e-pv-comment-title-container"}),A=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_commenttype_icon"+n+"_"+this.commentsCount});A.style.opacity="0.6",this.updateCommentIcon(A,d,o),l=(l=a||this.pdfViewer.annotationModule.updateAnnotationAuthor(d,o)).replace(/(\r\n|\n|\r)/gm,""),A.style.padding="8px",A.style.cssFloat="left",h.appendChild(A);var p=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentTitle_"+n+"_"+this.commentsCount,className:"e-pv-comment-title"});p.textContent=r?l+" - "+this.convertUTCDateToLocalDate(r):l+" - "+this.setModifiedDate(),h.appendChild(p),this.moreButtonId=this.pdfViewer.element.id+"_more-options_"+this.commentsCount+"_"+this.commentsreplyCount;var c=(0,t.createElement)("button",{id:this.moreButtonId,className:"e-pv-more-options-button e-btn",attrs:{tabindex:"-1"}});c.style.visibility="hidden",c.style.zIndex="1001",c.setAttribute("type","button"),c.setAttribute("aria-label","more button");var g=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_more-options_icon",className:"e-pv-more-icon e-pv-icon"});c.appendChild(g),g.style.opacity="0.87",h.appendChild(c),e.appendChild(h);var u=e.parentElement;if(u){var f=this.pdfViewer.annotationModule.updateAnnotationAuthor(d,o);u.setAttribute("author",f)}return this.isCreateContextMenu||this.createCommentContextMenu(),this.isCreateContextMenu=!0,p.parentElement&&0!==p.parentElement.clientWidth?p.style.maxWidth=p.parentElement.clientWidth-c.clientWidth+"px":p.style.maxWidth="237px",h.addEventListener("dblclick",this.openTextEditor.bind(this)),c.addEventListener("mouseup",this.moreOptionsClick.bind(this)),d},e.prototype.createReplyDivTitleContainer=function(e,i,n){var o=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_replyTitleConatiner_"+this.commentsCount+"_"+this.commentsreplyCount,className:"e-pv-reply-title-container"}),r=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_replyTitle_"+this.commentsCount+"_"+this.commentsreplyCount,className:"e-pv-reply-title"});n=n.replace(/(\r\n|\n|\r)/gm,""),r.textContent=i?n+" - "+this.setExistingAnnotationModifiedDate(i):n+" - "+this.setModifiedDate(),o.appendChild(r),this.moreButtonId=this.pdfViewer.element.id+"_more-options_"+this.commentsCount+"_"+this.commentsreplyCount;var a=(0,t.createElement)("button",{id:this.moreButtonId,className:"e-pv-more-options-button e-btn",attrs:{tabindex:"-1"}});a.style.visibility="hidden",a.style.zIndex="1001",a.setAttribute("type","button"),a.setAttribute("aria-label","more button");var s=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_more-options_icon",className:"e-pv-more-icon e-pv-icon"});a.appendChild(s),s.style.opacity="0.87",o.appendChild(a),e.appendChild(o);var l=document.querySelectorAll('[class="e-pv-comment-title"]'),d=document.querySelectorAll('[class="e-pv-more-options-button e-btn"]');l[0]&&d[0]&&l[0].parentElement&&0!==l[0].parentElement.clientWidth?r.style.maxWidth=l[0].parentElement.clientWidth-d[0].clientWidth+"px":r.style.maxWidth="237px",o.addEventListener("dblclick",this.openTextEditor.bind(this)),a.addEventListener("mouseup",this.moreOptionsClick.bind(this))},e.prototype.updateCommentIcon=function(e,t,i){"sticky"===t?e.className="e-pv-comment-icon e-pv-icon":"stamp"===t?e.className="e-pv-stamp-icon e-pv-icon":"shape"===t?e.className="Line"===i?"e-pv-shape-line-icon e-pv-icon":"LineWidthArrowHead"===i||"Arrow"===i?"e-pv-shape-arrow-icon e-pv-icon":"Circle"===i||"Ellipse"===i||"Oval"===i?"e-pv-shape-circle-icon e-pv-icon":"Rectangle"===i||"Square"===i?"e-pv-shape-rectangle-icon e-pv-icon":"Polygon"===i?"e-pv-shape-pentagon-icon e-pv-icon":"e-pv-annotation-shape-icon e-pv-icon":"measure"===t?e.className="Distance"===i||"Distance calculation"===i?"e-pv-calibrate-distance-icon e-pv-icon":"Perimeter"===i||"Perimeter calculation"===i?"e-pv-calibrate-perimeter-icon e-pv-icon":"Radius"===i||"Radius calculation"===i?"e-pv-calibrate-radius-icon e-pv-icon":"Area"===i||"Area calculation"===i?"e-pv-calibrate-area-icon e-pv-icon":"Volume"===i||"Volume calculation"===i?"e-pv-calibrate-volume-icon e-pv-icon":"e-pv-annotation-calibrate-icon e-pv-icon":"textMarkup"===t?e.className="Highlight"===i?"e-pv-highlight-icon e-pv-icon":"Underline"===i?"e-pv-underline-icon e-pv-icon":"Strikethrough"===i?"e-pv-strikethrough-icon e-pv-icon":"e-pv-annotation-icon e-pv-icon":"freeText"===t?e.className="e-pv-freetext-icon e-pv-icon":"ink"!==t&&"Ink"!==i||(e.className="e-pv-inkannotation-icon e-pv-icon")},e.prototype.updateStatusContainer=function(e,t,i,n){"Accepted"===e?(i.style.backgroundColor="rgb(24,169,85)",t.className="e-pv-accepted-icon"):"Completed"===e?(i.style.backgroundColor="rgb(0,122,255)",t.className="e-pv-completed-icon"):"Cancelled"===e?(i.style.backgroundColor="rgb(245,103,0)",t.className="e-pv-cancelled-icon"):"Rejected"===e?(i.style.backgroundColor="rgb(255,59,48)",t.className="e-pv-rejected-icon"):(t.className="",n.parentElement.removeChild(n))},e.prototype.updateAccordionContainer=function(e){var t=parseInt(e.accessKey.split("_")[0],10),i=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+t);i&&i.parentElement.removeChild(i);var n=document.getElementById(this.pdfViewer.element.id+"_accordionContentContainer");n&&0===n.childElementCount&&(n.style.display="none",document.getElementById(this.pdfViewer.element.id+"_commentsPanelText")&&(this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!1),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export XFDF")],!1),document.getElementById(this.pdfViewer.element.id+"_commentsPanelText").style.display="block",this.updateCommentPanelTextTop()))},e.prototype.createCommentContextMenu=function(){this.commentContextMenu=[{text:this.pdfViewer.localeObj.getConstant("Edit")},{text:this.pdfViewer.localeObj.getConstant("Delete Context")},{text:this.pdfViewer.localeObj.getConstant("Set Status"),items:[{text:this.pdfViewer.localeObj.getConstant("None")},{text:this.pdfViewer.localeObj.getConstant("Accepted")},{text:this.pdfViewer.localeObj.getConstant("Cancelled")},{text:this.pdfViewer.localeObj.getConstant("Completed")},{text:this.pdfViewer.localeObj.getConstant("Rejected")}]}];var e=(0,t.createElement)("ul",{id:this.pdfViewer.element.id+"_comment_context_menu"});this.pdfViewer.element.appendChild(e),this.commentMenuObj=new ai.ContextMenu({target:"#"+this.moreButtonId,items:this.commentContextMenu,beforeOpen:this.contextMenuBeforeOpen.bind(this),select:this.commentMenuItemSelect.bind(this)}),this.pdfViewer.enableRtl&&(this.commentMenuObj.enableRtl=!0),this.commentMenuObj.appendTo(e),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.commentMenuObj.animationSettings.effect="ZoomIn":this.commentMenuObj.animationSettings.effect="SlideDown"},e.prototype.contextMenuBeforeOpen=function(e){var t,i=document.querySelectorAll(".e-pv-more-options-button");if(i)for(var n=0;n<i.length;n++)"visible"===i[parseInt(n.toString(),10)].style.visibility&&(t=i[parseInt(n.toString(),10)].parentElement.nextSibling);this.checkIslockProperty(t)?(this.commentMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Edit")],!1),this.commentMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Delete Context")],!1)):(this.commentMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Edit")],!0),this.commentMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Delete Context")],!0))},e.prototype.commentMenuItemSelect=function(e){var i,n=document.querySelectorAll(".e-pv-more-options-button");if(n){for(var o=0;o<n.length;o++)"visible"===n[parseInt(o.toString(),10)].style.visibility&&(i=n[parseInt(o.toString(),10)].parentElement.nextSibling);if(e.item)switch(e.item.text){case this.pdfViewer.localeObj.getConstant("Edit"):var r=document.querySelectorAll(".e-pv-new-comments-div");for(o=0;o<r.length;o++)r[parseInt(o.toString(),10)].style.display="none";i.ej2_instances[0].enableEditMode=!0;break;case this.pdfViewer.localeObj.getConstant("Delete Context"):if(i.parentElement.parentElement.firstChild===i.parentElement){var a=this.getAnnotationById(i.parentElement.parentElement);if(a){var s=a.annotation;a.pageIndex;s&&this.handleCommentDeletion(s)}}else this.modifyCommentDeleteProperty(i.parentElement.parentElement,i.parentElement);break;case this.pdfViewer.localeObj.getConstant("Set Status"):break;case this.pdfViewer.localeObj.getConstant("Accepted"):i.parentElement.lastChild.id===this.pdfViewer.element.id+"status_container"&&i.parentElement.lastChild.remove();var l=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),d=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),h=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"status_icon",className:"e-pv-accepted-icon"});d.style.backgroundColor="rgb(24,169,85)",d.appendChild(h),l.appendChild(d),i.parentElement.appendChild(l),this.modifyStatusProperty("Accepted",i.parentElement);break;case this.pdfViewer.localeObj.getConstant("Completed"):i.parentElement.lastChild.id===this.pdfViewer.element.id+"status_container"&&i.parentElement.lastChild.remove();var A=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),p=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),c=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"status_icon",className:"e-pv-completed-icon"});p.style.backgroundColor="rgb(0,122,255)",p.appendChild(c),A.appendChild(p),i.parentElement.appendChild(A),this.modifyStatusProperty("Completed",i.parentElement);break;case this.pdfViewer.localeObj.getConstant("Cancelled"):i.parentElement.lastChild.id===this.pdfViewer.element.id+"status_container"&&i.parentElement.lastChild.remove();var g=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),u=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),f=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"status_icon",className:"e-pv-cancelled-icon"});u.style.backgroundColor="rgb(245,103,0)",u.appendChild(f),g.appendChild(u),i.parentElement.appendChild(g),this.modifyStatusProperty("Cancelled",i.parentElement);break;case this.pdfViewer.localeObj.getConstant("Rejected"):i.parentElement.lastChild.id===this.pdfViewer.element.id+"status_container"&&i.parentElement.lastChild.remove();var m=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),w=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),y=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"status_icon",className:"e-pv-rejected-icon"});w.style.backgroundColor="rgb(255,59,48)",w.appendChild(y),m.appendChild(w),i.parentElement.appendChild(m),this.modifyStatusProperty("Rejected",i.parentElement);break;case this.pdfViewer.localeObj.getConstant("None"):i.parentElement.lastChild.id===this.pdfViewer.element.id+"status_container"&&i.parentElement.lastChild.remove(),this.modifyStatusProperty("None",i.parentElement)}}},e.prototype.handleCommentDeletion=function(e){(0,t.isNullOrUndefined)(e.note)||""===e.note||this.pdfViewer.fireCommentDelete(e.annotName,e.note,e),this.pdfViewer.annotationModule.deleteAnnotation()},e.prototype.getAnnotationById=function(e){var t=parseInt(e.accessKey.split("_")[0],10)-1,i=e.getAttribute("name"),n=this.getAnnotations(t,null,i);return n?{annotation:n.find((function(t){return t.annotName===e.id}))||null,pageIndex:t}:null},e.prototype.moreOptionsClick=function(e,t){if("block"!==document.getElementById(this.pdfViewer.element.id+"_comment_context_menu").style.display&&(this.pdfViewer.annotationModule.checkContextMenuDeleteItem(this.commentMenuObj),this.commentMenuObj.open(e.clientY,e.clientX,e.currentTarget)),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.inkAnnotationModule){var i=parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10);this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(i)}},e.prototype.openTextEditor=function(e){for(var t=document.querySelectorAll(".e-pv-new-comments-div"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].style.display="none";if(this.checkIslockProperty(e.currentTarget.nextSibling))e.currentTarget.nextSibling.ej2_instances[0].enableEditMode=!1;else if(e.currentTarget&&e.target){this.checkAnnotationSettings(e.currentTarget.id)||(e.currentTarget.nextSibling.ej2_instances[0].enableEditMode=!0)}else e.currentTarget.nextSibling.ej2_instances[0].enableEditMode=!0},e.prototype.checkIslockProperty=function(e){var i,n=this.pdfViewer.annotationCollection;if(e.IsCommentLock)return!0;this.pdfViewer.annotationModule.textMarkupAnnotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?i=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation:this.pdfViewer.selectedItems.annotations[0]&&(i=this.pdfViewer.selectedItems.annotations[0]);for(var o=0;o<n.length;o++){n[parseInt(o.toString(),10)].annotationSettings=(0,t.isNullOrUndefined)(n[parseInt(o.toString(),10)].annotationSettings)?{}:n[parseInt(o.toString(),10)].annotationSettings;var r=(0,t.isNullOrUndefined)(n[parseInt(o.toString(),10)].note)?n[parseInt(o.toString(),10)].notes:n[parseInt(o.toString(),10)].note;if(n[parseInt(o.toString(),10)].annotationSettings.isLock&&(e.textContent===r||n[parseInt(o.toString(),10)].dynamicText===e.textContent))return!0;if(n[parseInt(o.toString(),10)].isCommentLock&&(this.pdfViewer.selectedItems.annotations[parseInt(o.toString(),10)]&&this.pdfViewer.selectedItems.annotations[parseInt(o.toString(),10)].isCommentLock||this.pdfViewer.annotationModule.textMarkupAnnotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation.isCommentLock))return!0;for(var a=0;a<n[parseInt(o.toString(),10)].comments.length;a++)if(i&&n[parseInt(o.toString(),10)].annotationId===i.annotName&&!0===n[parseInt(o.toString(),10)].comments[parseInt(a.toString(),10)].isLock&&e.textContent===n[parseInt(o.toString(),10)].comments[parseInt(a.toString(),10)].note)return!0}return!1},e.prototype.openEditorElement=function(e){for(var i=document.querySelectorAll(".e-pv-new-comments-div"),n=0;n<i.length;n++)i[parseInt(n.toString(),10)].style.display="none";if(this.checkIslockProperty(e.currentTarget))e.currentTarget.ej2_instances[0].enableEditMode=!1;else if(e.currentTarget&&e.target){this.checkAnnotationSettings(e.currentTarget.id)||(!(0,t.isNullOrUndefined)(this.pdfViewer.selectedItems)&&this.pdfViewer.selectedItems.annotations[0]&&this.pdfViewer.selectedItems.annotations[0].isReadonly?e.currentTarget.ej2_instances[0].enableEditMode=!1:e.currentTarget.ej2_instances[0].enableEditMode=!0)}else e.currentTarget.ej2_instances[0].enableEditMode=!0},e.prototype.commentsDivClickEvent=function(e){var i=this.findAnnotationObject(e.currentTarget.parentElement.id);if(!(!(0,t.isNullOrUndefined)(i)&&(i.annotationSettings.isLock||i.isLock))){var n=!1;if(0===e.clientX&&0===e.clientY?this.isSetAnnotationType=!0:this.isSetAnnotationType=!1,"e-pv-more-icon e-pv-icon"===e.target.className)return null;for(var o=document.querySelectorAll(".e-pv-more-options-button"),r=0;r<o.length;r++)o[parseInt(r.toString(),10)].style.visibility="hidden";"none"===document.getElementById(this.pdfViewer.element.id+"_commantPanel").style.display&&this.pdfViewer.annotationModule.showCommentsPanel(),e.currentTarget.parentElement.classList.contains("e-pv-comments-border")&&(n=!0),e.currentTarget.firstChild.lastChild.style.visibility="visible";var a=document.querySelectorAll(".e-pv-comments-border");if(a)for(var s=0;s<a.length;s++)a[parseInt(s.toString(),10)].classList.remove("e-pv-comments-border");e.currentTarget.parentElement.classList.add("e-pv-comments-border");var l=document.querySelectorAll(".e-pv-new-comments-div");for(r=0;r<l.length;r++)l[parseInt(r.toString(),10)].style.display="none";var d=e.currentTarget.parentElement.lastChild,h=e.currentTarget.parentElement;if(d){if(d.style.display="block",d.querySelector(".e-editable-inline")){this.isEditableElement||(d.querySelector(".e-editable-inline").style.display="block");for(r=0;r<h.childElementCount;r++){var A=h.childNodes[parseInt(r.toString(),10)].querySelector(".e-editable-inline");A&&""===A.style.display&&(d.style.display="none",d.querySelector(".e-editable-inline").style.display="none")}}this.isSetAnnotationType&&(n||this.updateCommentsScrollTop())}if(1===e.currentTarget.parentElement.childElementCount)if(this.pdfViewer.enableShapeLabel){var p=e.currentTarget.parentElement.getAttribute("name");this.isSetAnnotationType&&"shape"===p?e.currentTarget.childNodes[1].ej2_instances[0].enableEditMode=!1:e.currentTarget.childNodes[1].ej2_instances[0].enableEditMode=!0}else e.currentTarget.childNodes[1].ej2_instances[0].enableEditMode=!0;var c=void 0;e&&e.currentTarget&&e.currentTarget.childNodes[1]&&(c=e.currentTarget.childNodes[1].ej2_instances[0]),e.currentTarget&&e.currentTarget.id&&c&&(i&&i.isCommentLock&&(c.enableEditMode=!1,this.createCommentDiv(e.currentTarget)),this.pdfViewer.fireCommentSelect(e.currentTarget.id,e.currentTarget.childNodes[1].ej2_instances[0].value,i)),this.commentDivOnSelect(e),e.preventDefault()}},e.prototype.commentsDivDoubleClickEvent=function(e){for(var t=document.querySelectorAll(".e-pv-new-comments-div"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].style.display="none";if(this.checkIslockProperty(e.currentTarget.children[1]))2===e.currentTarget.childElementCount?e.currentTarget.lastChild.ej2_instances[0].enableEditMode=!1:e.currentTarget.childNodes[1].ej2_instances[0].enableEditMode=!1;else if(e.currentTarget&&e.target){this.checkAnnotationSettings(e.currentTarget.id)||(2===e.currentTarget.childElementCount?e.currentTarget.lastChild.ej2_instances[0].enableEditMode=!0:e.currentTarget.childNodes[1].ej2_instances[0].enableEditMode=!0)}},e.prototype.commentDivOnSelect=function(e){for(var t=document.querySelectorAll(".e-pv-comments-select"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].classList.remove("e-pv-comments-select");var n=document.getElementById(e.currentTarget.id);if(n&&(n.classList.remove("e-pv-comments-hover"),n.classList.remove("e-pv-comments-leave"),n.classList.add("e-pv-comments-select"),e.currentTarget.nextSibling&&e.currentTarget.nextSibling.classList.contains("e-pv-new-comments-div"))){var o=document.getElementById(e.currentTarget.nextSibling.id);o.classList.remove("e-pv-comments-hover"),o.classList.remove("e-pv-comments-leave"),o.classList.add("e-pv-comments-select")}},e.prototype.commentDivMouseOver=function(e){var t=document.getElementById(e.currentTarget.id);if(t&&(t.classList.remove("e-pv-comments-select"),t.classList.remove("e-pv-comments-leave"),t.classList.add("e-pv-comments-hover"),e.currentTarget.nextSibling&&e.currentTarget.nextSibling.classList.contains("e-pv-new-comments-div"))){var i=document.getElementById(e.currentTarget.nextSibling.id);i.classList.remove("e-pv-comments-select"),i.classList.remove("e-pv-comments-leave"),i.classList.add("e-pv-comments-hover")}},e.prototype.commentDivMouseLeave=function(e){var t=document.getElementById(e.currentTarget.id);if(t&&(t.classList.remove("e-pv-comments-hover"),t.classList.remove("e-pv-comments-select"),t.classList.add("e-pv-comments-leave"),e.currentTarget.nextSibling&&e.currentTarget.nextSibling.classList.contains("e-pv-new-comments-div"))){var i=document.getElementById(e.currentTarget.nextSibling.id);i.classList.remove("e-pv-comments-hover"),i.classList.remove("e-pv-comments-select"),i.classList.add("e-pv-comments-leave")}},e.prototype.drawIcons=function(e){if(this.pdfViewerBase.isCommentIconAdded){var i=this.pdfViewer.annotation.getEventPageNumber(e),n=this.pdfViewerBase.getElement("_pageDiv_"+i).getBoundingClientRect(),o=this.pdfViewerBase.getZoomFactor();this.pdfViewer.annotationModule.isFormFieldShape=!1,this.pdfViewer.annotation.stickyNotesAnnotationModule.drawStickyNotes((e.clientX-n.left)/o,(e.clientY-n.top)/o,30,30,i,null),this.pdfViewerBase.isCommentIconAdded=!1;var r=document.getElementById(this.pdfViewer.element.id+"_comment");if((0,t.isBlazor)()&&(r=r.children[0]),r&&r.classList.contains("e-pv-select"))r.classList.remove("e-pv-select");else{var a=document.getElementById(this.pdfViewer.element.id+"_commentIcon");a&&(this.pdfViewer.enableRtl?a.className="e-pv-comment-icon e-pv-icon e-icon-left e-right":a.className="e-pv-comment-icon e-pv-icon e-icon-left")}}},e.prototype.addComments=function(e,t,i){return document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+t)||this.pdfViewer.annotation.stickyNotesAnnotationModule.createPageAccordion(t),this.pdfViewer.annotation.stickyNotesAnnotationModule.createCommentControlPanel(null,t,e,i)},e.prototype.commentsAnnotationSelect=function(e){var t=e.currentTarget;if(this.checkAnnotationSettings(t.id)){r=parseInt(t.accessKey.split("_")[0],10);this.pdfViewer.navigation&&this.pdfViewer.navigationModule.goToPage(r),"null"!==(o=t.getAttribute("name"))&&"Ink"!==o||(o="ink"),this.isCommentsSelected=!1,this.setAnnotationType(t.id,o,r),this.isCommentsSelected||(this.selectAnnotationObj={id:t.id,annotType:o,pageNumber:r})}else{if(t.classList.contains("e-pv-comments-border")){for(var i=document.querySelectorAll(".e-pv-comments-div"),n=0;n<i.length;n++)i[parseInt(n.toString(),10)].style.minHeight="60px";1===e.currentTarget.childElementCount&&e.currentTarget.childNodes[0].querySelector(".e-editable-inline")&&(e.currentTarget.childNodes[0].style.minHeight=e.currentTarget.childNodes[0].clientHeight)}if("e-pv-more-icon e-pv-icon"===e.target.className||"e-pv-more-options-button e-btn"===e.target.className)return e.preventDefault(),null;var o,r=parseInt(t.accessKey.split("_")[0],10);if(t.classList.contains("e-pv-comments-border"))this.isSetAnnotationType=!0;else{var a=document.querySelectorAll(".e-pv-comments-border");if(a)for(n=0;n<a.length;n++)a[parseInt(n.toString(),10)].classList.remove("e-pv-comments-border");(i=document.getElementById(t.id))&&(document.querySelectorAll('.e-pv-more-options-button[style*="visibility: visible"]').forEach((function(e){return e.style.visibility="hidden"})),"e-editable-value-wrapper"===e.target.className?e.target.parentElement.parentElement.firstChild.lastChild.style.visibility="visible":"e-pv-reply-title"===e.target.className||"e-pv-comment-title"===e.target.className?e.target.parentElement.lastChild.style.visibility="visible":"e-editable-value"===e.target.className&&(e.target.parentElement.parentElement.parentElement.firstChild.lastChild.style.visibility="visible"),i.classList.add("e-pv-comments-border"));var s=document.querySelectorAll(".e-pv-new-comments-div");for(n=0;n<s.length;n++)s[parseInt(n.toString(),10)].style.display="none";if(i){var l=i.querySelector(".e-pv-new-comments-div");l&&(l.style.display="block")}var d=t.lastChild;if(this.isEditableElement=!1,d.querySelector(".e-editable-inline")){d.style.display="block",d.querySelector(".e-editable-inline").style.display="block";for(var h=0;h<t.childElementCount;h++){var A=t.childNodes[parseInt(h.toString(),10)].querySelector(".e-editable-inline");A&&""===A.style.display&&d.classList.contains("e-pv-new-comments-div")&&(this.isEditableElement=!0,d.style.display="none",d.querySelector(".e-editable-inline").style.display="none")}}this.isSetAnnotationType=!1,1===e.currentTarget.childElementCount&&(e.currentTarget.childNodes[0].childNodes[1].ej2_instances[0].enableEditMode=!0)}if(!this.isSetAnnotationType)"null"!==(o=t.getAttribute("name"))&&"Ink"!==o||(o="ink"),this.isCommentsSelected=!1,this.setAnnotationType(t.id,o,r),this.isCommentsSelected||(this.selectAnnotationObj={id:t.id,annotType:o,pageNumber:r}),this.pdfViewer.navigation&&this.pdfViewer.navigationModule.goToPage(r)}this.isSetAnnotationType=!1},e.prototype.findAnnotationObject=function(e){if(this.pdfViewer.annotationModule.textMarkupAnnotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)return this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation;if(this.pdfViewer.selectedItems.annotations[0])return this.pdfViewer.selectedItems.annotations[0];var t=this.pdfViewer.annotationCollection;if(t)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId&&t[parseInt(i.toString(),10)].annotationId===e){if("textMarkup"===t[parseInt(i.toString(),10)].shapeAnnotationType)return t[parseInt(i.toString(),10)];t=this.pdfViewer.annotations;for(var n=0;n<t.length;n++)if(t[parseInt(n.toString(),10)].annotName&&t[parseInt(n.toString(),10)].annotName===e)return t[parseInt(n.toString(),10)]}},e.prototype.checkAnnotationSettings=function(e){var i=this.pdfViewer.annotationCollection;if(i){var n=i.find((function(t){return t.annotationId===e}));return!!(n&&n.annotationSettings&&n.annotationSettings.isLock)&&(!(n.isCommentLock||0!==n.comments.length||!(0,t.isNullOrUndefined)(n.note)&&""!==n.note||"FreeText"===n.shapeAnnotationType)||!!(!(0,t.isNullOrUndefined)(n.comments)&&n.comments.length>0&&n.comments[0].isLock||n.isCommentLock))}return!1},e.prototype.updateCommentsContainerWidth=function(){var e=document.getElementById(this.pdfViewer.element.id+"_accordionContentContainer"),t=document.getElementById(this.pdfViewer.element.id+"_commentscontentcontainer");e.style.width=t.clientWidth+"px"},e.prototype.selectCommentsAnnotation=function(e){this.selectAnnotationObj&&!this.isCommentsSelected&&this.selectAnnotationObj.pageNumber-1===e&&(this.setAnnotationType(this.selectAnnotationObj.id,this.selectAnnotationObj.annotType,this.selectAnnotationObj.pageNumber),this.selectAnnotationObj=null,this.isCommentsSelected=!0)},e.prototype.setAnnotationType=function(e,t,i){var n="measure"===t?"shape_measure":t;"freeText"===n&&(n="freetext");var o=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_"+n);if(this.pdfViewerBase.isStorageExceed&&(o=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+n]),o){var r=JSON.parse(o),a=this.pdfViewer.selectedItems.annotations[0],s=this.pdfViewer.annotationModule.getPageCollection(r,i-1);if(null!=s&&r[parseInt(s.toString(),10)])for(var l=r[parseInt(s.toString(),10)].annotations,d=0;d<l.length;d++){var h=l[parseInt(d.toString(),10)].annotationSelectorSettings;if(l[parseInt(d.toString(),10)].annotName===e){if(a&&(this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent()),this.pdfViewer.clearSelection(i-1),"textMarkup"===t){this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearCurrentAnnotationSelection(i-1,!0);var A=this.pdfViewerBase.getElement("_annotationCanvas_"+(i-1));this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectAnnotation(l[parseInt(d.toString(),10)],A,i-1),this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAnnotation=l[parseInt(d.toString(),10)],this.pdfViewer.annotation.textMarkupAnnotationModule.selectTextMarkupCurrentPage=i-1,this.pdfViewer.annotation.textMarkupAnnotationModule.enableAnnotationPropertiesTool(!0),this.pdfViewer.toolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden=!0,this.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(this.pdfViewer.toolbarModule.annotationItem))}else"stamp"===t?(this.pdfViewer.select([l[parseInt(d.toString(),10)].randomId],h),this.pdfViewer.annotation.onAnnotationMouseDown()):"sticky"===t?(this.pdfViewer.select([l[parseInt(d.toString(),10)].annotName],h),this.pdfViewer.annotation.onAnnotationMouseDown()):(this.pdfViewer.select([l[parseInt(d.toString(),10)].id],h),this.pdfViewer.annotation.onAnnotationMouseDown());if("textMarkup"===t){if(l[parseInt(d.toString(),10)].rect||l[parseInt(d.toString(),10)].bounds)if(g=this.pdfViewerBase.pageSize[i-1].top*this.pdfViewerBase.getZoomFactor()+this.pdfViewer.annotationModule.getAnnotationTop(l[parseInt(d.toString(),10)])*this.pdfViewerBase.getZoomFactor()){var p=(g-20).toString();this.pdfViewerBase.viewerContainer.scrollTop=parseInt(p,10)}}else{var c=l[parseInt(d.toString(),10)].bounds.top;"ink"===t&&(c=l[parseInt(d.toString(),10)].bounds.y);var g,u=((g=this.pdfViewerBase.pageSize[i-1].top*this.pdfViewerBase.getZoomFactor()+c*this.pdfViewerBase.getZoomFactor())-20).toString();this.pdfViewerBase.viewerContainer.scrollTop=parseInt(u,10)}this.isCommentsSelected=!0}}}},e.prototype.modifyTextProperty=function(e,i,n){var o,r=this.pdfViewer.annotationModule.textMarkupAnnotationModule;if(r&&r.currentTextMarkupAnnotation&&(o=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation),o?o.annotName!==n&&(o=this.pdfViewer.selectedItems.annotations[0]):o=this.pdfViewer.selectedItems.annotations[0],((0,t.isNullOrUndefined)(o)&&n||!(0,t.isNullOrUndefined)(o)&&o.annotName!==n)&&(o=this.pdfViewer.annotationCollection.filter((function(e){return e.annotationId===n}))[0]),n&&o.annotName!==n)for(var a=0;a<this.pdfViewer.annotations.length;a++)if(n===this.pdfViewer.annotations[parseInt(a.toString(),10)].annotName){o=this.pdfViewer.annotations[parseInt(a.toString(),10)];break}if(o){o.annotName=(0,t.isNullOrUndefined)(o.annotName)?o.annotationId:o.annotName;var s=document.getElementById(o.annotName);if(s){var l=void 0;l=s.accessKey.split("_")[0]?parseInt(s.accessKey.split("_")[0],10):this.pdfViewerBase.currentPageNumber;var d=s.getAttribute("name"),h=l-1,A=void 0,p=!1;if("FreeText"===o.shapeAnnotationType||this.pdfViewer.enableShapeLabel&&("shape"===d||"shape_measure"===d)){var c=!1;n&&o.annotName!==n&&(this.pdfViewer.annotation.modifyDynamicTextValue(e,n),c=!0),c||("FreeText"===o.shapeAnnotationType?(o.dynamicText!==e&&(this.textFromCommentPanel=!0,this.pdfViewer.annotation.modifyDynamicTextValue(e,o.annotName)),o.dynamicText=e):(this.pdfViewer.annotation.modifyDynamicTextValue(e,o.annotName),o.labelContent=e,o.notes=e),this.pdfViewer.nodePropertyChange(o,{}))}if(o.measureType&&""!==o.measureType?(A=this.getAnnotations(h,null,"shape_measure"),p=!0):A=this.getAnnotations(h,null,o.shapeAnnotationType),null!==A&&"FreeText"!==o.shapeAnnotationType)for(a=0;a<A.length;a++)if(A[parseInt(a.toString(),10)].annotName===o.annotName){var g=C(A[parseInt(a.toString(),10)]);if((!(0,t.isNullOrUndefined)(e)&&""!==e||!(0,t.isNullOrUndefined)(e)&&""===e&&""!==i)&&A[parseInt(a.toString(),10)].note!==e)return this.pdfViewer.annotation.addAction(h,a,A[parseInt(a.toString(),10)],"Text Property Added","",g,A[parseInt(a.toString(),10)]),(o=A[parseInt(a.toString(),10)]).note=e,o.enableShapeLabel&&(o.labelContent=e),o.modifiedDate=this.getDateAndTime(),p?this.updateUndoRedoCollections(o,h,"shape_measure"):this.updateUndoRedoCollections(o,h),i&&""!==i?this.pdfViewer.fireCommentEdit(o.annotName,o.note,o):this.pdfViewer.fireCommentAdd(o.annotName,o.note,o),o}}}},e.prototype.getDateAndTime=function(e){e||(e=new Date),this.globalize=new t.Internationalization;return this.globalize.formatDate(new Date(e),{format:"M/d/yyyy h:mm:ss a",type:"dateTime"})},e.prototype.getDateAndTimeFormat=function(e){e||(e=new Date),this.globalize=new t.Internationalization;var i={format:this.pdfViewer.dateTimeFormat,type:"dateTime"};return this.globalize.formatDate(new Date(e),i)},e.prototype.modifyCommentsProperty=function(e,t,i,n){var o;if(!(o=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation:this.pdfViewer.selectedItems.annotations[0]))for(var r=Object.keys(this.pdfViewer.nameTable),a=0;a<r.length;a++){var s=this.pdfViewer.nameTable[r[parseInt(a.toString(),10)]];if(i===s.annotName){o=s;break}}if(o){var l=document.getElementById(o.annotName),d=parseInt(l.accessKey.split("_")[0],10)-1,h=void 0,A=!1,p=this.getAuthorName(o,l);if(o.measureType&&""!==o.measureType?(h=this.getAnnotations(d,null,"shape_measure"),A=!0):h=this.getAnnotations(d,null,o.shapeAnnotationType),null!==h)for(a=0;a<h.length;a++)h[parseInt(a.toString(),10)].annotName===o.annotName&&(o=h[parseInt(a.toString(),10)]);var c=C(o);if(o.comments.length>0){for(var g=!1,u=0;u<o.comments.length;u++)o.comments[parseInt(u.toString(),10)].annotName===t&&(g=!0,o.comments[parseInt(u.toString(),10)].note=e,o.comments[parseInt(u.toString(),10)].modifiedDate=this.getDateAndTime());if(o.annotName===i){var f={annotName:t,parentId:i,subject:o.subject,comments:[],author:p,note:e,shapeAnnotationType:"",state:"",stateModel:"",modifiedDate:this.getDateAndTime(),review:{state:"",stateModel:"",modifiedDate:this.getDateAndTime(),author:p},isLock:!1};g||(o.comments[o.comments.length]=f)}}else if(o.annotName===i){f={annotName:t,parentId:i,subject:o.subject,comments:[],author:p,note:e,shapeAnnotationType:"",state:"",stateModel:"",modifiedDate:this.getDateAndTime(),review:{state:"",stateModel:"",modifiedDate:this.getDateAndTime(),author:p},isLock:!1};o.comments[o.comments.length]=f}this.pdfViewer.annotation.addAction(d,null,o,"Comments Property Added","",c,o),A?this.updateUndoRedoCollections(o,d,"shape_measure"):this.updateUndoRedoCollections(o,d)}void 0!==n?this.pdfViewer.fireCommentEdit(t,e,o):this.pdfViewer.fireCommentAdd(t,e,o)},e.prototype.modifyStatusProperty=function(e,t){var i;if(i=this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAnnotation:this.pdfViewer.selectedItems.annotations[0]){var n=document.getElementById(i.annotName),o=parseInt(n.accessKey.split("_")[0],10)-1,r=void 0,a=!1,s=n.getAttribute("author");if(i.measureType&&""!==i.measureType?(r=this.getAnnotations(o,null,"shape_measure"),a=!0):r=this.getAnnotations(o,null,i.shapeAnnotationType),null!==r)for(var l=0;l<r.length;l++)r[parseInt(l.toString(),10)].annotName===i.annotName&&(i=r[parseInt(l.toString(),10)]);var d=C(i);if(t.parentElement.firstChild.id===t.id)i.review={state:e,stateModel:"Review",author:s,modifiedDate:this.getDateAndTime(),annotId:t.id},i.state=e,i.stateModel="Review",this.pdfViewer.annotation.addAction(o,null,i,"Status Property Added","",d,i),this.pdfViewer.fireCommentStatusChanged(t.id,i.note,i,i.state);else for(var h=0;h<i.comments.length;h++)if(i.comments[parseInt(h.toString(),10)].annotName===t.id){var A=C(i.comments[parseInt(h.toString(),10)]);i.comments[parseInt(h.toString(),10)].state=e,i.comments[parseInt(h.toString(),10)].stateModel="Review",i.comments[parseInt(h.toString(),10)].review={state:e,stateModel:"Review",author:s,modifiedDate:this.getDateAndTime(),annotId:t.id},this.pdfViewer.annotation.addAction(o,null,i,"Status Property Added","",A,i.comments[parseInt(h.toString(),10)]),this.pdfViewer.fireCommentStatusChanged(i.comments[parseInt(h.toString(),10)].annotName,i.comments[parseInt(h.toString(),10)].note,i,i.comments[parseInt(h.toString(),10)].state)}a?this.updateUndoRedoCollections(i,o,"shape_measure"):this.updateUndoRedoCollections(i,o)}},e.prototype.modifyCommentDeleteProperty=function(e,t){var i=document.getElementById(e.id),n=this.getAnnotationById(e);if(i&&n){for(var o=n.annotation,r=n.pageIndex,a=void 0,s=void 0,l=1;l<i.childElementCount;l++)if(i.childNodes[parseInt(l.toString(),10)].id===t.id){var d=l-1,h=o.comments[d];a=C(o),s=C(h),h.position=l,this.pdfViewer.fireCommentDelete(h.annotName,h.note,o),o.comments.splice(parseInt(d.toString(),10),1),t.remove()}this.pdfViewer.annotation.addAction(r,null,a,"Comments Reply Deleted","",s,o),this.updateUndoRedoCollections(o,r)}},e.prototype.updateOpacityValue=function(e){var t=this.getAnnotations(e.pageIndex,null,e.shapeAnnotationType);if(this.pdfViewer.annotationModule.isFormFieldShape=!1,null!==t)for(var i=0;i<t.length;i++)t[parseInt(i.toString(),10)].annotName===e.annotName&&(t[parseInt(i.toString(),10)].opacity=e.opacity,this.updateUndoRedoCollections(t[parseInt(i.toString(),10)],e.pageIndex))},e.prototype.undoAction=function(e,t,i){if("Text Property Added"===t){if(e&&(A=document.getElementById(e.annotName))){var n=parseInt(A.accessKey.split("_")[0],10)-1,o=C(e);A.firstChild.firstChild.nextSibling.ej2_instances[0].value=i.note;var r=i.note;return e.note=r,2===A.childElementCount&&(A.lastChild.style.display="block"),this.updateUndoRedoCollections(e,n),o}}else if("Comments Property Added"===t){if(e.comments.length>0){var a=document.getElementById(e.annotName);n=this.pdfViewerBase.currentPageNumber-1;if(a)n=parseInt(a.accessKey.split("_")[0],10)-1;o=C(e);var s=e.comments[e.comments.length-1],l=document.getElementById(s.annotName);return l&&l.remove(),e=i,this.updateUndoRedoCollections(e,n),o}}else if("Status Property Added"===t){if(e){a=document.getElementById(e.annotName),n=this.pdfViewerBase.currentPageNumber-1;if(a)n=parseInt(a.accessKey.split("_")[0],10)-1;o=C(e);if(e.annotName===i.annotName)e.review=i.review,e.state=i.state,e.stateModel=i.stateModel,this.pdfViewer.annotation.redoCommentsElement.push(e);else for(var d=0;d<e.comments.length;d++)if(e.comments[parseInt(d.toString(),10)].annotName===i.annotName){e.comments[parseInt(d.toString(),10)].state=i.state,e.comments[parseInt(d.toString(),10)].stateModel=i.stateModel,e.comments[parseInt(d.toString(),10)].review=i.review,this.pdfViewer.annotation.redoCommentsElement.push(e.comments[parseInt(d.toString(),10)]);break}var h=document.getElementById(i.annotName);return h.lastChild.id===this.pdfViewer.element.id+"status_container"?h.lastChild.remove():h.firstChild.lastChild.id===this.pdfViewer.element.id+"status_container"&&h.firstChild.lastChild.remove(),this.updateUndoRedoCollections(e,n),o}}else if("Comments Reply Deleted"===t){if(a=document.getElementById(e.annotName)){n=parseInt(a.accessKey.split("_")[0],10)-1;return this.renderComments(i,a,!0,e.annotName),this.pdfViewer.annotation.redoCommentsElement.push(i),this.updateUndoRedoCollections(e,n),e}}else if("dynamicText Change"===t){var A;if(e)if(A=document.getElementById(e.annotName))return A.firstChild.firstChild.nextSibling.ej2_instances[0].value=i.dynamicText,e}},e.prototype.redoAction=function(e,i,n){if("Text Property Added"===i){if(m=document.getElementById(e.annotName)){var o=parseInt(m.accessKey.split("_")[0],10)-1;return m.firstChild.firstChild.nextSibling.ej2_instances[0].value=e.note,m.lastChild.style.display="block",this.updateUndoRedoCollections(e,o),e}}else if("Comments Property Added"===i){var r=e.comments[e.comments.length-1],a=document.getElementById(e.annotName);if(a){o=parseInt(a.accessKey.split("_")[0],10)-1;return this.renderComments(r,a,!0,e.annotName),this.updateUndoRedoCollections(e,o),e}}else{if("Status Property Added"===i){var s=this.pdfViewer.annotation.redoCommentsElement.pop();o=this.pdfViewerBase.currentPageNumber-1;if(s){var l=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_container",className:"e-pv-status-container"}),d=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"status_div",className:"e-pv-status-div"}),h=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"status_icon"});if(d.appendChild(h),l.appendChild(d),g=document.getElementById(e.annotName))o=parseInt(g.accessKey.split("_")[0],10)-1;if(e.annotName===s.annotName){this.updateStatusContainer(e.state,h,d,l);for(var A=0;A<g.firstChild.children.length;A++)g.firstChild.children[parseInt(A.toString(),10)].id===this.pdfViewer.element.id+"status_container"&&g.firstChild.children[parseInt(A.toString(),10)].parentElement.removeChild(g.firstChild.children[parseInt(A.toString(),10)]);g.firstChild.appendChild(l)}else for(A=0;A<e.comments.length;A++)if(e.comments[parseInt(A.toString(),10)].annotName===s.annotName){this.updateStatusContainer(e.comments[parseInt(A.toString(),10)].state,h,d,l);for(var p=document.getElementById(s.annotName),c=0;c<p.children.length;c++)p.children[parseInt(c.toString(),10)].id===this.pdfViewer.element.id+"status_container"&&p.children[parseInt(c.toString(),10)].parentElement.removeChild(p.children[parseInt(c.toString(),10)]);p&&p.appendChild(l)}}return this.updateUndoRedoCollections(e,o),e}if("Comments Reply Deleted"===i){var g;o=this.pdfViewerBase.currentPageNumber-1;if(g=document.getElementById(e.annotName))o=parseInt(g.accessKey.split("_")[0],10)-1;s=this.pdfViewer.annotation.redoCommentsElement.pop();var u=C(e);for(A=0;A<e.comments.length;A++)if(e.comments[parseInt(A.toString(),10)].annotName===s.annotName){var f=document.getElementById(s.annotName);e.comments.splice(A,1),f.remove()}return this.updateUndoRedoCollections(e,o),u}var m;if("dynamicText Change"===i&&e&&(m=document.getElementById(e.annotName)))return m.firstChild.firstChild.nextSibling.ej2_instances[0].value=e.dynamicText,e}},e.prototype.updateUndoRedoCollections=function(e,t,i,n){var o=i||e.shapeAnnotationType;e.indent&&""!==e.indent&&(o="shape_measure");var r=this.getAnnotations(t,null,o);if(null!==r){for(var a=0;a<r.length;a++)e.annotName===r[parseInt(a.toString(),10)].annotName&&(r[parseInt(a.toString(),10)]=e,this.pdfViewer.annotationModule.storeAnnotationCollections(r[parseInt(a.toString(),10)],t),n&&(r.splice(a,1),this.deleteStickyNotesAnnotations(r,t)));"shape_measure"===o?this.manageAnnotations(r,t,"shape_measure"):this.manageAnnotations(r,t,e.shapeAnnotationType)}},e.prototype.addAnnotationComments=function(e,t,i){var n,o=e+1;i?i&&(n=this.pdfViewer.annotation.undoCommentsElement.pop()):n=this.pdfViewer.annotation.redoCommentsElement.pop(),n&&(this.createCommentsContainer(n,o),this.updateUndoRedoCollections(n,e,t),this.pdfViewer.annotationModule.storeAnnotationCollections(n,o-1))},e.prototype.findPosition=function(e,t,i,n){var o,r=document.getElementById(e.annotName);if(r){for(var a=parseInt(r.accessKey.split("_")[0],10)-1,s=r.parentElement,l=0;l<s.childElementCount;l++)s.childNodes[parseInt(l.toString(),10)].id===e.annotName&&(o=l);"Stamp"===t||"Image"===t?t="stamp":"FreeText"===t?t="freetext":"StickyNotes"===t||"sticky"===t?t="sticky":"Ink"===t&&(t="ink");var d=this.getAnnotations(a,null,t);if(null!==d)for(l=0;l<d.length;l++)if(d[parseInt(l.toString(),10)].annotName===e.annotName){var h=C(d[parseInt(l.toString(),10)]);d[parseInt(l.toString(),10)].position=o,n?this.pdfViewer.annotation.redoCommentsElement.push(d[parseInt(l.toString(),10)]):this.pdfViewer.annotation.undoCommentsElement.push(d[parseInt(l.toString(),10)]),"sticky"===t&&this.updateUndoRedoCollections(h,a,null,i)}}},e.prototype.getAnnotations=function(e,t,i){var n;i="Stamp"===i||"stamp"===i||"Image"===i?"stamp":"StickyNotes"===i||"sticky"===i?"sticky":"textMarkup"===i?"textMarkup":"shape"===i||"Line"===i||"Radius"===i||"Rectangle"===i||"Ellipse"===i||"Polygon"===i||"LineWidthArrowHead"===i||"Square"===i||"Circle"===i?"shape":"FreeText"===i||"freetext"===i||"freeText"===i?"freetext":"ink"===i||"Ink"===i?"ink":"shape_measure";var o=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_"+i);if(this.pdfViewerBase.isStorageExceed&&(o=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+i]),o){var r=JSON.parse(o),a=this.pdfViewer.annotationModule.getPageCollection(r,e);n=null!=a&&r[parseInt(a.toString(),10)]?r[parseInt(a.toString(),10)].annotations:t}else n=t;return n},e.prototype.manageAnnotations=function(e,t,i){i="Stamp"===i||"stamp"===i?"stamp":"Sticky"===i||"sticky"===i?"sticky":"textMarkup"===i?"textMarkup":"shape"===i||"Line"===i||"Radius"===i||"Rectangle"===i||"Ellipse"===i||"Polygon"===i||"LineWidthArrowHead"===i||"Square"===i||"Circle"===i?"shape":"FreeText"===i?"freetext":"ink"===i||"Ink"===i?"ink":"shape_measure";var n=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_"+i);if(this.pdfViewerBase.isStorageExceed&&(n=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+i]),n){var o=JSON.parse(n);this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_"+i);var r=this.pdfViewer.annotationModule.getPageCollection(o,t);null!=r&&o[parseInt(r.toString(),10)]&&(o[parseInt(r.toString(),10)].annotations=e);var a=JSON.stringify(o);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_"+i]=a:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_"+i,a)}},e.prototype.updateStickyNotes=function(e,t){var i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sticky");if(this.pdfViewerBase.isStorageExceed&&(i=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sticky"]),i)for(var n=e.bounds,o=JSON.parse(i),r=0;r<o.length;r++)for(var a=o[parseInt(r.toString(),10)],s=0;s<a.annotations.length;s++)if(o[parseInt(r.toString(),10)].annotations[parseInt(s.toString(),10)].annotName===e.annotName){this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_sticky");this.pdfViewer.annotationModule.getPageCollection(o,0);o[parseInt(r.toString(),10)]&&(o[parseInt(r.toString(),10)].annotations[parseInt(s.toString(),10)].bounds={left:n.x,top:n.y,width:n.width,height:n.height,right:n.right,bottom:n.bottom});var l=JSON.stringify(o);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sticky"]=l:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_sticky",l);break}},e.prototype.saveStickyAnnotations=function(){var e=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sticky");this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sticky"]);for(var t=[],i=0;i<this.pdfViewerBase.pageCount;i++)t[parseInt(i.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var n=JSON.parse(e),o=0;o<n.length;o++){var r=[],a=n[parseInt(o.toString(),10)];if(a){for(var s=0;a.annotations.length>s;s++)this.pdfViewer.annotationModule.updateModifiedDate(a.annotations[parseInt(s.toString(),10)]),a.annotations[parseInt(s.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(a.annotations[parseInt(s.toString(),10)].bounds,a.pageIndex));r=a.annotations}t[a.pageIndex]=r}return JSON.stringify(t)},e.prototype.deleteStickyNotesAnnotations=function(e,t){var i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sticky");if(this.pdfViewerBase.isStorageExceed&&(i=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sticky"]),i){var n=JSON.parse(i);this.pdfViewerBase.isStorageExceed||sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_sticky");var o=this.pdfViewer.annotationModule.getPageCollection(n,t);null!=o&&n[parseInt(o.toString(),10)]&&(n[parseInt(o.toString(),10)].annotations=e);var r=JSON.stringify(n);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sticky"]=r:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_sticky",r)}},e.prototype.addStickyNotesAnnotations=function(e,t){var i=this.getAnnotations(e,null,"sticky");i&&i.push(t),this.manageAnnotations(i,e,"sticky")},e.prototype.addTextToComments=function(e,t){var i=document.getElementById(e);i&&(i.firstChild.firstChild.nextSibling.ej2_instances[0].value=t)},e.prototype.updateAnnotationCollection=function(e,t,i){var n=this.findAnnotationType(t),o=this.getAnnotations(t.pageIndex,null,n);if(i&&(o=this.pdfViewer.annotationModule.removedAnnotationCollection),null!==o)for(var r=0;r<o.length;r++)if(i&&!o[parseInt(r.toString(),10)].annotName&&(o[parseInt(r.toString(),10)].annotName=o[parseInt(r.toString(),10)].annotationId),o[parseInt(r.toString(),10)].annotName===t.annotName){var a=C(o[parseInt(r.toString(),10)]);a.annotName=e.annotName,"shape"!==n&&"shape_measure"!==n&&"freetext"!==n&&"ink"!==n||(a.id=e.id),"stamp"===n&&(a.randomId=e.id),"ink"===n?(a.bounds.x=e.bounds.x,a.bounds.y=e.bounds.y):(a.bounds.left=e.bounds.x,a.bounds.top=e.bounds.y,a.bounds.x=e.bounds.x,a.bounds.y=e.bounds.y,a.vertexPoints=e.vertexPoints),a.note=a.note?a.note:"",a.comments=[],a.review={state:"",stateModel:"",modifiedDate:a.ModifiedDate,author:a.author},a.state="",a.stateModel="",a.pageNumber=t.pageIndex,this.pdfViewer.annotationModule.storeAnnotations(t.pageIndex,a,"_annotations_"+n),this.createCommentsContainer(a,t.pageIndex+1,!0),i&&(this.pdfViewer.annotationModule.removedAnnotationCollection=[]);break}},e.prototype.findAnnotationType=function(e){return""!==e.measureType?"shape_measure":"StickyNotes"===e.shapeAnnotationType?"sticky":"Stamp"===e.shapeAnnotationType||"Image"===e.shapeAnnotationType?"stamp":"FreeText"===e.shapeAnnotationType?"freetext":"Ink"===e.shapeAnnotationType?"ink":"shape"},e.prototype.setExistingAnnotationModifiedDate=function(e){return""!==e?this.setModifiedDate(e):this.setModifiedDate()},e.prototype.updateModifiedTime=function(e,t){return e>=12?12===e?e+":"+t+" PM":e-12+":"+t+" PM":e+":"+t+" AM"},e.prototype.setModifiedDate=function(e){var t;t=e?this.getDateAndTimeFormat(e):this.getDateAndTimeFormat();var i=new Date(t),n=t.toString().split(" ").splice(0,4).join(" ");if(2===i.toLocaleTimeString().split(" ").length)i.toLocaleTimeString().split(" ")[0].split(":").splice(0,2).join(":")+" "+i.toLocaleTimeString().split(" ")[1];else{var o=parseInt(i.toLocaleTimeString().split(":")[0],10),r=i.toLocaleTimeString().split(":")[1];this.updateModifiedTime(o,r)}return n},e.prototype.convertUTCDateToLocalDate=function(e){this.globalize=new t.Internationalization;var i={format:this.pdfViewer.dateTimeFormat,type:"dateTime"};return this.globalize.formatDate(new Date(e),i)},e.prototype.updateModifiedDate=function(e){e.id===this.pdfViewer.element.id+"_commenttype_icon"&&(e=e.nextSibling);var t=e.textContent.split("-")[0];e.textContent=t+" - "+this.setModifiedDate()},e.prototype.updateAnnotationModifiedDate=function(e,t,i){var n;if(e){var o=document.getElementById(e.annotName);if(o){if(t){var r=this.findAnnotationType(e),a=this.getAnnotations(e.pageIndex,null,r);if(null!==a&&e)for(var s=0;s<a.length;s++){if(e.annotName===a[parseInt(s.toString(),10)].annotName&&(e.bounds.x!==a[parseInt(s.toString(),10)].bounds.left||e.bounds.y!==a[parseInt(s.toString(),10)].bounds.top||e.bounds.height!==a[parseInt(s.toString(),10)].bounds.height||e.bounds.width!==a[parseInt(s.toString(),10)].bounds.width)){l=(n=o.firstChild.firstChild.childNodes[1]).textContent.split("-")[0];n.textContent=l+" - "+this.setModifiedDate()}"sticky"===a[parseInt(s.toString(),10)].shapeAnnotationType&&this.pdfViewer.annotationModule.storeAnnotationCollections(a[parseInt(s.toString(),10)],e.pageIndex)}}else{var l=(n=o.firstChild.firstChild.childNodes[1]).textContent.split("-")[0];n.textContent=l+" - "+this.setModifiedDate()}if(i&&(n=o.firstChild.firstChild.childNodes[1],void 0!==e.modifiedDate)){l=n.textContent.split("-")[0];n.textContent=l+" - "+this.setExistingAnnotationModifiedDate(e.modifiedDate)}}}},e.prototype.saveImportedStickyNotesAnnotations=function(e,t){var i;e.Author||(e.Author="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.stickyNotesSettings.author);var n=this.pdfViewer.stickyNotesSettings.isLock?this.pdfViewer.stickyNotesSettings.isLock:this.pdfViewer.annotationSettings.isLock,o=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e);i={shapeAnnotationType:"sticky",author:e.Author,allowedInteractions:o,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,opacity:e.Opacity,state:e.State,stateModel:e.StateModel,pathData:"",comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},pageNumber:t,bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},annotName:e.AnnotName,color:e.color,annotationSelectorSettings:this.getSettings(e),customData:this.pdfViewer.annotation.getCustomData(e),annotationSettings:{isLock:n},isPrint:e.IsPrint,isCommentLock:e.IsCommentLock},this.pdfViewer.annotationModule.storeAnnotations(t,i,"_annotations_sticky")},e.prototype.updateStickyNotesAnnotationCollections=function(e,t){e.Author||(e.Author="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.stickyNotesSettings.author);var i=this.pdfViewer.stickyNotesSettings.isLock?this.pdfViewer.stickyNotesSettings.isLock:this.pdfViewer.annotationSettings.isLock,n=e.AllowedInteraction?e.AllowedInteraction:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e);return e.IsLock&&(i=e.isLock),{shapeAnnotationType:"sticky",author:e.Author,allowedInteractions:n,modifiedDate:e.ModifiedDate,subject:e.Subject,note:e.Note,opacity:e.Opacity,state:e.State,stateModel:e.StateModel,pathData:"",comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),review:{state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},bounds:{left:e.Bounds.X,top:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height,right:e.Bounds.Right,bottom:e.Bounds.Bottom},annotationId:e.AnnotName,color:e.color,pageNumber:t,customData:this.pdfViewer.annotation.getCustomData(e),annotationSettings:{isLock:i},isPrint:e.IsPrint,isCommentLock:e.IsCommentLock}},e.prototype.clear=function(){this.commentsCount=0,this.commentsreplyCount=0,this.isAccordionContainer=!0,this.isEditableElement=!1,this.isCreateContextMenu=!1,this.isPageCommentsRendered=!1,this.isCommentsRendered=!1,this.isAnnotationRendered=!1,this.commentMenuObj&&this.commentMenuObj.destroy();var e=document.querySelectorAll(".e-pv-accordion-page-container");if(e)for(var t=0;t<e.length;t++)e[parseInt(t.toString(),10)].remove();this.commentsRequestHandler&&this.commentsRequestHandler.clear()},e.prototype.getModuleName=function(){return"StickyNotesAnnotation"},e.prototype.updateAddAnnotationDetails=function(e,t){t=e?e.offset?e.offset:{x:1,y:1}:(e={offset:{x:1,y:1},pageNumber:0}).offset;var i=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),n=this.pdfViewer.annotation.createGUID(),o=this.pdfViewer.stickyNotesSettings.annotationSelectorSettings;this.pdfViewerBase.updateSelectorSettings(o);var r=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.stickyNotesSettings);e.author=e.author?e.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("sticky",r.annotationSubType);var a=this.pdfViewer.stickyNotesSettings.allowedInteractions?this.pdfViewer.stickyNotesSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions;r.isLock=e.isLock?e.isLock:r.isLock;var s=[],l={AllowedInteractions:e.allowedInteractions?e.allowedInteractions:a,AnnotName:n,AnnotType:"sticky",AnnotationFlags:null,AnnotationSelectorSettings:e.annotationSelectorSettings?e.annotationSelectorSettings:o,AnnotationSettings:r,Author:e.author?e.author:"Guest",Bounds:{X:t.x,Y:t.y,Width:30,Height:30,Left:t.x,Top:t.y,Location:{X:t.x,Y:t.y},Size:{Height:30,IsEmpty:!1,Width:30}},Color:{IsEmpty:!1,B:51,Blue:.2,C:0,G:255},Comments:null,CreatedDate:i,CustomData:e.customData?e.customData:null,ExistingCustomData:null,Icon:"Comment",IsCommentLock:!1,IsLock:!!e.isLock&&e.isLock,IsPrint:!e.isPrint||e.isPrint,ModifiedDate:"",Note:"",Opacity:e.opacity?e.opacity:1,Reference:null,Size:{IsEmpty:!0,Width:0,Height:0},State:"",StateModel:"",StrokeColor:null,SubType:null,Subject:e.subject?e.subject:"Sticky Note",Type:null};return s[0]=l,{stickyNotesAnnotation:s}},e.prototype.getAnnotationType=function(e){var t;return"stamp"===e||"Stamp"===e?t="stamp":"shape"===e||"Line"===e||"Radius"===e||"Rectangle"===e||"Ellipse"===e||"Polygon"===e||"LineWidthArrowHead"===e||"Square"===e||"Circle"===e?t="shape":"textMarkup"===e?t="textMarkup":"freeText"===e||"FreeText"===e?t="freeText":"sticky"===e||"StickyNotes"===e?t="sticky":"measure"===e||"shape_measure"===e?t="measure":"ink"!==e&&"Ink"!==e||(t="ink"),t},e.prototype.getAuthorName=function(e,t){var i;if(e){var n=e.shapeAnnotationType,o=this.getAnnotationType(n);i=this.pdfViewer.annotationModule.updateAnnotationAuthor(o,n)}else i=t.getAttribute("author");return i},e}(),li=function(){function e(e,t){this.newObject=[],this.outputString="",this.inkAnnotationindex=[],this.isAddAnnotationProgramatically=!1,this.currentPageNumber="",this.inkAnnotationInitialZoom=1,this.inkPathDataCollection=[],this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.drawInk=function(){this.pdfViewerBase.disableTextSelectionMode(),this.pdfViewer.tool="Ink"},e.prototype.drawInkAnnotation=function(e){if(this.pdfViewerBase.isToolbarInkClicked){this.pdfViewerBase.isInkAdded=!0,this.pdfViewer.annotationModule.isFormFieldShape=!1;var i=isNaN(e)?this.pdfViewerBase.currentPageNumber-1:e;if(this.outputString&&""!==this.outputString||this.inkPathDataCollection.length>0){var n=this.addInk(i);this.pdfViewer.renderDrawing(void 0,i),this.pdfViewer.clearSelection(i),this.pdfViewer.select([n.id],n.annotationSelectorSettings),this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&this.pdfViewer.toolbar.annotationToolbarModule.enableSignaturePropertiesTools(!0),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar&&this.pdfViewer.toolbarModule.annotationToolbarModule.createPropertyTools("Ink")}else this.outputString="",this.newObject=[],this.pdfViewerBase.isToolbarInkClicked=!1,this.pdfViewer.tool="",this.inkPathDataCollection=[];this.pdfViewerBase.isInkAdded=!1}},e.prototype.updateInkDataWithZoom=function(){var e="";if(""!==this.outputString&&this.inkPathDataCollection.push({pathData:this.outputString,zoomFactor:this.inkAnnotationInitialZoom}),this.inkPathDataCollection.length>0)for(var t=0;t<this.inkPathDataCollection.length;t++)e+=this.updatePathDataWithZoom(this.inkPathDataCollection[parseInt(t.toString(),10)].pathData,this.inkPathDataCollection[parseInt(t.toString(),10)].zoomFactor);else e+=this.updatePathDataWithZoom(this.outputString,this.inkAnnotationInitialZoom);return e},e.prototype.updatePathDataWithZoom=function(e,t){for(var n="",o=this.pdfViewerBase.getZoomFactor(),r=(0,i.processPathData)(e),a=(0,i.splitArrayCollection)(r),s=0;s<a.length;s++){var l=a[parseInt(s.toString(),10)];n+=l.command+l.x*(o/t)+","+l.y*(o/t)+" "}return n},e.prototype.storePathData=function(){this.convertToPath(this.newObject),this.newObject=[]},e.prototype.drawInkInCanvas=function(e,i){""!==this.currentPageNumber&&parseInt(this.currentPageNumber,10)!==i&&(this.drawInkAnnotation(parseInt(this.currentPageNumber,10)),this.pdfViewerBase.isToolbarInkClicked=!0,this.pdfViewer.tool="Ink");var n=this.pdfViewerBase.getZoomFactor();this.inkAnnotationInitialZoom=n;var o=this.pdfViewerBase.getWindowDevicePixelRatio(),r=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+i).getContext("2d"),a=this.pdfViewer.inkAnnotationSettings.thickness?this.pdfViewer.inkAnnotationSettings.thickness:1,s=this.pdfViewer.inkAnnotationSettings.opacity?this.pdfViewer.inkAnnotationSettings.opacity:1,l=this.pdfViewer.inkAnnotationSettings.strokeColor?this.pdfViewer.inkAnnotationSettings.strokeColor:"#ff0000";(!t.Browser.isDevice||t.Browser.isDevice&&n<=.7)&&r.setTransform(o,0,0,o,0,0),r.beginPath(),r.lineJoin="round",r.lineCap="round",r.moveTo(e.prevPosition.x,e.prevPosition.y),r.lineTo(e.currentPosition.x,e.currentPosition.y),r.lineWidth=a*n>1?a*n:a,r.strokeStyle=l,r.globalAlpha=s,r.setLineDash([]),r.stroke(),r.arc(e.prevPosition.x,e.prevPosition.y,1,0,2*Math.PI,!0),r.closePath(),this.pdfViewerBase.prevPosition=e.currentPosition,this.newObject.push(e.currentPosition.x,e.currentPosition.y),this.currentPageNumber=i.toString()},e.prototype.convertToPath=function(e){this.movePath(e[0],e[1]),this.linePath(e[0],e[1]);for(var t=2;t<e.length;t+=2)this.linePath(e[parseInt(t.toString(),10)],e[t+1])},e.prototype.linePath=function(e,i){(0,t.isNullOrUndefined)(e)||(0,t.isNullOrUndefined)(i)||(this.outputString+="L"+e+","+i+" ")},e.prototype.movePath=function(e,i){(0,t.isNullOrUndefined)(e)||(0,t.isNullOrUndefined)(i)||(this.outputString+="M"+e+","+i+" ")},e.prototype.addInk=function(e){this.outputString=this.updateInkDataWithZoom();var i,n=this.calculateInkSize(this.outputString);if(this.pdfViewerBase.isToolbarInkClicked){var o=this.pdfViewer.annotation.createGUID(),r=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),a=isNaN(e)?this.pdfViewerBase.currentPageNumber-1:e,s=this.pdfViewer.inkAnnotationSettings.thickness?this.pdfViewer.inkAnnotationSettings.thickness:1,l=this.pdfViewer.inkAnnotationSettings.opacity?this.pdfViewer.inkAnnotationSettings.opacity:1,d=this.pdfViewer.inkAnnotationSettings.strokeColor?this.pdfViewer.inkAnnotationSettings.strokeColor:"#ff0000",h=this.pdfViewer.inkAnnotationSettings.isLock?this.pdfViewer.inkAnnotationSettings.isLock:this.pdfViewer.annotationSettings.isLock,A="Guest"!==this.pdfViewer.annotationSettings.author?this.pdfViewer.annotationSettings.author:this.pdfViewer.inkAnnotationSettings.author?this.pdfViewer.inkAnnotationSettings.author:"Guest",p=""===this.pdfViewer.annotationSettings.subject||(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.subject)?this.pdfViewer.inkAnnotationSettings.subject?this.pdfViewer.inkAnnotationSettings.subject:"Ink":this.pdfViewer.annotationSettings.subject,c=(0,t.isNullOrUndefined)(this.pdfViewer.annotationSettings.customData)?this.pdfViewer.inkAnnotationSettings.customData?this.pdfViewer.inkAnnotationSettings.customData:null:this.pdfViewer.annotationSettings.customData,g=this.pdfViewer.inkAnnotationSettings.isPrint,u=this.pdfViewer.inkAnnotationSettings.allowedInteractions?this.pdfViewer.inkAnnotationSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions,f=this.pdfViewer.annotationSettings?this.pdfViewer.annotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(this.pdfViewer.inkAnnotationSettings);i={id:"ink"+this.pdfViewerBase.inkCount,bounds:{x:n.x,y:n.y,width:n.width,height:n.height},pageIndex:a,data:this.outputString,customData:c,shapeAnnotationType:"Ink",opacity:l,strokeColor:d,thickness:s,annotName:o,comments:[],author:A,subject:p,notes:"",review:{state:"",stateModel:"",modifiedDate:r,author:A},annotationSelectorSettings:this.getSelector("Ink",""),modifiedDate:r,annotationSettings:f,isPrint:g,allowedInteractions:u,isCommentLock:!1,isLocked:h};var m=this.pdfViewer.add(i),w={left:i.bounds.x,top:i.bounds.y,width:i.bounds.width,height:i.bounds.height},y={opacity:i.opacity,strokeColor:i.strokeColor,thickness:i.thickness,modifiedDate:i.modifiedDate,width:i.bounds.width,height:i.bounds.height,data:this.outputString};this.pdfViewerBase.inkCount++;var S=this.pdfViewer.annotation.stickyNotesAnnotationModule.addComments("ink",i.pageIndex+1,i.shapeAnnotationType);S&&(document.getElementById(S).id=o),i.annotName=o,this.pdfViewer.annotation.addAction(a,null,m,"Addition","",m,m),this.pdfViewer.annotationModule.storeAnnotations(a,i,"_annotations_ink"),this.pdfViewer.fireAnnotationAdd(i.pageIndex,i.annotName,"Ink",w,y),this.pdfViewerBase.isInkAdded&&(this.outputString="",this.newObject=[],this.inkPathDataCollection=[]),this.pdfViewerBase.isToolbarInkClicked=!1,this.pdfViewer.tool=""}return i},e.prototype.setAnnotationMode=function(){this.pdfViewerBase.isToolbarInkClicked?this.drawInkAnnotation():(this.pdfViewerBase.isToolbarInkClicked=!0,this.drawInk())},e.prototype.saveInkSignature=function(){var e=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_ink");this.pdfViewerBase.isStorageExceed&&(e=this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_ink"]);for(var t=[],n=0;n<this.pdfViewerBase.pageCount;n++)t[parseInt(n.toString(),10)]=[];if(e&&!this.pdfViewer.annotationSettings.skipDownload)for(var o=JSON.parse(e),r=0;r<o.length;r++){var a=[],s=o[parseInt(r.toString(),10)];if(s){for(var l=0;s.annotations.length>l;l++){this.pdfViewer.annotationModule.updateModifiedDate(s.annotations[parseInt(l.toString(),10)]);var d=s.annotations[parseInt(l.toString(),10)].strokeColor;s.annotations[parseInt(l.toString(),10)].strokeColor=JSON.stringify(this.pdfViewerBase.signatureModule.getRgbCode(d)),s.annotations[parseInt(l.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getInkBounds(s.annotations[parseInt(l.toString(),10)].bounds,s.pageIndex));var h=(0,i.processPathData)(s.annotations[parseInt(l.toString(),10)].data),A=(0,i.splitArrayCollection)(h);s.annotations[parseInt(l.toString(),10)].data=JSON.stringify(A)}a=s.annotations}t[s.pageIndex]=a}return JSON.stringify(t)},e.prototype.addInCollection=function(e,t){if(t){var i=this.getAnnotations(e,null);i&&i.push(t),this.manageInkAnnotations(i,e)}},e.prototype.calculateInkSize=function(e){for(var t=-1,n=-1,o=-1,r=-1,a=(0,i.processPathData)(e),s=this.pdfViewerBase.getZoomFactor(),l=0;l<a.length;l++){var d=a[parseInt(l.toString(),10)];if(-1===t)t=d.x,o=d.x,n=d.y,r=d.y;else{var h=d.x,A=d.y;t>=h&&(t=h),n>=A&&(n=A),o<=h&&(o=h),r<=A&&(r=A)}}return{x:t/s,y:n/s,width:(o-t)/s,height:(r-n)/s}},e.prototype.renderExistingInkSignature=function(e,n,o,r){var a,s=!1;if(!o)for(var l=0;l<this.inkAnnotationindex.length;l++)if(this.inkAnnotationindex[parseInt(l.toString(),10)]===n){s=!0;break}if(e&&(!s||r)){e.length>0&&-1===this.inkAnnotationindex.indexOf(n)&&this.inkAnnotationindex.push(n);for(var d=0;d<e.length;d++){var h=e[parseInt(d.toString(),10)];if(h){var A=h.PathData;o&&A&&("object"==typeof A&&A.length>1?A=(0,i.getPathString)(A):h.IsPathData||A.split("command").length<=1||(A=(0,i.getPathString)(JSON.parse(A)))),this.outputString=A;var p=this.calculateInkSize(this.outputString);this.outputString="";var c=0,g=1,u=h.Bounds;p&&(p.height<1?(c=u.Height?u.Height:u.height,g=u.Height?u.Height:u.height):p.width<1&&(c=u.Width?u.Width:u.width,g=u.Width?u.Width:u.width));var f=(0,t.isNullOrUndefined)(u.X)?u.x+c/2:u.X+c/2,m=(0,t.isNullOrUndefined)(u.Y)?u.y+c/2:u.Y+c/2,w=u.Width?u.Width-(g-1):u.width-(g-1),y=u.Height?u.Height-(g-1):u.height-(g-1),S=(!!h.AnnotationSettings&&h.AnnotationSettings.isLock,h.AnnotationSelectorSettings?"string"==typeof h.AnnotationSelectorSettings?JSON.parse(h.AnnotationSelectorSettings):h.AnnotationSelectorSettings:this.getSelector(h,"Ink")),C=this.pdfViewer.annotation.getCustomData(h),B=!0;B=h.AnnotationSettings?h.AnnotationSettings.isPrint:this.pdfViewer.inkAnnotationSettings.isPrint,h.IsLocked&&h.IsLocked,"Highlight"===h.Subject&&1===h.Opacity&&(h.Opacity=h.Opacity/2),h.allowedInteractions=h.AllowedInteractions?h.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(h),h.AnnotationSettings=h.AnnotationSettings?h.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(h),a={id:"ink"+this.pdfViewerBase.inkCount,bounds:{x:f,y:m,width:w,height:y},pageIndex:n,data:A,shapeAnnotationType:"Ink",opacity:h.Opacity,strokeColor:h.StrokeColor,thickness:h.Thickness,annotName:h.AnnotName,comments:this.pdfViewer.annotationModule.getAnnotationComments(h.Comments,h,h.Author),author:h.Author,allowedInteractions:h.allowedInteractions,subject:h.Subject,modifiedDate:h.ModifiedDate,review:{state:"",stateModel:"",modifiedDate:h.ModifiedDate,author:h.Author},notes:h.Note,annotationSettings:h.AnnotationSettings,annotationSelectorSettings:S,customData:C,isPrint:B,isCommentLock:h.IsCommentLock},this.pdfViewer.add(a);var I=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+h.pageIndex);if(this.pdfViewer.renderDrawing(I,a.pageIndex),this.pdfViewer.annotationModule.storeAnnotations(a.pageIndex,a,"_annotations_ink"),this.isAddAnnotationProgramatically){var b={opacity:a.opacity,strokeColor:a.strokeColor,thickness:a.thickness,modifiedDate:a.modifiedDate,width:a.bounds.width,height:a.bounds.height,data:this.outputString};this.pdfViewer.fireAnnotationAdd(a.pageIndex,a.annotName,"Ink",u,b)}this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.signatureCount++,this.pdfViewerBase.inkCount++,this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.annotationMenuObj&&this.pdfViewer.isSignatureEditable&&(this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!0),this.pdfViewerBase.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export XFDF")],!0))}}}},e.prototype.saveImportedInkAnnotation=function(e,t){var n,o=e.Bounds,r={x:o.X,y:o.Y,width:o.Width,height:o.Height},a=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),s=this.pdfViewer.annotation.getCustomData(e),l=this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),d={state:e.State,stateModel:e.StateModel,modifiedDate:e.ModifiedDate,author:e.Author},h=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(e),A=this.getSettings(e),p=e.PathData;"object"==typeof p&&p.length>1?p=(0,i.getPathString)(p):!e.IsPathData&&p.split("command").length>1&&(p=(0,i.getPathString)(JSON.parse(p))),n={allowedInteractions:a,annotName:e.AnnotName,annotationSelectorSettings:A,annotationSettings:h,author:e.Author,bounds:r,customData:s,comments:l,data:p,id:"Ink",isCommentLock:e.IsCommentLock,isLocked:e.IsLocked,isPrint:e.IsPrint,modifiedDate:e.ModifiedDate,note:e.Note,opacity:e.Opacity,pageIndex:t,review:d,shapeAnnotationType:e.AnnotationType,strokeColor:e.StrokeColor,subject:e.Subject,thickness:e.Thickness},this.pdfViewer.annotationModule.storeAnnotations(t,n,"_annotations_ink")},e.prototype.getSettings=function(e){this.pdfViewer.annotationSelectorSettings;return e.AnnotationSelectorSettings?e.AnnotationSelectorSettings:this.getSelector(e.ShapeAnnotationType,e.Subject)},e.prototype.storeInkSignatureData=function(e,t){this.pdfViewer.annotation.addAction(t.pageIndex,null,t,"Addition","",t,t);var i,n=t.bounds.left?t.bounds.left:t.bounds.x,o=t.bounds.top?t.bounds.top:t.bounds.y;t.wrapper&&t.wrapper.bounds&&(n=t.wrapper.bounds.left,o=t.wrapper.bounds.top),i={id:t.id,bounds:{x:n,y:o,width:t.bounds.width,height:t.bounds.height},shapeAnnotationType:"Ink",opacity:t.opacity,thickness:t.thickness,strokeColor:t.strokeColor,pageIndex:t.pageIndex,data:t.data,annotName:t.annotName,comments:t.comments,author:t.author,subject:t.subject,modifiedDate:t.modifiedDate,review:{state:"",stateModel:"",modifiedDate:t.modifiedDate,author:t.author},notes:t.notes,annotationSelectorSettings:this.getSelector(t,"Ink"),isCommentLock:t.isCommentLock};var r=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_ink");if(r){var a=JSON.parse(r);sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_ink");var s=this.pdfViewer.annotationModule.getPageCollection(a,e);if(null!=s&&a[parseInt(s.toString(),10)])a[parseInt(s.toString(),10)].annotations.push(i),a[parseInt(s.toString(),10)].annotations.indexOf(i);else{var l={pageIndex:e,annotations:[]};l.annotations.push(i),l.annotations.indexOf(i),a.push(l)}A=JSON.stringify(a);sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_ink",A)}else{var d={pageIndex:e,annotations:[]};d.annotations.push(i),d.annotations.indexOf(i);var h=[];h.push(d);var A=JSON.stringify(h);sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_ink",A)}},e.prototype.getSelector=function(e,t){var i=this.pdfViewer.annotationSelectorSettings;return"Ink"!==e&&"Ink"!==t||!this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings||(i=this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings,this.pdfViewerBase.updateSelectorSettings(i)),i},e.prototype.getAnnotations=function(e,t){var i,n=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_ink");if(n){var o=JSON.parse(n),r=this.pdfViewer.annotationModule.getPageCollection(o,e);i=null!=r&&o[parseInt(r.toString(),10)]?o[parseInt(r.toString(),10)].annotations:t}else i=t;return i},e.prototype.modifySignatureInkCollection=function(e,i,n){(0,t.isNullOrUndefined)(n.formFieldAnnotationType)||""===n.formFieldAnnotationType?this.pdfViewer.annotationModule.isFormFieldShape=!1:this.pdfViewer.annotationModule.isFormFieldShape=!0,this.pdfViewerBase.updateDocumentEditedProperty(!0);var o=null,r=this.getAnnotations(i,null);if(null!=r&&n){for(var a=0;a<r.length;a++)if(n.id===r[parseInt(a.toString(),10)].id){if("bounds"===e)this.pdfViewerBase.isBounds=this.pdfViewerBase.boundsCalculation(r[parseInt(a.toString(),10)].bounds,n.wrapper.bounds),this.pdfViewerBase.isBounds&&(r[parseInt(a.toString(),10)].bounds={x:n.wrapper.bounds.left,y:n.wrapper.bounds.top,width:n.bounds.width,height:n.bounds.height});else if("stroke"===e)r[parseInt(a.toString(),10)].strokeColor=n.wrapper.children[0].style.strokeColor;else if("opacity"===e)r[parseInt(a.toString(),10)].opacity=n.wrapper.children[0].style.opacity;else if("thickness"===e)r[parseInt(a.toString(),10)].thickness=n.wrapper.children[0].style.strokeWidth;else if("notes"===e)r[parseInt(a.toString(),10)].notes=n.notes;else if("delete"===e){o=r.splice(a,1)[0];break}this.pdfViewerBase.isBounds&&(r[parseInt(a.toString(),10)].modifiedDate=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime()),this.pdfViewer.annotationModule.storeAnnotationCollections(r[parseInt(a.toString(),10)],i)}this.manageInkAnnotations(r,i)}return o},e.prototype.manageInkAnnotations=function(e,t){var i=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_ink");if(i){var n=JSON.parse(i);sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_ink");var o=this.pdfViewer.annotationModule.getPageCollection(n,t);null!=o&&n[parseInt(o.toString(),10)]&&(n[parseInt(o.toString(),10)].annotations=e);var r=JSON.stringify(n);sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_ink",r)}},e.prototype.updateInkCollections=function(e,t,n){if(e){var o=e.Bounds,r=o.X,a=o.Y,s=o.Width,l=o.Height,d=e.customData,h=e.isPrint;e.AllowedInteractions=e.AllowedInteractions?e.AllowedInteractions:this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(e),e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.inkAnnotationSettings?this.pdfViewer.inkAnnotationSettings:this.pdfViewer.annotationSettings,e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked);var A=e.PathData;return n&&(A=(0,i.getPathString)(JSON.parse(e.PathData))),{id:"ink"+this.pdfViewerBase.signatureCount,bounds:{x:r,y:a,width:s,height:l},pageIndex:t,data:A,shapeAnnotationType:"Ink",opacity:e.Opacity,strokeColor:e.StrokeColor,thickness:e.Thickness,annotationId:e.AnnotName,customData:d,comments:this.pdfViewer.annotationModule.getAnnotationComments(e.Comments,e,e.Author),author:e.Author,allowedInteractions:e.AllowedInteractions,subject:e.Subject,modifiedDate:e.ModifiedDate,review:{state:"",stateModel:"",modifiedDate:e.ModifiedDate,author:e.Author},notes:e.Note,isPrint:h,isCommentLock:e.IsCommentLock,annotationSettings:e.AnnotationSettings,isLocked:e.AnnotationSettings.isLock}}},e.prototype.updateAddAnnotationDetails=function(e,n,o){n=e?e.offset?e.offset:{x:10,y:10}:(e={offset:{x:10,y:10},pageNumber:0,width:void 0,height:void 0}).offset;var r=this.pdfViewer.annotation.stickyNotesAnnotationModule.getDateAndTime(),a=this.pdfViewer.annotation.createGUID(),s=this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings;this.pdfViewerBase.updateSelectorSettings(s);var l=this.pdfViewer.annotationModule.updateSettings(this.pdfViewer.inkAnnotationSettings);e.author=e.author?e.author:this.pdfViewer.annotationModule.updateAnnotationAuthor("ink",l.AnnotationType);var d=this.pdfViewer.inkAnnotationSettings.allowedInteractions?this.pdfViewer.inkAnnotationSettings.allowedInteractions:this.pdfViewer.annotationSettings.allowedInteractions;l.isLock=e.isLock?e.isLock:l.isLock,e.width=e.width?e.width:150,e.height=e.height?e.height:60;var h=e.path?e.path:"";if(!(0,t.isNullOrUndefined)(h))if("M"===h[0]||"L"===h[0]){var A=(0,i.processPathData)(h),p=(0,i.splitArrayCollection)(A);h=JSON.stringify(p)}else h=(0,i.getPathString)(JSON.parse(h));e.path=h;var c=[],g={AllowedInteractions:e.allowedInteractions?e.allowedInteractions:d,AnnotName:a,AnnotType:"ink",AnnotationFlags:null,AnnotationSelectorSettings:e.annotationSelectorSettings?e.annotationSelectorSettings:s,AnnotationSettings:l,AnnotationType:"Ink",Author:e.author?e.author:"Guest",Bounds:{X:n.x,Y:n.y,Width:e.width,Height:e.height,Left:n.x,Top:n.y,Location:{X:n.x,Y:n.y},Size:{Height:e.height,IsEmpty:!1,Width:e.width}},Comments:null,CreatedDate:r,CustomData:e.customData?e.customData:null,ExistingCustomData:null,IsCommentLock:!1,IsLock:!!e.isLock&&e.isLock,IsPrint:!e.isPrint||e.isPrint,ModifiedDate:"",Note:"",Opacity:e.opacity?e.opacity:1,PathData:e.path,PageNumber:o,State:"",StateModel:"",StrokeColor:e.strokeColor?e.strokeColor:"rgba(255,0,0,1)",SubType:null,Subject:e.subject?e.subject:"Ink",Type:null,Thickness:e.thickness?e.thickness:1};return c[0]=g,{signatureInkAnnotation:c}},e}(),di=f(344);!function(e){e[e.default=0]="default",e[e.invisible=1]="invisible",e[e.hidden=2]="hidden",e[e.print=4]="print",e[e.noZoom=8]="noZoom",e[e.noRotate=16]="noRotate",e[e.noView=32]="noView",e[e.readOnly=64]="readOnly",e[e.locked=128]="locked",e[e.toggleNoView=256]="toggleNoView"}(Le||(Le={})),function(e){e[e.none=0]="none",e[e.openArrow=1]="openArrow",e[e.closedArrow=2]="closedArrow",e[e.rOpenArrow=3]="rOpenArrow",e[e.rClosedArrow=4]="rClosedArrow",e[e.butt=5]="butt",e[e.diamond=6]="diamond",e[e.circle=7]="circle",e[e.square=8]="square",e[e.slash=9]="slash"}(Oe||(Oe={})),function(e){e[e.lineArrow=0]="lineArrow",e[e.lineDimension=1]="lineDimension"}(Ue||(Ue={})),function(e){e[e.start=0]="start",e[e.line=1]="line",e[e.bezier=3]="bezier",e[e.pathTypeMask=7]="pathTypeMask",e[e.dashMode=16]="dashMode",e[e.pathMarker=32]="pathMarker",e[e.closePath=128]="closePath"}(ze||(ze={})),function(e){e[e.inline=0]="inline",e[e.top=1]="top"}(He||(He={})),function(e){e[e.solid=0]="solid",e[e.dashed=1]="dashed",e[e.beveled=2]="beveled",e[e.inset=3]="inset",e[e.underline=4]="underline",e[e.dot=5]="dot"}(Ye||(Ye={})),function(e){e[e.solid=0]="solid",e[e.cloudy=1]="cloudy"}(je||(je={})),function(e){e[e.angle0=0]="angle0",e[e.angle90=1]="angle90",e[e.angle180=2]="angle180",e[e.angle270=3]="angle270"}(Ge||(Ge={})),function(e){e[e.table=0]="table",e[e.stream=1]="stream"}(Je||(Je={})),function(e){e[e.noHighlighting=0]="noHighlighting",e[e.invert=1]="invert",e[e.outline=2]="outline",e[e.push=3]="push"}(Ke||(Ke={})),function(e){e[e.left=0]="left",e[e.center=1]="center",e[e.right=2]="right",e[e.justify=3]="justify"}(We||(We={})),function(e){e[e.visible=0]="visible",e[e.hidden=1]="hidden",e[e.visibleNotPrintable=2]="visibleNotPrintable",e[e.hiddenPrintable=3]="hiddenPrintable"}(Xe||(Xe={})),function(e){e[e.inch=0]="inch",e[e.pica=1]="pica",e[e.point=3]="point",e[e.centimeter=4]="centimeter",e[e.millimeter=6]="millimeter"}(Ze||(Ze={})),function(e){e[e.diameter=0]="diameter",e[e.radius=1]="radius"}(qe||(qe={})),function(e){e[e.approved=0]="approved",e[e.asIs=1]="asIs",e[e.confidential=2]="confidential",e[e.departmental=3]="departmental",e[e.draft=4]="draft",e[e.experimental=5]="experimental",e[e.expired=6]="expired",e[e.final=7]="final",e[e.forComment=8]="forComment",e[e.forPublicRelease=9]="forPublicRelease",e[e.notApproved=10]="notApproved",e[e.notForPublicRelease=11]="notForPublicRelease",e[e.sold=12]="sold",e[e.topSecret=13]="topSecret",e[e.completed=14]="completed",e[e.void=15]="void",e[e.informationOnly=16]="informationOnly",e[e.preliminaryResults=17]="preliminaryResults"}($e||($e={})),function(e){e[e.check=0]="check",e[e.circle=1]="circle",e[e.cross=2]="cross",e[e.diamond=3]="diamond",e[e.square=4]="square",e[e.star=5]="star"}(et||(et={})),function(e){e[e.highlight=0]="highlight",e[e.underline=1]="underline",e[e.squiggly=2]="squiggly",e[e.strikeOut=3]="strikeOut"}(tt||(tt={})),function(e){e[e.note=0]="note",e[e.comment=1]="comment",e[e.help=2]="help",e[e.insert=3]="insert",e[e.key=4]="key",e[e.newParagraph=5]="newParagraph",e[e.paragraph=6]="paragraph"}(it||(it={})),function(e){e[e.none=0]="none",e[e.accepted=1]="accepted",e[e.rejected=2]="rejected",e[e.cancel=3]="cancel",e[e.completed=4]="completed",e[e.marked=5]="marked",e[e.unmarked=6]="unmarked",e[e.unknown=7]="unknown"}(nt||(nt={})),function(e){e[e.none=0]="none",e[e.marked=1]="marked",e[e.review=2]="review"}(ot||(ot={})),function(e){e[e.pushPin=0]="pushPin",e[e.tag=1]="tag",e[e.graph=2]="graph",e[e.paperClip=3]="paperClip"}(rt||(rt={})),function(e){e[e.none=0]="none",e[e.freeTextCallout=1]="freeTextCallout",e[e.freeTextTypeWriter=2]="freeTextTypeWriter"}(at||(at={})),function(e){e[e.location=0]="location",e[e.fitToPage=1]="fitToPage",e[e.fitR=2]="fitR",e[e.fitH=3]="fitH"}(st||(st={})),function(e){e[e.fdf=0]="fdf",e[e.xfdf=1]="xfdf",e[e.json=2]="json",e[e.xml=3]="xml"}(lt||(lt={})),function(e){e[e.none=0]="none",e[e.row=1]="row",e[e.column=2]="column",e[e.structure=3]="structure",e[e.manual=4]="manual",e[e.widget=5]="widget"}(dt||(dt={})),function(e){e[e.highlight=0]="highlight",e[e.underline=1]="underline",e[e.strikeOut=2]="strikeOut",e[e.squiggly=3]="squiggly",e[e.redactionAnnotation=4]="redactionAnnotation",e[e.textAnnotation=5]="textAnnotation",e[e.linkAnnotation=6]="linkAnnotation",e[e.documentLinkAnnotation=7]="documentLinkAnnotation",e[e.uriAnnotation=8]="uriAnnotation",e[e.fileLinkAnnotation=9]="fileLinkAnnotation",e[e.freeTextAnnotation=10]="freeTextAnnotation",e[e.lineAnnotation=11]="lineAnnotation",e[e.circleAnnotation=12]="circleAnnotation",e[e.ellipseAnnotation=13]="ellipseAnnotation",e[e.squareAnnotation=14]="squareAnnotation",e[e.rectangleAnnotation=15]="rectangleAnnotation",e[e.polygonAnnotation=16]="polygonAnnotation",e[e.polyLineAnnotation=17]="polyLineAnnotation",e[e.textMarkupAnnotation=18]="textMarkupAnnotation",e[e.caretAnnotation=19]="caretAnnotation",e[e.rubberStampAnnotation=20]="rubberStampAnnotation",e[e.popupAnnotation=21]="popupAnnotation",e[e.fileAttachmentAnnotation=22]="fileAttachmentAnnotation",e[e.soundAnnotation=23]="soundAnnotation",e[e.movieAnnotation=24]="movieAnnotation",e[e.screenAnnotation=25]="screenAnnotation",e[e.widgetAnnotation=26]="widgetAnnotation",e[e.printerMarkAnnotation=27]="printerMarkAnnotation",e[e.trapNetworkAnnotation=28]="trapNetworkAnnotation",e[e.watermarkAnnotation=29]="watermarkAnnotation",e[e.textWebLinkAnnotation=30]="textWebLinkAnnotation",e[e.inkAnnotation=31]="inkAnnotation",e[e.richMediaAnnotation=32]="richMediaAnnotation",e[e.angleMeasurementAnnotation=33]="angleMeasurementAnnotation",e[e.null=34]="null"}(ht||(ht={})),function(e){e[e.centimeter=0]="centimeter",e[e.pica=1]="pica",e[e.pixel=2]="pixel",e[e.point=3]="point",e[e.inch=4]="inch",e[e.document=5]="document",e[e.millimeter=6]="millimeter"}(At||(At={})),function(e){e[e.default=0]="default",e[e.readOnly=1]="readOnly",e[e.required=2]="required",e[e.noExport=4]="noExport",e[e.multiLine=4096]="multiLine",e[e.password=8192]="password",e[e.fileSelect=1048576]="fileSelect",e[e.doNotSpellCheck=4194304]="doNotSpellCheck",e[e.doNotScroll=8388608]="doNotScroll",e[e.comb=16777216]="comb",e[e.richText=33554432]="richText",e[e.noToggleToOff=16384]="noToggleToOff",e[e.radio=32768]="radio",e[e.pushButton=65536]="pushButton",e[e.radiosInUnison=33554432]="radiosInUnison",e[e.combo=131072]="combo",e[e.edit=262144]="edit",e[e.sort=524288]="sort",e[e.multiSelect=2097152]="multiSelect",e[e.commitOnSelectChange=67108864]="commitOnSelectChange"}(pt||(pt={})),function(e){e[e.none=0]="none",e[e.signatureExists=1]="signatureExists",e[e.appendOnly=2]="appendOnly"}(ct||(ct={})),function(e){e[e.unchecked=0]="unchecked",e[e.checked=1]="checked",e[e.pressedUnchecked=2]="pressedUnchecked",e[e.pressedChecked=3]="pressedChecked"}(gt||(gt={})),function(e){e[e.default=0]="default",e[e.print=4]="print",e[e.editContent=8]="editContent",e[e.copyContent=16]="copyContent",e[e.editAnnotations=32]="editAnnotations",e[e.fillFields=256]="fillFields",e[e.accessibilityCopyContent=512]="accessibilityCopyContent",e[e.assembleDocument=1024]="assembleDocument",e[e.fullQualityPrint=2048]="fullQualityPrint"}(ut||(ut={})),function(e){e[e.portrait=0]="portrait",e[e.landscape=1]="landscape"}(ft||(ft={})),function(e){e[e.none=0]="none",e[e.leftToRight=1]="leftToRight",e[e.rightToLeft=2]="rightToLeft"}(mt||(mt={})),function(e){e[e.none=0]="none",e[e.superScript=1]="superScript",e[e.subScript=2]="subScript"}(wt||(wt={})),function(e){e[e.normal=0]="normal",e[e.multiply=1]="multiply",e[e.screen=2]="screen",e[e.overlay=3]="overlay",e[e.darken=4]="darken",e[e.lighten=5]="lighten",e[e.colorDodge=6]="colorDodge",e[e.colorBurn=7]="colorBurn",e[e.hardLight=8]="hardLight",e[e.softLight=9]="softLight",e[e.difference=10]="difference",e[e.exclusion=11]="exclusion",e[e.hue=12]="hue",e[e.saturation=13]="saturation",e[e.color=14]="color",e[e.luminosity=15]="luminosity"}(yt||(yt={})),function(e){e[e.winding=0]="winding",e[e.alternate=1]="alternate"}(St||(St={})),function(e){e[e.solid=0]="solid",e[e.dash=1]="dash",e[e.dot=2]="dot",e[e.dashDot=3]="dashDot",e[e.dashDotDot=4]="dashDotDot",e[e.custom=5]="custom"}(Ct||(Ct={})),function(e){e[e.flat=0]="flat",e[e.round=1]="round",e[e.square=2]="square"}(Bt||(Bt={})),function(e){e[e.miter=0]="miter",e[e.round=1]="round",e[e.bevel=2]="bevel"}(It||(It={})),function(e){e[e.none=0]="none",e[e.word=1]="word",e[e.wordOnly=2]="wordOnly",e[e.character=3]="character"}(bt||(bt={})),function(e){e[e.fixedPitch=1]="fixedPitch",e[e.serif=2]="serif",e[e.symbolic=4]="symbolic",e[e.script=8]="script",e[e.nonSymbolic=32]="nonSymbolic",e[e.italic=64]="italic",e[e.forceBold=262144]="forceBold"}(vt||(vt={})),function(e){e[e.apple=0]="apple",e[e.microsoft=4]="microsoft",e[e.trimmed=6]="trimmed"}(Et||(Et={})),function(e){e[e.unknown=0]="unknown",e[e.symbol=1]="symbol",e[e.unicode=2]="unicode",e[e.macintosh=3]="macintosh"}(xt||(xt={})),function(e){e[e.appleUnicode=0]="appleUnicode",e[e.macintosh=1]="macintosh",e[e.iSO=2]="iSO",e[e.microsoft=3]="microsoft"}(_t||(_t={})),function(e){e[e[void 0]=0]="undefined",e[e.unicode=1]="unicode"}(Dt||(Dt={})),function(e){e[e.roman=0]="roman",e[e.japanese=1]="japanese",e[e.chinese=2]="chinese"}(Mt||(Mt={})),function(e){e[e.Arg1And2AreWords=1]="Arg1And2AreWords",e[e.ArgsAreXyValues=2]="ArgsAreXyValues",e[e.RoundXyToGrid=4]="RoundXyToGrid",e[e.WeHaveScale=8]="WeHaveScale",e[e.Reserved=16]="Reserved",e[e.MoreComponents=32]="MoreComponents",e[e.WeHaveAnXyScale=64]="WeHaveAnXyScale",e[e.WeHaveTwoByTwo=128]="WeHaveTwoByTwo",e[e.WeHaveInstructions=256]="WeHaveInstructions",e[e.UseMyMetrics=512]="UseMyMetrics"}(Vt||(Vt={})),function(e){e[e.unknown=0]="unknown",e[e.bmp=1]="bmp",e[e.emf=2]="emf",e[e.gif=3]="gif",e[e.jpeg=4]="jpeg",e[e.png=5]="png",e[e.wmf=6]="wmf",e[e.icon=7]="icon"}(Qt||(Qt={})),function(e){e[e.none=0]="none",e[e.comment=1]="comment",e[e.number=2]="number",e[e.real=3]="real",e[e.string=4]="string",e[e.hexString=5]="hexString",e[e.unicodeString=6]="unicodeString",e[e.unicodeHexString=7]="unicodeHexString",e[e.name=8]="name",e[e.operator=9]="operator",e[e.beginArray=10]="beginArray",e[e.endArray=11]="endArray",e[e.eof=12]="eof"}(Ft||(Ft={})),function(e){e[e.regular=0]="regular",e[e.italic=1]="italic",e[e.bold=2]="bold"}(Tt||(Tt={})),function(e){e[e.rgb=0]="rgb",e[e.cmyk=1]="cmyk",e[e.grayScale=2]="grayScale",e[e.indexed=3]="indexed"}(kt||(kt={})),function(e){e[e.none=0]="none",e[e.numeric=1]="numeric",e[e.lowerLatin=2]="lowerLatin",e[e.lowerRoman=3]="lowerRoman",e[e.upperLatin=4]="upperLatin",e[e.upperRoman=5]="upperRoman"}(Pt||(Pt={})),function(e){e[e.none=0]="none",e[e.disk=1]="disk",e[e.square=2]="square",e[e.asterisk=3]="asterisk",e[e.circle=4]="circle"}(Nt||(Nt={})),function(e){e[e.paginate=0]="paginate",e[e.onePage=1]="onePage"}(Rt||(Rt={})),function(e){e[e.fitPage=0]="fitPage",e[e.fitElement=1]="fitElement"}(Lt||(Lt={})),function(e){e[e.left=0]="left",e[e.right=1]="right"}(Ot||(Ot={}));var hi,Ai=function(){function e(e){this._newLine="\r\n",this._whiteSpace=" ",this._stream=e}return e.prototype._writeOperator=function(e){this._stream.write(e),this._stream.write(this._newLine)},e.prototype._saveGraphicsState=function(){this._writeOperator("q")},e.prototype._restoreGraphicsState=function(){this._writeOperator("Q")},e.prototype._writeComment=function(e){e&&e.length>0&&this._writeOperator("% "+e)},e.prototype._setGraphicsState=function(e){this._stream.write("/"+Hr(e.name)+" "),this._writeOperator("gs")},e.prototype._modifyCtm=function(e){this._stream.write(e._toString()+" "),this._writeOperator("cm")},e.prototype._modifyTM=function(e){this._stream.write(e._toString()+" "),this._writeOperator("Tm")},e.prototype._setColorSpace=function(e,t,i){if("string"==typeof e&&"boolean"==typeof t)this._stream.write("/"+e+" "),this._writeOperator(t?"CS":"cs");else if(Array.isArray(e)&&"number"==typeof t&&"boolean"==typeof i){var n=void 0;switch(t){case kt.rgb:n="DeviceRGB";break;case kt.cmyk:n="DeviceCMYK";break;case kt.grayScale:n="DeviceGray";break;default:n="DeviceRGB"}this._stream.write("/"+n+" "),this._writeOperator(i?"CS":"cs"),this._setColor(e,i)}},e.prototype._setColor=function(e,t){this._stream.write((e[0]/255).toFixed(3)+" "+(e[1]/255).toFixed(3)+" "+(e[2]/255).toFixed(3)+" "),this._writeOperator(t?"RG":"rg")},e.prototype._appendRectangle=function(e,t,i,n){this._writePoint(e,t),this._writePoint(i,n),this._writeOperator("re")},e.prototype._writePoint=function(e,t){this._stream.write(e.toFixed(3)+" "+(-t).toFixed(3)+" ")},e.prototype._clipPath=function(e){this._stream.write((e?"W*":"W")+" n"+this._newLine)},e.prototype._fillPath=function(e){this._writeOperator(e?"f*":"f")},e.prototype._closeFillPath=function(e){this._writeOperator("h"),this._fillPath(e)},e.prototype._strokePath=function(){this._writeOperator("S")},e.prototype._closeStrokePath=function(){this._writeOperator("s")},e.prototype._fillStrokePath=function(e){this._writeOperator(e?"B*":"B")},e.prototype._closeFillStrokePath=function(e){this._writeOperator(e?"b*":"b")},e.prototype._endPath=function(){this._writeOperator("n")},e.prototype._setFont=function(e,t){this._stream.write("/"+e+" "+t.toFixed(3)+" "),this._writeOperator("Tf")},e.prototype._setTextScaling=function(e){this._stream.write(e.toFixed(3)+" "),this._writeOperator("Tz")},e.prototype._closePath=function(){this._writeOperator("h")},e.prototype._startNextLine=function(e,t){void 0===e?this._writeOperator("T*"):(this._writePoint(e,t),this._writeOperator("Td"))},e.prototype._setLeading=function(e){this._write(e.toFixed(3)+" "),this._write(this._whiteSpace),this._writeOperator("TL")},e.prototype._showText=function(e){this._writeText(e),this._writeOperator("Tj")},e.prototype._write=function(e){var t="";t+=e,t+="\r\n",this._writeOperator(t)},e.prototype._writeText=function(e){for(var t="",i=this._escapeSymbols(e),n=0;n<i.length;n++)t+=String.fromCharCode(i[n]);t="("+t+")",this._stream.write(t)},e.prototype._beginText=function(){this._writeOperator("BT")},e.prototype._endText=function(){this._writeOperator("ET")},e.prototype._beginPath=function(e,t){this._writePoint(e,t),this._writeOperator("m")},e.prototype._appendLineSegment=function(e,t){this._writePoint(e,t),this._writeOperator("l")},e.prototype._appendBezierSegment=function(e,t,i,n,o,r){this._writePoint(e,t),this._writePoint(i,n),this._writePoint(o,r),this._writeOperator("c")},e.prototype._setTextRenderingMode=function(e){this._stream.write(e.toString()+" "),this._writeOperator("Tr")},e.prototype._setCharacterSpacing=function(e){this._stream.write(e.toFixed(3)+" "),this._writeOperator("Tc")},e.prototype._setWordSpacing=function(e){this._stream.write(e.toFixed(3)+" "),this._writeOperator("Tw")},e.prototype._showNextLineText=function(e,t){null!=t&&t?(this._writeText(e),this._writeOperator("'")):(this._stream.write(e),this._writeOperator("'"))},e.prototype._setLineDashPattern=function(e,t){var i="[";if(e.length>1)for(var n=0;n<e.length;n++)n===e.length-1?i+=e[n].toString():i+=e[n].toString()+" ";i+="] ",i+=t.toString(),i+=" d",this._writeOperator(i)},e.prototype._setMiterLimit=function(e){this._stream.write(e.toFixed(3)+" "),this._writeOperator("M")},e.prototype._setLineWidth=function(e){this._stream.write(e.toFixed(3)+" "),this._writeOperator("w")},e.prototype._setLineCap=function(e){this._stream.write(e+" "),this._writeOperator("J")},e.prototype._setLineJoin=function(e){this._stream.write(e+" "),this._writeOperator("j")},e.prototype._executeObject=function(e){this._stream.write("/"+e.name+" "),this._writeOperator("Do")},e.prototype._beginMarkupSequence=function(e){this._stream.write("/"+e+" "),this._writeOperator("BMC")},e.prototype._endMarkupSequence=function(){this._writeOperator("EMC")},e.prototype._clear=function(){this._stream._bytes=[]},e.prototype._escapeSymbols=function(e){for(var t=[],i=0;i<e.length;i++){var n=e.charCodeAt(i);switch(n){case 40:case 41:case 92:t.push(92),t.push(n);break;case 13:t.push(92),t.push(114);break;default:t.push(n)}}return t},e}(),pi=function(){function e(e,t){this.horizontalScalingFactor=100,this.rightToLeft=!1,this._wordWrapType=bt.word,this._isList=!1,this.lineLimit=!0,void 0!==e&&(this.alignment=e),this.lineAlignment=void 0!==t?t:hi.top,this.characterSpacing=0,this.wordSpacing=0,this.lineSpacing=0,this.clipPath=!1,this.firstLineIndent=0,this._internalParagraphIndent=0,this.measureTrailingSpaces=!1,this.noClip=!1}return Object.defineProperty(e.prototype,"paragraphIndent",{get:function(){return this._internalParagraphIndent},set:function(e){this._internalParagraphIndent=e,this.firstLineIndent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subSuperScript",{get:function(){return void 0===this._pdfSubSuperScript||null===this._pdfSubSuperScript?wt.none:this._pdfSubSuperScript},set:function(e){this._pdfSubSuperScript=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_wordWrap",{get:function(){return this._wordWrapType},set:function(e){this._wordWrapType=e},enumerable:!0,configurable:!0}),e}();!function(e){e[e.top=0]="top",e[e.middle=1]="middle",e[e.bottom=2]="bottom"}(hi||(hi={}));var ci,gi=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ui=function(){function e(){this._lineGap=0}return e.prototype._getAscent=function(e){return.001*this._ascent*this._getSize(e)},e.prototype._getDescent=function(e){return.001*this._descent*this._getSize(e)},e.prototype._getLineGap=function(e){return.001*this._lineGap*this._getSize(e)},e.prototype._getHeight=function(e){for(var t=["cambria","candara","constantia","corbel","cariadings"],i=[],n=0;n<t.length;n++)i.push(t[Number.parseInt(n.toString(),10)]);return this._getDescent(e)<0?this._getAscent(e)-this._getDescent(e)+this._getLineGap(e):this._getAscent(e)+this._getDescent(e)+this._getLineGap(e)},e.prototype._getSize=function(e){var t=this._size;if(null!=e)switch(e.subSuperScript){case wt.subScript:t/=this._subScriptSizeFactor;break;case wt.superScript:t/=this._superscriptSizeFactor}return t},e}(),fi=function(){},mi=function(e){function t(t){var i=e.call(this)||this;return i.widths=t,i}return gi(t,e),t.prototype._itemAt=function(e){if(e<0||e>=this.widths.length)throw new Error("The character is not supported by the font.");return this.widths[Number.parseInt(e.toString(),10)]},t.prototype._toArray=function(){return this.widths},t}(fi),wi=function(e){function t(t){var i=e.call(this)||this;return i._defaultWidth=t,i.widths=[],i}return gi(t,e),t.prototype._itemAt=function(e){var t=this._defaultWidth;return this.widths.forEach((function(i){e>=i._from&&e<=i._to&&(t=i._itemAt(e))})),t},t.prototype._toArray=function(){var e=[];return this.widths.forEach((function(t){t._appendToArray(e)})),e},t.prototype._add=function(e){this.widths.push(e)},t}(fi),yi=function(){},Si=function(e){function t(t,i,n){var o=e.call(this)||this;return o._widthFrom=t,o._widthTo=i,o._width=n,o}return gi(t,e),Object.defineProperty(t.prototype,"_from",{get:function(){return this._widthFrom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_to",{get:function(){return this._widthTo},enumerable:!0,configurable:!0}),t.prototype._itemAt=function(e){if(e<this._from||e>this._to)throw new Error("Index is out of range.");return this._width},t.prototype._appendToArray=function(e){e.push(this._from,this._to,this._width)},t}(yi),Ci=function(e){function t(t,i){var n=e.call(this)||this;return n._widthFrom=t,n._widths=i,n}return gi(t,e),Object.defineProperty(t.prototype,"_from",{get:function(){return this._widthFrom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_to",{get:function(){return this._widthFrom+this._widths.length-1},enumerable:!0,configurable:!0}),t.prototype._itemAt=function(e){if(e<this._widthFrom||e>this._to)throw new Error("Index is out of range.");return this._widths[Number.parseInt(e.toString(),10)]},t.prototype._appendToArray=function(e){e.push(this._from),e.forEach((function(t){e.push(t)}))},t}(yi),Bi=function(){function e(){}return e.prototype._layout=function(e,t,i,n){this._initialize(e,t,i,n);var o=this._doLayout();return this._clear(),o},e.prototype._initialize=function(e,t,i,n){this._font=t,this._format=i,this._size=n,this._rectangle=[0,0,n[0],n[1]],this._reader=new _i(e),this._pageHeight=0},e.prototype._clear=function(){this._font=null,this._format=null,this._reader._close(),this._reader=null},e.prototype._doLayout=function(){for(var e=new Ii,t=new Ii,i=[],n=this._reader._peekLine(),o=this._getLineIndent(!0);null!==n;){if(null!=(t=this._layoutLine(n,o))){var r=0,a=this._copyToResult(e,t,i,r),s=a.success;if(r=a.flag,!s){this._reader._read(r);break}}this._reader._readLine(),n=this._reader._peekLine(),o=this._getLineIndent(!1)}return this._finalizeResult(e,i),e},e.prototype._getLineIndent=function(e){var t=0;return this._format&&(t=e?this._format.firstLineIndent:this._format.paragraphIndent,t=this._size[0]>0?Math.min(this._size[0],t):t),t},e.prototype._getLineHeight=function(){var e=this._font._metrics._getHeight();return this._format&&0!==this._format.lineSpacing&&(e=this._format.lineSpacing+this._font._metrics._getHeight()),e},e.prototype._getLineWidth=function(e){return this._font.getLineWidth(e,this._format)},e.prototype._layoutLine=function(e,t){var i=new Ii;i._lineHeight=this._getLineHeight();var n=[],o=this._size[0],r=this._getLineWidth(e)+t,a=ci.firstParagraphLine,s=!0;if(o<=0||Math.round(r)<=Math.round(o))this._addToLineResult(i,n,e,r,ci.newLineBreak|a);else{var l="",d="";r=t;var h=t,A=new _i(e),p=A._peekWord();for(p.length!==A._length&&" "===p&&(d+=p,l+=p,A._position+=1,p=A._peekWord());null!==p;){d+=p;var c=this._getLineWidth(d.toString())+h;if(" "===d.toString()&&(d="",c=0),c>o){if(this._getWrapType()===bt.none)break;if(d.length===p.length){if(this._getWrapType()===bt.wordOnly){i._remainder=e.substring(A._position);break}if(1===d.length){l+=p;break}s=!1,d="",p=A._peek().toString();continue}if(this._getLineWidth(p.toString())>o?void 0!==this._format&&null!==this._format&&(this._format._wordWrap=bt.character):void 0!==this._format&&null!==this._format&&(this._format._wordWrap=bt.word),this._getWrapType()===bt.character&&s)s=!1,d="",d+=l.toString(),p=A._peek().toString();else{var g=l.toString();" "!==g&&this._addToLineResult(i,n,g,r,ci.layoutBreak|a),d="",l="",r=0,h=0,c=0,a=ci.none,p=s?p:A._peekWord(),s=!0}}else l+=p,r=c,s?(A._readWord(),p=A._peekWord()):(A._read(),p=A._peek().toString())}l.length>0&&this._addToLineResult(i,n,l.toString(),r,ci.newLineBreak|ci.lastParagraphLine),A._close()}i._layoutLines=[];for(var u=0;u<n.length;u++)i._layoutLines.push(n[u]);return n=[],i},e.prototype._addToLineResult=function(e,t,i,n,o){var r=new bi;r._text=i,r._width=n,r._lineType=o,t.push(r);var a=e._actualSize;a[1]=a[1]+this._getLineHeight(),a[0]=Math.max(a[0],n),e._size=a},e.prototype._copyToResult=function(e,t,i,n){var o=!0,r=this._format&&!this._format.lineLimit,a=e._actualSize[1],s=this._size[1];if(this._pageHeight>0&&s+this._rectangle[1]>this._pageHeight&&(s=this._rectangle[1]-this._pageHeight,s=Math.max(s,-s)),n=0,null!==t._lines)for(var l=0,d=t._lines.length;l<d;l++){var h=a+t._lineHeight;if(!(h<=s||s<=0||r)){o=!1;break}var A=t._lines[l];n+=A._text.length,A=this._trimLine(A,0===i.length),i.push(A);var p=e._actualSize;p[0]=Math.max(p[0],A._width),e._size=p,a=h}return a!==e._size[1]&&(e._size=[e._actualSize[0],a]),{success:o,flag:n}},e.prototype._finalizeResult=function(e,t){e._layoutLines=[];for(var i=0;i<t.length;i++)e._layoutLines.push(t[i]);e._lineHeight=this._getLineHeight(),this._reader._end||(e._remainder=this._reader._readToEnd()),t=[]},e.prototype._trimLine=function(e,t){var i=e._text.trim(),n=e._width;return i.length!==e._text.length&&(n=this._getLineWidth(i),(e._lineType&ci.firstParagraphLine)>0&&(n+=this._getLineIndent(t))),e._text=i,e._width=n,e},e.prototype._getWrapType=function(){return null!==this._format&&void 0!==this._format?this._format._wordWrap:bt.word},e}(),Ii=function(){function e(){}return Object.defineProperty(e.prototype,"_actualSize",{get:function(){return void 0===this._size&&(this._size=[0,0]),this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_lines",{get:function(){return this._layoutLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_empty",{get:function(){return null===this._layoutLines||0===this._layoutLines.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_lineCount",{get:function(){return this._empty?0:this._layoutLines.length},enumerable:!0,configurable:!0}),e}(),bi=function(){};!function(e){e[e.none=0]="none",e[e.newLineBreak=1]="newLineBreak",e[e.layoutBreak=2]="layoutBreak",e[e.firstParagraphLine=4]="firstParagraphLine",e[e.lastParagraphLine=8]="lastParagraphLine"}(ci||(ci={}));var vi,Ei,xi,_i=function(){function e(e){if(this._position=0,null==e)throw new Error("ArgumentNullException:text");this._text=e}return Object.defineProperty(e.prototype,"_length",{get:function(){return this._text.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_end",{get:function(){return this._position===this._text.length},enumerable:!0,configurable:!0}),e.prototype._readLine=function(){for(var e=this._position;e<this._length;){var t=this._text[e],i=void 0;switch(t){case"\r":case"\n":return i=this._text.substring(this._position,e),this._position=e+1,"\r"===t&&this._position<this._length&&"\n"===this._text[this._position]&&this._position++,i}e++}if(e>this._position){var n=this._text.substring(this._position,e);return this._position=e,n}return null},e.prototype._peekLine=function(){var e=this._position,t=this._readLine();return this._position=e,t},e.prototype._readWord=function(){for(var e=this._position;e<this._length;){var t=this._text[e],i=void 0;switch(t){case"\r":case"\n":return i=this._text.substring(this._position,e-this._position),this._position=e+1,"\r"===t&&this._position<this._length&&"\n"===this._text[this._position]&&this._position++,i;case" ":case"\t":return e===this._position&&e++,i=this._text.substring(this._position,e),this._position=e,i}e++}if(e>this._position){var n=this._text.substring(this._position,e);return this._position=e,n}return null},e.prototype._peekWord=function(){var e=this._position,t=this._readWord();return this._position=e,t},e.prototype._read=function(e){if(void 0===e){var t="0";return this._end||(t=this._text[this._position],this._position++),t}for(var i=0,n="";!this._end&&i<e;)n+=this._read(),i++;return n},e.prototype._peek=function(){return this._end?"0":this._text[this._position]},e.prototype._close=function(){this._text=null},e.prototype._readToEnd=function(){var e;return e=0===this._position?this._text:this._text.substring(this._position),this._position=this._length,e},e._whiteSpace=" ",e._tab="\t",e._spaces=[e._whiteSpace,e._tab],e}(),Di=function(){function e(){}return Object.defineProperty(e.prototype,"_empty",{get:function(){return this._offset===this._length&&this._length===this._checksum&&0===this._checksum},enumerable:!0,configurable:!0}),e}(),Mi=function(){},Vi=function(){},Qi=function(){},Fi=function(){},Ti=function(){},ki=function(){},Pi=function(){},Ni=function(){},Ri=function(){},Li=function(){},Oi=function(){function e(e){this._int32Size=4,this._isFont=!1,this._isMacTtf=!1,this._isMacFont=!1,this._missedGlyphs=0,this._tableNames=["cvt ","fpgm","glyf","head","hhea","hmtx","loca","maxp","prep"],this._entrySelectors=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4],this._fontData=e,this._initialize()}return Object.defineProperty(e.prototype,"macintosh",{get:function(){return null!==this._macintoshDictionary&&void 0!==this._macintoshDictionary||(this._macintoshDictionary=new Ma),this._macintoshDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_microsoft",{get:function(){return null!==this._microsoftDictionary&&void 0!==this._microsoftDictionary||(this._microsoftDictionary=new Ma),this._microsoftDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_macintoshGlyphs",{get:function(){return null!==this._internalMacintoshGlyphs&&void 0!==this._internalMacintoshGlyphs||(this._internalMacintoshGlyphs=new Ma),this._internalMacintoshGlyphs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_microsoftGlyphs",{get:function(){return null!==this._internalMicrosoftGlyphs&&void 0!==this._internalMicrosoftGlyphs||(this._internalMicrosoftGlyphs=new Ma),this._internalMicrosoftGlyphs},enumerable:!0,configurable:!0}),e.prototype._initialize=function(){void 0!==this._metrics&&null!==this._metrics||(this._metrics=new zi),this._readFontDictionary();var e=this._readNameTable(),t=this._readHeadTable();this._initializeFontName(e),this._metrics._macStyle=t._macStyle},e.prototype._readFontDictionary=function(){this._offset=0,this._check();var e=this._readInt16(this._offset);this._readInt16(this._offset),this._readInt16(this._offset),this._readInt16(this._offset),void 0!==this._tableDirectory&&null!==this._tableDirectory||(this._tableDirectory=new Ma);for(var t=0;t<e;++t){var i=new Di,n=this._readString(this._int32Size);i._checksum=this._readInt32(this._offset),i._offset=this._readInt32(this._offset),i._length=this._readInt32(this._offset),this._tableDirectory.setValue(n,i)}this._lowestPosition=this._offset,this._isFont||this._fixOffsets()},e.prototype._fixOffsets=function(){for(var e=Number.MAX_VALUE,t=this._tableDirectory.keys(),i=0;i<t.length;i++){var n=(a=this._tableDirectory.getValue(t[Number.parseInt(i.toString(),10)]))._offset;if(e>n&&(e=n)<=this._lowestPosition)break}var o=e-this._lowestPosition;if(0!==o){var r=new Ma;for(i=0;i<t.length;i++){var a;(a=this._tableDirectory.getValue(t[Number.parseInt(i.toString(),10)]))._offset-=o,r.setValue(t[Number.parseInt(i.toString(),10)],a)}this._tableDirectory=r}},e.prototype._check=function(){var e=this._readInt32(this._offset);if(this._isMacTtf=1953658213===e,65536!==e&&1953658213!==e&&1330926671!==e){if(this._isFont=!0,this._offset=0,"ttcf"!==this._readString(4))throw new Error("Can not read TTF font data");if(this._offset+=4,this._readInt32(this._offset)<0)throw new Error("Can not read TTF font data");this._offset=this._readInt32(this._offset),e=this._readInt32(this._offset)}return e},e.prototype._readNameTable=function(){var e=this._getTable("name");void 0!==e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new Qi;t._formatSelector=this._readUInt16(this._offset),t._recordsCount=this._readUInt16(this._offset),t._offset=this._readUInt16(this._offset),t._nameRecords=[];for(var i=this._offset,n=0;n<t._recordsCount;n++){this._offset=i;var o=new Ui;o._platformID=this._readUInt16(this._offset),o._encodingID=this._readUInt16(this._offset),o._languageID=this._readUInt16(this._offset),o._nameID=this._readUInt16(this._offset),o._length=this._readUInt16(this._offset),o._offset=this._readUInt16(this._offset),this._offset=e._offset+t._offset+o._offset;var r=0===o._platformID||3===o._platformID;o._name=this._readString(o._length,r),t._nameRecords[Number.parseInt(n.toString(),10)]=o,i+=12}return t},e.prototype._readHeadTable=function(){var e=this._getTable("head");void 0!==e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new ki;return t._version=this._readFixed(this._offset),t._fontRevision=this._readFixed(this._offset),t._checkSumAdjustment=this._readUInt32(this._offset),t._magicNumber=this._readUInt32(this._offset),t._flags=this._readUInt16(this._offset),t._unitsPerEm=this._readUInt16(this._offset),t._created=this._readInt64(this._offset),t._modified=this._readInt64(this._offset),t._xMin=this._readInt16(this._offset),t._yMin=this._readInt16(this._offset),t._xMax=this._readInt16(this._offset),t._yMax=this._readInt16(this._offset),t._macStyle=this._readUInt16(this._offset),t._lowestReadableSize=this._readUInt16(this._offset),t._fontDirectionHint=this._readInt16(this._offset),t._indexToLocalFormat=this._readInt16(this._offset),t._glyphDataFormat=this._readInt16(this._offset),t},e.prototype._readHorizontalHeaderTable=function(){var e=this._getTable("hhea");void 0!==e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new Ti;return t._version=this._readFixed(this._offset),t._ascender=this._readInt16(this._offset),t._descender=this._readInt16(this._offset),t._lineGap=this._readInt16(this._offset),t._advanceWidthMax=this._readUInt16(this._offset),t._minLeftSideBearing=this._readInt16(this._offset),t._minRightSideBearing=this._readInt16(this._offset),t._xMaxExtent=this._readInt16(this._offset),t._caretSlopeRise=this._readInt16(this._offset),t._caretSlopeRun=this._readInt16(this._offset),this._offset+=10,t._metricDataFormat=this._readInt16(this._offset),t._numberOfHMetrics=this._readUInt16(this._offset),t},e.prototype._readOS2Table=function(){var e=this._getTable("OS/2");void 0!==e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new Mi;return t._version=this._readUInt16(this._offset),t._xAvgCharWidth=this._readInt16(this._offset),t._usWeightClass=this._readUInt16(this._offset),t._usWidthClass=this._readUInt16(this._offset),t._fsType=this._readInt16(this._offset),t._ySubscriptXSize=this._readInt16(this._offset),t._ySubscriptYSize=this._readInt16(this._offset),t._ySubscriptXOffset=this._readInt16(this._offset),t._ySubscriptYOffset=this._readInt16(this._offset),t._ySuperscriptXSize=this._readInt16(this._offset),t._ySuperscriptYSize=this._readInt16(this._offset),t._ySuperscriptXOffset=this._readInt16(this._offset),t._ySuperscriptYOffset=this._readInt16(this._offset),t._yStrikeoutSize=this._readInt16(this._offset),t._yStrikeoutPosition=this._readInt16(this._offset),t._sFamilyClass=this._readInt16(this._offset),t._panose=this._readBytes(10),t._ulUnicodeRange1=this._readUInt32(this._offset),t._ulUnicodeRange2=this._readUInt32(this._offset),t._ulUnicodeRange3=this._readUInt32(this._offset),t._ulUnicodeRange4=this._readUInt32(this._offset),t._vendorIdentifier=this._readBytes(4),t._fsSelection=this._readUInt16(this._offset),t._usFirstCharIndex=this._readUInt16(this._offset),t._usLastCharIndex=this._readUInt16(this._offset),t._sTypoAscender=this._readInt16(this._offset),t._sTypoDescender=this._readInt16(this._offset),t._sTypoLineGap=this._readInt16(this._offset),t._usWinAscent=this._readUInt16(this._offset),t._usWinDescent=this._readUInt16(this._offset),t._ulCodePageRange1=this._readUInt32(this._offset),t._ulCodePageRange2=this._readUInt32(this._offset),t._version>1?(t._sxHeight=this._readInt16(this._offset),t._sCapHeight=this._readInt16(this._offset),t._usDefaultChar=this._readUInt16(this._offset),t._usBreakChar=this._readUInt16(this._offset),t._usMaxContext=this._readUInt16(this._offset)):(t._sxHeight=0,t._sCapHeight=0,t._usDefaultChar=0,t._usBreakChar=0,t._usMaxContext=0),t},e.prototype._readPostTable=function(){var e=this._getTable("post");void 0!==e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new Vi;return t._formatType=this._readFixed(this._offset),t._italicAngle=this._readFixed(this._offset),t._underlinePosition=this._readInt16(this._offset),t._underlineThickness=this._readInt16(this._offset),t._isFixedPitch=this._readUInt32(this._offset),t._minType42=this._readUInt32(this._offset),t._maxType42=this._readUInt32(this._offset),t._minType1=this._readUInt32(this._offset),t._maxType1=this._readUInt32(this._offset),t},e.prototype._readWidthTable=function(e,t){var i=this._getTable("hmtx");void 0!==i._offset&&null!==i._offset&&(this._offset=i._offset);for(var n=[],o=0;o<e;o++){var r=new Hi;r._advanceWidth=this._readUInt16(this._offset),r._lsb=this._readInt16(this._offset);var a=1e3*r._advanceWidth/t;n.push(Math.floor(a))}return n},e.prototype._readCmapTable=function(){var e=this._getTable("cmap");void 0!==e._offset&&null!==e._offset&&(this._offset=e._offset);var t=new Pi;t._version=this._readUInt16(this._offset),t._tablesCount=this._readUInt16(this._offset);for(var i=this._offset,n=[],o=0;o<t._tablesCount;o++){this._offset=i;var r=new Ni;r._platformID=this._readUInt16(this._offset),r._encodingID=this._readUInt16(this._offset),r._offset=this._readUInt32(this._offset),i=this._offset,this._readCmapSubTable(r),n[Number.parseInt(o.toString(),10)]=r}return n},e.prototype._readCmapSubTable=function(e){var t=this._getTable("cmap");this._offset=t._offset+e._offset;var i=this._readUInt16(this._offset),n=this._getCmapEncoding(e._platformID,e._encodingID);if(n!==xt.unknown)switch(i){case Et.apple:this._readAppleCmapTable(e,n);break;case Et.microsoft:this._readMicrosoftCmapTable(e,n);break;case Et.trimmed:this._readTrimmedCmapTable(e,n)}},e.prototype._readAppleCmapTable=function(e,t){var i=this._getTable("cmap");this._offset=i._offset+e._offset;var n=new Ri;n._format=this._readUInt16(this._offset),n._length=this._readUInt16(this._offset),n._version=this._readUInt16(this._offset),null!==this._maxMacIndex&&void 0!==this._maxMacIndex||(this._maxMacIndex=0);for(var o=0;o<256;++o){var r=new Yi;r._index=this._readByte(this._offset),r._width=this._getWidth(r._index),r._charCode=o,this.macintosh.setValue(o,r),this._addGlyph(r,t),this._maxMacIndex=Math.max(o,this._maxMacIndex)}},e.prototype._readMicrosoftCmapTable=function(e,t){var i=this._getTable("cmap");this._offset=i._offset+e._offset;var n=t===xt.unicode?this._microsoft:this.macintosh,o=new Fi;o._format=this._readUInt16(this._offset),o._length=this._readUInt16(this._offset),o._version=this._readUInt16(this._offset),o._segCountX2=this._readUInt16(this._offset),o._searchRange=this._readUInt16(this._offset),o._entrySelector=this._readUInt16(this._offset),o._rangeShift=this._readUInt16(this._offset);var r=o._segCountX2/2;o._endCount=this._readUShortArray(r),o._reservedPad=this._readUInt16(this._offset),o._startCount=this._readUShortArray(r),o._idDelta=this._readUShortArray(r),o._idRangeOffset=this._readUShortArray(r);var a=o._length/2-8-4*r;o._glyphID=this._readUShortArray(a);for(var s=0,l=0,d=0;d<r;d++)for(var h=o._startCount[Number.parseInt(d.toString(),10)];h<=o._endCount[Number.parseInt(d.toString(),10)]&&65535!==h;h++){if(0===o._idRangeOffset[Number.parseInt(d.toString(),10)])s=h+o._idDelta[Number.parseInt(d.toString(),10)]&65535;else{if((l=d+o._idRangeOffset[Number.parseInt(d.toString(),10)]/2-r+h-o._startCount[Number.parseInt(d.toString(),10)])>=o._glyphID.length)continue;s=o._glyphID[Number.parseInt(l.toString(),10)]+o._idDelta[Number.parseInt(d.toString(),10)]&65535}var A=new Yi;A._index=s,A._width=this._getWidth(A._index);var p=t===xt.symbol&&61440==(65280&h)?255&h:h;A._charCode=p,n.setValue(p,A),this._addGlyph(A,t)}},e.prototype._readTrimmedCmapTable=function(e,t){var i=this._getTable("cmap");this._offset=i._offset+e._offset;var n=new Li;n._format=this._readUInt16(this._offset),n._length=this._readUInt16(this._offset),n._version=this._readUInt16(this._offset),n._firstCode=this._readUInt16(this._offset),n._entryCount=this._readUInt16(this._offset);for(var o=0;o<n._entryCount;++o){var r=new Yi;r._index=this._readUInt16(this._offset),r._width=this._getWidth(r._index),r._charCode=o+n._firstCode,this.macintosh.setValue(o,r),this._addGlyph(r,t),this._maxMacIndex=Math.max(o,this._maxMacIndex)}},e.prototype._initializeFontName=function(e){for(var t=0;t<e._recordsCount;t++){var i=e._nameRecords[Number.parseInt(t.toString(),10)];if(1===i._nameID?this._metrics._fontFamily=i._name:6===i._nameID&&(this._metrics._postScriptName=i._name),null!==this._metrics._fontFamily&&void 0!==this._metrics._fontFamily&&null!==this._metrics._postScriptName&&void 0!==this._metrics._postScriptName)break}},e.prototype._getTable=function(e){var t,i=new Di;return this._tableDirectory.containsKey(e)&&(t=this._tableDirectory.getValue(e)),null!=t&&(i=t),i},e.prototype._getWidth=function(e){return e=e<this._width.length?e:this._width.length-1,this._width[Number.parseInt(e.toString(),10)]},e.prototype._getCmapEncoding=function(e,t){var i=xt.unknown;return e===_t.microsoft&&t===Dt.undefined?i=xt.symbol:e===_t.microsoft&&t===Dt.unicode?i=xt.unicode:e===_t.macintosh&&t===Mt.roman&&(i=xt.macintosh),i},e.prototype._addGlyph=function(e,t){var i=null;switch(t){case xt.unicode:i=this._microsoftGlyphs;break;case xt.macintosh:case xt.symbol:i=this._macintoshGlyphs}i.setValue(e._index,e)},e.prototype._initializeMetrics=function(e,t,i,n,o,r){this._initializeFontName(e);for(var a=!1,s=0;s<r.length;s++){var l=r[Number.parseInt(s.toString(),10)];if(this._getCmapEncoding(l._platformID,l._encodingID)===xt.symbol){a=!0;break}}this._metrics._isSymbol=a,this._metrics._macStyle=t._macStyle,this._metrics._isFixedPitch=0!==o._isFixedPitch,this._metrics._italicAngle=o._italicAngle;var d=1e3/t._unitsPerEm;this._metrics._winAscent=n._sTypoAscender*d,this._metrics._macAscent=i._ascender*d,this._metrics._capHeight=0!==n._sCapHeight?n._sCapHeight:.7*t._unitsPerEm*d,this._metrics._winDescent=n._sTypoDescender*d,this._metrics._macDescent=i._descender*d,this._metrics._leading=(n._sTypoAscender-n._sTypoDescender+n._sTypoLineGap)*d,this._metrics._lineGap=Math.ceil(i._lineGap*d);var h=t._xMin*d,A=Math.ceil(this._metrics._macAscent+this._metrics._lineGap),p=t._xMax*d,c=this._metrics._macDescent;this._metrics._fontBox=[h,A,p,c],this._metrics._stemV=80,this._metrics._widthTable=this._updateWidth(),this._metrics._contains=this._tableDirectory.containsKey("CFF"),this._metrics._subScriptSizeFactor=t._unitsPerEm/n._ySubscriptYSize,this._metrics._superscriptSizeFactor=t._unitsPerEm/n._ySuperscriptYSize},e.prototype._updateWidth=function(){var e=[];if(this._metrics._isSymbol)for(var t=0;t<256;t++){var i=this._getGlyph(String.fromCharCode(Number.parseInt(t.toString(),10)));e[Number.parseInt(t.toString(),10)]=i._empty?0:i._width}else{var n=[],o=String.fromCharCode(32);for(t=0;t<256;t++){n[0]=Number.parseInt(t.toString(),10);var r=this._getString(n,0,n.length),a=r.length>0?r[0]:"?";(i=this._getGlyph(a))._empty?(i=this._getGlyph(o),e[Number.parseInt(t.toString(),10)]=i._empty?0:i._width):e[Number.parseInt(t.toString(),10)]=i._width}}return e},e.prototype._getDefaultGlyph=function(){return this._getGlyph(_i._whiteSpace)},e.prototype._getString=function(e,t,i){for(var n="",o=0;o<i;o++)n+=String.fromCharCode(e[o+t]);return n},e.prototype._setOffset=function(e){this._offset=e},e.prototype._readFontProgram=function(e){var t=this._getGlyphChars(e),i=this._readLocaTable(this._bIsLocaShort);t&&t._size()<e._size()&&(this._missedGlyphs=e._size()-t._size()),this._updateGlyphChars(t,i);var n=this._generateGlyphTable(t,i,null,null),o=n.glyphTableSize,r=n.newLocaTable,a=n.newGlyphTable,s=this._updateLocaTable(r,this._bIsLocaShort),l=s.newLocaSize,d=s.newLocaUpdated;return this._getFontProgram(d,a,o,l)},e.prototype._generateGlyphTable=function(e,t,i,n){i=[];var o=e.keys();o.sort((function(e,t){return e-t}));for(var r=0,a=0;a<o.length;a++){var s=o[Number.parseInt(a.toString(),10)];t._offsets.length>0&&(r+=t._offsets[s+1]-t._offsets[Number.parseInt(s.toString(),10)])}var l=this._align(r);n=[];for(a=0;a<l;a++)n.push(0);var d=0,h=0,A=this._getTable("glyf");for(a=0;a<t._offsets.length;a++)if(i.push(d),h<o.length&&o[Number.parseInt(h.toString(),10)]===a){++h,i[Number.parseInt(a.toString(),10)]=d;var p=t._offsets[Number.parseInt(a.toString(),10)],c=t._offsets[a+1]-p;if(c>0)this._offset=A._offset+p,n=this._read(n,d,c).buffer,d+=c}return{glyphTableSize:r,newLocaTable:i,newGlyphTable:n}},e.prototype._readLocaTable=function(e){var t=this._getTable("loca");this._offset=t._offset;var i=new ji,n=[];if(e){var o=t._length/2;n=[];for(var r=0;r<o;r++)n[Number.parseInt(r.toString(),10)]=2*this._readUInt16(this._offset)}else{o=t._length/4;n=[];for(r=0;r<o;r++)n[Number.parseInt(r.toString(),10)]=this._readUInt32(this._offset)}return i._offsets=n,i},e.prototype._updateGlyphChars=function(e,t){e.containsKey(0)||e.setValue(0,0);for(var i=new Ma,n=e.keys(),o=0;o<n.length;o++)i.setValue(n[Number.parseInt(o.toString(),10)],e.getValue(n[Number.parseInt(o.toString(),10)]));for(o=0;o<n.length;o++){var r=n[Number.parseInt(o.toString(),10)];this._processCompositeGlyph(e,r,t)}},e.prototype._processCompositeGlyph=function(e,t,i){if(t<i._offsets.length-1){var n=i._offsets[Number.parseInt(t.toString(),10)];if(n!==i._offsets[t+1]){var o=this._getTable("glyf");this._offset=o._offset+n;var r=new Gi;if(r.numberOfContours=this._readInt16(this._offset),r.xMin=this._readInt16(this._offset),r.yMin=this._readInt16(this._offset),r.xMax=this._readInt16(this._offset),r.yMax=this._readInt16(this._offset),r.numberOfContours<0)for(var a=0;;){var s=this._readUInt16(this._offset),l=this._readUInt16(this._offset);if(e.containsKey(l)||e.setValue(l,0),!(s&Vt.MoreComponents))break;a=s&Vt.Arg1And2AreWords?4:2,s&Vt.WeHaveScale?a+=2:s&Vt.WeHaveAnXyScale?a+=4:s&Vt.WeHaveTwoByTwo&&(a+=8),this._offset+=a}}}},e.prototype._updateLocaTable=function(e,t){for(var i=t?2*e.length:4*e.length,n=this._align(i),o=new Ji(n),r=0;r<e.length;r++){var a=e[Number.parseInt(r.toString(),10)];t?(a/=2,o._writeShort(a)):o._writeInt(a)}return{newLocaUpdated:o._data,newLocaSize:i}},e.prototype._align=function(e){return e+3&-4},e.prototype._getFontProgram=function(e,t,i,n){var o=this._getFontProgramLength(e,t,0),r=o.fontProgramLength,a=o.table,s=new Ji(r);s._writeInt(65536),s._writeShort(a);var l=this._entrySelectors[Number.parseInt(a.toString(),10)];return s._writeShort(16*(1<<(31&l))),s._writeShort(l),s._writeShort(16*(a-(1<<(31&l)))),this._writeCheckSums(s,a,e,t,i,n),this._writeGlyphs(s,e,t),s._data},e.prototype._getFontProgramLength=function(e,t,i){var n=0;if(null!=e&&e.length>0&&null!=t&&t.length>0){i=2;for(var o=this._tableNames,r=0;r<o.length;r++){var a=o[Number.parseInt(r.toString(),10)];if("glyf"!==a&&"loca"!==a){var s=this._getTable(a);s._empty||(++i,n+=this._align(s._length))}}n+=e.length,n+=t.length,n+=16*i+12}return{fontProgramLength:n,table:i}},e.prototype._getGlyphChars=function(e){var t=new Ma;if(null!=e)for(var i=e.keys(),n=0;n<i.length;n++){var o=i[Number.parseInt(n.toString(),10)],r=this._getGlyph(o);r._empty||t.setValue(r._index,o.charCodeAt(0))}return t},e.prototype._writeCheckSums=function(e,t,i,n,o,r){if(null!=e&&null!=i&&i.length>0&&null!=n&&n.length>0)for(var a=this._tableNames,s=16*t+12,l=0,d=0;d<a.length;d++){var h=a[Number.parseInt(d.toString(),10)],A=this._getTable(h);if(!A._empty){if(e._writeString(h),"glyf"===h){var p=this._calculateCheckSum(n);e._writeInt(p),l=o}else if("loca"===h){p=this._calculateCheckSum(i);e._writeInt(p),l=r}else e._writeInt(A._checksum),l=A._length;e._writeUInt(s),e._writeUInt(l),s+=this._align(l)}}},e.prototype._calculateCheckSum=function(e){var t=0,i=0,n=0,o=0,r=0,a=0;if(null!=e&&e.length>0){for(var s=0;s<(e.length+1)/4;s++)r+=255&e[t++],o+=255&e[t++],n+=255&e[t++],i+=255&e[t++];a=i,a+=n<<8,a+=o<<16,a+=r<<24}return a},e.prototype._writeGlyphs=function(e,t,i){if(null!=e&&null!=t&&t.length>0&&null!=i&&i.length>0)for(var n=this._tableNames,o=0;o<n.length;o++){var r=n[Number.parseInt(o.toString(),10)],a=this._getTable(r);if(!a._empty)if("glyf"===r)e._writeBytes(i);else if("loca"===r)e._writeBytes(t);else{for(var s=this._align(a._length),l=[],d=0;d<s;d++)l.push(0);this._offset=a._offset;var h=this._read(l,0,a._length);e._writeBytes(h.buffer)}}},e.prototype._read=function(e,t,i){var n=0;if(null!=e&&e.length>0){var o=0;do{for(var r=0;r<i-n&&this._offset+r<this._fontData.length;r++)e[t+r]=this._fontData[this._offset+r];o=i-n,this._offset+=o,n+=o}while(n<i)}return{buffer:e,written:n}},e.prototype._createInternals=function(){this._metrics=new zi;var e=this._readNameTable(),t=this._readHeadTable();this._bIsLocaShort=0===t._indexToLocalFormat;var i=this._readHorizontalHeaderTable(),n=this._readOS2Table(),o=this._readPostTable();this._width=this._readWidthTable(i._numberOfHMetrics,t._unitsPerEm);var r=this._readCmapTable();this._initializeMetrics(e,t,i,n,o,r)},e.prototype._getGlyph=function(e){if("number"==typeof e){var t=null;return this._metrics._isSymbol||null===this._microsoftGlyphs?this._metrics._isSymbol&&null!==this._macintoshGlyphs&&this._macintoshGlyphs.containsKey(e)&&(t=this._macintoshGlyphs.getValue(e)):this._microsoftGlyphs.containsKey(e)&&(t=this._microsoftGlyphs.getValue(e)),null!==t?t:this._getDefaultGlyph()}var i=null,n=e.charCodeAt(0);return this._metrics._isSymbol||null===this._microsoft?(this._metrics._isSymbol&&null!==this.macintosh||this._isMacFont)&&(0!==this._maxMacIndex?n%=this._maxMacIndex+1:n=61440==(65280&n)?255&n:n,this.macintosh.containsKey(n)&&(i=this.macintosh.getValue(n),this._isFontPresent=!0)):this._microsoft.containsKey(n)?(i=this._microsoft.getValue(n),n!==_i._whiteSpace.charCodeAt(0)&&(this._isFontPresent=!0)):n!==_i._whiteSpace.charCodeAt(0)&&(this._isFontPresent=!1),e===_i._whiteSpace&&null===i&&(i=new Yi),null!==i?i:this._getDefaultGlyph()},e.prototype._readString=function(e,t){if(null==t)return this._readString(e,!1);var i="";if(t)for(var n=0;n<e;n++)n%2!=0&&(i+=String.fromCharCode(this._fontData[this._offset])),this._offset+=1;else for(n=0;n<e;n++)i+=String.fromCharCode(this._fontData[this._offset]),this._offset+=1;return i},e.prototype._readFixed=function(e){return this._readInt16(e)+this._readInt16(e+2)/16384},e.prototype._readInt32=function(e){var t=this._fontData[Number.parseInt(e.toString(),10)+3],i=this._fontData[Number.parseInt(e.toString(),10)+2],n=this._fontData[Number.parseInt(e.toString(),10)+1],o=this._fontData[Number.parseInt(e.toString(),10)];return this._offset+=4,t+(i<<8)+(n<<16)+(o<<24)},e.prototype._readUInt32=function(e){var t=this._fontData[Number.parseInt(e.toString(),10)+3],i=this._fontData[Number.parseInt(e.toString(),10)+2],n=this._fontData[Number.parseInt(e.toString(),10)+1],o=this._fontData[Number.parseInt(e.toString(),10)];return this._offset+=4,t|i<<8|n<<16|o<<24},e.prototype._readInt16=function(e){var t=(this._fontData[Number.parseInt(e.toString(),10)]<<8)+this._fontData[Number.parseInt(e.toString(),10)+1];return t=32768&t?t-65536:t,this._offset+=2,t},e.prototype._readInt64=function(e){var t=this._readInt32(e+4),i=4294967296*this._readInt32(e)+t;return t<0&&(i+=4294967296),i},e.prototype._readUInt16=function(e){var t=this._fontData[Number.parseInt(e.toString(),10)]<<8|this._fontData[Number.parseInt(e.toString(),10)+1];return this._offset+=2,t},e.prototype._readUShortArray=function(e){for(var t=[],i=0;i<e;i++)t[Number.parseInt(i.toString(),10)]=this._readUInt16(this._offset);return t},e.prototype._readBytes=function(e){for(var t=[],i=0;i<e;i++)t.push(this._fontData[Number.parseInt(this._offset.toString(),10)]),this._offset+=1;return t},e.prototype._readByte=function(e){var t=this._fontData[Number.parseInt(e.toString(),10)];return this._offset+=1,t},e.prototype._getCharacterWidth=function(e){var t=this._getGlyph(e);return(t=t._empty?this._getDefaultGlyph():t)._empty?0:t._width},e.prototype._convertString=function(e){var t="";if(null!=e&&e.length>0)for(var i=0;i<e.length;i++){var n=e[Number.parseInt(i.toString(),10)],o=this._getGlyph(n);o._empty||(t+=String.fromCharCode(o._index))}return t},e}(),Ui=function(){},zi=function(){function e(){}return Object.defineProperty(e.prototype,"_isItalic",{get:function(){return!!(2&this._macStyle)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isBold",{get:function(){return!!(1&this._macStyle)},enumerable:!0,configurable:!0}),e}(),Hi=function(){},Yi=function(){function e(){}return Object.defineProperty(e.prototype,"_empty",{get:function(){return this._index===this._width&&this._width===this._charCode&&0===this._charCode},enumerable:!0,configurable:!0}),e}(),ji=function(){},Gi=function(){},Ji=function(){function e(e){this.int32Size=4,this.int16Size=2,this.int64Size=8,this._bufferLength=e,this._buffer=[]}return Object.defineProperty(e.prototype,"_data",{get:function(){if(this._buffer.length<this._bufferLength)for(var e=this._bufferLength-this._buffer.length,t=0;t<e;t++)this._buffer.push(0);return this._buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_position",{get:function(){return void 0!==this._internalPosition&&null!==this._internalPosition||(this._internalPosition=0),this._internalPosition},enumerable:!0,configurable:!0}),e.prototype._writeShort=function(e){var t=[(65280&e)>>8,255&e];this._flush(t)},e.prototype._writeInt=function(e){var t=[(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e];this._flush(t)},e.prototype._writeUInt=function(e){var t=[(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e];this._flush(t)},e.prototype._writeString=function(e){if(null!=e){for(var t=[],i=0;i<e.length;i++)t.push(e.charCodeAt(i));this._flush(t)}},e.prototype._writeBytes=function(e){this._flush(e)},e.prototype._flush=function(e){if(null!=e){for(var t=this._position,i=0;i<e.length;i++)this._buffer[Number.parseInt(t.toString(),10)]=e[Number.parseInt(i.toString(),10)],t++;this._internalPosition+=e.length}},e}(),Ki=function(){function e(e,t){if(this._nameString="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this._isEmbedFont=!1,this._cmapPrefix="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\r\n/CIDSystemInfo << /Registry (Adobe)/Ordering (UCS)/Supplement 0>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 beginCodeSpacerange\r\n",this._cmapEndCodeSpaceRange="endCodeSpacerange\r\n",this._cmapBeginRange="beginbfrange\r\n",this._cmapEndRange="endbfrange\r\n",this._cmapSuffix="endbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend end\r\n",null==e)throw new Error("ArgumentNullException:base64String");this._fontSize=t,this._fontString=e,this._Initialize()}return e.prototype._beginSave=function(){this._descendantFontBeginSave(),this._cmapBeginSave(),this._fontDictionaryBeginSave(),this._fontProgramBeginSave(),this._fontDescriptor&&(this._fontDescriptor.update("FontFile2",this._fontProgram),this._fontDescriptor._updated=!0,this._fontDescriptor._isFont=!0)},e.prototype._descendantFontBeginSave=function(){if(null!==this._usedChars&&void 0!==this._usedChars&&this._usedChars._size()>0){var e=this._getDescendantWidth();null!==e&&this._descendantFont.set("W",e)}},e.prototype._fontDictionaryBeginSave=function(){null!==this._usedChars&&void 0!==this._usedChars&&this._usedChars._size()>0&&this._fontDictionary.update("ToUnicode",this._cmap)},e.prototype._Initialize=function(){var e=br(this._fontString);this._fontData=e,this._ttfReader=new Oi(this._fontData),this._ttfMetrics=this._ttfReader._metrics},e.prototype._createInternals=function(){this._fontDictionary=new Va,this._descendantFont=new Va,this._metrics=new ui,this._ttfReader._createInternals(),this._usedChars=null;var e=[];this._fontProgram=new Pa(e,new Va),this._cmap=new Pa(e,new Va),this._ttfMetrics=this._ttfReader._metrics,this._initializeMetrics(),this._subsetName=this._getFontName(),this._createDescendantFont(),this._createFontDictionary()},e.prototype._getInternals=function(){return this._fontDictionary},e.prototype._initializeMetrics=function(){var e=this._ttfReader._metrics;this._metrics._ascent=e._macAscent,this._metrics._descent=e._macDescent,this._metrics._height=e._macAscent-e._macDescent+e._lineGap,this._metrics._name=e._fontFamily,this._metrics._postScriptName=e._postScriptName,this._metrics._size=this._fontSize,this._metrics._widthTable=new mi(e._widthTable),this._metrics._lineGap=e._lineGap,this._metrics._subScriptSizeFactor=e._subScriptSizeFactor,this._metrics._superscriptSizeFactor=e._superscriptSizeFactor,this._metrics._isBold=e._isBold},e.prototype._getFontName=function(){for(var e="",t=0;t<6;t++){var i=Math.floor(26*Math.random())+0;e+=this._nameString[Number.parseInt(i.toString(),10)]}return e+="+",(e+=this._ttfReader._metrics._postScriptName).toString()},e.prototype._createDescendantFont=function(){this._descendantFont=new Va,this._descendantFont._updated=!0,this._descendantFont.set("Type",new va("Font")),this._descendantFont.set("Subtype",new va("CIDFontType2")),this._descendantFont.set("BaseFont",new va(this._subsetName)),this._descendantFont.set("CIDToGIDMap",new va("Identity")),this._descendantFont.set("DW",1e3),this._fontDescriptor=this._createFontDescriptor(),this._descendantFont.set("FontDescriptor",this._fontDescriptor);var e=this._createSystemInfo();this._descendantFont.set("CIDSystemInfo",e),this._descendantFont._isFont=!0},e.prototype._createFontDescriptor=function(){var e=new Va,t=this._ttfReader._metrics;return e.set("Type",new va("FontDescriptor")),e.set("FontName",new va(this._subsetName)),e.set("Flags",this._getDescriptorFlags()),e.set("FontBBox",this._getBoundBox()),e.set("MissingWidth",t._widthTable[32]),e.set("StemV",t._stemV),e.set("ItalicAngle",t._italicAngle),e.set("CapHeight",t._capHeight),e.set("Ascent",t._winAscent),e.set("Descent",t._winDescent),e.set("Leading",t._leading),e.set("AvgWidth",t._widthTable[32]),e.set("MaxWidth",t._widthTable[32]),e.set("XHeight",0),e.set("StemH",0),e._updated=!0,e},e.prototype._generateFontProgram=function(){var e;this._usedChars=null===this._usedChars||void 0===this._usedChars?new Ma:this._usedChars,this._ttfReader._setOffset(0),e=this._ttfReader._readFontProgram(this._usedChars),this._fontProgram._clearStream(),this._fontProgram._writeBytes(e)},e.prototype._getBoundBox=function(){var e=this._ttfReader._metrics._fontBox,t=Math.abs(e[2]-e[0]),i=Math.abs(e[1]-e[3]);return[e[0],e[3],t,i]},e.prototype._cmapBeginSave=function(){this._generateCmap()},e.prototype._fontProgramBeginSave=function(){this._generateFontProgram()},e.prototype._toHexString=function(e,t){var i=e.toString(16);return t&&(i=i.toUpperCase()),"<0000".substring(0,5-i.length)+i+">"},e.prototype._generateCmap=function(){if(null!==this._usedChars&&void 0!==this._usedChars&&this._usedChars._size()>0){var e=this._ttfReader._getGlyphChars(this._usedChars);if(e._size()>0){var t=e.keys().sort(),i=t[0],n=t[t.length-1],o=this._toHexString(i,!1)+this._toHexString(n,!1)+"\r\n",r="";r+=this._cmapPrefix,r+=o,r+=this._cmapEndCodeSpaceRange;for(var a=0,s=0;s<t.length;s++){0===a&&(0!==s&&(r+=this._cmapEndRange),r+=a=Math.min(100,t.length-s),r+=" ",r+=this._cmapBeginRange),a-=1;var l=t[Number.parseInt(s.toString(),10)];r+=this._toHexString(l,!0)+this._toHexString(l,!0),r+=this._toHexString(e.getValue(l),!0)+"\n"}r+=this._cmapSuffix,this._cmap._clearStream(),this._cmap._write(r)}}},e.prototype._createFontDictionary=function(){this._fontDictionary._updated=!0,this._fontDictionary.set("Type",va.get("Font")),this._fontDictionary.set("Subtype",va.get("Type0")),this._fontDictionary.set("BaseFont",new va(this._subsetName)),this._fontDictionary.set("Encoding",va.get("Identity-H")),this._fontDictionary.set("DescendantFonts",this._descendantFont),this._fontDictionary._isFont=!0,this._fontDictionary._currentObj=this},e.prototype._createSystemInfo=function(){var e=new Va;return e._updated=!0,e.set("Registry","Adobe"),e.set("Ordering","Identity"),e.set("Supplement",0),e},e.prototype._getDescriptorFlags=function(){var e=0,t=this._ttfReader._metrics;return t._isFixedPitch&&(e|=vt.fixedPitch),t._isSymbol?e|=vt.symbolic:e|=vt.nonSymbolic,t._isItalic&&(e|=vt.italic),t._isBold&&(e|=vt.forceBold),e},e.prototype._getCharacterWidth=function(e){return this._ttfReader._getCharacterWidth(e)},e.prototype._setSymbols=function(e){if(null!=e){null!==this._usedChars&&void 0!==this._usedChars||(this._usedChars=new Ma);for(var t=0;t<e.length;t++){var i=e[Number.parseInt(t.toString(),10)];this._usedChars.setValue(i,String.fromCharCode(0))}}},e.prototype._getDescendantWidth=function(){var e=new Array;if(null!==this._usedChars&&void 0!==this._usedChars&&this._usedChars._size()>0){for(var t=[],i=this._usedChars.keys(),n=0;n<i.length;n++){var o=i[Number.parseInt(n.toString(),10)],r=this._ttfReader._getGlyph(o);t.push(r)}t.sort((function(e,t){return e._index-t._index}));var a=0,s=0,l=!1,d=new Array;for(n=0;n<t.length;n++){r=t[Number.parseInt(n.toString(),10)];l||(l=!0,a=r._index,s=r._index-1),(s+1!==r._index||n+1===t.length)&&t.length>1&&(e.push(Number(a)),0!==n&&e.push(d),a=r._index,d=new Array),d.push(Number(r._width)),n+1===t.length&&(e.push(Number(a)),e.push(d)),s=r._index}}return e},e}(),Wi=function(){function e(){this._arabicCharTable=[["",""],["","",""],["","",""],["","",""],["","",""],["","","","",""],["","",""],["","","","",""],["","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","",""],["","",""],["","",""],["","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","",""],["","","","",""],["","","","",""],["","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","","","",""],["","",""],["","","","",""],["","","","",""],["","",""],["","","","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","",""],["","","","",""],["","","","",""],["","",""],["","",""]],this._alef="",this._alefHamza="",this._alefHamzaBelow="",this._alefMadda="",this._lam="",this._hamza="",this._zeroWidthJoiner="",this._hamzaAbove="",this._hamzaBelow="",this._wawHamza="",this._yehHamza="",this._waw="",this._alefsura="",this._yeh="",this._farsiYeh="",this._shadda="",this._madda="",this._lwa="",this._lwawh="",this._lwawhb="",this._lwawm="",this._bwhb="",this._fathatan="",this._superalef="",this._vowel=1,this._arabicMapTable=new Map;for(var e=0;e<this._arabicCharTable.length;e++)this._arabicMapTable.set(this._arabicCharTable[Number.parseInt(e.toString(),10)][0],this._arabicCharTable[Number.parseInt(e.toString(),10)])}return e.prototype._getCharacterShape=function(e,t){if(e>=this._hamza&&e<=this._bwhb){if(this._arabicMapTable.get(e))return this._arabicMapTable.get(e)[t+1]}else if(e>=this._lwawm&&e<=this._lwa)return e;return e},e.prototype._shape=function(e){for(var t="",i="",n=0;n<e.length;n++){var o=e[Number.parseInt(n.toString(),10)];if(o>=""&&o<="")i+=o;else{if(i.length>0)t+=this._doShape(i.toString(),0),i="";t+=o}}i.length>0&&(t+=this._doShape(i.toString(),0));return t.toString()},e.prototype._doShape=function(e,t){for(var i="",n=0,o=0,r="",a=new Xi,s=new Xi;o<e.length;)if(r=e[o++],0===this._ligature(r,s)){var l=this._getShapeCount(r);n=1===l?0:2,a._shapes>2&&(n+=1),n%=s._shapes,s._shapeValue=this._getCharacterShape(s._shapeValue,n),i=this._append(i,a,t),a=s,(s=new Xi)._shapeValue=r,s._shapes=l,s._shapeLigature++}return n=a._shapes>2?1:0,n%=s._shapes,s._shapeValue=this._getCharacterShape(s._shapeValue,n),i=this._append(i,a,t),(i=this._append(i,s,t)).toString()},e.prototype._append=function(e,t,i){return""!==t._shapeValue&&(e+=t._shapeValue,t._shapeLigature-=1,""!==t._shapeType&&(i&this._vowel||(e+=t._shapeType),t._shapeLigature-=1),""!==t._shapeVowel&&(i&this._vowel||(e+=t._shapeVowel),t._shapeLigature-=1)),e},e.prototype._ligature=function(e,t){if(""!==t._shapeValue){var i=0;if(e>=this._fathatan&&e<=this._hamzaBelow||e===this._superalef){if(i=1,""!==t._shapeVowel&&e!==this._shadda&&(i=2),e===this._shadda){if(""!==t._shapeType)return 0;t._shapeType=this._shadda}else e===this._hamzaBelow?t._shapeValue===this._alef?(t._shapeValue=this._alefHamzaBelow,i=2):t._shapeValue===this._lwa?(t._shapeValue=this._lwawhb,i=2):t._shapeType=this._hamzaBelow:e===this._hamzaAbove?t._shapeValue===this._alef?(t._shapeValue=this._alefHamza,i=2):t._shapeValue===this._lwa?(t._shapeValue=this._lwawh,i=2):t._shapeValue===this._waw?(t._shapeValue=this._wawHamza,i=2):t._shapeValue===this._yeh||t._shapeValue===this._alefsura||t._shapeValue===this._farsiYeh?(t._shapeValue=this._yehHamza,i=2):t._shapeType=this._hamzaAbove:e===this._madda?t._shapeValue===this._alef&&(t._shapeValue=this._alefMadda,i=2):t._shapeVowel=e;return 1===i&&t._shapeLigature++,i}return""!==t._shapeVowel?0:(t._shapeValue===this._lam&&(e===this._alef?(t._shapeValue=this._lwa,t._shapes=2,i=3):e===this._alefHamza?(t._shapeValue=this._lwawh,t._shapes=2,i=3):e===this._alefHamzaBelow?(t._shapeValue=this._lwawhb,t._shapes=2,i=3):e===this._alefMadda&&(t._shapeValue=this._lwawm,t._shapes=2,i=3)),i)}return 0},e.prototype._getShapeCount=function(e){if(e>=this._hamza&&e<=this._bwhb&&!(e>=this._fathatan&&e<=this._hamzaBelow||e===this._superalef)){if(this._arabicMapTable.get(e))return this._arabicMapTable.get(e).length-1}else if(e===this._zeroWidthJoiner)return 4;return 1},e}(),Xi=function(){this._shapeValue="",this._shapeType="",this._shapeVowel="",this._shapeLigature=0,this._shapes=1},Zi=function(){function e(){this._indexes=[],this._indexLevels=[],this._mirroringShape=new Ma,this._update()}return e.prototype._doMirrorShaping=function(e){for(var t=[],i=0;i<e.length;i++)if(1&~this._indexLevels[Number.parseInt(i.toString(),10)]||!this._mirroringShape.containsKey(e[Number.parseInt(i.toString(),10)].charCodeAt(0)))t[Number.parseInt(i.toString(),10)]=e[Number.parseInt(i.toString(),10)].toString();else{var n=e[Number.parseInt(i.toString(),10)].charCodeAt(0);t[Number.parseInt(i.toString(),10)]=String.fromCharCode(this._mirroringShape.getValue(n))}for(var o="",r=0;r<t.length;r++)o+=t[Number.parseInt(r.toString(),10)];return o},e.prototype._getLogicalToVisualString=function(e,t){var i=new qi;this._indexLevels=i._getVisualOrder(e,t),this._setDefaultIndexLevel(),this._doOrder(0,this._indexLevels.length-1);for(var n=this._doMirrorShaping(e),o="",r=0;r<this._indexes.length;r++){var a=this._indexes[Number.parseInt(r.toString(),10)];o+=n[Number.parseInt(a.toString(),10)]}return o.toString()},e.prototype._setDefaultIndexLevel=function(){for(var e=0;e<this._indexLevels.length;e++)this._indexes[Number.parseInt(e.toString(),10)]=e},e.prototype._doOrder=function(e,t){for(var i=this._indexLevels[Number.parseInt(e.toString(),10)],n=i,o=i,r=i,a=e+1;a<=t;++a){var s=this._indexLevels[Number.parseInt(a.toString(),10)];s>i?i=s:s<n&&(n=s),o&=s,r|=s}if(1&r)if(1&~o)for(n|=1;i>=n;){for(var l=e;;){for(;l<=t&&!(this._indexLevels[Number.parseInt(l.toString(),10)]>=i);)l+=1;if(l>t)break;for(var d=l+1;d<=t&&!(this._indexLevels[Number.parseInt(d.toString(),10)]<i);)d+=1;this._reArrange(l,d),l=d+1}i-=1}else this._reArrange(e,t+1)},e.prototype._reArrange=function(e,t){var i=(e+t)/2;for(--t;e<i;++e,--t){var n=this._indexes[Number.parseInt(e.toString(),10)];this._indexes[Number.parseInt(e.toString(),10)]=this._indexes[Number.parseInt(t.toString(),10)],this._indexes[Number.parseInt(t.toString(),10)]=n}},e.prototype._update=function(){this._mirroringShape.setValue(40,41),this._mirroringShape.setValue(41,40),this._mirroringShape.setValue(60,62),this._mirroringShape.setValue(62,60),this._mirroringShape.setValue(91,93),this._mirroringShape.setValue(93,91),this._mirroringShape.setValue(123,125),this._mirroringShape.setValue(125,123),this._mirroringShape.setValue(171,187),this._mirroringShape.setValue(187,171),this._mirroringShape.setValue(8249,8250),this._mirroringShape.setValue(8250,8249),this._mirroringShape.setValue(8261,8262),this._mirroringShape.setValue(8262,8261),this._mirroringShape.setValue(8317,8318),this._mirroringShape.setValue(8318,8317),this._mirroringShape.setValue(8333,8334),this._mirroringShape.setValue(8334,8333),this._mirroringShape.setValue(8712,8715),this._mirroringShape.setValue(8713,8716),this._mirroringShape.setValue(8714,8717),this._mirroringShape.setValue(8715,8712),this._mirroringShape.setValue(8716,8713),this._mirroringShape.setValue(8717,8714),this._mirroringShape.setValue(8725,10741),this._mirroringShape.setValue(8764,8765),this._mirroringShape.setValue(8765,8764),this._mirroringShape.setValue(8771,8909),this._mirroringShape.setValue(8786,8787),this._mirroringShape.setValue(8787,8786),this._mirroringShape.setValue(8788,8789),this._mirroringShape.setValue(8789,8788),this._mirroringShape.setValue(8804,8805),this._mirroringShape.setValue(8805,8804),this._mirroringShape.setValue(8806,8807),this._mirroringShape.setValue(8807,8806),this._mirroringShape.setValue(8808,8809),this._mirroringShape.setValue(8809,8808),this._mirroringShape.setValue(8810,8811),this._mirroringShape.setValue(8811,8810),this._mirroringShape.setValue(8814,8815),this._mirroringShape.setValue(8815,8814),this._mirroringShape.setValue(8816,8817),this._mirroringShape.setValue(8817,8816),this._mirroringShape.setValue(8818,8819),this._mirroringShape.setValue(8819,8818),this._mirroringShape.setValue(8820,8821),this._mirroringShape.setValue(8821,8820),this._mirroringShape.setValue(8822,8823),this._mirroringShape.setValue(8823,8822),this._mirroringShape.setValue(8824,8825),this._mirroringShape.setValue(8825,8824),this._mirroringShape.setValue(8826,8827),this._mirroringShape.setValue(8827,8826),this._mirroringShape.setValue(8828,8829),this._mirroringShape.setValue(8829,8828),this._mirroringShape.setValue(8830,8831),this._mirroringShape.setValue(8831,8830),this._mirroringShape.setValue(8832,8833),this._mirroringShape.setValue(8833,8832),this._mirroringShape.setValue(8834,8835),this._mirroringShape.setValue(8835,8834),this._mirroringShape.setValue(8836,8837),this._mirroringShape.setValue(8837,8836),this._mirroringShape.setValue(8838,8839),this._mirroringShape.setValue(8839,8838),this._mirroringShape.setValue(8840,8841),this._mirroringShape.setValue(8841,8840),this._mirroringShape.setValue(8842,8843),this._mirroringShape.setValue(8843,8842),this._mirroringShape.setValue(8847,8848),this._mirroringShape.setValue(8848,8847),this._mirroringShape.setValue(8849,8850),this._mirroringShape.setValue(8850,8849),this._mirroringShape.setValue(8856,10680),this._mirroringShape.setValue(8866,8867),this._mirroringShape.setValue(8867,8866),this._mirroringShape.setValue(8870,10974),this._mirroringShape.setValue(8872,10980),this._mirroringShape.setValue(8873,10979),this._mirroringShape.setValue(8875,10981),this._mirroringShape.setValue(8880,8881),this._mirroringShape.setValue(8881,8880),this._mirroringShape.setValue(8882,8883),this._mirroringShape.setValue(8883,8882),this._mirroringShape.setValue(8884,8885),this._mirroringShape.setValue(8885,8884),this._mirroringShape.setValue(8886,8887),this._mirroringShape.setValue(8887,8886),this._mirroringShape.setValue(8905,8906),this._mirroringShape.setValue(8906,8905),this._mirroringShape.setValue(8907,8908),this._mirroringShape.setValue(8908,8907),this._mirroringShape.setValue(8909,8771),this._mirroringShape.setValue(8912,8913),this._mirroringShape.setValue(8913,8912),this._mirroringShape.setValue(8918,8919),this._mirroringShape.setValue(8919,8918),this._mirroringShape.setValue(8920,8921),this._mirroringShape.setValue(8921,8920),this._mirroringShape.setValue(8922,8923),this._mirroringShape.setValue(8923,8922),this._mirroringShape.setValue(8924,8925),this._mirroringShape.setValue(8925,8924),this._mirroringShape.setValue(8926,8927),this._mirroringShape.setValue(8927,8926),this._mirroringShape.setValue(8928,8929),this._mirroringShape.setValue(8929,8928),this._mirroringShape.setValue(8930,8931),this._mirroringShape.setValue(8931,8930),this._mirroringShape.setValue(8932,8933),this._mirroringShape.setValue(8933,8932),this._mirroringShape.setValue(8934,8935),this._mirroringShape.setValue(8935,8934),this._mirroringShape.setValue(8936,8937),this._mirroringShape.setValue(8937,8936),this._mirroringShape.setValue(8938,8939),this._mirroringShape.setValue(8939,8938),this._mirroringShape.setValue(8940,8941),this._mirroringShape.setValue(8941,8940),this._mirroringShape.setValue(8944,8945),this._mirroringShape.setValue(8945,8944),this._mirroringShape.setValue(8946,8954),this._mirroringShape.setValue(8947,8955),this._mirroringShape.setValue(8948,8956),this._mirroringShape.setValue(8950,8957),this._mirroringShape.setValue(8951,8958),this._mirroringShape.setValue(8954,8946),this._mirroringShape.setValue(8955,8947),this._mirroringShape.setValue(8956,8948),this._mirroringShape.setValue(8957,8950),this._mirroringShape.setValue(8958,8951),this._mirroringShape.setValue(8968,8969),this._mirroringShape.setValue(8969,8968),this._mirroringShape.setValue(8970,8971),this._mirroringShape.setValue(8971,8970),this._mirroringShape.setValue(9001,9002),this._mirroringShape.setValue(9002,9001),this._mirroringShape.setValue(10088,10089),this._mirroringShape.setValue(10089,10088),this._mirroringShape.setValue(10090,10091),this._mirroringShape.setValue(10091,10090),this._mirroringShape.setValue(10092,10093),this._mirroringShape.setValue(10093,10092),this._mirroringShape.setValue(10094,10095),this._mirroringShape.setValue(10095,10094),this._mirroringShape.setValue(10096,10097),this._mirroringShape.setValue(10097,10096),this._mirroringShape.setValue(10098,10099),this._mirroringShape.setValue(10099,10098),this._mirroringShape.setValue(10100,10101),this._mirroringShape.setValue(10101,10100),this._mirroringShape.setValue(10197,10198),this._mirroringShape.setValue(10198,10197),this._mirroringShape.setValue(10205,10206),this._mirroringShape.setValue(10206,10205),this._mirroringShape.setValue(10210,10211),this._mirroringShape.setValue(10211,10210),this._mirroringShape.setValue(10212,10213),this._mirroringShape.setValue(10213,10212),this._mirroringShape.setValue(10214,10215),this._mirroringShape.setValue(10215,10214),this._mirroringShape.setValue(10216,10217),this._mirroringShape.setValue(10217,10216),this._mirroringShape.setValue(10218,10219),this._mirroringShape.setValue(10219,10218),this._mirroringShape.setValue(10627,10628),this._mirroringShape.setValue(10628,10627),this._mirroringShape.setValue(10629,10630),this._mirroringShape.setValue(10630,10629),this._mirroringShape.setValue(10631,10632),this._mirroringShape.setValue(10632,10631),this._mirroringShape.setValue(10633,10634),this._mirroringShape.setValue(10634,10633),this._mirroringShape.setValue(10635,10636),this._mirroringShape.setValue(10636,10635),this._mirroringShape.setValue(10637,10640),this._mirroringShape.setValue(10638,10639),this._mirroringShape.setValue(10639,10638),this._mirroringShape.setValue(10640,10637),this._mirroringShape.setValue(10641,10642),this._mirroringShape.setValue(10642,10641),this._mirroringShape.setValue(10643,10644),this._mirroringShape.setValue(10644,10643),this._mirroringShape.setValue(10645,10646),this._mirroringShape.setValue(10646,10645),this._mirroringShape.setValue(10647,10648),this._mirroringShape.setValue(10648,10647),this._mirroringShape.setValue(10680,8856),this._mirroringShape.setValue(10688,10689),this._mirroringShape.setValue(10689,10688),this._mirroringShape.setValue(10692,10693),this._mirroringShape.setValue(10693,10692),this._mirroringShape.setValue(10703,10704),this._mirroringShape.setValue(10704,10703),this._mirroringShape.setValue(10705,10706),this._mirroringShape.setValue(10706,10705),this._mirroringShape.setValue(10708,10709),this._mirroringShape.setValue(10709,10708),this._mirroringShape.setValue(10712,10713),this._mirroringShape.setValue(10713,10712),this._mirroringShape.setValue(10714,10715),this._mirroringShape.setValue(10715,10714),this._mirroringShape.setValue(10741,8725),this._mirroringShape.setValue(10744,10745),this._mirroringShape.setValue(10745,10744),this._mirroringShape.setValue(10748,10749),this._mirroringShape.setValue(10749,10748),this._mirroringShape.setValue(10795,10796),this._mirroringShape.setValue(10796,10795),this._mirroringShape.setValue(10797,10796),this._mirroringShape.setValue(10798,10797),this._mirroringShape.setValue(10804,10805),this._mirroringShape.setValue(10805,10804),this._mirroringShape.setValue(10812,10813),this._mirroringShape.setValue(10813,10812),this._mirroringShape.setValue(10852,10853),this._mirroringShape.setValue(10853,10852),this._mirroringShape.setValue(10873,10874),this._mirroringShape.setValue(10874,10873),this._mirroringShape.setValue(10877,10878),this._mirroringShape.setValue(10878,10877),this._mirroringShape.setValue(10879,10880),this._mirroringShape.setValue(10880,10879),this._mirroringShape.setValue(10881,10882),this._mirroringShape.setValue(10882,10881),this._mirroringShape.setValue(10883,10884),this._mirroringShape.setValue(10884,10883),this._mirroringShape.setValue(10891,10892),this._mirroringShape.setValue(10892,10891),this._mirroringShape.setValue(10897,10898),this._mirroringShape.setValue(10898,10897),this._mirroringShape.setValue(10899,10900),this._mirroringShape.setValue(10900,10899),this._mirroringShape.setValue(10901,10902),this._mirroringShape.setValue(10902,10901),this._mirroringShape.setValue(10903,10904),this._mirroringShape.setValue(10904,10903),this._mirroringShape.setValue(10905,10906),this._mirroringShape.setValue(10906,10905),this._mirroringShape.setValue(10907,10908),this._mirroringShape.setValue(10908,10907),this._mirroringShape.setValue(10913,10914),this._mirroringShape.setValue(10914,10913),this._mirroringShape.setValue(10918,10919),this._mirroringShape.setValue(10919,10918),this._mirroringShape.setValue(10920,10921),this._mirroringShape.setValue(10921,10920),this._mirroringShape.setValue(10922,10923),this._mirroringShape.setValue(10923,10922),this._mirroringShape.setValue(10924,10925),this._mirroringShape.setValue(10925,10924),this._mirroringShape.setValue(10927,10928),this._mirroringShape.setValue(10928,10927),this._mirroringShape.setValue(10931,10932),this._mirroringShape.setValue(10932,10931),this._mirroringShape.setValue(10939,10940),this._mirroringShape.setValue(10940,10939),this._mirroringShape.setValue(10941,10942),this._mirroringShape.setValue(10942,10941),this._mirroringShape.setValue(10943,10944),this._mirroringShape.setValue(10944,10943),this._mirroringShape.setValue(10945,10946),this._mirroringShape.setValue(10946,10945),this._mirroringShape.setValue(10947,10948),this._mirroringShape.setValue(10948,10947),this._mirroringShape.setValue(10949,10950),this._mirroringShape.setValue(10950,10949),this._mirroringShape.setValue(10957,10958),this._mirroringShape.setValue(10958,10957),this._mirroringShape.setValue(10959,10960),this._mirroringShape.setValue(10960,10959),this._mirroringShape.setValue(10961,10962),this._mirroringShape.setValue(10962,10961),this._mirroringShape.setValue(10963,10964),this._mirroringShape.setValue(10964,10963),this._mirroringShape.setValue(10965,10966),this._mirroringShape.setValue(10966,10965),this._mirroringShape.setValue(10974,8870),this._mirroringShape.setValue(10979,8873),this._mirroringShape.setValue(10980,8872),this._mirroringShape.setValue(10981,8875),this._mirroringShape.setValue(10988,10989),this._mirroringShape.setValue(10989,10988),this._mirroringShape.setValue(10999,11e3),this._mirroringShape.setValue(11e3,10999),this._mirroringShape.setValue(11001,11002),this._mirroringShape.setValue(11002,11001),this._mirroringShape.setValue(12296,12297),this._mirroringShape.setValue(12297,12296),this._mirroringShape.setValue(12298,12299),this._mirroringShape.setValue(12299,12298),this._mirroringShape.setValue(12300,12301),this._mirroringShape.setValue(12301,12300),this._mirroringShape.setValue(12302,12303),this._mirroringShape.setValue(12303,12302),this._mirroringShape.setValue(12304,12305),this._mirroringShape.setValue(12305,12304),this._mirroringShape.setValue(12308,12309),this._mirroringShape.setValue(12309,12308),this._mirroringShape.setValue(12310,12311),this._mirroringShape.setValue(12311,12310),this._mirroringShape.setValue(12312,12313),this._mirroringShape.setValue(12313,12312),this._mirroringShape.setValue(12314,12315),this._mirroringShape.setValue(12315,12314),this._mirroringShape.setValue(65288,65289),this._mirroringShape.setValue(65289,65288),this._mirroringShape.setValue(65308,65310),this._mirroringShape.setValue(65310,65308),this._mirroringShape.setValue(65339,65341),this._mirroringShape.setValue(65341,65339),this._mirroringShape.setValue(65371,65373),this._mirroringShape.setValue(65373,65371),this._mirroringShape.setValue(65375,65376),this._mirroringShape.setValue(65376,65375),this._mirroringShape.setValue(65378,65379),this._mirroringShape.setValue(65379,65378)},e}(),qi=function(){function e(){this._type=[],this._textOrder=-1,this._rtlCharacterTypes=new Array(65536),this.L=0,this.lre=1,this.lro=2,this.R=3,this.AL=4,this.rle=5,this.rlo=6,this.pdf=7,this.EN=8,this.ES=9,this.ET=10,this.AN=11,this.CS=12,this.nsm=13,this.BN=14,this.B=15,this.S=16,this.WS=17,this.ON=18,this._charTypes=[this.L,this.EN,this.BN,this.ES,this.ES,this.S,this.ET,this.ET,this.B,this.AN,this.AN,this.S,this.CS,this.CS,this.WS,this.nsm,this.nsm,this.B,this.BN,27,this.BN,28,30,this.B,31,31,this.S,32,32,this.WS,33,34,this.ON,35,37,this.ET,38,42,this.ON,43,43,this.ET,44,44,this.CS,45,45,this.ET,46,46,this.CS,47,47,this.CS,48,57,this.EN,58,58,this.CS,59,64,this.ON,65,90,this.L,91,96,this.ON,97,122,this.L,123,126,this.ON,127,132,this.BN,133,133,this.B,134,159,this.BN,160,160,this.CS,161,161,this.ON,162,165,this.ET,166,169,this.ON,170,170,this.L,171,175,this.ON,176,177,this.ET,178,179,this.EN,180,180,this.ON,181,181,this.L,182,184,this.ON,185,185,this.EN,186,186,this.L,187,191,this.ON,192,214,this.L,215,215,this.ON,216,246,this.L,247,247,this.ON,248,696,this.L,697,698,this.ON,699,705,this.L,706,719,this.ON,720,721,this.L,722,735,this.ON,736,740,this.L,741,749,this.ON,750,750,this.L,751,767,this.ON,768,855,this.nsm,856,860,this.L,861,879,this.nsm,880,883,this.L,884,885,this.ON,886,893,this.L,894,894,this.ON,895,899,this.L,900,901,this.ON,902,902,this.L,903,903,this.ON,904,1013,this.L,1014,1014,this.ON,1015,1154,this.L,1155,1158,this.nsm,1159,1159,this.L,1160,1161,this.nsm,1162,1417,this.L,1418,1418,this.ON,1419,1424,this.L,1425,1441,this.nsm,1442,1442,this.L,1443,1465,this.nsm,1466,1466,this.L,1467,1469,this.nsm,1470,1470,this.R,1471,1471,this.nsm,1472,1472,this.R,1473,1474,this.nsm,1475,1475,this.R,1476,1476,this.nsm,1477,1487,this.L,1488,1514,this.R,1515,1519,this.L,1520,1524,this.R,1525,1535,this.L,1536,1539,this.AL,1540,1547,this.L,1548,1548,this.CS,1549,1549,this.AL,1550,1551,this.ON,1552,1557,this.nsm,1558,1562,this.L,1563,1563,this.AL,1564,1566,this.L,1567,1567,this.AL,1568,1568,this.L,1569,1594,this.AL,1595,1599,this.L,1600,1610,this.AL,1611,1624,this.nsm,1625,1631,this.L,1632,1641,this.AN,1642,1642,this.ET,1643,1644,this.AN,1645,1647,this.AL,1648,1648,this.nsm,1649,1749,this.AL,1750,1756,this.nsm,1757,1757,this.AL,1758,1764,this.nsm,1765,1766,this.AL,1767,1768,this.nsm,1769,1769,this.ON,1770,1773,this.nsm,1774,1775,this.AL,1776,1785,this.EN,1786,1805,this.AL,1806,1806,this.L,1807,1807,this.BN,1808,1808,this.AL,1809,1809,this.nsm,1810,1839,this.AL,1840,1866,this.nsm,1867,1868,this.L,1869,1871,this.AL,1872,1919,this.L,1920,1957,this.AL,1958,1968,this.nsm,1969,1969,this.AL,1970,2304,this.L,2305,2306,this.nsm,2307,2363,this.L,2364,2364,this.nsm,2365,2368,this.L,2369,2376,this.nsm,2377,2380,this.L,2381,2381,this.nsm,2382,2384,this.L,2385,2388,this.nsm,2389,2401,this.L,2402,2403,this.nsm,2404,2432,this.L,2433,2433,this.nsm,2434,2491,this.L,2492,2492,this.nsm,2493,2496,this.L,2497,2500,this.nsm,2501,2508,this.L,2509,2509,this.nsm,2510,2529,this.L,2530,2531,this.nsm,2532,2545,this.L,2546,2547,this.ET,2548,2560,this.L,2561,2562,this.nsm,2563,2619,this.L,2620,2620,this.nsm,2621,2624,this.L,2625,2626,this.nsm,2627,2630,this.L,2631,2632,this.nsm,2633,2634,this.L,2635,2637,this.nsm,2638,2671,this.L,2672,2673,this.nsm,2674,2688,this.L,2689,2690,this.nsm,2691,2747,this.L,2748,2748,this.nsm,2749,2752,this.L,2753,2757,this.nsm,2758,2758,this.L,2759,2760,this.nsm,2761,2764,this.L,2765,2765,this.nsm,2766,2785,this.L,2786,2787,this.nsm,2788,2800,this.L,2801,2801,this.ET,2802,2816,this.L,2817,2817,this.nsm,2818,2875,this.L,2876,2876,this.nsm,2877,2878,this.L,2879,2879,this.nsm,2880,2880,this.L,2881,2883,this.nsm,2884,2892,this.L,2893,2893,this.nsm,2894,2901,this.L,2902,2902,this.nsm,2903,2945,this.L,2946,2946,this.nsm,2947,3007,this.L,3008,3008,this.nsm,3009,3020,this.L,3021,3021,this.nsm,3022,3058,this.L,3059,3064,this.ON,3065,3065,this.ET,3066,3066,this.ON,3067,3133,this.L,3134,3136,this.nsm,3137,3141,this.L,3142,3144,this.nsm,3145,3145,this.L,3146,3149,this.nsm,3150,3156,this.L,3157,3158,this.nsm,3159,3259,this.L,3260,3260,this.nsm,3261,3275,this.L,3276,3277,this.nsm,3278,3392,this.L,3393,3395,this.nsm,3396,3404,this.L,3405,3405,this.nsm,3406,3529,this.L,3530,3530,this.nsm,3531,3537,this.L,3538,3540,this.nsm,3541,3541,this.L,3542,3542,this.nsm,3543,3632,this.L,3633,3633,this.nsm,3634,3635,this.L,3636,3642,this.nsm,3643,3646,this.L,3647,3647,this.ET,3648,3654,this.L,3655,3662,this.nsm,3663,3760,this.L,3761,3761,this.nsm,3762,3763,this.L,3764,3769,this.nsm,3770,3770,this.L,3771,3772,this.nsm,3773,3783,this.L,3784,3789,this.nsm,3790,3863,this.L,3864,3865,this.nsm,3866,3892,this.L,3893,3893,this.nsm,3894,3894,this.L,3895,3895,this.nsm,3896,3896,this.L,3897,3897,this.nsm,3898,3901,this.ON,3902,3952,this.L,3953,3966,this.nsm,3967,3967,this.L,3968,3972,this.nsm,3973,3973,this.L,3974,3975,this.nsm,3976,3983,this.L,3984,3991,this.nsm,3992,3992,this.L,3993,4028,this.nsm,4029,4037,this.L,4038,4038,this.nsm,4039,4140,this.L,4141,4144,this.nsm,4145,4145,this.L,4146,4146,this.nsm,4147,4149,this.L,4150,4151,this.nsm,4152,4152,this.L,4153,4153,this.nsm,4154,4183,this.L,4184,4185,this.nsm,4186,5759,this.L,5760,5760,this.WS,5761,5786,this.L,5787,5788,this.ON,5789,5905,this.L,5906,5908,this.nsm,5909,5937,this.L,5938,5940,this.nsm,5941,5969,this.L,5970,5971,this.nsm,5972,6001,this.L,6002,6003,this.nsm,6004,6070,this.L,6071,6077,this.nsm,6078,6085,this.L,6086,6086,this.nsm,6087,6088,this.L,6089,6099,this.nsm,6100,6106,this.L,6107,6107,this.ET,6108,6108,this.L,6109,6109,this.nsm,6110,6127,this.L,6128,6137,this.ON,6138,6143,this.L,6144,6154,this.ON,6155,6157,this.nsm,6158,6158,this.WS,6159,6312,this.L,6313,6313,this.nsm,6314,6431,this.L,6432,6434,this.nsm,6435,6438,this.L,6439,6443,this.nsm,6444,6449,this.L,6450,6450,this.nsm,6451,6456,this.L,6457,6459,this.nsm,6460,6463,this.L,6464,6464,this.ON,6465,6467,this.L,6468,6469,this.ON,6470,6623,this.L,6624,6655,this.ON,6656,8124,this.L,8125,8125,this.ON,8126,8126,this.L,8127,8129,this.ON,8130,8140,this.L,8141,8143,this.ON,8144,8156,this.L,8157,8159,this.ON,8160,8172,this.L,8173,8175,this.ON,8176,8188,this.L,8189,8190,this.ON,8191,8191,this.L,8192,8202,this.WS,8203,8205,this.BN,8206,8206,this.L,8207,8207,this.R,8208,8231,this.ON,8232,8232,this.WS,8233,8233,this.B,8234,8234,this.lre,8235,8235,this.rle,8236,8236,this.pdf,8237,8237,this.lro,8238,8238,this.rlo,8239,8239,this.WS,8240,8244,this.ET,8245,8276,this.ON,8277,8278,this.L,8279,8279,this.ON,8280,8286,this.L,8287,8287,this.WS,8288,8291,this.BN,8292,8297,this.L,8298,8303,this.BN,8304,8304,this.EN,8305,8307,this.L,8308,8313,this.EN,8314,8315,this.ET,8316,8318,this.ON,8319,8319,this.L,8320,8329,this.EN,8330,8331,this.ET,8332,8334,this.ON,8335,8351,this.L,8352,8369,this.ET,8370,8399,this.L,8400,8426,this.nsm,8427,8447,this.L,8448,8449,this.ON,8450,8450,this.L,8451,8454,this.ON,8455,8455,this.L,8456,8457,this.ON,8458,8467,this.L,8468,8468,this.ON,8469,8469,this.L,8470,8472,this.ON,8473,8477,this.L,8478,8483,this.ON,8484,8484,this.L,8485,8485,this.ON,8486,8486,this.L,8487,8487,this.ON,8488,8488,this.L,8489,8489,this.ON,8490,8493,this.L,8494,8494,this.ET,8495,8497,this.L,8498,8498,this.ON,8499,8505,this.L,8506,8507,this.ON,8508,8511,this.L,8512,8516,this.ON,8517,8521,this.L,8522,8523,this.ON,8524,8530,this.L,8531,8543,this.ON,8544,8591,this.L,8592,8721,this.ON,8722,8723,this.ET,8724,9013,this.ON,9014,9082,this.L,9083,9108,this.ON,9109,9109,this.L,9110,9168,this.ON,9169,9215,this.L,9216,9254,this.ON,9255,9279,this.L,9280,9290,this.ON,9291,9311,this.L,9312,9371,this.EN,9372,9449,this.L,9450,9450,this.EN,9451,9751,this.ON,9752,9752,this.L,9753,9853,this.ON,9854,9855,this.L,9856,9873,this.ON,9874,9887,this.L,9888,9889,this.ON,9890,9984,this.L,9985,9988,this.ON,9989,9989,this.L,9990,9993,this.ON,9994,9995,this.L,9996,10023,this.ON,10024,10024,this.L,10025,10059,this.ON,10060,10060,this.L,10061,10061,this.ON,10062,10062,this.L,10063,10066,this.ON,10067,10069,this.L,10070,10070,this.ON,10071,10071,this.L,10072,10078,this.ON,10079,10080,this.L,10081,10132,this.ON,10133,10135,this.L,10136,10159,this.ON,10160,10160,this.L,10161,10174,this.ON,10175,10191,this.L,10192,10219,this.ON,10220,10223,this.L,10224,11021,this.ON,11022,11903,this.L,11904,11929,this.ON,11930,11930,this.L,11931,12019,this.ON,12020,12031,this.L,12032,12245,this.ON,12246,12271,this.L,12272,12283,this.ON,12284,12287,this.L,12288,12288,this.WS,12289,12292,this.ON,12293,12295,this.L,12296,12320,this.ON,12321,12329,this.L,12330,12335,this.nsm,12336,12336,this.ON,12337,12341,this.L,12342,12343,this.ON,12344,12348,this.L,12349,12351,this.ON,12352,12440,this.L,12441,12442,this.nsm,12443,12444,this.ON,12445,12447,this.L,12448,12448,this.ON,12449,12538,this.L,12539,12539,this.ON,12540,12828,this.L,12829,12830,this.ON,12831,12879,this.L,12880,12895,this.ON,12896,12923,this.L,12924,12925,this.ON,12926,12976,this.L,12977,12991,this.ON,12992,13003,this.L,13004,13007,this.ON,13008,13174,this.L,13175,13178,this.ON,13179,13277,this.L,13278,13279,this.ON,13280,13310,this.L,13311,13311,this.ON,13312,19903,this.L,19904,19967,this.ON,19968,42127,this.L,42128,42182,this.ON,42183,64284,this.L,64285,64285,this.R,64286,64286,this.nsm,64287,64296,this.R,64297,64297,this.ET,64298,64310,this.R,64311,64311,this.L,64312,64316,this.R,64317,64317,this.L,64318,64318,this.R,64319,64319,this.L,64320,64321,this.R,64322,64322,this.L,64323,64324,this.R,64325,64325,this.L,64326,64335,this.R,64336,64433,this.AL,64434,64466,this.L,64467,64829,this.AL,64830,64831,this.ON,64832,64847,this.L,64848,64911,this.AL,64912,64913,this.L,64914,64967,this.AL,64968,65007,this.L,65008,65020,this.AL,65021,65021,this.ON,65022,65023,this.L,65024,65039,this.nsm,65040,65055,this.L,65056,65059,this.nsm,65060,65071,this.L,65072,65103,this.ON,65104,65104,this.CS,65105,65105,this.ON,65106,65106,this.CS,65107,65107,this.L,65108,65108,this.ON,65109,65109,this.CS,65110,65118,this.ON,65119,65119,this.ET,65120,65121,this.ON,65122,65123,this.ET,65124,65126,this.ON,65127,65127,this.L,65128,65128,this.ON,65129,65130,this.ET,65131,65131,this.ON,65132,65135,this.L,65136,65140,this.AL,65141,65141,this.L,65142,65276,this.AL,65277,65278,this.L,65279,65279,this.BN,65280,65280,this.L,65281,65282,this.ON,65283,65285,this.ET,65286,65290,this.ON,65291,65291,this.ET,65292,65292,this.CS,65293,65293,this.ET,65294,65294,this.CS,65295,65295,this.ES,65296,65305,this.EN,65306,65306,this.CS,65307,65312,this.ON,65313,65338,this.L,65339,65344,this.ON,65345,65370,this.L,65371,65381,this.ON,65382,65503,this.L,65504,65505,this.ET,65506,65508,this.ON,65509,65510,this.ET,65511,65511,this.L,65512,65518,this.ON,65519,65528,this.L,65529,65531,this.BN,65532,65533,this.ON,65534,65535,this.L];for(var e=0;e<this._charTypes.length;++e)for(var t=this._charTypes[Number.parseInt(e.toString(),10)],i=this._charTypes[++e],n=this._charTypes[++e];t<=i;)this._rtlCharacterTypes[t++]=n}return e.prototype._getVisualOrder=function(e,t){this._type=this._getCharacterCode(e),this._textOrder=t?this.lre:this.L,this._doVisualOrder();for(var i=[],n=0;n<this._levels.length;n++)i[Number.parseInt(n.toString(),10)]=this._levels[Number.parseInt(n.toString(),10)];return i},e.prototype._getCharacterCode=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[Number.parseInt(i.toString(),10)].charCodeAt(0);t[Number.parseInt(i.toString(),10)]=this._rtlCharacterTypes[Number.parseInt(n.toString(),10)]}return t},e.prototype._setDefaultLevels=function(){for(var e=0;e<this._length;e++)this._levels[Number.parseInt(e.toString(),10)]=this._textOrder},e.prototype._setLevels=function(){this._setDefaultLevels();for(var e=0;e<this._length;++e){var t=this._levels[Number.parseInt(e.toString(),10)];this._levels[Number.parseInt(e.toString(),10)]=t}},e.prototype._updateLevels=function(e,t,i){if(1&t)for(n=e;n<i;++n)this._result[Number.parseInt(n.toString(),10)]!==this.R&&(this._levels[Number.parseInt(n.toString(),10)]+=1);else for(var n=e;n<i;++n)this._result[Number.parseInt(n.toString(),10)]===this.R?this._levels[Number.parseInt(n.toString(),10)]+=1:this._result[Number.parseInt(n.toString(),10)]!==this.L&&(this._levels[Number.parseInt(n.toString(),10)]+=2)},e.prototype._doVisualOrder=function(){this._length=this._type.length,this._result=this._type,this._levels=[],this._setLevels(),this._length=this._getEmbeddedCharactersLength();for(var e=this._textOrder,t=0;t<this._length;){for(var i=this._levels[Number.parseInt(t.toString(),10)],n=1&Math.max(e,i)?this.R:this.L,o=t+1;o<this._length&&this._levels[Number.parseInt(o.toString(),10)]===i;)++o;var r=o<this._length?this._levels[Number.parseInt(o.toString(),10)]:this._textOrder,a=1&Math.max(r,i)?this.R:this.L;this._check(t,o,i,n,a),this._updateLevels(t,i,o),e=i,t=o}this._checkEmbeddedCharacters(this._length)},e.prototype._getEmbeddedCharactersLength=function(){for(var e=0,t=0;t<this._length;++t)this._type[Number.parseInt(t.toString(),10)]!==this.lre&&this._type[Number.parseInt(t.toString(),10)]!==this.rle&&this._type[Number.parseInt(t.toString(),10)]!==this.lro&&this._type[Number.parseInt(t.toString(),10)]!==this.rlo&&this._type[Number.parseInt(t.toString(),10)]!==this.pdf&&this._type[Number.parseInt(t.toString(),10)]!==this.BN&&(this._result[Number.parseInt(e.toString(),10)]=this._result[Number.parseInt(t.toString(),10)],this._levels[Number.parseInt(e.toString(),10)]=this._levels[Number.parseInt(t.toString(),10)],e++);return e},e.prototype._checkEmbeddedCharacters=function(e){for(var t=this._type.length-1;t>=0;--t)this._type[Number.parseInt(t.toString(),10)]===this.lre||this._type[Number.parseInt(t.toString(),10)]===this.rle||this._type[Number.parseInt(t.toString(),10)]===this.lro||this._type[Number.parseInt(t.toString(),10)]===this.rlo||this._type[Number.parseInt(t.toString(),10)]===this.pdf||this._type[Number.parseInt(t.toString(),10)]===this.BN?(this._result[Number.parseInt(t.toString(),10)]=this._type[Number.parseInt(t.toString(),10)],this._levels[Number.parseInt(t.toString(),10)]=-1):(e-=1,this._result[Number.parseInt(t.toString(),10)]=this._result[Number.parseInt(e.toString(),10)],this._levels[Number.parseInt(t.toString(),10)]=this._levels[Number.parseInt(e.toString(),10)]);for(t=0;t<this._type.length;t++)-1===this._levels[Number.parseInt(t.toString(),10)]&&(this._levels[Number.parseInt(t.toString(),10)]=this._levels[t-1])},e.prototype._check=function(e,t,i,n,o){for(var r=n,a=e;a<t;++a)this._result[Number.parseInt(a.toString(),10)]===this.nsm?this._result[Number.parseInt(a.toString(),10)]=r:r=this._result[Number.parseInt(a.toString(),10)];this._checkEuropeanDigits(e,t,i,n,o)},e.prototype._checkEuropeanDigits=function(e,t,i,n,o){for(var r=e;r<t;++r)if(this._result[Number.parseInt(r.toString(),10)]===this.EN)for(var a=r-1;a>=e;--a)if(this._result[Number.parseInt(a.toString(),10)]===this.L||this._result[Number.parseInt(a.toString(),10)]===this.R||this._result[Number.parseInt(a.toString(),10)]===this.AL){this._result[Number.parseInt(a.toString(),10)]===this.AL&&(this._result[Number.parseInt(r.toString(),10)]=this.AN);break}this._checkArabicCharacters(e,t,i,n,o)},e.prototype._checkArabicCharacters=function(e,t,i,n,o){for(var r=e;r<t;++r)this._result[Number.parseInt(r.toString(),10)]===this.AL&&(this._result[Number.parseInt(r.toString(),10)]=this.R);this._checkEuropeanNumberSeparator(e,t,i,n,o)},e.prototype._checkEuropeanNumberSeparator=function(e,t,i,n,o){for(var r=e+1;r<t-1;++r)if(this._result[Number.parseInt(r.toString(),10)]===this.ES||this._result[Number.parseInt(r.toString(),10)]===this.CS){var a=this._result[r-1],s=this._result[r+1];a===this.EN&&s===this.EN?this._result[Number.parseInt(r.toString(),10)]=this.EN:this._result[Number.parseInt(r.toString(),10)]===this.CS&&a===this.AN&&s===this.AN&&(this._result[Number.parseInt(r.toString(),10)]=this.AN)}this._checkEuropeanNumberTerminator(e,t,i,n,o)},e.prototype._checkEuropeanNumberTerminator=function(e,t,i,n,o){for(var r=e;r<t;++r)if(this._result[Number.parseInt(r.toString(),10)]===this.ET){var a=r,s=[];s.push(this.ET);var l=this._getLength(a,t,s),d=a===e?n:this._result[a-1];d!==this.EN&&(d=l===t?o:this._result[Number.parseInt(l.toString(),10)]),r=l}this._checkOtherNeutrals(e,t,i,n,o)},e.prototype._checkOtherNeutrals=function(e,t,i,n,o){for(var r=e;r<t;++r)this._result[Number.parseInt(r.toString(),10)]!==this.ES&&this._result[Number.parseInt(r.toString(),10)]!==this.ET&&this._result[Number.parseInt(r.toString(),10)]!==this.CS||(this._result[Number.parseInt(r.toString(),10)]=this.ON);this._checkOtherCharacters(e,t,i,n,o)},e.prototype._checkOtherCharacters=function(e,t,i,n,o){for(var r=e;r<t;++r)if(this._result[Number.parseInt(r.toString(),10)]===this.EN){for(var a=n,s=r-1;s>=e;--s)if(this._result[Number.parseInt(s.toString(),10)]===this.L||this._result[Number.parseInt(s.toString(),10)]===this.R){a=this._result[Number.parseInt(s.toString(),10)];break}a===this.L&&(this._result[Number.parseInt(r.toString(),10)]=this.L)}this._checkCharacters(e,t,i,n,o)},e.prototype._getLength=function(e,t,i){for(--e;++e<t;){for(var n=this._result[Number.parseInt(e.toString(),10)],o=0;o<i.length;++o)n===i[Number.parseInt(o.toString(),10)]&&(e=this._getLength(++e,t,i));return e}return t},e.prototype._checkCharacters=function(e,t,i,n,o){for(var r=e;r<t;++r)if(this._result[Number.parseInt(r.toString(),10)]===this.WS||this._result[Number.parseInt(r.toString(),10)]===this.ON||this._result[Number.parseInt(r.toString(),10)]===this.B||this._result[Number.parseInt(r.toString(),10)]===this.S){var a=r,s=[this.B,this.S,this.WS,this.ON],l=this._getLength(a,t,s),d=0,h=0,A=0;a===e?d=n:((d=this._result[a-1])===this.AN||d===this.EN)&&(d=this.R),l===t?h=o:(h=this._result[Number.parseInt(l.toString(),10)])===this.AN&&(h=this.R),A=d===h?d:1&i?this.R:this.L;for(var p=a;p<l;++p)this._result[Number.parseInt(p.toString(),10)]=A;r=l}},e}(),$i=function(){function e(){this._openBracket="(",this._closeBracket=")"}return e.prototype._layout=function(e,t,i,n,o){var r=[];return null!=t&&null!=e&&(t._isUnicode?r=this._customLayout(e,i,o,t,n):(r=[])[0]=e),r},e.prototype._splitLayout=function(e,t,i,n,o){var r=[];if(null!=t&&null!=e){r=this._customSplitLayout(e,t,i,n,o)}return r},e.prototype._getGlyphIndex=function(e,t,i){if(i=[],null!=t&&null!=e){if(0===e.length)return{_result:!1,_glyphIndex:i};var n=(new Wi)._shape(e),o=t._fontInternal._ttfReader;i=[n.length];for(var r=0,a=0,s=n.length;a<s;a++){var l=n[Number.parseInt(a.toString(),10)],d=o._getGlyph(l);null!=d&&(i[r++]=d._index)}}var h=new hn;return h._result=!0,h._glyphIndex=i,h},e.prototype._customLayout=function(e,t,i,n,o){if(null==o){var r=null;if(null!=e)if(null!=i&&i.textDirection!==mt.none)r=(new Zi)._getLogicalToVisualString(e,t);return r}var a="";r=[];if(null!=e&&null!=n){if(null!=i&&i.textDirection!==mt.none){var s=(new Wi)._shape(e);a=this._customLayout(s,t,i)}if(o){for(var l=a.split(""),d=l.length,h=0;h<d;h++)l[Number.parseInt(h.toString(),10)]=this._addCharacter(n,l[Number.parseInt(h.toString(),10)]);r=l}else(r=[])[0]=this._addCharacter(n,a)}return r},e.prototype._addCharacter=function(e,t){if(null!=e&&null!=t){var i=e._fontInternal._ttfReader;e._setSymbols(t),t=mr(yr(t=i._convertString(t)))}return t},e.prototype._customSplitLayout=function(e,t,i,n,o){var r=[];null!=e&&(r=this._customLayout(e,i,o).split(""));return r},e}(),en=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tn=function(){function e(e,t){"number"==typeof e&&void 0===t?this._size=e:(this._size=e,this._style=t)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(e){this._style=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUnderline",{get:function(){return(this.style&vi.underline)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStrikeout",{get:function(){return(this.style&vi.strikeout)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_metrics",{get:function(){return this._fontMetrics},set:function(e){this._fontMetrics=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBold",{get:function(){return(this.style&vi.bold)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isItalic",{get:function(){return(this.style&vi.italic)>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._metrics._getHeight()},enumerable:!0,configurable:!0}),e.prototype._setInternals=function(e){if(!e)throw new Error("ArgumentNullException:internals");this._pdfFontInternals=e},e.prototype._getCharacterCount=function(e,t){if("string"==typeof t){var i=0,n=0;for(n=e.indexOf(t,n);-1!==n;)i++,n++,n=e.indexOf(t,n);return i}for(var o=0,r=0;r<e.length;r++)-1!==t.indexOf(e[Number.parseInt(r.toString(),10)])&&o++;return o},e.prototype.measureString=function(e,t,i,n,o){if("string"==typeof e&&void 0===t)return this.measureString(e,null);if("string"==typeof e&&(t instanceof pi||null===t)&&void 0===i&&void 0===n){var r=t;return this.measureString(e,r,0,0)}if("string"==typeof e&&(t instanceof pi||null===t)&&"number"==typeof i&&"number"==typeof n){r=t;return this.measureString(e,0,r,i,n)}if("string"==typeof e&&"number"==typeof t&&(i instanceof pi||null===i)&&"number"==typeof n&&"number"==typeof o){var a=[t,0],s=i;return this.measureString(e,a,s,n,o)}r=t,s=i;var l=(new Bi)._layout(e,this,s,r);return n=e.length,o=l._empty?0:l._lines.length,l._actualSize},e.prototype._applyFormatSettings=function(e,t,i){var n=i;return null!=t&&i>0&&(0!==t.characterSpacing&&(n+=(e.length-1)*t.characterSpacing),0!==t.wordSpacing&&(n+=this._getCharacterCount(e,[" ","\t"])*t.wordSpacing)),n},e}(),nn=function(e){function t(t,i,n){var o=e.call(this,i,void 0===n?vi.regular:n)||this;return o._fontFamily=t,o._checkStyle(),o._initializeInternals(),o}return en(t,e),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},enumerable:!0,configurable:!0}),t.prototype._checkStyle=function(){this._fontFamily!==Ei.symbol&&this._fontFamily!==Ei.zapfDingbats||(this._style&=~(vi.bold|vi.italic))},t.prototype.getLineWidth=function(e,t){for(var i=0,n=0,o=e.length;n<o;n++)i+=this._getCharacterWidthInternal(e[Number.parseInt(n.toString(),10)]);return i*=.001*this._metrics._size,i=this._applyFormatSettings(e,t,i)},t.prototype._initializeInternals=function(){this._metrics=an._getMetrics(this._fontFamily,this._style,this._size),this._dictionary=this._createInternals()},t.prototype._createInternals=function(){var e=new Va;return e._updated=!0,e.set("Type",va.get("Font")),e.set("Subtype",va.get("Type1")),e.set("BaseFont",new va(this._metrics._postScriptName)),this._fontFamily!==Ei.symbol&&this._fontFamily!==Ei.zapfDingbats&&e.set("Encoding",new va("WinAnsiEncoding")),e},t.prototype._getCharacterWidthInternal=function(e){var t=e.charCodeAt(0);return"Helvetica"!==this._metrics._name&&"Courier"!==this._metrics._name&&"TimesRoman"!==this._metrics._name&&"Symbol"!==this._metrics._name&&"ZapfDingbats"!==this._metrics._name||(t-=32),t=t>=0&&128!==t?t:0,this._metrics._widthTable._itemAt(t)},t}(tn),on=function(e){function t(t,i,n){var o=e.call(this,i,void 0===n?vi.regular:n)||this;return o._fontFamily=t,o._size=i,o._initializeInternals(),o}return en(t,e),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},enumerable:!0,configurable:!0}),t.prototype._initializeInternals=function(){this._metrics=sn._getMetrics(this._fontFamily,this._style,this._size),this._dictionary=this._createInternals()},t.prototype._createInternals=function(){var e=new Va;return e._updated=!0,e.set("Type",va.get("Font")),e.set("Subtype",va.get("Type0")),e.set("BaseFont",new va(this._metrics._postScriptName)),e.set("Encoding",this._getEncoding(this._fontFamily)),e.set("DescendantFonts",this._getDescendantFont()),e},t.prototype._getEncoding=function(e){var t="Unknown";switch(e){case xi.hanyangSystemsGothicMedium:case xi.hanyangSystemsShinMyeongJoMedium:t="UniKS-UCS2-H";break;case xi.heiseiKakuGothicW5:case xi.heiseiMinchoW3:t="UniJIS-UCS2-H";break;case xi.monotypeHeiMedium:case xi.monotypeSungLight:t="UniCNS-UCS2-H";break;case xi.sinoTypeSongLight:t="UniGB-UCS2-H"}return new va(t)},t.prototype._getDescendantFont=function(){var e=new Va;return e._updated=!0,e.set("Type",va.get("Font")),e.set("Subtype",va.get("CIDFontType2")),e.set("BaseFont",new va(this._metrics._postScriptName)),e.set("DW",this._metrics._widthTable._defaultWidth),e.set("W",this._metrics._widthTable._toArray()),e.set("FontDescriptor",ln._getFontDescriptor(this._fontFamily,this._style,this._metrics)),e.set("CIDSystemInfo",this._getSystemInformation()),[e]},t.prototype._getSystemInformation=function(){var e=new Va;switch(e._updated=!0,e.set("Registry","Adobe"),this._fontFamily){case xi.hanyangSystemsGothicMedium:case xi.hanyangSystemsShinMyeongJoMedium:e.set("Ordering","Korea1"),e.set("Supplement",1);break;case xi.heiseiKakuGothicW5:case xi.heiseiMinchoW3:e.set("Ordering","Japan1"),e.set("Supplement",2);break;case xi.monotypeHeiMedium:case xi.monotypeSungLight:e.set("Ordering","CNS1"),e.set("Supplement","0");break;case xi.sinoTypeSongLight:e.set("Ordering","GB1"),e.set("Supplement",2)}return e},t.prototype.getLineWidth=function(e,t){for(var i=0,n=0;n<e.length;n++)i+=this._getCharacterWidthInternal(e.charCodeAt(n));return i*=.001*this._metrics._size,i=this._applyFormatSettings(e,t,i)},t.prototype._getCharacterWidthInternal=function(e){return e=e>=0?e:0,this._metrics._widthTable._itemAt(e)},t}(tn),rn=function(e){function t(t,i,n){var o=e.call(this,i,void 0===n?vi.regular:n)||this;return o._isEmbedFont=!1,o._isUnicode=!0,void 0!==n?o._createFontInternal(t,n):o._createFontInternal(t,vi.regular),o}return en(t,e),Object.defineProperty(t.prototype,"isUnicode",{get:function(){return this._isUnicode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmbed",{get:function(){return this._isEmbedFont},enumerable:!0,configurable:!0}),t.prototype._createFontInternal=function(e,t){this._fontInternal=new Ki(e,this._size),this.style=t,this._initializeInternals()},t.prototype._initializeInternals=function(){var e;this._fontInternal instanceof Ki&&(this._fontInternal._isEmbed=this._isEmbedFont),this._fontInternal._createInternals(),e=this._fontInternal._getInternals(),this._metrics=this._fontInternal._metrics,this._metrics._isUnicodeFont=!0,this._setInternals(e)},t.prototype.getLineWidth=function(e,t){var i=0;if(null!=t&&t.textDirection!==mt.none)i=this._getUnicodeLineWidth(e,i);else for(var n=0,o=e.length;n<o;n++)i+=this._getCharacterWidthInternal(e[Number.parseInt(n.toString(),10)]);return i*=.001*this._metrics._size,i=this._applyFormatSettings(e,t,i)},t.prototype._getUnicodeLineWidth=function(e,t){t=0;var i,n=[],o=(new $i)._getGlyphIndex(e,this,n);if(i=o._result,n=o._glyphIndex,i&&null!==n)for(var r=this._fontInternal._ttfReader,a=0,s=n.length;a<s;a++){var l=n[Number.parseInt(a.toString(),10)],d=r._getGlyph(l);null!=d&&(t+=d._width)}return t},t.prototype._getCharacterWidth=function(e,t){var i=this._fontInternal._getCharacterWidth(e);return i*=.001*this._metrics._getSize(t)},t.prototype._setSymbols=function(e){var t=this._fontInternal;null!=t&&t._setSymbols(e)},t.prototype._getCharacterWidthInternal=function(e){var t=e.charCodeAt(0);return t=t>=0&&128!==t?t:0,this._metrics._widthTable._itemAt(t)},t}(tn),an=function(){function e(){}return e._getMetrics=function(e,t,i){var n=null;switch(e){case Ei.helvetica:(n=this._getHelveticaMetrics(t,i))._name="Helvetica";break;case Ei.courier:(n=this._getCourierMetrics(t,i))._name="Courier";break;case Ei.timesRoman:(n=this._getTimesMetrics(t,i))._name="TimesRoman";break;case Ei.symbol:(n=this._getSymbolMetrics(i))._name="Symbol";break;case Ei.zapfDingbats:(n=this._getZapfDingbatsMetrics(i))._name="ZapfDingbats";break;default:(n=this._getHelveticaMetrics(t,i))._name="Helvetica"}return n._subScriptSizeFactor=this._subSuperScriptFactor,n._superscriptSizeFactor=this._subSuperScriptFactor,n},e._getHelveticaMetrics=function(e,t){var i=new ui;return(e&vi.bold)>0&&(e&vi.italic)>0?(i._ascent=this._helveticaBoldItalicAscent,i._descent=this._helveticaBoldItalicDescent,i._postScriptName=this._helveticaBoldItalicName,i._size=t,i._widthTable=new mi(this._arialBoldWidth),i._height=i._ascent-i._descent):(e&vi.bold)>0?(i._ascent=this._helveticaBoldAscent,i._descent=this._helveticaBoldDescent,i._postScriptName=this._helveticaBoldName,i._size=t,i._widthTable=new mi(this._arialBoldWidth),i._height=i._ascent-i._descent):(e&vi.italic)>0?(i._ascent=this._helveticaItalicAscent,i._descent=this._helveticaItalicDescent,i._postScriptName=this._helveticaItalicName,i._size=t,i._widthTable=new mi(this._arialWidth),i._height=i._ascent-i._descent):(i._ascent=this._helveticaAscent,i._descent=this._helveticaDescent,i._postScriptName=this._helveticaName,i._size=t,i._widthTable=new mi(this._arialWidth),i._height=i._ascent-i._descent),i},e._getCourierMetrics=function(e,t){var i=new ui;return(e&vi.bold)>0&&(e&vi.italic)>0?(i._ascent=this._courierBoldItalicAscent,i._descent=this._courierBoldItalicDescent,i._postScriptName=this._courierBoldItalicName,i._size=t,i._widthTable=new mi(this._fixedWidth),i._height=i._ascent-i._descent):(e&vi.bold)>0?(i._ascent=this._courierBoldAscent,i._descent=this._courierBoldDescent,i._postScriptName=this._courierBoldName,i._size=t,i._widthTable=new mi(this._fixedWidth),i._height=i._ascent-i._descent):(e&vi.italic)>0?(i._ascent=this._courierItalicAscent,i._descent=this._courierItalicDescent,i._postScriptName=this._courierItalicName,i._size=t,i._widthTable=new mi(this._fixedWidth),i._height=i._ascent-i._descent):(i._ascent=this._courierAscent,i._descent=this._courierDescent,i._postScriptName=this._courierName,i._size=t,i._widthTable=new mi(this._fixedWidth),i._height=i._ascent-i._descent),i},e._getTimesMetrics=function(e,t){var i=new ui;return(e&vi.bold)>0&&(e&vi.italic)>0?(i._ascent=this._timesBoldItalicAscent,i._descent=this._timesBoldItalicDescent,i._postScriptName=this._timesBoldItalicName,i._size=t,i._widthTable=new mi(this._timesRomanBoldItalicWidths),i._height=i._ascent-i._descent):(e&vi.bold)>0?(i._ascent=this._timesBoldAscent,i._descent=this._timesBoldDescent,i._postScriptName=this._timesBoldName,i._size=t,i._widthTable=new mi(this._timesRomanBoldWidth),i._height=i._ascent-i._descent):(e&vi.italic)>0?(i._ascent=this._timesItalicAscent,i._descent=this._timesItalicDescent,i._postScriptName=this._timesItalicName,i._size=t,i._widthTable=new mi(this._timesRomanItalicWidth),i._height=i._ascent-i._descent):(i._ascent=this._timesAscent,i._descent=this._timesDescent,i._postScriptName=this._timesName,i._size=t,i._widthTable=new mi(this._timesRomanWidth),i._height=i._ascent-i._descent),i},e._getSymbolMetrics=function(e){var t=new ui;return t._ascent=this._symbolAscent,t._descent=this._symbolDescent,t._postScriptName=this._symbolName,t._size=e,t._widthTable=new mi(this._symbolWidth),t._height=t._ascent-t._descent,t},e._getZapfDingbatsMetrics=function(e){var t=new ui;return t._ascent=this._zapfDingbatsAscent,t._descent=this._zapfDingbatsDescent,t._postScriptName=this._zapfDingbatsName,t._size=e,t._widthTable=new mi(this._zapfDingbatsWidth),t._height=t._ascent-t._descent,t},e._subSuperScriptFactor=1.52,e._helveticaAscent=931,e._helveticaDescent=-225,e._helveticaName="Helvetica",e._helveticaBoldAscent=962,e._helveticaBoldDescent=-228,e._helveticaBoldName="Helvetica-Bold",e._helveticaItalicAscent=931,e._helveticaItalicDescent=-225,e._helveticaItalicName="Helvetica-Oblique",e._helveticaBoldItalicAscent=962,e._helveticaBoldItalicDescent=-228,e._helveticaBoldItalicName="Helvetica-BoldOblique",e._courierAscent=805,e._courierDescent=-250,e._courierName="Courier",e._courierBoldAscent=801,e._courierBoldDescent=-250,e._courierBoldName="Courier-Bold",e._courierItalicAscent=805,e._courierItalicDescent=-250,e._courierItalicName="Courier-Oblique",e._courierBoldItalicAscent=801,e._courierBoldItalicDescent=-250,e._courierBoldItalicName="Courier-BoldOblique",e._timesAscent=898,e._timesDescent=-218,e._timesName="Times-Roman",e._timesBoldAscent=935,e._timesBoldDescent=-218,e._timesBoldName="Times-Bold",e._timesItalicAscent=883,e._timesItalicDescent=-217,e._timesItalicName="Times-Italic",e._timesBoldItalicAscent=921,e._timesBoldItalicDescent=-218,e._timesBoldItalicName="Times-BoldItalic",e._symbolAscent=1010,e._symbolDescent=-293,e._symbolName="Symbol",e._zapfDingbatsAscent=820,e._zapfDingbatsDescent=-143,e._zapfDingbatsName="ZapfDingbats",e._arialWidth=[278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,0,556,0,222,556,333,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,222,222,333,333,350,556,1e3,333,1e3,500,333,944,0,500,667,0,333,556,556,556,556,260,556,333,737,370,556,584,0,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500],e._arialBoldWidth=[278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,0,556,0,278,556,500,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,278,278,500,500,350,556,1e3,333,1e3,556,333,944,0,500,667,0,333,556,556,556,556,280,556,333,737,370,556,584,0,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556],e._fixedWidth=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],e._timesRomanWidth=[250,333,408,500,500,833,778,180,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,0,500,0,333,500,444,1e3,500,500,333,1e3,556,333,889,0,611,0,0,333,333,444,444,350,500,1e3,333,980,389,333,722,0,444,722,0,333,500,500,500,500,200,500,333,760,276,500,564,0,760,333,400,564,300,300,333,500,453,250,333,300,310,500,750,750,750,444,722,722,722,722,722,722,889,667,611,611,611,611,333,333,333,333,722,722,722,722,722,722,722,564,722,722,722,722,722,722,556,500,444,444,444,444,444,444,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,564,500,500,500,500,500,500,500,500],e._timesRomanBoldWidth=[250,333,555,500,500,1e3,833,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1e3,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,1e3,0,667,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,444,722,0,333,500,500,500,500,220,500,333,747,300,500,570,0,747,333,400,570,300,300,333,556,540,250,333,300,330,500,750,750,750,500,722,722,722,722,722,722,1e3,722,667,667,667,667,389,389,389,389,722,722,778,778,778,778,778,570,778,722,722,722,722,722,611,556,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,500,556,500],e._timesRomanItalicWidth=[250,333,420,500,500,833,778,214,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,0,500,0,333,500,556,889,500,500,333,1e3,500,333,944,0,556,0,0,333,333,556,556,350,500,889,333,980,389,333,667,0,389,556,0,389,500,500,500,500,275,500,333,760,276,500,675,0,760,333,400,675,300,300,333,500,523,250,333,300,310,500,750,750,750,500,611,611,611,611,611,611,889,667,611,611,611,611,333,333,333,333,722,667,722,722,722,722,722,675,722,722,722,722,722,556,611,500,500,500,500,500,500,500,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,675,500,500,500,500,500,444,500,444],e._timesRomanBoldItalicWidths=[250,389,555,500,500,833,778,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,944,0,611,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,389,611,0,389,500,500,500,500,220,500,333,747,266,500,606,0,747,333,400,570,300,300,333,576,500,250,333,300,300,500,750,750,750,500,667,667,667,667,667,667,944,667,667,667,667,667,389,389,389,389,722,722,722,722,722,722,722,570,722,722,722,722,722,611,611,500,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,444,500,444],e._symbolWidth=[250,333,713,500,549,833,778,439,333,333,500,549,250,549,250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,549,722,667,722,612,611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,333,863,333,658,500,500,631,549,549,494,439,521,411,603,329,603,549,549,576,521,549,549,521,549,603,439,576,713,686,493,686,494,480,200,480,549,750,620,247,549,167,713,500,753,753,753,753,1042,987,603,987,603,400,549,411,549,549,713,494,460,549,549,549,549,1e3,603,1e3,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,549,250,713,603,603,1042,987,603,987,603,494,329,790,790,786,713,384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,-1],e._zapfDingbatsWidth=[278,974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918],e}(),sn=function(){function e(){}return e._getHanyangSystemsGothicMedium=function(e,t){var i=new ui,n=new wi(1e3);return n._add(new Si(1,127,500)),n._add(new Si(8094,8190,500)),i._widthTable=n,i._ascent=880,i._descent=-120,i._size=t,i._height=i._ascent-i._descent,e&vi.bold&&e&vi.italic?i._postScriptName="HYGoThic-Medium,BoldItalic":e&vi.bold?i._postScriptName="HYGoThic-Medium,Bold":e&vi.italic?i._postScriptName="HYGoThic-Medium,Italic":i._postScriptName="HYGoThic-Medium",i},e._getHanyangSystemsShinMyeongJoMedium=function(e,t){var i=new ui,n=new wi(1e3);return n._add(new Si(1,95,500)),n._add(new Si(8094,8190,500)),i._widthTable=n,i._ascent=880,i._descent=-120,i._size=t,i._height=i._ascent-i._descent,e&vi.bold&&e&vi.italic?i._postScriptName="HYSMyeongJo-Medium,BoldItalic":e&vi.bold?i._postScriptName="HYSMyeongJo-Medium,Bold":e&vi.italic?i._postScriptName="HYSMyeongJo-Medium,Italic":i._postScriptName="HYSMyeongJo-Medium",i},e._getHeiseiKakuGothicW5=function(e,t){var i=new ui,n=new wi(1e3);return n._add(new Si(1,95,500)),n._add(new Si(231,632,500)),i._widthTable=n,i._ascent=857,i._descent=-125,i._size=t,i._height=i._ascent-i._descent,e&vi.bold&&e&vi.italic?i._postScriptName="HeiseiKakuGo-W5,BoldItalic":e&vi.bold?i._postScriptName="HeiseiKakuGo-W5,Bold":e&vi.italic?i._postScriptName="HeiseiKakuGo-W5,Italic":i._postScriptName="HeiseiKakuGo-W5",i},e._getHeiseiMinchoW3=function(e,t){var i=new ui,n=new wi(1e3);return n._add(new Si(1,95,500)),n._add(new Si(231,632,500)),i._widthTable=n,i._ascent=857,i._descent=-143,i._size=t,i._height=i._ascent-i._descent,e&vi.bold&&e&vi.italic?i._postScriptName="HeiseiMin-W3,BoldItalic":e&vi.bold?i._postScriptName="HeiseiMin-W3,Bold":e&vi.italic?i._postScriptName="HeiseiMin-W3,Italic":i._postScriptName="HeiseiMin-W3",i},e._getMonotypeHeiMedium=function(e,t){var i=new ui,n=new wi(1e3);return n._add(new Si(1,95,500)),n._add(new Si(13648,13742,500)),i._widthTable=n,i._ascent=880,i._descent=-120,i._size=t,i._height=i._ascent-i._descent,e&vi.bold&&e&vi.italic?i._postScriptName="MHei-Medium,BoldItalic":e&vi.bold?i._postScriptName="MHei-Medium,Bold":e&vi.italic?i._postScriptName="MHei-Medium,Italic":i._postScriptName="MHei-Medium",i},e._getMonotypeSungLight=function(e,t){var i=new ui,n=new wi(1e3);return n._add(new Si(1,95,500)),n._add(new Si(13648,13742,500)),i._widthTable=n,i._ascent=880,i._descent=-120,i._size=t,i._height=i._ascent-i._descent,e&vi.bold&&e&vi.italic?i._postScriptName="MSung-Light,BoldItalic":e&vi.bold?i._postScriptName="MSung-Light,Bold":e&vi.italic?i._postScriptName="MSung-Light,Italic":i._postScriptName="MSung-Light",i},e._getSinoTypeSongLight=function(e,t){var i=new ui,n=new wi(1e3);return n._add(new Si(1,95,500)),n._add(new Si(814,939,500)),n._add(new Ci(7712,[500])),n._add(new Ci(7716,[500])),i._ascent=880,i._descent=-120,i._size=t,i._height=i._ascent-i._descent,e&vi.bold&&e&vi.italic?i._postScriptName="STSong-Light,BoldItalic":e&vi.bold?i._postScriptName="STSong-Light,Bold":e&vi.italic?i._postScriptName="STSong-Light,Italic":i._postScriptName="STSong-Light",i._widthTable=n,i},e._getMetrics=function(e,t,i){var n;switch(e){case xi.hanyangSystemsGothicMedium:(n=this._getHanyangSystemsGothicMedium(t,i))._name="HanyangSystemsGothicMedium";break;case xi.hanyangSystemsShinMyeongJoMedium:(n=this._getHanyangSystemsShinMyeongJoMedium(t,i))._name="HanyangSystemsShinMyeongJoMedium";break;case xi.heiseiKakuGothicW5:(n=this._getHeiseiKakuGothicW5(t,i))._name="HeiseiKakuGothicW5";break;case xi.heiseiMinchoW3:(n=this._getHeiseiMinchoW3(t,i))._name="HeiseiMinchoW3";break;case xi.monotypeHeiMedium:(n=this._getMonotypeHeiMedium(t,i))._name="MonotypeHeiMedium";break;case xi.monotypeSungLight:(n=this._getMonotypeSungLight(t,i))._name="MonotypeSungLight";break;case xi.sinoTypeSongLight:(n=this._getSinoTypeSongLight(t,i))._name="SinoTypeSongLight"}return n._subScriptSizeFactor=this._subSuperScriptFactor,n._superscriptSizeFactor=this._subSuperScriptFactor,n},e._subSuperScriptFactor=1.52,e}(),ln=function(){function e(){}return e._fillMonotypeSungLight=function(e,t,i){this._fillFontBox(e,{x:-160,y:-249,width:1175,height:1137}),this._fillKnownInformation(e,t,i),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",1e3),e.set("MaxWidth",1e3),e.set("CapHeight",880),e.set("XHeight",616),e.set("Leading",250)},e._fillHeiseiKakuGothicW5=function(e,t,i,n){(t&(vi.italic|vi.bold))!==vi.italic?this._fillFontBox(e,{x:-92,y:-250,width:1102,height:1172}):this._fillFontBox(e,{x:-92,y:-250,width:1102,height:1932}),this._fillKnownInformation(e,i,n),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",689),e.set("MaxWidth",1e3),e.set("CapHeight",718),e.set("XHeight",500),e.set("Leading",250)},e._fillHanyangSystemsShinMyeongJoMedium=function(e,t,i){this._fillFontBox(e,{x:0,y:-148,width:1001,height:1028}),this._fillKnownInformation(e,t,i),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",1e3),e.set("MaxWidth",1e3),e.set("CapHeight",880),e.set("XHeight",616),e.set("Leading",250)},e._fillHeiseiMinchoW3=function(e,t,i){this._fillFontBox(e,{x:-123,y:-257,width:1124,height:1167}),this._fillKnownInformation(e,t,i),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",702),e.set("MaxWidth",1e3),e.set("CapHeight",718),e.set("XHeight",500),e.set("Leading",250)},e._fillSinoTypeSongLight=function(e,t,i){this._fillFontBox(e,{x:-25,y:-254,width:1025,height:1134}),this._fillKnownInformation(e,t,i),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",1e3),e.set("MaxWidth",1e3),e.set("CapHeight",880),e.set("XHeight",616),e.set("Leading",250)},e._fillMonotypeHeiMedium=function(e,t,i){this._fillFontBox(e,{x:-45,y:-250,width:1060,height:1137}),this._fillKnownInformation(e,t,i),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",1e3),e.set("MaxWidth",1e3),e.set("CapHeight",880),e.set("XHeight",616),e.set("Leading",250)},e._fillHanyangSystemsGothicMedium=function(e,t,i){this._fillFontBox(e,{x:-6,y:-145,width:1009,height:1025}),this._fillKnownInformation(e,t,i),e.set("Flags",4),e.set("StemV",93),e.set("StemH",93),e.set("AvgWidth",1e3),e.set("MaxWidth",1e3),e.set("CapHeight",880),e.set("XHeight",616),e.set("Leading",250)},e._fillFontBox=function(e,t){e.set("FontBBox",Mr(t))},e._fillKnownInformation=function(e,t,i){switch(e.set("FontName",va.get(i._postScriptName)),e.set("Type",va.get("FontDescriptor")),e.set("ItalicAngle",0),e.set("MissingWidth",i._widthTable._defaultWidth),e.set("Ascent",i._ascent),e.set("Descent",i._descent),t){case xi.monotypeHeiMedium:case xi.hanyangSystemsGothicMedium:case xi.heiseiKakuGothicW5:e.set("Flags",4);break;case xi.sinoTypeSongLight:case xi.monotypeSungLight:case xi.hanyangSystemsShinMyeongJoMedium:case xi.heiseiMinchoW3:e.set("Flags",6)}},e._getFontDescriptor=function(e,t,i){var n=new Va;switch(n._updated=!0,e){case xi.hanyangSystemsGothicMedium:this._fillHanyangSystemsGothicMedium(n,e,i);break;case xi.hanyangSystemsShinMyeongJoMedium:this._fillHanyangSystemsShinMyeongJoMedium(n,e,i);break;case xi.heiseiKakuGothicW5:this._fillHeiseiKakuGothicW5(n,t,e,i);break;case xi.heiseiMinchoW3:this._fillHeiseiMinchoW3(n,e,i);break;case xi.monotypeHeiMedium:this._fillMonotypeHeiMedium(n,e,i);break;case xi.monotypeSungLight:this._fillMonotypeSungLight(n,e,i);break;case xi.sinoTypeSongLight:this._fillSinoTypeSongLight(n,e,i)}return n},e}();!function(e){e[e.regular=0]="regular",e[e.bold=1]="bold",e[e.italic=2]="italic",e[e.underline=4]="underline",e[e.strikeout=8]="strikeout"}(vi||(vi={})),function(e){e[e.helvetica=0]="helvetica",e[e.courier=1]="courier",e[e.timesRoman=2]="timesRoman",e[e.symbol=3]="symbol",e[e.zapfDingbats=4]="zapfDingbats"}(Ei||(Ei={})),function(e){e[e.heiseiKakuGothicW5=0]="heiseiKakuGothicW5",e[e.heiseiMinchoW3=1]="heiseiMinchoW3",e[e.hanyangSystemsGothicMedium=2]="hanyangSystemsGothicMedium",e[e.hanyangSystemsShinMyeongJoMedium=3]="hanyangSystemsShinMyeongJoMedium",e[e.monotypeHeiMedium=4]="monotypeHeiMedium",e[e.monotypeSungLight=5]="monotypeSungLight",e[e.sinoTypeSongLight=6]="sinoTypeSongLight"}(xi||(xi={}));var dn,hn=function(){this._result=!1,this._glyphIndex=[]},An=function(){function e(e,t){if(this._points=[],this._pathTypes=[],this._isRoundedRectangle=!1,this._fillMode=St.winding,this._isStart=!0,this._isXps=!1,this._brush=void 0,this._pen=void 0,e&&t){if(!Array.isArray(e)||!Array.isArray(t))throw new Error("Invalid constructor arguments.");this._points=e,this._pathTypes=t}else this._points=[],this._pathTypes=[]}return Object.defineProperty(e.prototype,"lastPoint",{get:function(){var e=[0,0],t=this._points.length;return this._points.length>0&&(e[0]=this._points[t-1][0],e[1]=this._points[t-1][1]),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathPoints",{get:function(){return this._points},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathTypes",{get:function(){return this._pathTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillMode",{get:function(){return this._fillMode},set:function(e){this._fillMode=e},enumerable:!0,configurable:!0}),e.prototype.addPath=function(t,i){t instanceof e?this._addPath(t._points,t._pathTypes):Array.isArray(t)&&Array.isArray(i)&&this._addPath(t,i)},e.prototype._addPath=function(e,t){if(!e||0===e.length)throw new Error("Path points cannot be null or undefined.");if(!t||0===t.length)throw new Error("Path types cannot be null or undefined.");if(e.length!==t.length)throw new Error("The argument arrays should be of equal length.");for(var i=0;i<e.length;i++){if(i>=e.length||i<0)throw new Error("Index"+i+"is out of bounds.");this._points.push(e[Number.parseInt(i.toString(),10)].slice()),this._pathTypes.push(t[Number.parseInt(i.toString(),10)])}},e.prototype.addLine=function(e,t,i,n){this._addPoints([e,t,i,n],ze.line)},e.prototype._addLines=function(e){var t=e[0];if(1===e.length)this._addPoint(e[0],ze.line);else for(var i=1;i<e.length;i++){var n=e[Number.parseInt(i.toString(),10)];this.addLine(t[0],t[1],n[0],n[1]),t=n}},e.prototype._addPoints=function(e,t,i,n){for(var o=void 0!==i?i:0,r=void 0!==n?n:e.length,a=o;a<r;a+=2){var s=[e[Number.parseInt(a.toString(),10)],e[a+1]];a===o?0===this._points.length||this._isStart?(this._addPoint(s,ze.start),this._isStart=!1):!this._isRoundedRectangle||s[0]===this.lastPoint[0]&&s[1]===this.lastPoint[1]?s[0]!==this.lastPoint[0]&&s[1]!==this.lastPoint[1]&&this._addPoint(s,ze.line):this._addPoint(s,ze.line):this._addPoint(s,t)}},e.prototype._addPoint=function(e,t){this._points.push(e),this._pathTypes.push(t)},e.prototype.addArc=function(e,t,i,n,o,r){for(var a=Yr(e,t,e+i,t+n,o,r),s=0;s<a.length;++s){var l=[a[Number.parseInt(s.toString(),10)],a[++s],a[++s],a[++s],a[++s],a[++s],a[++s],a[++s]];this._addPoints(l,ze.bezier)}},e.prototype.addRectangle=function(e,t,i,n){this.startFigure(),this._addPoints([e,t,e+i,t,e+i,t+n,e,t+n],ze.line),this.closeFigure()},e.prototype.addPolygon=function(e){var t=[];e.forEach((function(e){t.push(e[0],e[1])})),this.startFigure(),this._addPoints(t,ze.line),this.closeFigure()},e.prototype.addEllipse=function(e,t,i,n){this.startFigure(),this.addArc(e,t,i,n,0,360),this.closeFigure()},e.prototype.addBezier=function(e,t,i,n,o,r,a,s){var l=[e,t,i,n,o,r,a,s];this._addPoints(l,ze.bezier)},e.prototype._addBezierPoints=function(e){if(e.length<4)throw Error("Incorrect size of array points");var t=0,i=e[Number.parseInt(t.toString(),10)];for(t++;t+3<=e.length;){var n=e[Number.parseInt(t.toString(),10)];t++;var o=e[Number.parseInt(t.toString(),10)];t++;var r=e[Number.parseInt(t.toString(),10)];t++,this.addBezier(i[0],i[1],n[0],n[1],o[0],o[1],r[0],r[1]),i=r}},e.prototype.addPie=function(e,t,i,n,o,r){this.startFigure(),this.addArc(e,t,i,n,o,r),this._addPoint([e+i/2,t+n/2],ze.line),this.closeFigure()},e.prototype.startFigure=function(){this._isStart=!0},e.prototype.closeFigure=function(e){if(void 0!==e){var t=this._pathTypes[Number.parseInt(e.toString(),10)];t|=ze.closePath,this._pathTypes[Number.parseInt(e.toString(),10)]=t}else this._points.length>0&&this.closeFigure(this._points.length-1),this.startFigure()},e.prototype.closeAllFigures=function(){for(var e=0;e<this._points.length;++e){var t=this._pathTypes[Number.parseInt(e.toString(),10)],i=!1;0!==e&&t===ze.start?(this.closeFigure(e-1),i=!0):e===this._pathTypes.length-1&&!i&&this._isXps&&this._points[0][0]===this._points[Number.parseInt(e.toString(),10)][0]&&this._points[0][1]===this._points[Number.parseInt(e.toString(),10)][1]&&this.closeFigure(e)}},e.prototype._getBounds=function(){var e=[0,0,0,0];if(this._points.length>0){for(var t=this._points[0][0],i=this._points[0][0],n=this._points[0][1],o=this._points[0][1],r=1;r<this._points.length;++r){var a=this._points[Number.parseInt(r.toString(),10)];t=Math.min(a[0],t),i=Math.max(a[0],i),n=Math.min(a[1],n),o=Math.max(a[1],o)}e=[t,n,i-t,o-n]}return e},e}(),pn=function(){function e(){}return Object.defineProperty(e.prototype,"width",{get:function(){return this._imageWidth},set:function(e){this._imageWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._imageHeight},set:function(e){this._imageHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"physicalDimension",{get:function(){return this._imagePhysicalDimension=this._getPointSize(this.width,this.height,this._horizontalResolution),[this.width,this.height]},enumerable:!0,configurable:!0}),e.prototype.draw=function(e,t,i){null==t&&null==i&&(t=0,i=0);var n=0!==t||0!==i,o=null;n&&(o=e.save(),e.translateTransform(t,i)),e.drawImage(this,0,0),n&&e.restore(o)},e.prototype._getPointSize=function(e,t,i){if(null==i){return this._getPointSize(e,t,96)}var n=new Bn,o=new Bn;return[n._convertUnits(e,At.pixel,At.point),o._convertUnits(t,At.pixel,At.point)]},e}(),cn=function(){function e(e,t,i,n){if(this._pendingResource=[],this._isItalic=!1,this._hasResourceReference=!1,n instanceof Oo?(this._source=n._pageDictionary,this._page=n):n instanceof Fn&&(this._source=n._content.dictionary,this._template=n),this._source&&this._source.has("Resources")){var o=this._source.getRaw("Resources");o&&(o instanceof xa?(this._hasResourceReference=!0,this._resourceObject=i._fetch(o)):o instanceof Va&&(this._resourceObject=o))}else this._resourceObject=new Va,this._source.update("Resources",this._resourceObject);this._crossReference=i,this._sw=new Ai(t),this._size=e,Ur("PDF",this._resourceObject),this._initialize()}return Object.defineProperty(e.prototype,"clientSize",{get:function(){return[this._clipBounds[2],this._clipBounds[3]]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_matrix",{get:function(){return void 0===this._m&&(this._m=new gn),this._m},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_resources",{get:function(){var e=this;if(void 0===this._resourceMap){if(this._resourceMap=new Map,this._resourceObject&&this._resourceObject.has("Font")){var t=this._resourceObject.get("Font");t&&t.size>0&&t.forEach((function(t,i){null!=i&&i instanceof xa&&e._resourceMap.set(i,va.get(t))}))}if(this._resourceObject.has("XObject")){var i=this._resourceObject.get("XObject");i&&i.size>0&&i.forEach((function(t,i){null!=i&&i instanceof xa&&e._resourceMap.set(i,va.get(t))}))}if(this._resourceObject.has("ExtGState")){var n=this._resourceObject.get("ExtGState");n&&n.size>0&&(this._transparencies||(this._transparencies=new Map),n.forEach((function(t,i){null!=i&&i instanceof xa&&e._setTransparencyData(i,va.get(t))})))}}return this._resourceMap},enumerable:!0,configurable:!0}),e.prototype.save=function(){var e=new fn(this,this._matrix);return e._textRenderingMode=this._textRenderingMode,e._charSpacing=this._characterSpacing,e._textScaling=this._textScaling,e._wordSpacing=this._wordSpacing,e._currentBrush=this._currentBrush,e._currentPen=this._currentPen,e._currentFont=this._currentFont,this._graphicsState.push(e),this._sw._saveGraphicsState(),e},e.prototype.restore=function(e){if(this._graphicsState.length>0)if(void 0===e)this._doRestore();else if(this._graphicsState.length>0&&-1!==this._graphicsState.indexOf(e))for(;this._graphicsState.length>0&&this._doRestore()!==e;);},e.prototype._doRestore=function(){var e=this._graphicsState.pop();return this._m=e._transformationMatrix,this._currentBrush=e._currentBrush,this._currentPen=e._currentPen,this._currentFont=e._currentFont,this._characterSpacing=e._charSpacing,this._wordSpacing=e._wordSpacing,this._textScaling=e._textScaling,this._textRenderingMode=e._textRenderingMode,this._sw._restoreGraphicsState(),e},e.prototype.drawRectangle=function(e,t,i,n,o,r){var a=this._setPenBrush(o,r);this._sw._appendRectangle(e,t,i,n),this._drawGraphicsPath(a.pen,a.brush)},e.prototype.drawBezier=function(e,t,i,n,o,r,a,s,l){this._stateControl(l,null,null),this._sw._beginPath(e,t),this._sw._appendBezierSegment(i,n,o,r,a,s),this._drawGraphicsPath(l)},e.prototype.drawPie=function(e,t,i,n,o,r,a,s){var l=this._setPenBrush(a,s);this._constructPiePath(e,t,e+i,t+n,o,r),this._sw._appendLineSegment(e+i/2,t+n/2),this._drawGraphicsPath(l.pen,l.brush,null,!0)},e.prototype.drawPolygon=function(e,t,i){if(e.length>0){var n=this._setPenBrush(t,i);this._sw._beginPath(e[0][0],e[0][1]);for(var o=1;o<e.length;o++)this._sw._appendLineSegment(e[Number.parseInt(o.toString(),10)][0],e[Number.parseInt(o.toString(),10)][1]);this._drawGraphicsPath(n.pen,n.brush,St.winding,!0)}},e.prototype.drawEllipse=function(e,t,i,n,o,r){var a=this._setPenBrush(o,r);this._constructArcPath(e,t,e+i,t+n,0,360),this._drawGraphicsPath(a.pen,a.brush,St.winding,!0)},e.prototype.drawArc=function(e,t,i,n,o,r,a){0!==r&&(this._stateControl(a),this._constructArcPath(e,t,e+i,t+n,o,r),this._drawGraphicsPath(a,null,St.winding,!1))},e.prototype.drawImage=function(e,t,i,n,o){if("number"==typeof t&&"number"==typeof i&&void 0===n){var r=e.physicalDimension;this.drawImage(e,t,i,r[0],r[1])}else{e._save();var a=new gn;this._getTranslateTransform(t,i+o,a),this._getScaleTransform(n,o,a),this._sw._write("q"),this._sw._modifyCtm(a);var s=void 0,l=void 0,d=!0;if(this._resourceObject.has("XObject")){var h=this._resourceObject.getRaw("XObject");h instanceof Va&&(s=h),s&&(d=!1)}d&&(s=new Va(this._crossReference),this._resourceObject.update("XObject",s)),void 0===l&&(l=va.get(zr())),this._crossReference?(this._updateImageResource(e,l,s,this._crossReference),this._source.update("Resources",this._resourceObject),this._source._updated=!0):this._pendingResource.push({resource:e,key:l,source:s}),this._sw._executeObject(l),this._sw._write("Q"),this._sw._write("\r\n"),Ur("ImageB",this._resourceObject),Ur("ImageC",this._resourceObject),Ur("ImageI",this._resourceObject),Ur("Text",this._resourceObject)}},e.prototype.drawTemplate=function(e,t){var i=this;if(void 0!==e){(e._isExported||e._isResourceExport)&&(this._crossReference?(e._crossReference=this._crossReference,e._importStream(!0,e._isResourceExport)):(e._importStream(!1,e._isResourceExport),this._pendingResource.push(e)));var n=e&&e._size[0]>0?t.width/e._size[0]:1,o=e&&e._size[1]>0?t.height/e._size[1]:1,r=!(Math.trunc(1e3*n)/1e3==1&&Math.trunc(1e3*o)/1e3==1),a=void 0,s=void 0;this._page&&(a=this._page.cropBox,s=this._page.mediaBox,this._page._pageDictionary.has("CropBox")&&this._page._pageDictionary.has("MediaBox")&&a[0]>0&&a[1]>0&&s[0]<0&&s[1]<0&&(this.translateTransform(a[0],-a[1]),t.x=-a[0],t.y=a[1]));var l=this.save(),d=new gn;if(this._page){var h=this._page._pageDictionary.has("CropBox")&&this._page._pageDictionary.has("MediaBox")&&a&&s&&a[0]===s[0]&&a[1]===s[1]&&a[2]===s[2]&&a[3]===s[3]||this._page._pageDictionary.has("MediaBox")&&s&&0===s[3];d._translate(t.x,-(t.y+(this._page._origin[0]>=0||h?t.height:0)))}else d._translate(t.x,-(t.y+t.height));if(r)if(e._isAnnotationTemplate&&e._needScale){var A=!1;if(e._content&&e._content.dictionary){var p=e._content.dictionary;if(p.has("Matrix")&&p.has("BBox")){var c=p.getArray("Matrix"),g=p.getArray("BBox");if(c&&g&&c.length>5&&g.length>3){var u=Number.parseFloat(ur(-c[1])),f=Number.parseFloat(ur(c[2])),m=Number.parseFloat(ur(n)),w=Number.parseFloat(ur(o));m===u&&w===f&&g[2]===e._size[0]&&g[3]===e._size[1]&&((d=new gn)._translate(t.x-c[4],-(t.y+c[5])),d._scale(1,1),A=!0)}}}A||d._scale(n,o)}else d._scale(n,o);this._sw._modifyCtm(d);var y,S,C=void 0,B=!1,I=!0;if(this._resourceObject.has("XObject")){var b=this._resourceObject.getRaw("XObject");b&&(b instanceof xa?(B=!0,C=this._crossReference._fetch(b)):b instanceof Va&&(C=b)),C&&(I=!1,this._resources.forEach((function(t,n){if(n&&n instanceof xa){var o=i._crossReference._fetch(n);o&&e&&o===e._content&&(y=t,S=n)}})))}I&&(C=new Va(this._crossReference),this._resourceObject.update("XObject",C)),void 0===y&&(y=va.get(zr()),e&&e._content.reference?S=e._content.reference:this._crossReference?S=this._crossReference._getNextReference():this._pendingResource.push({resource:e._content,key:y,source:C}),S&&this._crossReference&&(!this._crossReference._cacheMap.has(S)&&e&&e._content&&this._crossReference._cacheMap.set(S,e._content),C.update(y.name,S),this._resources.set(S,y)),this._resourceObject._updated=!0),B&&(this._resourceObject._updated=!0),this._hasResourceReference&&(this._source._updated=!0),this._sw._executeObject(y),this.restore(l),Ur("ImageB",this._resourceObject),Ur("ImageC",this._resourceObject),Ur("ImageI",this._resourceObject),Ur("Text",this._resourceObject)}},e.prototype._processResources=function(e){if(this._crossReference=e,this._pendingResource.length>0){for(var t=0;t<this._pendingResource.length;t++){var i=this._pendingResource[Number.parseInt(t.toString(),10)];if(i instanceof Fn)i._crossReference=e,i._updatePendingResource(e);else if(i.resource instanceof ka){var n=void 0;i.resource._reference?n=i.resource._reference:(n=e._getNextReference(),i.resource._reference=n),!e._cacheMap.has(n)&&i.resource&&e._cacheMap.set(n,i.resource),i.source.update(i.key.name,n),this._resources.set(n,i.key)}else i.resource instanceof pn?this._updateImageResource(i.resource,i.key,i.source,e):i.resource instanceof tn&&this._updateFontResource(i.resource,i.key,i.source,e);this._source.update("Resources",this._resourceObject),this._source._updated=!0}this._pendingResource=[]}},e.prototype._updateImageResource=function(e,t,i,n){var o;if(e._reference?o=e._reference:(o=n._getNextReference(),e._reference=o),!n._cacheMap.has(o)&&e&&e._imageStream&&e._imageStream.dictionary&&(n._cacheMap.set(o,e._imageStream),e._imageStream.dictionary._updated=!0,e._maskStream&&e._maskStream.dictionary)){var r=void 0;e._maskReference?r=e._maskReference:(r=n._getNextReference(),e._maskReference=r),n._cacheMap.set(r,e._maskStream),e._maskStream.dictionary._updated=!0,e._imageStream.dictionary.set("SMask",r)}i.update(t.name,o),this._resources.set(o,t),this._resourceObject._updated=!0},e.prototype._updateFontResource=function(e,t,i,n){var o;if(e._reference?o=e._reference:(o=n._getNextReference(),e._reference=o),!n._cacheMap.has(o))if(e._dictionary)n._cacheMap.set(o,e._dictionary),i.update(t.name,o),this._resources.set(o,t);else if(e instanceof rn){var r=e._fontInternal;r&&r._fontDictionary&&n._cacheMap.set(o,r._fontDictionary),i.update(t.name,o),this._resources.set(o,t)}},e.prototype.drawPath=function(e,t,i){var n=this._setPenBrush(t,i);(n.pen||n.brush)&&(this._buildUpPath(e._points,e._pathTypes),this._drawGraphicsPath(n.pen,n.brush,e.fillMode,!1))},e.prototype.drawRoundedRectangle=function(e,t,i,n,o,r,a){if(null===r)throw new Error("pen");if(null===a)throw new Error("brush");var s=[e,t,i,n],l=2*o,d=[l,l],h=[s[0],s[1],d[0],d[1]],A=new An;0===o?(A.addRectangle(s[0],s[1],s[2],s[3]),this.drawPath(A,r,a)):(A._isRoundedRectangle=!0,A.addArc(h[0],h[1],h[2],h[3],180,90),h[0]=s[0]+s[2]-l,A.addArc(h[0],h[1],h[2],h[3],270,90),h[1]=s[1]+s[3]-l,A.addArc(h[0],h[1],h[2],h[3],0,90),h[0]=s[0],A.addArc(h[0],h[1],h[2],h[3],90,90),A.closeFigure(),this.drawPath(A,r,a))},e.prototype._constructArcPath=function(e,t,i,n,o,r){var a=Yr(e,t,i,n,o,r);if(8!==a.length){var s=[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]];this._sw._beginPath(s[0],s[1]);for(var l=0;l<a.length;l+=8)s=[a[Number.parseInt(l.toString(),10)],a[l+1],a[l+2],a[l+3],a[l+4],a[l+5],a[l+6],a[l+7]],this._sw._appendBezierSegment(s[2],s[3],s[4],s[5],s[6],s[7])}},e.prototype._constructPiePath=function(e,t,i,n,o,r){var a=Yr(e,t,i,n,o,r);if(8===a.length){var s=[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]];this._sw._beginPath(s[0],s[1]);for(var l=0;l<a.length;l+=8)s=[a[Number.parseInt(l.toString(),10)],a[l+1],a[l+2],a[l+3],a[l+4],a[l+5],a[l+6],a[l+7]],this._sw._appendBezierSegment(s[2],s[3],s[4],s[5],s[6],s[7])}},e.prototype._writePen=function(e){for(var t=e._width,i=e._dashPattern,n=[],o=0;o<i.length;++o)n[o]=i[o]*e._width;this._sw._setLineDashPattern(n,e._dashOffset*t),this._sw._setLineWidth(e._width),this._sw._setLineJoin(e._lineJoin),this._sw._setLineCap(e._lineCap),e._miterLimit>0&&this._sw._setMiterLimit(e._miterLimit),this._sw._setColor(e._color,!0)},e.prototype.drawString=function(e,t,i,n,o,r){var a=new Bi;r||(r=new pi);var s=a._layout(e,t,r,[i[2],i[3]]);if(!s._empty){var l=this._checkCorrectLayoutRectangle(s._actualSize,i[0],i[1],r);i[2]<=0&&(i[0]=l[0],i[2]=l[2]),i[3]<=0&&(i[1]=l[1],i[3]=l[3]),this._drawStringLayoutResult(s,t,n,o,i,r)}Ur("Text",this._resourceObject)},e.prototype._buildUpPath=function(e,t){for(var i=0;i<e.length;i++){var n=e[Number.parseInt(i.toString(),10)],o=t[Number.parseInt(i.toString(),10)];switch(15&o){case ze.start:this._sw._beginPath(n[0],n[1]);break;case ze.bezier:var r=this._getBezierPoint(e,t,i);i=r.index;var a=r.point;i=(r=this._getBezierPoint(e,t,i)).index;var s=r.point;this._sw._appendBezierSegment(n[0],n[1],a[0],a[1],s[0],s[1]);break;case ze.line:this._sw._appendLineSegment(n[0],n[1]);break;default:throw new Error("Incorrect path formation.")}((o=t[Number.parseInt(i.toString(),10)])&ze.closePath)===ze.closePath&&this._sw._closePath()}},e.prototype._getBezierPoint=function(e,t,i){if(t[Number.parseInt(i.toString(),10)]!==ze.bezier)throw new Error("Malforming path.");return{index:++i,point:e[Number.parseInt(i.toString(),10)]}},e.prototype._initialize=function(){this._mediaBoxUpperRightBound=0,this._characterSpacing=-1,this._wordSpacing=-1,this._textScaling=-100,this._textRenderingMode=-1,this._graphicsState=[],this._clipBounds=[0,0,this._size[0],this._size[1]],this._colorSpaceInitialized=!1,this._startCutIndex=-1},e.prototype._initializeCurrentColorSpace=function(){this._colorSpaceInitialized||(this._sw._setColorSpace("DeviceRGB",!0),this._sw._setColorSpace("DeviceRGB",!1),this._colorSpaceInitialized=!0)},e.prototype._brushControl=function(e){this._sw._setColor(e._color,!1),this._currentBrush=e},e.prototype._penControl=function(e){this._currentPen=e,this._writePen(e),this._currentPen=e},e.prototype._fontControl=function(e,t){var i,n=this,o=e._metrics._getSize(t);this._currentFont=e;var r,a,s=!1,l=!0,d=!1;if(this._resourceObject.has("Font")){var h=this._resourceObject.getRaw("Font");null!=h&&(h instanceof xa?(s=!0,i=this._crossReference._fetch(h)):h instanceof Va&&(i=h)),null!=i&&(l=!1,this._resources.forEach((function(t,i){if(n._crossReference){if(null!=i){var o=n._crossReference._fetch(i);o&&(e instanceof nn&&o===e._dictionary||e instanceof rn&&o===e._fontInternal._fontDictionary)&&(r=t,a=i,d=!0)}}else e._reference&&e._reference===i&&(r=t,a=i,d=!0)})))}if(l&&(i=new Va(this._crossReference),this._resourceObject.update("Font",i)),void 0===r){if(r=va.get(zr()),a||(e._reference?(a=e._reference,i.update(r.name,a)):this._crossReference?a=this._crossReference._getNextReference():this._pendingResource.push({resource:e,key:r,source:i})),a&&this._crossReference)if(e._reference||(e._reference=a),e._dictionary)this._crossReference._cacheMap.set(a,e._dictionary),i.update(r.name,a);else if(e instanceof rn){var A=e._fontInternal;A&&A._fontDictionary&&this._crossReference._cacheMap.set(a,A._fontDictionary),i.update(r.name,a)}d||this._resources.set(a,r)}s&&(this._resourceObject._updated=!0),this._hasResourceReference&&(this._source._updated=!0),this._sw._setFont(r.name,o)},e.prototype._setPenBrush=function(e,t){var i,n;return e&&(e instanceof Cn?i=e:n=e),t&&t instanceof Sn&&(n=t),this._stateControl(i,n,null),{pen:i,brush:n}},e.prototype._stateControl=function(e,t,i,n){(e||t)&&this._initializeCurrentColorSpace(),e&&this._penControl(e),t&&this._brushControl(t),i&&this._fontControl(i,n)},e.prototype._drawStringLayoutResult=function(e,t,i,n,o,r){if(!e._empty){var a=r&&void 0!==r.lineLimit&&!r.lineLimit,s=void 0===r||r&&void 0!==r.noClip&&!r.noClip,l=a&&s,d=void 0;if(l){d=this.save();var h=[o[0],o[1],e._actualSize[0],e._actualSize[1]];o[2]>0&&(h[2]=o[2]),r.lineAlignment===hi.middle?h[1]+=(o[3]-h[3])/2:r.lineAlignment===hi.bottom&&(h[1]+=o[3]-h[3]),this.setClip(h)}t&&t instanceof rn&&t._fontInternal&&t._fontInternal instanceof Ki&&t.isItalic&&(t._fontInternal._ttfMetrics._isItalic||(d=this.save(),this._isItalic=!0)),this._applyStringSettings(t,i,n,r);var A=null!=r?r.horizontalScalingFactor:100;A!==this._textScaling&&(this._sw._setTextScaling(A),this._textScaling=A);var p=this._getTextVerticalAlignShift(e._actualSize[1],o[3],r),c=null==r||0===r.lineSpacing?t._metrics._getHeight(r):r.lineSpacing+t._metrics._getHeight(r),g=0;g=null!=r&&r.subSuperScript===wt.subScript?c-(t.height+t._metrics._getDescent(r)):c-t._metrics._getAscent(r),r&&r.lineAlignment===hi.bottom&&o[3]-e._actualSize[1]!=0&&o[3]-e._actualSize[1]<t._metrics._size/2-1&&Number.parseFloat(ur(o[3]))<=Number.parseFloat(ur(t._metrics._getHeight(r)))&&(g=-c/t._metrics._size);var u=new gn;this._isItalic?(this.translateTransform(o[0]+t.size/5,o[1]-g+p),this._skewTransform(0,-11)):(u._translate(o[0],-(o[1]+t._metrics._getHeight(r))-(t._metrics._getDescent(r)>0?-t._metrics._getDescent(r):t._metrics._getDescent(r))-p),this._sw._modifyTM(u)),o[3]<t._metrics._size&&e._actualSize[1]-o[3]<t._metrics._size/2-1&&(p=0),0!==p&&null!==r&&r.lineAlignment===hi.bottom&&o[3]-e._actualSize[1]!=0&&o[3]-e._actualSize[1]>t._metrics._size/2-1&&(p-=(g-(c-t._metrics._size))/2),this._isItalic&&(this._sw._startNextLine(0,0),this._sw._setLeading(+c)),this._drawLayoutResult(e,t,r,o),0!==p&&this._sw._startNextLine(0,-(p-e._lineHeight)),Ur("Text",this._resourceObject),this._sw._endText(),this._isItalic&&this.restore(d),this._underlineStrikeoutText(n,e,t,o,r),l&&this.restore(d)}},e.prototype._getNextPage=function(){var e=this._crossReference._document.pageCount;return this._page._pageIndex<=e-2?this._crossReference._document.getPage(this._page._pageIndex+1):this._crossReference._document.addPage()},e.prototype._applyStringSettings=function(e,t,i,n){var o=dn.fill,r=!1;if(t&&i?o=dn.fillStroke:t?o=dn.stroke:i&&(o=dn.fill),e&&e instanceof rn&&(e.isUnicode||e._style&vi.bold)){var a=e._fontInternal._metrics._postScriptName,s=!1;a&&a.toLocaleLowerCase().includes("bold")&&(s=!0),e._fontInternal&&e._fontInternal._metrics&&e._fontInternal._metrics._isBold!==e.isBold&&!0===e.isBold&&!s&&(!t&&i&&(t=new Cn(i._color,1)),o=dn.fillStroke,r=!0)}n&&n.clipPath&&(o|=dn.clipFlag),this._sw._beginText(),this._stateControl(t,i,e,n),o!==this._textRenderingMode&&(this._sw._setTextRenderingMode(o),this._textRenderingMode=o);var l=null!=n?n.characterSpacing:0;l!==this._characterSpacing&&(this._sw._setCharacterSpacing(l),this._characterSpacing=l);var d=null!=n?n.wordSpacing:0;d!==this._wordSpacing&&(this._sw._setWordSpacing(d),this._wordSpacing=d),e&&r&&this._sw._setLineWidth(e.size/30)},e.prototype._drawLayoutResult=function(e,t,i,n){for(var o=null==i||0===i.lineSpacing?t._metrics._getHeight(i):i.lineSpacing+t._metrics._getHeight(i),r=e._lines,a=null!==t&&t.isUnicode,s=0,l=r.length;s<l&&s!==this._startCutIndex;s++){var d=r[Number.parseInt(s.toString(),10)],h=d._width,A=this._getHorizontalAlignShift(h,n[2],i)+this._getLineIndent(d,i,n[2],0===s);if(0!==A&&this._sw._startNextLine(A,0),a?this._drawUnicodeLine(d,n[2],t,i):this._drawAsciiLine(d,n[2],i,t),s+1!==l){var p=this._getTextVerticalAlignShift(e._actualSize[1],n[3],i),c=new gn,g=-(n[1]+t._metrics._getHeight(i))-t._metrics._getDescent(i)-p-o*(s+1);c._translate(n[0],g),this._sw._modifyTM(c)}}},e.prototype._drawUnicodeLine=function(e,t,i,n){var o=e._text,r=null!=n&&n.rightToLeft,a=null!=n&&n.wordSpacing>0,s=i,l=this._justifyLine(e,t,n,s),d=new $i;if(r||null!=n&&n.textDirection!==mt.none){var h=[],A=null!=n&&n.alignment===We.right,p=[];(h=null!=n&&n.textDirection!==mt.none?d._layout(o,s,n.textDirection===mt.rightToLeft,a,n):d._layout(o,s,A,a,n)).length>1?null!=n&&n.textDirection!==mt.none&&(p=d._splitLayout(o,s,n.textDirection===mt.rightToLeft,a,n)):p=[o],this._drawUnicodeBlocks(h,p,s,n,l)}else if(a){var c=this._breakUnicodeLine(o,s,null);h=c.tokens,p=c.words;this._drawUnicodeBlocks(h,p,s,n,l)}else{var g=this._convertToUnicode(o,s);this._sw._showNextLineText(g,!0)}},e.prototype._drawUnicodeBlocks=function(e,t,i,n,o){if(null!=e&&e.length>0&&null!=t&&t.length>0&&null!=i){this._sw._startNextLine();var r=0,a=0,s=0,l=0;try{null!=n&&(s=n.firstLineIndent,l=n.paragraphIndent,n.firstLineIndent=0,n.paragraphIndent=0);var d=i._getCharacterWidth(_i._whiteSpace,n)+o,h=null!==n?n.characterSpacing:0;d+=h+(null!=n&&0===o?n.wordSpacing:0);for(var A=0;A<e.length;A++){var p=e[A],c=t[A],g=0;0!==r&&this._sw._startNextLine(r,0),c.length>0&&(g+=i.measureString(c,n)[0],g+=h,this._sw._showText(p)),A!==e.length-1&&(a+=r=g+d)}a>0&&this._sw._startNextLine(-a,0)}finally{null!=n&&(n.firstLineIndent=s,n.paragraphIndent=l)}}},e.prototype._breakUnicodeLine=function(e,t,i){var n=[];if(null!=e&&e.length>0){i=e.split(null);for(var o=0;o<i.length;o++){var r=i[o],a=this._convertToUnicode(r,t);n[Number.parseInt(o.toString(),10)]=a}}return{tokens:n,words:i}},e.prototype._convertToUnicode=function(e,t){var i=null;if(null!=e&&null!=t&&t._fontInternal instanceof Ki){var n=t._fontInternal._ttfReader;t._setSymbols(e),i=mr(yr(i=n._convertString(e)))}return i},e.prototype._getTextVerticalAlignShift=function(e,t,i){var n=0;if(t>=0&&null!=i&&i.lineAlignment!==hi.top)switch(i.lineAlignment){case hi.middle:n=(t-e)/2;break;case hi.bottom:n=t-e}return n},e.prototype._getHorizontalAlignShift=function(e,t,i){var n=0;if(t>=0&&null!=i&&i.alignment!==We.left)switch(i.alignment){case We.center:n=(t-e)/2;break;case We.right:n=t-e}return n},e.prototype._getLineIndent=function(e,t,i,n){var o=0,r=(e._lineType&ci.firstParagraphLine)>0;return t&&r&&(o=n?t.firstLineIndent:t.paragraphIndent,o=i>0?Math.min(i,o):o),o},e.prototype._drawAsciiLine=function(e,t,i,n){this._justifyLine(e,t,i,n);var o="";if(-1!==e._text.indexOf("(")||-1!==e._text.indexOf(")"))for(var r=0;r<e._text.length;r++)"("===e._text[Number.parseInt(r.toString(),10)]?o+="\\(":")"===e._text[Number.parseInt(r.toString(),10)]?o+="\\)":o+=e._text[Number.parseInt(r.toString(),10)];""===o&&(o=e._text),this._sw._showNextLineText("("+o+")")},e.prototype._justifyLine=function(e,t,i,n){var o=e._text,r=e._width,a=this._shouldJustify(e,t,i,n),s=i&&0!==i.wordSpacing,l=n._getCharacterCount(o,[" ","\t"]),d=0;return a?(s&&(r-=l*i.wordSpacing),d=(t-r)/l,this._sw._setWordSpacing(d)):i&&i.alignment===We.justify&&this._sw._setWordSpacing(0),d},e.prototype._shouldJustify=function(e,t,i,n){var o=e._text,r=e._width,a=i&&i.alignment===We.justify,s=t>=0&&r<t,l=n._getCharacterCount(o,[" ","\t"])>0&&" "!==o[0],d=(e._lineType&ci.layoutBreak)>0;return a&&s&&l&&d},e.prototype._underlineStrikeoutText=function(e,t,i,n,o){if(i.isUnderline||i.isStrikeout){var r=this._createUnderlineStrikeoutPen(e,i);if(null!=r)for(var a=this._getTextVerticalAlignShift(t._actualSize[1],n[3],o),s=n[1]+a+i._metrics._getAscent(o)+1.5*r._width,l=n[1]+a+i._metrics._getHeight(o)/2+1.5*r._width,d=t._lines,h=0;h<t._lineCount;h++){var A=d[Number.parseInt(h.toString(),10)],p=A._width,c=this._getHorizontalAlignShift(p,n[2],o),g=this._getLineIndent(A,o,n[2],0===h),u=n[0]+c,f=this._shouldJustify(A,n[2],o,i)?u+n[2]-g:u+p-g;i.isUnderline&&(this.drawLine(r,u,s,f,s),s+=t._lineHeight),i.isStrikeout&&(this.drawLine(r,u,l,f,l),l+=t._lineHeight)}}},e.prototype.drawLine=function(e,t,i,n,o){this._stateControl(e),this._sw._beginPath(t,i),this._sw._appendLineSegment(n,o),this._sw._strokePath(),Ur("PDF",this._resourceObject)},e.prototype._createUnderlineStrikeoutPen=function(e,t){return new Cn(e._color,t._metrics._size/20)},e.prototype._checkCorrectLayoutRectangle=function(e,t,i,n){var o=[t,i,e[0],e[0]];if(n){switch(n.alignment){case We.center:o[0]=o[0]-o[2]/2;break;case We.right:o[0]=o[0]-o[2]}switch(n.lineAlignment){case hi.middle:o[1]=o[1]-o[3]/2;break;case hi.bottom:o[1]=o[1]-o[3]}}return o},e.prototype._drawGraphicsPath=function(e,t,i,n){void 0===i&&(i=St.winding);var o=null!=t,r=null!=e,a=i===St.alternate;r&&o?n?this._sw._closeFillStrokePath(a):this._sw._fillStrokePath(a):r||o?r?n?this._sw._closeStrokePath():this._sw._strokePath():n?this._sw._closeFillPath(a):this._sw._fillPath(a):this._sw._endPath()},e.prototype._initializeCoordinates=function(e){var t;if(e){var i=[0,0],n=!1;if(e._pageDictionary.has("CropBox")&&e._pageDictionary.has("MediaBox")){t=e._pageDictionary.getArray("CropBox");var o=e._pageDictionary.getArray("MediaBox");t[0]===o[0]&&t[1]===o[1]&&t[2]===o[2]&&t[3]===o[3]&&(n=!0),t[0]>0&&t[3]>0&&o[0]<0&&o[1]<0?(this.translateTransform(t[0],-t[3]),i[0]=-t[0],i[1]=t[3]):e._pageDictionary.has("CropBox")||(n=!0),n&&(this._sw._writeComment("Change co-ordinate system to left/top."),this._cropBox?this.translateTransform(this._cropBox[0],-this._cropBox[3]):-e._origin[1]<this._mediaBoxUpperRightBound||0===this._mediaBoxUpperRightBound?this.translateTransform(0,-this._size[1]):this.translateTransform(0,-this._mediaBoxUpperRightBound))}}else this._sw._writeComment("Change co-ordinate system to left/top."),this._mediaBoxUpperRightBound!==-this._size[1]&&(this._cropBox&&((t=this._cropBox)[0]>0||t[1]>0||this._size[0]===t[2]||this._size[1]===t[3])?this.translateTransform(t[0],-t[3]):this._mediaBoxUpperRightBound===this._size[1]||0===this._mediaBoxUpperRightBound?this.translateTransform(0,-this._size[1]):this.translateTransform(0,-this._mediaBoxUpperRightBound))},e.prototype.scaleTransform=function(e,t){var i=new gn;i._scale(e,t),this._sw._modifyCtm(i),this._matrix._multiply(i)},e.prototype.translateTransform=function(e,t){var i=new gn;i._translate(e,-t),this._sw._modifyCtm(i),this._matrix._multiply(i)},e.prototype.rotateTransform=function(e){var t=new gn;t._rotate(-e),this._sw._modifyCtm(t),this._matrix._multiply(t)},e.prototype.setClip=function(e,t){void 0===t&&(t=St.winding),this._sw._appendRectangle(e[0],e[1],e[2],e[3]),this._sw._clipPath(t===St.alternate)},e.prototype.setTransparency=function(e,t,i){void 0===t&&(t=e),void 0===i&&(i=yt.normal),void 0===this._transparencies&&(this._transparencies=new Map);var n,o="CA:"+e.toString()+"_ca:"+t.toString()+"_BM:"+i.toString();if(this._transparencies.size>0&&this._transparencies.forEach((function(e,t){e===o&&(n=t)})),!n){n=new mn;var r=new Va;r.update("CA",e),r.update("ca",t),r.update("BM",function(e){var t="Normal";switch(e){case yt.multiply:t="Multiply";break;case yt.screen:t="Screen";break;case yt.overlay:t="Overlay";break;case yt.darken:t="Darken";break;case yt.lighten:t="Lighten";break;case yt.colorDodge:t="ColorDodge";break;case yt.colorBurn:t="ColorBurn";break;case yt.hardLight:t="HardLight";break;case yt.softLight:t="SoftLight";break;case yt.difference:t="Difference";break;case yt.exclusion:t="Exclusion";break;case yt.hue:t="Hue";break;case yt.saturation:t="Saturation";break;case yt.color:t="Color";break;case yt.luminosity:t="Luminosity";break;default:t="Normal"}return va.get(t)}(i));var a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,r),n._dictionary=r,n._key=o,n._name=va.get(zr()),n._reference=a;var s=void 0,l=!1;if(this._resourceObject.has("ExtGState")){var d=this._resourceObject.getRaw("ExtGState");null!=d&&(d instanceof xa?(l=!0,s=this._crossReference._fetch(d)):d instanceof Va&&(s=d))}else s=new Va(this._crossReference),this._resourceObject.update("ExtGState",s);s.update(n._name.name,a),l&&(this._resourceObject._updated=!0),this._hasResourceReference&&(this._source._updated=!0)}this._sw._setGraphicsState(n._name)},e.prototype._setTransparencyData=function(e,t){this._resourceMap.set(e,t);var i=this._crossReference._fetch(e),n=0,o=0,r=0;i&&(i.has("CA")&&(n=i.get("CA")),i.has("ca")&&(o=i.get("ca")),i.has("ca")&&(o=i.get("ca")),i.has("BM")&&(r=function(e){var t=yt.normal;switch(e.name){case"Multiply":t=yt.multiply;break;case"Screen":t=yt.screen;break;case"Overlay":t=yt.overlay;break;case"Darken":t=yt.darken;break;case"Lighten":t=yt.lighten;break;case"ColorDodge":t=yt.colorDodge;break;case"ColorBurn":t=yt.colorBurn;break;case"HardLight":t=yt.hardLight;break;case"SoftLight":t=yt.softLight;break;case"Difference":t=yt.difference;break;case"Exclusion":t=yt.exclusion;break;case"Hue":t=yt.hue;break;case"Saturation":t=yt.saturation;break;case"Color":t=yt.color;break;case"Luminosity":t=yt.luminosity;break;default:t=yt.normal}return t}(i.get("BM"))));var a="CA:"+n.toString()+"_ca:"+o.toString()+"_BM:"+r.toString(),s=new mn;s._dictionary=i,s._key=a,s._name=t,s._reference=e,this._transparencies.set(s,a)},e.prototype._getTranslateTransform=function(e,t,i){return i._translate(e,-t),i},e.prototype._getScaleTransform=function(e,t,i){return null==i&&(i=new gn),i._scale(e,t),i},e.prototype._clipTranslateMargins=function(e){this._clipBounds=e,this._sw._writeComment("Clip margins."),this._sw._appendRectangle(e[0],e[1],e[2],e[3]),this._sw._closePath(),this._sw._clipPath(!1),this._sw._writeComment("Translate co-ordinate system."),this.translateTransform(e[0],e[1])},e.prototype._skewTransform=function(e,t){var i=new gn;this._getSkewTransform(e,t,i),this._sw._modifyCtm(i),i._multiply(i)},e.prototype._getSkewTransform=function(e,t,i){return i._skew(-e,-t),i},e}(),gn=function(){function e(){this._matrix=new un(1,0,0,1,0,0)}return e.prototype._translate=function(e,t){this._matrix._translate(e,t)},e.prototype._scale=function(e,t){this._matrix._elements[0]=e,this._matrix._elements[3]=t},e.prototype._rotate=function(e){e=e*Math.PI/180,this._matrix._elements[0]=Math.cos(e),this._matrix._elements[1]=Math.sin(e),this._matrix._elements[2]=-Math.sin(e),this._matrix._elements[3]=Math.cos(e)},e.prototype._multiply=function(e){this._matrix._multiply(e._matrix)},e.prototype._toString=function(){for(var e="",t=0,i=this._matrix._elements.length;t<i;t++)e+=Or(this._matrix._elements[Number.parseInt(t.toString(),10)])+" ";return e},e.prototype._skew=function(e,t){var i=Math.tan(this._degreeToRadians(e)),n=Math.tan(this._degreeToRadians(t)),o=new un(1,i,n,1,0,0);this._matrix._multiply(o)},e.prototype._degreeToRadians=function(e){return Math.PI/180*e},e}(),un=function(){function e(e,t,i,n,o,r){this._elements=void 0===e?[]:"number"==typeof e?[e,t,i,n,o,r]:e}return Object.defineProperty(e.prototype,"_offsetX",{get:function(){return this._elements[4]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_offsetY",{get:function(){return this._elements[5]},enumerable:!0,configurable:!0}),e.prototype._clone=function(){return new e(this._elements.slice())},e.prototype._translate=function(e,t){this._elements[4]=e,this._elements[5]=t},e.prototype._transform=function(e){var t=e[0],i=e[1];return[t*this._elements[0]+i*this._elements[2]+this._offsetX,t*this._elements[1]+i*this._elements[3]+this._offsetY]},e.prototype._multiply=function(e){this._elements=[this._elements[0]*e._elements[0]+this._elements[1]*e._elements[2],this._elements[0]*e._elements[1]+this._elements[1]*e._elements[3],this._elements[2]*e._elements[0]+this._elements[3]*e._elements[2],this._elements[2]*e._elements[1]+this._elements[3]*e._elements[3],this._offsetX*e._elements[0]+this._offsetY*e._elements[2]+e._offsetX,this._offsetX*e._elements[1]+this._offsetY*e._elements[3]+e._offsetY]},e}(),fn=function(e,t){e&&(this._g=e,this._transformationMatrix=t),this._charSpacing=0,this._wordSpacing=0,this._textScaling=100,this._textRenderingMode=dn.fill},mn=function(){};!function(e){e[e.fill=0]="fill",e[e.stroke=1]="stroke",e[e.fillStroke=2]="fillStroke",e[e.none=3]="none",e[e.clipFlag=4]="clipFlag",e[e.clipFill=4]="clipFill",e[e.clipStroke=5]="clipStroke",e[e.clipFillStroke=6]="clipFillStroke",e[e.clip=7]="clip"}(dn||(dn={}));var wn,yn,Sn=function(e){this._color=void 0!==e?e:[0,0,0]},Cn=function(e,t){this._color=e,this._width=t,this._dashOffset=0,this._dashPattern=[],this._dashStyle=Ct.solid,this._miterLimit=0,this._lineCap=Bt.flat,this._lineJoin=It.miter},Bn=function(){function e(){this._horizontalResolution=96,this._proportions=this._updateProportions(this._horizontalResolution)}return e.prototype._updateProportions=function(e){return[e/2.54,e/6,1,e/72,e,e/300,e/25.4]},e.prototype._convertUnits=function(e,t,i){return this._convertFromPixels(this._convertToPixels(e,t),i)},e.prototype._convertFromPixels=function(e,t){var i=t;return e/this._proportions[Number.parseInt(i.toString(),10)]},e.prototype._convertToPixels=function(e,t){var i=t;return e*this._proportions[Number.parseInt(i.toString(),10)]},e}(),In=function(){function e(e){void 0===e&&(e=!1),this._position=0,this._bufferText="",this._buffer=new Uint8Array(0),this._namespaceStack=[],this._elementStack=[],e?(this._currentState="StartDocument",this._skipNamespace=!0):(this._currentState="Initial",this._namespaceStack.push(new bn),this._elementStack.push(new vn),this._namespaceStack[0]._set("xmlns","http://www.w3.org/2000/xmlns/","Special"),this._namespaceStack.push(new bn),this._namespaceStack[1]._set("xml","http://www.w3.org/XML/1998/namespace","Special"),this._namespaceStack.push(new bn),this._namespaceStack[2]._set("","","Implied"),this._elementStack[0]._set("","","",this._namespaceStack.length-1)),this._attributeStack=[]}return Object.defineProperty(e.prototype,"buffer",{get:function(){return this._flush(),this._buffer},enumerable:!0,configurable:!0}),e.prototype._writeStartDocument=function(e){if("Initial"!==this._currentState||void 0===this._buffer)throw new Error("InvalidOperationException: Wrong Token");this._currentState="StartDocument",this._rawText('<?xml version="1.0" encoding="utf-8'),null!=e&&(this._rawText('" standalone="'),this._rawText(e?"yes":"no")),this._rawText('"?>')},e.prototype._writeStartElement=function(e,t,i){if(void 0===this._buffer)throw new Error("InvalidOperationException: Wrong Token");if(null==e||0===e.length)throw new Error("ArgumentException: localName cannot be undefined, null or empty");if(this._checkName(e),"Initial"===this._currentState&&this._writeStartDocument(),"StartElement"===this._currentState&&this._startElementContent(),this._currentState="StartElement",null==t)null!=i&&(t=this._lookupPrefix(i)),null==t&&(t="");else if(t.length>0&&(null==i&&(i=this._lookupNamespace(t)),null==i||void 0!==i&&0===i.length))throw new Error("ArgumentException: Cannot use a prefix with an empty namespace");null==i&&(i=this._lookupNamespace(t)),this._writeStartElementInternal(t,e,i)},e.prototype._writeEndElement=function(){"StartElement"===this._currentState?(this._startElementContent(),this._currentState="ElementContent"):"ElementContent"===this._currentState&&(this._currentState="ElementContent"),this._currentState="EndElement";var e=this._elementStack.length-1;this._writeEndElementInternal(this._elementStack[Number.parseInt(e.toString(),10)]._prefix,this._elementStack[Number.parseInt(e.toString(),10)]._localName),this._namespaceStack.splice(this._elementStack[Number.parseInt(e.toString(),10)]._previousTop+1),this._elementStack.splice(e)},e.prototype._writeElementString=function(e,t,i,n){this._writeStartElement(e,i,n),null!=t&&0!==t.length&&this._writeString(t),this._writeEndElement()},e.prototype._writeAttributeString=function(e,t,i,n){this._writeStartAttribute(e,t,i,n),this._writeStringInternal(t,!0),this._writeEndAttribute()},e.prototype._writeString=function(e){this._writeInternal(e,!1)},e.prototype._writeRaw=function(e){this._writeInternal(e,!0)},e.prototype._writeInternal=function(e,t){if(null!=e){if("StartElement"!==this._currentState&&"ElementContent"!==this._currentState)throw new Error("InvalidOperationException: Wrong Token");"StartElement"===this._currentState&&this._startElementContent(),this._currentState="ElementContent",t?this._rawText(e):this._writeStringInternal(e,!1)}},e.prototype._save=function(){for(;this._elementStack.length-1>0;)this._writeEndElement();return""!==this._bufferText&&this._flush(),this._buffer},e.prototype._destroy=function(){this._buffer=void 0;for(var e=0;e<this._namespaceStack.length;e++)this._namespaceStack[Number.parseInt(e.toString(),10)]._destroy();this._namespaceStack=[];for(e=0;e<this._elementStack.length;e++)this._elementStack[Number.parseInt(e.toString(),10)]._destroy();this._elementStack=[],this._bufferText="",this._position=0},e.prototype._flush=function(){if(this._buffer&&this._bufferText&&""!==this._bufferText){if(this._buffer.length>0){for(var e=new Array(this._bufferText.length),t=0;t<this._bufferText.length;t++)e[Number.parseInt(t.toString(),10)]=255&this._bufferText.charCodeAt(t);var i=new Uint8Array(this._buffer.length+e.length);i.set(this._buffer),i.set(e,this._buffer.length),this._buffer=i}else this._buffer=cr(this._bufferText);this._bufferText=""}},e.prototype._writeStartAttribute=function(e,t,i,n){if(null==e||0===e.length){if("xmlns"!==i)throw new Error("ArgumentException: localName cannot be undefined, null or empty");e="xmlns",i=""}if("StartElement"!==this._currentState)throw new Error("InvalidOperationException: Wrong Token");this._checkName(e),this._writeStartAttributePrefixAndNameSpace(e,t,i,n)},e.prototype._writeStartAttributePrefixAndNameSpace=function(e,t,i,n){null==i&&(null!=n&&("xmlns"===e&&"http://www.w3.org/2000/xmlns/"===n||(i=this._lookupPrefix(n))),null==i&&(i="")),null==n&&(null!=i&&i.length>0&&(n=this._lookupNamespace(i)),null==n&&(n="")),this._writeStartAttributeSpecialAttribute(i,e,n,t)},e.prototype._writeStartAttributeSpecialAttribute=function(e,t,i,n){if(0===e.length){if("x"===t[0]&&"xmlns"===t)return this._skipPushAndWrite(e,t,i),void this._pushNamespaceExplicit("",n);i.length>0&&(e=this._lookupPrefix(i))}else{if("x"===e[0]){if("xmlns"===e)return this._skipPushAndWrite(e,t,i),void this._pushNamespaceExplicit(t,n);if("xml"===e&&("space"===t||"lang"===t))return void this._skipPushAndWrite(e,t,i)}0===i.length&&(e="")}null!=e&&0!==e.length&&this._pushNamespaceImplicit(e,i),this._skipPushAndWrite(e,t,i)},e.prototype._writeEndAttribute=function(){this._currentState="StartElement",this._bufferText+='"'},e.prototype._writeStartElementInternal=function(e,t,i){this._bufferText+="<",e.length>0&&(this._rawText(e),this._bufferText+=":"),this._rawText(t);var n=this._elementStack.length;this._elementStack.push(new vn),this._elementStack[Number.parseInt(n.toString(),10)]._set(e,t,i,this._namespaceStack.length-1),this._pushNamespaceImplicit(e,i);for(var o=0;o<this._attributeStack.length;o++)this._attributeStack[Number.parseInt(o.toString(),10)]._destroy();this._attributeStack=[]},e.prototype._writeEndElementInternal=function(e,t){this._position!==this._bufferText.length+1?(this._bufferText+="</",null!=e&&0!==e.length&&(this._rawText(e),this._bufferText+=":"),this._rawText(t),this._bufferText+=">"):(this._bufferText=this._bufferText.substring(0,this._bufferText.length-1),this._bufferText+=" />")},e.prototype._writeStartAttributeInternal=function(e,t){this._bufferText+=" ",null!=e&&e.length>0&&(this._rawText(e),this._bufferText+=":"),this._rawText(t),this._bufferText+='="'},e.prototype._writeNamespaceDeclaration=function(e,t){this._skipNamespace||(this._writeStartNamespaceDeclaration(e),this._writeStringInternal(t,!0),this._bufferText+='"')},e.prototype._writeStartNamespaceDeclaration=function(e){null==e||0===e.length?this._rawText(' xmlns="'):(this._rawText(" xmlns:"),this._rawText(e),this._bufferText+="=",this._bufferText+='"')},e.prototype._writeStringInternal=function(e,t){null==e&&(e=""),e=(e=(e=e.replace(/\&/g,"&amp;")).replace(/\</g,"&lt;")).replace(/\>/g,"&gt;"),t&&(e=e.replace(/\"/g,"&quot;")),this._bufferText+=e,t||(this._position=0)},e.prototype._startElementContent=function(){for(var e=this._elementStack[this._elementStack.length-1]._previousTop,t=this._namespaceStack.length-1;t>e;t--)"NeedToWrite"===this._namespaceStack[Number.parseInt(t.toString(),10)]._kind&&this._writeNamespaceDeclaration(this._namespaceStack[Number.parseInt(t.toString(),10)]._prefix,this._namespaceStack[Number.parseInt(t.toString(),10)]._namespaceUri);this._bufferText+=">",this._position=this._bufferText.length+1},e.prototype._rawText=function(e){this._bufferText+=e},e.prototype._addNamespace=function(e,t,i){var n=this._namespaceStack.length;this._namespaceStack.push(new bn),this._namespaceStack[Number.parseInt(n.toString(),10)]._set(e,t,i)},e.prototype._lookupPrefix=function(e){for(var t=this._namespaceStack.length-1;t>=0;t--)if(this._namespaceStack[Number.parseInt(t.toString(),10)]._namespaceUri===e)return this._namespaceStack[Number.parseInt(t.toString(),10)]._prefix},e.prototype._lookupNamespace=function(e){for(var t=this._namespaceStack.length-1;t>=0;t--)if(this._namespaceStack[Number.parseInt(t.toString(),10)]._prefix===e)return this._namespaceStack[Number.parseInt(t.toString(),10)]._namespaceUri},e.prototype._lookupNamespaceIndex=function(e){for(var t=this._namespaceStack.length-1;t>=0;t--)if(this._namespaceStack[Number.parseInt(t.toString(),10)]._prefix===e)return t;return-1},e.prototype._pushNamespaceImplicit=function(e,t){var i,n=this._lookupNamespaceIndex(e),o=!0;if(-1!==n)if(n>this._elementStack[this._elementStack.length-1]._previousTop){if(this._namespaceStack[Number.parseInt(n.toString(),10)]._namespaceUri!==t)throw new Error("XmlException namespace Uri needs to be the same as the one that is already declared");o=!1}else if("Special"===this._namespaceStack[Number.parseInt(n.toString(),10)]._kind){if("xml"!==e)throw new Error('InvalidArgumentException: Prefix "xmlns" is reserved for use by XML.');if(t!==this._namespaceStack[Number.parseInt(n.toString(),10)]._namespaceUri)throw new Error("InvalidArgumentException: Xml String");i="Implied"}else i=this._namespaceStack[Number.parseInt(n.toString(),10)]._namespaceUri===t?"Implied":"NeedToWrite";else{if("http://www.w3.org/XML/1998/namespace"===t&&"xml"!==e||"http://www.w3.org/2000/xmlns/"===t&&"xmlns"!==e)throw new Error("InvalidArgumentException");i="NeedToWrite"}o&&this._addNamespace(e,t,i)},e.prototype._pushNamespaceExplicit=function(e,t){var i=this._lookupNamespaceIndex(e);-1!==i&&i>this._elementStack[this._elementStack.length-1]._previousTop?this._namespaceStack[Number.parseInt(i.toString(),10)]._kind="Written":this._addNamespace(e,t,"Written")},e.prototype._addAttribute=function(e,t,i){var n=this._attributeStack.length;this._attributeStack.push(new En),this._attributeStack[Number.parseInt(n.toString(),10)]._set(e,t,i);for(var o=0;o<n;o++)if(this._attributeStack[Number.parseInt(o.toString(),10)]._isDuplicate(e,t,i))throw new Error("XmlException: duplicate attribute name")},e.prototype._skipPushAndWrite=function(e,t,i){this._addAttribute(e,t,i),this._writeStartAttributeInternal(e,t)},e.prototype._checkName=function(e){if(/[ !@#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(e))throw new Error("InvalidArgumentException: invalid name character")},e}(),bn=function(){function e(){}return e.prototype._set=function(e,t,i){this._prefix=e,this._namespaceUri=t,this._kind=i},e.prototype._destroy=function(){this._prefix=void 0,this._namespaceUri=void 0,this._kind=void 0},e}(),vn=function(){function e(){}return e.prototype._set=function(e,t,i,n){this._previousTop=n,this._prefix=e,this._namespaceUri=i,this._localName=t},e.prototype._destroy=function(){this._previousTop=void 0,this._prefix=void 0,this._localName=void 0,this._namespaceUri=void 0},e}(),En=function(){function e(){}return e.prototype._set=function(e,t,i){this._prefix=e,this._namespaceUri=i,this._localName=t},e.prototype._isDuplicate=function(e,t,i){return this._localName===t&&(this._prefix===e||this._namespaceUri===i)},e.prototype._destroy=function(){this._prefix=void 0,this._namespaceUri=void 0,this._localName=void 0},e}(),xn=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_n=function(){function e(){this._asPerSpecification=!1,this._fileName="",this._formKey="",this._exportEmptyFields=!1,this._groupReferences=new Map,this._groupHolders=[],this._richTextPrefix='<?xml version="1.0"?>',this._table=new Map,this._fields=new Map,this._richTextValues=new Map,this._jsonData=[],this._openingBrace=123,this._openingBracket=91,this._closingBrace=125,this._closingBracket=93,this._colon=58,this._doubleQuotes=34,this._comma=44,this._space=32,this.fdfString="",this._xmlImport=!1}return e.prototype._exportFormFieldsData=function(e){var t="";if(null!=e&&e.export){var i=xr(e._dictionary,"FT",!1,!0,"Parent");if(i&&null!==i.name&&void 0!==i.name){var n=this._getEncodedFontDictionary(e._dictionary),o=e.name;null!=n&&(o=this._getEncodedValue(o,n));var r=void 0,a=void 0;switch(i.name){case"Tx":null!=(t=xr(e._dictionary,"V",!1,!0,"Parent"))?(t=this._getEncodedValue(t,n),this._table.set(o,t)):this._exportEmptyFields&&(t="",this._table.set(o,t));break;case"Ch":if(null!=(r=xr(e._dictionary,"V",!0,!0,"Parent"))&&(a=this._getExportValue(r)),!r&&e._dictionary.has("I")&&(e instanceof jn||e instanceof Yn)&&(a=e._obtainSelectedValue()),null!=a){if("string"==typeof a&&""!==a)t=a=this._getEncodedValue(a,n),this._table.set(o,t);else if(a instanceof Array&&a.length>0){for(var s=[],l=0;l<a.length;l++)s.push(this._getEncodedValue(a[Number.parseInt(l.toString(),10)],n));return this._table.set(o,s),s}}else this._exportEmptyFields&&(t="",this._table.set(o,t));break;case"Btn":if(null!=(r=xr(e._dictionary,"V",!1,!0,"Parent"))){var d=this._getExportValue(r,e);if(null!=d&&""!==d){var h=void 0;if(e instanceof zn&&(h=e),!e._dictionary.has("Opt")||null!=h&&-1===h.selectedIndex)t=d=this._getEncodedValue(d,n),this._table.set(o,t);else if(e._dictionary.has("Opt")){var A=e._dictionary.getArray("Opt"),p=Number.parseInt(d,10);if((null==p||Number.isNaN(p))&&(p=0),null!=A){var c=void 0;null!=(c=h?A[h.selectedIndex]:A[Number.parseInt(p.toString(),10)])&&(d=c),null!=d&&""!==d&&(t=d=this._getEncodedValue(d,n),this._table.set(o,t))}}}else(e instanceof zn||e instanceof Un)&&(t=this._exportEmptyFields?d:"Off",this._table.set(o,t))}else if(e instanceof zn)(t=e._getAppearanceStateValue())||(t=this._exportEmptyFields?"":"Off"),this._table.set(o,t);else{var g=e.itemAt(e._defaultIndex),u=void 0;(u=g?g._dictionary:e._dictionary)&&u.has("AS")?(t=u.get("AS").name,this._table.set(o,t)):this._exportEmptyFields&&(t="",this._table.set(o,t))}}}}return t},e.prototype._exportFormFieldData=function(e){var t=xr(e._dictionary,"FT",!1,!0,"Parent");if(t&&null!==t.name&&void 0!==t.name){var i=this._getEncodedFontDictionary(e._dictionary),n=e.name;null!=i&&(n=this._getEncodedValue(n,i));var o=void 0,r=void 0;switch(t.name){case"Tx":if(o=xr(e._dictionary,"V",!1,!0,"Parent"),this._asPerSpecification){if(e._dictionary.has("RV"))null!=(o=xr(e._dictionary,"RV",!1,!0,"Parent"))&&(o+=this._key,this._formKey=this._key,this._table.set(n,o));else if(null!=o){var a=o=this._getEncodedValue(o,i);e instanceof Ln&&e.multiLine&&(o=a=(a=a.replace("\n","")).replace("\r","\r\n")),this._table.set(n,o)}}else null!=o?(o=this._getEncodedValue(o,i),this._table.set(n,o)):this._exportEmptyFields&&this._table.set(n,"");break;case"Ch":if(r=xr(e._dictionary,"V",!0,!0,"Parent"),this._asPerSpecification){if(e instanceof Hn)if(Array.isArray(r))this._table.set(n,r);else if("string"==typeof r)r=this._getEncodedValue(r,i),this._table.set(n,r);else if(null==r&&e._dictionary.has("I")){if(null!=(d=e._obtainSelectedValue()))if("string"==typeof d&&""!==d)d=this._getEncodedValue(d,i),this._table.set(n,o);else if(d instanceof Array&&d.length>0){for(var s=[],l=0;l<d.length;l++)s.push(this._getEncodedValue(d[Number.parseInt(l.toString(),10)],i));this._table.set(n,s)}}}else{var d=void 0;if(null!=r&&(d=this._getExportValue(r)),!r&&e._dictionary.has("I")&&(e instanceof jn||e instanceof Yn)&&(d=e._obtainSelectedValue()),null!=d)if("string"==typeof d&&""!==d)d=this._getEncodedValue(d,i),this._table.set(n,d);else if(d instanceof Array&&d.length>0){for(s=[],l=0;l<d.length;l++)s.push(this._getEncodedValue(d[Number.parseInt(l.toString(),10)],i));this._table.set(n,s)}else this._exportEmptyFields&&this._table.set(n,"");else this._exportEmptyFields&&this._table.set(n,"")}break;case"Btn":if(null!=(r=xr(e._dictionary,"V",!1,!0,"Parent")))if(null!=(g=this._getExportValue(r,e))&&""!==g){this._asPerSpecification&&"XML"!==this._format&&(g=function(e){var t="";if(e&&"#"===e[0]){e=e.substring(1);for(var i=0;i<e.length;i+=2)t+=String.fromCharCode(Number.parseInt(e.substring(i,i+2),16));return t}return e}(g));var h=void 0;if(e instanceof zn&&(h=e),!e._dictionary.has("Opt")||null!=h&&-1===h.selectedIndex)g=this._getEncodedValue(g,i),this._table.set(n,g);else if(e._dictionary.has("Opt")){var A=e._dictionary.getArray("Opt"),p=Number.parseInt(g,10);if((null==p||Number.isNaN(p))&&(p=0),null!=A){var c=void 0;null!=(c=h?A[h.selectedIndex]:A[Number.parseInt(p.toString(),10)])&&(g=c),null!=g&&""!==g&&(g=this._getEncodedValue(g,i),this._table.set(n,g))}}}else(e instanceof zn||e instanceof Un)&&(this._exportEmptyFields?this._table.set(n,g):this._table.set(n,"Off"));else if(e instanceof zn){var g;(g=e._getAppearanceStateValue())||(g=this._exportEmptyFields?"":"Off"),this._table.set(n,g)}else{var u=e.itemAt(e._defaultIndex),f=void 0;(f=u?u._dictionary:e._dictionary)&&f.has("AS")?this._table.set(n,f.get("AS").name):this._exportEmptyFields&&this._table.set(n,"")}}}},e.prototype._getAnnotationType=function(e){var t="";if(e&&e.has("Subtype")){var i=e.get("Subtype");i&&(t=i.name)}return t},e.prototype._getValue=function(e,t){void 0===t&&(t=!1);var i="";if(null!=e)if(e instanceof va)i=e.name;else if("boolean"==typeof e)i=e?t?"true":"yes":t?"false":"no";else if("string"==typeof e)i=this._getValidString(e);else if(Array.isArray(e)){var n=e;n.length>0&&(i=this._getValue(n[0],t));for(var o=1;o<n.length;o++)i+=","+this._getValue(n[Number.parseInt(o.toString(),10)],t)}else"number"==typeof e&&(i=e.toString());return i},e.prototype._getColor=function(e){var t="";if(e&&Array.isArray(e)&&e.length>=3){var i=Math.round(255*e[0]).toString(16).toUpperCase(),n=Math.round(255*e[1]).toString(16).toUpperCase(),o=Math.round(255*e[2]).toString(16).toUpperCase();t="#"+(1===i.length?"0"+i:i)+(1===n.length?"0"+n:n)+(1===o.length?"0"+o:o)}return t},e.prototype._getValidString=function(e){return-1!==e.indexOf("\n")&&(e=e.replace(/\n/g,"\\n")),-1!==e.indexOf("\r")&&(e=e.replace(/\r/g,"\\r")),e},e.prototype._getEncodedFontDictionary=function(e){var t,i;if(e.has("Kids")&&!e.has("AP")&&(i=e.getArray("Kids")),e.has("AP")||null!=i&&Array.isArray(i)){var n=void 0;if(null!=i&&i.length>0){var o=i[0];null!=o&&o.has("AP")&&(n=o.get("AP"))}else n=e.get("AP");if(null!=n&&n.has("N")){var r=n.get("N");if(null!=r&&r instanceof ka&&r.dictionary.has("Resources")){var a=r.dictionary.get("Resources");null!=a&&a.has("Font")&&(t=a.get("Font"))}}}return t},e.prototype._getEncodedValue=function(e,t){var i,n=this,o=e;if(null!==this._encodeDictionary&&void 0!==this._encodeDictionary)return i=new Mn(this._encodeDictionary),this._replaceNotUsedCharacters(o,i);var r=this._document.form._dictionary;if(null!=r&&r.has("DR")){var a=r.get("DR");if(null!=a&&a.has("Encoding")){var s=a.get("Encoding");if(null!=s&&s.has("PDFDocEncoding")){var l=s.get("PDFDocEncoding");if(null!=l&&l.has("Differences")){var d=new Va(this._crossReference);d.set("Differences",l.get("Differences"));var h=this._crossReference._getNextReference();this._crossReference._cacheMap.set(h,d);var A=new Va(this._crossReference);if(A.set("Subtype",va.get("Type1")),A.set("Encoding",h),null!=(i=new Mn(A))&&null!==i.differencesDictionary&&void 0!==i.differencesDictionary&&i.differencesDictionary.size>0)return this._encodeDictionary=A,this._replaceNotUsedCharacters(o,i)}}}}if(null!=e&&null!=t&&t.size>0){var p,c=!1;if(t.forEach((function(e,t){if(!c&&null!=t){var r=void 0;if(t instanceof Va)r=t;else if(t instanceof xa){var a=n._crossReference._fetch(t);null!=a&&a instanceof Va&&(r=a)}r&&(i=new Mn(r),p=n._replaceNotUsedCharacters(o,i),c=!0)}})),!c)return p}return o},e.prototype._replaceNotUsedCharacters=function(e,t){for(var i="",n=t.differencesDictionary,o=0;o<e.length;o++){var r=e[Number.parseInt(o.toString(),10)],a=e.charCodeAt(o);if(n.has(r)){var s=n.get(r);s.length>1&&"Type3"!==t._fontType||a>127&&a<=255&&"Type1"===t._fontType&&"WinAnsiEncoding"!==t._baseFontEncoding&&"Encoding"===t._fontEncoding&&"ZapfDingbats"===t._fontName?i+=r:i+=s}else i+=r}return i},e.prototype._getExportValue=function(e,t){var i;if(null!=e)if(null!=t){if(e instanceof va?i=e.name:"string"==typeof e&&(i=e),null!=i&&""!==i&&t instanceof zn&&-1!==t.selectedIndex){var n=t.itemAt(t.selectedIndex);null!=n&&n.value===i&&(i=n.value)}}else if(e instanceof va)i=e.name;else if("string"==typeof e)i=e;else if(Array.isArray(e)){for(var o=[],r=0;r<e.length;r++){var a=e[Number.parseInt(r.toString(),10)];a instanceof va?o.push(a.name):"string"==typeof a&&o.push(a)}return o}return i},e.prototype._addReferenceToGroup=function(e,t){var i=t.get("NM");i&&""!==i?(this._groupReferences.set(i,e),t.has("IRT")&&this._groupHolders.push(t)):!i&&t.has("IRT")&&(i=t.get("IRT"))&&""!==i&&this._groupReferences.has(i)&&t.update("IRT",this._groupReferences.get(i))},e.prototype._handlePopup=function(e,t,i,n){if(i&&i.has("Popup")){var o=i.getRaw("Popup"),r=i.get("Popup");if(r&&r instanceof Va){o&&r&&r.update("Parent",t);var a=e._parseAnnotation(r),s=e._annotations.length;e._annotations.push(t),n.set("Annots",e._annotations),n._updated=!0,e._parsedAnnotations.set(s,a)}}},e.prototype._importField=function(){var e=this,t=this._document.form,i=t.count;i&&this._fields.forEach((function(n,o){var r;e._richTextValues.size>0&&e._richTextValues.has(o)&&(r=e._richTextValues.get(o));var a=t._getFieldIndex(o);if(-1!==a&&a<i){var s=t.fieldAt(a);s&&null!=s&&(r&&""!==r&&s._dictionary.update("RV",r),e._importFieldData(s,n))}}))},e.prototype._importFieldData=function(e,t){if(null!=t&&t.length>0&&null!=e&&!e.readOnly){var i=t[0];if(e instanceof Ln)null!=i&&(e instanceof Ln&&e.multiLine&&(i=(i=i.replace("\r\n","\r")).replace("\n","\r")),e.text=i);else if(e instanceof jn||e instanceof Yn){var n;n=t.length>1?t:this._xmlImport?-1!==i.indexOf(",")?i.split(","):[i]:[-1!==i.indexOf(",")?i.split(",")[0]:i];var o=[],r=e._options;r&&r.length>0&&r.forEach((function(e){-1===n.indexOf(e[0])&&-1===n.indexOf(e[1])||o.push(r.indexOf(e))})),o.length>0&&(e.selectedIndex=o,e instanceof Yn&&this._asPerSpecification&&e._dictionary.has("AP")&&(delete e._dictionary._map.AP,e._dictionary._updated=!0))}else if(e instanceof Un){var a=i.toLowerCase();this._containsExportValue(i,e)||"on"===a||"yes"===a?e.checked=!0:e.checked=!1}else if(e instanceof zn){for(var s=-1,l=0;l<e._kidsCount;l++){var d=e.itemAt(l);if(d&&d.value&&d.value===i){s=l;break}}-1!==s&&e.selectedIndex!==s&&(e.selectedIndex=s)}}},e.prototype._containsExportValue=function(e,t){var i=!1;if(t._kidsCount>0)for(var n=0;n<t._kidsCount;n++){var o=t.itemAt(n);if(o&&this._checkSelected(o._dictionary,e))return!0}else if(!(i=this._checkSelected(t._dictionary,e))&&this._asPerSpecification&&t._dictionary.has("AS")){var r=t._dictionary.get("AS");if(!r||"Off"!==r.name&&"No"!==r.name)i=!0;else if(t._dictionary.has("Opt")){var a=t._dictionary.getArray("Opt");a&&a.length>0&&a.forEach((function(t){t===e&&(i=!0)}))}}return i},e.prototype._checkSelected=function(e,t){if(e&&e.has("AP")){var i=e.get("AP");if(i&&i instanceof Va&&i.has("N")){var n=i.get("N");if(n&&n instanceof Va&&n.has(t)&&"off"!==t.toLocaleLowerCase()&&"no"!==t.toLocaleLowerCase())return!0}}return!1},e.prototype._dispose=function(){this.exportAppearance=void 0,this._asPerSpecification=void 0,this._skipBorderStyle=void 0,this._fileName=void 0,this._document=void 0,this._crossReference=void 0,this._isAnnotationExport=void 0,this._isAnnotationImport=void 0,this._key=void 0,this._formKey=void 0,this._exportEmptyFields=void 0,this._groupReferences=void 0,this._groupHolders=void 0,this._encodeDictionary=void 0,this._annotationTypes=void 0,this._annotationAttributes=void 0,this._xmlDocument=void 0,this._parser=void 0,this._table=void 0,this._fields=void 0,this._richTextValues=void 0,this._jsonData=void 0},e}(),Dn=function(e){function t(t){var i=e.call(this)||this;return null!=t&&(i._fileName=t),i}return xn(t,e),t.prototype._exportAnnotations=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!0,this._save()},t.prototype._exportFormFields=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._key=zr(),this._save()},t.prototype._save=function(){var e=new In;if(e._writeStartDocument(),e._writeStartElement("xfdf"),e._writeAttributeString(null,"http://ns.adobe.com/xfdf/","xmlns",null),e._writeAttributeString("space","preserve","xml",null),this._isAnnotationExport){if(e._writeStartElement("annots"),this._document)for(var t=0;t<this._document.pageCount;t++)for(var i=this._document.getPage(t).annotations,n=0;n<i.count;n++){var o=i.at(n);o&&(!this._annotationTypes||0===this._annotationTypes.length||this._annotationTypes&&this._annotationTypes.length>0&&this._checkAnnotationType(o))&&this._exportAnnotationData(o,e,t)}e._writeEndElement()}else{var r=this._document.form;if(null!=r){this._exportEmptyFields=r.exportEmptyFields;var a=this._document.form.count;for(t=0;t<a;t++){var s=this._document.form.fieldAt(t);null!=s&&s.export&&this._exportFormFieldData(s)}this._writeFormFieldData(e,this._asPerSpecification)}}this._asPerSpecification||(e._writeStartElement("f"),e._writeAttributeString("href",this._fileName));var l=e._save();return e._destroy(),l},t.prototype._writeFormFieldData=function(e,t){var i=this;if(void 0===t&&(t=!1),t){e._writeStartElement("f"),e._writeAttributeString("href",this._fileName),e._writeEndElement();var n=this._getElements(this._table);if(n&&n.size>0){e._writeStartElement("fields");var o=!1;n.forEach((function(t,n){if(e._writeStartElement("field"),e._writeAttributeString("name",n.toString()),Array.isArray(t)&&t.forEach((function(t){e._writeStartElement("value"),e._writeString(t.toString()),e._writeEndElement(),o=!0})),t instanceof Map)i._writeFieldName(t,e);else if(!o&&!t.toString().endsWith(i._formKey)||!o&&""===i._formKey)e._writeStartElement("value"),e._writeString(t.toString()),e._writeEndElement();else if(""!==i._formKey&&t.toString().endsWith(i._formKey)){e._writeStartElement("value-richtext");var r=t.toString();r.startsWith('<?xml version="1.0"?>')&&(r=r.substring(21));var a=r.length-i._formKey.length;r=r.substring(0,a)+r.substring(a+i._formKey.length),e._writeRaw(r),e._writeEndElement()}e._writeEndElement(),o=!1})),e._writeEndElement()}e._writeStartElement("ids");var r=!1;if(this._crossReference._root.has("ID")){var a=this._crossReference._root.getArray("ID");a&&a.length>=1&&(e._writeAttributeString("original",a[0]),e._writeAttributeString("modified",a[1]),r=!0)}r||(e._writeAttributeString("original",""),e._writeAttributeString("modified","")),e._writeEndElement()}else e._writeStartElement("fields"),this._table.forEach((function(t,i){e._writeStartElement("field"),e._writeAttributeString("name",i.toString()),Array.isArray(t)?t.forEach((function(t){e._writeStartElement("value"),e._writeString(t.toString()),e._writeEndElement()})):(e._writeStartElement("value"),e._writeString(t.toString()),e._writeEndElement()),e._writeEndElement()})),e._writeEndElement()},t.prototype._writeFieldName=function(e,t){var i=this;e.forEach((function(e,n){if(e instanceof Map)t._writeStartElement("field"),t._writeAttributeString("name",n.toString()),i._writeFieldName(e,t),t._writeEndElement();else{if(t._writeStartElement("field"),t._writeAttributeString("name",n.toString()),Array.isArray(e))e.forEach((function(e){t._writeStartElement("value"),t._writeString(e.toString()),t._writeEndElement()}));else{if(e.toString().endsWith(i._formKey)&&""!==i._formKey){t._writeStartElement("value-richtext");var o=e.toString();o.startsWith('<?xml version="1.0"?>')&&(o=o.substring(21));var r=o.length-i._formKey.length;o=o.substring(0,r)+o.substring(r+i._formKey.length),t._writeRaw(o)}else t._writeStartElement("value"),t._writeString(e.toString());t._writeEndElement()}t._writeEndElement()}}))},t.prototype._getElements=function(e){var t=this,i=new Map;return e.forEach((function(e,n){var o=i;if(-1!==n.toString().indexOf("."))for(var r=n.toString().split("."),a=0;a<r.length;a++){var s=r[Number.parseInt(a.toString(),10)];if(o.has(s))t._getElements(o[s]),o=o[s];else if(a===r.length-1)o.set(s,e);else{var l=new Map;o.set(s,l),o=l}}else o.set(n,e)})),i},t.prototype._checkAnnotationType=function(e){return void 0!==e._type&&-1!==this._annotationTypes.indexOf(e._type)},t.prototype._exportAnnotationData=function(e,t,i){e._dictionary&&!(e instanceof lo||e instanceof po||e instanceof Ao||e instanceof ho)&&this._writeAnnotationData(t,i,e)},t.prototype._writeAnnotationData=function(e,t,i){var n,o,r=!1;i instanceof Xn?(n=i,o=i._dictionary):o=i;var a=this._getAnnotationType(o);if(this._skipBorderStyle=!1,a&&""!==a){this._annotationAttributes||(this._annotationAttributes=[]),e._writeStartElement(a.toLowerCase()),e._writeAttributeString("page",t.toString());var s=void 0;switch(a){case"Line":s=n.linePoints,e._writeAttributeString("start",s[0].toString()+","+s[1].toString()),e._writeAttributeString("end",s[2].toString()+","+s[3].toString());break;case"Stamp":case"Square":r=!0}if(o&&o.has("BE")&&o.has("BS")){var l=o.get("BE");l&&l.has("S")&&(this._skipBorderStyle=!0)}this._writeDictionary(o,t,e,r),e._writeEndElement(),this._annotationAttributes=[]}},t.prototype._writeDictionary=function(e,t,i,n){var o=this,r=!1;if(e.has("Type")){var a=e.get("Type");r=a&&"Border"===a.name&&this._skipBorderStyle}if(e.forEach((function(a,s){if((n||"AP"!==a)&&"P"!==a&&"Parent"!==a){var l=void 0;if(s instanceof xa&&(l=e.get(a)),l&&l instanceof Va)switch(a){case"BS":case"BE":o._writeDictionary(l,t,i,!1);break;case"IRT":l.has("NM")&&i._writeAttributeString("inreplyto",o._getValue(l.get("NM")))}else s instanceof Va?o._writeDictionary(s,t,i,!1):(!r||r&&"S"!==a)&&o._writeAttribute(i,a,s)}})),(this.exportAppearance||n)&&e.has("AP")){var s=this._getAppearanceString(e.get("AP"));s&&s.length>0&&(i._writeStartElement("appearance"),i._writeRaw(Er(s)),i._writeEndElement())}if(e.has("Measure")&&this._exportMeasureDictionary(e.get("Measure"),i),e.has("Sound")){var l=e.get("Sound");if(l&&l.dictionary){var d=l.dictionary;if(d.has("B")&&i._writeAttributeString("bits",this._getValue(d.get("B"))),d.has("C")&&i._writeAttributeString("channels",this._getValue(d.get("C"))),d.has("E")&&i._writeAttributeString("encoding",this._getValue(d.get("E"))),d.has("R")&&i._writeAttributeString("rate",this._getValue(d.get("R"))),d.has("Length")&&d.get("Length")>0)(c=Sr(l.getBytes()))&&""!==c&&(i._writeStartElement("data"),i._writeAttributeString("MODE","raw"),i._writeAttributeString("encoding","hex"),d.has("Length")&&i._writeAttributeString("length",this._getValue(d.get("Length"))),d.has("Filter")&&i._writeAttributeString("filter",this._getValue(d.get("Filter"))),i._writeRaw(c),i._writeEndElement())}}else if(e.has("FS")){var h=e.get("FS");if(h&&(h.has("F")&&i._writeAttributeString("file",this._getValue(h.get("F"))),h.has("EF"))){var A=h.get("EF");if(A&&A.has("F")){var p=A.get("F");if(p&&p.dictionary){var c,g=p.dictionary;if(g.has("Params")){var u=g.get("Params");if(u){if(u.has("CreationDate")){var f=this._getValue(u.get("CreationDate"));i._writeAttributeString("creation",f)}if(u.has("ModificationDate")){var f=this._getValue(u.get("ModificationDate"));i._writeAttributeString("modification",f)}if(u.has("Size")&&i._writeAttributeString("size",this._getValue(u.get("Size"))),u.has("CheckSum")){var m=Sr(cr(f=this._getValue(u.get("CheckSum"))));i._writeAttributeString("checksum",m)}}}(c=Sr(p.getBytes()))&&""!==c&&(i._writeStartElement("data"),i._writeAttributeString("MODE","raw"),i._writeAttributeString("encoding","hex"),g.has("Length")&&i._writeAttributeString("length",this._getValue(g.get("Length"))),g.has("Filter")&&i._writeAttributeString("filter",this._getValue(g.get("Filter"))),i._writeRaw(c),i._writeEndElement())}}}}if(e.has("Vertices")){i._writeStartElement("vertices");var w=e.getArray("Vertices");if(w&&w.length>0){var y=w.length;if(y%2==0){for(var f="",S=0;S<y-1;S++)f+=this._getValue(w[Number.parseInt(S.toString(),10)])+(S%2!=0?";":",");(f+=this._getValue(w[y-1]))&&""!==f&&i._writeRaw(f)}}i._writeEndElement()}if(e.has("Popup")){var C=e.get("Popup");C&&this._writeAnnotationData(i,t,C)}if(e.has("DA")){var B=e.get("DA");B&&this._writeRawData(i,"defaultappearance",B)}if(e.has("DS")){var I=e.get("DS");I&&this._writeRawData(i,"defaultstyle",I)}if(e.has("InkList")){var b=e.getArray("InkList");if(b&&b.length>0){i._writeStartElement("inklist");for(var v=0;v<b.length;v++)i._writeElementString("gesture",this._getValue(b[Number.parseInt(v.toString(),10)]));i._writeEndElement()}}if(e.has("RC")&&((f=e.get("RC"))&&""!==f)){var E=f.indexOf("<body");E>0&&(f=f.substring(E)),this._writeRawData(i,"contents-richtext",f)}e.has("Contents")&&((f=e.get("Contents"))&&f.length>0&&(i._writeStartElement("contents"),i._writeString(f),i._writeEndElement()))},t.prototype._getAppearanceString=function(e){var t=new In(!0);t._writeStartElement("DICT"),t._writeAttributeString("KEY","AP"),this._writeAppearanceDictionary(t,e),t._writeEndElement();var i=t.buffer;return t._destroy(),i},t.prototype._writeAppearanceDictionary=function(e,t){var i=this;t&&t.size>0&&t.forEach((function(n,o){i._writeObject(e,o instanceof xa?t.get(n):o,t,n)}))},t.prototype._writeObject=function(e,t,i,n,o){if(null!=t)if(t instanceof va)this._writePrefix(e,"NAME",n),e._writeAttributeString("VAL",t.name),e._writeEndElement();else if(Array.isArray(t))this._writePrefix(e,"ARRAY",n),i.has(n)?this._writeArray(e,i.getArray(n),i):this._writeArray(e,t,i),e._writeEndElement();else if("string"==typeof t)this._writePrefix(e,"STRING",n),e._writeAttributeString("VAL",t),e._writeEndElement();else if("number"==typeof t)Number.isInteger(t)?(this._writePrefix(e,"INT",n),e._writeAttributeString("VAL",t.toString())):(this._writePrefix(e,"FIXED",n),e._writeAttributeString("VAL",t.toFixed(6))),e._writeEndElement();else if("boolean"==typeof t)this._writePrefix(e,"BOOL",n),e._writeAttributeString("VAL",t?"true":"false"),e._writeEndElement();else if(t instanceof Va)this._writePrefix(e,"DICT",n),this._writeAppearanceDictionary(e,t),e._writeEndElement();else if(null===t)this._writePrefix(e,"NULL",n),e._writeEndElement();else if(t instanceof ka&&t.dictionary){var r=t.dictionary;if(this._writePrefix(e,"STREAM",n),e._writeAttributeString("DEFINE",""),r.has("Subtype")&&"Image"===this._getValue(r.get("Subtype"))||!r.has("Type")&&!r.has("Subtype")){var a=void 0;a=o?r.has("Filter")&&"DCTDecode"===r.get("Filter").name?t.getString(!0):Ca(t,!0):t.getString(!0),!r.has("Length")&&a&&""!==a&&r.update("Length",t.length),this._writeAppearanceDictionary(e,r),e._writeStartElement("DATA"),e._writeAttributeString("MODE","RAW"),e._writeAttributeString("ENCODING","HEX"),a&&""!==a&&e._writeRaw(a)}else{a=t.getString();!r.has("Length")&&a&&""!==a&&r.update("Length",t.length),a=(a=a.replace(/</g,"&lt;")).replace(/>/g,"&gt;"),this._writeAppearanceDictionary(e,r),e._writeStartElement("DATA"),e._writeAttributeString("MODE","FILTERED"),e._writeAttributeString("ENCODING","ASCII"),a&&""!==a&&e._writeRaw(a)}e._writeEndElement(),e._writeEndElement()}else t instanceof xa&&this._crossReference&&this._writeObject(e,this._crossReference._fetch(t),i,n,t._isNew)},t.prototype._writePrefix=function(e,t,i){e._writeStartElement(t),i&&e._writeAttributeString("KEY",i)},t.prototype._writeArray=function(e,t,i){var n=this;t.forEach((function(t){n._writeObject(e,t,i)}))},t.prototype._getFormatedString=function(e,t){return void 0===t&&(t=!1),e=t?(e=(e=e.replace("&amp;","&")).replace("&lt;","<")).replace("&gt;",">"):(e=(e=e.replace("&","&amp;")).replace("<","&lt;")).replace(">","&gt;")},t.prototype._writeAttribute=function(e,t,i){var n;if(this._annotationAttributes&&-1===this._annotationAttributes.indexOf(t))switch(t){case"C":this._writeColor(e,i,"color","c");break;case"IC":this._writeColor(e,i,"interior-color");break;case"M":this._writeAttributeString(e,"date",i);break;case"NM":this._writeAttributeString(e,"name",i);break;case"Name":this._writeAttributeString(e,"icon",i);break;case"Subj":this._writeAttributeString(e,"subject",i);break;case"T":this._writeAttributeString(e,"title",i);break;case"Rotate":this._writeAttributeString(e,"rotation",i);break;case"W":this._writeAttributeString(e,"width",i);break;case"LE":i&&Array.isArray(i)?2===i.length&&(e._writeAttributeString("head",this._getValue(i[0])),e._writeAttributeString("tail",this._getValue(i[1]))):i instanceof va&&this._writeAttributeString(e,"head",i);break;case"S":if(-1===this._annotationAttributes.indexOf("style")){switch(this._getValue(i)){case"D":e._writeAttributeString("style","dash");break;case"C":e._writeAttributeString("style","cloudy");break;case"S":e._writeAttributeString("style","solid");break;case"B":e._writeAttributeString("style","bevelled");break;case"I":e._writeAttributeString("style","inset");break;case"U":e._writeAttributeString("style","underline")}this._annotationAttributes.push("style")}break;case"D":this._writeAttributeString(e,"dashes",i);break;case"I":this._writeAttributeString(e,"intensity",i);break;case"RD":this._writeAttributeString(e,"fringe",i);break;case"IT":this._writeAttributeString(e,"IT",i);break;case"RT":this._writeAttributeString(e,"replyType",i,!0);break;case"LL":this._writeAttributeString(e,"leaderLength",i);break;case"LLE":this._writeAttributeString(e,"leaderExtend",i);break;case"Cap":this._writeAttributeString(e,"caption",i);break;case"Q":this._writeAttributeString(e,"justification",i);break;case"CP":this._writeAttributeString(e,"caption-style",i);break;case"CL":this._writeAttributeString(e,"callout",i);break;case"QuadPoints":this._writeAttributeString(e,"coords",i);break;case"CA":this._writeAttributeString(e,"opacity",i);break;case"F":if("number"==typeof i&&-1===this._annotationAttributes.indexOf("flags")){var o=hr(i);e._writeAttributeString("flags",o),this._annotationAttributes.push("flags")}break;case"InkList":case"Type":case"Subtype":case"P":case"Parent":case"L":case"Contents":case"RC":case"DA":case"DS":case"FS":case"MeasurementTypes":case"Vertices":case"GroupNesting":case"ITEx":break;case"TextMarkupContent":n=cr(i),this._writeAttributeString(e,t.toLowerCase(),Sr(n));break;default:this._writeAttributeString(e,t.toLowerCase(),i)}},t.prototype._writeAttributeString=function(e,t,i,n){if(void 0===n&&(n=!1),-1===this._annotationAttributes.indexOf(t)){var o=this._getValue(i);e._writeAttributeString(t,n?o.toLowerCase():o),this._annotationAttributes.push(t)}},t.prototype._writeRawData=function(e,t,i){i&&""!==i&&(e._writeStartElement(t),e._writeRaw(i),e._writeEndElement())},t.prototype._writeColor=function(e,t,i,n){var o=this._getColor(t);if("number"==typeof t&&n){var r=this._getValue(t);r&&""!==r&&-1===this._annotationAttributes.indexOf(n)&&(e._writeAttributeString(n,r),this._annotationAttributes.push(n))}o&&""!==o&&-1===this._annotationAttributes.indexOf(i)&&(e._writeAttributeString(i,o),this._annotationAttributes.push(i))},t.prototype._exportMeasureDictionary=function(e,t){if(t._writeStartElement("measure"),e){if(e.has("R")&&t._writeAttributeString("rateValue",this._getValue(e.get("R"))),e.has("A")){var i=e.getArray("A");t._writeStartElement("area"),this._exportMeasureFormatDetails(i[0],t),t._writeEndElement()}if(e.has("D")){i=e.getArray("D");t._writeStartElement("distance"),this._exportMeasureFormatDetails(i[0],t),t._writeEndElement()}if(e.has("X")){i=e.getArray("X");t._writeStartElement("xformat"),this._exportMeasureFormatDetails(i[0],t),t._writeEndElement()}}t._writeEndElement()},t.prototype._exportMeasureFormatDetails=function(e,t){e.has("C")&&t._writeAttributeString("c",this._getValue(e.get("C"))),e.has("F")&&t._writeAttributeString("f",this._getValue(e.get("F"))),e.has("D")&&t._writeAttributeString("d",this._getValue(e.get("D"))),e.has("RD")&&t._writeAttributeString("rd",this._getValue(e.get("RD"))),e.has("U")&&t._writeAttributeString("u",this._getValue(e.get("U"))),e.has("RT")&&t._writeAttributeString("rt",this._getValue(e.get("RT"))),e.has("SS")&&t._writeAttributeString("ss",this._getValue(e.get("SS"))),e.has("FD")&&t._writeAttributeString("fd",this._getValue(e.get("FD")))},t.prototype._importAnnotations=function(e,t){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1;var i=mr(t,!0);this._xmlDocument=(new DOMParser).parseFromString(i,"text/xml"),this._isAnnotationImport=!0,this._readXmlData(this._xmlDocument.documentElement)},t.prototype._importFormData=function(e,t){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._xmlDocument=(new DOMParser).parseFromString(mr(t,!0),"text/xml"),this._readXmlData(this._xmlDocument.documentElement)},t.prototype._readXmlData=function(e){if(e&&1===e.nodeType)if(this._checkXfdf(e),this._isAnnotationImport){var t=e.getElementsByTagName("annots");if(t&&t.length>0)for(var i=0;i<t.length;i++){var n=t.item(i);if(n&&"annots"===n.localName&&n.hasChildNodes())for(var o=n.childNodes,r=0;r<o.length;r++){var a=o.item(r);if(a&&1===a.nodeType){var s=a;s&&1===s.nodeType&&this._parseAnnotationData(s)}}}if(this._groupHolders.length>0)for(i=0;i<this._groupHolders.length;i++){var l=this._groupHolders[Number.parseInt(i.toString(),10)],d=l.get("IRT");d&&""!==d&&(this._groupReferences.has(d)?l.update("IRT",this._groupReferences.get(d)):delete l._map.IRT)}this._groupHolders=[],this._groupReferences=new Map}else this._parseFormData(e);this._dispose()},t.prototype._checkXfdf=function(e){if("xfdf"!==e.nodeName)throw new Error("Invalid XFDF file.")},t.prototype._parseFormData=function(e){var t=e.getElementsByTagName("f");if(t&&t.length>0){var i=t.item(0);if(i&&"f"===i.localName&&i.hasAttribute("href")){var n=i.getAttribute("href");n&&""!==n&&(this._fileName=n)}}(t=e.getElementsByTagName("ids"))&&t.length>0&&(this._asPerSpecification=!0);var o=e.childNodes;if(o&&o.length>0)for(var r=0;r<o.length;r++){var a=o.item(r);if(a&&1===a.nodeType){var s=a;if(s&&"fields"===s.localName&&s.hasChildNodes()){for(var l=s.childNodes,d=[],h=0;h<l.length;h++){var A=l.item(h);if(A&&1===A.nodeType){var p=A;p&&"field"===p.localName&&d.push(p)}}this._importFormNodes(d)}}}this._importField()},t.prototype._importFormNodes=function(e){for(var t=0;t<e.length;t++){var i=e[Number.parseInt(t.toString(),10)],n="";if(i&&(i.hasAttribute("name")&&(n=i.getAttribute("name")),n&&""!==n)){var o=i.getElementsByTagName("value");if(o&&o.length>0){for(var r=i,a="";"fields"!==r.localName;){a.length>0&&(a="."+a);var s=!1;if(r.hasAttribute("name")){var l=r.getAttribute("name");l&&""!==l&&(a=l+a,s=!0)}s||(a+=r.localName),r=r.parentElement}n=a;var d=void 0;d=this._fields.has(n)?this._fields.get(n):[];for(var h=0;h<o.length;h++)d.push(o.item(h).textContent);this._fields.set(n,d)}else if((o=i.getElementsByTagName("value-richtext"))&&o.length>0){var A=o.item(0);if(A){for(r=i,a="";"fields"!==r.localName;){a.length>0&&(a="."+a);s=!1;if(r.hasAttribute("name")){var p=r.getAttribute("name");p&&""!==p&&(a=p+a,s=!0)}s||(a+=r.localName),r=r.parentElement}n=a;var c=A.textContent;if(A.childNodes&&A.childNodes.length>0){var g=A.childNodes[0];if(g&&g.hasChildNodes()){c="";var u=g.childNodes;for(h=void 0;h<u.length;h++)c+=u.item(h).textContent+"\r";c=c.length>0?c.substring(0,c.length-1):A.textContent}}d=void 0;d=this._fields.has(n)?this._fields.get(n):[];for(h=0;h<o.length;h++)d.push(c);this._fields.set(n,d),this._richTextValues.has(n)||this._richTextValues.set(n,A.innerHTML)}}}}},t.prototype._parseAnnotationData=function(e){if(e){var t=-1;if(e.hasAttributes&&e.hasAttribute("page")&&(t=Number.parseInt(e.getAttribute("page"),10))>=0&&t<this._document.pageCount){var i=this._document.getPage(t),n=this._getAnnotationDictionary(i,e);if(n&&n.size>0){var o=i._pageDictionary;if(o){var r=i.annotations,a=r._parseAnnotation(n);if(a){a._isImported=!0;var s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,n),(n.has("NM")||n.has("IRT"))&&this._addReferenceToGroup(s,n),a._ref=s;var l=r._annotations.length;r._annotations.push(s),r._comments&&r._comments.length>0&&(r._comments=[]),o.set("Annots",r._annotations),o._updated=!0,r._parsedAnnotations.set(l,a),this._handlePopup(r,s,n,o)}}}}}},t.prototype._getAnnotationDictionary=function(e,t){var i=new Va(this._crossReference);i.update("Type",va.get("Annot"));var n=!0;switch(t.localName.toLowerCase()){case"line":if(i.update("Subtype",va.get("Line")),t.hasAttribute("start")&&t.hasAttribute("end")){var o=[];t.getAttribute("start").split(",").forEach((function(e){o.push(Number.parseFloat(e))})),t.getAttribute("end").split(",").forEach((function(e){o.push(Number.parseFloat(e))})),4===o.length&&i.update("L",o)}this._addLineEndStyle(i,t);break;case"circle":i.update("Subtype",va.get("Circle"));break;case"square":i.update("Subtype",va.get("Square"));break;case"polyline":i.update("Subtype",va.get("PolyLine")),this._addLineEndStyle(i,t);break;case"polygon":i.update("Subtype",va.get("Polygon")),this._addLineEndStyle(i,t);break;case"ink":i.update("Subtype",va.get("Ink"));break;case"popup":i.update("Subtype",va.get("Popup"));break;case"text":i.update("Subtype",va.get("Text"));break;case"freetext":i.update("Subtype",va.get("FreeText")),this._addLineEndStyle(i,t);break;case"stamp":i.update("Subtype",va.get("Stamp"));break;case"highlight":i.update("Subtype",va.get("Highlight"));break;case"squiggly":i.update("Subtype",va.get("Squiggly"));break;case"underline":i.update("Subtype",va.get("Underline"));break;case"strikeout":i.update("Subtype",va.get("StrikeOut"));break;case"fileattachment":i.update("Subtype",va.get("FileAttachment"));break;case"sound":i.update("Subtype",va.get("Sound"));break;case"caret":i.update("Subtype",va.get("Caret"));break;case"redact":i.update("Subtype",va.get("Redact"));break;default:n=!1}return n&&this._addAnnotationData(i,t,e),i},t.prototype._addAnnotationData=function(e,t,i){this._addBorderStyle(e,t),this._applyAttributeValues(e,t.attributes),this._parseInnerElements(e,t,i),this._addMeasureDictionary(e,t)},t.prototype._addBorderStyle=function(e,t){var i=new Va(this._crossReference),n=new Va(this._crossReference);t.hasAttribute("width")&&n.update("W",Number.parseFloat(t.getAttribute("width")));var o=!0;if(t.hasAttribute("style")){var r="";switch(t.getAttribute("style")){case"dash":r="D";break;case"solid":r="S";break;case"bevelled":r="B";break;case"inset":r="I";break;case"underline":r="U";break;case"cloudy":r="C",o=!1}if(""!==r)if((o?n:i).update("S",va.get(r)),!o&&t.hasAttribute("intensity"))i.update("I",Number.parseFloat(t.getAttribute("intensity")));else if(t.hasAttribute("dashes")){var a=[];t.getAttribute("dashes").split(",").forEach((function(e){a.push(Number.parseFloat(e))})),n.update("D",a)}}i.size>0&&e.update("BE",i),n.size>0&&(n.update("Type","Border"),e.update("BS",n))},t.prototype._applyAttributeValues=function(e,t){for(var i=0;i<t.length;i++){var n=t[Number.parseInt(i.toString(),10)],o=n.value,r=void 0,a=void 0;switch(n.name.toLowerCase()){case"page":case"start":case"end":case"width":case"head":case"tail":case"style":case"intensity":case"itex":break;case"state":this._addString(e,"State",o);break;case"statemodel":this._addString(e,"StateModel",o);break;case"replytype":"group"===o&&e.update("RT",va.get("Group"));break;case"inreplyto":this._addString(e,"IRT",o);break;case"rect":(r=this._obtainPoints(o))&&4===r.length&&e.update("Rect",r);break;case"color":(r=Qr(o))&&3===r.length&&e.update("C",[r[0]/255,r[1]/255,r[2]/255]);break;case"interior-color":(r=Qr(o))&&3===r.length&&e.update("IC",[r[0]/255,r[1]/255,r[2]/255]);break;case"date":this._addString(e,"M",o);break;case"creationdate":this._addString(e,"CreationDate",o);break;case"name":this._addString(e,"NM",o);break;case"icon":o&&""!==o&&e.update("Name",va.get(o));break;case"subject":this._addString(e,"Subj",this._getFormatedString(o,!0));break;case"title":this._addString(e,"T",this._getFormatedString(o,!0));break;case"rotation":this._addInt(e,"Rotate",o);break;case"justification":this._addInt(e,"Q",o);break;case"fringe":this._addFloatPoints(e,this._obtainPoints(o),"RD");break;case"it":o&&""!==o&&e.update("IT",va.get(o));break;case"leaderlength":this._addFloat(e,"LL",o);break;case"leaderextend":void 0!==(a=Number.parseFloat(o))&&e.update("LLE",a);break;case"caption":o&&""!==o&&e.update("Cap","yes"===o.toLowerCase());break;case"caption-style":o&&""!==o&&e.update("CP",va.get(o));break;case"callout":this._addFloatPoints(e,this._obtainPoints(o),"CL");break;case"coords":this._addFloatPoints(e,this._obtainPoints(o),"QuadPoints");break;case"border":this._addFloatPoints(e,this._obtainPoints(o),"Border");break;case"opacity":this._addFloat(e,"CA",o);break;case"flags":if(o&&""!==o){for(var s=Le.default,l=o.split(","),d=0;d<l.length;d++){var h=Ar(l[Number.parseInt(d.toString(),10)]);0===d?s=h:s|=h}e.update("F",s)}break;case"open":o&&""!==o&&e.update("Open","true"===o||"yes"===o);break;case"calibrate":this._addString(e,"Calibrate",o);break;case"customdata":this._addString(e,"CustomData",o);break;case"overlaytext":e.update("OverlayText",o);break;case"repeat":e.update("Repeat","true"===o||"yes"===o);break;default:this._document._allowImportCustomData&&this._addString(e,n.name,o)}}},t.prototype._obtainPoints=function(e){var t=[];return e.split(",").forEach((function(e){t.push(Number.parseFloat(e))})),t},t.prototype._parseInnerElements=function(e,t,i){if(t.hasChildNodes)for(var n=t.childNodes,o=function(o){var a=n[Number.parseInt(o.toString(),10)];if(1===a.nodeType){var s=a,l=a.textContent,d=s.innerHTML;switch(a.nodeName.toLowerCase()){case"popup":if(s&&s.hasAttributes){var h=r._getAnnotationDictionary(i,s);if(h.size>0){var A=r._crossReference._getNextReference();r._crossReference._cacheMap.set(A,h),e.update("Popup",A),h.has("NM")&&r._addReferenceToGroup(A,h)}}break;case"contents":l&&""!==l&&e.update("Contents",r._getFormatedString(l,!0));break;case"contents-richtext":d&&""!==d&&e.update("RC",r._richTextPrefix+d);break;case"defaultstyle":r._addString(e,"DS",l);break;case"defaultappearance":r._addString(e,"DA",l);break;case"vertices":if(l&&""!==l){var p=[];if(l.split(",").forEach((function(e){-1!==e.indexOf(";")?e.split(";").forEach((function(e){p.push(e)})):p.push(e)})),p.length>0){var c=[];p.forEach((function(e){c.push(Number.parseFloat(e))})),e.update("Vertices",c)}}break;case"appearance":r._addAppearanceData(a,e);break;case"inklist":if(a.hasChildNodes){for(var g=[],u=a.childNodes,f=function(e){var t=u[Number.parseInt(e.toString(),10)];if(t&&1===t.nodeType){var i=t;if("gesture"===i.nodeName.toLowerCase()&&i.textContent&&""!==i.textContent){var n=[];if(i.textContent.split(",").forEach((function(e){-1!==e.indexOf(";")?e.split(";").forEach((function(e){n.push(e)})):n.push(e)})),n.length>0){var o=[];n.forEach((function(e){o.push(Number.parseFloat(e))})),g.push(o)}}}},m=0;m<u.length;m++)f(m);e.update("InkList",g)}break;case"data":r._addStreamData(a,e,t)}}},r=this,a=0;a<n.length;a++)o(a)},t.prototype._addStreamData=function(e,t,i){if(e&&e.textContent&&""!==e.textContent){var n=Cr(e.textContent,!0);if(n&&n.length>0&&t.has("Subtype")){var o=t.get("Subtype");o&&"FileAttachment"===o.name?this._addFileAttachment(t,i,n):o&&"Sound"===o.name&&this._addSound(t,i,n)}}},t.prototype._addSound=function(e,t,i){var n=new Na(i);if(n.dictionary._crossReference=this._crossReference,n.dictionary.update("Type",va.get("Sound")),t.hasAttribute("bits")&&this._addInt(n.dictionary,"B",t.getAttribute("bits")),t.hasAttribute("rate")&&this._addInt(n.dictionary,"R",t.getAttribute("rate")),t.hasAttribute("channels")&&this._addInt(n.dictionary,"C",t.getAttribute("channels")),t.hasAttribute("encoding")){var o=t.getAttribute("encoding");o&&""!==o&&n.dictionary.update("E",va.get(o))}t.hasAttribute("filter")&&n.dictionary.update("Filter",va.get("FlateDecode"));var r=this._crossReference._getNextReference();this._crossReference._cacheMap.set(r,n),e.update("Sound",r)},t.prototype._addFileAttachment=function(e,t,i){var n=new Va(this._crossReference);if(n.update("Type",va.get("Filespec")),t.hasAttribute("file")){var o=t.getAttribute("file");this._addString(n,"F",o),this._addString(n,"UF",o)}var r=new Na(i);r.dictionary._crossReference=this._crossReference;var a=new Va(this._crossReference);if(t.hasAttribute("size")){var s=Number.parseInt(t.getAttribute("size"),10);void 0!==s&&(a.update("Size",s),r.dictionary.update("DL",s))}t.hasAttribute("modification")&&this._addString(a,"ModDate",t.getAttribute("modification")),t.hasAttribute("creation")&&this._addString(a,"CreationDate",t.getAttribute("creation")),r.dictionary.update("Params",a),t.hasAttribute("mimetype")&&this._addString(r.dictionary,"Subtype",t.getAttribute("mimetype")),r.dictionary.update("Filter",va.get("FlateDecode"));var l=new Va(this._crossReference),d=this._crossReference._getNextReference();this._crossReference._cacheMap.set(d,r),l.update("F",d),n.update("EF",l);var h=this._crossReference._getNextReference();this._crossReference._cacheMap.set(h,n),e.update("FS",h)},t.prototype._addAppearanceData=function(e,t){var i=e.textContent;if(i&&""!==i){var n=(new DOMParser).parseFromString(atob(i),"text/xml");if(n&&n.hasChildNodes){var o=n.childNodes;if(o&&1===o.length){var r=o[0];if(r&&1===r.nodeType){var a=r;if("DICT"===a.nodeName.toUpperCase()&&a.hasAttribute("KEY")){var s=a.getAttribute("KEY");if(s&&"AP"===s&&a.hasChildNodes){var l=new Va(this._crossReference);o=a.childNodes;for(var d=0;d<o.length;d++)this._getAppearance(l,o[Number.parseInt(d.toString(),10)]);l.size>0&&t.update("AP",l)}}}}}}},t.prototype._getAppearance=function(e,t){var i=e instanceof Va?e:e.dictionary;if(t&&1===t.nodeType){var n=t;if(n&&n.localName){var o=void 0,r=void 0,a=void 0;switch(n.localName){case"STREAM":if(o=this._getStream(n)){var s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,o),this._addKey(s,i,n)}break;case"DICT":if(r=this._getDictionary(n)){s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,r),this._addKey(s,i,n)}break;case"ARRAY":this._addKey(this._getArray(n),i,n);break;case"FIXED":this._addKey(this._getFixed(n),i,n);break;case"INT":this._addKey(this._getInt(n),i,n);break;case"STRING":this._addKey(this._getString(n),i,n);break;case"NAME":this._addKey(this._getName(n),i,n);break;case"BOOL":this._addKey(this._getBoolean(n),i,n);break;case"DATA":if((a=this._getData(n))&&a.length>0&&e instanceof Na){e._bytes=a;var l=!1;if(i&&i.has("Subtype")){var d=i.get("Subtype");l=d&&"Image"===d.name}l?e._isCompress=!1:(e.dictionary.has("Length")&&delete e.dictionary._map.Length,e.dictionary.has("Filter")&&delete e.dictionary._map.Filter)}}}}},t.prototype._getStream=function(e){var t=new Na([]);if(t.dictionary._crossReference=this._crossReference,e.hasChildNodes)for(var i=e.childNodes,n=0;n<i.length;n++){var o=i[Number.parseInt(n.toString(),10)];o&&1===o.nodeType&&this._getAppearance(t,o)}return t},t.prototype._getDictionary=function(e){var t=new Va(this._crossReference);if(e.hasChildNodes)for(var i=e.childNodes,n=0;n<i.length;n++){var o=i[Number.parseInt(n.toString(),10)];o&&1===o.nodeType&&this._getAppearance(t,o)}return t},t.prototype._getArray=function(e){var t=[];if(e.hasChildNodes)for(var i=e.childNodes,n=0;n<i.length;n++){var o=i[Number.parseInt(n.toString(),10)];o&&1===o.nodeType&&this._addArrayElements(t,o)}return t},t.prototype._getData=function(e){var t=[];if(e&&e.textContent&&""!==e.textContent&&e.hasAttribute("MODE")&&e.hasAttribute("ENCODING")){var i=e.getAttribute("MODE"),n=e.getAttribute("ENCODING");if(i&&n){var o=this._getFormatedString(e.textContent,!0);"FILTERED"===i&&"ASCII"===n?t=cr(o,!0):"RAW"===i&&"HEX"===n&&(t=Cr(o,!0))}}return t},t.prototype._addArrayElements=function(e,t){if(t&&1===t.nodeType){var i,n=t,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,d=void 0;switch(n.localName){case"STREAM":if(o=this._getStream(n)){var h=this._crossReference._getNextReference();o.reference=h,this._crossReference._cacheMap.set(h,o),e.push(h)}break;case"DICT":if(r=this._getDictionary(n)){h=this._crossReference._getNextReference();this._crossReference._cacheMap.set(h,r),e.push(h)}break;case"ARRAY":(a=this._getArray(n))&&e.push(a);break;case"FIXED":void 0===(s=this._getFixed(n))||isNaN(s)||e.push(s);break;case"INT":void 0===(l=this._getInt(n))||isNaN(l)||e.push(l);break;case"NAME":(i=this._getName(n))&&e.push(i);break;case"BOOL":null!=(d=this._getBoolean(n))&&e.push(d)}}},t.prototype._getFixed=function(e){var t;return e&&e.hasAttribute("VAL")&&(t=Number.parseFloat(e.getAttribute("VAL"))),t},t.prototype._getInt=function(e){var t;return e&&e.hasAttribute("VAL")&&(t=Number.parseInt(e.getAttribute("VAL"),10)),t},t.prototype._getString=function(e){var t;return e&&e.hasAttribute("VAL")&&(t=e.getAttribute("VAL")),t},t.prototype._getName=function(e){var t;return e&&e.hasAttribute("VAL")&&(t=va.get(e.getAttribute("VAL"))),t},t.prototype._getBoolean=function(e){var t;return e&&e.hasAttribute("VAL")&&(t="true"===e.getAttribute("VAL")),t},t.prototype._addMeasureDictionary=function(e,t){var i,n,o,r;if(t.hasChildNodes)for(var a=t.childNodes,s=0;s<a.length;s++){if((f=a[Number.parseInt(s.toString(),10)])&&"measure"===f.localName){i=f;break}}var l=new Va(this._crossReference),d=new Va(this._crossReference),h=new Va(this._crossReference),A=new Va(this._crossReference),p=[],c=[],g=[];if(i){if(l.update("Type",va.get("Measure")),i.hasAttribute("rateValue")){var u=i.getAttribute("rateValue");u&&""!==u&&l.update("R",u)}if(i.hasChildNodes)for(a=i.childNodes,s=0;s<a.length;s++){var f,m=a[Number.parseInt(s.toString(),10)];if(m&&1===m.nodeType)switch((f=m).nodeName.toLowerCase()){case"distance":o=f;break;case"area":n=f;break;case"xformat":r=f}}}if(r&&(this._addElements(r,A),g.push(A)),o&&(this._addElements(o,d),p.push(d)),n&&(this._addElements(n,h),c.push(h)),l.set("A",c),l.set("D",p),l.set("X",g),l.size>0&&l.has("Type")){var w=this._crossReference._getNextReference();this._crossReference._cacheMap.set(w,l),e.update("Measure",w)}},t.prototype._addElements=function(e,t){e.hasAttribute("d")&&this._addFloat(t,"D",e.getAttribute("d")),e.hasAttribute("c")&&this._addFloat(t,"C",e.getAttribute("c")),e.hasAttribute("rt")&&t.update("RT",e.getAttribute("rt")),e.hasAttribute("rd")&&t.update("RD",e.getAttribute("rt")),e.hasAttribute("ss")&&t.update("SS",e.getAttribute("ss")),e.hasAttribute("u")&&t.update("U",e.getAttribute("u")),e.hasAttribute("f")&&t.update("F",va.get(e.getAttribute("f"))),e.hasAttribute("fd")&&t.update("FD","yes"===e.getAttribute("fd"))},t.prototype._addString=function(e,t,i){i&&""!==i&&e.update(t,i)},t.prototype._addInt=function(e,t,i){var n=Number.parseInt(i,10);void 0!==n&&e.update(t,n)},t.prototype._addFloat=function(e,t,i){var n=Number.parseFloat(i);void 0!==n&&e.update(t,n)},t.prototype._addFloatPoints=function(e,t,i){t&&t.length>0&&e.update(i,t)},t.prototype._addKey=function(e,t,i){null!=e&&i.hasAttribute("KEY")&&t.update(i.getAttribute("KEY"),e)},t.prototype._addLineEndStyle=function(e,t){var i="";t.hasAttribute("head")&&(i=t.getAttribute("head"));var n="";if(t.hasAttribute("tail")&&(n=t.getAttribute("tail")),i&&""!==i)if(n&&""!==n){var o=[];o.push(va.get(i)),o.push(va.get(n)),e.update("LE",o)}else e.update("LE",va.get(i));else n&&""!==n&&e.update("LE",va.get(n))},t}(_n),Mn=function(){function e(e){this._baseFontEncoding="",this._dictionary=e,this._fontType=this._dictionary.get("Subtype").name}return Object.defineProperty(e.prototype,"differencesDictionary",{get:function(){return this._differencesDictionary||(this._differencesDictionary=this._getDifferencesDictionary()),this._differencesDictionary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseFontEncoding",{get:function(){return this._baseFontEncoding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontEncoding",{get:function(){return this._fontEncoding||(this._fontEncoding=this._getFontEncoding()),this._fontEncoding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName||(this._fontName=this._getFontName()),this._fontName},enumerable:!0,configurable:!0}),e.prototype._getFontEncoding=function(){var e="";if(null!==this._dictionary&&void 0!==this._dictionary&&this._dictionary.has("Encoding")){var t=this._dictionary.get("Encoding");if(t instanceof va)e=t.name;else if(t instanceof Va){if(t.has("BaseEncoding")){var i=t.get("BaseEncoding");i&&i instanceof va&&(this._baseFontEncoding=i.name)}if(t.has("Type")){var n=t.get("Type");null!=n&&(e=n.name)}}}return"identity#2dh"!==e.toString()&&"CMap"!==e||(e="Identity-H"),e},e.prototype._getDifferencesDictionary=function(){var e=new Map;if(null!==this._dictionary&&void 0!==this._dictionary&&this._dictionary.has("Encoding")){var t=this._dictionary.get("Encoding");if(null!=t&&t instanceof Va&&t.has("Differences")){var i=t.getArray("Differences"),n=0;if(null!=i)for(var o=0;o<i.length;o++){var r="",a=i[Number.parseInt(o.toString(),10)];"number"==typeof a?(r=a.toString(),n=Number.parseInt(r,10)):a instanceof va&&(r=a.name,"Type1"===this._fontType&&".notdef"===r?(r=" ",e.set(n.toString(),ea(r))):(r=$r(r=ea(r)),e.has(n.toString())||e.set(n.toString(),ea(r)),n++))}}}return e},e.prototype._getFontName=function(){var e="";if(null!==this._dictionary&&void 0!==this._dictionary&&this._dictionary.has("BaseFont")){var t=this._dictionary.get("BaseFont"),i=t.name;if(-1!==i.indexOf("#20")&&-1===i.indexOf("+")){var n=i.lastIndexOf("#20");i=i.substring(0,n),i+="+"}-1!==(e=-1!==t.name.indexOf("+")?t.name.split("+")[1]:t.name).indexOf("-")?e=e.split("-")[0]:-1!==e.indexOf(",")&&(e=e.split(",")[0]),-1!==e.indexOf("MT")&&(e=e.replace("MT","")),-1!==e.indexOf("#20")&&(e=e.replace("#20"," ")),-1!==e.indexOf("#")&&(e=this._decodeHexFontName(e))}return e},e.prototype._decodeHexFontName=function(e){for(var t=e,i=0;i<e.length;i++)if("#"===e[Number.parseInt(i.toString(),10)]){var n=e[i+1]+e[i+2],o=Number.parseInt(n,16);if(0!==o&&(t=t.replace("#"+n,String.fromCharCode(o)),i+=2),-1===t.indexOf("#"))break}return t},e}(),Vn=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qn=function(e){function t(t){var i=e.call(this)||this;return i._isImport=!1,i._isColorSpace=!1,i._isDuplicate=!1,i._isGroupingSupport=!1,null!=t&&(i._fileName=t),i}return Vn(t,e),t.prototype._exportAnnotations=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!0,this._exportAnnotationData(e,e.pageCount),this._save()},t.prototype._exportFormFields=function(e){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1;var t=this._document.form;if(null!=t){this._exportEmptyFields=t.exportEmptyFields;for(var i=this._document.form.count,n=0;n<i;n++){var o=this._document.form.fieldAt(n);this._exportFormFieldsData(o)}this._writeFormFieldData()}return this._save()},t.prototype._save=function(){var e=new Uint8Array(this._jsonData);return this._jsonData=[],e},t.prototype._writeFormFieldData=function(){var e=this;this._jsonData.push(this._openingBrace);var t=0;this._table.forEach((function(i,n){if(n=e._getValidString(n),e._jsonData.push(e._doubleQuotes),e._jsonData=cr(n,!0,!1,e._jsonData),"string"==typeof i||Array.isArray(i)&&1===i.length)i=e._getValidString("string"==typeof i?i:i[0]),e._jsonData.push(e._doubleQuotes,e._colon,e._doubleQuotes),e._jsonData=cr(i,!0,!1,e._jsonData),e._jsonData.push(e._doubleQuotes);else{e._jsonData.push(e._doubleQuotes,e._colon,e._openingBracket);for(var o=0;o<i.length;o++){e._jsonData.push(e._doubleQuotes);for(var r=i[Number.parseInt(o.toString(),10)],a=0;a<r.length;a++)e._jsonData.push(r.charCodeAt(a));e._jsonData.push(e._doubleQuotes),o<i.length-1&&e._jsonData.push(e._comma)}e._jsonData.push(e._closingBracket)}t<e._table.size-1&&e._jsonData.push(e._comma),t++})),this._jsonData.push(this._closingBrace)},t.prototype._exportAnnotationData=function(e,t){var i=this,n=!1;this._jsonData.push(this._openingBrace,this._doubleQuotes,112,100,102,65,110,110,111,116,97,116,105,111,110,this._doubleQuotes,this._colon,this._openingBrace);for(var o=0;o<t;o++){var r=e.getPage(o);if(r&&r.annotations.count>0)this._jsonData.push(0!==o&&n?this._comma:this._space,this._doubleQuotes),cr(o.toString(),!0,!1,[]).forEach((function(e){i._jsonData.push(e)})),this._jsonData.push(this._doubleQuotes,this._colon,this._openingBrace,this._doubleQuotes,115,104,97,112,101,65,110,110,111,116,97,116,105,111,110,this._doubleQuotes,this._colon,this._openingBracket),n=!0;for(var a=0,s=0;s<r.annotations.count;s++){var l=r.annotations.at(s);l&&(0!==a&&this._jsonData.push(this._comma),a++,this._exportAnnotation(l,o),this._jsonData=cr(this._convertToJson(this._table),!0,!1,this._jsonData),this._table.clear())}r&&r.annotations.count>0&&this._jsonData.push(this._closingBracket,this._closingBrace)}this._jsonData.push(this._closingBrace,this._closingBrace)},t.prototype._exportAnnotation=function(e,t){var i=!1,n=e._dictionary,o=this._getAnnotationType(e._dictionary);if(this._skipBorderStyle=!1,o&&""!==o){this._table.set("type",o),this._table.set("page",t.toString());var r=void 0;switch(o){case"Line":r=e.linePoints,this._table.set("start",r[0].toString()+","+r[1].toString()),this._table.set("end",r[2].toString()+","+r[3].toString());break;case"Stamp":case"Square":i=!0}if(n&&n.has("BE")&&n.has("BS")){var a=n.get("BE");a&&a.has("S")&&(this._skipBorderStyle=!0)}this._writeDictionary(n,t,i)}},t.prototype._writeDictionary=function(e,t,i){var n=this,o=!1;if(e&&e.has("Type")){var r=e.get("Type");o=r&&"Border"===r.name&&this._skipBorderStyle}if(e.forEach((function(r,a){if((i||"AP"!==r)&&"P"!==r&&"Parent"!==r){var s=void 0;if(a instanceof xa&&(s=e.get(r)),s&&s instanceof Va)switch(r){case"BS":case"BE":n._writeDictionary(s,t,!1);break;case"IRT":s.has("NM")&&n._table.set("inreplyto",n._getValue(s.get("NM"),!0))}else a instanceof Va?n._writeDictionary(a,t,!1):(!o||o&&"S"!==r)&&n._writeAttribute(r,a,e)}})),e.has("Measure")&&this._exportMeasureDictionary(e.get("Measure")),(this.exportAppearance||i)&&e.has("AP")){var a=this._getAppearanceString(e.get("AP"));a&&a.length>0&&this._table.set("appearance",Er(a))}if(e.has("Sound")){var s=e.get("Sound");if(s&&s.dictionary){var l=s.dictionary;if(l.has("B")&&this._table.set("bits",this._getValue(l.get("B"),!0)),l.has("C")&&this._table.set("channels",this._getValue(l.get("C"),!0)),l.has("E")&&this._table.set("encoding",this._getValue(l.get("E"),!0)),l.has("R")&&this._table.set("rate",this._getValue(l.get("R"),!0)),l.has("Length")&&l.get("Length")>0)(p=Sr(s.getBytes()))&&""!==p&&(this._table.set("MODE","raw"),this._table.set("encoding","hex"),l.has("Length")&&this._table.set("length",this._getValue(l.get("Length"),!0)),l.has("Filter")&&this._table.set("filter",this._getValue(l.get("Filter"),!0)),this._table.set("data",p))}}else if(e.has("FS")){var d=e.get("FS");if(d&&(d.has("F")&&this._table.set("file",this._getValue(d.get("F"),!0)),d.has("EF"))){var h=d.get("EF");if(h&&h.has("F")){var A=h.get("F");if(A&&A.dictionary){var p,c=A.dictionary;if(c.has("Params")){var g=c.get("Params");if(g){if(g.has("CreationDate")){var u=this._getValue(g.get("CreationDate"),!0);this._table.set("creation",u)}if(g.has("ModificationDate")){u=this._getValue(g.get("ModificationDate"),!0);this._table.set("modification",u)}if(g.has("Size")&&this._table.set("size",this._getValue(g.get("Size"),!0)),g.has("CheckSum")){var f=Sr(cr(u=this._getValue(g.get("CheckSum"),!0)));this._table.set("checksum",f)}}}(p=Sr(A.getBytes()))&&""!==p&&(this._table.set("MODE","raw"),this._table.set("encoding","hex"),c.has("Length")&&this._table.set("length",this._getValue(c.get("Length"),!0)),c.has("Filter")&&this._table.set("filter",this._getValue(c.get("Filter"),!0)),this._table.set("data",p))}}}}},t.prototype._writeColor=function(e,t,i){var n=this._getColor(e);if("number"==typeof e&&i){var o=this._getValue(e,!0);o&&""!==o&&this._table.set(i,o)}n&&""!==n&&this._table.set(t,n)},t.prototype._writeAttributeString=function(e,t,i){void 0===i&&(i=!1);var n=this._getValue(t,!0);this._table.set(e,i?n.toLowerCase():n)},t.prototype._writeAttribute=function(e,t,i){var n,o,r;switch(e){case"C":this._writeColor(t,"color","c");break;case"IC":this._writeColor(t,"interior-color");break;case"DA":(n=i.get("DA"))&&this._table.set("defaultappearance",n);break;case"M":this._writeAttributeString("date",t);break;case"NM":this._table.set("name",t);break;case"Name":this._writeAttributeString("icon",t);break;case"Subj":this._writeAttributeString("subject",t);break;case"T":this._writeAttributeString("title",t);break;case"Rect":if(n=this._getValue(t,!0)){var a=n.split(","),s=new Map;s.set("x",a[0]),s.set("y",a[1]),s.set("width",a[2]),s.set("height",a[3]),this._table.set(e.toLowerCase(),this._convertToJson(s))}break;case"CreationDate":this._writeAttributeString("creationdate",t);break;case"Rotate":this._writeAttributeString("rotation",t);break;case"W":this._writeAttributeString("width",t);break;case"LE":t&&Array.isArray(t)?2===t.length&&(this._table.set("head",this._getValue(t[0],!0)),this._table.set("tail",this._getValue(t[1],!0))):t instanceof va&&this._writeAttributeString("head",t);break;case"S":switch(this._getValue(t,!0)){case"D":this._table.set("style","dash");break;case"C":this._table.set("style","cloudy");break;case"S":this._table.set("style","solid");break;case"B":this._table.set("style","bevelled");break;case"I":this._table.set("style","inset");break;case"U":this._table.set("style","underline")}break;case"D":this._writeAttributeString("dashes",t);break;case"I":this._writeAttributeString("intensity",t);break;case"RD":this._writeAttributeString("fringe",t);break;case"IT":this._writeAttributeString("IT",t);break;case"RT":this._writeAttributeString("replyType",t,!0);break;case"LL":this._writeAttributeString("leaderLength",t);break;case"LLE":this._writeAttributeString("leaderExtend",t);break;case"Cap":this._writeAttributeString("caption",t);break;case"CP":this._writeAttributeString("caption-style",t);break;case"CL":this._writeAttributeString("callout",t);break;case"QuadPoints":this._writeAttributeString("coords",t);break;case"CA":this._writeAttributeString("opacity",t);break;case"F":if("number"==typeof t){var l=hr(t);this._table.set("flags",l)}break;case"Contents":(n=i.get("Contents"))&&n.length>0&&this._table.set("contents",this._getValidString(n));break;case"InkList":this._writeInkList(i);break;case"Vertices":this._writeVertices(i);break;case"DS":if(Sa(n=i.get("DS"))){for(var d=new Map,h=n.split(";"),A=0;A<h.length;A++){var p=h[Number.parseInt(A.toString(),10)].split(":");p&&p.length>0&&p[0]&&p[0].length>1&&p[0].startsWith(" ")&&(p[0]=p[0].substring(1)),d.set(p[0],p[1])}this._table.set("defaultStyle",this._convertToJson(d))}break;case"AllowedInteractions":if(t){var c=cr(t);(d=new Map).set("unicodeData",Sr(c)),this._table.set(e,this._convertToJson(d))}break;case"RC":if("string"==typeof(o=i.get("RC"))&&o.includes("<body")){var g=o.indexOf("<body");g>0&&(o=o.substring(g)),this._writeAttributeString("contents-richtext",o)}break;case"Type":case"Subtype":case"P":case"Parent":case"L":case"FS":case"MeasurementTypes":case"GroupNesting":case"ITEx":break;case"TextMarkupContent":r=cr(t),this._writeAttributeString(e,Sr(r));break;case"Border":case"A":case"R":case"X":case"ca":this._writeAttributeString(e.toLowerCase(),t);break;default:"string"==typeof t&&t.startsWith("{")&&t.endsWith("}")?this._table.set(e,t):this._writeAttributeString(e,t)}},t.prototype._writeVertices=function(e){var t=e.getArray("Vertices");if(Sa(t)&&t.length>0){var i=t.length;if(i%2==0){for(var n="",o=0;o<i-1;o++)n+=this._getValue(t[Number.parseInt(o.toString(),10)],!0)+(o%2!=0?";":",");(n+=this._getValue(t[i-1],!0))&&""!==n&&this._table.set("vertices",n)}}},t.prototype._writeInkList=function(e){var t=e.getArray("InkList");if(t&&t.length>0){for(var i=new Map,n="[",o=0;o<t.length;o++)n+="["+this._getValue(t[Number.parseInt(o.toString(),10)],!0)+"]",o<t.length-1&&(n+=",");n+="]",i.set("gesture",n),this._table.set("inklist",this._convertToJson(i))}},t.prototype._exportMeasureDictionary=function(e){if(e){var t;if(e.has("Type")&&this._table.set("type1","Measure"),e.has("R")&&this._table.set("ratevalue",this._getValue(e.get("R"),!0)),e.has("SubType")&&this._table.set("SubType",this._getValue(e.get("SubType"),!0)),e.has("TargetUnitConversion")&&this._table.set("TargetUnitConversion",this._getValue(e.get("TargetUnitConversion"),!0)),e.has("A"))(t=e.getArray("A"))&&t.length>0&&t[0]&&this._exportMeasureFormatDetails("area",t[0]);if(e.has("D"))(t=e.getArray("D"))&&t.length>0&&t[0]&&this._exportMeasureFormatDetails("distance",t[0]);if(e.has("X"))(t=e.getArray("X"))&&t.length>0&&t[0]&&this._exportMeasureFormatDetails("xformat",t[0]);if(e.has("T"))(t=e.getArray("T"))&&t.length>0&&t[0]&&this._exportMeasureFormatDetails("tformat",t[0]);if(e.has("V"))(t=e.getArray("V"))&&t.length>0&&t[0]&&this._exportMeasureFormatDetails("vformat",t[0])}},t.prototype._exportMeasureFormatDetails=function(e,t){var i=new Map;t&&(t.has("C")&&i.set("c",this._getValue(t.get("C"),!0)),t.has("F")&&i.set("f",this._getValue(t.get("F"),!0)),t.has("D")&&i.set("d",this._getValue(t.get("D"),!0)),t.has("RD")&&i.set("rd",this._getValue(t.get("RD"),!0)),t.has("U")&&i.set("u",this._getValue(t.get("U"),!0)),t.has("RT")&&i.set("rt",this._getValue(t.get("RT"),!0)),t.has("SS")&&i.set("ss",this._getValue(t.get("SS"),!0)),t.has("FD")&&i.set("fd",this._getValue(t.get("FD"),!0))),this._table.set(e,this._convertToJson(i))},t.prototype._getAppearanceString=function(e){var t=new Map,i=new Map;return this._writeAppearanceDictionary(i,e),t.set("ap",this._convertToJson(i)),cr(this._convertToJson(t))},t.prototype._writeAppearanceDictionary=function(e,t){var i=this;t&&t.size>0&&t.forEach((function(n,o){("OC"===n&&o instanceof Array||"P"!==n&&"Parent"!==n&&"Dest"!==n&&"OC"!==n&&("AP"!==n||!i._isGroupingSupport))&&i._writeObject(e,o instanceof xa?t.get(n):o,t,n)}))},t.prototype._writeObject=function(e,t,i,n,o,r,a){if(void 0===r&&(r=!1),void 0===a&&(a=!1),t instanceof va)t.name=this._getValidString(t.name),this._writeTable("name",t.name,e,n,o);else if(Array.isArray(t)){var s=[];"ColorSpace"===n||r?this._writeArray(s,t,i,!0):this._writeArray(s,t,i),this._isColorSpace=!1,this._writeTable("array",this._convertToJsonArray(s),e,n,o)}else if("string"==typeof t){var l=!1;if(-1!==t.indexOf("\t")&&(l=!0),"AllowedInteractions"!==n&&(t=this._getValidString(t)),this._isColorSpace||"AllowedInteractions"===n||this._hasUnicodeCharacters(t)||l){var d=cr(t);this._writeTable("unicodeData",Sr(d),e,n,o),l=!1}else this._writeTable("string",t,e,n,o)}else if("number"==typeof t)this._writeTable(Number.isInteger(t)?"int":"fixed",t.toString(),e,n,o);else if("boolean"==typeof t)this._writeTable("boolean",t?"true":"false",e,n,o);else if(t instanceof Va){var h=new Map;this._writeAppearanceDictionary(h,t),this._writeTable("dict",this._convertToJson(h),e,n,o)}else if(t instanceof ka&&t.dictionary){var A=new Map,p=new Map,c=t.dictionary,g=void 0,u=t,f=!1;if(c.has("Subtype")&&"Image"===c.get("Subtype").name&&(f=!0),a)g=t.dictionary.has("Filter")&&"DCTDecode"===t.dictionary.get("Filter").name?t.getString(!0):Ca(t,!0),!c.has("Length")&&g&&""!==g&&c.update("Length",u.length);else{if(f&&u.stream){if(u.stream instanceof Pa)if("boolean"==typeof u._initialized&&u._cipher){var m=u.stream.end-u.stream.start;u.getBytes(m);d=u.buffer.subarray(0,u.bufferLength);g=u.getString(!0,d)}else{var w=u.stream;g=u.getString(!0,w.getByteRange(w.start,w.end))}else if(u.stream.stream){var y=u.stream;if(y.stream instanceof Pa&&"boolean"==typeof y._initialized&&y._cipher){m=y.stream.end-y.stream.start;y.getBytes(m);d=y.buffer.subarray(0,y.bufferLength);g=y.getString(!0,d)}else if(y.stream instanceof Pa){w=y.stream;g=y.getString(!0,w.getByteRange(w.start,w.end))}}}else g=t.getString(!0);!c.has("Length")&&g&&""!==g&&c.update("Length",t.length)}this._writeAppearanceDictionary(p,c);var S=void 0;c.has("Subtype")&&(S=this._getValue(c.get("Subtype"))),!c.has("Type")&&!c.has("Subtype")||c.has("Subtype")&&("Image"===S||"Form"===S||"CIDFontType0C"===S||"OpenType"===S)?(A.set("mode","raw"),A.set("encoding","hex")):(A.set("mode","filtered"),A.set("encoding","ascii")),g&&""!==g&&A.set("bytes",g),p.set("data",this._convertToJson(A)),this._writeTable("stream",this._convertToJson(p),e,n,o)}else t instanceof xa&&this._crossReference?this._writeObject(e,this._crossReference._fetch(t),i,n,o,r,t._isNew):null==t&&this._writeTable("null","null",e,n,o)},t.prototype._writeTable=function(e,t,i,n,o){var r=new Map;r.set(e,t),n?i.set(n,this._convertToJson(r)):o&&o.push(r)},t.prototype._writeArray=function(e,t,i,n){void 0===n&&(n=!1);for(var o=0;o<t.length;o++)n&&"string"==typeof t[Number.parseInt(o.toString(),10)]&&(this._isColorSpace=!0),this._writeObject(null,t[Number.parseInt(o.toString(),10)],i,null,e,n)},t.prototype._convertToJson=function(e){var t=0,i="{";return e.forEach((function(n,o){n.startsWith("{")||n.startsWith("[")?i+='"'+o+'":'+n:(n.startsWith(" ")&&n.length>1&&("["===n[1]||"{"===n[1])&&(n=n.substring(1)),i+='"'+o+'":"'+n+'"'),t<e.size-1&&(i+=","),t++})),i+"}"},t.prototype._hasUnicodeCharacters=function(e){var t=/[^\x00-\x7F]/;return e.split("").some((function(e){return null!==t.exec(e)}))},t.prototype._convertToJsonArray=function(e){for(var t="[",i=0;i<e.length;i++)t+=this._convertToJson(e[Number.parseInt(i.toString(),10)]),i<e.length-1&&(t+=",");return t+"]"},t.prototype._parseJson=function(e,t){this._document=e,this._crossReference=e._crossReference;var i=mr(t,!0);if(i.startsWith("{")&&!i.endsWith("}"))for(;i.length>0&&!i.endsWith("}");)i=i.substring(0,i.length-1);return JSON.parse(i)},t.prototype._importFormData=function(e,t){var i=this,n=this._parseJson(e,t);if(n){var o=Object.keys(n);if(o&&o.length>0){for(var r=function(e){var t=o[Number.parseInt(e.toString(),10)],r=n[t];Array.isArray(r)?a._fields.has("key")?r.forEach((function(e){i._fields.get(t).push(e)})):a._fields.set(t,r):a._fields.has("key")?a._fields.get(t).push(r):a._fields.set(t,[r])},a=this,s=0;s<o.length;s++)r(s);this._importField()}}},t.prototype._importAnnotations=function(e,t){var i=this;this._isImport=!0;var n=this._parseJson(e,t);if(n&&-1!==Object.keys(n).indexOf("pdfAnnotation")){var o=n.pdfAnnotation,r=e.pageCount,a=Object.keys(o);if(a&&a.length>0&&a.forEach((function(t){var n=Number.parseInt(t,10);if(void 0!==n&&n<r){var a=e.getPage(n),s=o[t];if(s){var l=Object.keys(s);if(l&&l.length>0&&-1!==l.indexOf("shapeAnnotation")){var d=s.shapeAnnotation;d&&d.length>0&&d.forEach((function(e){var t=Object.keys(e);if(t&&t.length>0&&-1!==t.indexOf("type")){var n=new Va(i._crossReference);n.update("Type",va.get("Annot"));var o=!0;switch(e.type.toLowerCase()){case"line":n.update("Subtype",va.get("Line"));break;case"circle":n.update("Subtype",va.get("Circle"));break;case"square":n.update("Subtype",va.get("Square"));break;case"polyline":n.update("Subtype",va.get("PolyLine"));break;case"polygon":n.update("Subtype",va.get("Polygon"));break;case"ink":n.update("Subtype",va.get("Ink"));break;case"popup":n.update("Subtype",va.get("Popup"));break;case"text":n.update("Subtype",va.get("Text"));break;case"freetext":n.update("Subtype",va.get("FreeText"));break;case"stamp":n.update("Subtype",va.get("Stamp"));break;case"highlight":n.update("Subtype",va.get("Highlight"));break;case"squiggly":n.update("Subtype",va.get("Squiggly"));break;case"underline":n.update("Subtype",va.get("Underline"));break;case"strikeout":n.update("Subtype",va.get("StrikeOut"));break;case"fileattachment":n.update("Subtype",va.get("FileAttachment"));break;case"sound":n.update("Subtype",va.get("Sound"));break;case"redact":n.update("Subtype",va.get("Redact"));break;case"caret":n.update("Subtype",va.get("Caret"));break;default:o=!1}if(o){i._addAnnotationData(n,e,t);var r=a._pageDictionary;if(r){var s=a.annotations,l=s._parseAnnotation(n);if(l){l._isImported=!0;var d=i._crossReference._getNextReference();i._crossReference._cacheMap.set(d,n),(n.has("NM")||n.has("IRT"))&&i._addReferenceToGroup(d,n),l._ref=d;var h=s._annotations.length;s._annotations.push(d),s._comments&&s._comments.length>0&&(s._comments=[]),r.set("Annots",s._annotations),r._updated=!0,s._parsedAnnotations.set(h,l),i._handlePopup(s,d,n,r)}}}}}))}}}})),this._groupHolders.length>0)for(var s=0;s<this._groupHolders.length;s++){var l=this._groupHolders[Number.parseInt(s.toString(),10)],d=l.get("IRT");d&&""!==d&&(this._groupReferences.has(d)?l.update("IRT",this._groupReferences.get(d)):delete l._map.IRT)}this._groupHolders=[],this._groupReferences=new Map}},t.prototype._addAnnotationData=function(e,t,i){var n,o,r,a,s=this,l=new Va(this._crossReference),d=new Va(this._crossReference),h=new Map,A=[],p="";if(i.forEach((function(i){var c=t[i];switch(i.toLowerCase()){case"start":case"end":s._addLinePoints(c,A),4===A.length&&(e.update("L",A),A=[]);break;case"itex":break;case"state":s._addString(e,"State",c);break;case"statemodel":s._addString(e,"StateModel",c);break;case"replytype":"group"===c.toLowerCase()&&e.update("RT",va.get("Group"));break;case"inreplyto":s._addString(e,"IRT",c);break;case"dashes":case"width":case"intensity":case"style":s._addBorderStyle(i,c,l,d);break;case"rect":if(r=c){var g=[];g.push(Number.parseFloat(r.x)),g.push(Number.parseFloat(r.y)),g.push(Number.parseFloat(r.width)),g.push(Number.parseFloat(r.height)),g&&4===g.length&&e.update("Rect",g)}break;case"color":(c=Qr(c))&&3===c.length&&e.update("C",[c[0]/255,c[1]/255,c[2]/255]);break;case"oc":if(c&&"Redact"===e.get("Subtype").name){a=c.split(",");var u=[];a.forEach((function(e){u.push(Number.parseFloat(e))})),u&&u.length>0&&e.update("OC",u)}break;case"interior-color":(c=Qr(c))&&3===c.length&&e.update("IC",[c[0]/255,c[1]/255,c[2]/255]);break;case"date":s._addString(e,"M",c);break;case"creationdate":s._addString(e,"CreationDate",c);break;case"name":s._addString(e,"NM",c);break;case"icon":c&&e.update("Name",va.get(c));break;case"subject":s._addString(e,"Subj",c);break;case"title":s._addString(e,"T",c);break;case"rotation":e.update("Rotate",Number.parseFloat(c));break;case"fringe":s._addFloatPoints(e,"RD",s._parseFloatPoints(c));break;case"it":c&&e.update("IT",va.get(c));break;case"leaderlength":e.update("LL",Number.parseFloat(c));break;case"leaderextend":e.update("LLE",Number.parseFloat(c));break;case"caption":s._addBoolean(e,"Cap",c.toLowerCase());break;case"caption-style":c&&e.update("CP",va.get(c));break;case"callout":s._addFloatPoints(e,"CL",s._parseFloatPoints(c));break;case"coords":s._addFloatPoints(e,"QuadPoints",s._parseFloatPoints(c));break;case"border":s._addFloatPoints(e,"Border",s._parseFloatPoints(c));break;case"opacity":e.update("CA",Number.parseFloat(c));break;case"defaultstyle":if(c){var f=Object.keys(c);if(f&&f.length>0){var m="",w=0;f.forEach((function(e){var t=c[e];m+=e+":"+t,w<f.length-1&&(m+=";"),w++})),s._addString(e,"DS",m)}}break;case"defaultappearance":s._addString(e,"DA",c);break;case"contents-richtext":"string"==typeof c&&s._addString(e,"RC",c);break;case"flags":if(c&&"string"==typeof c){for(var y=Le.default,S=c.split(","),C=0;C<S.length;C++){var B=Ar(S[Number.parseInt(C.toString(),10)]);0===C?y=B:y|=B}e.update("F",y)}break;case"open":s._addBoolean(e,"Open",c.toLowerCase());break;case"repeat":s._addBoolean(e,"Repeat",c.toLowerCase());break;case"overlaytext":s._addString(e,"OverlayText",c);break;case"contents":"string"==typeof c&&(-1!==c.indexOf("\\r")&&(c=c.replace("\\r","\r")),c&&s._addString(e,"Contents",c));break;case"q":e.update("Q",Number.parseInt(c,10));break;case"inklist":if(c){var I=Object.keys(c);if(I&&I.length>0&&-1!==I.indexOf("gesture")){var b=c.gesture;b&&b.length>0&&e.update("InkList",b)}}break;case"head":n=c;break;case"tail":o=c;break;case"creation":case"modification":case"file":case"bits":case"channels":case"encoding":case"rate":case"length":case"filter":case"mode":case"size":h.set(i,c);break;case"data":p=c;break;case"vertices":if(c&&"string"==typeof c){var v=c.split(/[,;]/);if(v&&v.length>0){var E=[];for(C=0;C<v.length;C++)E.push(Number.parseFloat(v[Number.parseInt(C.toString(),10)]));E.length>0&&E.length%2==0&&e.update("Vertices",E)}}break;case"appearance":s._addAppearanceData(e,c);break;case"allowedinteractions":if(c)if(c&&"string"==typeof c)s._addString(e,"AllowedInteractions",c);else{var x=Object.keys(c);if(x&&x.length>0&&-1!==x.indexOf("unicodeData")){var _=JSON.stringify(c.unicodeData);_=_.substring(1,_.length-1),c=mr(Cr(_,!1),!0),s._addString(e,"AllowedInteractions",c)}}break;default:s._document._allowImportCustomData&&"type"!==i&&"page"!==i&&s._addString(e,i,"string"==typeof c?c:JSON.stringify(c))}})),this._addMeasureDictionary(e,t,i),n?o?e.update("LE",[va.get(n),va.get(o)]):e.update("LE",n):o&&e.update("LE",o),d.size>0){d.update("Type",va.get("Border"));var c=this._crossReference._getNextReference();d.objId=c.objectNumber+" "+c.generationNumber,this._crossReference._cacheMap.set(c,d),e.update("BS",c)}if(l.size>0){c=this._crossReference._getNextReference();d.objId=c.objectNumber+" "+c.generationNumber,this._crossReference._cacheMap.set(c,l),e.update("BE",c)}this._addStreamData(e,h,p)},t.prototype._addLinePoints=function(e,t){e&&-1!==e.indexOf(",")&&e.split(",").forEach((function(e){t.push(Number.parseFloat(e))}))},t.prototype._addString=function(e,t,i){i&&e.update(t,i)},t.prototype._addBoolean=function(e,t,i){i&&e.update(t,"yes"===i||"true"===i)},t.prototype._addBorderStyle=function(e,t,i,n){var o="",r=!0;switch(t){case"dash":o="D";break;case"solid":o="S";break;case"bevelled":o="B";break;case"inset":o="I";break;case"underline":o="U";break;case"cloudy":o="C",r=!1}switch(e.toLowerCase()){case"width":n.update("W",Number.parseFloat(t));break;case"intensity":i.update("I",Number.parseFloat(t));break;case"dashes":t&&-1!==t.indexOf(",")&&n.update("D",this._parseFloatPoints(t))}o&&(r?n.update("S",va.get(o)):i.update("S",va.get(o)))},t.prototype._parseFloatPoints=function(e){var t=e.split(","),i=[];return t.forEach((function(e){i.push(Number.parseFloat(e))})),i},t.prototype._addFloatPoints=function(e,t,i){i&&i.length>0&&e.update(t,i)},t.prototype._addMeasureDictionary=function(e,t,i){var n=new Va(this._crossReference),o=[],r=[],a=[],s=[],l=[];if(n.set("A",o),n.set("D",r),n.set("X",a),n.set("T",s),n.set("V",l),-1!==i.indexOf("ratevalue")&&this._addString(n,"R",t.ratevalue),-1!==i.indexOf("subtype")&&this._addString(n,"Subtype",t.subtype),-1!==i.indexOf("targetunitconversion")&&this._addString(n,"TargetUnitConversion",t.targetunitconversion),-1!==i.indexOf("area")&&o.push(this._readDictionaryElements(t.area)),-1!==i.indexOf("distance")&&r.push(this._readDictionaryElements(t.distance)),-1!==i.indexOf("xformat")&&a.push(this._readDictionaryElements(t.xformat)),-1!==i.indexOf("tformat")&&s.push(this._readDictionaryElements(t.tformat)),-1!==i.indexOf("vformat")&&l.push(this._readDictionaryElements(t.vformat)),-1!==i.indexOf("type1")){n.set("Type",va.get("Measure"));var d=this._crossReference._getNextReference();n.objId=d.objectNumber+" "+d.generationNumber,this._crossReference._cacheMap.set(d,n),e.update("Measure",d)}},t.prototype._readDictionaryElements=function(e){var t=Object.keys(e),i=new Va(this._crossReference);return t&&t.length>0&&t.forEach((function(t){var n=e[t];if(t&&n)switch(t){case"d":i.set("D",Number.parseFloat(n));break;case"c":i.set("C",Number.parseFloat(n));break;case"rt":i.set("RT",n);break;case"rd":i.set("RD",n);break;case"ss":i.set("SS",n);break;case"u":i.set("U",n);break;case"f":i.set("F",va.get(n));break;case"fd":i.set("FD",n);break;case"type":i.set("Type",va.get(n))}})),i},t.prototype._addStreamData=function(e,t,i){var n=this,o=e.get("Subtype").name,r=Cr(i,!0);if("Sound"===o){var a=new Na(r);a.dictionary._crossReference=this._crossReference,a.dictionary.update("Type",va.get("Sound")),t.forEach((function(e,t){if(t&&e)switch(t){case"bits":case"rate":case"channels":a.dictionary.set(t,Number.parseInt(e,10));break;case"encoding":a.dictionary.set("E",va.get(e));break;case"filter":a.dictionary.set("Filter",va.get("FlateDecode"))}})),a.reference=this._crossReference._getNextReference(),a.dictionary.objId=a.reference.objectNumber+" "+a.reference.generationNumber,this._crossReference._cacheMap.set(a.reference,a),e.update("Sound",a.reference)}else if("FileAttachment"===o){var s=new Va(this._crossReference);s.update("Type",va.get("Filespec"));var l=new Na(r);l.dictionary._crossReference=this._crossReference;var d=new Va(this._crossReference);t.forEach((function(e,t){if(t&&e){var i=void 0;switch(t){case"file":n._addString(s,"F",e),n._addString(s,"UF",e);break;case"size":void 0!==(i=Number.parseInt(e,10))&&(d.update("Size",i),l.dictionary.update("DL",i));break;case"creation":n._addString(d,"CreationDate",e);break;case"modification":n._addString(d,"ModificationDate",e)}}})),l.dictionary.update("Params",d),l.dictionary.update("Filter",va.get("FlateDecode")),l.reference=this._crossReference._getNextReference(),l.dictionary.objId=l.reference.objectNumber+" "+l.reference.generationNumber,this._crossReference._cacheMap.set(l.reference,l);var h=new Va(this._crossReference);h.update("F",l.reference),s.update("EF",h);var A=this._crossReference._getNextReference();s.objId=A.objectNumber+" "+A.generationNumber,this._crossReference._cacheMap.set(A,s),e.update("FS",A)}},t.prototype._addAppearanceData=function(e,t){if(t){var i=mr(br(t,!1));if(i.startsWith("{")&&!i.endsWith("}"))for(;i.length>0&&!i.endsWith("}");)i=i.substring(0,i.length-1);var n=JSON.parse(i);if(n){var o=Object.keys(n);o&&o.length>0&&-1!==o.indexOf("ap")&&e.update("AP",this._parseDictionary(n.ap))}}},t.prototype._parseAppearance=function(e){var t,i=this,n=Object.keys(e);if(-1!==n.indexOf("name"))t=va.get(e.name);else if(-1!==n.indexOf("int"))t=Number.parseInt(e.int,10);else if(-1!==n.indexOf("fixed"))t=Number.parseFloat(e.fixed);else if(-1!==n.indexOf("string"))t=e.string;else if(-1!==n.indexOf("boolean"))t="true"===e.boolean;else if(-1!==n.indexOf("array")){var o=e.array;t=[],o.forEach((function(e){t.push(i._parseAppearance(e))}))}else if(-1!==n.indexOf("dict")){var r=this._parseDictionary(e.dict);r.size>0?(t=this._crossReference._getNextReference(),r.objId=t.objectNumber+" "+t.generationNumber,this._crossReference._cacheMap.set(t,r)):t=new Va(this._crossReference)}else if(-1!==n.indexOf("stream")){var a=this._parseStream(e.stream);t=this._crossReference._getNextReference(),a.reference=t,a.dictionary.objId=t.objectNumber+" "+t.generationNumber,this._crossReference._cacheMap.set(t,a)}else t=-1!==n.indexOf("unicodeData")?mr(Cr(e.unicodeData,!1),!0):null;return t},t.prototype._parseDictionary=function(e){var t=this,i=new Va(this._crossReference);if(e){var n=Object.keys(e);n&&n.length>0&&n.forEach((function(n){var o=e[n];if("data"!==n){var r=t._parseAppearance(o);i.update(n,r)}}))}return i},t.prototype._parseStream=function(e){var t,i=Object.keys(e);if(e&&i.indexOf("data")){var n=e.data,o=void 0;if(n){var r=Object.keys(n);if(r&&-1!==r.indexOf("bytes")){var a=n.bytes;a&&(o=Cr(a,!0))}}o||(o=[]);var s=new Na(o);this._crossReference?this._parseStreamElements(s,e):s._pendingResources=JSON.stringify(e),t=s}return t},t.prototype._parseStreamElements=function(e,t){if(void 0===t&&e._pendingResources&&(t=JSON.parse(e._pendingResources)),t){var i=this._parseDictionary(t),n=!1;if(i&&i.has("Subtype")){var o=i.get("Subtype");n=o&&"Image"===o.name}n||this._isImport&&e._isCompress?e._isCompress=!1:(i.has("Length")&&delete i._map.Length,i.has("Filter")&&delete i._map.Filter),e.dictionary=i}},t.prototype._getValidString=function(e){return-1!==e.indexOf("\\")&&(e=e.replace(/\\/g,"\\\\")),-1!==e.indexOf('"')&&(e=e.replace(/"/g,'\\"')),-1!==e.indexOf("[")&&(e=e.replace(/\[/g,"\\[")),-1!==e.indexOf("]")&&(e=e.replace(/\[/g,"\\]")),-1!==e.indexOf("{")&&(e=e.replace(/\[/g,"\\{")),-1!==e.indexOf("}")&&(e=e.replace(/\}/g,"\\}")),-1!==e.indexOf("\n")&&(e=e.replace(/\n/g,"\\n")),-1!==e.indexOf("\r")&&(e=e.replace(/\r/g,"\\r")),e},t}(_n),Fn=function(){function e(e,t){if(this._isExported=!1,this._isResourceExport=!1,this._crossReference=t,e instanceof ka){this._content=e,this._content.dictionary.has("Type")&&this._content.dictionary.has("Subtype")||this._initialize();var i=this._content.dictionary.getArray("BBox");if(i&&i.length>3){var n=Dr(i);this._size=[n.width,n.height],this._templateOriginalSize=this._size}this._isReadOnly=!0}else void 0!==e?(this._size=[e[2],e[3]],this._content=new Na([]),this._content.dictionary._crossReference=this._crossReference,this._initialize(),this._content.dictionary.set("BBox",[e[0],e[1],e[0]+e[2],e[1]+e[3]])):this._isReadOnly=!0;this._writeTransformation=!0}return Object.defineProperty(e.prototype,"graphics",{get:function(){return this._isReadOnly?null:(void 0===this._g&&(this._g=new cn(this._size,this._content,this._crossReference,this),this._writeTransformation&&this._g._initializeCoordinates(),this._g._isTemplateGraphics=!0),this._g)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_originalSize",{get:function(){return this._templateOriginalSize},enumerable:!0,configurable:!0}),e.prototype._initialize=function(){this._content.dictionary.set("Type",va.get("XObject")),this._content.dictionary.set("Subtype",va.get("Form"))},e.prototype._exportStream=function(e,t){var i=new Qn;i._crossReference=t,i._isAnnotationExport=!0;var n=new Map;i._writeObject(n,e.get("N"),e,"normal"),this._appearance=i._convertToJson(n),i._dispose()},e.prototype._importStream=function(e,t){var i=new Qn;e&&(i._crossReference=this._crossReference);var n=JSON.parse(this._appearance);if(n){var o=n[t?"resources":"normal"];if(o)if(t){var r=i._parseDictionary(o.dict);e&&this._content.dictionary.update("Resources",r)}else this._content=i._parseStream(o.stream),e&&(this._content.dictionary._crossReference=this._crossReference,this._content.dictionary._updated=!0)}i._dispose()},e.prototype._updatePendingResource=function(e){if(this._content._pendingResources&&""!==this._content._pendingResources){var t=new Qn;t._crossReference=e,t._parseStreamElements(this._content),this._content._pendingResources="",t._dispose()}},e}(),Tn=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),kn=function(e){function t(t){var i=e.call(this)||this;return t instanceof Uo?(i._destination=t,i._page=t.page):(i._page=t,i._destination=new Uo(t,[0,0])),i._dictionary=new Va,i._dictionary.update("Type",new va("Action")),i._dictionary.update("S",new va("GoTo")),i}return Tn(t,e),Object.defineProperty(t.prototype,"destination",{get:function(){return this._destination},set:function(e){this._destination=e},enumerable:!0,configurable:!0}),t}(function(){function e(){}return Object.defineProperty(e.prototype,"next",{get:function(){return this._next},set:function(e){this._next=e;var t=this._page._crossReference._getNextReference();this._page._crossReference._cacheMap.set(t,e._dictionary),e._dictionary.objId=t.toString(),this._dictionary.update("Next",t)},enumerable:!0,configurable:!0}),e}()),Pn=function(){function e(e){this._field=e}return Object.defineProperty(e.prototype,"mouseEnter",{get:function(){return this._mouseEnter||(this._mouseEnter=this._getPdfAction("E")),this._mouseEnter},set:function(e){e&&(this._mouseEnter=e,this._updateAction(this._mouseEnter,"E"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mouseLeave",{get:function(){return this._mouseLeave||(this._mouseLeave=this._getPdfAction("X")),this._mouseLeave},set:function(e){e&&(this._mouseLeave=e,this._updateAction(this._mouseLeave,"X"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mouseUp",{get:function(){return this._mouseUp||(this._mouseUp=this._getPdfAction("U")),this._mouseUp},set:function(e){e&&(this._mouseUp=e,this._updateAction(this._mouseUp,"U"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mouseDown",{get:function(){return this._mouseDown||(this._mouseDown=this._getPdfAction("D")),this._mouseDown},set:function(e){e&&(this._mouseDown=e,this._updateAction(this._mouseDown,"D"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gotFocus",{get:function(){return this._gotFocus||(this._gotFocus=this._getPdfAction("Fo")),this._gotFocus},set:function(e){e&&(this._gotFocus=e,this._updateAction(this._gotFocus,"Fo"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lostFocus",{get:function(){return this._lostFocus||(this._lostFocus=this._getPdfAction("Bl")),this._lostFocus},set:function(e){e&&(this._lostFocus=e,this._updateAction(this._lostFocus,"Bl"))},enumerable:!0,configurable:!0}),e.prototype._updateAction=function(e,t){var i;if(this._field._kidsCount>0&&(i=this._field.itemAt(0))&&i._dictionary&&e instanceof kn){var n=new Va,o=e._page,r=e.destination;r._destinationMode===st.location?e._dictionary.update("D",[o._ref,new va("XYZ"),r.location[0],o.size[1],r.zoom]):r._destinationMode===st.fitR?e._dictionary.update("D",[o._ref,new va("FitR"),0,0,0,0]):r._destinationMode===st.fitH?e._dictionary.update("D",[o._ref,new va("FitH"),o.size[1]]):r._destinationMode===st.fitToPage&&e._dictionary.update("D",[o._ref,new va("Fit")]),n.set(t,e._dictionary),n._updated=!0,i._dictionary.update("AA",n)}},e.prototype._getPdfAction=function(e){var t,i=this._field.itemAt(0);if(i&&i._dictionary&&i._dictionary.has("AA")){var n=i._dictionary.get("AA");if(n&&n.has(e)){var o=n.get(e);if(o&&o.has("S")){var r=o.get("S");r&&"GoTo"===r.name&&o.has("D")&&(o._crossReference||(o._crossReference=i._crossReference),t=new kn(ca(o,"D")))}}}return t},e}(),Nn=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Rn=function(){function e(){this._enableGrouping=!1,this._isDuplicatePage=!1,this._visible=!0,this._isTransparentBackColor=!1,this._isTransparentBorderColor=!1,this._defaultFont=new nn(Ei.helvetica,8),this._appearanceFont=new nn(Ei.helvetica,10,vi.regular),this._defaultItemFont=new nn(Ei.timesRoman,12),this._flatten=!1,this._hasData=!1,this._circleCaptionFont=new nn(Ei.helvetica,8,vi.regular),this._isUpdating=!1}return Object.defineProperty(e.prototype,"itemsCount",{get:function(){return this._kids?this._kids.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"form",{get:function(){return this._form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){if(void 0===this._name){var e=xr(this._dictionary,"T",!1,!1,"Parent");e&&e.length>0&&(1===e.length?this._name=e[0]:this._name=e.join("."))}return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualName",{get:function(){if(void 0===this._actualName&&this._dictionary&&this._dictionary.has("T")){var e=this._dictionary.get("T");e&&"string"==typeof e&&(this._actualName=e)}return this._actualName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mappingName",{get:function(){if(void 0===this._mappingName&&this._dictionary.has("TM")){var e=this._dictionary.get("TM");e&&"string"==typeof e&&(this._mappingName=e)}return this._mappingName},set:function(e){void 0!==this.mappingName&&this._mappingName===e||(this._mappingName=e,this._dictionary.update("TM",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toolTip",{get:function(){if(void 0===this._alternateName&&this._dictionary&&this._dictionary.has("TU")){var e=this._dictionary.get("TU");e&&"string"==typeof e&&(this._alternateName=e)}return this._alternateName},set:function(e){void 0!==this.toolTip&&this._alternateName===e||(this._alternateName=e,this._dictionary.update("TU",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibility",{get:function(){var e;if(this._isLoaded){e=Xe.visible;var t=this.itemAt(this._defaultIndex),i=Le.default;if(t&&t._hasFlags)i=t.flags;else{if(!this._dictionary.has("F"))return Xe.visibleNotPrintable;i=this._dictionary.get("F")}var n=3;switch((i&Le.hidden)===Le.hidden&&(n=0),(i&Le.noView)===Le.noView&&(n=1),(i&Le.print)!==Le.print&&(n&=2),n){case 0:e=Xe.hidden;break;case 1:e=Xe.hiddenPrintable;break;case 2:e=Xe.visibleNotPrintable;break;case 3:e=Xe.visible}}else void 0===this._visibility&&(this._visibility=Xe.visible),e=this._visibility;return e},set:function(e){var t=this.itemAt(this._defaultIndex);if(this._isLoaded)!t||t._hasFlags&&this.visibility===e?this._dictionary.has("F")&&this.visibility===e||(ia(this._dictionary,e),this._dictionary._updated=!0):(ia(t._dictionary,e),this._dictionary._updated=!0);else if(this.visibility!==e)switch(this._visibility=e,e){case Xe.hidden:t.flags=Le.hidden;break;case Xe.hiddenPrintable:t.flags=Le.noView|Le.print;break;case Xe.visible:t.flags=Le.print;break;case Xe.visibleNotPrintable:t.flags=Le.default}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){var e,t=this.itemAt(this._defaultIndex);return t&&(t._page=this.page),t&&t.bounds?e=t.bounds:this._dictionary&&this._dictionary.has("Rect")&&(e=_r(this._dictionary,this.page)),null==e&&(e={x:0,y:0,width:0,height:0}),e},set:function(e){if(0===e.x&&0===e.y&&0===e.width&&0===e.height)throw new Error("Cannot set empty bounds");var t=this.itemAt(this._defaultIndex);this._isLoaded&&(void 0===t||this._dictionary.has("Rect"))?this._dictionary.update("Rect",Vr([e.x,e.y,e.width,e.height],this.page)):(t._page=this.page,t.bounds=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){var e,t=this.itemAt(this._defaultIndex);if(t&&void 0!==t.rotate)e=t.rotate;else if(this._dictionary.has("R"))e=this._dictionary.get("R");else for(var i=0;i<this._kidsCount&&void 0===e;i++)i!==this._defaultIndex&&(t=this.itemAt(i))&&void 0!==t.rotate&&(e=t.rotate);return void 0===e&&(e=0),e},set:function(e){var t=this.itemAt(this._defaultIndex);t?t.rotate=e:this._dictionary.has("R")&&this._dictionary.get("R")===e||this._dictionary.update("R",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){var e,t=this.itemAt(this._defaultIndex);return t&&t.color?e=t.color:this._defaultAppearance&&(e=this._da.color),e},set:function(e){var t=this.itemAt(this._defaultIndex);if(t&&t.color&&Sa(e))t.color=e;else{var i=!1;this._defaultAppearance||(this._da=new Jn(""),i=!0),(i||this._da.color!==e)&&(this._da.color=e,this._dictionary.update("DA",this._da.toString()))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backColor",{get:function(){return this._parseBackColor(!1)},set:function(e){this._updateBackColor(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._parseBorderColor(!0)},set:function(e){this._updateBorderColor(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return!!(this._fieldFlags&pt.readOnly)},set:function(e){e?this._fieldFlags|=pt.readOnly:(this._fieldFlags===pt.readOnly&&(this._fieldFlags|=pt.default),this._fieldFlags&=~pt.readOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return!!(this._fieldFlags&pt.required)},set:function(e){e?this._fieldFlags|=pt.required:this._fieldFlags&=~pt.required},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){if(this._isLoaded){var e=this.itemAt(this._defaultIndex),t=Le.default;return e&&e._hasFlags?t=e.flags:this._dictionary.has("F")&&(t=this._dictionary.get("F")),t!==Le.hidden}return this._visible},set:function(e){this._isLoaded||this._visible===e||e||(this._visible=e,this.itemAt(this._defaultIndex).flags=Le.hidden)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){var e,t=this.itemAt(this._defaultIndex);if(t&&t._dictionary.has("BS"))e=t.border;else if(e=new _o,this instanceof On||(e._width=0),e._dictionary=this._dictionary,null!==this._dictionary&&void 0!==this._dictionary&&this._dictionary.has("BS")){var i=this._dictionary.get("BS");if(i){if(i.has("W")&&(e._width=i.get("W")),i.has("S")){var n=i.get("S");if(n)switch(n.name){case"D":e._style=Ye.dashed;break;case"B":e._style=Ye.beveled;break;case"I":e._style=Ye.inset;break;case"U":e._style=Ye.underline;break;default:e._style=Ye.solid}}i.has("D")&&(e._dash=i.getArray("D"))}}return e},set:function(e){var t=this.itemAt(this._defaultIndex);t?this._updateBorder(t._dictionary,e):this._updateBorder(this._dictionary,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationAngle",{get:function(){var e=Ge.angle0,t=this.itemAt(this._defaultIndex);return t&&(e=t.rotationAngle),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"export",{get:function(){return!(this._fieldFlags&pt.noExport)},set:function(e){e?this._fieldFlags&=~pt.noExport:this._fieldFlags|=pt.noExport},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){if(this._isLoaded){var e=void 0;if(this.page._pageDictionary.has("Annots")&&(e=this.page._pageDictionary.get("Annots")),this._kids&&this._kids.length>0)for(var t=0;t<this._kids.length;t++){var i=this._kids[Number.parseInt(t.toString(),10)];if(i)if(this.page._pageDictionary.has("Annots"))if(e)if(-1!==(n=e.indexOf(i)))return n}else if(this._dictionary&&this._dictionary.has("Subtype")&&"Widget"===this._dictionary.get("Subtype").name){var n;if(this._ref)if(e)if(-1!==(n=e.indexOf(this._ref)))return n}return-1}return this._tabIndex},set:function(e){if(this._tabIndex=e,this._isLoaded){var t=this.page;if(t&&(t.tabOrder===dt.manual||this.form&&this.form._tabOrder===dt.manual)&&t._pageDictionary.has("Annots")){var i=t._pageDictionary.get("Annots"),n=new Fo(i,this._crossReference,t);t._annotations=n;var o=i.indexOf(this._ref);o<0&&(o=this._annotationIndex);var r=t.annotations._reArrange(this._ref,this._tabIndex,o);t._pageDictionary.update("Annots",r),t._pageDictionary._updated=!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){if(!this._page){var e,t=this.itemAt(this._defaultIndex),i=void 0!==t?t._dictionary:this._dictionary;this._crossReference&&(e=this._crossReference._document);var n=void 0;if(i&&i.has("P")){var o=i.getRaw("P");if(o&&e)for(var r=0;r<e.pageCount;r++){var a=e.getPage(r);if(a&&a._ref===o){n=a;break}}}if(!n&&e){var s=void 0!==t?t._ref:this._ref;if(!n&&s&&(n=jr(e,s)),!n&&this._kids&&this._kids.length>0)for(r=0;r<this._kids.length&&!(n=jr(e,this._kids[Number.parseInt(r.toString(),10)]));r++);}this._page=n}return this._page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flatten",{get:function(){return this._flatten},set:function(e){this._flatten=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_grayBrush",{get:function(){return this._gray||(this._gray=new Sn([128,128,128])),this._gray},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_silverBrush",{get:function(){return this._silver||(this._silver=new Sn([198,198,198])),this._silver},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_whiteBrush",{get:function(){return this._white||(this._white=new Sn([255,255,255])),this._white},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_blackBrush",{get:function(){return this._black||(this._black=new Sn([0,0,0])),this._black},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_kidsCount",{get:function(){return this._kids?this._kids.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_hasBackColor",{get:function(){if(this._isLoaded){var e=this._mkDictionary;if(!e){var t=this.itemAt(this._defaultIndex);t&&t._dictionary.has("MK")&&(e=t._dictionary.get("MK"))}return e&&e.has("BG")}return!this._isTransparentBackColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_hasBorderColor",{get:function(){if(this._isLoaded){var e=this._mkDictionary;if(!e){var t=this.itemAt(this._defaultIndex);t&&t._dictionary.has("MK")&&(e=t._dictionary.get("MK"))}return e&&e.has("BC")}return!this._isTransparentBorderColor},enumerable:!0,configurable:!0}),e.prototype._parseBackColor=function(e){var t;if(!e||this._isLoaded&&this._hasBackColor||!this._isLoaded&&!this._isTransparentBackColor){var i=this.itemAt(this._defaultIndex);if(i&&i.backColor)t=i.backColor;else if(this._mkDictionary){var n=this._mkDictionary;if(n&&n.has("BG")){var o=n.getArray("BG");o&&(t=Fr(o))}}null==t&&(t=[255,255,255])}return t},e.prototype._parseBorderColor=function(e){var t;if(!e||this._isLoaded&&this._hasBorderColor||!this._isLoaded&&!this._isTransparentBorderColor){var i=this.itemAt(this._defaultIndex);if(i&&i.borderColor)t=i.borderColor;else if(this._mkDictionary){var n=this._mkDictionary;if(n.has("BC")){var o=n.getArray("BC");o&&(t=Fr(o))}}null==t&&(t=[0,0,0])}return t},e.prototype._updateBackColor=function(e,t){if(void 0===t&&(t=!1),t&&Sa(e)&&4===e.length&&255!==e[3]){this._isTransparentBackColor=!0,this._dictionary&&this._dictionary.has("BG")&&delete this._dictionary._map.BG,(n=this._mkDictionary)&&n.has("BG")&&(delete n._map.BG,this._dictionary._updated=!0);var i=this.itemAt(this._defaultIndex);i&&(i.backColor=e)}else{this._isTransparentBackColor=!1;var n,o=this.itemAt(this._defaultIndex);if(o&&o.backColor!==e)o.backColor=e;else if(void 0===(n=this._mkDictionary)){var r=new Va(this._crossReference);r.update("BG",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._dictionary.update("MK",r)}else n.has("BG")&&Fr(n.getArray("BG"))===e||(n.update("BG",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._dictionary._updated=!0)}},e.prototype._updateBorderColor=function(e,t){if(void 0===t&&(t=!1),t&&4===e.length&&255!==e[3]){if(this._isTransparentBorderColor=!0,this._dictionary.has("BC")&&delete this._dictionary._map.BC,(o=this._mkDictionary)&&o.has("BC")){if(delete o._map.BC,this._dictionary.has("BS")){var i=this._dictionary.get("BS");i&&i.has("W")&&delete i._map.W}this._dictionary._updated=!0}var n=this.itemAt(this._defaultIndex);n&&(n.borderColor=e)}else{this._isTransparentBorderColor=!1;var o,r=this.itemAt(this._defaultIndex);if(r&&r.borderColor!==e)r.borderColor=e;else if(void 0===(o=this._mkDictionary)){var a=new Va(this._crossReference);a.update("BC",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._dictionary.update("MK",a)}else o.has("BC")&&Fr(o.getArray("BC"))===e||(o.update("BC",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._dictionary._updated=!0)}},e.prototype.itemAt=function(e){var t;if(e>=0&&e<this._kidsCount)if(this._parsedItems.has(e))t=this._parsedItems.get(e);else{var i=void 0,n=this._kids[Number.parseInt(e.toString(),10)];n&&n instanceof xa&&(i=this._crossReference._fetch(n)),i&&((t=Bo._load(i,this._crossReference))._ref=n,this._parsedItems.set(e,t))}return t},e.prototype.setAppearance=function(e){this._setAppearance=e},e.prototype.getValue=function(e){var t;if(!this._dictionary||!this._dictionary.has(e))throw new Error("PdfException: "+e+" is not found");var i=this._dictionary.get(e);if(null!=i&&i instanceof va)t=i.name;else{if("string"!=typeof i)throw new Error("PdfException: "+e+" is not found");t=i}return t},e.prototype.setValue=function(e,t){e&&""!==e&&t&&""!==t&&this._dictionary.update(e,t)},e.prototype.removeItemAt=function(e){if(null!==this._dictionary&&void 0!==this._dictionary&&this._dictionary.has("Kids")&&this.itemsCount>0){var t=this.itemAt(e);if(t&&t._ref){var i=t._getPage();if(i&&i._removeAnnotation(t._ref),this._kids.splice(e,1),this._dictionary.set("Kids",this._kids),this._dictionary._updated=!0,this._parsedItems.delete(e),this._parsedItems.size>0){var n=new Map;this._parsedItems.forEach((function(t,i){i>e?n.set(i-1,t):n.set(i,t)})),this._parsedItems=n}}}},e.prototype.removeItem=function(e){if(e&&e._ref){var t=this._kids.indexOf(e._ref);-1!==t&&this.removeItemAt(t)}},Object.defineProperty(e.prototype,"_fieldFlags",{get:function(){return void 0===this._flags&&(this._flags=xr(this._dictionary,"Ff",!1,!0,"Parent"),void 0===this._flags&&(this._flags=pt.default)),this._flags},set:function(e){this._fieldFlags!==e&&(this._flags=e,this._dictionary.update("Ff",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_defaultAppearance",{get:function(){if(void 0===this._da){var e=xr(this._dictionary,"DA",!1,!0,"Parent");e&&""!==e&&(this._da=new Jn(e))}return this._da},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_mkDictionary",{get:function(){var e;return this._dictionary&&this._dictionary.has("MK")&&(e=this._dictionary.get("MK")),e},enumerable:!0,configurable:!0}),e.prototype._updateBorder=function(e,t){var i,n=!1;e&&e.has("BS")?i=e.get("BS"):(i=new Va(this._crossReference),e.update("BS",i),n=!0),void 0!==t.width?(i.update("W",t.width),e._updated=!0):n&&i.update("W",0),void 0!==t.style?(i.update("S",Tr(t.style)),e._updated=!0):n&&i.update("S",Tr(Ye.solid)),void 0!==t.dash&&(i.update("D",t.dash),e._updated=!0)},e.prototype._checkFieldFlag=function(e){var t=e.get("F");return void 0!==t&&6===t},e.prototype._initializeFont=function(e){this._font=e;var t,i,n=this._crossReference._document;n&&(t=n.form._dictionary.has("DR")?n.form._dictionary.get("DR"):new Va(this._crossReference));var o=!1;if(t&&t.has("Font")){var r=t.getRaw("Font");r&&r instanceof xa?(o=!0,i=this._crossReference._fetch(r)):r instanceof Va&&(i=r)}i||(i=new Va(this._crossReference),t.update("Font",i));var a=va.get(zr()),s=this._crossReference._getNextReference();e instanceof rn?this._font._pdfFontInternals&&(this._crossReference._cacheMap.set(s,this._font._pdfFontInternals),this._font._reference=s):this._font._dictionary&&this._crossReference._cacheMap.set(s,this._font._dictionary),i.update(a.name,s),t._updated=!0,n.form._dictionary.update("DR",t),n.form._dictionary._updated=!0,this._fontName=a.name;var l=new Jn;if(l.fontName=this._fontName,l.fontSize=this._font._size,l.color=this.color?this.color:[0,0,0],this._dictionary.has("Kids"))for(var d=this._dictionary.getArray("Kids"),h=0;h<d.length;h++){d[Number.parseInt(h.toString(),10)].update("DA",l.toString())}else this._dictionary.has("Subtype")&&"Widget"===this._dictionary.get("Subtype").name&&this._dictionary.update("DA",l.toString());o&&(t._updated=!0)},e.prototype._drawRectangularControl=function(e,t){switch(e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.backBrush),this._drawBorder(e,t.bounds,t.borderPen,t.borderStyle,t.borderWidth),t.borderStyle){case Ye.inset:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._grayBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._silverBrush);break;case Ye.beveled:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._whiteBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,t.shadowBrush)}},e.prototype._drawBorder=function(e,t,i,n,o){i&&o>0&&(n===Ye.underline?e.drawLine(i,t[0],t[0]+t[3]-o/2,t[0]+t[2],t[1]+t[3]-o/2):e.drawRectangle(t[0]+o/2,t[1]+o/2,t[2]-o,t[3]-o,i))},e.prototype._drawLeftTopShadow=function(e,t,i,n){var o=new An,r=[];r.push([t[0]+i,t[1]+i]),r.push([t[0]+i,t[1]+t[3]-i]),r.push([t[0]+2*i,t[1]+t[3]-2*i]),r.push([t[0]+2*i,t[1]+2*i]),r.push([t[0]+t[2]-2*i,t[1]+2*i]),r.push([t[0]+t[2]-i,t[1]+i]),o.addPolygon(r),e.drawPath(o,n)},e.prototype._drawRightBottomShadow=function(e,t,i,n){var o=new An,r=[];r.push([t[0]+i,t[1]+t[3]-i]),r.push([t[0]+2*i,t[1]+t[3]-2*i]),r.push([t[0]+t[2]-2*i,t[1]+t[3]-2*i]),r.push([t[0]+t[2]-2*i,t[1]+2*i]),r.push([t[0]+t[2]-i,t[1]+i]),r.push([t[0]+t[2]-i,t[1]+t[3]-i]),o.addPolygon(r),e.drawPath(o,n)},e.prototype._drawRadioButton=function(e,t,i,n){if("l"===i){var o=t.bounds,r=o[2];switch(this._enableGrouping&&(r=Math.min(o[2],o[3])),n){case gt.checked:case gt.unchecked:e.drawEllipse(o[0],o[1],r,o[3],t.backBrush);break;case gt.pressedChecked:case gt.pressedUnchecked:t.borderStyle===Ye.beveled||t.borderStyle===Ye.underline?e.drawEllipse(o[0],o[1],o[2],o[3],t.backBrush):e.drawEllipse(o[0],o[1],r,o[3],t.shadowBrush)}if(this._drawRoundBorder(e,o,t.borderPen,t.borderWidth),this._drawRoundShadow(e,t,n),n===gt.checked||n===gt.pressedChecked){var a=[o[0]+t.borderWidth/2,o[1]+t.borderWidth/2,r-t.borderWidth,o[3]-t.borderWidth];e.drawEllipse(a[0]+a[2]/4,a[1]+a[2]/4,a[2]-a[2]/2,a[3]-a[2]/2,t.foreBrush)}}else this._drawCheckBox(e,t,i,n)},e.prototype._drawRoundBorder=function(e,t,i,n){0===t[0]&&0===t[1]&&0===t[2]&&0===t[3]||e.drawEllipse(t[0]+n/2,t[1]+n/2,(this._enableGrouping?Math.min(t[2],t[3]):t[2])-n,t[3]-n,i)},e.prototype._drawRoundShadow=function(e,t,i){var n=t.borderWidth,o=-1.5*n,r=t.bounds[0]+o,a=t.bounds[1]+o,s=t.bounds[2]+2*o,l=t.bounds[3]+2*o,d=t.shadowBrush;if(d){var h=d._color,A=void 0,p=void 0;switch(t.borderStyle){case Ye.beveled:switch(i){case gt.pressedChecked:case gt.pressedUnchecked:A=new Cn(h,n),p=new Cn([255,255,255],n);break;case gt.checked:case gt.unchecked:A=new Cn([255,255,255],n),p=new Cn(h,n)}break;case Ye.inset:switch(i){case gt.pressedChecked:case gt.pressedUnchecked:A=new Cn([0,0,0],n),p=new Cn([0,0,0],n);break;case gt.checked:case gt.unchecked:A=new Cn([128,128,128],n),p=new Cn([192,192,192],n)}}A&&p&&(e.drawArc(r,a,s,l,135,180,A),e.drawArc(r,a,s,l,-45,180,p))}},e.prototype._drawCheckBox=function(e,t,i,n,o){switch(n){case gt.unchecked:case gt.checked:(t.borderPen||t.backBrush)&&e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.backBrush);break;case gt.pressedChecked:case gt.pressedUnchecked:t.borderStyle===Ye.beveled||t.backBrush||t.borderStyle===Ye.underline?(t.borderPen||t.backBrush)&&e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.backBrush):(t.borderPen||t.shadowBrush)&&e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.shadowBrush)}var r=t.bounds;if(this._drawBorder(e,t.bounds,t.borderPen,t.borderStyle,t.borderWidth),n===gt.pressedChecked||n===gt.pressedUnchecked)switch(t.borderStyle){case Ye.inset:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._blackBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._whiteBrush);break;case Ye.beveled:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,t.shadowBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._whiteBrush)}else switch(t.borderStyle){case Ye.inset:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._grayBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._silverBrush);break;case Ye.beveled:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._whiteBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,t.shadowBrush)}var a=0,s=0;switch(n){case gt.pressedChecked:case gt.checked:if(o)o=new nn(Ei.zapfDingbats,o._size);else{var l=t.borderStyle===Ye.beveled||t.borderStyle===Ye.inset,d=t.borderWidth;l&&(d*=2);var h=Math.max(l?2*t.borderWidth:t.borderWidth,1),A=Math.min(d,h),p=(s=t.bounds[2]>t.bounds[3]?t.bounds[3]:t.bounds[2])-2*A;o=new nn(Ei.zapfDingbats,p),t.bounds[2]>t.bounds[3]&&(a=(t.bounds[3]-o._metrics._getHeight())/2)}if(0===s&&(s=t.bounds[3]),t.pageRotationAngle!==Ge.angle0||t.rotationAngle>0){var c=e.save(),g=e._size;if(t.pageRotationAngle!==Ge.angle0)if(t.pageRotationAngle===Ge.angle90){e.translateTransform(g[1],0),e.rotateTransform(90);var u=g[1]-(r[0]+r[2]);r=[r[1],u,r[3],r[2]]}else if(t.pageRotationAngle===Ge.angle180){e.translateTransform(g[0],g[1]),e.rotateTransform(-180),r=[g[0]-(r[0]+r[2]),u=g[1]-(r[1]+r[3]),r[2],r[3]]}else if(t.pageRotationAngle===Ge.angle270){e.translateTransform(0,g[0]),e.rotateTransform(270),r=[g[0]-(r[1]+r[3]),u=r[0],r[3],r[2]]}if(t.rotationAngle>0){if(90===t.rotationAngle)if(t.pageRotationAngle===Ge.angle90)e.translateTransform(0,g[1]),e.rotateTransform(-90),r=[g[1]-(r[1]+r[3]),u=r[0],r[3],r[2]];else if(r[2]>r[3])e.translateTransform(0,g[1]),e.rotateTransform(-90),r=[t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]];else{var f=r[0];r[0]=-(r[1]+r[3]),r[1]=f;var m=r[3];r[3]=r[2]>o._metrics._getHeight()?r[2]:o._metrics._getHeight(),r[2]=m,e.rotateTransform(-90),r=[r[0],r[1],r[2],r[3]]}else if(270===t.rotationAngle){e.translateTransform(g[0],0),e.rotateTransform(-270),r=[r[1],u=g[0]-(r[0]+r[2]),r[3],r[2]]}else if(180===t.rotationAngle){e.translateTransform(g[0],g[1]),e.rotateTransform(-180),r=[g[0]-(r[0]+r[2]),u=g[1]-(r[1]+r[3]),r[2],r[3]]}e.drawString(i,o,[r[0],r[1]-a,r[2],r[3]],null,t.foreBrush,new pi(We.center,hi.middle)),e.restore(c)}else e.drawString(i,o,[r[0],r[1]-a,r[2],r[3]],null,t.foreBrush,new pi(We.center,hi.middle));break}}},e.prototype._addToKid=function(e){if(this._dictionary&&this._dictionary.has("Kids")?this._kids=this._dictionary.get("Kids"):(this._kids=[],this._dictionary.update("Kids",this._kids),this._parsedItems=new Map),-1===this._kids.indexOf(e._ref)){var t=this._kidsCount;e._index=t,this._kids.push(e._ref),this._parsedItems.set(t,e)}},e.prototype._drawTemplate=function(e,t,i){if(e&&t){var n=t.graphics;n.save(),t.rotation===Ge.angle90?(n.translateTransform(n._size[1],0),n.rotateTransform(90)):t.rotation===Ge.angle180?(n.translateTransform(n._size[0],n._size[1]),n.rotateTransform(-180)):t.rotation===Ge.angle270&&(n.translateTransform(0,n._size[0]),n.rotateTransform(270)),n._sw._setTextRenderingMode(dn.fill),n.drawTemplate(e,i),n.restore()}},e.prototype._addToOptions=function(e,t){t instanceof jn&&t._listValues.push(e._text),t._options.push([e._value,e._text]),t._dictionary.set("Opt",t._options),t._dictionary._updated=!0,!e._isFont&&e._pdfFont&&this._initializeFont(e._pdfFont)},e.prototype._addAppearance=function(e,t,i){var n=new Va;e&&e.has("AP")?(n=e.get("AP"),na(e.get("AP"),this._crossReference,i)):(n=new Va(this._crossReference),e.update("AP",n));var o=this._crossReference._getNextReference();this._crossReference._cacheMap.set(o,t._content),n.update(i,o)},e.prototype._rotateTextBox=function(e,t,i){var n=[0,0,0,0];return i===Ge.angle180?n=[t[0]-(e[0]+e[2]),t[1]-(e[1]+e[3]),e[2],e[3]]:i===Ge.angle270?n=[e[1],t[0]-(e[0]+e[2]),e[3],e[2]]:i===Ge.angle90&&(n=[t[1]-(e[1]+e[3]),e[0],e[3],e[2]]),n},e.prototype._checkIndex=function(e,t){if(e<0||0!==e&&e>=t)throw Error("Index out of range.")},e.prototype._getAppearanceStateValue=function(){var e;if(this._dictionary&&this._dictionary.has("Kids"))for(var t=0;t<this._kidsCount;t++){var i=this.itemAt(t);if(i&&i._dictionary&&i._dictionary.has("AS"))if((n=i._dictionary.get("AS"))&&"Off"!==n.name){e=n.name;break}}else if(this._dictionary&&this._dictionary.has("AS")){var n;(n=this._dictionary.get("AS"))&&"Off"!==n.name&&(e=n.name)}return e},e.prototype._getTextAlignment=function(){if(null===this._textAlignment||void 0===this._textAlignment)if(this._isLoaded){var e=this.itemAt(this._defaultIndex);e&&e._dictionary&&e._dictionary.has("Q")?this._textAlignment=e._dictionary.get("Q"):this._dictionary.has("Q")?this._textAlignment=this._dictionary.get("Q"):this._textAlignment=We.left}else this._textAlignment=We.left;return this._textAlignment},e.prototype._setTextAlignment=function(e){var t=this.itemAt(this._defaultIndex);this._isLoaded&&!this.readOnly&&(t&&t._dictionary?t._dictionary.update("Q",e):this._dictionary.update("Q",e)),this._isLoaded||this._textAlignment===e||(t&&t._dictionary?t._dictionary.update("Q",e):this._dictionary&&this._dictionary.update("Q",e)),this._textAlignment=e,this._stringFormat=new pi(e,hi.middle)},e.prototype._parseItems=function(){for(var e=[],t=0;t<this.itemsCount;t++)e.push(this.itemAt(t));return e},e}(),Ln=function(e){function t(t,i,n){var o=e.call(this)||this;return o._autoResizeText=!1,t&&i&&n&&o._initialize(t,i,n),o}return Nn(t,e),t._load=function(e,i,n,o){var r=new t;return r._isLoaded=!0,r._form=e,r._dictionary=i,r._crossReference=n,r._ref=o,r._dictionary.has("Kids")&&(r._kids=r._dictionary.get("Kids")),r._defaultIndex=0,r._parsedItems=new Map,r},Object.defineProperty(t.prototype,"text",{get:function(){if(void 0===this._text)if(this._isLoaded){var e=xr(this._dictionary,"V",!1,!0,"Parent");if(e)this._text=pr(e);else{var t=this.itemAt(this._defaultIndex);t&&(e=t._dictionary.get("V"))&&(this._text=pr(e))}}else this._text="";return this._text},set:function(e){if(this._isLoaded){if(!this.readOnly){this._dictionary.has("V")&&this._dictionary.get("V")===e||this._dictionary.update("V",e);var t=this.itemAt(this._defaultIndex);!t||t._dictionary.has("V")&&t._dictionary.get("V")===e||t._dictionary.update("V",e)}}else this._text!==e&&(this._dictionary.update("V",e),this._text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._getTextAlignment()},set:function(e){this._textAlignment!==e&&this._setTextAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){if(void 0===this._defaultValue){var e=xr(this._dictionary,"DV",!1,!0,"Parent");e&&(this._defaultValue=e)}return this._defaultValue},set:function(e){e!==this.defaultValue&&(this._dictionary.update("DV",e),this._defaultValue=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiLine",{get:function(){return!!(this._fieldFlags&pt.multiLine)},set:function(e){e?this._fieldFlags|=pt.multiLine:this._fieldFlags&=~pt.multiLine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"password",{get:function(){return!!(this._fieldFlags&pt.password)},set:function(e){e?this._fieldFlags|=pt.password:this._fieldFlags&=~pt.password},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return!(this._fieldFlags&pt.doNotScroll)},set:function(e){e?this._fieldFlags&=~pt.doNotScroll:this._fieldFlags|=pt.doNotScroll},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spellCheck",{get:function(){return!(this._fieldFlags&pt.doNotSpellCheck)},set:function(e){e?this._fieldFlags&=~pt.doNotSpellCheck:this._fieldFlags|=pt.doNotSpellCheck},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"insertSpaces",{get:function(){var e=this._fieldFlags;return!(!(pt.comb&e)||e&pt.multiLine||e&pt.password||e&pt.fileSelect)},set:function(e){e?this._fieldFlags|=pt.comb:this._fieldFlags&=~pt.comb},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightMode",{get:function(){var e,t=this.itemAt(this._defaultIndex);if(t&&void 0!==t.highlightMode)e=t.highlightMode;else if(this._dictionary&&this._dictionary.has("H")){e=Rr(this._dictionary.get("H").name)}return void 0!==e?e:Ke.noHighlighting},set:function(e){var t=this.itemAt(this._defaultIndex);!t||void 0!==t.highlightMode&&t.highlightMode===e?this._dictionary.has("H")&&Rr(this._dictionary.get("H"))===e||this._dictionary.update("H",Lr(e)):t.highlightMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){if(void 0===this._maxLength){var e=xr(this._dictionary,"MaxLen",!1,!0,"Parent");this._maxLength=void 0!==e&&Number.isInteger(e)?e:0}return this._maxLength},set:function(e){this.maxLength!==e&&(this._dictionary.update("MaxLen",e),this._maxLength=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAutoResizeText",{get:function(){return this._autoResizeText},set:function(e){this._autoResizeText=e;var t=this.itemAt(this._defaultIndex);t&&(t._isAutoResize=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){if(this._font)return this._font;var e=this.itemAt(this._defaultIndex);return this._font=ha(this._form,e,this),this._font},set:function(e){e&&e instanceof tn&&(this._font=e,this._initializeFont(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backColor",{get:function(){return this._parseBackColor(!0)},set:function(e){this._updateBackColor(e,!0)},enumerable:!0,configurable:!0}),t.prototype._initialize=function(e,t,i){this._crossReference=e._crossReference,this._page=e,this._name=t,this._text="",this._defaultValue="",this._defaultIndex=0,this._spellCheck=!1,this._insertSpaces=!1,this._multiline=!1,this._password=!1,this._scrollable=!1,this._dictionary=new Va(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",va.get("Tx")),this._dictionary.update("T",t),this._fieldFlags|=pt.doNotSpellCheck,this._createItem(i),this._initializeFont(this._defaultFont)},t.prototype._createItem=function(e){var t=new Bo;t._create(this._page,e,this),t.textAlignment=We.left,this._stringFormat=new pi(t.textAlignment,hi.middle),t._dictionary.update("MK",new Va(this._crossReference)),t._mkDictionary.update("BC",[0,0,0]),t._mkDictionary.update("BG",[1,1,1]),t._mkDictionary.update("CA",this.actualName),this._addToKid(t)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),e||this._setAppearance||this._form._setAppearance){var t=this._kidsCount;if(this._isLoaded)if(t>0)for(var i=0;i<t;i++){(n=this.itemAt(i))&&this._postProcess(e,n)}else(e||this._form._setAppearance||this._setAppearance)&&!this._checkFieldFlag(this._dictionary)&&this._postProcess(e);else if(e||this._form._setAppearance||this._setAppearance)for(i=0;i<t;i++){var n;if((n=this.itemAt(i))&&!this._checkFieldFlag(n._dictionary)){var o=this._createAppearance(e,n);e?this._drawTemplate(o,n._page,{x:n.bounds.x,y:n.bounds.y,width:o._size[0],height:o._size[1]}):this._addAppearance(n._dictionary,o,"N"),n._dictionary._updated=!e}}e&&(this._dictionary._updated=!1)}},t.prototype._postProcess=function(e,t){var i,n,o=t||this;if(null!=t&&t._setAppearance&&t._enableGrouping||this._form._setAppearance||this._setAppearance||e&&!o._dictionary.has("AP"))i=this._createAppearance(e,o);else if(o._dictionary.has("AP")){var r=void 0,a=o._dictionary.get("AP");if(a&&a.has("N")){r=a.get("N");var s=a.getRaw("N");s&&(r.reference=s),r&&(i=new Fn(r,this._crossReference))}}if(i)if(e){var l=o instanceof Bo?o._getPage():o.page;if(l){var d=l.graphics;d.save(),l.rotation===Ge.angle90?(d.translateTransform(d._size[0],d._size[1]),d.rotateTransform(90)):l.rotation===Ge.angle180?(d.translateTransform(d._size[0],d._size[1]),d.rotateTransform(-180)):l.rotation===Ge.angle270&&(d.translateTransform(d._size[0],d._size[1]),d.rotateTransform(270)),n={x:o.bounds.x,y:o.bounds.y,width:i._size[0],height:i._size[1]},d.drawTemplate(i,n),d.restore()}o._dictionary._updated=!1}else this._addAppearance(o._dictionary,i,"N")},t.prototype._createAppearance=function(e,t){var i=t.bounds,n=new Fn([0,0,i.width,i.height],this._crossReference);Wr(n,null),n._writeTransformation=!1;var o=n.graphics,r=new Vo;r.bounds=[0,0,i.width,i.height];var a=t.backColor;e&&a&&(r.backBrush=new Sn(a)),r.foreBrush=new Sn(t.color);var s=t.border;if(t.borderColor&&(r.borderPen=new Cn(t.borderColor,s.width)),r.borderWidth=s.width,r.borderStyle=s.style,a){var l=[a[0]-64,a[1]-64,a[2]-64],d=[l[0]>=0?l[0]:0,l[1]>=0?l[1]:0,l[2]>=0?l[2]:0];r.shadowBrush=new Sn(d)}r.rotationAngle=t.rotate,r.insertSpaces=this.insertSpaces;var h,A,p=this.text,c=!1;if(null==p&&(p=""),this.password){for(var g="",u=0;u<p.length;u++)g+="*";p=g}return this.maxLength&&p.length>this.maxLength&&(p=p.substring(0,this.maxLength)),r.required=this.required,this.required||(o._sw._beginMarkupSequence("Tx"),o._initializeCoordinates()),null!=t&&t instanceof Bo&&t._enableGrouping&&(c=!0),c&&null!==t.font&&void 0!==t.font?0===(h=t.font).size&&(h._size=8,h._fontMetrics._size=0):void 0!==this._font&&null!==this._font||(this._font=this._defaultFont),c&&null!==t.textAlignment&&void 0!==t.textAlignment?A=A=new pi(t.textAlignment,hi.middle):void 0!==this._stringFormat&&null!==this._stringFormat||(void 0===this.textAlignment||null===this.textAlignment?this._stringFormat=new pi(this.textAlignment,hi.middle):this._stringFormat=new pi(We.left,hi.middle)),c?this._drawTextBox(o,r,p,h,A,this.multiLine,this.scrollable,this.maxLength):this._drawTextBox(o,r,p,this._font,this._stringFormat,this.multiLine,this.scrollable,this.maxLength),this.required||o._sw._endMarkupSequence(),n},t.prototype._drawTextBox=function(e,t,i,n,o,r,a,s){if(void 0!==s)if(t.insertSpaces){var l=0;if(void 0!==s&&s>0&&this.borderColor){l=t.bounds[2]/s,e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.borderPen,t.backBrush);for(var d=i,h=0;h<s;h++){if(o.alignment===We.right)i=s-d.length<=h?d[h-(s-d.length)]:"";else if(o.alignment===We.center&&d.length<s){var A=s/2-Math.ceil(d.length/2);i=h>=A&&h<A+d.length?d[h-A]:""}else i=d.length>h?d[Number.parseInt(h.toString(),10)]:"";t.bounds[2]=l;var p=new pi(We.center,hi.middle);this._drawTextBox(e,t,i,n,p,r,a),t.bounds[0]=t.bounds[0]+l,t.borderWidth&&e.drawLine(t.borderPen,t.bounds[0],t.bounds[1],t.bounds[0],t.bounds[1]+t.bounds[3])}}else this._drawTextBox(e,t,i,n,o,r,a)}else this._drawTextBox(e,t,i,n,o,r,a);else{e._isTemplateGraphics&&t.required&&(e.save(),e._initializeCoordinates()),t.insertSpaces||this._drawRectangularControl(e,t),e._isTemplateGraphics&&t.required&&(e.restore(),e.save(),e._sw._beginMarkupSequence("Tx"),e._initializeCoordinates());var c=[t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]],g=this.rotate;if(null!=g&&90===g&&(c[1]=c[2]/2),t.borderStyle===Ye.beveled||t.borderStyle===Ye.inset?(c[0]=c[0]+4*t.borderWidth,c[2]=c[2]-8*t.borderWidth):(c[0]=c[0]+2*t.borderWidth,c[2]=c[2]-4*t.borderWidth),r){var u=(null==o||0===o.lineSpacing?n._metrics._getHeight():o.lineSpacing)-n._metrics._getAscent(o);i.indexOf("\n"),0===c[0]&&1===c[1]&&(c[1]=-(c[1]-u)),t.isAutoFontSize&&0!==t.borderWidth&&(c[1]=c[1]+2.5*t.borderWidth)}if(e._page&&void 0!==e._page.rotation&&e._page.rotation!==Ge.angle0||t.rotationAngle>0){var f=e.save();if(void 0!==t.pageRotationAngle&&t.pageRotationAngle!==Ge.angle0)if(t.pageRotationAngle===Ge.angle90){e.translateTransform(e._size[1],0),e.rotateTransform(90);var m=e._size[1]-(c[0]+c[2]);c=[c[1],m,c[3],c[2]]}else if(t.pageRotationAngle===Ge.angle180){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),c=[e._size[0]-(c[0]+c[2]),m=e._size[1]-(c[1]+c[3]),c[2],c[3]]}else if(t.pageRotationAngle===Ge.angle270){e.translateTransform(0,e._size[0]),e.rotateTransform(270),c=[e._size[0]-(c[1]+c[3]),m=c[0],c[3],c[2]]}if(t.rotationAngle)if(90===t.rotationAngle)if(t.pageRotationAngle===Ge.angle90)e.translateTransform(0,e._size[1]),e.rotateTransform(-90),c=[e._size[1]-(c[1]+c[3]),m=c[0],c[3],c[2]],t.stringFormat=new pi(We.center,hi.middle);else if(c[2]>c[3])e.translateTransform(0,e._size[1]),e.rotateTransform(-90),(c=[t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]])[1]=c[2]/2-8*t.borderWidth;else{var w=c[0];c[0]=-(c[1]+c[3]),c[1]=w;var y=c[3];c[3]=c[2]>n._metrics._getHeight()?c[2]:n._metrics._getHeight(),c[2]=y,e.rotateTransform(-90)}else if(270===t.rotationAngle)e.translateTransform(e._size[0],0),e.rotateTransform(-270),(c=[t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]])[1]=c[2]/2-8*t.borderWidth;else if(180===t.rotationAngle){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),c=[e._size[0]-(c[0]+c[2]),m=e._size[1]-(c[1]+c[3]),c[2],c[3]]}e.drawString(i,n,c,null,t.foreBrush,o),e.restore(f)}else e.drawString(i,n,c,null,t.foreBrush,o);e._isTemplateGraphics&&t.required&&(e._sw._endMarkupSequence(),e.restore())}},t}(Rn),On=function(e){function t(t,i,n){var o=e.call(this)||this;return t&&i&&n&&o._initialize(t,i,n),o}return Nn(t,e),Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions||(this._actions=new Pn(this)),this._actions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){if(this._isLoaded){if(void 0===this._text){var e=this.itemAt(this._defaultIndex);e&&e._mkDictionary&&e._mkDictionary.has("CA")?this._text=e._mkDictionary.get("CA"):this._mkDictionary&&this._mkDictionary.has("CA")&&(this._text=this._mkDictionary.get("CA"))}if(void 0===this._text){var t=xr(this._dictionary,"V",!1,!0,"Parent");t&&(this._text=t)}}return void 0===this._text&&(this._text=""),this._text},set:function(e){this._isLoaded&&!this.readOnly&&((t=this.itemAt(this._defaultIndex))&&t._dictionary?this._assignText(t._dictionary,e):this._assignText(this._dictionary,e));if(!this._isLoaded&&this._text!==e){var t=this.itemAt(this._defaultIndex);this._assignText(t._dictionary,e),this._text=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._getTextAlignment()},set:function(e){this._textAlignment!==e&&this._setTextAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightMode",{get:function(){var e,t=this.itemAt(this._defaultIndex);if(t&&void 0!==t.highlightMode)e=t.highlightMode;else if(this._dictionary&&this._dictionary.has("H")){e=Rr(this._dictionary.get("H").name)}return void 0!==e?e:Ke.invert},set:function(e){var t=this.itemAt(this._defaultIndex);!t||void 0!==t.highlightMode&&t.highlightMode===e?this._dictionary.has("H")&&Rr(this._dictionary.get("H"))===e||this._dictionary.update("H",Lr(e)):t.highlightMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){if(this._font)return this._font;var e=this.itemAt(this._defaultIndex);return this._font=ha(this._form,e,this),this._font},set:function(e){e&&e instanceof tn&&(this._font=e,this._initializeFont(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backColor",{get:function(){return this._parseBackColor(!0)},set:function(e){this._updateBackColor(e,!0)},enumerable:!0,configurable:!0}),t.prototype._assignText=function(e,t){var i;e&&e.has("MK")?i=e.get("MK"):(i=new Va(this._crossReference),e.set("MK",i)),i.update("CA",t),e._updated=!0},t._load=function(e,i,n,o){var r=new t;return r._isLoaded=!0,r._form=e,r._dictionary=i,r._crossReference=n,r._ref=o,r._dictionary.has("Kids")&&(r._kids=r._dictionary.get("Kids")),r._defaultIndex=0,r._parsedItems=new Map,r},t.prototype._initialize=function(e,t,i){this._crossReference=e._crossReference,this._page=e,this._name=t,this._defaultIndex=0,this._dictionary=new Va(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",va.get("Btn")),this._dictionary.update("T",t),this._fieldFlags|=pt.pushButton,this._initializeFont(this._defaultFont),this._createItem(i)},t.prototype._createItem=function(e){var t=new Bo;t._create(this._page,e,this),t.textAlignment=We.center,this._stringFormat=new pi(t.textAlignment,hi.middle),t._dictionary.update("MK",new Va(this._crossReference)),t._mkDictionary.update("BC",[0,0,0]),t._mkDictionary.update("BG",[.827451,.827451,.827451]),t._mkDictionary.update("CA",void 0!==this._name&&null!==this._name?this._name:this._actualName),this._addToKid(t)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),e||this._setAppearance||this._form._setAppearance){var t=this._kidsCount;if(this._isLoaded)if(t>0)for(var i=0;i<t;i++){(n=this.itemAt(i))&&this._postProcess(e,n)}else(e||this._form._setAppearance||this._setAppearance)&&!this._checkFieldFlag(this._dictionary)&&this._postProcess(e);else if(e||this._form._setAppearance||this._setAppearance)for(i=0;i<t;i++){var n;if((n=this.itemAt(i))&&!this._checkFieldFlag(n._dictionary)){var o=this._createAppearance(n);if(e)this._drawTemplate(o,n._getPage(),{x:n.bounds.x,y:n.bounds.y,width:o._size[0],height:o._size[1]});else{this._addAppearance(n._dictionary,o,"N");var r=this._createAppearance(n,!0);r&&this._addAppearance(n._dictionary,r,"D")}n._dictionary._updated=!e}}e&&(this._dictionary._updated=!1)}},t.prototype._postProcess=function(e,t){var i,n,o=t||this;if(null!=t&&t._setAppearance&&t._enableGrouping||this._form._setAppearance||this._setAppearance||e&&!o._dictionary.has("AP"))i=this._createAppearance(o);else if(o._dictionary.has("AP")){var r=void 0,a=o._dictionary.get("AP");if(a&&a.has("N")){r=a.get("N");var s=a.getRaw("N");s&&(r.reference=s),r&&(i=new Fn(r,this._crossReference))}}if(i)if(e){var l=o instanceof Bo?o._getPage():o.page;if(l){var d=l.graphics;d.save(),l.rotation===Ge.angle90?(d.translateTransform(d._size[0],d._size[1]),d.rotateTransform(90)):l.rotation===Ge.angle180?(d.translateTransform(d._size[0],d._size[1]),d.rotateTransform(-180)):l.rotation===Ge.angle270&&(d.translateTransform(d._size[0],d._size[1]),d.rotateTransform(270)),n={x:o.bounds.x,y:o.bounds.y,width:i._size[0],height:i._size[1]},d.drawTemplate(i,n),d.restore()}o._dictionary._updated=!1}else this._addAppearance(o._dictionary,i,"N")},t.prototype._createAppearance=function(e,t){void 0===t&&(t=!1);var i,n,o,r=e.bounds,a=new Fn([0,0,r.width,r.height],this._crossReference),s=new Vo;s.bounds=[0,0,r.width,r.height];var l=!1,d=!1,h=e.backColor;h&&(s.backBrush=new Sn(h)),s.foreBrush=new Sn(e.color);var A=e.border;if(e.borderColor&&(s.borderPen=new Cn(e.borderColor,A.width)),s.borderWidth=A.width,s.borderStyle=A.style,h){var p=[h[0]-64,h[1]-64,h[2]-64],c=[p[0]>=0?p[0]:0,p[1]>=0?p[1]:0,p[2]>=0?p[2]:0];s.shadowBrush=new Sn(c)}if(s.rotationAngle=e.rotate,null!=e&&e instanceof Bo&&e._enableGrouping&&(l=!0),l?(i=e._mkDictionary&&e._mkDictionary&&e._mkDictionary.has("CA")?e._mkDictionary.get("CA"):"",void 0!==e.font&&null!==e.font.size&&0!==e.font.size&&(n=e.font),o=new pi(e.textAlignment,hi.middle)):void 0!==this._font&&null!==this._font||(this._font=this._defaultFont),this._isLoaded&&e instanceof Bo&&null!=e&&e._defaultAppearance){var g=e._defaultAppearance.fontName;null==g&&(g="Helvetica");var u=e._defaultAppearance.fontSize;null==u?u=this._defaultFont.size:0===u&&(d=!0);var f,m=void 0,w=void 0;this._stringFormat=new pi,this._stringFormat.lineAlignment=hi.middle,this._stringFormat.alignment=We.center,null!=u&&g&&(f=pa(g,u,vi.regular,e));var y=(w=null!=f?f:this._defaultFont).measureString(this.text,this._stringFormat);if(d&&w&&w instanceof nn&&this._isLoaded&&!e._dictionary.has("AP")){for(var S=e.bounds.width-8*A.width,C=e.bounds.height-8*A.width;y[0]<S||y[1]<C;)if(m=w,(y=(w=new nn(w.fontFamily,w._size+1)).measureString(this.text,this._stringFormat))[0]>S||y[1]>C){w=m;break}this._font=w}}return l?t?this._drawPressedButton(a.graphics,s,i,n,o):this._drawButton(a.graphics,s,i,n,o):t?this._drawPressedButton(a.graphics,s,this.text,this._font,this._stringFormat):this._drawButton(a.graphics,s,this.text,this._font,this._stringFormat),a},t.prototype._drawButton=function(e,t,i,n,o){this._drawRectangularControl(e,t);var r=t.bounds;if(e._page&&void 0!==e._page.rotation&&e._page.rotation!==Ge.angle0||t.rotationAngle>0){var a=e.save();if(void 0!==t.pageRotationAngle&&t.pageRotationAngle!==Ge.angle0)if(t.pageRotationAngle===Ge.angle90){e.translateTransform(e._size[1],0),e.rotateTransform(90);var s=e._size[1]-(r[0]+r[2]);r=[r[1],s,r[3],r[2]]}else if(t.pageRotationAngle===Ge.angle180){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),r=[e._size[0]-(r[0]+r[2]),s=e._size[1]-(r[1]+r[3]),r[2],r[3]]}else if(t.pageRotationAngle===Ge.angle270){e.translateTransform(0,e._size[0]),e.rotateTransform(270),r=[e._size[0]-(r[1]+r[3]),s=r[0],r[3],r[2]]}if(t.rotationAngle)if(90===t.rotationAngle)if(t.pageRotationAngle===Ge.angle90)e.translateTransform(0,e._size[1]),e.rotateTransform(-90),r=[e._size[1]-(r[1]+r[3]),s=r[0],r[3],r[2]];else if(r[2]>r[3])e.translateTransform(0,e._size[1]),e.rotateTransform(-90),r=[t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]];else{var l=r[0];r[0]=-(r[1]+r[3]),r[1]=l;var d=r[3];r[3]=r[2]>n._metrics._getHeight()?r[2]:n._metrics._getHeight(),r[2]=d,e.rotateTransform(-90)}else if(270===t.rotationAngle){e.translateTransform(e._size[0],0),e.rotateTransform(-270),r=[r[1],s=e._size[0]-(r[0]+r[2]),r[3],r[2]]}else if(180===t.rotationAngle){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),r=[e._size[0]-(r[0]+r[2]),s=e._size[1]-(r[1]+r[3]),r[2],r[3]]}e.drawString(i,n,r,null,t.foreBrush,o),e.restore(a)}else e.drawString(i,n,r,null,t.foreBrush,o)},t.prototype._drawPressedButton=function(e,t,i,n,o){if(t.borderStyle===Ye.inset)e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.shadowBrush);else e.drawRectangle(t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3],t.backBrush);this._drawBorder(e,t.bounds,t.borderPen,t.borderStyle,t.borderWidth);var r=[t.borderWidth,t.borderWidth,t.bounds[2]-t.borderWidth,t.bounds[3]-t.borderWidth];switch(e.drawString(i,n,r,null,t.foreBrush,o),t.borderStyle){case Ye.inset:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,this._grayBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._silverBrush);break;case Ye.beveled:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,t.shadowBrush),this._drawRightBottomShadow(e,t.bounds,t.borderWidth,this._whiteBrush);break;default:this._drawLeftTopShadow(e,t.bounds,t.borderWidth,t.shadowBrush)}},t}(Rn),Un=function(e){function t(t,i,n){var o=e.call(this)||this;return n&&t&&i&&o._initialize(n,t,i),o}return Nn(t,e),t._load=function(e,i,n,o){var r=new t;if(r._isLoaded=!0,r._form=e,r._dictionary=i,r._crossReference=n,r._ref=o,r._defaultIndex=0,r._parsedItems=new Map,r._dictionary.has("Kids"))r._kids=r._dictionary.get("Kids");else{var a=Io._load(i,n,r);a._isLoaded=!0,a._ref=o,r._parsedItems.set(0,a)}return r},t.prototype.itemAt=function(e){if(e<0||0!==e&&e>=this._kidsCount)throw Error("Index out of range.");var t;if(this._parsedItems.has(e))t=this._parsedItems.get(e);else{var i=void 0;if(e>=0&&this._kids&&this._kids.length>0&&e<this._kids.length){var n=this._kids[Number.parseInt(e.toString(),10)];n&&n instanceof xa&&(i=this._crossReference._fetch(n)),i&&((t=Io._load(i,this._crossReference,this))._isLoaded=!0,t._ref=n,this._parsedItems.set(e,t))}}return t},Object.defineProperty(t.prototype,"font",{get:function(){if(this._font)return this._font;var e=this.itemAt(this._defaultIndex);return this._font=ha(this._form,e,this),this._font},set:function(e){e&&e instanceof tn&&(this._font=e,this._initializeFont(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._kidsCount>0?this.itemAt(this._defaultIndex).checked:Gr(this._dictionary)},set:function(e){if(this.checked!==e){if(this._kidsCount>0&&(this.itemAt(this._defaultIndex).checked=e),e)if(this._isLoaded){var t=Jr(this._kidsCount>0?this.itemAt(this._defaultIndex)._dictionary:this._dictionary);this._dictionary.update("V",va.get(t)),this._dictionary.update("AS",va.get(t))}else this._dictionary.update("V",va.get("Yes")),this._dictionary.update("AS",va.get("Yes"));else this._dictionary.has("V")&&delete this._dictionary._map.V,this._dictionary.has("AS")&&delete this._dictionary._map.AS;this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._getTextAlignment()},set:function(e){this._textAlignment!==e&&this._setTextAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backColor",{get:function(){return this._parseBackColor(!0)},set:function(e){this._updateBackColor(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return this._parseBorderColor(!0)},set:function(e){this._updateBorderColor(e,!0),this._isLoaded&&(this._setAppearance=!0)},enumerable:!0,configurable:!0}),t.prototype._initialize=function(e,t,i){this._crossReference=e._crossReference,this._page=e,this._name=t,this._defaultIndex=0,this._dictionary=new Va(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",va.get("Btn")),this._dictionary.update("T",t),this._createItem(i)},t.prototype._createItem=function(e){var t=new Io;t._create(this._page,e,this),t.textAlignment=We.center,this._stringFormat=new pi(t.textAlignment,hi.middle),t._dictionary.update("MK",new Va(this._crossReference)),t._mkDictionary.update("BC",[0,0,0]),t._mkDictionary.update("BG",[1,1,1]),t.style=et.check,t._dictionary.update("DA","/TiRo 0 Tf 0 0 0 rg"),this._addToKid(t)},t.prototype._doPostProcess=function(e){void 0===e&&(e=!1);var t=this._kidsCount;if(this._isLoaded)if(t>0)for(var i=0;i<t;i++){if(a=this.itemAt(i)){if(!this._checkFieldFlag(a._dictionary))if(e){var n=void 0,o=a.checked?gt.checked:gt.unchecked;n=this._setAppearance||this._form._setAppearance||!a._dictionary.has("AP")?this._createAppearance(a,o):Kr(o,a),this._drawTemplate(n,a._getPage(),a.bounds)}else(this._setAppearance||this._form._setAppearance||!a._isLoaded)&&(a._postProcess(a.checked?"Yes":"Off"),this._drawAppearance(a));a._dictionary._updated=!e}}else{var r=this.checked?gt.checked:gt.unchecked;this._drawTemplate(Kr(r,this),this.page,this.bounds)}else for(i=0;i<t;i++){var a;if(a=this.itemAt(i)){o=a.checked?gt.checked:gt.unchecked;if(a._postProcess(a.checked?"Yes":"Off"),e){n=this._createAppearance(a,o);this._drawTemplate(n,a._getPage(),a.bounds)}else this._drawAppearance(a);a._dictionary._updated=!e}}this._dictionary._updated=!e},t.prototype._createAppearance=function(e,t){var i=e.bounds,n=new Vo;n.bounds=[0,0,i.width,i.height];var o=e.backColor;o&&(n.backBrush=new Sn(o)),n.foreBrush=new Sn(e.color);var r=e.border;if(e.borderColor&&(n.borderPen=new Cn(e.borderColor,r.width)),n.borderWidth=r.width,n.borderStyle=r.style,o){var a=[o[0]-64,o[1]-64,o[2]-64],s=[a[0]>=0?a[0]:0,a[1]>=0?a[1]:0,a[2]>=0?a[2]:0];n.shadowBrush=new Sn(s)}n.rotationAngle=e.rotate;var l=new Fn(n.bounds,this._crossReference),d=l.graphics;return e._styleText?this._drawCheckBox(d,n,e._styleText,t):this._drawCheckBox(d,n,Xr(e._style),t),l},t.prototype._drawAppearance=function(e,t){var i=new Va;if(e._dictionary.has("AP"))(i=e._dictionary.get("AP"))&&(i.has("N")&&ra(i.get("N"),this._crossReference,"Yes","Off"),i.has("D")&&ra(i.get("D"),this._crossReference,"Yes","Off")),na(i,this._crossReference,"N"),na(i,this._crossReference,"D");else{var n=this._crossReference._getNextReference();i=new Va(this._crossReference),this._crossReference._cacheMap.set(n,i),e._dictionary.update("AP",n)}var o=this._createAppearance(e,gt.checked),r=this._crossReference._getNextReference();this._crossReference._cacheMap.set(r,o._content);var a=this._createAppearance(e,gt.unchecked),s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,a._content);var l=new Va(this._crossReference);null!=t?l.update(t,r):l.update("Yes",r),l.update("Off",s);var d=this._crossReference._getNextReference();this._crossReference._cacheMap.set(d,l),i.update("N",d);var h=this._createAppearance(e,gt.pressedChecked),A=this._crossReference._getNextReference();this._crossReference._cacheMap.set(A,h._content);var p=this._createAppearance(e,gt.pressedUnchecked),c=this._crossReference._getNextReference();this._crossReference._cacheMap.set(c,p._content);var g=new Va(this._crossReference);null!=t?g.update(t,A):g.update("Yes",A),g.update("Off",c);var u=this._crossReference._getNextReference();this._crossReference._cacheMap.set(u,g),i.update("D",u),e._dictionary._updated=!0},t}(Rn),zn=function(e){function t(t,i){var n=e.call(this)||this;return n._selectedIndex=-1,t&&i&&n._initialize(t,i),n}return Nn(t,e),t._load=function(e,i,n,o){var r=new t;return r._isLoaded=!0,r._form=e,r._dictionary=i,r._crossReference=n,r._ref=o,r._dictionary.has("Kids")&&(r._kids=r._dictionary.get("Kids")),r._defaultIndex=0,r._parsedItems=new Map,r._kidsCount>0&&r._retrieveOptionValue(),r},Object.defineProperty(t.prototype,"checked",{get:function(){var e=!1;return this._kidsCount>0&&(e=this.itemAt(this._defaultIndex).checked),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._isLoaded&&-1===this._selectedIndex&&(this._selectedIndex=this._obtainSelectedIndex()),this._selectedIndex},set:function(e){if(this.selectedIndex!==e){this._selectedIndex=e;for(var t=0;t<this._kidsCount;t++){var i=this.itemAt(t);if(t===e){i._dictionary.update("AS",va.get(i.value));var n=va.get(i.value);this._dictionary.update("V",n),this._dictionary.update("DV",n)}else i._dictionary.update("AS",va.get("Off"))}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return this._parseBorderColor(!this._isLoaded)},set:function(e){this._updateBorderColor(e,!0)},enumerable:!0,configurable:!0}),t.prototype.itemAt=function(e){if(e<0||0!==e&&e>=this._kidsCount)throw Error("Index out of range.");var t;if(this._parsedItems.has(e))t=this._parsedItems.get(e);else{var i=void 0;if(e>=0&&this._kids&&this._kids.length>0&&e<this._kids.length){var n=this._kids[Number.parseInt(e.toString(),10)];n&&n instanceof xa&&(i=this._crossReference._fetch(n)),i&&((t=bo._load(i,this._crossReference,this))._ref=n,t._index=e,this._parsedItems.set(e,t))}}return t},t.prototype.add=function(e,t){return e instanceof bo?(e._field=this,e._dictionary.update("Parent",this._ref),e._setField(this),this._kidsCount):new bo(e,t,this)},t.prototype.removeItemAt=function(e){var t=this.itemAt(e);if(t&&t._ref){var i=t._getPage();if(i&&i._removeAnnotation(t._ref),this._kids.splice(e,1),this._dictionary.set("Kids",this._kids),this._dictionary._updated=!0,this._parsedItems.delete(e),this._parsedItems.size>0){var n=new Map;this._parsedItems.forEach((function(t,i){i>e?n.set(i-1,t):n.set(i,t)})),this._parsedItems=n}if(this._dictionary.has("Opt")){var o=this._dictionary.getArray("Opt");o&&o.length>0&&(o.splice(e,1),this._dictionary.set("Opt",o))}}},t.prototype.removeItem=function(e){if(e&&e._ref){var t=this._kids.indexOf(e._ref);-1!==t&&this.removeItemAt(t)}},t.prototype._initialize=function(e,t){this._defaultIndex=0,this._crossReference=e._crossReference,this._page=e,this._name=t,this._dictionary=new Va(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",va.get("Btn")),this._dictionary.update("T",t),this._parsedItems=new Map,this._fieldFlags|=pt.radio},t.prototype._retrieveOptionValue=function(){if(this._dictionary.has("Opt")){var e=this._dictionary.getArray("Opt");if(e&&e.length>0)for(var t=this._kidsCount,i=e.length<=t?e.length:t,n=0;n<i;n++)e[Number.parseInt(n.toString(),10)]&&(this.itemAt(n)._optionValue=e[Number.parseInt(n.toString(),10)])}},t.prototype._obtainSelectedIndex=function(){for(var e=-1,t=0;t<this._kidsCount;++t){var i=this.itemAt(t);if(i){var n=xr(i._dictionary,"V",!1,!0,"Parent");if(n&&i._dictionary.has("AS")){var o=i._dictionary.get("AS");if(o&&"off"!==o.name.toLowerCase())if(n instanceof va&&"off"!==n.name.toLowerCase()){if(o.name===n.name||i._optionValue===n.name){e=t;break}}else if("string"==typeof n&&"off"!==n.toLowerCase()&&(o.name===n||i._optionValue===n)){e=t;break}}}}return e},t.prototype._doPostProcess=function(e){void 0===e&&(e=!1);var t=this._kidsCount;if(this._isLoaded)if(t>0)for(var i=0;i<t;i++){if((a=this.itemAt(i))&&!this._checkFieldFlag(a._dictionary)){if(e){var n=void 0,o=this.selectedIndex===i?gt.checked:gt.unchecked;n=this._setAppearance||this._form._setAppearance||!a._dictionary.has("AP")?this._createAppearance(a,o):Kr(o,a),this._drawTemplate(n,a._getPage(),a.bounds)}else(this._setAppearance||this._form._setAppearance||!a._isLoaded)&&(a._postProcess(this.selectedIndex===i?a.value:"Off"),this._drawAppearance(a));a._dictionary._updated=!e}}else{var r=-1!==this.selectedIndex?gt.checked:gt.unchecked;this._drawTemplate(Kr(r,this),this.page,this.bounds)}else for(i=0;i<t;i++){var a=this.itemAt(i);o=this.selectedIndex===i?gt.checked:gt.unchecked;if(this._isDuplicatePage||a._dictionary.update("AS",va.get(this.selectedIndex===i?a.value:"Off")),e){n=this._createAppearance(a,o);this._drawTemplate(n,a._getPage(),a.bounds)}else this._isDuplicatePage||(a._postProcess(this.selectedIndex===i?a.value:"Off"),this._drawAppearance(a));a._dictionary._updated=!e}this._dictionary._updated=!e},t.prototype._createAppearance=function(e,t){var i=e.bounds,n=new Vo;n.bounds=[0,0,i.width,i.height];var o=e.backColor;o&&(n.backBrush=new Sn(o)),n.foreBrush=new Sn(e.color);var r=e.border;if(e.borderColor&&(n.borderPen=new Cn(e.borderColor,r.width)),n.borderWidth=r.width,n.borderStyle=r.style,o){var a=[o[0]-64,o[1]-64,o[2]-64],s=[a[0]>=0?a[0]:0,a[1]>=0?a[1]:0,a[2]>=0?a[2]:0];n.shadowBrush=new Sn(s)}n.rotationAngle=e.rotate;var l=new Fn(n.bounds,this._crossReference),d=l.graphics;return e._styleText?this._drawRadioButton(d,n,e._styleText,t):this._drawRadioButton(d,n,Xr(e.style),t),l},t.prototype._drawAppearance=function(e){var t=new Va;if(e._dictionary.has("AP"))(t=e._dictionary.get("AP"))&&(t.has("N")&&ra(t.get("N"),this._crossReference,e.value,"Off"),t.has("D")&&ra(t.get("D"),this._crossReference,e.value,"Off")),na(t,this._crossReference,"N"),na(t,this._crossReference,"D");else{var i=this._crossReference._getNextReference();t=new Va(this._crossReference),this._crossReference._cacheMap.set(i,t),e._dictionary.update("AP",i)}var n=this._createAppearance(e,gt.checked),o=this._crossReference._getNextReference();this._crossReference._cacheMap.set(o,n._content);var r=this._createAppearance(e,gt.unchecked),a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,r._content);var s=new Va(this._crossReference),l=e.value;!l&&e._enableGrouping&&(l="check"+e._index),s.update(l,o),s.update("Off",a);var d=this._crossReference._getNextReference();this._crossReference._cacheMap.set(d,s),t.update("N",d);var h=this._createAppearance(e,gt.pressedChecked),A=this._crossReference._getNextReference();this._crossReference._cacheMap.set(A,h._content);var p=this._createAppearance(e,gt.pressedUnchecked),c=this._crossReference._getNextReference();this._crossReference._cacheMap.set(c,p._content);var g=new Va(this._crossReference);g.update(l,A),g.update("Off",c);var u=this._crossReference._getNextReference();this._crossReference._cacheMap.set(u,g),t.update("D",u),e._dictionary._updated=!0},t}(Rn),Hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nn(t,e),Object.defineProperty(t.prototype,"itemsCount",{get:function(){return this._options.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){var e,t=this.itemAt(this._defaultIndex);return t&&(t._page=this.page),t&&t.bounds?e=t.bounds:this._dictionary.has("Rect")&&(e=_r(this._dictionary,this.page)),e||(this._bounds?this._bounds:e)},set:function(e){if(0===e.x&&0===e.y&&0===e.width&&0===e.height)throw new Error("Cannot set empty bounds");var t=this.itemAt(this._defaultIndex);this._isLoaded?void 0===t||this._dictionary.has("Rect")?this._dictionary.update("Rect",Vr([e.x,e.y,e.width,e.height],this.page)):(t._page=this.page,t.bounds=e):t?(t._page=this.page,t.bounds=e):this._bounds=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){var e=this._dictionary.get("I");return void 0===e?[]:1===e.length?e[0]:e},set:function(e){var t=this,i=this._options.length;if("number"==typeof e)this._checkIndex(e,i),this._dictionary.update("I",[e]),this._dictionary.update("V",[this._options[Number.parseInt(e.toString(),10)][0]]);else{var n=[];e.forEach((function(e){t._checkIndex(e,i),n.push(t._options[Number.parseInt(e.toString(),10)][0])})),this._dictionary.update("I",e),this._dictionary.update("V",n)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var e,t=this,i=[];this._dictionary&&this._dictionary.has("V")&&(void 0!==(e=this._dictionary.getArray("V"))&&(Array.isArray(e)?e.forEach((function(e){i.push(e)})):"string"==typeof e&&i.push(e)));0===i.length&&this._dictionary&&this._dictionary.has("I")&&((e=this._dictionary.get("I"))&&e.length>0&&e.forEach((function(e){i.push(t._options[Number.parseInt(e.toString(),10)][0])})));return 1===i.length?i[0]:i},set:function(e){var t=this;if("string"==typeof e){var i=this._tryGetIndex(e);-1!==i&&(this._dictionary.update("I",[i]),this._dictionary.update("V",[e]))}else{var n=[],o=[];e.forEach((function(e){var i=t._tryGetIndex(e);-1!==i&&(o.push(i),n.push(e))})),n.length>0&&(this._dictionary.update("I",o),this._dictionary.update("V",n))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiSelect",{get:function(){return this._isLoaded?!!(this._fieldFlags&pt.multiSelect):this._multiSelect},set:function(e){this.multiSelect!==e&&(this._multiSelect=e,e?this._fieldFlags|=pt.multiSelect:this._fieldFlags&=~pt.multiSelect)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editable",{get:function(){return this._isLoaded?!!(this._fieldFlags&pt.edit):this._editable},set:function(e){this._editable!==e&&(this._editable=e,e?this._fieldFlags|=pt.edit:this._fieldFlags&=~pt.edit)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){if(this._font)return this._font;var e=this.itemAt(this._defaultIndex);return this._font=ha(this._form,e,this),this._font},set:function(e){e&&e instanceof tn&&(this._font=e,this._initializeFont(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._getTextAlignment()},set:function(e){this._textAlignment!==e&&this._setTextAlignment(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backColor",{get:function(){return this._parseBackColor(!0)},set:function(e){this._updateBackColor(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_options",{get:function(){return this._optionArray||(this._dictionary&&this._dictionary.has("Opt")?this._optionArray=this._dictionary.getArray("Opt"):(this._optionArray=[],this._dictionary.update("Opt",this._optionArray))),this._optionArray},enumerable:!0,configurable:!0}),t.prototype.itemAt=function(e){var t;if(e<this._kidsCount)if(this._parsedItems.has(e))t=this._parsedItems.get(e);else{var i=void 0;(n=this._kids[Number.parseInt(e.toString(),10)])&&n instanceof xa&&(i=this._crossReference._fetch(n)),i&&((t=vo._load(i,this._crossReference,this))._index=e,t._ref=n,this._options&&this._options.length>0&&e<this._options.length?t._text=this._options[Number.parseInt(e.toString(),10)][1]:t._text="",this._parsedItems.set(e,t))}else if(this._parsedItems.has(e))t=this._parsedItems.get(e);else if(this._kidsCount>0&&this._kids&&this._kids.length>0){i=void 0;var n=void 0;(n=1===this._kidsCount?this._kids[0]:this._kids[Number.parseInt(e.toString(),10)])&&n instanceof xa&&(i=this._crossReference._fetch(n)),i&&((t=vo._load(i,this._crossReference,this))._index=e,t._ref=n,this._options&&this._options.length>0&&e<this._options.length?t._text=this._options[Number.parseInt(e.toString(),10)][1]:t._text="",this._parsedItems.set(e,t))}return t},t.prototype.addItem=function(e){return this._addToOptions(e,this),this._listValues.length-1},t.prototype.removeItemAt=function(e){var t=this.itemAt(e);if(t&&t._ref){if(this._parsedItems.delete(e),this._parsedItems.size>0){var i=new Map;this._parsedItems.forEach((function(t,n){n>e?i.set(n-1,t):i.set(n,t)})),this._parsedItems=i}if(this._dictionary&&this._dictionary.has("Opt")){var n=this._options;n&&n.length>0&&(n.splice(e,1),this._dictionary.set("Opt",n),this._optionArray=n,this._dictionary._updated=!0)}}},t.prototype.removeItem=function(e){if(e&&e.text){for(var t=void 0,i=0;i<this.itemsCount;i++){var n=this.itemAt(i);if(n&&e===n&&n.text===e.text){t=i;break}}-1!==t&&this.removeItemAt(t)}},t.prototype._initialize=function(e,t,i){this._defaultIndex=0,this._crossReference=e._crossReference,this._page=e,this._name=t,this._dictionary=new Va(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",va.get("Ch")),this._dictionary.update("T",t),this._parsedItems=new Map,this._listValues=[],this._kids=[],this.bounds=i,this._addEmptyWidget()},t.prototype._obtainFont=function(e){var t="",i=1;if(e&&(e._dictionary.has("DS")||e._dictionary.has("DA"))){if(e._dictionary.has("DS"))for(var n=e._dictionary.get("DS").split(";"),o=0;o<n.length;o++){var r=n[Number.parseInt(o.toString(),10)].split(":");if(-1!==n[Number.parseInt(o.toString(),10)].indexOf("font-family"))t=r[1];else if(-1!==n[Number.parseInt(o.toString(),10)].indexOf("font-size"))r[1].endsWith("pt")&&(i=Number.parseFloat(r[1].replace("pt","")));else if(-1===n[Number.parseInt(o.toString(),10)].indexOf("font-style")&&-1!==n[Number.parseInt(o.toString(),10)].indexOf("font")){for(var a=r[1].split(" "),s=0;s<a.length;s++)""===a[Number.parseInt(s.toString(),10)]||a[Number.parseInt(s.toString(),10)].endsWith("pt")||(t+=a[Number.parseInt(s.toString(),10)]+" "),a[Number.parseInt(s.toString(),10)].endsWith("pt")&&(i=Number.parseFloat(a[Number.parseInt(s.toString(),10)].replace("pt","")));for(;" "!==t&&t.endsWith(" ");)t=t.substring(0,t.length-2);-1!==t.indexOf(",")&&(t=t.split(",")[0])}}else{var l=e._dictionary.get("DA");if(l&&""!==l&&-1!==l.indexOf("Tf")){var d=l.split(" ");for(o=0;o<d.length;o++)if(-1!==d[Number.parseInt(o.toString(),10)].indexOf("Tf")){for(t=d[o-2];""!==t&&t.length>1&&"/"===t[0];)t=t.substring(1);i=Number.parseFloat(d[o-1])}var h=0;if(0===i){var A=new nn(Ei.helvetica,h);null!==A&&(h=this._getFontHeight(A._fontFamily),(Number.isNaN(h)||0===h)&&(h=12),A._size=h,i=h)}}}switch(t=t.trim()){case"Helv":default:this._font=new nn(Ei.helvetica,i,vi.regular);break;case"Courier":case"Cour":this._font=new nn(Ei.courier,i,vi.regular);break;case"Symb":this._font=new nn(Ei.symbol,i,vi.regular);break;case"TiRo":this._font=new nn(Ei.timesRoman,i,vi.regular);break;case"ZaDb":this._font=new nn(Ei.zapfDingbats,i,vi.regular)}}return this._font},t.prototype._obtainSelectedValue=function(){var e=this,t=[];if(this._dictionary.has("V")){var i=this._dictionary.get("V"),n=this._dictionary.getArray("V");null!=i&&("string"==typeof i?t.push(i):Array.isArray(i)&&n.forEach((function(e){t.push(e)})))}else{var o=this._dictionary.get("I");null!=o&&o.length>0&&o[0]>-1&&this._options&&this._options.length>0&&o.forEach((function(i){t.push(e._options[Number.parseInt(i.toString(),10)][0])}))}return t},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),e||this._setAppearance||this._form._setAppearance){var t=this._kidsCount;if(this._kids&&this._kids.length>0)if(t>1)for(var i=0;i<t;i++){if((o=this.itemAt(i))&&!this._checkFieldFlag(o._dictionary)){var n=this._createAppearance(o);if(e)(r=o._getPage())&&this._drawTemplate(n,r,o.bounds);else this._addAppearance(o._dictionary,n,"N");o._dictionary._updated=!e}}else{var o=this.itemAt(0);n=this._createAppearance();if(e)(r=this.page)&&this._drawTemplate(n,r,this.bounds);else this._addAppearance(o._dictionary,n,"N");o._dictionary._updated=!e}else if(this._dictionary){var r;n=this._createAppearance();if(e)(r=this.page)&&this._drawTemplate(n,r,this.bounds);else this._addAppearance(this._dictionary,n,"N")}this._dictionary._updated=!e}},t.prototype._tryGetIndex=function(e){var t=-1;if(this._options&&this._options.length>0)for(var i=0;i<this._options.length;i++)if(e===this._options[Number.parseInt(i.toString(),10)][0]){t=i;break}return t},t.prototype._addEmptyWidget=function(){var e=new Bo;e._create(this._page,this.bounds,this),this._addToKid(e),e._dictionary.update("MK",new Va(this._crossReference)),e._mkDictionary.update("BC",[0,0,0]),e._mkDictionary.update("BG",[1,1,1]),e._dictionary.update("DA","/TiRo 0 Tf 0 0 0 rg")},t}(Rn),Yn=function(e){function t(t,i,n){var o=e.call(this)||this;return t&&i&&n&&(o._initialize(t,i,n),o._fieldFlags|=pt.combo),o}return Nn(t,e),Object.defineProperty(t.prototype,"_isAutoFontSize",{get:function(){var e=!1;if(this._isLoaded&&this._form){var t=this._form._dictionary;if(t&&t.has("DA")){var i=t.get("DA");if(i){var n=new Jn(i);if(0===n.fontSize)if(this._kids&&this._kids.length>0){var o=!1;if(this._dictionary.has("DA")&&(i=this._dictionary.get("DA"))&&(n=new Jn(i))&&n.fontSize>0&&(o=!0),!o)for(var r=0;r<this._kids.length;r++){var a=void 0,s=this._kids[Number.parseInt(r.toString(),10)];if(s&&s instanceof xa&&(a=this._crossReference._fetch(s)),a)if(a.has("DA")){var l=0;(i=a.get("DA"))&&(n=new Jn(i))&&(l=n.fontSize),0===l&&(e=!0)}else e=!0}}else if(this._dictionary.has("DA")){l=0;(i=this._dictionary.get("DA"))&&(n=new Jn(i))&&(l=n.fontSize),0===l&&(e=!0)}else e=!0}}}return e},enumerable:!0,configurable:!0}),t._load=function(e,i,n,o){var r=new t;r._isLoaded=!0,r._form=e,r._dictionary=i,r._crossReference=n,r._ref=o,r._dictionary.has("Kids")&&(r._kids=r._dictionary.get("Kids"));var a=r._dictionary.getArray("Opt");return null!=a&&(r._listValues=new Array(a.length)),r._defaultIndex=0,r._parsedItems=new Map,r._kidsCount>0&&r._retrieveOptionValue(),r},t.prototype._retrieveOptionValue=function(){if(this._dictionary.has("Opt")){var e=this._dictionary.getArray("Opt");if(e&&e.length>0)for(var t=this._kidsCount,i=e.length<=t?e.length:t,n=0;n<i;n++){var o=e[Number.parseInt(n.toString(),10)][1];o&&(this.itemAt(n)._text=o||"")}}},t.prototype._createAppearance=function(e){var t=new Vo;if(e){var i=e.bounds,n=e._getPage();e._isLoaded&&n&&void 0!==n.rotation&&n.rotation!==Ge.angle0?t.bounds=this._rotateTextBox([i.x,i.y,i.width,i.height],n.size,n.rotation):t.bounds=[0,0,i.width,i.height],(l=e.backColor)&&(t.backBrush=new Sn(l)),t.foreBrush=new Sn(e.color);var o=e.border;if(e.borderColor&&(t.borderPen=new Cn(e.borderColor,o.width)),t.borderStyle=o.style,t.borderWidth=o.width,l){var r=[(d=[l[0]-64,l[1]-64,l[2]-64])[0]>=0?d[0]:0,d[1]>=0?d[1]:0,d[2]>=0?d[2]:0];t.shadowBrush=new Sn(r)}var a=void 0!==e.textAlignment?e.textAlignment:We.left,s=this.multiSelect?hi.top:hi.middle;t.stringFormat=new pi(a,s)}else{var l;(i=this.bounds)&&(this._isLoaded&&this.page&&void 0!==this.page.rotation&&this.page.rotation!==Ge.angle0?t.bounds=this._rotateTextBox([i.x,i.y,i.width,i.height],this.page.size,this.page.rotation):t.bounds=[0,0,i.width,i.height]),(l=this.backColor)&&(t.backBrush=new Sn(l)),t.foreBrush=new Sn(this.color);o=this.border;if(this.borderColor&&(t.borderPen=new Cn(this.borderColor,o.width)),t.borderStyle=o.style,t.borderWidth=o.width,l){var d;r=[(d=[l[0]-64,l[1]-64,l[2]-64])[0]>=0?d[0]:0,d[1]>=0?d[1]:0,d[2]>=0?d[2]:0];t.shadowBrush=new Sn(r)}t.rotationAngle=this.rotationAngle,null!==this.rotate&&void 0!==this.rotate&&(t.rotationAngle=this.rotate);a=void 0!==this.textAlignment?this.textAlignment:We.left,s=this.multiSelect?hi.top:hi.middle;t.stringFormat=new pi(a,s)}t.required=this.required,null!==t.bounds&&void 0!==t.bounds||(t.bounds=[0,0,0,0]);var h=new Fn(t.bounds,this._crossReference),A=h.graphics;if(A._sw._clear(),this.required||(A._sw._beginMarkupSequence("Tx"),A._initializeCoordinates()),this._isLoaded){var p=void 0;e&&(p=this._obtainFont(e)),null==p&&(p=this._appearanceFont),this._drawComboBox(A,t,p,t.stringFormat)}else this._font||(this._font=new nn(Ei.timesRoman,this._getFontHeight(Ei.helvetica))),this._drawComboBox(A,t,this._font,t.stringFormat);return this.required||A._sw._endMarkupSequence(),h},t.prototype._drawComboBox=function(e,t,i,n){e._isTemplateGraphics&&t.required&&(e.save(),e._initializeCoordinates()),this._drawRectangularControl(e,t),e._isTemplateGraphics&&t.required&&(e.restore(),e.save(),e._sw._beginMarkupSequence("Tx"),e._initializeCoordinates());var o=this._options,r=this._dictionary.get("I"),a=-1;if(r&&r.length>0&&(a=r[0]),a>=0&&a<o.length){var s=o[Number.parseInt(a.toString(),10)],l=[0,0],d=t.borderWidth,h=2*d,A=t.borderStyle===Ye.inset||t.borderStyle===Ye.beveled;A?(l[0]=2*h,l[1]=2*d):(l[0]=h+2,l[1]=1*d+1);var p=t.foreBrush,c=t.bounds,g=c[2]-h,u=c;if(u[3]-=A?h:d,e.setClip(u,St.winding),0===t.rotationAngle){var f=c[0]+d;A&&(f+=d,g-=h),p=new Sn([153,193,218]),e.drawRectangle(f,l[1],g,c[3],p),p=new Sn([0,0,0])}var m=void 0;if(m=s&&Array.isArray(s)?s[1]?s[1]:s[0]:s){var w=[l[0],l[1],g-l[0],c[3]];if(t.rotationAngle>0){var y=e.save();if(90===t.rotationAngle)e.translateTransform(0,e._size[1]),e.rotateTransform(-90),u=[e._size[1]-(u[1]+u[3]),u[0],u[3]+u[2],u[2]];else if(270===t.rotationAngle){e.translateTransform(e._size[0],0),e.rotateTransform(-270),u=[u[1],e._size[0]-(u[0]+u[2]),u[3]+u[2],u[2]]}else if(180===t.rotationAngle){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),u=[e._size[0]-(u[0]+u[2]),e._size[1]-(u[1]+u[3]),u[2],u[3]]}f=c[0]+d;A&&(f+=d,g-=h),p=new Sn([153,193,218]),e.drawRectangle(f,l[1],g,c[3],p),p=new Sn([0,0,0]),e.drawString(m,i,w,null,p,n),e.restore(y)}else e.drawString(m,i,w,null,p,n)}}e._isTemplateGraphics&&t.required&&(e._sw._endMarkupSequence(),e.restore())},t.prototype._getFontHeight=function(e){var t,i,n,o,r,a=this._dictionary.get("I"),s=this.border.width;if(this._isLoaded){i=new nn(e,12),n=new pi(We.center,hi.middle),o=this._dictionary.getArray("Opt"),r=this.bounds;var l=[];if(a&&a.length>0)a.forEach((function(e){l.push(i.measureString(o[Number.parseInt(e.toString(),10)][1],[0,0],n,0,0)[0])}));else if(o.length>0)for(var d=i.measureString(o[0][1],[0,0],n,0,0)[0],h=1;h<o.length;++h){var A=i.measureString(o[Number.parseInt(h.toString(),10)][1],[0,0],n,0,0)[0];d=Math.max(d,A),l.push(d)}t=l.length>0?12*(r.width-4*s)/l.sort()[l.length-1]:12}else{if(t=0,!(a&&a.length>0))return t;i=new nn(e,12),n=new pi(We.center,hi.middle),o=this._dictionary.getArray("Opt");var p=this.selectedValue;A=i.measureString(null!==p&&"string"==typeof p?p:o[a[0]][1],[0,0],n,0,0)[0];r=this.bounds,t=A?12*(r.width-4*s)/A:12}var c=0;if(a&&a.length>0){if(12!==t){i=new nn(e,t);var g=null!==(p=this.selectedValue)&&"string"==typeof p?p:o[a[0]][1],u=i.measureString(g);if(u[0]>r.width||u[1]>r.height){A=r.width-4*s;var f=r.height-4*s,m=.248;for(h=1;h<=r.height;h++){var w=(i=new nn(e,h)).measureString(g);if(w[0]>r.width||w[1]>f){c=h;do{var y=(i=new nn(e,c-=.001)).getLineWidth(g,n);if(c<m){i._size=m;break}if(w=i.measureString(g,[0,0],n,0,0),y<A&&w[1]<f){i._size=c;break}}while(c>m);t=c;break}}}}}else t>12&&(t=12);return t},t}(Hn),jn=function(e){function t(t,i,n){var o=e.call(this)||this;return t&&i&&n&&o._initialize(t,i,n),o}return Nn(t,e),t._load=function(e,i,n,o){var r=new t;return r._isLoaded=!0,r._form=e,r._dictionary=i,r._crossReference=n,r._ref=o,r._dictionary.has("Kids")&&(r._kids=r._dictionary.get("Kids")),r._defaultIndex=0,r._parsedItems=new Map,r._kidsCount>0&&r._retrieveOptionValue(),r},t.prototype._retrieveOptionValue=function(){if(this._dictionary.has("Opt")){var e=this._dictionary.getArray("Opt"),t=this._kidsCount,i=e.length<=t?e.length:t;if(this._listValues=new Array(i),e&&e.length>0){var n=this._dictionary.get("I");Array.isArray(n)&&n.length>0&&(n=n[0],this._selectedIndex=n);for(var o=0;o<i;o++){var r=this.itemAt(o);if(r)if(Sa(n)&&null!==this._listValues&&void 0!==this._listValues){var a=e[Number.parseInt(o.toString(),10)];Array.isArray(a)?this._listValues[Number.parseInt(o.toString(),10)]=a[1]:this._listValues[Number.parseInt(o.toString(),10)]=a,o===n?(r._text=this._listValues[Number.parseInt(o.toString(),10)],this._selectedIndex=o):r._text=this._listValues[Number.parseInt(o.toString(),10)]}else r._text=""}}}},t.prototype._createAppearance=function(e){var t=new Vo;if(e){var i=e.bounds,n=e._getPage();e._isLoaded&&n&&void 0!==n.rotation&&n.rotation!==Ge.angle0?t.bounds=this._rotateTextBox([i.x,i.y,i.width,i.height],n.size,n.rotation):t.bounds=[0,0,i.width,i.height],(l=e.backColor)&&(t.backBrush=new Sn(l)),t.foreBrush=new Sn(e.color);var o=e.border;if(e.borderColor&&(t.borderPen=new Cn(e.borderColor,o.width)),t.borderStyle=o.style,t.borderWidth=o.width,l){var r=[(d=[l[0]-64,l[1]-64,l[2]-64])[0]>=0?d[0]:0,d[1]>=0?d[1]:0,d[2]>=0?d[2]:0];t.shadowBrush=new Sn(r)}e._enableGrouping&&void 0===e.rotate?t.rotationAngle=0:t.rotationAngle=e.rotate;var a=void 0!==e.textAlignment?e.textAlignment:We.left,s=this.multiSelect?hi.top:hi.middle;t.stringFormat=new pi(a,s)}else{var l;i=this.bounds;this._isLoaded&&this.page&&void 0!==this.page.rotation&&this.page.rotation!==Ge.angle0?t.bounds=this._rotateTextBox([i.x,i.y,i.width,i.height],this.page.size,this.page.rotation):t.bounds=[0,0,i.width,i.height],(l=this.backColor)&&(t.backBrush=new Sn(l)),t.foreBrush=new Sn(this.color);o=this.border;if(this.borderColor&&(t.borderPen=new Cn(this.borderColor,o.width)),t.borderStyle=o.style,t.borderWidth=o.width,l){var d;r=[(d=[l[0]-64,l[1]-64,l[2]-64])[0]>=0?d[0]:0,d[1]>=0?d[1]:0,d[2]>=0?d[2]:0];t.shadowBrush=new Sn(r)}t.rotationAngle=this.rotationAngle,null!==this.rotate&&void 0!==this.rotate&&(t.rotationAngle=this.rotate);a=void 0!==this.textAlignment?this.textAlignment:We.left,s=this.multiSelect?hi.top:hi.middle;t.stringFormat=new pi(a,s)}t.required=this.required;var h=new Fn(t.bounds,this._crossReference),A=h.graphics;if(A._sw._clear(),this.required||(A._sw._beginMarkupSequence("Tx"),A._initializeCoordinates()),this._isLoaded){var p=this._obtainFont(e);(null==p||!this._isLoaded&&1===p.size)&&(p=this._appearanceFont),this._drawListBox(A,t,p,t.stringFormat)}else this._font||(this._font=this._defaultItemFont),this._drawListBox(A,t,this._font,t.stringFormat);return this.required||A._sw._endMarkupSequence(),h},t.prototype._drawListBox=function(e,t,i,n){e._isTemplateGraphics&&t.required&&(e.save(),e._initializeCoordinates()),this._drawRectangularControl(e,t),e._isTemplateGraphics&&t.required&&(e.restore(),e.save(),e._sw._beginMarkupSequence("Tx"),e._initializeCoordinates());for(var o=this._options,r=function(r){var s=o[Number.parseInt(r.toString(),10)],l=[],d=t.borderWidth,h=2*d,A=t.borderStyle===Ye.inset||t.borderStyle===Ye.beveled;A?(l.push(2*h),l.push((r+2)*d+i._metrics._getHeight()*r)):(l.push(h+2),l.push((r+1)*d+i._metrics._getHeight()*r+1));var p=t.foreBrush,c=t.bounds,g=c[2]-h,u=c;u[3]-=A?h:d,e.setClip(u,St.winding);var f=!1,m=a._dictionary.get("I");if(null!=m&&m.length>0&&m.forEach((function(e){f=f||e===r})),0===t.rotationAngle&&f){var w=c[0]+d;A&&(w+=d,g-=h),p=new Sn([153,193,218]),e.drawRectangle(w,l[1],g,i._metrics._getHeight(),p),p=new Sn([0,0,0])}var y=s[1]?s[1]:s[0],S=[l[0],l[1],g-l[0],i._metrics._getHeight()];if(t.rotationAngle>0){var C=e.save();if(90===t.rotationAngle)e.translateTransform(0,e._size[1]),e.rotateTransform(-90),u=[w=e._size[1]-(u[1]+u[3]),u[0],u[3]+u[2],u[2]];else if(270===t.rotationAngle){e.translateTransform(e._size[0],0),e.rotateTransform(-270),u=[w=u[1],e._size[0]-(u[0]+u[2]),u[3]+u[2],u[2]]}else if(180===t.rotationAngle){e.translateTransform(e._size[0],e._size[1]),e.rotateTransform(-180),u=[w=e._size[0]-(u[0]+u[2]),e._size[1]-(u[1]+u[3]),u[2],u[3]]}if(f){w=c[0]+d;A&&(w+=d,g-=h),p=new Sn([153,193,218]),e.drawRectangle(w,l[1],g,i._metrics._getHeight(),p),p=new Sn([0,0,0])}e.drawString(y,i,S,null,p,n),e.restore(C)}else e.drawString(y,i,S,null,p,n)},a=this,s=0;s<o.length;++s)r(s);e._isTemplateGraphics&&t.required&&(e._sw._endMarkupSequence(),e.restore())},t.prototype._getFontHeight=function(e){var t=new nn(e,12,vi.regular),i=new pi(We.left,hi.middle),n=0;if(Sa(this._listValues)&&this._listValues.length>0){for(var o=t.measureString(this._listValues[0],[0,0],i,0,0)[0],r=1;r<this._listValues.length;++r){var a=t.measureString(this._listValues[Number.parseInt(r.toString(),10)],[0,0],i,0,0)[0];o=o>a?o:a}n=(n=12*(this.bounds.width-4*this.border.width)/o)>12?12:n}return n},t}(Hn),Gn=function(e){function t(t,i,n){var o=e.call(this)||this;return o._isSigned=!1,t&&i&&n&&o._initialize(t,i,n),o}return Nn(t,e),Object.defineProperty(t.prototype,"isSigned",{get:function(){return this._isSigned||this._checkSigned(),this._isSigned},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backColor",{get:function(){return this._parseBackColor(!0)},set:function(e){this._updateBackColor(e,!0)},enumerable:!0,configurable:!0}),t._load=function(e,i,n,o){var r=new t;return r._isLoaded=!0,r._form=e,r._dictionary=i,r._crossReference=n,r._ref=o,r._dictionary.has("Kids")&&(r._kids=r._dictionary.get("Kids")),r._defaultIndex=0,r._parsedItems=new Map,r},t.prototype._initialize=function(e,t,i){this._crossReference=e._crossReference,this._page=e,this._name=t,this._dictionary=new Va(this._crossReference),this._ref=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary.objId=this._ref.toString(),this._dictionary.update("FT",va.get("Sig")),this._dictionary.update("T",t),this._defaultIndex=0,this._initializeFont(this._defaultFont),this._createItem(i)},t.prototype._createItem=function(e){var t=new Bo;t._create(this._page,e,this),t._dictionary.update("MK",new Va(this._crossReference)),t._mkDictionary.update("BC",[0,0,0]),t._mkDictionary.update("BG",[1,1,1]),t._dictionary.update("DA",this._fontName+" 8 Tf 0 0 0 rg"),this._addToKid(t)},t.prototype._doPostProcess=function(e){void 0===e&&(e=!1);var t,i=this._setAppearance||this._form._setAppearance;if((e||i)&&(t=this._kidsCount)>0)for(var n=0;n<t;n++){if((a=this.itemAt(n))&&a._dictionary&&(i||e&&!a._dictionary.has("AP"))){var o=this._createAppearance(a,e);this._addAppearance(a._dictionary,o,"N")}}if(e)if((t=this._kidsCount)>0){var r=void 0;for(n=0;n<t;n++){var a;if((a=this.itemAt(n))&&a._dictionary){var s=a._getPage();s&&(r||0!==n||(r=this._getItemTemplate(a._dictionary)),this._flattenSignature(a._dictionary,s,a.bounds,r))}}}else this._flattenSignature(this._dictionary,this.page,this.bounds)},t.prototype._createAppearance=function(e,t){var i=e.bounds,n=new Fn([0,0,i.width,i.height],this._crossReference);Wr(n,null),n._writeTransformation=!1;var o=n.graphics,r=new Vo;r.bounds=[0,0,i.width,i.height];var a=e.backColor;t&&a&&(r.backBrush=new Sn(a)),r.foreBrush=new Sn(e.color);var s=e.border;if(e.borderColor&&(r.borderPen=new Cn(e.borderColor,s.width)),r.borderWidth=s.width,r.borderStyle=s.style,a){var l=[a[0]-64,a[1]-64,a[2]-64],d=[l[0]>=0?l[0]:0,l[1]>=0?l[1]:0,l[2]>=0?l[2]:0];r.shadowBrush=new Sn(d)}return r.rotationAngle=e.rotate,o.save(),o._initializeCoordinates(),this._drawRectangularControl(o,r),o.restore(),n},t.prototype._flattenSignature=function(e,t,i,n){var o;if(e.has("AP")){var r=e.get("AP");if(r&&r.has("N")){var a=r.get("N"),s=r.getRaw("N");if(s&&a&&(a.reference=s),a&&(o=n||new Fn(a,this._crossReference))&&t){var l=(d=t.graphics).save();t.rotation!==Ge.angle0?d.drawTemplate(o,this._calculateTemplateBounds(i,t,o,d)):d.drawTemplate(o,i),d.restore(l)}}}else if(n&&t){o=n;var d;l=(d=t.graphics).save();t.rotation!==Ge.angle0?d.drawTemplate(o,this._calculateTemplateBounds(i,t,o,d)):d.drawTemplate(o,i),d.restore(l)}},t.prototype._calculateTemplateBounds=function(e,t,i,n){var o=e.x,r=e.y;if(t){var a=this._obtainGraphicsRotation(n._matrix);90===a?(n.translateTransform(i._size[1],0),n.rotateTransform(90),o=e.x,r=-(t._size[1]-e.y-e.height)):180===a?(n.translateTransform(i._size[0],i._size[1]),n.rotateTransform(180),o=-(t._size[0]-(e.x+i._size[0])),r=-(t._size[1]-e.y-i._size[1])):270===a&&(n.translateTransform(0,i._size[0]),n.rotateTransform(270),o=-(t._size[0]-e.x-e.width),r=e.y)}return{x:o,y:r,width:e.width,height:e.height}},t.prototype._obtainGraphicsRotation=function(e){var t=Math.round(180*Math.atan2(e._matrix._elements[2],e._matrix._elements[0])/Math.PI);switch(t){case-90:t=90;break;case-180:t=180;break;case 90:t=270}return t},t.prototype._getItemTemplate=function(e){var t;if(e&&e.has("AP")){var i=e.get("AP");if(i&&i.has("N")){var n=i.get("N"),o=i.getRaw("N");o&&(n.reference=o),n&&(t=new Fn(n,this._crossReference))}}return t},t.prototype._checkSigned=function(){if(this._dictionary&&this._dictionary.has("V")){var e=this._dictionary.get("V");null!=e&&e.size>0&&(this._isSigned=!0)}},t}(Rn),Jn=function(){function e(e){var t,i="",n=0;if(e&&"string"==typeof e&&""!==e)for(var o=e.split(" "),r=0;r<o.length;r++)switch(o[Number.parseInt(r.toString(),10)]){case"g":t=[Number.parseFloat(o[r-1])];break;case"rg":t=[Number.parseFloat(o[r-3]),Number.parseFloat(o[r-2]),Number.parseFloat(o[r-1])];break;case"k":t=[Number.parseFloat(o[r-4]),Number.parseFloat(o[r-3]),Number.parseFloat(o[r-2]),Number.parseFloat(o[r-1])];break;case"Tf":n=Number.parseFloat(o[r-1]),(i=o[r-2].substring(1)).includes("#2C")&&i.replace("#2C",",")}this.fontName=i,this.fontSize=n,this.color=void 0!==t?Fr(t):[0,0,0]}return e.prototype.toString=function(){var e=[Number.parseFloat((this.color[0]/255).toFixed(3)),Number.parseFloat((this.color[1]/255).toFixed(3)),Number.parseFloat((this.color[2]/255).toFixed(3))];return"/"+this.fontName+" "+this.fontSize+" Tf "+e[0].toString()+" "+e[1].toString()+" "+e[2].toString()+" rg"},e}(),Kn=function(){function e(e,t){this._dictionary=new Va,Sa(t)?this._bounds=t:this._bounds=[],this._annotations=e,this._crossReference=e._crossReference,this._initialize()}return Object.defineProperty(e.prototype,"normal",{get:function(){return!this._templateNormal&&this._dictionary&&this._dictionary.has("AP")&&(this._templateNormal=this._dictionary.get("N")),this._templateNormal},set:function(e){e&&(this._templateNormal=e,this._dictionary.set("N",this._templateNormal))},enumerable:!0,configurable:!0}),e.prototype._initialize=function(){this.normal=new Fn(this._bounds,this._crossReference)},e}(),Wn=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xn=function(){function e(){this._isImported=!1,this._isLoaded=!1,this._setAppearance=!1,this._isExport=!1,this._opacity=1,this._isAllRotation=!0,this._flatten=!1,this._hasData=!1,this._popUpFont=new nn(Ei.helvetica,10.5),this._authorBoldFont=new nn(Ei.helvetica,10.5,vi.bold),this._lineCaptionFont=new nn(Ei.helvetica,10,vi.regular),this._circleCaptionFont=new nn(Ei.helvetica,8,vi.regular),this._isTransparentColor=!1,this._isRotated=!1,this._isChanged=!1}return Object.defineProperty(e.prototype,"author",{get:function(){var e;void 0===this._author&&this._dictionary.has("Author")&&((e=this._dictionary.get("Author"))&&(this._author=e));void 0===this._author&&this._dictionary.has("T")&&((e=this._dictionary.get("T"))&&(this._author=e));return this._author},set:function(e){if(this._isLoaded&&"string"==typeof e&&e!==this.author){var t=!1;this._dictionary&&this._dictionary.has("T")&&(this._dictionary.update("T",e),this._author=e,t=!0),this._dictionary&&this._dictionary.has("Author")&&(this._dictionary.update("Author",e),this._author=e,t=!0),t||(this._dictionary.update("T",e),this._author=e)}this._isLoaded||"string"!=typeof e||this._dictionary.update("T",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){if(void 0===this._border){var e,t=new Do;if(t._dictionary=this._dictionary,this._dictionary&&this._dictionary.has("Border"))(e=this._dictionary.getArray("Border"))&&e.length>=3&&(t._hRadius=e[0],t._vRadius=e[1],t._width=e[2]);if(this._dictionary&&this._dictionary.has("BS"))if(e=this._dictionary.get("BS")){if(e.has("W")){var i=e.get("W");void 0===i||Number.isNaN(i)||(t._width=i)}if(e.has("S")){var n=e.get("S");if(n)switch(n.name){case"D":t._style=Ye.dashed;break;case"B":t._style=Ye.beveled;break;case"I":t._style=Ye.inset;break;case"U":t._style=Ye.underline;break;default:t._style=Ye.solid}}if(e.has("D")){var o=e.getArray("D");o&&(t._dash=o)}}this._border=t}return this._border},set:function(e){var t,i,n,o,r,a=this.border;if((!this._isLoaded||void 0!==e.width&&a.width!==e.width)&&(t=e.width),(!this._isLoaded||void 0!==e.hRadius&&a.hRadius!==e.hRadius)&&(i=e.hRadius),(!this._isLoaded||void 0!==e.vRadius&&a.vRadius!==e.vRadius)&&(n=e.vRadius),(!this._isLoaded||void 0!==e.style&&a.style!==e.style)&&(o=e.style),void 0!==e.dash&&a.dash!==e.dash&&(r=e.dash),(!this._isWidget&&this._dictionary&&this._dictionary.has("Border")||t||n||i)&&(this._border._hRadius=void 0!==i?i:a.hRadius,this._border._vRadius=void 0!==n?n:a.vRadius,this._border._width=void 0!==t?t:a.width,this._dictionary.update("Border",[this._border.hRadius,this._border.vRadius,this._border.width])),null!==this._dictionary&&this._dictionary&&this._dictionary.has("BS")||t||o||r){this._border._width=void 0!==t?t:a.width,this._border._style=void 0!==o?o:a.style,this._border._dash=void 0!==r?r:a.dash;var s=this._dictionary.has("BS")?this._dictionary.get("BS"):new Va(this._crossReference);s.update("Type",va.get("Border")),s.update("W",this._border.width),s.update("S",Tr(this._border.style)),void 0!==this._border.dash&&s.update("D",this._border.dash),this._dictionary.update("BS",s),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return void 0===this._annotFlags&&(this._annotFlags=Le.default,this._dictionary&&this._dictionary.has("F")&&(this._annotFlags=this._dictionary.get("F"))),this._annotFlags},set:function(e){void 0!==e&&e!==this._annotFlags&&(this._annotFlags=e,this._dictionary.update("F",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return void 0===this._color&&this._dictionary.has("C")&&(this._color=Fr(this._dictionary.getArray("C"))),this._color},set:function(e){if(void 0!==e&&3===e.length){var t=this.color;this._isLoaded&&void 0!==t&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this._color=e,this._dictionary.update("C",[Number.parseFloat((e[0]/255).toFixed(7)),Number.parseFloat((e[1]/255).toFixed(7)),Number.parseFloat((e[2]/255).toFixed(7))]))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerColor",{get:function(){return void 0===this._innerColor&&this._dictionary.has("IC")&&(this._innerColor=Fr(this._dictionary.getArray("IC"))),this._innerColor},set:function(e){if(void 0!==e&&3===e.length){var t=this.innerColor;this._isLoaded&&void 0!==t&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this._innerColor=e,this._dictionary.update("IC",[Number.parseFloat((e[0]/255).toFixed(7)),Number.parseFloat((e[1]/255).toFixed(7)),Number.parseFloat((e[2]/255).toFixed(7))]))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"creationDate",{get:function(){if((void 0===this._creationDate||null===this._creationDate)&&this._dictionary.has("CreationDate")){var e=this._dictionary.get("CreationDate");null!==e&&"string"==typeof e&&(this._creationDate=this._stringToDate(e))}return this._creationDate},set:function(e){this._creationDate=e,this._dictionary.update("CreationDate",this._dateToString(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modifiedDate",{get:function(){if(void 0===this._modifiedDate||null===this._modifiedDate){var e=void 0;this._dictionary&&this._dictionary.has("ModDate")?e=this._dictionary.get("ModDate"):this._dictionary.has("M")&&(e=this._dictionary.get("M")),null!==e&&"string"==typeof e&&(this._modifiedDate=this._stringToDate(e))}return this._modifiedDate},set:function(e){this._modifiedDate=e,this._dictionary.update("M",this._dateToString(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this._isLoaded&&(this._bounds=_r(this._dictionary,this._page)),this._bounds},set:function(e){if(e)if(this._isBounds=!0,this._isLoaded){if(e.x!==this.bounds.x||e.y!==this.bounds.y||e.width!==this.bounds.width||e.height!==this.bounds.height){var t=this._page.size;if(t){var i=t[1]-(e.y+e.height),n=i+e.height;this._dictionary.update("Rect",[e.x,i,e.x+e.width,n]),this._bounds=e,this._isChanged=!0}}}else this._bounds=e,this._isChanged=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){if(void 0===this._caption){var e=new Eo;if(e._dictionary=this._dictionary,this._dictionary&&this._dictionary.has("Cap")&&(e._cap=this._dictionary.get("Cap")),this._dictionary&&this._dictionary.has("CP")){var t=this._dictionary.get("CP");t&&(e._type="Top"===t.name?He.top:He.inline)}this._dictionary&&this._dictionary.has("CO")&&(e._offset=this._dictionary.getArray("CO")),this._caption=e}return this._caption},set:function(e){var t=this.caption;e&&(this._isLoaded&&e.cap===t.cap||(this._caption.cap=e.cap),this._isLoaded&&e.type===t.type||(this._caption.type=e.type),this._isLoaded&&e.offset===t.offset||(this._caption.offset=e.offset))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){if(this._dictionary&&this._dictionary.has("CA")){var e=this._dictionary.get("CA");void 0!==e&&(this._opacity=e)}return this._opacity},set:function(e){void 0===e||Number.isNaN(e)||(e>=0&&e<=1?(this._dictionary.update("CA",e),this._opacity=e):e<0?this._dictionary.update("CA",0):this._dictionary.update("CA",1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subject",{get:function(){return void 0===this._subject&&(this._subject=this._dictionary.get("Subject","Subj")),this._subject},set:function(e){"string"==typeof e&&this.subject!==e&&(this._dictionary.update("Subj",e),this._subject=e,this._dictionary.has("Subject")&&this._dictionary.update("Subject",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return void 0===this._name&&this._dictionary.has("NM")&&(this._name=this._dictionary.get("NM")),this._name},set:function(e){"string"==typeof e&&(this._dictionary.update("NM",e),this._name=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return void 0===this._text&&this._dictionary.has("Contents")&&(this._text=this._dictionary.get("Contents")),this._text},set:function(e){"string"==typeof e&&(this._text=this._dictionary.get("Contents"),e!==this._text&&(this._dictionary.update("Contents",e),this._text=e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationAngle",{get:function(){return void 0===this._rotate&&this._dictionary&&this._dictionary.has("Rotate")&&(this._rotate=this._dictionary.get("Rotate")/90),null!==this._rotate&&void 0!==this._rotate||(this._rotate=Ge.angle0),this._rotate},set:function(e){var t=this.rotationAngle;void 0!==e&&void 0!==t&&(e=(e+t)%4),this._dictionary.update("Rotate",90*e),this._isRotated=!0,this._rotate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){var e=this._getRotationAngle();return e<0&&(e=360+e),e>=360&&(e=360-e),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flattenPopups",{get:function(){return this._isFlattenPopups},set:function(e){void 0!==e&&(this._isFlattenPopups=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flatten",{get:function(){return this._flatten},set:function(e){this._flatten=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_hasFlags",{get:function(){return this._dictionary.has("F")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_degreeToRadian",{get:function(){return void 0===this._ratio&&(this._ratio=Math.PI/180),this._ratio},enumerable:!0,configurable:!0}),e.prototype.setAppearance=function(e){this._setAppearance=e,e&&(this._dictionary._updated=!0)},e.prototype.getValues=function(e){var t=[];if(!this._dictionary||!this._dictionary.has(e))throw new Error("PdfException: "+e+" is not found");var i=this._dictionary.get(e);if(Array.isArray(i)){i=this._dictionary.getArray(e);for(var n=0;n<i.length;n++){var o=i[Number.parseInt(n.toString(),10)];o instanceof va?t.push(o.name):"string"==typeof o?t.push(o):"number"==typeof o&&t.push(o.toString())}}else if(i instanceof va)t.push(i.name);else{if("string"!=typeof i)throw new Error("PdfException: "+e+" is not found");t.push(i)}return t},e.prototype.setValues=function(e,t){e&&""!==e&&t&&""!==t&&this._dictionary.update(e,t)},e.prototype._initialize=function(e,t){this._page=e,this._crossReference=e._crossReference,t&&(this._dictionary=t),this._isLoaded||(this._dictionary.set("P",this._page._ref),this._dictionary.assignXref(this._crossReference))},e.prototype._getRotationAngle=function(){var e=0;return this._dictionary&&(this._dictionary.has("Rotate")?e=this._dictionary.get("Rotate"):this._dictionary.has("Rotation")&&(e=this._dictionary.get("Rotation"))),e},e.prototype._getMediaOrCropBox=function(e){var t;return e&&e._pageDictionary&&e._pageDictionary.has("MediaBox")?t=e._pageDictionary.get("MediaBox"):e&&e._pageDictionary&&e._pageDictionary.has("CropBox")&&(t=e._pageDictionary.get("CropBox")),t},e.prototype._getBoundsValue=function(e){var t=0;Sa(e)&&(t=e.length);var i=[],n=[];if(t>0){for(var o=[],r=0;r<e.length;r++){var a=e[Number.parseInt(r.toString(),10)];o.push(a)}var s=0,l=0;for(r=0;r<o.length;r++)r%2==0?(i[Number.parseInt(s.toString(),10)]=o[Number.parseInt(r.toString(),10)],s++):(n[Number.parseInt(l.toString(),10)]=o[Number.parseInt(r.toString(),10)],l++)}return i.sort((function(e,t){return e>t?1:-1})),n.sort((function(e,t){return e>t?1:-1})),{x:i[0],y:n[0],width:i[i.length-1]-i[0],height:n[n.length-1]-n[0]}},e.prototype._validateTemplateMatrix=function(e,t){var i=!1,n=!0;if(null==t){if(e&&e.has("Matrix")){if((h=e.getArray("Matrix"))&&h.length>3&&void 0!==h[0]&&void 0!==h[1]&&void 0!==h[2]&&void 0!==h[3]&&1===h[0]&&0===h[1]&&0===h[2]&&1===h[3]){i=!0;var o=0,r=0,a=0,s=0;h.length>4&&(a=-h[4],h.length>5&&(s=-h[5]));var l=void 0;this._dictionary&&this._dictionary.has("Rect")&&(l=this._dictionary.getArray("Rect"))&&l.length>1&&(o=l[0],r=l[1]),o===a&&r===s||0!==a||0!==s||(this._locationDisplaced=!0)}}else i=!0;return i}var d=this.bounds;if(e&&e.has("Matrix")){var h,A=e.getArray("BBox");if((h=e.getArray("Matrix"))&&A&&h.length>3&&A.length>2&&void 0!==h[0]&&void 0!==h[1]&&void 0!==h[2]&&void 0!==h[3]&&1===h[0]&&0===h[1]&&0===h[2]&&1===h[3]&&void 0!==A[0]&&void 0!==A[1]&&void 0!==A[2]&&void 0!==A[3]&&(this._page&&A[0]!==-h[4]&&A[1]!==-h[5]||0===A[0]&&0==-h[4])){var p=this._page.graphics,c=p.save();void 0!==this.opacity&&this._opacity<1&&p.setTransparency(this._opacity),d.x-=A[0],d.y+=A[1],p.drawTemplate(t,d),p.restore(c),this._page.annotations.remove(this),n=!1}}return n},e.prototype._flattenAnnotationTemplate=function(e,t){var i=this._page.graphics,n=this.bounds;if(this instanceof qn&&this._dictionary&&!this._dictionary.has("AP"))if(n=this._isLoaded?this._bounds:this instanceof qn&&!this.measure?Dr([this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height]):this._setAppearance&&this.flatten&&!this.measure?this._bounds:Dr([this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height]),this._page){var o=this._page.size,r=this._page.mediaBox,a=this._page.cropBox;a&&Array.isArray(a)&&4===a.length&&this._page._pageDictionary.has("CropBox")&&!this._isLoaded&&!this._flatten?0===a[0]&&0===a[1]&&o[0]!==a[2]&&o[1]!==a[3]||n.x===a[0]?n.y=o[1]-(n.y+n.height):(n.x-=a[0],n.y=a[3]-(n.y+n.height)):r&&Array.isArray(r)&&4===r.length&&this._page._pageDictionary.has("MediaBox")&&!this._isLoaded&&!this._flatten?r[0]>0||r[1]>0||o[0]===r[2]||o[1]===r[3]?(n.x-=r[0],n.y=r[3]-(n.y+n.height)):n.y=o[1]-(n.y+n.height):this instanceof qn&&!this.measure&&!this._isLoaded?n.y=o[1]-(n.y+n.height):this._setAppearance&&this.flatten&&!this.measure?n=this.bounds:this._isLoaded||(n.y=o[1]-(n.y+n.height))}else n.y=n.y+n.height;if(null!=n){var s=i.save();if(this._page._needInitializeGraphics=!0,this._type===ht.rubberStampAnnotation){var l=!0;if(this._dictionary&&this._dictionary.has("AP")){var d=this._dictionary.get("AP");if(d&&d.has("N")){var h=d.get("N");if(this.rotate===Ge.angle270&&this._page.rotation===Ge.angle270&&h.dictionary.has("Matrix"))(c=h.dictionary.getArray("Matrix"))&&6===c.length&&0===c[4]&&0!==c[5]&&(l=!1)}!t&&this.rotate!==Ge.angle180&&l&&(e._isAnnotationTemplate=!0,e._needScale=!0)}}t||this._type===ht.rubberStampAnnotation||(e._isAnnotationTemplate=!0,e._needScale=!0),void 0!==this.opacity&&this._opacity<1&&i.setTransparency(this._opacity);var A=this._calculateTemplateBounds(n,this._page,e,t,i);if(this._type===ht.rubberStampAnnotation){var p;o=void 0;this.rotate===Ge.angle0?(o=[A.width,A.height],p=[A.x,A.y]):(o=e._size,p=[A.x,A.y]);var c,g=!1;if(this.rotate!==Ge.angle0&&e._content)if(e._content.dictionary.has("Matrix"))(c=e._content.dictionary.getArray("Matrix"))&&6===c.length&&0===c[4]&&0!==c[5]&&(g=!0);var u=e._size[0]>0?A.width/e._size[0]:1,f=e._size[1]>0?A.height/e._size[1]:1;l=!(Math.trunc(1e3*u)/1e3==1&&Math.trunc(1e3*f)/1e3==1);this.rotate!==Ge.angle0&&g&&(this.rotate===Ge.angle90?this._page&&this._page.rotation===Ge.angle270?!l||0===A.x&&0===A.y?(p[0]+=o[1],p[1]+=o[0]-o[1]+(o[0]-o[1])):(p[0]+=o[0]-o[1],p[1]+=o[0]):l||(p[0]+=o[1]):this.rotate===Ge.angle270?this._page&&this._page.rotation===Ge.angle270?l&&e._isAnnotationTemplate?p[1]=A.y-A.width:l&&(p[1]+=o[0]-o[1]):l||0===A.x&&0===A.y?p[1]+=-(o[0]-o[1]):p[1]+=-o[0]:this.rotate===Ge.angle180&&(p[0]+=o[0],p[1]+=-o[1]))}if(!e._content.dictionary.has("Matrix")&&e._content.dictionary.has("BBox")){var m=e._content.dictionary.getArray("BBox");A.x-=m[0],A.y+=m[1]}this instanceof ro&&!this._isLoaded&&(A=_r(this._dictionary,this._page)),i.drawTemplate(e,A),i.restore(s)}this._page.annotations.remove(this)},e.prototype._calculateTemplateBounds=function(e,t,i,n,o){var r=e,a=e.x,s=e.y,l=e.width,d=e.height;if(!n){var h=this._dictionary.getArray("Rect");h&&(r=Dr(h))}if(void 0!==t){var A=this._obtainGraphicsRotation(o._matrix);if(90===A)o.translateTransform(i._size[1],0),o.rotateTransform(90),n||void 0!==this._rotate&&this._rotate===Ge.angle180?(a=e.x,s=this._locationDisplaced?t._origin&&0!==t._o[1]?e.y+e.height:-(t.size[1]-(e.height+e.y)+(e.height-i._size[1])):-(t.size[1]-e.y-e.height)):(a=e.x,s=-(t.size[1]-(e.height+e.y)+(e.width-i._size[1])),l=e.height,d=e.width);else if(180===A)o.translateTransform(i._size[0],i._size[1]),o.rotateTransform(180),n?(a=-(t.size[0]-(e.x+e.width)),s=-(t.size[1]-e.y-e.height)):(a=-(t.size[0]-(e.x+i._size[0])),s=-(t.size[1]-e.y-i._size[1]),void 0===this.rotationAngle||this._rotate!==Ge.angle90&&this._rotate!==Ge.angle270||(s=-(t.size[1]-e.y-i._size[1])-(e.width-e.height),l=e.height,d=e.width));else if(270===A)if(o.translateTransform(0,i._size[0]),o.rotateTransform(270),n||void 0!==this.rotationAngle&&this._rotate===Ge.angle180)a=-(t.size[0]-e.x-e.width),s=e.y;else{a=-(t.size[0]-r.x-i._size[0]);var p=i._content.dictionary.getArray("Matrix"),c=i._content.dictionary.getArray("BBox");s=p&&c&&p[5]!==c[2]?e.y-(e.height-e.width):e.y+e.height-e.width,l=e.height,d=e.width}else 0===A&&(n||void 0===this.rotationAngle||this.rotationAngle!==Ge.angle90&&this.rotationAngle!==Ge.angle270||(a=e.x,s=e.y+e.height-e.width,l=e.height,d=e.width))}return{x:a,y:s,width:l,height:d}},e.prototype._obtainGraphicsRotation=function(e){var t=Math.atan2(e._matrix._elements[2],e._matrix._elements[0]),i=Math.round(180*t/Math.PI);switch(i){case-90:i=90;break;case-180:i=180;break;case 90:i=270}return i},e.prototype._removeAnnotation=function(e,t){e&&t&&(e.annotations.remove(t),e._pageDictionary._updated=!0)},e.prototype._drawCloudStyle=function(e,t,i,n,o,r,a){if(Sa(r)&&this._isClockWise(r)){for(var s=[],l=r.length-1;l>=0;l--)s.push(r[Number.parseInt(l.toString(),10)]);r=s}var d,h=[],A=2*n*o;Sa(r)?d=r[r.length-1]:r=[];for(l=0;l<r.length;l++){var p=r[Number.parseInt(l.toString(),10)],c=p[0]-d[0],g=p[1]-d[1],u=Math.sqrt(c*c+g*g);c/=u,g/=u;for(var f=0;f+.1*A<u;f+=A){var m=new Qo;m.point=[d[0]+f*c,d[1]+f*g],h.push(m)}d=p}var w=h[h.length-1];for(l=0;l<h.length;l++){var y=h[Number.parseInt(l.toString(),10)],S=this._getIntersectionDegrees(w.point,y.point,n);w.endAngle=S[0],y.startAngle=S[1],w=y}var C=new An;for(l=0;l<h.length;l++){var B=(_=h[Number.parseInt(l.toString(),10)]).startAngle%360,I=_.endAngle%360,b=0;if(B>0&&I<0)b=180-B+(180-(I<0?-I:I));else if(B<0&&I>0)b=-B+I;else if(B>0&&I>0){b=B>I?360-(B-I):I-B}else if(B<0&&I<0){b=B>I?360-(B-I):-(B+-I)}b<0&&(b=-b),_.endAngle=b,C.addArc(_.point[0]-n,_.point[1]-n,2*n,2*n,B,b)}C.closeFigure();var v,E=[];if(a)for(l=0;l<C._points.length;l++)E.push([C._points[Number.parseInt(l.toString(),10)][0],-C._points[Number.parseInt(l.toString(),10)][1]]);a?((v=new An)._points=E,v._pathTypes=C._pathTypes):((v=new An)._points=C._points,v._pathTypes=C._pathTypes),Sa(t)&&e.drawPath(v,t);var x=180/(3*Math.PI);C=new An;for(l=0;l<h.length;l++){var _=h[Number.parseInt(l.toString(),10)];C.addArc(_.point[0]-n,_.point[1]-n,2*n,2*n,_.startAngle,_.endAngle+x)}if(C.closeFigure(),E=[],a)for(l=0;l<C._points.length;l++)E.push([C._points[Number.parseInt(l.toString(),10)][0],-C._points[Number.parseInt(l.toString(),10)][1]]);a?((v=new An)._points=E,v._pathTypes=C._pathTypes):((v=new An)._points=C._points,v._pathTypes=C._pathTypes),e.drawPath(v,i)},e.prototype._isClockWise=function(e){var t=0;if(Sa(e))for(var i=0;i<e.length;i++){var n=e[Number.parseInt(i.toString(),10)],o=e[(i+1)%e.length];t+=(o[0]-n[0])*(o[1]+n[1])}return t>0},e.prototype._getIntersectionDegrees=function(e,t,i){var n=t[0]-e[0],o=t[1]-e[1],r=.5*Math.sqrt(n*n+o*o)/i;r<-1?r=-1:r>1&&(r=1);var a=Math.atan2(o,n),s=Math.acos(r);return[(a-s)*(180/Math.PI),(Math.PI+a+s)*(180/Math.PI)]},e.prototype._obtainStyle=function(e,t,i,n){var o=this.border.dash;if(o&&o.length>0){for(var r=[],a=!1,s=0;s<o.length;s++)r[Number.parseInt(s.toString(),10)]=o[Number.parseInt(s.toString(),10)],r[Number.parseInt(s.toString(),10)]>0&&(a=!0);a&&this.border.style===Ye.dashed&&(e._dashStyle=Ct.dash,e._dashPattern=r)}if(n)if(n instanceof Vo){var l;if(!this._isBounds&&this._dictionary.has("RD"))(l=this._dictionary.getArray("RD"))&&(t[0]=t[0]+l[0],t[1]=t[1]+i+l[1],t[2]=t[2]-(l[0]+l[2]),t[3]=t[3]-(l[1]+l[3]));else t[0]=t[0]+i,t[1]=t[1]+i,t[2]=t[2]-this.border.width,t[3]=t[3]-this.border.width;n.bounds=t}else if(0!==n.intensity&&n.style===je.cloudy){var d=5*n.intensity;t[0]=t[0]+d+i,t[1]=t[1]+d+i,t[2]=t[2]-2*d-2*i,t[3]=t[3]-2*d-2*i}else t[0]=t[0]+i,t[1]=t[1]+i,t[2]=t[2]-this.border.width,t[3]=this.bounds.height-this.border.width;else!this._isBounds&&this._dictionary&&this._dictionary.has("RD")?(l=this._dictionary.getArray("RD"))&&(t[0]=t[0]+l[0],t[1]=t[1]+i+l[1],t[2]=t[2]-2*l[2],t[3]=t[3]-this.border.width,t[3]=t[3]-2*l[3]):(t[1]=t[1]+i,t[3]=this.bounds.height-this.border.width);return t},e.prototype._createRectangleAppearance=function(e){var t=this.border.width,i=this._dictionary.getArray("RD");if(!i&&null!=e&&0!==e.intensity&&e.style===je.cloudy){var n={x:this.bounds.x-5*e.intensity-t/2,y:this.bounds.y-5*e.intensity-t/2,width:this.bounds.width+10*e.intensity+t,height:this.bounds.height+10*e.intensity+t};i=[(o=5*e.intensity)+t/2,o+t/2,o+t/2,o+t/2],this._dictionary.set("RD",i),this.bounds=n}if(!this._isBounds&&i){n={x:this.bounds.x+i[0],y:this.bounds.y+i[1],width:this.bounds.width-2*i[2],height:this.bounds.height-2*i[3]};if(0!==e.intensity&&e.style===je.cloudy){n.x=n.x-5*e.intensity-t/2,n.y=n.y-5*e.intensity-t/2,n.width=n.width+10*e.intensity+t,n.height=n.height+10*e.intensity+t;var o=5*e.intensity;this._dictionary.set("RD",[o+t/2,o+t/2,o+t/2,o+t/2])}else delete this._dictionary._map.RD;this.bounds=n}var r=t/2,a=[0,0,this.bounds.width,this.bounds.height],s=new Fn(a,this._crossReference);Wr(s,this._getRotationAngle()),0!==e.intensity&&e.style===je.cloudy&&(s._writeTransformation=!1);var l=s.graphics,d=new Vo;this.innerColor&&(d.backBrush=new Sn(this._innerColor)),t>0&&this.color&&(d.borderPen=new Cn(this._color,t)),this.color&&(d.foreBrush=new Sn(this._color));var h=this._obtainStyle(d.borderPen,a,r,e);return void 0!==this.opacity&&this._opacity<1&&(l.save(),l.setTransparency(this._opacity)),0!==e.intensity&&e.style===je.cloudy?this._drawRectangleAppearance(h,l,d,e.intensity):l.drawRectangle(h[0],h[1],h[2],h[3],d.borderPen,d.backBrush),void 0!==this.opacity&&this._opacity<1&&l.restore(),s},e.prototype._drawRectangleAppearance=function(e,t,i,n){var o=new An;Sa(e)&&4===e.length&&o.addRectangle(e[0],e[1],e[2],e[3]);var r=0;if(Sa(n)&&(r=4.25*n),r>0){for(var a=[],s=0;s<o._points.length;s++){var l=[o._points[Number.parseInt(s.toString(),10)][0],-o._points[Number.parseInt(s.toString(),10)][1]];a.push(l)}(o=new An).addPolygon(a),this._drawCloudStyle(t,i.backBrush,i.borderPen,r,.833,o._points,!1)}else t.drawRectangle(e[0],e[1],e[2],e[3],i.borderPen,i.backBrush)},e.prototype._createCircleAppearance=function(){var e=[0,0,this.bounds.width,this.bounds.height],t=new Fn(e,this._crossReference);Wr(t,this._getRotationAngle()),this._dictionary.has("BE")&&(t._writeTransformation=!1),void 0===this.color&&(this._isTransparentColor=!0);var i=t.graphics,n=this.border.width,o=new Cn(this.color,n),r=new Vo;this.innerColor&&(r.backBrush=new Sn(this._innerColor)),n>0&&(r.borderPen=o),this.color&&(r.foreBrush=new Sn(this._color)),r.borderWidth=n;var a=n/2,s=this._obtainStyle(o,e,a);return void 0!==this.opacity&&this._opacity<1&&(i.save(),i.setTransparency(this._opacity)),this._dictionary.has("BE")?this._drawCircleAppearance(s,a,i,r):i.drawEllipse(s[0]+a,s[1],s[2]-n,s[3],r.borderPen,r.backBrush),void 0!==this._opacity&&this._opacity<1&&i.restore(),t},e.prototype._drawCircleAppearance=function(e,t,i,n){var o=0;if(this._dictionary.has("RD")){var r=this._dictionary.getArray("RD");r&&r.length>0&&(o=r[0])}if(o>0){var a=[e[0]+t,-e[1]-e[3],e[2]-this.border.width,e[3]],s=a[0],l=a[1],d=a[0]+a[2],h=a[1]+a[3],A=[];A.push([d,h]),A.push([s,h]),A.push([s,l]),A.push([d,l]);var p=[];p.push([d,l+a[3]/2]),p.push([s+a[2]/2,h]),p.push([s,l+a[3]/2]),p.push([s+a[2]/2,l]);var c=[];c.push([s+a[2]/2,h]),c.push([s,l+a[3]/2]),c.push([s+a[2]/2,l]),c.push([d,l+a[3]/2]);for(var g=[],u=0;u<A.length;u++)this._createBezier(p[Number.parseInt(u.toString(),10)],A[Number.parseInt(u.toString(),10)],c[Number.parseInt(u.toString(),10)],g);this._drawCloudStyle(i,n.backBrush,n.borderPen,o,.833,g,!1)}else i.drawEllipse(e[0]+t,-e[1],e[2]-this.border.width,-e[3],n.borderPen,n.backBrush)},e.prototype._createBezier=function(e,t,i,n){n.push(e),this._populateBezierPoints(e,t,i,0,n),n.push(i)},e.prototype._populateBezierPoints=function(e,t,i,n,o){if(n<2){var r=this._midPoint(e,t),a=this._midPoint(t,i),s=this._midPoint(r,a);n++,this._populateBezierPoints(e,r,s,n,o),o.push(s),this._populateBezierPoints(s,a,i,n,o)}},e.prototype._midPoint=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]},e.prototype._getAngle=function(e){var t=e[0],i=e[1],n=e[2],o=e[3],r=0;if(n-t==0)r=o>i?90:270;else{var a=(o-i)/(n-t);r=Math.atan(a)*(180/Math.PI),(n-t<0||o-i<0)&&(r+=180),n-t>0&&o-i<0&&(r-=180),r<0&&(r+=360)}return r},e.prototype._getAxisValue=function(e,t,i){return[e[0]+Math.cos(t*this._degreeToRadian)*i,e[1]+Math.sin(t*this._degreeToRadian)*i]},e.prototype._drawLineEndStyle=function(e,t,i,n,o,r,a,s){var l,d,h,A,p,c,g,u;switch(r){case Oe.square:t.drawRectangle(e[0]-3*a,-(e[1]+3*a),6*a,6*a,n,o);break;case Oe.circle:t.drawEllipse(e[0]-3*a,-(e[1]+3*a),6*a,6*a,n,o);break;case Oe.openArrow:l=s?30:150,d=9*a,h=this._getAxisValue(e,i,s?a:-a),A=this._getAxisValue(h,i+l,d),p=this._getAxisValue(h,i-l,d),(u=new An)._pen=n,u.addLine(h[0],-h[1],A[0],-A[1]),u.addLine(h[0],-h[1],p[0],-p[1]),t._stateControl(n,null,null),t._buildUpPath(u._points,u._pathTypes),t._drawGraphicsPath(n,null,u._fillMode,!1);break;case Oe.closedArrow:l=s?30:150,d=9*a,h=this._getAxisValue(e,i,s?a:-a),A=this._getAxisValue(h,i+l,d),p=this._getAxisValue(h,i-l,d),t.drawPolygon([[h[0],-h[1]],[A[0],-A[1]],[p[0],-p[1]]],n,o);break;case Oe.rOpenArrow:l=s?150:30,d=9*a,h=this._getAxisValue(e,i,s?-a:a),A=this._getAxisValue(h,i+l,d),p=this._getAxisValue(h,i-l,d),(u=new An)._pen=n,u.addLine(h[0],-h[1],A[0],-A[1]),u.addLine(h[0],-h[1],p[0],-p[1]),t._stateControl(n,null,null),t._buildUpPath(u._points,u._pathTypes),t._drawGraphicsPath(n,null,u._fillMode,!1);break;case Oe.rClosedArrow:l=s?150:30,d=9*a,h=this._getAxisValue(e,i,s?-a:a),A=this._getAxisValue(h,i+l,d),p=this._getAxisValue(h,i-l,d),t.drawPolygon([[h[0],-h[1]],[A[0],-A[1]],[p[0],-p[1]]],n,o);break;case Oe.slash:d=9*a,A=this._getAxisValue(e,i+60,d),p=this._getAxisValue(e,i-120,d),t.drawLine(n,e[0],-e[1],A[0],-A[1]),t.drawLine(n,e[0],-e[1],p[0],-p[1]);break;case Oe.diamond:d=3*a,A=this._getAxisValue(e,180,d),p=this._getAxisValue(e,90,d),c=this._getAxisValue(e,0,d),g=this._getAxisValue(e,-90,d),t.drawPolygon([[A[0],-A[1]],[p[0],-p[1]],[c[0],-c[1]],[g[0],-g[1]]],n,o);break;case Oe.butt:d=3*a,A=this._getAxisValue(e,i+90,d),p=this._getAxisValue(e,i-90,d),t.drawLine(n,A[0],-A[1],p[0],-p[1])}},e.prototype._drawLineStyle=function(e,t,i,n,o,r,a,s){0===s&&(s=1,o=null),this._drawLineEndStyle(e,i,n,o,r,a.begin,s,!0),this._drawLineEndStyle(t,i,n,o,r,a.end,s,!1)},e.prototype._obtainFontDetails=function(){var e,t="",i=vi.regular;if(this._dictionary.has("DS")||this._dictionary.has("DA")){var n=void 0;if(this._dictionary.has("DS"))for(var o=this._dictionary.get("DS").split(";"),r=0;r<o.length;r++){var a=o[Number.parseInt(r.toString(),10)].split(":");if(-1!==o[Number.parseInt(r.toString(),10)].indexOf("font-family"))t=a[1];else if(-1!==o[Number.parseInt(r.toString(),10)].indexOf("font-size"))a[1].endsWith("pt")&&(e=Number.parseFloat(a[1].replace("pt","")));else if(-1!==o[Number.parseInt(r.toString(),10)].indexOf("font-style")||-1!==o[Number.parseInt(r.toString(),10)].indexOf("style"))n=a[1];else if(-1!==o[Number.parseInt(r.toString(),10)].indexOf("font")){for(var s=a[1].split(" "),l=0;l<s.length;l++)""===s[Number.parseInt(l.toString(),10)]||s[Number.parseInt(l.toString(),10)].endsWith("pt")||(t+=s[Number.parseInt(l.toString(),10)]+" "),s[Number.parseInt(l.toString(),10)].endsWith("pt")&&(e=Number.parseFloat(s[Number.parseInt(l.toString(),10)].replace("pt","")));for(;" "!==t&&t.endsWith(" ");)t=t.substring(0,t.length-1);-1!==t.indexOf(",")&&(t=t.split(",")[0])}}else{var d=this._dictionary.get("DA");if(d&&""!==d&&-1!==d.indexOf("Tf")){var h=d.split(" ");for(r=0;r<h.length;r++)if(-1!==h[Number.parseInt(r.toString(),10)].indexOf("Tf")){for(t=h[r-2];""!==t&&t.length>1&&"/"===t[0];)t=t.substring(1);e=Number.parseFloat(h[r-1])}}}if(n&&""!==n){var A=[n];n.includes(":")?A=n.split(":"):n.includes(",")&&(A=n.split(",")),A&&A.forEach((function(e){switch((e=e.trim()).toLowerCase()){case"bold":i|=vi.bold;break;case"italic":i|=vi.italic;break;case"strikeout":i|=vi.strikeout;break;case"underline":i|=vi.underline}}))}t&&(t=t.trim())}return{name:t,size:e,style:i}},e.prototype._obtainFont=function(){var e=this._obtainFontDetails();return pa(e.name,e.size,e.style,this)},e.prototype._getEqualPdfGraphicsUnit=function(e,t){var i;switch(e){case Ze.inch:i=At.inch,t="in";break;case Ze.centimeter:i=At.centimeter,t="cm";break;case Ze.millimeter:i=At.millimeter,t="mm";break;case Ze.pica:i=At.pica,t="p";break;case Ze.point:i=At.point,t="pt";break;default:i=At.inch,t="in"}return{graphicsUnit:i,unitString:t}},e.prototype._createMeasureDictionary=function(e){var t=new Va;t.set("C",1),t.set("D",100),t.set("F",va.get("D")),t.set("RD","."),t.set("RT",""),t.set("SS",""),t.set("U",e);var i=new Va;i.set("C",1),i.set("D",100),i.set("F",va.get("D")),i.set("RD","."),i.set("RT",""),i.set("SS",""),i.set("U","sq "+e);var n=new Va;"in"===e?n.set("C",.0138889):"cm"===e?n.set("C",.0352778):"mm"===e?n.set("C",.352778):"pt"===e?n.set("C",1):"p"===e&&n.set("C",.0833333),n.set("D",100),n.set("F",va.get("D")),n.set("RD","."),n.set("RT",""),n.set("SS",""),n.set("U",e);var o=new Va;return o.set("A",[i]),o.set("D",[t]),o.set("R","1 "+e+" = 1 "+e),o.set("Type",va.get("Measure")),o.set("X",[n]),o},e.prototype._colorToHex=function(e){return e?"#"+this._componentToHex(e[0])+this._componentToHex(e[1])+this._componentToHex(e[2]):"#"+this._componentToHex(0)+this._componentToHex(0)+this._componentToHex(0)},e.prototype._componentToHex=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},e.prototype._getRotatedBounds=function(e,t){if(e.width>0&&e.height>0){var i=new gn;i._rotate(t);var n=[];n.push([e.x,e.y]),n.push([e.x+e.width,e.y]),n.push([e.x+e.width,e.y+e.height]),n.push([e.x,e.y+e.height]);for(var o=0;o<n.length;o++)n[Number.parseInt(o.toString(),10)]=i._matrix._transform(n[Number.parseInt(o.toString(),10)]);var r=new An;r.addRectangle(e.x,e.y,e.width,e.height);for(o=0;o<4;o++)r._points[Number.parseInt(o.toString(),10)]=n[Number.parseInt(o.toString(),10)];var a=n[0][0],s=n[3][0],l=n[0][1],d=n[3][1];for(o=0;o<4;o++)n[Number.parseInt(o.toString(),10)][0]<a&&(a=n[Number.parseInt(o.toString(),10)][0]),n[Number.parseInt(o.toString(),10)][0]>s&&(s=n[Number.parseInt(o.toString(),10)][0]),n[Number.parseInt(o.toString(),10)][1]<l&&(l=n[Number.parseInt(o.toString(),10)][1]),n[Number.parseInt(o.toString(),10)][1]>d&&(d=n[Number.parseInt(o.toString(),10)][1]);return{x:e.x,y:e.y,width:s-a,height:d-l}}return e},e.prototype._flattenPopUp=function(){this._flattenPop(this._page,this.color,this.bounds,this.border,this.author,this.subject,this.text)},e.prototype._flattenPop=function(e,t,i,n,o,r,a){var s=[0,0];e&&e.size&&(s=e.size);var l=i,d=[s[0]-180,l.y+142<s[1]?l.y:s[1]-142,180,142];if(this._dictionary.has("Popup")&&this._dictionary.get("Popup")){var h=this._dictionary.getArray("Rect");if(h&&4===h.length){var A=h[0],p=h[1];d=[A,p,h[2]-A,h[3]-p]}}void 0===t&&(t=[0,0,0]);var c=new Sn(t),g=n.width/2,u=new Cn([0,0,0],1),f=0,m=new Sn(this._getForeColor(t));if(null!=o&&""!==o)f=this._drawAuthor(o,r,d,c,m,e,f,n);else if(null!=r&&""!==r){var w=[d[0]+g,d[1]+g,d[2]-n.width,40];this._saveGraphics(e,yt.hardLight),this._isTransparentColor?e.graphics.drawRectangle(w[0],w[1],w[2],w[3],u):e.graphics.drawRectangle(w[0],w[1],w[2],w[3],u,c),e.graphics.restore();var y=[w[0]+11,w[1],w[2],w[3]/2];y=[y[0],y[1]+y[3]-2,y[2],w[3]/2],this._saveGraphics(e,yt.normal),this._drawSubject(r,y,e),e.graphics.restore(),f=40}else{this._saveGraphics(e,yt.hardLight);w=[d[0]+g,d[1]+g,d[2]-n.width,20];this._isTransparentColor?e.graphics.drawRectangle(w[0],w[1],w[2],w[3],u):e.graphics.drawRectangle(w[0],w[1],w[2],w[3],u,c),f=20,e.graphics.restore()}var S=[d[0]+g,d[1]+g+f,d[2]-n.width,d[3]-(f+n.width)];this._saveGraphics(e,yt.hardLight),e.graphics.drawRectangle(S[0],S[1],S[2],S[3],new Cn([0,0,0],1),new Sn([255,255,255])),S[0]+=11,S[1]+=5,S[2]-=22,e.graphics.restore(),this._saveGraphics(e,yt.normal),null!=a&&""!==a&&e.graphics.drawString(a,this._popUpFont,S,null,new Sn([0,0,0]),null),e.graphics.restore()},e.prototype._flattenLoadedPopUp=function(){var e="";this._dictionary.has("Contents")&&(e=this._dictionary.get("Contents"));var t=this.author,i=this.subject,n=new Cn([0,0,0],1);if(this._dictionary.has("Popup")){var o=this._getRectangleBoundsValue();void 0===this.color&&(this.color=[0,0,0]);var r=new Sn(this.color),a=this.border.width/2,s=0,l=new Sn(this._getForeColor(this.color));if(void 0!==this.author&&null!==this.author&&""!==this.author)s=this._drawAuthor(this.author,this.subject,o,r,l,this._page,s,this.border);else if(void 0!==this.subject&&null!==this.subject&&""!==this.subject){var d=[o[0]+a,o[1]+a,o[2]-this.border.width,40];this._saveGraphics(this._page,yt.hardLight),this._page.graphics.drawRectangle(d[0],d[1],d[2],d[3],n,r),this._page.graphics.restore();var h=[d[0]+11,d[1],d[2],d[3]/2];h=[h[0],h[1]+h[3]-2,h[2],d[3]/2],this._saveGraphics(this._page,yt.normal),this._drawSubject(this.subject,h,this._page),s=40,this._page.graphics.restore()}else{this._saveGraphics(this._page,yt.hardLight);d=[o[0]+a,o[1]+a,o[2]-this.border.width,20];this._page.graphics.drawRectangle(d[0],d[1],d[2],d[3],n,r),s=20,this._page.graphics.restore()}this._saveGraphics(this._page,yt.hardLight);var A=[o[0]+a,o[1]+a+s,o[2]-this.border.width,o[3]-(s+this.border.width)];this._page.graphics.drawRectangle(A[0],A[1],A[2],A[3],n,new Sn([255,255,255])),A[0]+=11,A[1]+=5,A[2]-=22,this._page.graphics.restore(),this._saveGraphics(this._page,yt.normal),this._page.graphics.restore(),null!=e&&""!==e&&this._page.graphics.drawString(e,this._popUpFont,A,null,new Sn([0,0,0]),null),this._page.graphics.restore(),this._page.annotations.remove(this)}else this._flattenPop(this._page,this.color,this.bounds,this.border,t,i,e),this._page.annotations.remove(this)},e.prototype._getRectangleBoundsValue=function(){if(this._dictionary.has("Popup")){var e=this._dictionary.get("Popup").getArray("Rect");return null!==e?(null!==this._page?0===e[1]&&0===e[3]?e[1]=e[1]+e[3]:e[1]=this._page._size[1]-(e[1]+e[3]):e[1]=e[1]-e[3],e):[0,0,0,0]}return[0,0,0,0]},e.prototype._getForeColor=function(e){return(e[0]+e[1]+e[2])/3>128?[0,0,0]:[255,255,255]},e.prototype._drawAuthor=function(e,t,i,n,o,r,a,s){var l=this.border.width/2,d=new Cn([0,0,0],1),h=new pi(We.left,hi.middle),A=[i[0]+l,i[1]+l,i[2]-s.width,20];if(null!=t&&""!==t){A[3]+=20,a=A[3],this._saveGraphics(r,yt.hardLight),this._isTransparentColor?r.graphics.drawRectangle(A[0],A[1],A[2],A[3],d):r.graphics.drawRectangle(A[0],A[1],A[2],A[3],d,n),r.graphics.restore();var p=[A[0]+11,A[1],A[2],A[3]/2];this._saveGraphics(this._page,yt.normal),r.graphics.drawString(e,this._authorBoldFont,p,null,o,h),p=[p[0],p[1]+p[3]-2,p[2],A[3]/2],this._drawSubject(t,p,r),r.graphics.restore()}else{this._saveGraphics(r,yt.hardLight),this._isTransparentColor?r.graphics.drawRectangle(A[0],A[1],A[2],A[3],d):r.graphics.drawRectangle(A[0],A[1],A[2],A[3],d,n),r.graphics.restore();p=[A[0]+11,A[1],A[2],A[3]];this._saveGraphics(r,yt.normal),r.graphics.drawString(e,this._popUpFont,p,null,o,h),a=A[3],r.graphics.restore()}return a},e.prototype._drawSubject=function(e,t,i){var n=new pi(We.left,hi.middle);i.graphics.drawString(e,this._authorBoldFont,t,null,new Sn([0,0,0]),n)},e.prototype._saveGraphics=function(e,t){e.graphics.save(),e.graphics.setTransparency(.8,.8,t)},e.prototype._getBorderColorString=function(e){return(e[0]/255).toFixed(3)+" "+(e[1]/255).toFixed(3)+" "+(e[2]/255).toFixed(3)+" rg "},e.prototype._stringToDate=function(e){var t=new Date;if("D"===e[0]&&":"===e[1]){var i=e.substring(2,6),n=e.substring(6,8),o=e.substring(8,10),r=e.substring(10,12),a=e.substring(12,14),s=e.substring(14,16),l=0;if(23===e.length){var d=e.substring(16,22);if("+05'30'"!==d){var h=d[0],A=d.substring(1,3),p=d.substring(4,6);l=5.5-("-"===h?-1:1)*(parseInt(A,10)+parseInt(p,10)/60)}}t=new Date(i+"-"+n+"-"+o+"T"+r+":"+a+":"+s),0!==l&&t.setTime(t.getTime()+60*l*60*1e3)}else if(-1!==e.indexOf("/")){var c=e.split("/");i=c[2].split(" ")[0];"10"!==(n=c[0])&&"11"!==n&&"12"!==n&&(n="0"+n);o=c[1],r=c[2].split(" ")[1].split(":")[0],a=c[2].split(" ")[1].split(":")[1],s=c[2].split(" ")[1].split(":")[2];t=new Date(i+"-"+n+"-"+o+"T"+r+":"+a+":"+s)}else t=new Date(e);return t},e.prototype._dateToString=function(e){var t=(e.getMonth()+1).toString();"10"!==t&&"11"!==t&&"12"!==t&&(t="0"+t);var i=e.getDate().toString();Number.parseInt(i)<10&&(i="0"+i);var n=e.getHours().toString();Number.parseInt(n)<10&&(n="0"+n);var o=e.getMinutes().toString();Number.parseInt(o)<10&&(o="0"+o);var r=e.getSeconds().toString();return Number.parseInt(r)<10&&(r="0"+r),"D:"+e.getFullYear().toString()+t+i+n+o+r+"+05'30'"},e.prototype._obtainNativeRectangle=function(){var e=[this._bounds.x,this._bounds.y,this.bounds.x+this._bounds.width,this.bounds.y+this._bounds.height],t=this._getCropOrMediaBox();if(this._page){var i=this._page.size;e[1]=i[1]-e[3],t&&t.length>2&&(0!==t[0]||0!==t[1])&&(e[0]+=t[0],e[1]+=t[1])}return e},e.prototype._getPoints=function(e){var t=this._getCropOrMediaBox(),i=e;if(t&&t.length>3&&"number"==typeof t[0]&&"number"==typeof t[1]&&(0!==t[0]||0!==t[1])){for(var n=[],o=0;o<i.length;o++)n.push(i[Number.parseInt(o.toString(),10)]);for(var r=0;r<n.length;r+=2){var a=n[Number.parseInt(r.toString(),10)],s=n[r+1];t&&(i[Number.parseInt(r.toString(),10)]=a+t[0],this._page._pageDictionary.has("MediaBox")&&!this._page._pageDictionary.has("CropBox")&&0===t[3]&&t[1]>0?i[r+1]=s+t[3]:i[r+1]=s+t[1])}}return i},e.prototype._getCropOrMediaBox=function(){var e;if(this._page&&((e=this._page.cropBox)&&0!==e.length||(e=this._page.mediaBox)),e&&e[3]<0){var t=e[1],i=e[3];e[3]=t,e[1]=i}return e},e}(),Zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wn(t,e),Object.defineProperty(t.prototype,"comments",{get:function(){return this._comments?this._comments:this._comments=new To(this,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reviewHistory",{get:function(){return this._reviewHistory?this._reviewHistory:this._reviewHistory=new To(this,!0)},enumerable:!0,configurable:!0}),t}(Xn),qn=function(e){function t(t){var i=e.call(this)||this;return i._unit=Ze.centimeter,i._unitString="",i._dictionary=new Va,i._dictionary.update("Type",va.get("Annot")),i._dictionary.update("Subtype",va.get("Line")),null!=t&&(i.linePoints=t),i._type=ht.lineAnnotation,i}return Wn(t,e),Object.defineProperty(t.prototype,"linePoints",{get:function(){if(void 0===this._linePoints&&this._dictionary.has("L")){var e=this._dictionary.getArray("L");e&&(this._linePoints=e)}return this._linePoints},set:function(e){if(Array.isArray(e)&&(void 0===this._linePoints||fr(e,this._linePoints))){if(4!==e.length)throw new Error("Line points length should be 4.");this._dictionary.update("L",e),this._linePoints=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leaderExt",{get:function(){if(void 0===this._leaderExt&&this._dictionary.has("LLE")){var e=this._dictionary.get("LLE");void 0!==e&&(this._leaderExt=e)}return this._leaderExt},set:function(e){Number.isNaN(e)||(this._dictionary.update("LLE",e),this._leaderExt=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leaderLine",{get:function(){if(void 0===this._leaderLine&&this._dictionary.has("LL")){var e=this._dictionary.get("LL");void 0!==e&&(this._leaderLine=e)}return this._leaderLine},set:function(e){Number.isNaN(e)||0===this.leaderExt||(this._dictionary.update("LL",e),this._leaderLine=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineEndingStyle",{get:function(){if(void 0===this._lineEndingStyle){var e=new xo;if(e._dictionary=this._dictionary,this._dictionary.has("LE")){var t=this._dictionary.getArray("LE");t&&Array.isArray(t)&&(e._begin=Nr(t[0].name),e._end=Nr(t[1].name))}this._lineEndingStyle=e}return this._lineEndingStyle},set:function(e){var t=this.lineEndingStyle;t.begin===e.begin&&t.end===e.end||(t.begin=e.begin,t.end=e.end)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leaderOffset",{get:function(){if(void 0===this._leaderOffset&&this._dictionary.has("LLO")){var e=this._dictionary.get("LLO");void 0!==e&&e>=0&&(this._leaderOffset=e)}return this._leaderOffset},set:function(e){Number.isNaN(e)||(this._dictionary.update("LLO",e),this._leaderOffset=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineIntent",{get:function(){if(void 0===this._lineIntent&&this._dictionary.has("IT")){var e=this._dictionary.get("IT");e&&(this._lineIntent="LineDimension"===e.name?Ue.lineDimension:Ue.lineArrow)}return this._lineIntent},set:function(e){void 0!==e&&e!==this.lineIntent&&(this._lineIntent=e,this._dictionary.update("IT",va.get(e===Ue.lineDimension?"LineDimension":"LineArrow")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measure",{get:function(){return void 0===this._measure&&(this._measure=this._dictionary.has("Measure")),this._measure},set:function(e){e&&(this._isLoaded||(this._measure=e,this.caption.cap=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unit",{get:function(){if((void 0===this._unit||this._isLoaded)&&(this._unit=Ze.centimeter,this._dictionary.has("Contents"))){var e=this._dictionary.get("Contents");this._unitString=e.substring(e.length-2),this._unit=Zr(this._unitString)}return this._unit},set:function(e){this._measure&&(this._isLoaded||void 0===e||(this._unit=e))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if(void 0===this.linePoints||null===this.linePoints)throw new Error("Line points cannot be null or undefined");var t,i=this._getCropOrMediaBox();if(i&&i.length>3&&this.linePoints.length>3&&"number"==typeof i[0]&&"number"==typeof i[1]&&(0!==i[0]||0!==i[1])&&(this._linePoints[0]+=i[0],this._linePoints[1]+=i[1],this._linePoints[2]+=i[0],this._linePoints[3]+=i[1],this._dictionary.update("L",this._linePoints)),this._dictionary.has("Cap")||this._dictionary.set("Cap",!1),this._dictionary.has("CP")||this._dictionary.set("CP",va.get("Inline")),this._dictionary.has("LE")||(this.lineEndingStyle=new xo),this._dictionary.has("LL")||(this.leaderLine=0),this._dictionary.has("LLE")||(this.leaderExt=0),this._dictionary.has("C")||(this.color=[0,0,0],this._isTransparentColor=!0),this._dictionary.has("BS"))t=this.border.width;else{var n=new Va(this._crossReference);n.set("Type",va.get("Border")),this._dictionary.set("BS",n)}if(void 0===t&&(t=1),null!==this.border.dash&&void 0!==this.border.dash||(this.border.dash=[],this.border.style===Ye.dashed?this.border.dash=[3,1]:this.border.style===Ye.dot&&(this.border.dash=[1,1])),this._measure)this._appearanceTemplate=this._createLineMeasureAppearance(e);else{var o=!1;if(this._setAppearance){if(this._appearanceTemplate=this._createAppearance(),this._page._isNew&&!this._flatten&&!e){var r={x:(l=this._obtainLineBounds())[0],y:l[1],width:l[2],height:l[3]};this._bounds=r;var a=[this._bounds.x,this._bounds.y,this._bounds.x+this._bounds.width,this._bounds.y+this._bounds.height];this._dictionary.update("Rect",a),o=!0}}else{var s=Mr({x:(r=this._obtainLineBounds())[0],y:r[1],width:r[2],height:r[3]});this._page._isNew&&this._page._pageSettings&&this._setAppearance&&!this.flatten&&(s=ga(this,r)),this.bounds={x:s[0],y:s[1],width:s[2],height:s[3]},this._dictionary.update("Rect",s),o=!0}if(this._dictionary.has("Measure")&&!o){var l;r={x:(l=this._obtainLineBounds())[0],y:l[1],width:l[2],height:l[3]};this._bounds=r;a=void 0;a=this._page&&this._page._isNew&&this._page._pageSettings&&!this._setAppearance&&!this.flatten?ga(this):[this._bounds.x,this._bounds.y,this._bounds.x+this._bounds.width,this._bounds.y+this._bounds.height],this._dictionary.update("Rect",a),this.flatten&&!this.measure&&this._page&&this._page.size&&Array.isArray(this._page.size)&&this._page.size.length>=2&&(this._bounds={x:l[0],y:this._page.size[1]-(l[1]+l[3]),width:l[2],height:l[3]})}}},t.prototype._doPostProcess=function(e){var t,i;(void 0===e&&(e=!1),this._isLoaded)?((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._dictionary.has("Measure")?this._appearanceTemplate=this._createLineMeasureAppearance(e):this._appearanceTemplate=this._createAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((a=t.getRaw("N"))&&(i.reference=a),this._appearanceTemplate=new Fn(i,this._crossReference))):(this._postProcess(e),this._appearanceTemplate||e&&(this._dictionary.has("AP")?null!=(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((a=t.getRaw("N"))&&(i.reference=a),this._appearanceTemplate=new Fn(i,this._crossReference)):this._appearanceTemplate=this._createAppearance()));if(void 0!==this.flattenPopups&&this.flattenPopups&&e&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var n=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);this._flattenAnnotationTemplate(this._appearanceTemplate,n)}if(!e&&this._setAppearance&&!this.measure){var o=void 0;if(this._dictionary.has("AP"))o=this._dictionary.get("AP");else{var r=this._crossReference._getNextReference();o=new Va(this._crossReference),this._crossReference._cacheMap.set(r,o),this._dictionary.update("AP",r)}na(o,this._crossReference,"N");var a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,this._appearanceTemplate._content),o.update("N",a)}},t.prototype._createLineMeasureAppearance=function(e){for(var t=[0,0,0,0],i=this._convertToUnit(),n=this._obtainLinePoints(),o=[],r=0;r<n.length;r+=2)o.push([n[Number.parseInt(r.toString(),10)],n[r+1]]);var a=new An;a._points=o,a._pathTypes=[0,1];var s=a._getBounds();this._bounds={x:s[0],y:s[1],width:s[2],height:s[3]};var l,d=new Cn(void 0!==this.color?this._color:[0,0,0],this.border.width);this.innerColor&&(l=new Sn(this._innerColor)),t=this._obtainLineBounds();var h=new Fn(t,this._crossReference);Wr(h,0);var A=new Vo;h._writeTransformation=!1;var p=h.graphics;A.borderPen=d,this.border.style===Ye.dashed?(A.borderPen._dashStyle=Ct.dash,A.borderPen._dashPattern=[3,1]):this.border.style===Ye.dot&&(A.borderPen._dashStyle=Ct.dot,A.borderPen._dashPattern=[1,1]),A.backBrush=l,A.foreBrush=new Sn(this.color);var c=this._obtainLinePoints(),g=this._obtainFont();if((null==g||!this._isLoaded&&1===g.size)&&(g=this._lineCaptionFont,this._pdfFont=g),void 0!==c&&4===c.length){var u=new pi(We.center,hi.middle),f=g.measureString(i.toFixed(2)+" "+this._unitString,[0,0],u,0,0),m=this._getAngle(this._linePoints),w=0,y=0;this.leaderLine<0?(w=-this.leaderLine,y=m+180):(w=this.leaderLine,y=m);var S=void 0!==this.leaderOffset?w+this.leaderOffset:w,C=this._getAxisValue([this._linePoints[0],this._linePoints[1]],y+90,S),B=this._getAxisValue([this._linePoints[2],this._linePoints[3]],y+90,S),I=Math.sqrt(Math.pow(B[0]-C[0],2)+Math.pow(B[1]-C[1],2)),b=I/2-(f[0]/2+this.border.width),v=this._getAxisValue(C,m,b),E=this._getAxisValue(B,m+180,b),x=this.lineEndingStyle.begin===Oe.openArrow||this.lineEndingStyle.begin===Oe.closedArrow?this._getAxisValue(C,m,this.border.width):C,_=this.lineEndingStyle.end===Oe.openArrow||this.lineEndingStyle.end===Oe.closedArrow?this._getAxisValue(B,m,-this.border.width):B,D=void 0;this.opacity&&this._opacity<1&&(D=p.save(),p.setTransparency(this._opacity)),this.caption.type===He.top||!this.caption.cap&&this.caption.type===He.inline?p.drawLine(d,x[0],-x[1],_[0],-_[1]):(p.drawLine(d,x[0],-x[1],v[0],-v[1]),p.drawLine(d,_[0],-_[1],E[0],-E[1])),this.opacity&&this._opacity<1&&p.restore(D),this._drawLineStyle(C,B,p,m,d,l,this.lineEndingStyle,this.border.width);var M=void 0!==this.leaderExt?this._leaderExt:0,V=this._getAxisValue(C,y+90,M);p.drawLine(d,C[0],-C[1],V[0],-V[1]);var Q=this._getAxisValue(B,y+90,M);p.drawLine(d,B[0],-B[1],Q[0],-Q[1]);var F=this._getAxisValue(C,y-90,w);p.drawLine(d,C[0],-C[1],F[0],-F[1]);var T=this._getAxisValue(B,y-90,w);p.drawLine(d,B[0],-B[1],T[0],-T[1]);var k=I/2,P=this._getAxisValue(C,m,k),N=void 0,R=g._metrics._getHeight();N=this.caption.type===He.top?this._getAxisValue(P,m+90,R):this._getAxisValue(P,m+90,R/2),p.translateTransform(N[0],-N[1]),p.rotateTransform(-m),p.drawString(i.toFixed(2)+" "+this._unitString,g,[-f[0]/2,0,0,0],null,A.foreBrush),p.restore()}if(void 0!==e&&!e||!this._isLoaded){h._content.dictionary._updated=!0;var L=this._crossReference._getNextReference();this._crossReference._cacheMap.set(L,h._content),h._content.reference=L;var O=[this.bounds.x,this.bounds.y+this.bounds.height,this.bounds.width,this.bounds.height],U=this._page.size;O[1]=U[1]-(this.bounds.y+this.bounds.height),this._isBounds&&!this.measure?(t=O,this._dictionary.update("Rect",[O[0],O[1],O[2],O[3]])):this._dictionary.update("Rect",[t[0],t[1],t[2],t[3]]);var z="font:"+g._metrics._postScriptName+" "+g._size+"pt; color:"+this._colorToHex(this.color);if(this._dictionary.update("DS",z),void 0!==e&&!e){this._dictionary.has("AP")&&na(this._dictionary.get("AP"),this._crossReference,"N");var H=new Va;H.set("N",L),H._updated=!0,this._dictionary.set("AP",H);var Y=this._createMeasureDictionary(this._unitString),j=this._crossReference._getNextReference();this._crossReference._cacheMap.set(j,Y),Y._updated=!0,this._dictionary.has("Measure")&&na(this._dictionary,this._crossReference,"Measure"),this._dictionary.update("Measure",j)}var G=[];if(G.push(va.get(Pr(this.lineEndingStyle.begin))),G.push(va.get(Pr(this.lineEndingStyle.end))),this._dictionary.update("LE",G),null===this._linePoints)throw new Error("LinePoints cannot be null");this._dictionary.update("L",this._linePoints),this._dictionary.update("C",[Number.parseFloat((this.color[0]/255).toFixed(3)),Number.parseFloat((this.color[1]/255).toFixed(3)),Number.parseFloat((this.color[2]/255).toFixed(3))]);S=this._dictionary.has("LLO")?this.leaderOffset:0;this._dictionary.update("Subtype",new va("Line")),this._text&&""!==this._text?this._dictionary.update("Contents",this._text+" "+i.toFixed(2)+" "+this._unitString):this._dictionary.update("Contents",i.toFixed(2)+" "+this._unitString),this._dictionary.update("IT",new va("LineDimension")),this._dictionary.update("LLE",this.leaderExt),this._dictionary.update("LLO",S),this._dictionary.update("LL",this.leaderLine),this._dictionary.update("CP",va.get(this.caption.type===He.top?"Top":"Inline")),this._dictionary.update("Cap",this.caption.cap);var J=[t[0],t[1],t[0]+t[2],t[1]+t[3]];this._dictionary.update("Rect",J),this._bounds={x:J[0],y:J[1],width:J[2],height:J[3]}}return h},t.prototype._calculateAngle=function(e,t,i,n){return-Math.atan2(n-t,i-e)*(180/Math.PI)},t.prototype._calculateLineBounds=function(e,t,i,n,o,r){var a={x:0,y:0,width:0,height:0};if(e&&4===e.length){var s=this._getAngle(e),l=0,d=0;i<0?(l=-i,d=s+180):(l=i,d=s);var h=[e[0],e[1]],A=[e[2],e[3]];if(0!==n){var p=this._getAxisValue(h,d+90,n),c=this._getAxisValue(A,d+90,n);e[0]=p[0],e[1]=p[1],e[2]=c[0],e[3]=c[1]}var g=this._getAxisValue(h,d+90,l+n),u=this._getAxisValue(A,d+90,l+n),f=this._getAxisValue(h,d+90,t+l+n),m=this._getAxisValue(A,d+90,t+l+n),w=this._getLinePoint(o.begin,r),y=this._getLinePoint(o.end,r),S=[],C=[];d>=45&&d<=135||d>=225&&d<=315?(S[0]=w.y,C[0]=w.x,S[1]=y.y,C[1]=y.x):(S[0]=w.x,C[0]=w.y,S[1]=y.x,C[1]=y.y);var B=Math.max(S[0],S[1]),I=Math.max(C[0],C[1]);0===B&&(B=1),0===I&&(I=1),g[0]===Math.min(g[0],u[0])?(g[0]-=B*r,u[0]+=B*r,g[0]=Math.min(g[0],e[0]),g[0]=Math.min(g[0],f[0]),u[0]=Math.max(u[0],e[2]),u[0]=Math.max(u[0],m[0])):(g[0]+=B*r,u[0]-=B*r,g[0]=Math.max(g[0],e[0]),g[0]=Math.max(g[0],f[0]),u[0]=Math.min(u[0],e[2]),u[0]=Math.min(u[0],m[0])),g[1]===Math.min(g[1],u[1])?(g[1]-=I*r,u[1]+=I*r,g[1]=Math.min(g[1],e[1]),g[1]=Math.min(g[1],f[1]),u[1]=Math.max(u[1],e[3]),u[1]=Math.max(u[1],m[1])):(g[1]+=I*r,u[1]-=I*r,g[1]=Math.max(g[1],e[1]),g[1]=Math.max(g[1],f[1]),u[1]=Math.min(u[1],e[3]),u[1]=Math.min(u[1],m[1])),a=this._getBounds([{x:g[0],y:g[1]},{x:u[0],y:u[1]}])}return a},t.prototype._getLinePoint=function(e,t){var i={x:0,y:0};if(e)switch(e){case Oe.square:case Oe.circle:case Oe.diamond:i.x=3,i.y=3;break;case Oe.openArrow:case Oe.closedArrow:i.x=1,i.y=5;break;case Oe.rOpenArrow:case Oe.rClosedArrow:i.x=9+t/2,i.y=5+t/2;break;case Oe.slash:i.x=5,i.y=9;break;case Oe.butt:i.x=1,i.y=3;break;default:i.x=0,i.y=0}return i},t.prototype._getBounds=function(e){var t={x:0,y:0,width:0,height:0};if(e.length>0){for(var i=e[0].x,n=e[0].x,o=e[0].y,r=e[0].y,a=1;a<e.length;++a){var s=e[Number.parseInt(a.toString(),10)];i=Math.min(s.x,i),n=Math.max(s.x,n),o=Math.min(s.y,o),r=Math.max(s.y,r)}t.x=i,t.y=o,t.width=n-i,t.height=r-o}return t},t.prototype._obtainLineBounds=function(){var e=this.bounds;if(void 0!==this.linePoints&&4===this._linePoints.length){var t=this._dictionary.has("LLO")?this.leaderOffset:0,i=this._dictionary.has("LLE")?this.leaderExt:0,n=this._dictionary.has("LL")?this.leaderLine:0;e={x:(e=this._calculateLineBounds(this._linePoints,i,n,t,this.lineEndingStyle,this.border.width)).x-8,y:e.y-8,width:e.width+16,height:e.height+16}}return[e.x,e.y,e.width,e.height]},t.prototype._createAppearance=function(){var e=new Fn(this._obtainLineBounds(),this._crossReference),t=new Vo;Wr(e,0),e._writeTransformation=!1;var i,n=e.graphics,o=new Cn(void 0!==this.color?this._color:[0,0,0],this.border.width);this.border.style===Ye.dashed?(o._dashStyle=Ct.dash,o._dashPattern=[3,1]):this.border.style===Ye.dot&&(o._dashStyle=Ct.dot,o._dashPattern=[1,1]),t.borderPen=o,t.foreBrush=new Sn(this.color),this.innerColor&&(i=new Sn(this._innerColor));var r=this._obtainFont();(null==r||!this._isLoaded&&1===r.size)&&(r=this._lineCaptionFont,this._pdfFont=r),this.text||this._dictionary.has("Contents")||(this.text=this.subject);var a=new pi(We.center,hi.middle),s=0;if(this.caption.cap&&(s=r.measureString(this.text?this.text:"",[0,0],a,0,0)[0]),void 0!==this.linePoints&&4===this._linePoints.length){var l=this._getAngle(this._linePoints),d=0,h=0,A=this.leaderLine;null==A&&(this._leaderLine=0,A=0),A<0?(d=-A,h=l+180):(d=A,h=l);var p=void 0!==this.leaderOffset?d+this.leaderOffset:d,c=this._getAxisValue([this._linePoints[0],this._linePoints[1]],h+90,p),g=this._getAxisValue([this._linePoints[2],this._linePoints[3]],h+90,p),u=Math.sqrt(Math.pow(g[0]-c[0],2)+Math.pow(g[1]-c[1],2)),f=u/2-(s/2+this.border.width),m=this._getAxisValue(c,l,f),w=this._getAxisValue(g,l+180,f),y=this.lineEndingStyle.begin===Oe.openArrow||this.lineEndingStyle.begin===Oe.closedArrow?this._getAxisValue(c,l,this.border.width):c,S=this.lineEndingStyle.end===Oe.openArrow||this.lineEndingStyle.end===Oe.closedArrow?this._getAxisValue(g,l,-this.border.width):g;if(this.opacity&&this._opacity<1){var C=n.save();n.setTransparency(this._opacity),this._drawLine(n,o,y,S,m,w),n.restore(C)}else this._drawLine(n,o,y,S,m,w);this._drawLineStyle(c,g,n,l,o,i,this.lineEndingStyle,this.border.width);var B=void 0!==this.leaderExt?this._leaderExt:0,I=this._getAxisValue(c,h+90,B);n.drawLine(o,c[0],-c[1],I[0],-I[1]);var b=this._getAxisValue(g,h+90,B);n.drawLine(o,g[0],-g[1],b[0],-b[1]);var v=this._getAxisValue(c,h-90,d);n.drawLine(o,c[0],-c[1],v[0],-v[1]);var E=this._getAxisValue(g,h-90,d);n.drawLine(o,g[0],-g[1],E[0],-E[1]);var x=u/2,_=this._getAxisValue(c,l,x),D=void 0,M=r._metrics._getHeight();D=this.caption.type===He.top?this._dictionary.has("Measure")?this._getAxisValue(_,l+90,2*M):this._getAxisValue(_,l+90,M):this._dictionary.has("Measure")?this._getAxisValue(_,l+90,M/2*3):this._getAxisValue(_,l+90,M/2),n.translateTransform(D[0],-D[1]),n.rotateTransform(-l),this.caption.cap&&n.drawString(this.text,r,[-s/2,0,0,0],null,t.foreBrush),n.restore();var V=this._obtainLineBounds(),Q=Mr({x:V[0],y:V[1],width:V[2],height:V[3]});this.bounds={x:Q[0],y:Q[1],width:Q[2],height:Q[3]},this.measure||this._dictionary.has("Measure")||this._dictionary.update("Rect",[Q[0],Q[1],Q[2],Q[3]])}return e},t.prototype._drawLine=function(e,t,i,n,o,r){void 0===this.text||""===this._text||this.caption.type===He.top||!this.caption.cap&&this.caption.type===He.inline?e.drawLine(t,i[0],-i[1],n[0],-n[1]):(e.drawLine(t,i[0],-i[1],o[0],-o[1]),e.drawLine(t,n[0],-n[1],r[0],-r[1]))},t.prototype._convertToUnit=function(){for(var e=this._obtainLinePoints(),t=new Array(e.length/2),i=0,n=0;n<e.length;n+=2)t[Number.parseInt(i.toString(),10)]=[e[Number.parseInt(n.toString(),10)],e[n+1]],i++;var o=Math.sqrt(Math.pow(t[1][0]-t[0][0],2)+Math.pow(t[1][1]-t[0][1],2)),r=this._getEqualPdfGraphicsUnit(this.unit,this._unitString);return this._unitString=r.unitString,(new Bn)._convertUnits(o,At.point,r.graphicsUnit)},t.prototype._obtainLinePoints=function(){var e=[];if(this.linePoints)for(var t=0;t<this._linePoints.length;t++)e[Number.parseInt(t.toString(),10)]=this._linePoints[Number.parseInt(t.toString(),10)];return e},t}(Zn),$n=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._unit=Ze.centimeter,r._measureType=qe.diameter,r._unitString="",r._dictionary=new Va,r._dictionary.update("Type",va.get("Annot")),r._dictionary.update("Subtype",va.get("Circle")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(r.bounds={x:t,y:i,width:n,height:o}),r._type=ht.circleAnnotation,r}return Wn(t,e),Object.defineProperty(t.prototype,"measure",{get:function(){return void 0===this._measure&&this._dictionary.has("Measure")&&(this._measure=this._dictionary.get("Measure")),this._measure},set:function(e){e&&(this._isLoaded||(this._measure=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unit",{get:function(){if((void 0===this._unit||this._isLoaded)&&(this._unit=Ze.centimeter,this._dictionary.has("Contents"))){var e=this._dictionary.get("Contents");this._unitString=e.substring(e.length-2),this._unit=Zr(this._unitString)}return this._unit},set:function(e){this._measure&&(this._isLoaded||void 0===e||(this._unit=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measureType",{get:function(){if(this._dictionary.has("Contents")){var e=this._dictionary.get("Contents");this._unitString=e.substring(e.length-2),this._unit=Zr(this._unitString);var t=e.substring(0,e.length-2);(new Bn)._convertUnits(this.bounds.width/2,At.point,function(e){var t;switch(e){case"cm":default:t=At.centimeter;break;case"in":t=At.inch;break;case"mm":t=At.millimeter;break;case"p":t=At.pica;break;case"pt":t=At.point}return t}(this._unitString)).toString()===t?this._measureType=qe.radius:this._measureType=qe.diameter}return this._measureType},set:function(e){this._measure&&(this._isLoaded||void 0===e||(this._measureType=e))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t;if(this._dictionary.has("BS"))t=this.border.width;else{var i=new Va(this._crossReference);i.set("Type",va.get("Border")),this._dictionary.set("BS",i)}this._dictionary.has("C")||(this.color=[0,0,0],this._isTransparentColor=!0),void 0===t&&(t=1),this._measure?this._appearanceTemplate=this._createCircleMeasureAppearance(e):(this._dictionary.update("Rect",ga(this)),(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createCircleAppearance()))},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._dictionary.has("Measure")?this._appearanceTemplate=this._createCircleMeasureAppearance(e):this._appearanceTemplate=this._createCircleAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if(null!=(t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else this._appearanceTemplate=this._createCircleAppearance();if(void 0!==this.flattenPopups&&this.flattenPopups&&e&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);this._flattenAnnotationTemplate(this._appearanceTemplate,o)}if(!e&&this._setAppearance&&!this.measure){var r=void 0;if(this._dictionary.has("AP"))r=this._dictionary.get("AP");else{var a=this._crossReference._getNextReference();r=new Va(this._crossReference),this._crossReference._cacheMap.set(a,r),this._dictionary.update("AP",a)}na(r,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),r.update("N",n)}},t.prototype._createCircleMeasureAppearance=function(e){var t=this.border.width,i=this._obtainFont();(null==i||!this._isLoaded&&1===i.size)&&(i=this._circleCaptionFont,this._pdfFont=i);var n=this._convertToUnit(),o=new pi(We.center,hi.middle),r=n.toFixed(2)+" "+this._unitString,a=i.measureString(r,[0,0],o,0,0),s=this.color?this.color:[0,0,0],l=new Cn(s,t),d=[this.bounds.x,this.bounds.y+this.bounds.height,this.bounds.width,this.bounds.height];d[1]=d[1]-d[3];var h=new Fn(d,this._crossReference),A=new Vo;h._writeTransformation=!1;var p=h.graphics,c=t/2;A.borderPen=l,this.innerColor&&(A.backBrush=new Sn(this._innerColor)),A.foreBrush=new Sn(s);var g=[d[0],-d[1]-d[3],d[2],d[3]];if(p.save(),p.drawEllipse(g[0]+c,g[1]+c,g[2]-t,g[3]-t,new Cn(s,this.border.width)),this._measureType===qe.diameter){p.save(),p.translateTransform(d[0],-d[1]);var u=d[3]/2-a[0]/2;p.drawLine(A.borderPen,0,-d[3]/2,d[0]+d[2],-d[3]/2),p.translateTransform(u,-d[3]/2-i._metrics._getHeight()),p.drawString(n.toFixed(2)+" "+this._unitString,i,[0,0,0,0],null,A.foreBrush),p.restore()}else{p.save(),p.translateTransform(d[0],-d[1]);u=d[2]/2+(d[2]/4-a[0]/2);p.drawLine(A.borderPen,d[2]/2,-d[3]/2,d[0]+d[2],-d[3]/2),p.translateTransform(u,-d[3]/2-i._metrics._getHeight()),p.drawString(n.toFixed(2)+" "+this._unitString,i,[0,0,0,0],null,A.foreBrush),p.restore()}if(p.restore(),void 0!==e&&!e||!this._isLoaded){this._dictionary.has("AP")&&na(this._dictionary.get("AP"),this._crossReference,"N");var f=new Va;p._template._content.dictionary._updated=!0;var m=this._crossReference._getNextReference();this._crossReference._cacheMap.set(m,p._template._content),p._template._content.reference=m,f.set("N",m),f._updated=!0,this._dictionary.set("AP",f),this._dictionary.update("Rect",ga(this)),this._dictionary.has("Measure")&&na(this._dictionary,this._crossReference,"Measure");var w=this._createMeasureDictionary(this._unitString),y=this._crossReference._getNextReference();this._crossReference._cacheMap.set(y,w),w._updated=!0,this._dictionary.update("Measure",y),this._dictionary.update("Subtype",new va("Circle")),this._text&&""!==this._text?this._dictionary.update("Contents",this._text+" "+n.toFixed(2)+" "+this._unitString):this._dictionary.update("Contents",n.toFixed(2)+" "+this._unitString);var S="font:"+i._metrics._postScriptName+" "+i._size+"pt; color:"+this._colorToHex(this.color);this._dictionary.update("DS",S)}return h},t.prototype._convertToUnit=function(){var e=new Bn,t=this._getEqualPdfGraphicsUnit(this.unit,this._unitString);this._unitString=t.unitString;var i=e._convertUnits(this.bounds.width/2,At.point,t.graphicsUnit);return this._measureType===qe.diameter&&(i*=2),i},t}(Zn),eo=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._dictionary=new Va,r._dictionary.update("Type",va.get("Annot")),r._dictionary.update("Subtype",va.get("Circle")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(r.bounds={x:t,y:i,width:n,height:o}),r._type=ht.ellipseAnnotation,r}return Wn(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t;if(this._dictionary.has("BS"))t=this.border.width;else{var i=new Va(this._crossReference);i.set("Type",va.get("Border")),this._dictionary.set("BS",i)}this._dictionary.has("C")||(this.color=[0,0,0],this._isTransparentColor=!0),void 0===t&&(t=1),(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createCircleAppearance()),this._dictionary.update("Rect",ga(this))},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createCircleAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else this._appearanceTemplate=this._createCircleAppearance();if(void 0!==this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);this._flattenAnnotationTemplate(this._appearanceTemplate,o)}if(!e&&this._setAppearance){var r=void 0;if(this._dictionary.has("AP"))r=this._dictionary.get("AP");else{var a=this._crossReference._getNextReference();r=new Va(this._crossReference),this._crossReference._cacheMap.set(a,r),this._dictionary.update("AP",a)}na(r,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),r.update("N",n)}},t}(Zn),to=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._unit=Ze.centimeter,r._dictionary=new Va,r._dictionary.update("Type",va.get("Annot")),r._dictionary.update("Subtype",va.get("Square")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(r.bounds={x:t,y:i,width:n,height:o}),r._type=ht.squareAnnotation,r}return Wn(t,e),Object.defineProperty(t.prototype,"borderEffect",{get:function(){if(void 0===this._borderEffect){var e=new Mo;if(e._dictionary=this._dictionary,this._dictionary.has("BE")){var t=this._dictionary.get("BE");e._intensity=t.get("I"),e._style=kr(t.get("S").name)}this._borderEffect=e}return this._borderEffect},set:function(e){void 0!==e&&(this._borderEffect=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measure",{get:function(){return void 0===this._measure&&this._dictionary.has("Measure")&&(this._measure=this._dictionary.get("Measure")),this._measure},set:function(e){void 0!==e&&(this._isLoaded||(this._measure=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unit",{get:function(){if(void 0===this._unit&&(this._unit=Ze.centimeter,this._dictionary.has("Contents"))){var e=this._dictionary.get("Contents");this._unitString=e.substring(e.length-2),this._unit=Zr(this._unitString)}return this._unit},set:function(e){this._measure&&(this._isLoaded||void 0===e||(this._unit=e))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t,i;this._dictionary.has("BS")?t=this.border.width:((i=new Va(this._crossReference)).set("Type",va.get("Border")),this._dictionary.set("BS",i));(this._dictionary.has("C")||(this.color=[0,0,0],this._isTransparentColor=!0),void 0===t&&(t=1),this._measure)?this._appearanceTemplate=this._createSquareMeasureAppearance(e):((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect)),this._dictionary.update("Rect",ga(this)),void 0===this._intensity&&void 0!==this._borderEffect&&this._borderEffect.style===je.cloudy&&((i=new Va(this._crossReference)).set("I",this.borderEffect._intensity),this.borderEffect._style===je.cloudy&&i.set("S",va.get("C")),this._dictionary.update("BE",i)))},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._dictionary.has("Measure")?this._appearanceTemplate=this._createSquareMeasureAppearance(e):this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect)),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect);if(void 0!==this.flattenPopups&&this.flattenPopups&&!this.measure&&(this._isLoaded&&!this._dictionary.has("Measure")?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);this._flattenAnnotationTemplate(this._appearanceTemplate,o)}if(!e&&this._setAppearance&&!this.measure){var r=void 0;if(this._dictionary.has("AP"))r=this._dictionary.get("AP");else{var a=this._crossReference._getNextReference();r=new Va(this._crossReference),this._crossReference._cacheMap.set(a,r),this._dictionary.update("AP",a)}na(r,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),r.update("N",n)}},t.prototype._createSquareMeasureAppearance=function(e){var t=this.border.width,i=this._obtainFont();(null==i||!this._isLoaded&&1===i.size)&&(i=this._circleCaptionFont,this._pdfFont=i);var n,o=this._calculateAreaOfSquare(),r=new pi(We.center,hi.middle),a=o.toFixed(2)+" sq "+this._unitString,s=i.measureString(a,[0,0],r,0,0),l=new Cn(this.color,t);this.innerColor&&(n=new Sn(this._innerColor));var d=[this.bounds.x,this.bounds.y+this.bounds.height,this.bounds.width,this.bounds.height],h=[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height],A=new Kn(this,h);d[1]=d[1]-d[3],A.normal=new Fn(d,this._crossReference);var p=A.normal,c=new Vo;p._writeTransformation=!1;var g=A.normal.graphics,u=t/2;c.borderPen=l,c.backBrush=n,c.foreBrush=new Sn(this.color);var f=[d[0],-d[1]-d[3],d[2],d[3]];g.drawRectangle(f[0]+u,f[1]+u,f[2]-t,f[3]-t,new Cn(this.color,this.border.width)),g.save(),g.translateTransform(d[0],-d[1]);var m=d[2]/2-s[0]/2,w=d[3]/2-s[1]/2;if(g.translateTransform(m,-w-i._metrics._getHeight()),g.drawString(o.toFixed(2)+" sq "+this._unitString,i,[0,0,0,0],null,c.foreBrush),g.restore(),void 0!==e&&!e||!this._isLoaded){this._dictionary.has("AP")&&na(this._dictionary.get("AP"),this._crossReference,"N");var y=new Va,S=g._template._content;S.dictionary._updated=!0;var C=this._crossReference._getNextReference();this._crossReference._cacheMap.set(C,S),g._template._content.reference=C,y.set("N",C),y._updated=!0,this._dictionary.set("AP",y);var B=[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height],I=this._page.size;B[1]=I[1]-(this.bounds.y+this.bounds.height),B[2]=this.bounds.x+this.bounds.width,B[3]=I[1]-this.bounds.y,this._isBounds&&(d=B),this._page._isNew&&this._page._pageSettings&&(B=ga(this)),this._dictionary.update("Rect",[B[0],B[1],B[2],B[3]]),this._dictionary.has("Measure")&&na(this._dictionary,this._crossReference,"Measure");var b=this._crossReference._getNextReference(),v=this._createMeasureDictionary(this._unitString);this._crossReference._cacheMap.set(b,v),v._updated=!0,this._dictionary.update("Measure",b);var E="font:"+i._metrics._postScriptName+" "+i._size+"pt; color:"+this._colorToHex(this.color);this._dictionary.update("DS",E),this._text&&""!==this._text?this._dictionary.update("Contents",this._text+" "+o.toFixed(2)+" sq "+this._unitString):this._dictionary.update("Contents",o.toFixed(2)+" sq "+this._unitString),this._dictionary.update("Subject","Area Measurement"),void 0===this.subject&&this._dictionary.update("Subject","Area Measurement"),this._dictionary.update("MeasurementTypes",129),this._dictionary.update("Subtype",new va("Square")),this._dictionary.update("IT",new va("SquareDimension"));var x=this._dictionary.getArray("Rect"),_=new Array(2*x.length);_[0]=x[0],_[1]=x[3],_[2]=x[0],_[3]=x[1],_[4]=x[2],_[5]=x[1],_[6]=x[2],_[7]=x[3],this._dictionary.update("Vertices",_)}return p},t.prototype._calculateAreaOfSquare=function(){var e,t,i=new Bn;if(this.bounds.width===this.bounds.height){t=this._getEqualPdfGraphicsUnit(this.unit,this._unitString),this._unitString=t.unitString,e=(n=i._convertUnits(this.bounds.width,At.point,t.graphicsUnit))*n}else{t=this._getEqualPdfGraphicsUnit(this.unit,this._unitString),this._unitString=t.unitString;var n=i._convertUnits(this.bounds.width,At.point,t.graphicsUnit);t=this._getEqualPdfGraphicsUnit(this.unit,this._unitString),this._unitString=t.unitString,e=n*i._convertUnits(this.bounds.height,At.point,t.graphicsUnit)}return e},t}(Zn),io=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._dictionary=new Va,r._dictionary.update("Type",va.get("Annot")),r._dictionary.update("Subtype",va.get("Square")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(r.bounds={x:t,y:i,width:n,height:o}),r._type=ht.rectangleAnnotation,r}return Wn(t,e),Object.defineProperty(t.prototype,"borderEffect",{get:function(){if(void 0===this._borderEffect){var e=new Mo;if(e._dictionary=this._dictionary,this._dictionary.has("BE")){var t=this._dictionary.get("BE");e._intensity=t.get("I"),e._style=kr(t.get("S").name)}this._borderEffect=e}return this._borderEffect},set:function(e){void 0!==e&&(this._borderEffect=e)},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t,i;this._dictionary.has("BS")?t=this.border.width:((i=new Va(this._crossReference)).set("Type",va.get("Border")),this._dictionary.set("BS",i));(this._dictionary.has("C")||(this.color=[0,0,0],this._isTransparentColor=!0),void 0===t&&(t=1),this._dictionary.update("Rect",ga(this)),(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect)),void 0===this._intensity&&void 0!==this._borderEffect&&this._borderEffect.style===je.cloudy)&&((i=new Va(this._crossReference)).set("I",this.borderEffect._intensity),this.borderEffect._style===je.cloudy&&i.set("S",va.get("C")),this._dictionary.update("BE",i))},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect)),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else this._appearanceTemplate=this._createRectangleAppearance(this.borderEffect);if(void 0!==this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);(o&&this._page&&this._page.rotation!==Ge.angle0||this._isValidTemplateMatrix(this._appearanceTemplate._content.dictionary,this.bounds,this._appearanceTemplate))&&this._flattenAnnotationTemplate(this._appearanceTemplate,o)}if(!e&&this._setAppearance){var r=void 0;if(this._dictionary.has("AP"))r=this._dictionary.get("AP");else{var a=this._crossReference._getNextReference();r=new Va(this._crossReference),this._crossReference._cacheMap.set(a,r),this._dictionary.update("AP",a)}na(r,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),r.update("N",n)}},t.prototype._isValidTemplateMatrix=function(e,t,i){var n=!0,o=t;if(e&&e.has("Matrix")){var r=e.getArray("BBox"),a=e.getArray("Matrix");if(a&&r&&a.length>3&&r.length>2&&void 0!==a[0]&&void 0!==a[1]&&void 0!==a[2]&&void 0!==a[3]&&1===a[0]&&0===a[1]&&0===a[2]&&1===a[3]&&void 0!==r[0]&&void 0!==r[1]&&void 0!==r[2]&&void 0!==r[3]&&(Math.round(r[0])!==Math.round(-a[4])&&Math.round(r[1])!==Math.round(-a[5])||0===r[0]&&0===Math.round(-a[4]))){var s=this._page.graphics,l=s.save();void 0!==this.opacity&&this._opacity<1&&s.setTransparency(this._opacity),o.x-=r[0],o.y+=r[1],s.drawTemplate(i,o),s.restore(l),this._page.annotations.remove(this),n=!1}}return n},t}(Zn),no=function(e){function t(t){var i=e.call(this)||this;return i._dictionary=new Va,i._dictionary.update("Type",va.get("Annot")),i._dictionary.update("Subtype",va.get("Polygon")),void 0!==t&&(i._points=t),i._type=ht.polygonAnnotation,i}return Wn(t,e),Object.defineProperty(t.prototype,"borderEffect",{get:function(){if(void 0===this._borderEffect){var e=new Mo;if(e._dictionary=this._dictionary,this._dictionary.has("BE")){var t=this._dictionary.get("BE");e._intensity=t.get("I"),e._style=kr(t.get("S").name)}this._borderEffect=e}return this._borderEffect},set:function(e){void 0!==e&&(this._borderEffect=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineExtension",{get:function(){if(void 0===this._lineExtension&&this._dictionary.has("LLE")){var e=this._dictionary.get("LLE");void 0!==e&&e>=0&&(this._lineExtension=e)}return this._lineExtension},set:function(e){if(!Number.isNaN(e)){if(!(e>=0))throw new Error("LineExtension should be non negative number");this._dictionary.update("LLE",e),this._lineExtension=e}},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if(void 0===this._points||null===this._points)throw new Error("Points cannot be null or undefined");var t;(this._dictionary.has("LLE")||(this.lineExtension=0),this._dictionary.has("C")||(this.color=[0,0,0],this._isTransparentColor=!0),this._dictionary.has("BS"))?t=this.border.width:((r=new Va(this._crossReference)).set("Type",va.get("Border")),this._dictionary.set("BS",r));void 0===t&&(t=1);for(var i=[],n=0;n<this._points.length;n++){var o=this._points[Number.parseInt(n.toString(),10)];i.push(o)}this._points=this._getPoints(this._points),i[0]===i[i.length-2]&&i[1]===i[i.length-1]||(this._points.push(this._points[0]),this._points.push(this._points[1]));var r,a=this._getBoundsValue(this._points),s=[a.x,a.y,a.x+a.width,a.y+a.height];(this._dictionary.update("Rect",s),this._dictionary.update("LLE",this._lineExtension),(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createPolygonAppearance(e)),this._dictionary.update("Vertices",this._points),void 0===this._intensity&&void 0!==this._borderEffect&&this._borderEffect.style===je.cloudy)&&((r=new Va(this._crossReference)).set("I",this.borderEffect._intensity),this.borderEffect._style===je.cloudy&&r.set("S",va.get("C")),this._dictionary.update("BE",r))},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._flatten=e,this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createPolygonAppearance(e)),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}if(void 0!==this.flattenPopups&&this.flattenPopups&&this._isLoaded&&this._flattenLoadedPopUp(),e)if(this._appearanceTemplate){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var r=this._appearanceTemplate._content.dictionary.getArray("BBox");r&&r.length>=2&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-r[0],-r[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,o)}else this._page.annotations.remove(this);if(!e&&this._setAppearance){var a=void 0;if(this._dictionary.has("AP"))a=this._dictionary.get("AP");else{var s=this._crossReference._getNextReference();a=new Va(this._crossReference),this._crossReference._cacheMap.set(s,a),this._dictionary.update("AP",s)}na(a,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),a.update("N",n)}},t.prototype._createPolygonAppearance=function(e){if(void 0!==e&&e){var t=void 0;this.color&&this.border.width>0&&(t=new Cn(this.color,this.border.width));var i=void 0;this.innerColor&&(i=new Sn(this.innerColor));var n=this._page.graphics;if(t||i){var o=void 0;if(void 0!==this.opacity&&this._opacity<1&&(o=n.save(),n.setTransparency(this._opacity)),0!==this.borderEffect.intensity&&this.borderEffect.style===je.cloudy){var r=4*this.borderEffect.intensity+.5*this.border.width;(A=new An).addPolygon(this._getLinePoints()),this._drawCloudStyle(n,i,t,r,.833,A._points,!1)}else n.drawPolygon(this._getLinePoints(),t,i);void 0!==this.opacity&&this._opacity<1&&n.restore(o)}return n._template}var a=void 0,s={x:0,y:0,width:0,height:0};void 0===this._points&&this._dictionary.has("Vertices")?(this._points=this._dictionary.get("Vertices"),a=this._getBoundsValue(this._points)):a=this._getBoundsValue(this._points),void 0!==this._borderEffect&&void 0!==this.borderEffect.intensity&&0!==this.borderEffect.intensity&&this._borderEffect.style===je.cloudy?(s.x=a.x-5*this.borderEffect.intensity-this.border.width,s.y=a.y-5*this.borderEffect.intensity-this.border.width,s.width=a.width+10*this.borderEffect.intensity+2*this.border.width,s.height=a.height+10*this.borderEffect.intensity+2*this.border.width):(s.x=a.x-this.border.width,s.y=a.y-this.border.width,s.width=a.width+2*this.border.width,s.height=a.height+2*this.border.width);var l=new Kn(this,[s.x,s.y,s.width,s.height]);l.normal=new Fn([s.x,s.y,s.width,s.height],this._crossReference);var d=l.normal;Wr(d,this._getRotationAngle()),d._writeTransformation=!1;n=l.normal.graphics;var h=new Vo;if(this.innerColor&&(h.backBrush=new Sn(this._innerColor)),this.border.width>0&&this.color&&(h.borderPen=new Cn(this._color,this.border.width)),this.color&&(h.foreBrush=new Sn(this._color)),void 0!==this.opacity&&this._opacity<1?(n.save(),n.setTransparency(this._opacity)):n.save(),Sa(this.borderEffect)&&Sa(this.borderEffect.intensity)&&0!==this.borderEffect.intensity&&this.borderEffect.style===je.cloudy){var A;r=4*this.borderEffect.intensity+.5*this.border.width;(A=new An).addPolygon(this._getLinePoints()),this._drawCloudStyle(n,h.backBrush,h.borderPen,r,.833,A._points,!1)}else n.drawPolygon(this._getLinePoints(),h.borderPen,h.backBrush);return void 0!==this.opacity&&this._opacity<1&&n.restore(),n.restore(),this._isBounds&&(d._content.dictionary._updated=!0,this._dictionary.update("LLE",this.lineExtension),this._dictionary.update("Vertices",this._points)),this._dictionary.update("Rect",[s.x,s.y,s.x+s.width,s.y+s.height]),d},t.prototype._getLinePoints=function(){var e,t=this._page.size,i=t[1],n=t[0];if(this._dictionary.has("Vertices")&&!this._isBounds){var o=void 0;this._page._pageDictionary.has("Rotate")&&(o=this._page._pageDictionary.get("Rotate")),this._page&&this._page.rotation&&(this._page.rotation===Ge.angle90?o=90:this._page.rotation===Ge.angle180?o=180:this._page.rotation===Ge.angle270&&(o=270));var r=this._dictionary.getArray("Vertices");if(r){var a=[];r.forEach((function(e){a.push(e)})),e=[];for(var s=0;s<a.length;s+=2)this.flatten?e.push([a[Number.parseInt(s.toString(),10)],i-a[s+1]]):e.push([a[Number.parseInt(s.toString(),10)],-a[s+1]]);if(o)if(270===o)for(var l=0;l<e.length;l++){var d=e[Number.parseInt(l.toString(),10)][0];e[Number.parseInt(l.toString(),10)][0]=e[Number.parseInt(l.toString(),10)][1],e[Number.parseInt(l.toString(),10)][1]=n-d}else if(90===o)for(l=0;l<e.length;l++){d=e[Number.parseInt(l.toString(),10)][0];0!==this._page._origin[1]?e[Number.parseInt(l.toString(),10)][0]=i-(e[Number.parseInt(l.toString(),10)][1]-i):e[Number.parseInt(l.toString(),10)][0]=i-e[Number.parseInt(l.toString(),10)][1],e[Number.parseInt(l.toString(),10)][1]=d}else if(180===o)for(l=0;l<e.length;l++){d=e[Number.parseInt(l.toString(),10)][0];e[Number.parseInt(l.toString(),10)][0]=n-d,e[Number.parseInt(l.toString(),10)][1]=i-e[Number.parseInt(l.toString(),10)][1]}}}else if(this._points){var h=[];this._points.forEach((function(e){h.push(e)})),e=[];for(s=0;s<this._points.length;s+=2)this.flatten?e.push([h[Number.parseInt(s.toString(),10)],i-h[s+1]]):e.push([h[Number.parseInt(s.toString(),10)],-h[s+1]])}return e},t}(Zn),oo=function(e){function t(t){var i=e.call(this)||this;return i._beginLine=Oe.none,i._endLine=Oe.none,i._dictionary=new Va,i._dictionary.update("Type",va.get("Annot")),i._dictionary.update("Subtype",va.get("PolyLine")),i._points=void 0!==t?t:[],i._type=ht.polyLineAnnotation,i}return Wn(t,e),Object.defineProperty(t.prototype,"beginLineStyle",{get:function(){if(this._dictionary.has("LE")){var e=this._dictionary.getArray("LE");e&&Array.isArray(e)&&(this._beginLine=Nr(e[0].name))}return this._beginLine},set:function(e){if(e!==this._beginLine&&(this._beginLine=e,this._dictionary)){var t=[];t.push(va.get(Pr(e))),t.push(va.get(Pr(this.endLineStyle))),this._dictionary.update("LE",t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLineStyle",{get:function(){if(this._dictionary.has("LE")){var e=this._dictionary.getArray("LE");e&&Array.isArray(e)&&(this._endLine=Nr(e[1].name))}return this._endLine},set:function(e){if(e!==this._endLine&&(this._endLine=e,this._dictionary)){var t=[];t.push(va.get(Pr(this.beginLineStyle))),t.push(va.get(Pr(e))),this._dictionary.update("LE",t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineExtension",{get:function(){if(void 0===this._lineExtension&&this._dictionary.has("LLE")){var e=this._dictionary.get("LLE");void 0!==e&&e>=0&&(this._lineExtension=e)}return this._lineExtension},set:function(e){if(!Number.isNaN(e)){if(!(e>=0))throw new Error("LineExtension should be non negative number");this._dictionary.update("LLE",e),this._lineExtension=e}},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if(void 0===this._points||null===this._points)throw new Error("Points cannot be null or undefined");var t;if(this._dictionary.has("LLE")||(this.lineExtension=0),this._dictionary.has("C")||(this.color=[0,0,0],this._isTransparentColor=!0),this._dictionary.has("BS"))t=this.border.width;else{var i=new Va(this._crossReference);i.set("Type",va.get("Border")),this._dictionary.set("BS",i)}void 0===t&&(t=1);var n=this._getLinePoints(),o=[];o.push(0);for(var r=1;r<n.length;r++)o.push(1);this._polylinePoints=n,this._pathTypes=o;var a=new An;a._points=n,a._pathTypes=o,this._dictionary.update("Vertices",this._points);var s=[];s.push(va.get(Pr(this.beginLineStyle))),s.push(va.get(Pr(this.endLineStyle))),this._dictionary.update("LE",s),this._dictionary.update("LLE",this._lineExtension);var l=this._getBoundsValue(this._points),d=[l.x,l.y,l.x+l.width,l.y+l.height];this._dictionary.update("Rect",d),(this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createPolyLineAppearance(e))},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._flatten=e,this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createPolyLineAppearance(e)),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else this._appearanceTemplate=this._createPolyLineAppearance(e);if(void 0!==this.flattenPopups&&this.flattenPopups&&this._isLoaded&&this._flattenLoadedPopUp(),e)if(this._appearanceTemplate){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var r=this._appearanceTemplate._content.dictionary.getArray("BBox");r&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-r[0],-r[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,o)}else this._page.annotations.remove(this);if(!e&&this._setAppearance){var a=void 0;if(this._dictionary.has("AP"))a=this._dictionary.get("AP");else{var s=this._crossReference._getNextReference();a=new Va(this._crossReference),this._crossReference._cacheMap.set(s,a),this._dictionary.update("AP",s)}na(a,this._crossReference,"N");n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),a.update("N",n)}},t.prototype._createPolyLineAppearance=function(e){var t=this.color?this.color:[0,0,0];if(void 0!==e&&e){var i=void 0;this.border.width>0&&(i=new Cn(t,this.border.width));var n=this._page.graphics;if(i){var o=void 0;void 0!==this.opacity&&this._opacity<1&&(o=n.save(),n.setTransparency(this._opacity));var r=this._getLinePoints(),a=[];if(a.push(0),r&&r.length>0){for(var s=1;s<r.length;s++)a.push(1);(c=new An)._points=r,c._pathTypes=a,n.drawPath(c,i),void 0!==this.opacity&&this._opacity<1&&n.restore(o)}}return n._template}var l=void 0,d={x:0,y:0,width:0,height:0};void 0===this._points&&this._dictionary.has("Vertices")?(this._points=this._dictionary.get("Vertices"),l=this._getBoundsValue(this._points)):l=this._getBoundsValue(this._points),d.x=l.x-this.border.width,d.y=l.y-this.border.width,d.width=l.width+2*this.border.width,d.height=l.height+2*this.border.width;var h=new Kn(this,[d.x,d.y,d.width,d.height]);h.normal=new Fn([d.x,d.y,d.width,d.height],this._crossReference);var A=h.normal;Wr(A,this._getRotationAngle()),A._writeTransformation=!1;n=h.normal.graphics;var p=new Vo;this.innerColor&&(p.backBrush=new Sn(this._innerColor)),this.border.width>0&&t&&(p.borderPen=new Cn(t,this.border.width)),t&&(p.foreBrush=new Sn(t)),void 0!==this.opacity&&this._opacity<1?(n.save(),n.setTransparency(this._opacity)):n.save();var c=new An;if(void 0!==this._polylinePoints&&null!==this._polylinePoints?c._points=this._polylinePoints:c._points=this._getLinePoints(),void 0!==this._pathTypes&&null!==this._polylinePoints)c._pathTypes=this._pathTypes;else{this._pathTypes=[],this._pathTypes.push(0);for(s=1;s<c._points.length;s++)this._pathTypes.push(1);c._pathTypes=this._pathTypes}if(n.drawPath(c,p.borderPen,p.backBrush),void 0!==this.opacity&&this._opacity<1&&n.restore(),n.restore(),this._isBounds){A._content.dictionary._updated=!0;var g=[];g.push(va.get(Pr(this.beginLineStyle))),g.push(va.get(Pr(this.endLineStyle))),this._dictionary.update("LE",g),this._dictionary.update("LLE",this.lineExtension),this._dictionary.update("Vertices",this._points)}return this._dictionary.update("Rect",[d.x,d.y,d.x+d.width,d.y+d.height]),A},t.prototype._getLinePoints=function(){var e,t=this._page.size[1];if(this._dictionary.has("Vertices")&&!this._isBounds&&(!this._setAppearance||this._setAppearance&&this.flatten)){var i=this._dictionary.getArray("Vertices");if(i){e=[];for(var n=0;n<i.length;n+=2)e.push([i[Number.parseInt(n.toString(),10)],t-i[n+1]])}}else if(this._points){this._points=this._getPoints(this._points);var o=[];this._points.forEach((function(e){o.push(e)})),e=[];for(n=0;n<o.length;n+=2)this.flatten?e.push([o[Number.parseInt(n.toString(),10)],t-o[n+1]]):e.push([o[Number.parseInt(n.toString(),10)],-o[n+1]])}return e},t}(Zn),ro=function(e){function t(t){var i=e.call(this)||this;if(i._linePoints=[],i._firstIntersectionPoint=[0,0],i._secondIntersectionPoint=[0,0],i._dictionary=new Va,i._dictionary.update("Type",va.get("Annot")),i._dictionary.update("Subtype",va.get("PolyLine")),void 0!==t&&t.length>0){if(t.length>6)throw new Error("Points length should not be greater than 3");i._pointArray=t;for(var n=0;n<t.length;n++)i._linePoints.push(t[Number.parseInt(n.toString(),10)][0]),i._linePoints.push(t[Number.parseInt(n.toString(),10)][1])}return i._type=ht.angleMeasurementAnnotation,i}return Wn(t,e),Object.defineProperty(t.prototype,"measure",{get:function(){return void 0===this._measure&&this._dictionary.has("Measure")&&(this._measure=this._dictionary.get("Measure")),this._measure},set:function(e){e&&!this._isLoaded&&(this._measure=e,this.caption.cap=!0)},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if(!this._pointArray)throw new Error("Points cannot be null or undefined");var e;if(this._dictionary.has("BS"))e=this.border.width;else{var t=new Va(this._crossReference);t.set("Type",va.get("Border")),this._dictionary.set("BS",t)}this._dictionary.has("C")||(this.color=[0,0,0],this._isTransparentColor=!0),void 0===e&&(e=1),this._appearanceTemplate=this._createAngleMeasureAppearance()},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if(!e&&this._setAppearance&&(this._appearanceTemplate=this._createAngleMeasureAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else if(this._postProcess(),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else this._appearanceTemplate=this._createAngleMeasureAppearance();if(e&&this._appearanceTemplate){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var r=this._appearanceTemplate._content.dictionary.getArray("BBox");r&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-r[0],-r[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,o)}},t.prototype._createAngleMeasureAppearance=function(){var e=this.border.width,t=this._obtainFont();(null==t||!this._isLoaded&&1===t.size)&&(t=this._circleCaptionFont,this._pdfFont=t);var i=new pi(We.center,hi.middle),n=this._calculateAngle()*(180/Math.PI);n<0&&(n=-n),n>180&&(n=360-n),this._dictionary.update("Vertices",this._linePoints);var o="font:"+t._metrics._postScriptName+" "+t._size+"pt; color:"+this._colorToHex(this.color);this._dictionary.update("DS",o),(this.text===" "+n.toFixed(2)+""||this.text)&&this._dictionary.update("Contents",this.text),void 0===this.subject&&this._dictionary.update("Subject","Angle Measurement"),this._dictionary.update("MeasurementTypes",1152),this._dictionary.update("Subtype",new va("PolyLine")),this._dictionary.update("IT",new va("PolyLineAngle"));var r=new Va,a=[],s=[],l=[],d=[],h=[];r.set("Type",va.get("measureDictionary")),r.set("R","1 in = 1 in"),r.set("Subtype","RL"),r.set("TargetUnitConversion",.1388889);var A=new Va;A.set("U","in"),A.set("Type","NumberFormat"),A.set("C",1),A.set("D",1),A.set("SS",""),a.push(A);var p=new Va;p.set("U",""),p.set("Type","NumberFormat"),p.set("C",1),p.set("D",1),p.set("FD",!0),p.set("SS",""),s.push(p);var c=new Va;c.set("U","sq in"),c.set("Type","NumberFormat"),c.set("C",1),c.set("D",1),c.set("FD",!0),c.set("SS",""),l.push(c);var g=new Va;g.set("U","cu in"),g.set("Type","NumberFormat"),g.set("C",1),g.set("D",1),g.set("FD",!0),g.set("SS",""),h.push(g);var u=new Va;u.set("U","in"),u.set("Type","NumberFormat"),u.set("C",1),u.set("D",1),u.set("SS",""),d.push(u),r.set("D",a),r.set("T",s),r.set("A",l),r.set("X",d),r.set("V",h),this._dictionary.has("Measure")&&na(this._dictionary,this._crossReference,"Measure");var f=this._crossReference._getNextReference();this._crossReference._cacheMap.set(f,r),r._updated=!0,this._dictionary.update("Measure",f);var m=[0,0,0,0],w=this._getAngleBoundsValue(),y=this._obtainLinePoints(),S=[];S.push(0);for(var C=1;C<y.length;C++)S.push(1);(new An).addRectangle(y[1][0]-this._radius,-(y[1][1]+this._radius),2*this._radius,2*this._radius);var B=t.measureString(n.toString()+"",[0,0],i,0,0),I=[(this._firstIntersectionPoint[0]+this._secondIntersectionPoint[0])/2,(this._firstIntersectionPoint[1]+this._secondIntersectionPoint[1])/2],b=[y[1][0],-y[1][1]],v=y[1][0]+this._radius*Math.cos((this._startAngle+this._sweepAngle/2)*(Math.PI/180)),E=y[1][1]+this._radius*Math.sin((this._startAngle+this._sweepAngle/2)*(Math.PI/180)),x=[I[0],I[1]],_=x[0]-b[0],D=x[1]-b[1],M=Math.atan2(D,_)*(180/Math.PI),V=!1,Q=!1,F=!1,T=!1;M>0?M<45?Q=!0:M>=45&&M<135?F=!0:V=!0:0===(M=-M)?(new An).addRectangle(w[0],w[1],w[2],w[3]):M<45?Q=!0:M>=45&&M<135?T=!0:V=!0,0===m[0]&&0===m[1]&&0===m[2]&&0===m[3]&&(m=w,this.bounds={x:w[0],y:w[1],width:w[2],height:w[3]});var k=new An;k._pathTypes=S,k._points=y,this._dictionary.set("Rect",[m[0],m[1],m[0]+m[2],m[1]+m[3]]);var P=new Kn(this,w);P.normal=new Fn(m,this._crossReference);var N=P.normal;N._writeTransformation=!1;var R=P.normal.graphics,L=e/2,O=new Cn(this._color,L);this.border.style===Ye.dashed&&(O._dashStyle=Ct.dash);var U=new Sn(this._color);R.save(),R.drawPath(k,O),k.addArc(y[1][0]-this._radius,y[1][1]-this._radius,2*this._radius,2*this._radius,this._startAngle,this._sweepAngle),F?R.drawString(n.toString()+"",t,[v-B[0]/2,-(-E+t._metrics._getHeight()+2),0,0],null,U):Q?R.drawString(n.toString()+"",t,[v+2,-(-E+t._metrics._getHeight()/2),0,0],null,U):V?R.drawString(n.toString()+"",t,[v-B[0]-2,-(-E+t._metrics._getHeight()/2),0,0],null,U):T&&R.drawString(n.toString()+"",t,[v-B[0]/2,E+2,0,0],null,U),R.restore(),R._template._content.dictionary._updated=!0;var z=this._crossReference._getNextReference();this._crossReference._cacheMap.set(z,R._template._content),R._template._content.reference=z,this._dictionary.has("AP")&&na(this._dictionary.get("AP"),this._crossReference,"N");var H=new Va;return H.set("N",z),H._updated=!0,this._dictionary.set("AP",H),N},t.prototype._getAngleBoundsValue=function(){for(var e=this._obtainLinePoints(),t=0;t<e.length;t++)e[Number.parseInt(t.toString(),10)][1]=-e[Number.parseInt(t.toString(),10)][1];var i=new An;return i._points=e,i._pathTypes=[0,1,1],i._getBounds()},t.prototype._obtainLinePoints=function(){var e,t;if(this._linePoints){e=new Array(this._linePoints.length);for(var i=0;i<this._linePoints.length;i++)e[Number.parseInt(i.toString(),10)]=this._linePoints[Number.parseInt(i.toString(),10)];t=new Array(e.length/2);for(var n=0,o=0;o<e.length;o+=2)t[Number.parseInt(n.toString(),10)]=[e[Number.parseInt(o.toString(),10)],-e[o+1]],n++}return t},t.prototype._calculateAngle=function(){var e=[0,0];void 0!==this._linePoints&&0===this._linePoints.length&&this._isLoaded&&this._dictionary.has("Vertices")&&(this._linePoints=this._dictionary.get("Vertices"));for(var t=0;t<this._linePoints.length;t++)e[Number.parseInt(t.toString(),10)]=this._linePoints[Number.parseInt(t.toString(),10)];for(var i=[],n=0;n<e.length;n+=2)i.push([e[Number.parseInt(n.toString(),10)],e[n+1]]);var o=i[0],r=i[1],a=i[2],s=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)),l=Math.sqrt(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2));this._radius=Math.min(s,l)/4;var d,h,A=new An;A._points=i,A._pathTypes=[0,1,1];var p=this._findLineCircleIntersectionPoints(r[0],r[1],this._radius,o,r,d,h);d=p.first,h=p.second,0===this._firstIntersectionPoint[0]&&0===this._firstIntersectionPoint[1]&&(this._firstIntersectionPoint=h),d=[0,0],h=[0,0],d=(p=this._findLineCircleIntersectionPoints(r[0],r[1],this._radius,a,r,d,h)).first,h=p.second,0===this._secondIntersectionPoint[0]&&0===this._secondIntersectionPoint[1]&&(this._secondIntersectionPoint=h);var c=this._firstIntersectionPoint[0]-r[0],g=this._firstIntersectionPoint[1]-r[1],u=Math.atan2(g,c)*(180/Math.PI);c=this._secondIntersectionPoint[0]-r[0],g=this._secondIntersectionPoint[1]-r[1];var f=Math.atan2(g,c)*(180/Math.PI);return f=f>0?f=360-f:-f,180===(u=u>0?u=360-u:-u)&&0===f?(this._startAngle=u,this._sweepAngle=180):0===u&&180===f?(this._startAngle=f,this._sweepAngle=180):u<180?u>f?(this._startAngle=f,this._sweepAngle=u-f):u+180<f?(this._startAngle=f,this._sweepAngle=360-f+u):(this._startAngle=u,this._sweepAngle=f-u):u<f?(this._startAngle=u,this._sweepAngle=f-u):u-180>f?(this._startAngle=u,this._sweepAngle=360-u+f):(this._startAngle=f,this._sweepAngle=u-f),Math.atan2(a[0]-r[0],a[1]-r[1])-Math.atan2(o[0]-r[0],o[1]-r[1])},t.prototype._findLineCircleIntersectionPoints=function(e,t,i,n,o,r,a){var s=o[0]-n[0],l=o[1]-n[1],d=s*s+l*l,h=2*(s*(n[0]-e)+l*(n[1]-t)),A=h*h-4*d*((n[0]-e)*(n[0]-e)+(n[1]-t)*(n[1]-t)-i*i);if(d<=1e-7||A<0)r=[Number.NaN,Number.NaN],a=[Number.NaN,Number.NaN];else if(0===A){var p=-h/(2*d);r=[n[0]+p*s,n[1]+p*l],a=[Number.NaN,Number.NaN]}else{p=(-h+Math.sqrt(A))/(2*d);r=[n[0]+p*s,n[1]+p*l],p=(-h-Math.sqrt(A))/(2*d),a=[n[0]+p*s,n[1]+p*l]}return{first:r,second:a}},t}(Zn),ao=function(e){function t(t,i){var n=e.call(this)||this;return n._inkPointsCollection=[],n._previousCollection=[],n._isModified=!1,n._isEnableControlPoints=!0,n._dictionary=new Va,n._dictionary.update("Type",va.get("Annot")),n._dictionary.update("Subtype",va.get("Ink")),void 0!==t&&(n._points=t,n.bounds={x:t[0],y:t[1],width:t[2],height:t[3]}),void 0!==i&&(n._linePoints=i),n._type=ht.inkAnnotation,n}return Wn(t,e),Object.defineProperty(t.prototype,"inkPointsCollection",{get:function(){if(0===this._inkPointsCollection.length&&this._dictionary.has("InkList")){var e=this._dictionary.get("InkList");Array.isArray(e)&&e.length>0&&(this._inkPointsCollection=e)}return this._inkPointsCollection},set:function(e){Array.isArray(e)&&e.length>0&&e!==this._inkPointsCollection&&(this._inkPointsCollection=e,this._isModified=!0,this._isLoaded&&this._dictionary.update("InkList",e))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if(void 0===this._points||null===this._points)throw new Error("Points cannot be null or undefined");var e;this._dictionary.has("BS")?e=this.border.width:((r=new Va(this._crossReference)).set("Type",va.get("Border")),this._dictionary.set("BS",r));this._dictionary.has("C")||(this.color=[0,0,0],this._isTransparentColor=!0),void 0===e&&(e=1);var t=this._addInkPoints(),i=[t[0],t[1],t[0]+t[2],t[1]+t[3]];if(this._dictionary.update("Rect",i),this._setAppearance){var n=new Kn(this,t);n.normal=new Fn(t,this._crossReference);var o=n.normal;Wr(o,this._getRotationAngle()),o._writeTransformation=!1,this._appearanceTemplate=this._createInkAppearance(o),this._dictionary.has("AP")&&na(this._dictionary.get("AP"),this._crossReference,"N");var r=new Va;this._appearanceTemplate._content.dictionary._updated=!0;var a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,this._appearanceTemplate._content),this._appearanceTemplate._content.reference=a,r.set("N",a),r._updated=!0,this._dictionary.set("AP",r)}},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isFlatten=e,this._isLoaded){if(this._setAppearance||e&&!this._dictionary.has("AP")){0===this._inkPointsCollection.length&&(this._inkPointsCollection=this._obtainInkListCollection());var t=this._getInkBoundsValue(),i=(s=new Fn(t,this._crossReference))._content.dictionary.getArray("BBox"),n=this._getRotationAngle();if(i&&null!=n&&s._content.dictionary.set("Matrix",[1,0,0,1,-i[0],-i[1]]),s._writeTransformation=!1,this._appearanceTemplate=this._createInkAppearance(s),this._dictionary.update("Rect",[t[0],t[1],t[0]+t[2],t[1]+t[3]]),!e){this._dictionary.has("AP")&&na(this._dictionary.get("AP"),this._crossReference,"N");var o=new Va;this._appearanceTemplate._content.dictionary._updated=!0;var r=this._crossReference._getNextReference();this._crossReference._cacheMap.set(r,this._appearanceTemplate._content),this._appearanceTemplate._content.reference=r,o.set("N",r),o._updated=!0,this._dictionary.set("AP",o)}}if(!this._appearanceTemplate&&e&&this._dictionary.has("AP"))if((o=this._dictionary.get("AP"))&&o.has("N")){var a=o.get("N");r=o.getRaw("N");a&&(r&&(a.reference=r),this._appearanceTemplate=new Fn(a,this._crossReference))}}else if(this._postProcess(),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((o=this._dictionary.get("AP"))&&o.has("N")){a=o.get("N"),r=o.getRaw("N");a&&(r&&(a.reference=r),this._appearanceTemplate=new Fn(a,this._crossReference))}}else{0===this._inkPointsCollection.length&&(this._inkPointsCollection=this._obtainInkListCollection());var s;t=this._getInkBoundsValue();Wr(s=new Fn(t,this._crossReference),this._getRotationAngle()),s._writeTransformation=!1,this._appearanceTemplate=this._createInkAppearance(s),this._dictionary.update("Rect",[t[0],t[1],t[0]+t[2],t[1]+t[3]])}if(void 0!==this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate&&null!==this._appearanceTemplate._size&&void 0!==this._appearanceTemplate._size){var l=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix"))(i=this._appearanceTemplate._content.dictionary.getArray("BBox"))&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-i[0],-i[1]]);this._flattenAnnotationTemplate(this._appearanceTemplate,l)}if(e&&!this.flattenPopups&&this._dictionary.has("Popup")){r=this._dictionary.getRaw("Popup");if(this._page._pageDictionary.has("Annots")){var d=this._page._pageDictionary.getRaw("Annots");if(d&&Array.isArray(d)&&d.length>0){var h=d.indexOf(r);h>=0&&this._page.annotations.removeAt(h)}}}},t.prototype._createInkAppearance=function(e){var t=e.graphics;if(null!==this._inkPointsCollection&&this._inkPointsCollection.length>0&&null!==this.color&&void 0!==this._color){for(var i=0;i<this._inkPointsCollection.length;i++)if(this._inkPointsCollection[Number.parseInt(i.toString(),10)].length%2==0){var n=this._inkPointsCollection[Number.parseInt(i.toString(),10)];if(2===n.length)n=[n[0]-.5,n[1]-.5,n[0]+.5,n[1]+.5];for(var o=new Array(n.length/2),r=0,a=0;a<n.length;a+=2)o[Number.parseInt(r.toString(),10)]=[n[Number.parseInt(a.toString(),10)],n[a+1]],r++;var s=r+2*r-2,l=new Array(s);if(this._isEnableControlPoints){var d=[],h=[],A=this._getControlPoints(o,d,h);d=A.controlP1,h=A.controlP2;for(var p=0,c=0;c<s-1;c+=3)l[Number.parseInt(c.toString(),10)]=o[Number.parseInt(p.toString(),10)],l[c+1]=d[Number.parseInt(p.toString(),10)],l[c+2]=h[Number.parseInt(p.toString(),10)],p++}else if(r%3==1)s=r,l=new Array(s),l=o;else if(r%3==0){s=r+1,l=new Array(s);for(c=0;c<o.length;c++)l[Number.parseInt(c.toString(),10)]=o[Number.parseInt(c.toString(),10)]}else{s=r+2,l=new Array(s);for(c=0;c<o.length;c++)l[Number.parseInt(c.toString(),10)]=o[Number.parseInt(c.toString(),10)];l[s-2]=o[o.length-2]}if(l[s-1]=o[o.length-1],null!==l){for(var g=l,u=0;u<g.length;u++){var f=g[Number.parseInt(u.toString(),10)];g[Number.parseInt(u.toString(),10)]=[f[0],-f[1]]}var m=new An,w=null;if(2===o.length){var y=o[1][0]-o[0][0],S=o[1][1]-o[0][1];m.addEllipse(o[0][0]+.5,-(o[0][1]+S+.5),y,S),(w=new An)._pathTypes=m._pathTypes,w._points=m._points}else m._addBezierPoints(g),(w=new An)._pathTypes=m._pathTypes,w._points=g;var C=new Cn(this.color,this.border.width);if(this._isLoaded&&(C._lineCap=Bt.round),void 0!==this.opacity&&this._opacity<1){var B=t.save();t.setTransparency(this._opacity),t.drawPath(w,C),t.restore(B)}else t.drawPath(w,C)}}this._isFlatten&&(this.bounds={x:this.bounds.x,y:this._page.size[1]-(this.bounds.y+this.bounds.height),width:this.bounds.width,height:this.bounds.height})}return e},t.prototype._getControlPoints=function(e,t,i){if(null===e)throw new Error("pointCollection");var n=e.length-1;if(n<1)throw new Error("At least two knot PointFs required pointCollection");1===n&&(i=[[2*(t=[[(2*e[0][0]+e[1][0])/3,(2*e[0][1]+e[1][1])/3]])[0][0]-e[0][0],2*t[0][1]-e[0][1]]]);for(var o=[],r=1;r<n-1;++r)o[Number.parseInt(r.toString(),10)]=4*e[Number.parseInt(r.toString(),10)][0]+2*e[r+1][0];o[0]=e[0][0]+2*e[1][0],o[n-1]=(8*e[n-1][0]+e[Number.parseInt(n.toString(),10)][0])/2;var a=this._getSingleControlPoint(o);for(r=1;r<n-1;++r)o[Number.parseInt(r.toString(),10)]=4*e[Number.parseInt(r.toString(),10)][1]+2*e[r+1][1];o[0]=e[0][1]+2*e[1][1],o[n-1]=(8*e[n-1][1]+e[Number.parseInt(n.toString(),10)][1])/2;var s=this._getSingleControlPoint(o);t=new Array(n),i=new Array(n);for(r=0;r<n;++r)if(t[Number.parseInt(r.toString(),10)]=[a[Number.parseInt(r.toString(),10)],s[Number.parseInt(r.toString(),10)]],r<n-1)i[Number.parseInt(r.toString(),10)]=[2*e[r+1][0]-a[r+1],2*e[r+1][1]-s[r+1]];else{var l=(e[Number.parseInt(n.toString(),10)][0]+a[n-1])/2,d=(e[Number.parseInt(n.toString(),10)][1]+s[n-1])/2;i[Number.parseInt(r.toString(),10)]=[l,d]}return{controlP1:t,controlP2:i}},t.prototype._getSingleControlPoint=function(e){var t=e.length,i=[],n=[],o=2;i[0]=e[0]/o;for(var r=1;r<t;r++)n[Number.parseInt(r.toString(),10)]=1/o,o=(r<t-1?4:3.5)-n[Number.parseInt(r.toString(),10)],i[Number.parseInt(r.toString(),10)]=(e[Number.parseInt(r.toString(),10)]-i[r-1])/o;for(r=1;r<t;r++)i[t-r-1]-=n[t-r]*i[t-r];return i},t.prototype._addInkPoints=function(){var e=this,t=[];null===this._linePoints||0!==this._previousCollection.length&&!this._isModified||this._inkPointsCollection.unshift(this._linePoints);var i=function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!gr(e[Number.parseInt(i.toString(),10)],t[Number.parseInt(i.toString(),10)]))return!1;return!0}(this._inkPointsCollection,this._previousCollection);if(null!==this._inkPointsCollection&&!i){for(var n=0;n<this._inkPointsCollection.length;n++){var o=this._inkPointsCollection[Number.parseInt(n.toString(),10)].slice();t.push(o)}this._dictionary.update("InkList",t)}this._inkPointsCollection.length>0&&(!i||this._isModified)&&this._inkPointsCollection.forEach((function(t){e._previousCollection.push(t),e._isModified=!1}));var r=this._getCropOrMediaBox(),a=!1;if(r&&r.length>3&&"number"==typeof r[0]&&"number"==typeof r[1]&&(0!==r[0]||0!==r[1])){a=!0;for(n=0;n<t.length;n++)for(var s=o=t[Number.parseInt(n.toString(),10)],l=0;l<o.length;l+=2){var d=o[Number.parseInt(l.toString(),10)],h=o[l+1];d+=r[0],this._page._pageDictionary.has("MediaBox")&&!this._page._pageDictionary.has("CropBox")&&0===r[3]&&r[1]>0?h+=r[3]:h+=r[1],s[Number.parseInt(l.toString(),10)]=d,s[l+1]=h,t[Number.parseInt(n.toString(),10)]=s}this._dictionary.update("InkList",t)}return this._isEnableControlPoints||a?this._getInkBoundsValue(t):(this._isFlatten||this._updateInkListCollection(t),[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height])},t.prototype._updateInkListCollection=function(e){for(var t=0;t<e.length;t++){for(var i=[],n=0;n<e[Number.parseInt(t.toString(),10)].length;n++)i.push(e[Number.parseInt(t.toString(),10)][Number.parseInt(n.toString(),10)]);this._inkPointsCollection[Number.parseInt(t.toString(),10)]=i}},t.prototype._getInkBoundsValue=function(e){var t=[0,0,0,0];this._points&&(this.bounds={x:this._points[0],y:this._points[1],width:this._points[2],height:this._points[3]}),t=[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height];var i=this.border.width;if(null!==this._inkPointsCollection&&this._inkPointsCollection.length>0){for(var n=[],o=0;o<this._inkPointsCollection.length;o++){var r=this._inkPointsCollection[Number.parseInt(o.toString(),10)];if(null!==r&&r.length%2==0)for(var a=0;a<r.length;a++)n.push(r[Number.parseInt(a.toString(),10)])}var s=!1;this._isLoaded||2!==n.length||(s=!0,n.push(n[0]+1),n.push(n[1]+1));var l=new Array(n.length/2),d=0;for(a=0;a<n.length;a+=2)l[Number.parseInt(d.toString(),10)]=[n[Number.parseInt(a.toString(),10)],n[a+1]],d++;if(this._isLoaded)if(l.length>0){var h=0,A=0,p=0,c=0,g=!0;for(o=0;o<l.length;o++){var u=l[Number.parseInt(o.toString(),10)];g?(h=u[0],A=u[1],g=!1):(u[0]<h?h=u[0]:u[0]>p&&(p=u[0]),u[1]<A?A=u[1]:u[1]>c&&(c=u[1]))}t=[h,A,p-h,c-A],this.bounds={x:t[0],y:t[1],width:t[2],height:t[3]},(this._isFlatten||this._setAppearance)&&(t[0]=this.bounds.x-i,t[1]=this.bounds.y-i,t[2]=this.bounds.width+2*i,t[3]=this.bounds.height+2*i)}else t=this._points?this._points:l.length>0?this._dictionary.get("Rect"):[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height];else t=e?this._calculateInkBounds(l,t,i,s,e):this._calculateInkBounds(l,t,i,s);this.bounds={x:t[0],y:t[1],width:t[2],height:t[3]}}return t},t.prototype._calculateInkBounds=function(e,t,i,n,o){if(e.length>5){for(var r=0,a=0,s=0,l=0,d=!0,h=0;h<e.length;h++){var A=e[Number.parseInt(h.toString(),10)];d?(r=A[0],a=A[1],s=A[0],l=A[1],d=!1):(A[0]<r?r=A[0]:A[0]>s&&(s=A[0]),A[1]<a?a=A[1]:A[1]>l&&(l=A[1]))}var p=this._getCropOrMediaBox();if(t[2]<s?s=t[2]:p&&(s-=r),t[3]<l?l=t[3]:p&&(l-=a),p&&(r+=p[0],a+=p[1]),t=[r,a,s,l],this._isFlatten||this._setAppearance){var c=n?2:3;t[0]=t[0]-i,t[1]=t[1]-i,t[2]=t[2]+c*i,t[3]=t[3]+c*i}}else t=void 0===this._points&&e.length>0?this._dictionary.get("Rect"):this._points;return!this._isFlatten&&o&&this._updateInkListCollection(o),t},t.prototype._obtainInkListCollection=function(){var e=[];if(this._dictionary.has("InkList"))for(var t=this._dictionary.getArray("InkList"),i=[],n=0;n<t.length;n++){for(var o=t[Number.parseInt(n.toString(),10)],r=0;r<o.length;r++)i.push(o[Number.parseInt(r.toString(),10)]);e.push(i),i.length===o.length&&(i=[])}return e},t}(Zn),so=function(e){function t(t,i,n,o,r){var a=e.call(this)||this;return a._icon=it.note,a._iconString="",a._stateModel=ot.none,a._state=nt.none,a._open=!1,a._isReview=!1,a._isComment=!1,a._comment="q 1 1 1 rg 0 i 1 w 4 M 1 j 0 J []0 d 1 0 0 1 9 5.0908 cm 7.74 12.616 m -7.74 12.616 l -8.274 12.616 -8.707 12.184 -8.707 11.649 c h f Q 0 G ",a._commentSecondHalf="0 i 0.60 w 4 M 1 j 0 J [0 100]1 d  1 0 0 1 9 5.0908 cm 4.1 1.71 m -0.54 -2.29 l  -0.54 1.71 l  -5.5 1.71 l  -5.5 14.42 l  10.5 14.42 l  10.5 1.71 l  4.1 1.71 l -2.33 9.66 m 7.34 9.66 l 7.34 8.83 l -2.33 8.83 l -2.33 9.66 l -2.33 7.28 m 5.88 7.28 l 5.88 6.46 l -2.33 6.46 l -2.33 7.28 l 14.9 23.1235 m -14.9 23.1235 l -14.9 -20.345 l 14.9 -20.345 l 14.9 23.1235 l b ",a._note="0 G 0 i 0.61 w 4 M 0 j 0 J []0 d  q 1 0 0 1 16.959 1.3672 cm 0 0 m 0 -0.434 -0.352 -0.785 -0.784 -0.785 c -14.911 -0.785 l -15.345 -0.785 -15.696 -0.434 -15.696 0 c -15.696 17.266 l -15.696 17.699 -15.345 18.051 -14.911 18.051 c -0.784 18.051 l -0.352 18.051 0 17.699 0 17.266 c h b Q q 1 0 0 1 4.4023 13.9243 cm 0 0 m 9.418 0 l S Q q 1 0 0 1 4.4019 11.2207 cm 0 0 m 9.418 0 l S Q q 1 0 0 1 4.4023 8.5176 cm 0 0 m 9.418 0 l S Q q 1 0 0 1 4.4023 5.8135 cm 0 0 m 9.418 0 l S Q ",a._help="q 1 1 1 rg 0 i 1 w 4 M 1 j 0 J []0 d 1 0 0 1 12.1465 10.5137 cm -2.146 9.403 m -7.589 9.403 -12.001 4.99 -12.001 -0.453 c -12.001 -5.895 -7.589 -10.309 -2.146 -10.309 c 3.296 -10.309 7.709 -5.895 7.709 -0.453 c 7.709 4.99 3.296 9.403 -2.146 9.403 c h f Q ",a._helpSecondHalf=" 0 G 0 i 0.59 w 4 M 1 j 0 J []0 d  1 0 0 1 12.1465 10.5137 cm 0 0 m -0.682 -0.756 -0.958 -1.472 -0.938 -2.302 c -0.938 -2.632 l -3.385 -2.632 l -3.403 -2.154 l -3.459 -1.216 -3.147 -0.259 -2.316 0.716 c -1.729 1.433 -1.251 2.022 -1.251 2.647 c -1.251 3.291 -1.674 3.715 -2.594 3.751 c -3.202 3.751 -3.937 3.531 -4.417 3.2 c -5.041 5.205 l -4.361 5.591 -3.274 5.959 -1.968 5.959 c 0.46 5.959 1.563 4.616 1.563 3.089 c 1.563 1.691 0.699 0.771 0 0 c -2.227 -6.863 m -2.245 -6.863 l -3.202 -6.863 -3.864 -6.146 -3.864 -5.189 c -3.864 -4.196 -3.182 -3.516 -2.227 -3.516 c -1.233 -3.516 -0.589 -4.196 -0.57 -5.189 c -0.57 -6.146 -1.233 -6.863 -2.227 -6.863 c -2.146 9.403 m -7.589 9.403 -12.001 4.99 -12.001 -0.453 c -12.001 -5.895 -7.589 -10.309 -2.146 -10.309 c 3.296 -10.309 7.709 -5.895 7.709 -0.453 c 7.709 4.99 3.296 9.403 -2.146 9.403 c b ",a._insert=" 0 i 0.59 w 4 M 0 j 0 J []0 d  1 0 0 1 8.5386 19.8545 cm 0 0 m -8.39 -19.719 l 8.388 -19.719 l h B ",a._key="q 1 1 1 rg 0 i 1 w 4 M 1 j 0 J []0 d 1 0 0 1 6.5 12.6729 cm 0.001 5.138 m -2.543 5.138 -4.604 3.077 -4.604 0.534 c -4.604 -1.368 -3.449 -3.001 -1.802 -3.702 c -1.802 -4.712 l -0.795 -5.719 l -1.896 -6.82 l -0.677 -8.039 l -1.595 -8.958 l -0.602 -9.949 l -1.479 -10.829 l -0.085 -12.483 l 1.728 -10.931 l 1.728 -3.732 l 1.737 -3.728 1.75 -3.724 1.76 -3.721 c 3.429 -3.03 4.604 -1.385 4.604 0.534 c 4.604 3.077 2.542 5.138 0.001 5.138 c f Q ",a._keySecondHalf=" 0 G 0 i 0.59 w 4 M 1 j 0 J []0 d  q 1 0 0 1 6.4995 20 cm 0 0 m -6.205 -12.713 l 6.205 -12.713 l h b Q q 1 0 0 1 1.1909 6.2949 cm 0 0 m 1.278 0 l 1.353 0 1.362 -0.02 1.391 -0.066 c 2.128 -1.363 3.78 -4.275 3.966 -4.713 c 3.985 -4.713 l 3.976 -4.453 3.957 -3.91 3.957 -3.137 c 3.957 -0.076 l 3.957 -0.02 3.976 0 4.041 0 c 4.956 0 l 5.021 0 5.04 -0.029 5.04 -0.084 c 5.04 -6.049 l 5.04 -6.113 5.021 -6.133 4.947 -6.133 c 3.695 -6.133 l 3.621 -6.133 3.611 -6.113 3.574 -6.066 c 3.052 -4.955 1.353 -2.063 0.971 -1.186 c 0.961 -1.186 l 0.999 -1.68 0.999 -2.146 1.008 -3.025 c 1.008 -6.049 l 1.008 -6.104 0.989 -6.133 0.933 -6.133 c 0.009 -6.133 l -0.046 -6.133 -0.075 -6.123 -0.075 -6.049 c -0.075 -0.066 l -0.075 -0.02 -0.056 0 0 0 c f Q q 1 0 0 1 9.1367 3.0273 cm 0 0 m 0.075 0 0.215 -0.008 0.645 -0.008 c 1.4 -0.008 2.119 0.281 2.119 1.213 c 2.119 1.969 1.633 2.381 0.737 2.381 c 0.354 2.381 0.075 2.371 0 2.361 c h -1.146 3.201 m -1.146 3.238 -1.129 3.268 -1.082 3.268 c -0.709 3.275 0.02 3.285 0.729 3.285 c 2.613 3.285 3.248 2.314 3.258 1.232 c 3.258 -0.27 2.007 -0.914 0.607 -0.914 c 0.327 -0.914 0.057 -0.914 0 -0.904 c 0 -2.789 l 0 -2.836 -0.019 -2.865 -0.074 -2.865 c -1.082 -2.865 l -1.119 -2.865 -1.146 -2.846 -1.146 -2.799 c h f Q ",a._newParagraph="1 0.819611 0 rg 0 G 0 i 0.58 w 4 M 0 j 0 J []0 d ",a._newParagraphSecondHalf=" 0 G 0 i 0.59 w 4 M 1 j 0 J []0 d  q 1 0 0 1 6.4995 20 cm 0 0 m -6.205 -12.713 l 6.205 -12.713 l h b Q q 1 0 0 1 1.1909 6.2949 cm 0 0 m 1.278 0 l 1.353 0 1.362 -0.02 1.391 -0.066 c 2.128 -1.363 3.78 -4.275 3.966 -4.713 c 3.985 -4.713 l 3.976 -4.453 3.957 -3.91 3.957 -3.137 c 3.957 -0.076 l 3.957 -0.02 3.976 0 4.041 0 c 4.956 0 l 5.021 0 5.04 -0.029 5.04 -0.084 c 5.04 -6.049 l 5.04 -6.113 5.021 -6.133 4.947 -6.133 c 3.695 -6.133 l 3.621 -6.133 3.611 -6.113 3.574 -6.066 c 3.052 -4.955 1.353 -2.063 0.971 -1.186 c 0.961 -1.186 l 0.999 -1.68 0.999 -2.146 1.008 -3.025 c 1.008 -6.049 l 1.008 -6.104 0.989 -6.133 0.933 -6.133 c 0.009 -6.133 l -0.046 -6.133 -0.075 -6.123 -0.075 -6.049 c -0.075 -0.066 l -0.075 -0.02 -0.056 0 0 0 c f Q q 1 0 0 1 9.1367 3.0273 cm 0 0 m 0.075 0 0.215 -0.008 0.645 -0.008 c 1.4 -0.008 2.119 0.281 2.119 1.213 c 2.119 1.969 1.633 2.381 0.737 2.381 c 0.354 2.381 0.075 2.371 0 2.361 c h -1.146 3.201 m -1.146 3.238 -1.129 3.268 -1.082 3.268 c -0.709 3.275 0.02 3.285 0.729 3.285 c 2.613 3.285 3.248 2.314 3.258 1.232 c 3.258 -0.27 2.007 -0.914 0.607 -0.914 c 0.327 -0.914 0.057 -0.914 0 -0.904 c 0 -2.789 l 0 -2.836 -0.019 -2.865 -0.074 -2.865 c -1.082 -2.865 l -1.119 -2.865 -1.146 -2.846 -1.146 -2.799 c h f Q ",a._paragraph="q 1 1 1 rg 0 i 1 w 4 M 1 j 0 J []0 d 1 0 0 1 19.6973 10.0005 cm 0 0 m 0 -5.336 -4.326 -9.662 -9.663 -9.662 c -14.998 -9.662 -19.324 -5.336 -19.324 0 c -19.324 5.335 -14.998 9.662 -9.663 9.662 c -4.326 9.662 0 5.335 0 0 c h f Q ",a._paragraphSecondHalf="0 G 0 i 0.59 w 4 M 1 j 0 J []0 d  q 1 0 0 1 19.6973 10.0005 cm 0 0 m 0 -5.336 -4.326 -9.662 -9.663 -9.662 c -14.998 -9.662 -19.324 -5.336 -19.324 0 c -19.324 5.335 -14.998 9.662 -9.663 9.662 c -4.326 9.662 0 5.335 0 0 c h S Q q 1 0 0 1 11.6787 2.6582 cm 0 0 m -1.141 0 l -1.227 0 -1.244 0.052 -1.227 0.139 c -0.656 1.157 -0.52 2.505 -0.52 3.317 c -0.52 3.594 l -2.833 3.783 -5.441 4.838 -5.441 8.309 c -5.441 10.778 -3.714 12.626 -0.57 13.024 c -0.535 13.508 -0.381 14.129 -0.242 14.389 c -0.207 14.44 -0.174 14.475 -0.104 14.475 c 1.088 14.475 l 1.156 14.475 1.191 14.458 1.175 14.372 c 1.105 14.095 0.881 13.127 0.881 12.402 c 0.881 9.431 0.932 7.324 0.95 4.06 c 0.95 2.298 0.708 0.813 0.189 0.07 c 0.155 0.034 0.103 0 0 0 c b Q ",a._dictionary=new Va,a._dictionary.update("Type",va.get("Annot")),a._dictionary.update("Subtype",va.get("Text")),void 0!==t&&(a.text=t),void 0!==i&&void 0!==n&&void 0!==o&&void 0!==r&&(a.bounds={x:i,y:n,width:o,height:r}),a._type=ht.popupAnnotation,a}return Wn(t,e),Object.defineProperty(t.prototype,"open",{get:function(){return this._dictionary.has("Open")&&(this._open=this._dictionary.get("Open")),this._open},set:function(e){void 0!==e&&(this._open=e,this._dictionary.update("Open",this._open))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._dictionary.has("Name")&&(this._icon=function(e){var t;switch(e){case"Note":default:t=it.note;break;case"Comment":t=it.comment;break;case"Help":t=it.help;break;case"Insert":t=it.insert;break;case"Key":t=it.key;break;case"NewParagraph":t=it.newParagraph;break;case"Paragraph":t=it.paragraph}return t}(this._dictionary.get("Name").name)),this._icon},set:function(e){void 0!==e&&(this._icon=e,this._dictionary.update("Name",va.get(this._obtainIconName(this._icon))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateModel",{get:function(){return this._dictionary.has("StateModel")&&(this._stateModel=function(e){var t=ot.none;switch(e){case"None":t=ot.none;break;case"Marked":t=ot.marked;break;case"Review":t=ot.review}return t}(this._dictionary.get("StateModel"))),this._stateModel},set:function(e){void 0!==e&&(this._stateModel=e,this._dictionary.update("StateModel",function(e){var t="None";switch(e){case ot.none:t="None";break;case ot.marked:t="Marked";break;case ot.review:t="Review";break;default:t="None"}return t}(this._stateModel)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._dictionary.has("State")&&(this._state=function(e){var t=nt.none;switch(e){case"None":t=nt.none;break;case"Accepted":t=nt.accepted;break;case"Rejected":t=nt.rejected;break;case"Cancelled":t=nt.cancel;break;case"Completed":t=nt.completed;break;case"Marked":t=nt.marked;break;case"Unmarked":t=nt.unmarked;break;case"Unknown":t=nt.unknown}return t}(this._dictionary.get("State"))),this._state},set:function(e){void 0!==e&&(this._state=e,this._dictionary.update("State",function(e){var t="None";switch(e){case nt.none:t="None";break;case nt.accepted:t="Accepted";break;case nt.rejected:t="Rejected";break;case nt.cancel:t="Cancelled";break;case nt.completed:t="Completed";break;case nt.marked:t="Marked";break;case nt.unmarked:t="Unmarked";break;case nt.unknown:t="Unknown";break;default:t="None"}return t}(this._state)))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),i.has("IRT")&&(n._isReview=ta(i),n._isReview||(n._isComment=function(e){var t=e.get("F");return!(e.has("State")||e.has("StateModel")||28!==t&&128!==t)}(i))),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){var e;(void 0!==this.bounds&&null!==this.bounds||(this._bounds={x:0,y:0,width:0,height:0}),this._dictionary.has("BS"))?e=this.border.width:((i=new Va(this._crossReference)).set("Type",va.get("Border")),this._dictionary.set("BS",i));void 0===e&&(e=1);var t=[this.bounds.x,this.bounds.y,this.bounds.x+this.bounds.width,this.bounds.y+this.bounds.height];if(this._dictionary.update("Rect",t),this._setAppearance&&(this._appearanceTemplate=this._createPopupAppearance(),this._appearanceTemplate)){this._dictionary.has("AP")&&na(this._dictionary.get("AP"),this._crossReference,"N");var i=new Va;this._appearanceTemplate._content.dictionary._updated=!0;var n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,this._appearanceTemplate._content),this._appearanceTemplate._content.reference=n,i.set("N",n),i._updated=!0,this._dictionary.set("AP",i)}this._dictionary.update("Rect",ga(this))},t.prototype._doPostProcess=function(e){var t;if(void 0===e&&(e=!1),this._isLoaded){if(!this._appearanceTemplate&&this._isFlattenPopups&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")){var i=t.get("N"),n=t.getRaw("N");if(i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference)),null!==this._appearanceTemplate){var o=this._page.graphics.save();this.opacity<1&&this._page.graphics.setTransparency(this.opacity),this._page.graphics.drawTemplate(this._appearanceTemplate,this.bounds),this._page.graphics.restore(o)}}}else if(this._postProcess(),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N")){i=t.get("N"),n=t.getRaw("N");i&&(n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))}}else this._appearanceTemplate=this._createPopupAppearance();if(void 0!==this.flattenPopups&&this.flattenPopups&&this.flatten&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);this._flattenAnnotationTemplate(this._appearanceTemplate,r)}e&&this._removeAnnotation(this._page,this)},t.prototype._createPopupAppearance=function(){var e=[0,0,this.bounds.width,this.bounds.height],t=new Fn(e,this._crossReference),i=t.graphics;switch(i._sw._clear(),this.opacity<1&&(i.save(),i.setTransparency(this.opacity)),this.icon){case it.comment:i._sw._write(this._comment),i._sw._setColorSpace(this.color,kt.rgb,!1),i._sw._write(this._commentSecondHalf);break;case it.paragraph:i._sw._write(this._paragraph),i._sw._setColorSpace(this.color,kt.rgb,!1),i._sw._write(this._paragraphSecondHalf);break;case it.help:i._sw._write(this._help),i._sw._setColorSpace(this.color,kt.rgb,!1),i._sw._write(this._helpSecondHalf);break;case it.note:i._sw._setColorSpace(this.color,kt.rgb,!1),i._sw._write(this._note);break;case it.insert:i._sw._write("0 G "),i._sw._setColorSpace(this.color,kt.rgb,!1),i._sw._write(this._insert);break;case it.key:i._sw._write(this._key),i._sw._setColorSpace(this.color,kt.rgb,!1),i._sw._write(this._keySecondHalf);break;case it.newParagraph:i._sw._write(this._newParagraph),i._sw._setColorSpace(this.color,kt.rgb,!1),i._sw._write(this._newParagraphSecondHalf)}return this.opacity<1&&i.restore(),t},t.prototype._obtainIconName=function(e){switch(e){case it.note:this._iconString="Note";break;case it.comment:this._iconString="Comment";break;case it.help:this._iconString="Help";break;case it.insert:this._iconString="Insert";break;case it.key:this._iconString="Key";break;case it.newParagraph:this._iconString="NewParagraph";break;case it.paragraph:this._iconString="Paragraph"}return this._iconString},t}(Zn),lo=function(e){function t(t,i,n,o,r){var a=e.call(this)||this;return a._dictionary=new Va,a._dictionary.update("Type",va.get("Annot")),a._dictionary.update("Subtype",va.get("Link")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(a.bounds={x:t,y:i,width:n,height:o}),null!=r&&(a._fileName=r),a._type=ht.fileLinkAnnotation,a}return Wn(t,e),Object.defineProperty(t.prototype,"action",{get:function(){if(void 0===this._action&&this._dictionary.has("A")){var e=this._dictionary.get("A");if(e&&e.has("Next")){var t=e.get("Next");if(Array.isArray(t))for(var i=0;i<t.length;i++){var n=t[Number.parseInt(i.toString(),10)];if(n&&n instanceof xa){var o=this._crossReference._fetch(n);o.has("JS")&&(this._action=o.get("JS"))}}}}return this._action},set:function(e){if(this._isLoaded||"string"!=typeof e||(this._action=e),this._isLoaded&&"string"==typeof e&&this.action!==e&&this._dictionary.has("A")){var t=this._dictionary.get("A");if(t&&t.has("Next")){var i=t.get("Next");if(Array.isArray(i))for(var n=0;n<i.length;n++){var o=i[Number.parseInt(n.toString(),10)];if(o&&o instanceof xa){var r=this._crossReference._fetch(o);r.has("JS")&&(r.update("JS",e),this._action=e,this._dictionary._updated=!0)}}}}},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var e;if(this._dictionary.has("BS"))e=this.border.width;else{var t=new Va(this._crossReference);t.set("Type",va.get("Border")),this._dictionary.set("BS",t)}void 0===e&&(e=1),this._addAction(),this._dictionary.update("Rect",ga(this))},t.prototype._addAction=function(){var e=this;if(this._dictionary.has("A")){var t=this._dictionary.get("A");if(t){if(void 0!==this._action&&null!==this._action&&t.has("Next")){var i=t.get("Next");Array.isArray(i)&&i.length>0&&i.forEach((function(t){t&&t instanceof xa&&t._isNew&&e._crossReference._cacheMap.delete(t)}))}t.has("F")&&na(t,this._crossReference,"F")}na(this._dictionary,this._crossReference,"A")}var n=new Va;n.set("Type",va.get("Action")),n.set("S",va.get("Launch"));var o=new Va;if(o.set("Type",va.get("Filespec")),o.set("UF",this._fileName),void 0!==this._action&&null!==this._action){var r=new Va;r.set("Type",va.get("Action")),r.set("S",va.get("JavaScript")),r.set("JS",this._action);var a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,r),r._updated=!0,n.set("Next",[a])}var s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,o),o._updated=!0,n.set("F",s),n._updated=!0,this._dictionary.set("A",n)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded||this._postProcess(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var o=new Fn(t,this._crossReference),r=this._validateTemplateMatrix(o._content.dictionary);this._flattenAnnotationTemplate(o,r)}else this._removeAnnotation(this._page,this)}},t}(Xn),ho=function(e){function t(t,i,n,o,r){var a=e.call(this)||this;return a._dictionary=new Va,a._dictionary.update("Type",va.get("Annot")),a._dictionary.update("Subtype",va.get("Link")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(a.bounds={x:t,y:i,width:n,height:o}),null!=r&&(a._uri=r),a._type=ht.uriAnnotation,a}return Wn(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){if(void 0===this._uri&&this._dictionary.has("A")){var e=this._dictionary.get("A");e.has("URI")&&(this._uri=e.get("URI"))}return this._uri},set:function(e){if("string"==typeof e)if(this._isLoaded&&this._dictionary.has("A")&&e!==this.uri){var t=this._dictionary.get("A");t.has("URI")&&(this._uri=e,t.update("URI",e),this._dictionary._updated=!0)}else this._uri=e},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var e;if(this._dictionary.has("BS"))e=this.border.width;else{var t=new Va(this._crossReference);t.set("Type",va.get("Border")),this._dictionary.set("BS",t)}void 0===e&&(e=1),this._addAction(),this._dictionary.update("Rect",ga(this))},t.prototype._addAction=function(){var e=new Va;e.set("Type",va.get("Action")),e.set("S",va.get("URI")),void 0!==this._uri&&e.set("URI",this._uri),e._updated=!0,this._dictionary.set("A",e),this._dictionary.update("Border",[this.border.hRadius,this.border.vRadius,this.border.width])},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded||this._postProcess(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var o=new Fn(t,this._crossReference),r=this._validateTemplateMatrix(o._content.dictionary);this._flattenAnnotationTemplate(o,r)}else this._removeAnnotation(this._page,this)}},t}(Xn),Ao=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._dictionary=new Va,r._dictionary.update("Type",va.get("Annot")),r._dictionary.update("Subtype",va.get("Link")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(r.bounds={x:t,y:i,width:n,height:o}),r._type=ht.documentLinkAnnotation,r}return Wn(t,e),Object.defineProperty(t.prototype,"destination",{get:function(){return this._isLoaded&&!this._destination&&(this.destination=this._obtainDestination()),this._destination},set:function(e){e&&(this._destination=e,this._isLoaded&&this._destination._initializePrimitive())},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");this._addDocument(),this._dictionary.update("Rect",ga(this))},t.prototype._obtainDestination=function(){if(this._dictionary.has("Dest")){var e=this._dictionary.get("Dest"),t=void 0;if("string"==typeof e&&(e=this._getDestination(e)),e&&e[0]instanceof xa&&(t=e[0]),null==t&&e&&"number"==typeof e[0]){var i=e[0];if(g=this._crossReference._document.getPage(i))if("XYZ"===(d=e[1]).name){var n=e[2],o=e[3],r=e[4],a=null!=o?g.size[1]-o:0,s=null!=n?n:0;this._destination=new Uo(g,[s,a]),null!=r&&(this._destination.zoom=r),(void 0===n&&null===n||void 0===o&&null===o||void 0===r&&null===r)&&this._destination._setValidation(!1)}else this._destination=new Uo(g),this._destination.mode=st.fitToPage}if(t)if((f=dr(this._crossReference._document,this._crossReference._fetch(t)))>=0){if((g=this._crossReference._document.getPage(f))&&e[1]instanceof va)if(d=e[1])if("XYZ"===d.name){n=e[2];var l=e[3];r=e[4],a=null!=l?g.size[1]-l:0,s=null!=n?n:0;this._destination=new Uo(g,[s,a]),null!=r&&(this._destination.zoom=r),(void 0===n&&null===n||void 0===l&&null===l||void 0===r&&null===r)&&this._destination._setValidation(!1)}else"Fit"===d.name&&(this._destination=new Uo(g),this._destination.mode=st.fitToPage)}else{this._destination=new Uo;r=e[4];var d=e[1];if(null!=r&&(this._destination.zoom=r),"Fit"===d.name)this._destination.mode=st.fitToPage;else if("XYZ"===d.name){n=e[2],a=e[3];(void 0===n&&null===n||void 0===a&&null===a||void 0===r&&null===r)&&this._destination._setValidation(!1)}this._destination._index=f}}else if(this._dictionary.has("A")&&!this._destination){var h=this._dictionary.get("A");if(h.has("D")){var A=h.get("D");if(null!=A){var p=void 0;if(Array.isArray(A))p=A;else if(A&&A instanceof xa){var c=this._crossReference._fetch(A);Array.isArray(c)&&(p=c)}else"string"==typeof A&&(p=this._getDestination(A));if(p&&(p[0]instanceof xa||"number"==typeof p[0])){var g,u=this._crossReference._document,f=void 0;if(f=p[0]instanceof xa?dr(u,this._crossReference._fetch(p[0])):p[0],g=u.getPage(f))if("FitBH"===(d=p[1]).name||"FitH"===d.name){var m=p[2];a=null!=m?g.size[1]-m:0;this._destination=new Uo(g,[0,a]),null==m&&this._destination._setValidation(!1)}else if("XYZ"===d.name){n=p[2];var w=p[3];r=p[4],a=null!=w?g.size[1]-w:0,s=null!=n?n:0;this._destination=new Uo(g,[s,a]),null!=r&&(this._destination.zoom=r),null==n&&null==w&&null==r||this._destination._setValidation(!1)}else if("FitR"===d.name){if(6===p.length){n=p[2];var y=p[3],S=p[4],C=p[5];this._destination=new Uo(g,[n,y,S,C])}}else"Fit"===d.name&&(this._destination=new Uo(g),this._destination.mode=st.fitToPage)}}}}return this._destination},t.prototype._getDestination=function(e){var t,i=this._crossReference._document;return i&&(t=this._getNamedDestination(i,e)),t},t.prototype._getNamedDestination=function(e,t){var i,n=e._catalog;if(n&&n._catalogDictionary&&n._catalogDictionary.has("Names")){var o=n._catalogDictionary.get("Names");if(o&&o.has("Dests")){var r=o.get("Dests");if(r){var a=this._getNamedObjectFromTree(r,t);i=this._extractDestination(a,e)}}}return i},t.prototype._extractDestination=function(e,t){var i,n;return e&&e instanceof xa&&(i=t._crossReference._fetch(e)),i&&i.has("D")&&(n=i.getRaw("D")),n||e},t.prototype._getNamedObjectFromTree=function(e,t){for(var i,n=!1,o=e;!n&&o;)o&&o.has("Kids")?o=this._getProperKid(o,t):o&&o.has("Names")&&(i=this._findName(o,t),n=!0);return i},t.prototype._findName=function(e,t){for(var i,n=e.get("Names"),o=0,r=n.length/2-1,a=0,s=!1;!(s||(a=Math.floor((o+r)/2),o>r));){var l=n[2*Number.parseInt(a.toString(),10)];l&&l instanceof xa&&(l=e._crossReference._fetch(l));var d=this._stringCompare(t,l);if(d>0)o=a+1;else{if(!(d<0)){s=!0;break}r=a-1}}return s&&(i=n[2*a+1]),i},t.prototype._getProperKid=function(e,t){var i,n;if(e&&e.has("Kids")&&(i=e.getRaw("Kids")),i&&Array.isArray(i)&&0!==i.length){i=e.getArray("Kids");for(var o=0;o<i.length&&(n=i[Number.parseInt(o.toString(),10)],!this._checkLimits(n,t));o++);}return n},t.prototype._checkLimits=function(e,t){var i=!1;if(e&&e.has("Limits")){var n=e.get("Limits"),o=n[0],r=n[1],a=this._stringCompare(o,t),s=this._stringCompare(r,t);(0===a||0===s||a<0&&s>0)&&(i=!0)}return i},t.prototype._stringCompare=function(e,t){for(var i=cr(e),n=cr(t),o=Math.min(i.length,n.length),r=0,a=0;a<o;a++){if(0!==(r=i[Number.parseInt(a.toString(),10)]-n[Number.parseInt(a.toString(),10)]))break}return 0===r&&(r=i.length-n.length),r},t.prototype._addDocument=function(){this.destination&&this._dictionary.set("Dest",this.destination._array)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded?this._destination&&this._dictionary.update("Dest",this._destination._array):this._postProcess(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var o=new Fn(t,this._crossReference),r=this._validateTemplateMatrix(o._content.dictionary);this._flattenAnnotationTemplate(o,r)}else this._removeAnnotation(this._page,this)}},t}(Xn),po=function(e){function t(t,i,n,o,r,a,s,l){var d=e.call(this)||this;return d._isActionAdded=!1,d._dictionary=new Va,d._dictionary.update("Type",va.get("Annot")),d._dictionary.update("Subtype",va.get("Link")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(d.bounds={x:t,y:i,width:n,height:o}),d._textWebLink=null!=l?l:"",null!=r&&(d._brush=new Sn(r)),null!=a&&(d._pen=new Cn(a,s||1)),d._type=ht.textWebLinkAnnotation,d}return Wn(t,e),Object.defineProperty(t.prototype,"font",{get:function(){return this._font},set:function(e){this._font=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){if(void 0===this._url&&this._dictionary.has("A")){var e=this._dictionary.get("A");e.has("URI")&&(this._url=e.get("URI"))}return this._url},set:function(e){if("string"==typeof e)if(this._isLoaded&&this._dictionary.has("A")){var t=this._dictionary._get("A"),i=this._dictionary.get("A");i&&i.has("URI")&&(this._url=e,i.update("URI",e),t instanceof xa||(this._dictionary._updated=i._updated))}else this._url=e},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");this._isActionAdded||(this._addAction(),this._isActionAdded=!0),this._dictionary.update("Rect",ga(this))},t.prototype._addAction=function(){var e=[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height];void 0!==this.font&&null!==this.font||(this.font=this._lineCaptionFont);var t=new pi(We.left,hi.top);this._page.graphics.drawString(this._textWebLink,this.font,e,this._pen,this._brush,t);var i=new Va;i.set("Type",va.get("Action")),i.set("S",va.get("URI")),void 0!==this._url&&i.set("URI",this._url),i._updated=!0,this._dictionary.set("A",i),this._dictionary.update("Border",[0,0,0])},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded||this._postProcess(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var o=new Fn(t,this._crossReference),r=this._validateTemplateMatrix(o._content.dictionary);this._flattenAnnotationTemplate(o,r)}else this._removeAnnotation(this._page,this)}},t}(Xn),co=function(e){function t(t,i,n,o,r,a){var s=e.call(this)||this;return s._icon=rt.pushPin,s._iconString="",s._dictionary=new Va,s._dictionary.update("Type",va.get("Annot")),s._dictionary.update("Subtype",va.get("FileAttachment")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(s.bounds={x:t,y:i,width:n,height:o}),void 0!==r&&(s._fileName=r),s._stream=new Pa("string"==typeof a?br(a):a),s._type=ht.fileAttachmentAnnotation,s}return Wn(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this._dictionary.has("Name")&&(this._icon=function(e){var t;switch(e){case"PushPin":default:t=rt.pushPin;break;case"Tag":t=rt.tag;break;case"Graph":t=rt.graph;break;case"Paperclip":t=rt.paperClip}return t}(this._dictionary.get("Name").name)),this._icon},set:function(e){void 0!==e&&(this._icon=e,this._dictionary.update("Name",va.get(this._obtainIconName(this._icon))))},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");this._dictionary.update("Rect",ga(this)),this._addAttachment()},t.prototype._addAttachment=function(){if(this._dictionary.has("FS")){var e=this._dictionary.get("FS");if(e&&e.has("EF")){var t=e.get("EF");t&&t.has("F")&&na(t,this._crossReference,"F")}na(this._dictionary,this._crossReference,"FS")}var i=new Va;i.set("Type",va.get("Filespec")),i.set("Desc",this._fileName),i.set("F",this._fileName),i.set("UF",this._fileName);var n=new Va;n.set("Type",va.get("EmbeddedFile"));var o=new Va,r=new Date;o.set("CreationDate",r.toTimeString()),o.set("ModDate",(new Date).toTimeString()),o.set("Size",this._stream.length),n.set("Params",o),this._stream.dictionary=new Va,this._stream.dictionary=n,n._crossReference=this._crossReference;var a=[this._crossReference._newLine.charCodeAt(0),this._crossReference._newLine.charCodeAt(1),37,80,68,70,45];n._crossReference._writeObject(this._stream,a);var s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,this._stream),n._updated=!0;var l=new Va;l.set("F",s),i.set("EF",l);var d=this._crossReference._getNextReference();this._crossReference._cacheMap.set(d,i),i._updated=!0,this._dictionary.update("FS",d)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded||this._postProcess(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var o=new Fn(t,this._crossReference),r=this._validateTemplateMatrix(o._content.dictionary);this._flattenAnnotationTemplate(o,r)}else this._removeAnnotation(this._page,this)}},t.prototype._obtainIconName=function(e){switch(e){case rt.pushPin:this._iconString="PushPin";break;case rt.tag:this._iconString="Tag";break;case rt.graph:this._iconString="Graph";break;case rt.paperClip:this._iconString="Paperclip"}return this._iconString},t}(Zn),go=function(e){function t(){var t=e.call(this)||this;return t._type=ht.movieAnnotation,t}return Wn(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var o=new Fn(t,this._crossReference),r=this._validateTemplateMatrix(o._content.dictionary);this._flattenAnnotationTemplate(o,r)}else this._removeAnnotation(this._page,this)}},t}(Xn),uo=function(e){function t(t,i,n,o,r){var a=e.call(this)||this;return a._textMarkupType=tt.highlight,a._quadPoints=new Array(8),a._boundsCollection=[],a._dictionary=new Va,a._dictionary.update("Type",va.get("Annot")),void 0!==t&&(a._text=t),void 0!==i&&void 0!==n&&void 0!==o&&void 0!==r&&(a.bounds={x:i,y:n,width:o,height:r}),a._type=ht.textMarkupAnnotation,a}return Wn(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._isLoaded&&(this._bounds=_r(this._dictionary,this._page)),this._bounds},set:function(e){if(e)if(this._isLoaded){if(e.x!==this.bounds.x||e.y!==this.bounds.y||e.width!==this.bounds.width||e.height!==this.bounds.height){var t=this._page.size;if(t){var i=t[1]-(e.y+e.height),n=i+e.height;this._dictionary.update("Rect",[e.x,i,e.x+e.width,n]),this._bounds=e,this._isChanged=!0}}}else{this._bounds=e;var o=this._obtainNativeRectangle();this._dictionary.update("Rect",Mr({x:o[0],y:o[1],width:o[2],height:o[3]})),this._isChanged=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textMarkUpColor",{get:function(){return void 0===this._textMarkUpColor&&this._dictionary.has("C")&&(this._textMarkUpColor=Fr(this._dictionary.getArray("C"))),this._textMarkUpColor},set:function(e){if(void 0!==e&&3===e.length){var t=this.color;this._isLoaded&&void 0!==t&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this._color=e,this._textMarkUpColor=e,this._dictionary.update("C",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textMarkupType",{get:function(){if(this._dictionary.has("Subtype")){var e=this._dictionary.get("Subtype");this._textMarkupType=function(e){var t;switch(e){case"Highlight":default:t=tt.highlight;break;case"Squiggly":t=tt.squiggly;break;case"StrikeOut":t=tt.strikeOut;break;case"Underline":t=tt.underline}return t}(e.name)}return this._textMarkupType},set:function(e){void 0!==e&&(this._textMarkupType=e,this._dictionary.update("Subtype",va.get(qr(e))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boundsCollection",{get:function(){if(this._isLoaded){var e=[];if(this._dictionary.has("QuadPoints")){var t=this._dictionary.getArray("QuadPoints");if(t&&t.length>0)for(var i=t.length/8,n=0;n<i;n++){var o=t[4+8*n]-t[8*n],r=t[5+8*n]-t[1+8*n],a=Math.sqrt(o*o+r*r);o=t[6+8*n]-t[4+8*n],r=t[7+8*n]-t[5+8*n];var s=Math.sqrt(o*o+r*r),l=[t[8*n],this._page.size[1]-t[1+8*n],s,a];e.push(l)}}return e}return this._boundsCollection},set:function(e){if(!this._isLoaded&&void 0!==e){if(e.length>0){this._quadPoints=new Array(8*e.length);for(var t=0;t<e.length;t++)this._boundsCollection.push(e[Number.parseInt(t.toString(),10)])}else this._quadPoints=new Array(8),this._boundsCollection=e;this._isChanged=!0}if(this._isLoaded&&void 0!==e){var i=!1;if(this.boundsCollection.length===e.length){for(t=0;t<e.length;t++)for(var n=e[Number.parseInt(t.toString(),10)],o=0;o<n.length;o++)if(e[Number.parseInt(t.toString(),10)][Number.parseInt(o.toString(),10)]!==this.boundsCollection[Number.parseInt(t.toString(),10)][Number.parseInt(o.toString(),10)]){i=!0;break}}else i=!0;if(i){this._quadPoints=new Array(8*e.length);var r=this._page.size[1];for(t=0;t<e.length;t++)this._quadPoints[0+8*Number.parseInt(t.toString(),10)]=e[Number.parseInt(t.toString(),10)][0],this._quadPoints[1+8*Number.parseInt(t.toString(),10)]=r-e[Number.parseInt(t.toString(),10)][1],this._quadPoints[2+8*Number.parseInt(t.toString(),10)]=e[Number.parseInt(t.toString(),10)][0]+e[Number.parseInt(t.toString(),10)][2],this._quadPoints[3+8*Number.parseInt(t.toString(),10)]=r-e[Number.parseInt(t.toString(),10)][1],this._quadPoints[4+8*Number.parseInt(t.toString(),10)]=e[Number.parseInt(t.toString(),10)][0],this._quadPoints[5+8*Number.parseInt(t.toString(),10)]=this._quadPoints[1+8*t]-e[Number.parseInt(t.toString(),10)][3],this._quadPoints[6+8*Number.parseInt(t.toString(),10)]=e[Number.parseInt(t.toString(),10)][0]+e[Number.parseInt(t.toString(),10)][2],this._quadPoints[7+8*Number.parseInt(t.toString(),10)]=this._quadPoints[5+8*Number.parseInt(t.toString(),10)];this._dictionary.update("QuadPoints",this._quadPoints),this._isChanged=!0}}},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._obtainNativeRectangle=function(){var e,t=[this._bounds.x,this._bounds.y+this._bounds.height,this._bounds.width,this._bounds.height];if(this._page){var i=this._page.size;t[1]=i[1]-t[1],e=this._getCropOrMediaBox()}if(e){if(e[3]<0){var n=e[1],o=e[3];e[1]=o,e[3]=n}e.length>2&&(0!==e[0]||0!==e[1])&&(t[0]+=e[0],this._page&&this._page._pageDictionary.has("MediaBox")&&!this._page._pageDictionary.has("CropBox")&&e[1]>0&&0===e[3]?t[1]+=e[3]:t[1]+=e[1])}return t},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var e;this._dictionary.has("BS")?e=this.border.width:((n=new Va(this._crossReference)).set("Type",va.get("Border")),n.set("W",this.border.width),this._dictionary.set("BS",n));void 0===e&&(e=1),this._dictionary.has("C")||(this._isTransparentColor=!0);var t=this._page.size;if(this._dictionary.update("Subtype",va.get(qr(this._textMarkupType))),this._isChanged&&(this._setQuadPoints(t),this._dictionary.update("Rect",ga(this))),this._setAppearance){if(this._appearanceTemplate=this._createMarkupAppearance(),!this._isLoaded&&this._boundsCollection.length>1&&this._isChanged){var i=this._obtainNativeRectangle();this._dictionary.update("Rect",[i[0],i[1],i[0]+i[2],i[1]+i[3]])}this._dictionary.has("AP")&&na(this._dictionary.get("AP"),this._crossReference,"N");var n=new Va;this._appearanceTemplate._content.dictionary._updated=!0;var o=this._crossReference._getNextReference();this._crossReference._cacheMap.set(o,this._appearanceTemplate._content),this._appearanceTemplate._content.reference=o,n.set("N",o),n._updated=!0,this._dictionary.set("AP",n)}void 0!==this._text&&null!==this._text&&this._dictionary.set("Contents",this._text),this._isChanged=!1},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),this._isLoaded){if((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createMarkupAppearance(),!e)){this._dictionary.has("AP")&&na(this._dictionary.get("AP"),this._crossReference,"N");var t=new Va;this._appearanceTemplate._content.dictionary._updated=!0;var i=this._crossReference._getNextReference();this._crossReference._cacheMap.set(i,this._appearanceTemplate._content),this._appearanceTemplate._content.reference=i,t.set("N",i),t._updated=!0,this._dictionary.set("AP",t)}if(!this._appearanceTemplate&&e&&this._dictionary.has("AP"))if((t=this._dictionary.get("AP"))&&t.has("N"))if(n=t.get("N"))(i=t.getRaw("N"))&&(n.reference=i),this._appearanceTemplate=new Fn(n,this._crossReference)}else{var n;if(this._postProcess(),!this._appearanceTemplate)if(e)if(this._dictionary.has("AP")){if((t=this._dictionary.get("AP"))&&t.has("N"))if(n=t.get("N"))(i=t.getRaw("N"))&&(n.reference=i),this._appearanceTemplate=new Fn(n,this._crossReference)}else this._appearanceTemplate=this._createMarkupAppearance()}if(void 0!==this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")&&!this._isLoaded){var r=this._appearanceTemplate._content.dictionary.getArray("BBox");r&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-r[0],-r[1]])}(o&&void 0!==this._page.rotation&&this._page.rotation!==Ge.angle0||o&&this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary,this._appearanceTemplate)||!this._dictionary.has("AP")&&this._appearanceTemplate)&&this._flattenAnnotationTemplate(this._appearanceTemplate,o)}},t.prototype._createMarkupAppearance=function(){var e,t=0,i=0;if(this.boundsCollection.length>1){for(var n=new An,o=0;o<this.boundsCollection.length;o++){(S=[])[0]=this.boundsCollection[Number.parseInt(o.toString(),10)][0],S[1]=this.boundsCollection[Number.parseInt(o.toString(),10)][1],S[2]=this.boundsCollection[Number.parseInt(o.toString(),10)][2],S[3]=this.boundsCollection[Number.parseInt(o.toString(),10)][3],n.addRectangle(S[0],S[1],S[2],S[3])}e={x:(B=n._getBounds())[0],y:B[1],width:B[2],height:B[3]},this.bounds=e,t=e.width,i=e.height}else if(this._dictionary.has("QuadPoints")){var r=this._dictionary.get("QuadPoints");if(null!==this._quadPoints)for(o=0;o<r.length/8;o++)if(this._isLoaded){for(var a=new Array,s=0,l=0;l<r.length;){var d=r[Number.parseInt(l.toString(),10)],h=r[l+1];a[Number.parseInt(s.toString(),10)]=[d,h],l+=2,s++}var A=new An;A._addLines(a),t=(e={x:(B=A._getBounds())[0],y:B[1],width:B[2],height:B[3]}).width,i=e.height}else{var p=Math.floor(r[4+8*o])-Math.floor(r[0+8*o]),c=Math.floor(r[5+8*o])-Math.floor(r[1+8*o]);i=Math.sqrt(p*p+c*c),p=Math.floor(r[6+8*o])-Math.floor(r[4+8*o]),c=Math.floor(r[7+8*o])-Math.floor(r[5+8*o]),t=Math.sqrt(p*p+c*c),this.bounds={x:this.bounds.x,y:this.bounds.y,width:t,height:i}}}var g=new Fn([0,0,t,i],this._crossReference);Wr(g,this._getRotationAngle());var u=g.graphics;if(void 0!==this.opacity&&u.setTransparency(this.opacity,this.opacity,yt.multiply),this.textMarkUpColor){var f=new Cn(this.textMarkUpColor,this.border.width),m=new Sn(this.textMarkUpColor),w=(d=0,h=0,0),y=0;if(this.boundsCollection.length>1)for(o=0;o<this.boundsCollection.length;o++){var S;(S=[])[0]=this.boundsCollection[Number.parseInt(o.toString(),10)][0],S[1]=this.boundsCollection[Number.parseInt(o.toString(),10)][1],S[2]=this.boundsCollection[Number.parseInt(o.toString(),10)][2],S[3]=this.boundsCollection[Number.parseInt(o.toString(),10)][3],this.textMarkupType===tt.highlight?u.drawRectangle(S[0]-e.x,S[1]-e.y,S[2],S[3],m):this.textMarkupType===tt.underline?(d=S[0]-e.x,h=S[1]-e.y+(S[3]-S[3]/2/3),w=S[2]+(S[0]-e.x),y=S[1]-e.y+(S[3]-S[3]/2/3),u.drawLine(f,d,h,w,y)):this.textMarkupType===tt.strikeOut?(d=S[0]-e.x,h=S[1]-e.y+(S[3]-S[3]/2),w=S[2]+(S[0]-e.x),y=S[1]-e.y+(S[3]-S[3]/2),u.drawLine(f,d,h,w,y)):this.textMarkupType===tt.squiggly&&(f._width=.02*S[3],u.save(),u.translateTransform(S[0]-e.x,S[1]-e.y),u.setClip([0,0,S[2],S[3]]),u.drawPath(this._drawSquiggly(S[2],S[3]),f),u.restore())}else if(this.textMarkupType===tt.highlight?u.drawRectangle(0,0,t,i,m):this.textMarkupType===tt.underline?u.drawLine(f,0,i-i/2/3,t,i-i/2/3):this.textMarkupType===tt.strikeOut?u.drawLine(f,0,i/2,t,i/2):this.textMarkupType===tt.squiggly&&(f._width=.02*i,u.drawPath(this._drawSquiggly(Math.round(t),Math.round(i)),f)),this._isLoaded){var C=[e.x,e.y,e.x+e.width,e.y+e.height],B=this._setAppearance?ga(this):C;this._dictionary.update("Rect",B)}}return g},t.prototype._drawSquiggly=function(e,t){(Math.floor(e)%2!=0||Math.round(e)>e)&&(e=Math.floor(e)+1);for(var i=new An,n=new Array,o=Math.ceil(e/t*16),r=e/(o/2),a=parseFloat((.6*(r+r)).toFixed(2)),s=a,l=0,d=0;d<o;d++){var h=[l,parseFloat((t-a+s-.02*t).toFixed(2))];n.push(h),s=0===s?a:0,l+=r}return i._addLines(n),i},t.prototype._setQuadPoints=function(e){var t,i=[],n=e[1];if(this._page&&this._page._isNew&&this._page._pageSettings&&this._page._pageSettings.margins){var o=this._page._pageSettings.margins;t={left:o.left,top:o.top,right:o.right,bottom:o.bottom}}else t={left:0,top:0,right:0,bottom:0};0!==this.bounds.x&&0!==this.bounds.y&&0!==this.bounds.width&&0!==this.bounds.height&&(this._boundsCollection[0]=[this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height]);var r=this._quadPoints.length/8,a=this._getMediaOrCropBox(this._page),s=!1;if(!this._isLoaded&&a&&a.length>3&&!this.flatten){var l=a[0],d=a[1];if(0!==l||0!==d){for(var h=0;h<r;h++){var A=this._boundsCollection[Number.parseInt(h.toString(),10)][0]+t.left+l,p=d+t.top;i[0+8*h]=A+t.left,i[1+8*h]=n- -p-t.top-this._boundsCollection[Number.parseInt(h.toString(),10)][1],i[2+8*h]=A+this._boundsCollection[Number.parseInt(h.toString(),10)][2]+t.left,i[3+8*h]=n- -p-t.top-this._boundsCollection[Number.parseInt(h.toString(),10)][1],i[4+8*h]=A+t.left,i[5+8*h]=i[1+8*h]-this._boundsCollection[Number.parseInt(h.toString(),10)][3],i[6+8*h]=A+this._boundsCollection[Number.parseInt(h.toString(),10)][2]+t.left,i[7+8*h]=i[5+8*h]}s=!0}}if(!s)for(h=0;h<r;h++){A=this._boundsCollection[Number.parseInt(h.toString(),10)][0],p=this._boundsCollection[Number.parseInt(h.toString(),10)][1];i[0+8*h]=A+t.left,i[1+8*h]=n-p-t.top,i[2+8*h]=A+this._boundsCollection[Number.parseInt(h.toString(),10)][2]+t.left,i[3+8*h]=n-p-t.top,i[4+8*h]=A+t.left,i[5+8*h]=i[1+8*h]-this._boundsCollection[Number.parseInt(h.toString(),10)][3],i[6+8*h]=A+this._boundsCollection[Number.parseInt(h.toString(),10)][2]+t.left,i[7+8*h]=i[5+8*h]}this._points=i,this._dictionary.set("QuadPoints",this._points)},t}(Zn),fo=function(e){function t(t,i,n,o,r){var a=e.call(this)||this;return a._watermarkText="",a._dictionary=new Va,a._dictionary.update("Type",va.get("Annot")),a._dictionary.update("Subtype",va.get("Watermark")),void 0!==t&&(a._watermarkText=t,a.text=t),void 0!==i&&void 0!==n&&void 0!==o&&void 0!==r&&(a.bounds={x:i,y:n,width:o,height:r}),a._type=ht.watermarkAnnotation,a}return Wn(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var e;if(this._dictionary.has("BS"))e=this.border.width;else{var t=new Va(this._crossReference);t.set("Type",va.get("Border")),this._dictionary.set("BS",t)}void 0===e&&(e=1),void 0===this.color&&(this.color=[0,0,0]),this._appearanceTemplate=this._createWatermarkAppearance(),this._dictionary.update("Rect",ga(this)),void 0!==this.opacity&&1!==this._opacity&&this._dictionary.set("CA",this._opacity)},t.prototype._createWatermarkAppearance=function(){var e=this._obtainFont();(null==e||(!this._isLoaded||this._page&&this._page._isDuplicate)&&1===e.size)&&(e=this._lineCaptionFont,this._pdfFont=e),this._rotateAngle=this._getRotationAngle(),(void 0!==this.rotationAngle&&this._rotate!==Ge.angle0||this._rotateAngle!==Ge.angle0)&&(0===this._rotateAngle&&(this._rotateAngle=90*this.rotationAngle),this.bounds=this._getRotatedBounds(this.bounds,this._rotateAngle));var t=[0,0,this.bounds.width,this.bounds.height],i=new Kn(this,t);i.normal=new Fn(t,this._crossReference);var n=i.normal;Wr(n,this._rotateAngle);var o,r=i.normal.graphics,a=this.border.width/2,s=new pi(We.left,hi.top),l=new Cn(this.color,a);if(this.innerColor&&(o=new Sn(this._innerColor)),this._isLoaded?(this._dictionary.has("Contents")&&(this._watermarkText=this._dictionary.get("Contents")),this._dictionary.update("Contents",this._watermarkText)):this._dictionary.update("Contents",this._watermarkText),void 0!==this._watermarkText&&r.drawString(this._watermarkText,e,[0,0,0,0],l,o,s),this._dictionary.has("AP")){var d=this._dictionary.get("AP");d&&d instanceof Va&&na(d,this._crossReference,"N")}var h=new Va;r._template._content.dictionary._updated=!0;var A=this._crossReference._getNextReference();return this._crossReference._cacheMap.set(A,r._template._content),r._template._content.reference=A,h.set("N",A),h._updated=!0,this._dictionary.set("AP",h),n},t.prototype._doPostProcess=function(e){var t,i,n;(void 0===e&&(e=!1),this._isLoaded)?(e||(this._appearanceTemplate=this._createWatermarkAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((n=t.getRaw("N"))&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference))):(this._postProcess(),this._appearanceTemplate||e&&(this._dictionary.has("AP")?(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((n=t.getRaw("N"))&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference)):this._appearanceTemplate=this._createWatermarkAppearance()));if(e&&this._appearanceTemplate){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var r=this._appearanceTemplate._content.dictionary.getArray("BBox");r&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-r[0],-r[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,o)}},t}(Xn),mo=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._icon=$e.draft,r._stampWidth=0,r._iconString="",r.rotateAngle=0,r._alterRotateBounds=!0,r._stampAppearanceFont=new nn(Ei.helvetica,20,vi.italic|vi.bold),r._dictionary=new Va,r._dictionary.update("Type",va.get("Annot")),r._dictionary.update("Subtype",va.get("Stamp")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(r.bounds={x:t,y:i,width:n,height:o}),r._type=ht.rubberStampAnnotation,r}return Wn(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this._dictionary.has("Name")&&(this._icon=function(e){var t;switch(e){case"#Approved":case"SBApproved":t=$e.approved;break;case"#AsIs":case"SBAsIs":t=$e.asIs;break;case"#Completed":case"SBCompleted":t=$e.completed;break;case"#Confidential":case"SBConfidential":t=$e.confidential;break;case"#Departmental":case"SBDepartmental":t=$e.departmental;break;case"#Draft":case"SBDraft":default:t=$e.draft;break;case"#Experimental":case"SBExperimental":t=$e.experimental;break;case"#Expired":case"SBExpired":t=$e.expired;break;case"#Final":case"SBFinal":t=$e.final;break;case"#ForComment":case"SBForComment":t=$e.forComment;break;case"#ForPublicRelease":case"SBForPublicRelease":t=$e.forPublicRelease;break;case"#InformationOnly":case"SBInformationOnly":t=$e.informationOnly;break;case"#NotApproved":case"SBNotApproved":t=$e.notApproved;break;case"#NotForPublicRelease":case"SBNotForPublicRelease":t=$e.notForPublicRelease;break;case"#PreliminaryResults":case"SBPreliminaryResults":t=$e.preliminaryResults;break;case"#Sold":case"SBSold":t=$e.sold;break;case"#TopSecret":case"SBTopSecret":t=$e.topSecret;break;case"#Void":case"SBVoid":t=$e.void}return t}(this._dictionary.get("Name").name)),this._icon},set:function(e){void 0!==e&&(this._icon=e,this._dictionary.update("Name",va.get("#"+this._obtainIconName(this._icon))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appearance",{get:function(){if(this._isLoaded)return null;if(void 0===this._appearance){var e=[0,0,this.bounds.width,this.bounds.height];this._appearance=new Kn(this,e),this._appearance.normal=new Fn(e,this._crossReference)}return this._appearance},enumerable:!0,configurable:!0}),t.prototype.createTemplate=function(){var e;if(this._isLoaded)if(this._dictionary.has("AP")){var t=this._dictionary.get("AP");if(t&&t.has("N")){var i=t.get("N");if(i){(e=new Fn)._isExported=!0;var n=i.dictionary,o=n.getArray("Matrix"),r=n.getArray("BBox");if(o){for(var a=[],s=0;s<o.length;s++){var l=o[Number.parseInt(s.toString(),10)];a[Number.parseInt(s.toString(),10)]=l}if(r&&r.length>3){var d=Dr(r),h=this._transformBBox(d,a);e._size=[h[2],h[3]],e._templateOriginalSize=[d.width,d.height]}}else r&&(n.update("Matrix",[1,0,0,1,-r[0],-r[1]]),e._size=[r[2],r[3]]);e._exportStream(t,this._crossReference)}}}else e=this._createRubberStampAppearance();return e},Object.defineProperty(t.prototype,"_innerTemplateBounds",{get:function(){var e;return this._isLoaded&&((e=this._obtainInnerBounds()).x=this.bounds.x,e.y=this.bounds.y),e},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(){var e;if(this._dictionary.has("BS"))e=this.border.width;else{var t=new Va(this._crossReference);t.set("Type",va.get("Border")),this._dictionary.set("BS",t)}void 0===e&&(e=1),this._dictionary.has("C")||(this._isTransparentColor=!0),this._dictionary.has("AP")&&this._isLoaded&&!this._isRotated?this._parseStampAppearance():this._appearanceTemplate=this._createRubberStampAppearance()},t.prototype._transformBBox=function(e,t){var i=[],n=[],o=this._transformPoint(e.x,e.y+e.height,t);i[0]=o[0],n[0]=o[1];var r=this._transformPoint(e.x+e.width,e.y,t);i[1]=r[0],n[1]=r[1];var a=this._transformPoint(e.x,e.y,t);i[2]=a[0],n[2]=a[1];var s=this._transformPoint(e.x+e.width,e.y+e.height,t);return i[3]=s[0],n[3]=s[1],[this._minValue(i),this._minValue(n),this._maxValue(i),this._maxValue(n)]},t.prototype._transformPoint=function(e,t,i){var n=[];return n[0]=e*i[0]+t*i[2]+i[4],n[1]=e*i[1]+t*i[3]+i[5],n},t.prototype._minValue=function(e){for(var t=e[0],i=1;i<e.length;i++)e[Number.parseInt(i.toString(),10)]<t&&(t=e[Number.parseInt(i.toString(),10)]);return t},t.prototype._maxValue=function(e){for(var t=e[0],i=1;i<e.length;i++)e[Number.parseInt(i.toString(),10)]>t&&(t=e[Number.parseInt(i.toString(),10)]);return t},t.prototype._doPostProcess=function(e){void 0===e&&(e=!1);var t=!1;if(this._isLoaded&&(this._setAppearance||e||this._isExport))(!e&&!this._isExport||this._setAppearance||this._isRotated)&&(this._appearanceTemplate=this._createRubberStampAppearance()),!this._appearanceTemplate&&(this._isExport||e)&&this._dictionary.has("AP")&&(t=this._parseStampAppearance());else if(this._isImported&&this._dictionary.has("AP")||this._postProcess(),!this._appearanceTemplate&&(e||this._isImported))if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){var n=i.get("N");if(n){var o=i.getRaw("N");o&&(n.reference=o),this._appearanceTemplate=new Fn(n,this._crossReference)}}}else this._appearanceTemplate=this._createRubberStampAppearance();if(void 0!==this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var r=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var a=this._appearanceTemplate._content.dictionary.getArray("BBox");a&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-a[0],-a[1]])}t?this._flattenAnnotationTemplate(this._appearanceTemplate,t):this._flattenAnnotationTemplate(this._appearanceTemplate,r)}},t.prototype._parseStampAppearance=function(){var e=!1,t=this._dictionary.get("AP");if(t&&t.has("N")){var i=t.get("N");if(i){var n=t.getRaw("N");n&&(i.reference=n);var o=!1;if(this._type===ht.rubberStampAnnotation){var r=!1,a=void 0,s=void 0;if(i&&((r=this._page.rotation===Ge.angle0&&this.rotationAngle===Ge.angle0)||(r=this._page.rotation!==Ge.angle0&&this.rotationAngle===Ge.angle0)),this._appearanceTemplate=new Fn(i,this._crossReference),o=!0,e=!!r){var l=i.dictionary.getArray("Matrix");if(l){for(var d=[],h=0;h<l.length;h++){var A=l[Number.parseInt(h.toString(),10)];d[Number.parseInt(h.toString(),10)]=A}var p=i.dictionary.getArray("BBox");if(p&&p.length>3){s=Dr(p);var c=this._transformBBox(s,d);a=[c[2],c[3]],this._appearanceTemplate._size=a}else a=[s.width,s.height]}}else s&&(a=[s.width,s.height])}o||(this._appearanceTemplate=new Fn(i,this._crossReference))}}return e},t.prototype._createRubberStampAppearance=function(){var e,t=[0,0,this.bounds.width,this.bounds.height];this._appearance?(e=this._appearance,this._dictionary.has("Name")||this._dictionary.update("Name",va.get("#23CustomStamp"))):(this._iconString=this._obtainIconName(this.icon),this._dictionary.update("Name",va.get("#23"+this._iconString)),(e=new Kn(this,t)).normal=new Fn(t,this._crossReference));var i=e.normal;!this._alterRotateBounds||void 0===this._rotate||this._rotate===Ge.angle0&&0===this._getRotationAngle()?this.rotateAngle=this._getRotationAngle():(this.rotateAngle=this._getRotationAngle(),0===this.rotateAngle&&(this.rotateAngle=90*this.rotationAngle),this.bounds=this._getRotatedBounds(this.bounds,this.rotateAngle)),Wr(i,this.rotateAngle),this._appearance||this._drawStampAppearance(i),this._dictionary.has("AP")&&na(this._dictionary.get("AP"),this._crossReference,"N");var n=new Va;i._content.dictionary._updated=!0;var o=this._crossReference._getNextReference();return this._crossReference._cacheMap.set(o,i._content),i._content.reference=o,n.set("N",o),n._updated=!0,this._dictionary.set("AP",n),this._dictionary.set("Border",[this.border.hRadius,this.border.vRadius,this.border.width]),this._dictionary.update("Rect",ga(this)),i},t.prototype._drawStampAppearance=function(e){var t=new pi;t.alignment=We.center,t.lineAlignment=hi.middle;var i=new Sn(this._obtainBackGroundColor()),n=new Cn(this._obtainBorderColor(),this.border.width),o=e.graphics;o.save(),o.scaleTransform(e._size[0]/(this._stampWidth+4),e._size[1]/28);var r=this._stampAppearanceFont;this._drawRubberStamp(o,n,i,r,t),o.restore()},t.prototype._obtainIconName=function(e){switch(e){case $e.approved:this._iconString="Approved",this._stampWidth=126;break;case $e.asIs:this._iconString="AsIs",this._stampWidth=75;break;case $e.confidential:this._iconString="Confidential",this._stampWidth=166;break;case $e.departmental:this._iconString="Departmental",this._stampWidth=186;break;case $e.draft:this._iconString="Draft",this._stampWidth=90;break;case $e.experimental:this._iconString="Experimental",this._stampWidth=176;break;case $e.expired:this._iconString="Expired",this._stampWidth=116;break;case $e.final:this._iconString="Final",this._stampWidth=90;break;case $e.forComment:this._iconString="ForComment",this._stampWidth=166;break;case $e.forPublicRelease:this._iconString="ForPublicRelease",this._stampWidth=240;break;case $e.notApproved:this._iconString="NotApproved",this._stampWidth=186;break;case $e.notForPublicRelease:this._iconString="NotForPublicRelease",this._stampWidth=290;break;case $e.sold:this._iconString="Sold",this._stampWidth=75;break;case $e.topSecret:this._iconString="TopSecret",this._stampWidth=146;break;case $e.completed:this._iconString="Completed",this._stampWidth=136;break;case $e.void:this._iconString="Void",this._stampWidth=75;break;case $e.informationOnly:this._iconString="InformationOnly",this._stampWidth=230;break;case $e.preliminaryResults:this._iconString="PreliminaryResults",this._stampWidth=260}return this._iconString},t.prototype._obtainBackGroundColor=function(){return this._icon===$e.notApproved||this._icon===$e.void?[251,222,221]:this._icon===$e.approved||this._icon===$e.final||this._icon===$e.completed?[229,238,222]:[219,227,240]},t.prototype._obtainBorderColor=function(){return this._icon===$e.notApproved||this._icon===$e.void?[151,23,15]:this._icon===$e.approved||this._icon===$e.final||this._icon===$e.completed?[73,110,38]:[24,37,100]},t.prototype._drawRubberStamp=function(e,t,i,n,o){e.drawRoundedRectangle(2,1,this._stampWidth,26,3,t,i);var r=new Sn(this._obtainBorderColor());e.drawString(this._iconString.toUpperCase(),n,[this._stampWidth/2+1,15,0,0],null,r,o)},t.prototype._obtainInnerBounds=function(){var e={x:0,y:0,width:0,height:0};if(this._dictionary&&this._dictionary.has("AP")){var t=this._dictionary.get("AP");if(t&&t.has("N")){var i=t.get("N");if(i&&void 0!==i.dictionary){var n=i.dictionary;if(n.has("BBox")){var o=n.getArray("BBox");o&&4===o.length&&(e=Dr(o))}}}}return e},t}(Zn),wo=function(e){function t(){var t=e.call(this)||this;return t._type=ht.soundAnnotation,t}return Wn(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var o=new Fn(t,this._crossReference),r=this._validateTemplateMatrix(o._content.dictionary);this._flattenAnnotationTemplate(o,r)}else this._removeAnnotation(this._page,this)}},t}(Zn),yo=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._intentString="",r._markUpFont=new nn(Ei.helvetica,7,vi.regular),r._textAlignment=We.left,r._cropBoxValueX=0,r._cropBoxValueY=0,r._dictionary=new Va,r._dictionary.update("Type",va.get("Annot")),r._dictionary.update("Subtype",va.get("FreeText")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(r.bounds={x:t,y:i,width:n,height:o}),r._isContentUpdated=!1,r._type=ht.freeTextAnnotation,r._parsedXMLData=[],r}return Wn(t,e),Object.defineProperty(t.prototype,"calloutLines",{get:function(){return void 0===this._calloutLines&&(this._calloutLines=this._getCalloutLinePoints()),this._calloutLines},set:function(e){this._isLoaded||(this._calloutLines=e);var t=!1;if(this._isLoaded&&e.length>=2)if(this._calloutLines.length===e.length){for(var i=0;i<e.length;i++)for(var n=e[Number.parseInt(i.toString(),10)],o=0;o<n.length;o++)if(e[Number.parseInt(i.toString(),10)][Number.parseInt(o.toString(),10)]!==this._calloutLines[Number.parseInt(i.toString(),10)][Number.parseInt(o.toString(),10)]){t=!0;break}}else t=!0;if(t){var r=this._page.size[1],a=[];for(i=0;i<e.length&&i<e.length;i++)a.push(e[Number.parseInt(i.toString(),10)][0]+this._cropBoxValueX),a.push(r+this._cropBoxValueY-e[Number.parseInt(i.toString(),10)][1]);this._calloutLines=e,this._dictionary.update("CL",a)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineEndingStyle",{get:function(){return this._isLoaded?this._lineEndingStyle=this._obtainLineEndingStyle():void 0===this._lineEndingStyle&&(this._lineEndingStyle=Oe.none),this._lineEndingStyle},set:function(e){void 0!==e&&this._dictionary.update("LE",va.get(Pr(e))),this._lineEndingStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textMarkUpColor",{get:function(){if(void 0===this._textMarkUpColor){var e=void 0;if(this._dictionary.has("TextColor"))return this._textMarkUpColor=Fr(this._dictionary.getArray("TextColor")),this._textMarkUpColor;if(this._dictionary.has("DS"))for(var t=this._dictionary.get("DS").split(";"),i=0;i<t.length;i++)if(-1!==t[Number.parseInt(i.toString(),10)].indexOf("color"))return(e=t[Number.parseInt(i.toString(),10)].split(":")[1]).startsWith("#")&&(e=e.substring(1)),this._textMarkUpColor=Qr(e),this._textMarkUpColor;if(!this._textMarkUpColor&&this._dictionary.has("RC")){var n=[];this._parsedXMLData.length>0&&this._parsedXMLData[3]&&(n=this._parsedXMLData[3]._color,this._textMarkUpColor=n)}}return this._textMarkUpColor},set:function(e){void 0!==e&&3===e.length&&(this._textMarkUpColor=e,this._updateStyle(this.font,e,this.textAlignment)),this._isContentUpdated=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){if(this._dictionary.has("Q"))this._textAlignment=this._dictionary.get("Q");else if(this._dictionary.has("RC")){var e=void 0;this._parsedXMLData.length>0&&this._parsedXMLData[1]&&(e=this._parsedXMLData[1],this._textAlignment=e)}return this._textAlignment},set:function(e){this._textAlignment!==e&&this._dictionary.update("Q",e),this._textAlignment=e,this._isContentUpdated=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this._font||(this._font=this._obtainFont(),(null===this._font||void 0===this._font||!this._isLoaded&&1===this._font.size)&&(this._font=this._markUpFont)),this._font},set:function(e){this._font=e,this._isContentUpdated=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return void 0===this._borderColor&&this._dictionary.has("DA")&&(this._borderColor=this._obtainColor()),this._borderColor},set:function(e){void 0!==e&&3===e.length&&(this._borderColor=e,this._dictionary.update("DA",this._getBorderColorString(this.borderColor)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"annotationIntent",{get:function(){return this._dictionary.has("IT")?this._annotationIntent=function(e){var t;switch(e){case"None":default:t=at.none;break;case"FreeTextCallout":t=at.freeTextCallout;break;case"FreeTextTypeWriter":t=at.freeTextTypeWriter}return t}(this._dictionary.get("IT").name):this._annotationIntent=at.none,this._annotationIntent},set:function(e){void 0!==e&&(this._annotationIntent=e,e===at.none?this._dictionary.update("Subj","Text Box"):this._dictionary.update("IT",va.get(this._obtainAnnotationIntent(this._annotationIntent))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_mkDictionary",{get:function(){var e;return this._dictionary.has("MK")&&(e=this._dictionary.get("MK")),e},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),i.has("RC")&&(n._parsedXMLData=n._parseXMLData(i.get("RC"))),n},t.prototype._setPaddings=function(e){this._paddings=e},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t;if(this._dictionary.has("BS"))t=this.border.width;else{var i=new Va(this._crossReference);i.set("Type",va.get("Border")),this._dictionary.set("BS",i)}void 0===t&&(t=1),this._dictionary.has("C")||(this._isTransparentColor=!0);var n=this._getCropOrMediaBox();n&&n.length>3&&"number"==typeof n[0]&&"number"==typeof n[1]&&(0!==n[0]||0!==n[1])&&(this._cropBoxValueX=n[0],this._cropBoxValueY=n[1]),(e||this._setAppearance)&&(this._appearanceTemplate=this._createAppearance()),e||(this._dictionary.update("Rect",ga(this)),this._saveFreeTextDictionary())},t.prototype._doPostProcess=function(e){var t,i;(void 0===e&&(e=!1),this._isLoaded)?((this._setAppearance||e&&!this._dictionary.has("AP"))&&(this._appearanceTemplate=this._createAppearance()),!this._appearanceTemplate&&e&&this._dictionary.has("AP")&&(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((s=t.getRaw("N"))&&(i.reference=s),this._appearanceTemplate=new Fn(i,this._crossReference))):(this._postProcess(e),!this._appearanceTemplate&&e&&(this._dictionary.has("AP")?(t=this._dictionary.get("AP"))&&t.has("N")&&(i=t.get("N"))&&((s=t.getRaw("N"))&&(i.reference=s),this._appearanceTemplate=new Fn(i,this._crossReference)):this._appearanceTemplate=this._createAppearance()));if(void 0!==this.flattenPopups&&this.flattenPopups&&(this._isLoaded?this._flattenLoadedPopUp():this._flattenPopUp()),e&&this._appearanceTemplate){var n=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")&&!this._isLoaded){var o=this._appearanceTemplate._content.dictionary.getArray("BBox");o&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-o[0],-o[1]])}(n&&void 0!==this._page.rotation&&this._page.rotation!==Ge.angle0||this._appearanceTemplate&&!this._dictionary.has("AP")||this._dictionary.has("AP")&&this._isValidTemplateMatrix(this._appearanceTemplate._content.dictionary,this.bounds,this._appearanceTemplate))&&this._flattenAnnotationTemplate(this._appearanceTemplate,n)}if(this._dictionary.has("RC")&&this._isContentUpdated&&this._updateStyle(this.font,this._textMarkUpColor,this.textAlignment),!e&&this._setAppearance){var r=void 0;if(this._dictionary.has("AP"))r=this._dictionary.get("AP");else{var a=this._crossReference._getNextReference();r=new Va(this._crossReference),this._crossReference._cacheMap.set(a,r),this._dictionary.update("AP",a)}na(r,this._crossReference,"N");var s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,this._appearanceTemplate._content),r.update("N",s)}},t.prototype._isValidTemplateMatrix=function(e,t,i){var n=!0,o=t;if(e&&e.has("Matrix")){var r=e.getArray("BBox"),a=e.getArray("Matrix");if(a&&r&&a.length>3&&r.length>2&&void 0!==a[0]&&void 0!==a[1]&&void 0!==a[2]&&void 0!==a[3]&&1===a[0]&&0===a[1]&&0===a[2]&&1===a[3]&&void 0!==r[0]&&void 0!==r[1]&&void 0!==r[2]&&void 0!==r[3]&&(Math.round(r[0])!==Math.round(-a[4])&&Math.round(r[1])!==Math.round(-a[5])||0===r[0]&&0===Math.round(-a[4]))){var s=this._page.graphics,l=s.save();void 0!==this.opacity&&this._opacity<1&&s.setTransparency(this._opacity),o.x-=r[0],o.y+=r[1],s.drawTemplate(i,o),s.restore(l),this._page.annotations.remove(this),n=!1}}return n},t.prototype._createAppearance=function(){var e,t=this.border.width/2,i=this._obtainAppearanceBounds(),n=this.rotate;0!==n&&90!==n&&180!==n&&270!==n||(this._isAllRotation=!1);var o=(e=n>0&&this._isAllRotation?new Fn([0,0,i[2],i[3]],this._crossReference):new Fn(i,this._crossReference))._content.dictionary.getArray("BBox"),r=this._getRotationAngle();o&&null!=r&&e._content.dictionary.set("Matrix",[1,0,0,1,-o[0],-o[1]]);var a=new Vo,s=this._obtainText();e._writeTransformation=!1;var l=e.graphics,d=this._obtainTextAlignment(),h=this._obtainColor(),A=new Cn(h,this.border.width);this.border.width>0&&(a.borderPen=A);var p=this._obtainStyle(A,i,t,a);if(this.color&&(a.foreBrush=new Sn(this._color)),this.textMarkUpColor&&(a.backBrush=new Sn(this._textMarkUpColor)),a.borderWidth=this.border.width,this.calloutLines&&this._calloutLines.length>=2){if(this._drawCallOuts(l,A),this._isLoaded&&void 0===this._lineEndingStyle&&(this._lineEndingStyle=this.lineEndingStyle),this._lineEndingStyle!==Oe.none){var c=this._obtainLinePoints(),g=this._getAngle(c),u=this._getAxisValue([c[2],c[3]],90,0);this._drawLineEndStyle(u,l,g,A,a.foreBrush,this.lineEndingStyle,this.border.width,!1)}(p=this._dictionary.has("RD")?[p[0],-p[1],p[2],-p[3]]:[this.bounds.x,-(this._page.size[1]-(this.bounds.y+this.bounds.height)),this.bounds.width,-this.bounds.height])[0]=p[0]+this._cropBoxValueX,p[1]=p[1]-this._cropBoxValueY,this._calculateRectangle(p),a.bounds=p}else p=[p[0],-p[1],p[2],-p[3]],a.bounds=p;for(var f=this._obtainAppearanceBounds(),m=[p[0]-f[0],-p[1]-f[1],p[2]-f[2],-p[1]-f[1]-p[3]-f[3]],w=0;w<m.length;w++)m[Number.parseInt(w.toString(),10)]<0&&(m[Number.parseInt(w.toString(),10)]=-m[Number.parseInt(w.toString(),10)]);this._dictionary.update("RD",m),this.opacity&&this._opacity<1&&(l.save(),l.setTransparency(this._opacity)),this.rotationAngle&&this._rotate!==Ge.angle0&&l.save(),this._drawFreeTextRectangle(l,a,p,d),s&&this._drawFreeMarkUpText(l,a,p,s,d),this.opacity&&this._opacity<1&&l.restore(),this.rotationAngle&&this._rotate!==Ge.angle0&&l.restore();var y=this._obtainAppearanceBounds();return this.flatten&&(this._bounds={x:y[0],y:this._page.size[1]-(y[1]+y[3]),width:y[2],height:y[3]}),this._dictionary.set("Rect",[y[0],y[1],y[0]+y[2],y[1]+y[3]]),e},t.prototype._calculateRectangle=function(e){for(var t=this._obtainAppearanceBounds(),i=[e[0]-t[0],-e[1]-t[1],e[2]-t[2],-e[1]-t[1]-e[3]-t[3]],n=0;n<4;n++)i[Number.parseInt(n.toString(),10)]<0&&(i[Number.parseInt(n.toString(),10)]=-i[Number.parseInt(n.toString(),10)]);this._dictionary.set("RD",i)},t.prototype._obtainAnnotationIntent=function(e){switch(e){case at.freeTextCallout:this._intentString="FreeTextCallout";break;case at.freeTextTypeWriter:this._intentString="FreeTextTypeWriter"}return this._intentString},t.prototype._obtainFont=function(){var e=this._obtainFontDetails();if(!e.size&&this._dictionary.has("RC")){var t=void 0;if(this._parsedXMLData.length>0&&this._parsedXMLData[0]&&(t=this._parsedXMLData[0]),t instanceof nn){var i=t;e.size=i.size,e.style=i.style,e.name=i._fontFamily.toString()}else if(t instanceof on){i=t;e.size=i.size,e.style=i.style,e.name=i._fontFamily.toString()}}return pa(e.name,e.size,e.style,this)},t.prototype._updateStyle=function(e,t,i){var n="font:"+e._metrics._name+" "+e.size+"pt;style:"+function(e){var t=[];(e&vi.bold)>0&&t.push("Bold");(e&vi.italic)>0&&t.push("Italic");(e&vi.underline)>0&&t.push("Underline");(e&vi.strikeout)>0&&t.push("Strikeout");if(0===t.length)return"Regular";return t.join(", ")}(e.style)+";color:"+this._colorToHex(t);this._dictionary.update("DS",n);var o,r,a='<?xml version="1.0"?><body xmlns="http://www.w3.org/1999/xhtml" style="font:'+e._metrics._name+" "+e.size+"pt;font-weight:"+(e.isBold?"bold":"normal")+";color:"+this._colorToHex(t)+'"><p dir="ltr">';if(null!=i){switch(i){case We.left:r="left";break;case We.center:r="center";break;case We.right:r="right";break;case We.justify:r="justify"}r&&(o="text-align:"+r+";")}var s,l="",d="font-style:italic",h="font-style:bold";e.isUnderline?(l=e.isStrikeout?"text-decoration:word line-through":"text-decoration:word",e.isItalic?l+=";"+d:e.isBold&&(l+=";"+h)):e.isStrikeout?(l="text-decoration:line-through",e.isItalic?l+=";"+d:e.isBold&&(l+=";"+h)):e.isItalic?l+=d:e.isBold&&(l+=h),s=""!==l?'<span style = "'+o+l+'">'+(this.text?this._getXmlFormattedString(this.text):"")+"</span>":'<span style = "'+o+'">'+(this.text?this._getXmlFormattedString(this.text):"")+"</span>",this._dictionary.update("RC",a+s+"</p></body>")},t.prototype._drawFreeMarkUpText=function(e,t,i,n,o){var r=!1,a=this.rotate;if(this.rotationAngle!==Ge.angle90||this._isAllRotation?this.rotationAngle!==Ge.angle180||this._isAllRotation?this.rotationAngle!==Ge.angle270||this._isAllRotation?0!==a||this._isAllRotation||(i=[i[0],i[1]+i[3],i[2],i[3]]):i=[i[1]+i[3],-(i[0]+i[2]),-i[3],i[2]]:i=[-(i[2]+i[0]),-i[1],i[2],-i[3]]:i=[-i[1],i[0],-i[3],i[2]],(void 0===this._font||null===this._font||!this._isLoaded&&1===this._font.size)&&(this._font=this._markUpFont),a>0&&this._isAllRotation){r=!0;var s=this.bounds,l=new pi(We.center,hi.middle),d=this._font.measureString(n,[0,0],l,0,0);a>0&&a<=91?e.translateTransform(d[1],-s.height):a>91&&a<=181?e.translateTransform(s.width-d[1],-(s.height-d[1])):a>181&&a<=271?e.translateTransform(s.width-d[1],-d[1]):a>271&&a<360&&e.translateTransform(d[1],-d[1]),e.rotateTransform(a),t.bounds=[0,0,t.bounds[2],t.bounds[3]]}var h=[i[0],i[1],i[2],i[3]];if(this._paddings&&!this._isLoaded){var A=this._paddings._left,p=this._paddings._top,c=this._paddings._right+this._paddings._left,g=this._paddings._top+this._paddings._bottom;if(t.borderWidth>0){i=[i[0]+(t.borderWidth+A),i[1]+(t.borderWidth+p),i[2]-(2*t.borderWidth+c),i[3]>0?i[3]-(2*t.borderWidth+g):-i[3]-(2*t.borderWidth+g)]}else{i=[i[0]+A,i[1]+p,i[2]-c,i[3]>0?i[3]-g:-i[3]-g]}}else t.borderWidth>0&&(i=[i[0]+1.5*t.borderWidth,i[1]+1.5*t.borderWidth,i[2]-3*t.borderWidth,i[3]>0?i[3]-3*t.borderWidth:-i[3]-3*t.borderWidth]);var u=this._font._metrics._getHeight()>(i[3]>0?i[3]:-i[3]),f=this._font._metrics._getHeight()<=(h[3]>0?h[3]:-h[3]),m=u&&f;this._drawFreeTextAnnotation(e,t,n,this._font,m?h:i,!0,o,r)},t.prototype._drawFreeTextRectangle=function(e,t,i,n){if(this._dictionary.has("BE")){for(var o=0;o<i.length;o++)i[Number.parseInt(o.toString(),10)]<0&&(i[Number.parseInt(o.toString(),10)]=-i[Number.parseInt(o.toString(),10)]);this._drawAppearance(e,t,i),this.rotationAngle!==Ge.angle90||this._isAllRotation?this.rotationAngle!==Ge.angle180||this._isAllRotation?this.rotationAngle!==Ge.angle270||this._isAllRotation||e.rotateTransform(-270):e.rotateTransform(-180):e.rotateTransform(-90)}else this.rotationAngle!==Ge.angle90||this._isAllRotation?this.rotationAngle!==Ge.angle180||this._isAllRotation?this.rotationAngle!==Ge.angle270||this._isAllRotation||(e.rotateTransform(-270),t.bounds=[i[1]+i[3],-i[0],-i[3],-i[2]]):(e.rotateTransform(-180),t.bounds=[-(i[2]+i[0]),-(i[3]+i[1]),i[2],i[3]]):(e.rotateTransform(-90),t.bounds=[-i[1],i[2]+i[0],-i[3],-i[2]]),t.borderWidth>0&&!this._isAllRotation&&(i=t.bounds),this._drawFreeTextAnnotation(e,t,"",this._font,i,!1,n,!1)},t.prototype._drawAppearance=function(e,t,i){var n=new An;if(n.addRectangle(i[0],i[1],i[2],i[3]),this._dictionary.has("BE")){var o=this._dictionary.get("BE");if(o&&o.has("I")){var r=1===o.get("I")?4:9;this._drawCloudStyle(e,t.foreBrush,t.borderPen,r,.833,n._points,!0)}}},t.prototype._drawFreeTextAnnotation=function(e,t,i,n,o,r,a,s){if(r){var l=new pi;l.lineAlignment=hi.top,l.alignment=a,l.lineSpacing=0,s?e.drawString(i,n,t.bounds,null,t.backBrush,l):e.drawString(i,n,o,null,t.backBrush,l)}else e.drawRectangle(o[0],o[1],o[2],o[3],t.borderPen,t.foreBrush)},t.prototype._getCalloutLinePoints=function(){if(this._dictionary.has("CL")){var e=this._dictionary.getArray("CL");if(e){this._calloutLines=[];for(var t=0;t<e.length;t+=2){var i=[e[Number.parseInt(t.toString(),10)],this._page.size[1]-e[t+1]];this._calloutLines.push(i)}}}return this._calloutLines},t.prototype._obtainAppearanceBounds=function(){var e=[0,0,0,0];if(this.calloutLines&&this._calloutLines.length>0){for(var t=new An,i=[],n=2===this._calloutLines.length?2:3,o=0;o<n;o++)i.push([0,0]);if(this._calloutLines.length>=2){this._obtainCallOutsNative();for(o=0;o<this._calloutLines.length&&o<3;o++)i[Number.parseInt(o.toString(),10)]=[this._calloutsClone[Number.parseInt(o.toString(),10)][0],this._calloutsClone[Number.parseInt(o.toString(),10)][1]]}i.length>0&&(this.lineEndingStyle!==Oe.none&&this._expandAppearance(i),t._addLines(i)),t.addRectangle(this.bounds.x+this._cropBoxValueX-2,this._page.size[1]+this._cropBoxValueY-(this.bounds.y+this.bounds.height)-2,this.bounds.width+4,this.bounds.height+4),e=t._getBounds()}else e=[this.bounds.x+this._cropBoxValueX,this._page.size[1]+this._cropBoxValueY-(this.bounds.y+this.bounds.height),this.bounds.width,this.bounds.height];return e},t.prototype._obtainCallOutsNative=function(){if(this.calloutLines&&this._calloutLines.length>0){var e=this._page.size;this._calloutsClone=[];for(var t=0;t<this._calloutLines.length;t++)this._calloutsClone.push([this._calloutLines[Number.parseInt(t.toString(),10)][0]+this._cropBoxValueX,e[1]+this._cropBoxValueY-this._calloutLines[Number.parseInt(t.toString(),10)][1]])}},t.prototype._obtainLinePoints=function(){var e=this._page.size[1];return[this.calloutLines[1][0]+this._cropBoxValueX,e+this._cropBoxValueY-this.calloutLines[1][1],this.calloutLines[0][0]+this._cropBoxValueX,e+this._cropBoxValueY-this.calloutLines[0][1]]},t.prototype._obtainLineEndingStyle=function(){var e=Oe.square;return this._dictionary.has("LE")&&(e=Nr(this._dictionary.get("LE").name,e)),e},t.prototype._obtainText=function(){var e="",t=this._dictionary.has("Contents");if(t){var i=this._dictionary.get("Contents");return i&&(e=i),e&&""!==e&&(this._text=e),e}return this._dictionary.has("RC")&&!t&&null===e?e=this._rcText:e},t.prototype._obtainTextAlignment=function(){var e,t=We.left;if(this._dictionary.has("Q"))void 0!==(i=this._dictionary.get("Q"))&&(t=i,e=!0);else if(this._dictionary.has("RC")){if(this._parsedXMLData.length>0&&this._parsedXMLData[1])t=this._parsedXMLData[1],e=!0}if(!e&&this._dictionary.has("DS"))for(var i,n=(i=this._dictionary.get("DS")).split(";"),o=0;o<n.length;o++)if(-1!==n[Number.parseInt(o.toString(),10)].indexOf("text-align"))switch(n[Number.parseInt(o.toString(),10)]){case"left":t=We.left;break;case"right":t=We.right;break;case"center":t=We.center;break;case"justify":t=We.justify}return t},t.prototype._obtainColor=function(){var e;if(this._isLoaded)if(this._dictionary.has("DA")){var t=this._dictionary.get("DA");Array.isArray(t)&&t.length>0?e=[t[0],t[1],t[2]]:"string"==typeof t&&(this._da=new Jn(t),e=this._da.color)}else if(this._dictionary.has("MK")){var i=this._mkDictionary;i&&i.has("BC")&&(e=Fr(i.getArray("BC")))}else e=[0,0,0];else e=this._borderColor?this._borderColor:[0,0,0];return e},t.prototype._expandAppearance=function(e){var t=e[0][1],i=e[0][0];this._isLoaded||(t=this._page.size[1]-t),t>this.bounds.y?this.lineEndingStyle!==Oe.openArrow&&(e[0][1]-=11*this.border.width):e[0][1]+=11*this.border.width,i<=this.bounds.x?e[0][0]-=11*this.border.width:e[0][0]+=11*this.border.width},t.prototype._drawCallOuts=function(e,t){for(var i=new An,n=[],o=2===this._calloutLines.length?2:3,r=0;r<o;r++)n.push([0,0]);if(this._calloutLines.length>=2){this._obtainCallOutsNative();for(r=0;r<this._calloutLines.length&&r<3;r++)n[Number.parseInt(r.toString(),10)]=[this._calloutsClone[Number.parseInt(r.toString(),10)][0],-this._calloutsClone[Number.parseInt(r.toString(),10)][1]]}n.length>0&&i._addLines(n),e.drawPath(i,t)},t.prototype._saveFreeTextDictionary=function(){if((void 0===this.font||null===this.font||!this._isLoaded&&1===this.font.size)&&(this.font=this._markUpFont),"string"==typeof this.text&&null!==this.text&&this._dictionary.update("Contents",this.text),this._isLoaded&&(this._textAlignment=this.textAlignment),this._dictionary.update("Q",this._textAlignment),this.annotationIntent===at.none?this._dictionary.update("Subj","Text Box"):this._dictionary.update("IT",va.get(this._obtainAnnotationIntent(this._annotationIntent))),this._updateStyle(this.font,this.textMarkUpColor,this._textAlignment),this._dictionary.update("DA",this._getBorderColorString(this.borderColor?this._borderColor:[0,0,0])),this._calloutLines&&this._calloutLines.length>=2){for(var e=this._page.size[1],t=[],i=0;i<this._calloutLines.length&&i<3;i++)t.push(this._calloutLines[Number.parseInt(i.toString(),10)][0]+this._cropBoxValueX),t.push(e+this._cropBoxValueY-this._calloutLines[Number.parseInt(i.toString(),10)][1]);this._dictionary.update("CL",t)}if(this._setAppearance){var n=this._obtainAppearanceBounds();this._dictionary.update("Rect",[n[0],n[1],n[0]+n[2],n[1]+n[3]])}},t.prototype._getXmlFormattedString=function(e){return e=(e=(e=e.replace("&","&amp;")).replace("<","&lt;")).replace(">","&gt;")},t.prototype._parseXMLData=function(e){var t=this,i=vi.regular,n=[],o=e;if(!(this._dictionary.has("Contents")?this._dictionary.get("Contents"):"").split("").some((function(e){return t._isSymbol(e)}))&&null!=o){var r=(new DOMParser).parseFromString(o,"text/xml").documentElement,a=r&&r.namespaceURI||"";if(r){var s=this._collectStyles(r);if(s.size>0){var l=this._extractStylesToInput(s),d=this._getFontDetails(l,this.font.size,this.textAlignment,i,null),h=this._updateFontProperties(d,"",i,null),A=h.fontName,p=h.fontStyle,c=h.brush,g=pa(A,this.font._size,p,this);n=this._fontCollection(n,g,a,this._textAlignment,c)}}}return this._parsedXMLData=n,n},t.prototype._collectStyles=function(e,t){if(void 0===t&&(t=new Map),!e)return t;var i=null;try{i=window.getComputedStyle(e)}catch(e){return t}t.set(e.tagName.toLowerCase(),i);for(var n=e.firstElementChild;n;)this._collectStyles(n,t),n=n.nextElementSibling;return t},t.prototype._extractStylesToInput=function(e){var t=[];return e.forEach((function(e){if(e&&e.length>0)for(var i=0;i<e.length;i++){var n=e.item(Number.parseInt(i.toString(),10));if(null!=n){var o=e.getPropertyValue(n);t.push(n+": "+o)}}})),t},t.prototype._isSymbol=function(e){var t=e.charCodeAt(0);return"_"!==e&&"+"!==e&&"-"!==e&&"*"!==e&&"="!==e&&(t>=8352&&t<=8399||t>=8704&&t<=8959||t>=10752&&t<=11007||t>=8448&&t<=8527||t>=8960&&t<=9215||11088===t)},t.prototype._updateFontProperties=function(e,t,i,n){var o=this;return e.forEach((function(e,r){switch(r){case"font-family":t=e;break;case"font-size":o.font._size=parseFloat(e);break;case"font-style":case"font-weight":case"text-decoration":i=o._obtainFontStyle(e,r);break;case"text-align":o._textAlignment=o._parseTextAlignment(e);break;case"color":n=e;break;case"xfa-spacerun":o._rcText=e}})),{fontName:t,fontStyle:i,brush:n}},t.prototype._obtainFontStyle=function(e,t){var i=parseFloat(e);switch(t){case"font-style":return 0===i?vi.regular:1===i?vi.bold:2===i?vi.italic:8===i?vi.strikeout:4===i?vi.underline:vi.regular;case"font-weight":return 1===i?vi.bold:vi.regular;case"text-decoration":return 8===i?vi.strikeout:4===i?vi.underline:vi.regular;default:return vi.regular}},t.prototype._parseTextAlignment=function(e){switch(parseFloat(e)){case 0:default:return We.left;case 1:return We.center;case 2:return We.right;case 3:return We.justify}},t.prototype._getFontDetails=function(e,t,i,n,o){var r=this,a=new Map;return e.forEach((function(e){var s=e.split(":").map((function(e){return e.trim()})),l=s[0],d=s[1];if(l&&d)switch(l.toLowerCase()){case"font":r._parseFont(d,a);break;case"font-size":t=r._parseFontSize(d),a.set("font-size",t);break;case"font-weight":n=r._parseFontWeight(d,n),a.set("font-weight",n);break;case"font-family":a.set("font-family",r._parseFontFamily(d));break;case"color":o=new Sn(r._rgbStringToArray(d)),a.set("color",o);break;case"font-style":n=r._parseFontStyle(d,n),a.set("font-style",n);break;case"text-decoration":n=r._parseTextDecoration(d,n),a.set("text-decoration",n);break;case"text-align":i=r._parseTextAlign(d),a.set("text-align",i);break;case"xfa-spacerun":r._rcText=d.length>1&&d.includes("yes")?r._rcText+" ":r._rcText,a.set("xfa-spacerun",r._rcText)}})),a},t.prototype._parseFont=function(e,t){var i=e.split(" ").map((function(e){return e.trim()})),n="";i.forEach((function(e){e&&!e.endsWith("pt")?n+=e+" ":e.endsWith("pt")&&t.set("font-size",parseFloat(e.replace("pt","").replace(",",".").trim()))})),t.set("font-family",n.trim().replace(/['",]/g,""))},t.prototype._parseFontSize=function(e){return e.endsWith("pt")?parseFloat(e.replace("pt","").replace(",",".").trim()):0},t.prototype._parseFontWeight=function(e,t){return e.includes("bold")&&(t|=vi.bold),t},t.prototype._parseFontFamily=function(e){return e.replace(/^'+|'+$/g,"").trim()},t.prototype._parseFontStyle=function(e,t){return e.includes("normal")||e.includes("regular")?vi.regular:e.includes("underline")?vi.underline:e.includes("strikeout")?vi.strikeout:e.includes("italic")?vi.italic:e.includes("bold")?vi.bold:t},t.prototype._parseTextDecoration=function(e,t){return e.includes("word")?vi.underline:e.includes("line-through")?vi.strikeout:t},t.prototype._parseTextAlign=function(e){switch(e.trim().toLowerCase()){case"left":default:return We.left;case"right":return We.right;case"center":return We.center;case"justify":return We.justify}},t.prototype._rgbStringToArray=function(e){var t=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(t)return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)];throw new Error("Invalid RGB string format")},t.prototype._fontCollection=function(e,t,i,n,o){return e.concat([t,n,i,o])},t}(Zn),So=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r._textAlignment=We.left,r._dictionary=new Va,r._dictionary.update("Type",va.get("Annot")),r._dictionary.update("Subtype",va.get("Redact")),void 0!==t&&void 0!==i&&void 0!==n&&void 0!==o&&(r.bounds={x:t,y:i,width:n,height:o}),r._type=ht.redactionAnnotation,r}return Wn(t,e),Object.defineProperty(t.prototype,"repeatText",{get:function(){return void 0===this._repeat&&this._dictionary.has("Repeat")&&(this._repeat=this._dictionary.get("Repeat")),this._repeat},set:function(e){e!==this._repeat&&(this._repeat=e,this._dictionary&&this._dictionary.update("Repeat",e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return this._dictionary.has("Q")&&(this._textAlignment=this._dictionary.get("Q")),this._textAlignment},set:function(e){this._textAlignment!==e&&this._dictionary.update("Q",e),this._textAlignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textColor",{get:function(){return void 0===this._textColor&&this._dictionary.has("C")&&(this._textColor=Fr(this._dictionary.getArray("C"))),this._textColor},set:function(e){if(void 0!==e&&3===e.length){var t=this.textColor;this._isLoaded&&void 0!==t&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this._textColor=e,this._dictionary.update("C",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return void 0===this._borderColor&&this._dictionary.has("OC")&&(this._borderColor=Fr(this._dictionary.getArray("OC"))),this._borderColor},set:function(e){if(void 0!==e&&3===e.length){var t=this.borderColor;this._isLoaded&&void 0!==t&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this._borderColor=e,this._dictionary.update("OC",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlayText",{get:function(){return void 0===this._overlayText&&this._dictionary.has("OverlayText")&&(this._overlayText=this._dictionary.get("OverlayText")),this._overlayText},set:function(e){"string"==typeof e&&(this._dictionary.update("OverlayText",e),this._overlayText=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this._font},set:function(e){this._font=e},enumerable:!0,configurable:!0}),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._postProcess=function(e){if(void 0===this.bounds||null===this.bounds)throw new Error("Bounds cannot be null or undefined");var t;if(this._dictionary.has("BS"))t=this.border.width;else{var i=new Va(this._crossReference);i.set("Type",va.get("Border")),this._dictionary.set("BS",i)}void 0===t&&(t=1),this._setAppearance&&(this._appearanceTemplate=this._createRedactionAppearance(e)),this._dictionary.update("Rect",ga(this))},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),!this._isImported){if(this._isLoaded)this._appearanceTemplate=this._createRedactionAppearance(e);else if(this._postProcess(e),!this._appearanceTemplate&&e)if(this._dictionary.has("AP")){var t=this._dictionary.get("AP");if(t&&t.has("N")){var i=t.get("N");if(i){var n=t.getRaw("N");n&&(i.reference=n),this._appearanceTemplate=new Fn(i,this._crossReference)}}}else this._appearanceTemplate=this._createRedactionAppearance(e);if(e&&this._appearanceTemplate){var o=this._validateTemplateMatrix(this._appearanceTemplate._content.dictionary);if(!this._appearanceTemplate._content.dictionary.has("Matrix")){var r=this._appearanceTemplate._content.dictionary.getArray("BBox");r&&this._appearanceTemplate._content.dictionary.update("Matrix",[1,0,0,1,-r[0],-r[1]])}this._flattenAnnotationTemplate(this._appearanceTemplate,o)}}},t.prototype._createRedactionAppearance=function(e){var t=this._createNormalAppearance();if(e)this._isLoaded&&null!==this._page&&this._page.annotations.remove(this);else{var i=this._createBorderAppearance();if(this._dictionary.has("AP")){var n=this._dictionary.get("AP");n&&n instanceof Va&&(na(n,this._crossReference,"N"),na(n,this._crossReference,"R"))}var o=new Va(this._crossReference);i._content.dictionary._updated=!0;var r=this._crossReference._getNextReference();this._crossReference._cacheMap.set(r,i._content),i._content.reference=r,o.set("N",r),t._content.dictionary._updated=!0;var a=this._crossReference._getNextReference();this._crossReference._cacheMap.set(a,t._content),t._content.reference=a,o.set("R",a),o._updated=!0,this._dictionary.set("AP",o)}return t},t.prototype._createBorderAppearance=function(){var e,t=[0,0,this.bounds.width,this.bounds.height],i=new Fn(t,this._crossReference),n=this.border.width/2,o=i.graphics,r=this.border.width;this.border.width>0&&this.borderColor&&(e=new Cn(this.borderColor,r));var a=[t[0],t[1],t[2],t[3]];if(this.opacity<1){var s=o.save();o.setTransparency(this.opacity),o.drawRectangle(a[0]+n,a[1]+n,a[2]-r,a[3]-r,e,null),o.restore(s)}else o.drawRectangle(a[0]+n,a[1]+n,a[2]-r,a[3]-r,e,null);return i},t.prototype._createNormalAppearance=function(){var e=[0,0,this.bounds.width,this.bounds.height],t=new Fn(e,this._crossReference);Wr(t,this._getRotationAngle());var i,n,o,r=this.border.width/2,a=t.graphics,s=new Vo;this.textColor&&this.border.width>0&&(i=new Cn(this.textColor,this.border.width)),this.innerColor&&(n=new Sn(this.innerColor)),o=this.textColor?new Sn(this.textColor):new Sn([128,128,128]),s.backBrush=n,s.borderWidth=r;var l=this.border.width,d=[e[0],e[1],e[2],e[3]];if(this.opacity<1){var h=a.save();a.setTransparency(this.opacity),a.drawRectangle(d[0]+r,d[1]+r,d[2]-l,d[3]-l,i,n),a.restore(h)}else a.drawRectangle(d[0]+r,d[1]+r,d[2]-l,d[3]-l,i,n);if(a.restore(),this.overlayText&&Sa(this.overlayText)&&""!==this._overlayText){var A=0,p=0;void 0!==this.font&&null!==this.font||(this.font=this._lineCaptionFont);var c=0,g=0,u=0,f=void 0;this._isLoaded&&(this._textAlignment=this.textAlignment);var m=new pi(this._textAlignment,hi.top),w=this.font.measureString(this.overlayText,[0,0],m,0,0);if(this._isLoaded&&void 0===this._repeat&&(this._repeat=this.repeatText),this._repeat){w[0]<=0&&(w[0]=1),A=this.bounds.width/w[0],p=Math.floor(this.bounds.height/this.font._size),u=Math.abs(this.bounds.width-Math.floor(A)*w[0]),this._textAlignment===We.center&&(g=u/2),this._textAlignment===We.right&&(g=u);for(var y=1;y<A;y++){for(var S=0;S<p;S++)f=[g,c,0,0],a.drawString(this.overlayText,this.font,f,null,o,null),c+=this.font._size;g+=w[0],c=0}}else u=Math.abs(this.bounds.width-w[0]),this._textAlignment===We.center&&(g=u/2),this._textAlignment===We.right&&(g=u),f=[g,0,this.bounds.width-this.border.width,this.bounds.height-this.border.width],a.drawString(this.overlayText,this.font,f,null,o,m)}return t},t}(Xn),Co=function(e){function t(){var t=e.call(this)||this;return t._type=ht.richMediaAnnotation,t}return Wn(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._initialize(e,i),n},t.prototype._initialize=function(t,i){e.prototype._initialize.call(this,t,i)},t.prototype._doPostProcess=function(e){if(void 0===e&&(e=!1),void 0!==this.flattenPopups&&this.flattenPopups&&this._flattenPopUp(),e){var t=void 0;if(this._dictionary.has("AP")){var i=this._dictionary.get("AP");if(i&&i.has("N")){t=i.get("N");var n=i.getRaw("N");n&&t&&(t.reference=n)}}if(t){var o=new Fn(t,this._crossReference),r=this._validateTemplateMatrix(o._content.dictionary);this._flattenAnnotationTemplate(o,r)}else this._removeAnnotation(this._page,this)}},t}(Xn),Bo=function(e){function t(){var t=e.call(this)||this;return t._isAutoResize=!1,t._visibility=Xe.visible,t._isFont=!1,t._isTransparentBackColor=!1,t._isTransparentBorderColor=!1,t._isWidget=!0,t._type=ht.widgetAnnotation,t}return Wn(t,e),t._load=function(e,i){var n=new t;return n._isLoaded=!0,n._dictionary=e,n._crossReference=i,n},Object.defineProperty(t.prototype,"page",{get:function(){return this._getPage()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return void 0===this._color&&this._defaultAppearance&&(this._color=this._da.color),this._color},set:function(e){void 0!==this.color&&this._color===e||(this._color=e);var t=!1;this._defaultAppearance||(this._da=new Jn(""),t=!0),(t||this._da.color!==e)&&(this._da.color=e,this._dictionary.update("DA",this._da.toString()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backColor",{get:function(){return this._parseBackColor()},set:function(e){this._updateBackColor(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_hasBackColor",{get:function(){if(this._isLoaded){var e=this._mkDictionary;return e&&e.has("BG")}return!this._isTransparentBackColor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_hasBorderColor",{get:function(){if(this._isLoaded){var e=this._mkDictionary;return e&&e.has("BC")}return!this._isTransparentBorderColor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderColor",{get:function(){return this._parseBorderColor()},set:function(e){this._updateBorderColor(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return void 0===this._rotationAngle&&(this._mkDictionary&&this._mkDictionary.has("R")?this._rotationAngle=this._mkDictionary.get("R"):this._dictionary.has("R")&&(this._rotationAngle=this._dictionary.get("R"))),this._rotationAngle},set:function(e){void 0!==this.rotate&&this._rotationAngle===e||(void 0===this._mkDictionary&&this._dictionary.update("MK",new Va(this._crossReference)),this._mkDictionary.update("R",e),this._rotationAngle=e,this._dictionary._updated=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightMode",{get:function(){if(void 0===this._highlightMode&&this._dictionary.has("H")){var e=this._dictionary.get("H");this._highlightMode=Rr(e.name)}return this._highlightMode},set:function(e){this._highlightMode!==e&&this._dictionary.update("H",Lr(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._isLoaded&&void 0===this._bounds&&(this._bounds=_r(this._dictionary,this._getPage())),void 0!==this._bounds&&null!==this._bounds||(this._bounds={x:0,y:0,width:0,height:0}),this._bounds},set:function(e){if(0===e.x&&0===e.y&&0===e.width&&0===e.height)throw new Error("Cannot set empty bounds");this._bounds=e,this._page&&this._page._isNew&&this._page._pageSettings?this._dictionary.update("Rect",ga(this)):this._dictionary.update("Rect",Vr([e.x,e.y,e.width,e.height],this._getPage()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlignment",{get:function(){return void 0===this._textAlignment&&this._dictionary.has("Q")&&(this._textAlignment=this._dictionary.get("Q")),this._textAlignment},set:function(e){void 0!==this._textAlignment&&this._textAlignment===e||this._dictionary.update("Q",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){var e;if(!this._isLoaded)return this._visibility;e=Xe.visible;var t=Le.default;if(this._hasFlags){var i=3;switch(((t=this.flags)&Le.hidden)===Le.hidden&&(i=0),(t&Le.noView)===Le.noView&&(i=1),(t&Le.print)!==Le.print&&(i&=2),i){case 0:e=Xe.hidden;break;case 1:e=Xe.hiddenPrintable;break;case 2:e=Xe.visibleNotPrintable;break;case 3:e=Xe.visible}}else e=Xe.visibleNotPrintable;return e},set:function(e){if(this._isLoaded)ia(this._dictionary,e),this._dictionary._updated=!0;else{switch(e){case Xe.hidden:this.flags=Le.hidden;break;case Xe.hiddenPrintable:this.flags=Le.noView|Le.print;break;case Xe.visible:this.flags=Le.print;break;case Xe.visibleNotPrintable:this.flags=Le.default}this._visibility=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){if(!this._pdfFont){var e=void 0;if(this._crossReference){var t=this._crossReference._document.form,i=this._obtainFontDetails();if(t&&t._dictionary.has("DR")){var n=t._dictionary.get("DR");if(n.has("Font")){var o=n.get("Font");if(o.has(i.name)){var r=o.get(i.name);if(r&&i.name&&r.has("BaseFont")){var a=r.get("BaseFont"),s=vi.regular;a&&(e=a.name,s=Aa(a.name),e.includes("-")&&(e=e.substring(0,e.indexOf("-"))),this._pdfFont=pa(e,i.size,s,this))}}}}}}return(null===this._pdfFont||void 0===this._pdfFont||!this._isLoaded&&1===this._pdfFont.size)&&(this._pdfFont=this._circleCaptionFont),this._pdfFont},set:function(e){e&&e instanceof tn&&(this._pdfFont=e,this._initializeFont(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_defaultAppearance",{get:function(){if(void 0===this._da&&this._dictionary.has("DA")){var e=this._dictionary.get("DA");e&&""!==e&&(this._da=new Jn(e))}return this._da},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_mkDictionary",{get:function(){var e;return this._dictionary.has("MK")&&(e=this._dictionary.get("MK")),e},enumerable:!0,configurable:!0}),t.prototype._create=function(e,t,i){return this._page=e,this._crossReference=e._crossReference,this._ref=this._crossReference._getNextReference(),this._dictionary=new Va(this._crossReference),this._crossReference._cacheMap.set(this._ref,this._dictionary),this._dictionary._currentObj=this,this._dictionary.objId=this._ref.toString(),this._dictionary.update("Type",va.get("Annot")),this._dictionary.update("Subtype",va.get("Widget")),this.flags|=Le.print,this._dictionary.update("P",e._ref),e._addWidget(this._ref),this.border=new Do,this.bounds=t,i&&(this._field=i,this._dictionary.update("Parent",this._field._ref)),this._dictionary},t.prototype._doPostProcess=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),e||t){var i=void 0;if(t||e&&this._dictionary.has("AP"),!i&&this._dictionary.has("AP")){var n=this._dictionary.get("AP");if(n&&n.has("N"))i=n.get("N"),(h=n.getRaw("N"))&&i&&(i.reference=h)}if(i){var o=void 0;if(e){var r=new Fn(i,this._crossReference),a=this._getPage();if(a){var s=a.graphics;s.save(),a.rotation===Ge.angle90?(s.translateTransform(s._size[0],s._size[1]),s.rotateTransform(90)):a.rotation===Ge.angle180?(s.translateTransform(s._size[0],s._size[1]),s.rotateTransform(-180)):a.rotation===Ge.angle270&&(s.translateTransform(s._size[0],s._size[1]),s.rotateTransform(270)),o={x:this.bounds.x,y:this.bounds.y,width:r._size[0],height:r._size[1]},s.drawTemplate(r,o),s.restore()}}else{var l=void 0;if(this._dictionary.has("AP"))l=this._dictionary.get("AP");else{var d=this._crossReference._getNextReference();l=new Va(this._crossReference),this._crossReference._cacheMap.set(d,l),this._dictionary.update("AP",d)}na(l,this._crossReference,"N");var h=this._crossReference._getNextReference();this._crossReference._cacheMap.set(h,i),l.update("N",h)}}this._dictionary._updated=!1}},t.prototype._initializeFont=function(e){var t;if(this._pdfFont=e,this._crossReference){var i=void 0;(t=this._crossReference._document)&&(i=t.form._dictionary.has("DR")?t.form._dictionary.get("DR"):new Va(this._crossReference));var n=void 0,o=!1;if(i.has("Font")){var r=i.getRaw("Font");r&&r instanceof xa?(o=!0,n=this._crossReference._fetch(r)):r instanceof Va&&(n=r)}n||(n=new Va(this._crossReference),i.update("Font",n));var a=va.get(zr()),s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,this._pdfFont._dictionary),e instanceof rn?this._pdfFont._pdfFontInternals&&this._crossReference._cacheMap.set(s,this._pdfFont._pdfFontInternals):this._pdfFont._dictionary&&this._crossReference._cacheMap.set(s,this._pdfFont._dictionary),n.update(a.name,s),i._updated=!0,t.form._dictionary.update("DR",i),t.form._dictionary._updated=!0,this._fontName=a.name;var l=new Jn;l.fontName=this._fontName,l.fontSize=this._pdfFont._size,l.color=this.color?this.color:[0,0,0],this._dictionary.update("DA",l.toString()),o&&(i._updated=!0),this._isFont=!0}},t.prototype._getPage=function(){if(!this._page){var e;this._crossReference&&(e=this._crossReference._document);var t=void 0;if(this._dictionary.has("P")){var i=this._dictionary.getRaw("P");if(i&&e)for(var n=0;n<e.pageCount;n++){var o=e.getPage(n);if(o&&o._ref===i){t=o;break}}}!t&&e&&this._ref&&(t=jr(e,this._ref)),this._page=t}return this._page},t.prototype._beginSave=function(){if(!this._isLoaded&&!this._page._isNew){var e=this._bounds;this._dictionary.update("Rect",Vr([e.x,e.y,e.width,e.height],this._page))}},t.prototype._parseBackColor=function(){var e;if(this._isLoaded&&this._hasBackColor||!this._isLoaded&&!this._isTransparentBackColor){if(void 0===this._backColor){var t=this._mkDictionary;if(t&&t.has("BG")){var i=t.getArray("BG");i&&(this._backColor=Fr(i))}}void 0!==this._backColor&&null!==this._backColor||(this._backColor=[255,255,255]),e=this._backColor}return e},t.prototype._parseBorderColor=function(){var e;if(this._isLoaded&&this._hasBorderColor||!this._isLoaded&&!this._isTransparentBorderColor){if(void 0===this._borderColor){var t=this._mkDictionary;if(t&&t.has("BC")){var i=t.getArray("BC");i&&(this._borderColor=Fr(i))}}void 0!==this._borderColor&&null!==this._borderColor||(this._borderColor=[0,0,0]),e=this._borderColor}return e},t.prototype._updateBackColor=function(e,t){void 0===t&&(t=!1);var i=!1;if(4===e.length&&255!==e[3]){this._isTransparentBackColor=!0,this._dictionary.has("BG")&&(delete this._dictionary._map.BG,i=!0);var n=this._mkDictionary;n&&n.has("BG")&&(delete n._map.BG,this._dictionary._updated=!0,i=!0)}else this._isTransparentBackColor=!1,void 0!==this.backColor&&this._backColor===e||(void 0===this._mkDictionary&&this._dictionary.update("MK",new Va(this._crossReference)),this._mkDictionary.update("BG",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._backColor=[e[0],e[1],e[2]],this._dictionary._updated=!0,i=!0);t&&i&&this._field&&(this._field._setAppearance=!0)},t.prototype._updateBorderColor=function(e){if(4===e.length&&255!==e[3]){this._isTransparentBorderColor=!0,this._dictionary.has("BC")&&delete this._dictionary._map.BC;var t=this._mkDictionary;if(t&&t.has("BC")){if(delete t._map.BC,this._dictionary.has("BS")){var i=this._dictionary.get("BS");i&&i.has("W")&&delete i._map.W}this._dictionary._updated=!0}}else this._isTransparentBorderColor=!1,void 0!==this.borderColor&&this.borderColor===e||(void 0===this._mkDictionary&&this._dictionary.update("MK",new Va(this._crossReference)),this._mkDictionary.update("BC",[Number.parseFloat((e[0]/255).toFixed(3)),Number.parseFloat((e[1]/255).toFixed(3)),Number.parseFloat((e[2]/255).toFixed(3))]),this._borderColor=[e[0],e[1],e[2]],this._dictionary._updated=!0)},t}(Xn),Io=function(e){function t(){return e.call(this)||this}return Wn(t,e),t._load=function(e,i,n){var o=new t;return o._isLoaded=!0,o._dictionary=e,o._crossReference=i,o._field=n,o},Object.defineProperty(t.prototype,"checked",{get:function(){return Gr(this._dictionary)},set:function(e){this.checked!==e&&(this._field&&(this._setCheckedStatus(e),this._field._setAppearance=!0),this._dictionary.update("AS",va.get(e?"Yes":"Off")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){if(this._isLoaded){var e=this._mkDictionary;e&&e.has("CA")?this._style=function(e){var t=et.check;switch(e){case"l":t=et.circle;break;case"8":t=et.cross;break;case"u":t=et.diamond;break;case"n":t=et.square;break;case"H":t=et.star}return t}(e.get("CA")):this._style=et.check}return this._style},set:function(e){if(this.style!==e){this._style=e;var t=this._mkDictionary;t||(t=new Va(this._crossReference),this._dictionary.update("MK",t)),t.update("CA",Xr(e))}},enumerable:!0,configurable:!0}),t.prototype._setCheckedStatus=function(e){var t=e,i=this._getItemValue(this._dictionary);if(this._unCheckOthers(this,i,e),t)i||(i="Yes"),this._field._dictionary.update("V",i),this._dictionary.update("AS",va.get(i)),this._dictionary.update("V",va.get(i));else if(this._field._dictionary){if(this._field._dictionary.has("V")){var n=this._field._dictionary.get("V");n&&n.name===i&&delete this._field._dictionary._map.V}this._field._dictionary.update("AS",va.get("Off"))}},t.prototype._unCheckOthers=function(e,t,i){if(!this._field._isUpdating){this._field._isUpdating=!0;for(var n=this._field.itemsCount,o=0;o<n;++o){var r=this._field.itemAt(o);r&&(r!==e?r.checked=this._getItemValue(r._dictionary)===t&&i:r.checked||(r.checked=!0))}}},t.prototype._getItemValue=function(e){var t="";if(e&&e.has("AS")){var i=e.get("AS");i&&"Off"!==i.name&&(t="Off")}if(""===t&&e&&e.has("AP")){var n=e.get("AP");if(n&&n.has("N")){var o=n.get("N"),r=[];if(o.forEach((function(e,t){r.push(e)})),r.length>0)for(var a=0;a<r.length;a++){var s=r[Number.parseInt(a.toString(),10)];if(s&&"Off"!==s){t=s;break}}}}return t},t.prototype._doPostProcess=function(){var e=Kr(this.checked?gt.checked:gt.unchecked,this);if(e){var t=this._getPage();if(t){var i=t.graphics;i.save(),t.rotation===Ge.angle90?(i.translateTransform(i._size[0],i._size[1]),i.rotateTransform(90)):t.rotation===Ge.angle180?(i.translateTransform(i._size[0],i._size[1]),i.rotateTransform(-180)):t.rotation===Ge.angle270&&(i.translateTransform(i._size[0],i._size[1]),i.rotateTransform(270)),i._sw._setTextRenderingMode(dn.fill),i.drawTemplate(e,this.bounds),i.restore()}}this._dictionary._updated=!1},t.prototype._postProcess=function(e){var t=this._field;e||(e=t&&t.checked?"Yes":"Off"),this._dictionary.update("AS",va.get(e))},t.prototype._setField=function(e){this._field=e,this._field._stringFormat=new pi(this.textAlignment,hi.middle),this._field._addToKid(this)},t}(Bo),bo=function(e){function t(t,i,n){var o=e.call(this)||this;return n&&t&&i&&(n instanceof Rn?o._initializeItem(t,i,n.page,n):o._initializeItem(t,i,n)),o}return Wn(t,e),t._load=function(e,i,n){var o=new t;return o._isLoaded=!0,o._dictionary=e,o._crossReference=i,o._field=n,o},Object.defineProperty(t.prototype,"selected",{get:function(){return this._index===this._field.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._isLoaded&&!this._optionValue&&(this._optionValue=Jr(this._dictionary)),this._optionValue},set:function(e){this._optionValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backColor",{get:function(){return this._parseBackColor()},set:function(e){this._updateBackColor(e,!0)},enumerable:!0,configurable:!0}),t.prototype._initializeItem=function(e,t,i,n){this._optionValue=e,this._page=i,this._create(this._page,t,this._field),this.textAlignment=We.left,this._dictionary.update("MK",new Va(this._crossReference)),this._mkDictionary.update("BC",[0,0,0]),this._mkDictionary.update("BG",[1,1,1]),this.style=et.circle,this._dictionary.update("DA","/TiRo 0 Tf 0 0 0 rg"),n&&(this._setField(n),this._dictionary.update("Parent",n._ref))},t.prototype._postProcess=function(e){var t=this._field;!e&&t&&-1!==t.selectedIndex&&(e=t.itemAt(t.selectedIndex).value),this.value===e?this._dictionary.update("AS",va.get(this.value)):this._dictionary.update("AS",va.get("Off"))},t}(Io),vo=function(e){function t(t,i,n){var o=e.call(this)||this;return t&&i&&o._initializeItem(t,i,n),o}return Wn(t,e),t._load=function(e,i,n){var o=new t;return o._isLoaded=!0,o._dictionary=e,o._crossReference=i,o._field=n,o},Object.defineProperty(t.prototype,"text",{get:function(){return void 0===this._text&&void 0!==this._field&&(this._field instanceof jn||this._field instanceof Yn)&&(this._text=this._field._options[Number.parseInt(this._index.toString(),10)][1]),this._text},set:function(e){"string"==typeof e&&void 0!==this._field&&(this._field instanceof jn||this._field instanceof Yn)&&e!==this._field._options[Number.parseInt(this._index.toString(),10)][1]&&(this._field._options[Number.parseInt(this._index.toString(),10)][1]=e,this._text=e,this._field._dictionary._updated=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._index===this._field.selectedIndex},enumerable:!0,configurable:!0}),t.prototype._initializeItem=function(e,t,i){this._text=e,this._value=t,i&&i instanceof jn&&i._addToOptions(this,i)},t}(Io),Eo=function(){function e(e,t,i){this._cap=void 0!==e&&e,this._type=void 0!==t?t:He.inline,this._offset=void 0!==i?i:[0,0]}return Object.defineProperty(e.prototype,"cap",{get:function(){return this._cap},set:function(e){e!==this._cap&&(this._cap=e,this._dictionary&&this._dictionary.update("Cap",e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){e!==this._type&&(this._type=e,this._dictionary&&this._dictionary.update("CP",va.get(e===He.top?"Top":"Inline")))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(e){fr(e,this._offset)&&(this._offset=e,this._dictionary&&this._dictionary.update("CO",e))},enumerable:!0,configurable:!0}),e}(),xo=function(){function e(e,t){this._begin=void 0!==e?e:Oe.none,this._end=void 0!==t?t:Oe.none}return Object.defineProperty(e.prototype,"begin",{get:function(){return this._begin},set:function(e){e!==this._begin&&(this._begin=e,this._dictionary&&this._dictionary.update("LE",[va.get(Pr(e)),va.get(Pr(this._end))]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(e){e!==this._end&&(this._end=e,this._dictionary&&this._dictionary.update("LE",[va.get(Pr(this._begin)),va.get(Pr(e))]))},enumerable:!0,configurable:!0}),e}(),_o=function(){function e(e,t,i){this._width=void 0!==e?e:1,this._style=void 0!==t?t:Ye.solid,void 0!==i&&Array.isArray(i)&&(this._dash=i)}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(e){if(e!==this._width&&(this._width=e,this._dictionary)){var t=this._dictionary.has("BS")?this._dictionary.get("BS"):new Va(this._crossReference);t.update("Type",va.get("Border")),t.update("W",this._width),t.update("S",Tr(this._style)),this._dash&&t.update("D",this._dash),this._dictionary.update("BS",t),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(e){if(e!==this._style&&(this._style=e,this._dictionary)){var t=this._dictionary.has("BS")?this._dictionary.get("BS"):new Va(this._crossReference);t.update("Type",va.get("Border")),t.update("W",this._width),t.update("S",Tr(this._style)),this._dash&&t.update("D",this._dash),this._dictionary.update("BS",t),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dash",{get:function(){return this._dash},set:function(e){if((void 0===this._dash||fr(e,this._dash))&&(this._dash=e,this._dictionary)){var t=this._dictionary.has("BS")?this._dictionary.get("BS"):new Va(this._crossReference);t.update("Type",va.get("Border")),t.update("W",this._width),t.update("S",Tr(this._style)),t.update("D",this._dash),this._dictionary.update("BS",t),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),e}(),Do=function(e){function t(t,i,n,o,r){var a=e.call(this,t,o,r)||this;return a._hRadius=void 0!==i?i:0,a._vRadius=void 0!==n?n:0,a}return Wn(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){if(e!==this._width&&(this._width=e,this._dictionary)){this._dictionary.update("Border",[this._hRadius,this._vRadius,this._width]);var t=this._dictionary.has("BS")?this._dictionary.get("BS"):new Va(this._crossReference);t.update("Type",va.get("Border")),t.update("W",this._width),t.update("S",Tr(this._style)),this._dash&&t.update("D",this._dash),this._dictionary.update("BS",t),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hRadius",{get:function(){return this._hRadius},set:function(e){e!==this._hRadius&&(this._hRadius=e,this._dictionary&&this._dictionary.update("Border",[this._hRadius,this._vRadius,this._width]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vRadius",{get:function(){return this._vRadius},set:function(e){e!==this._vRadius&&(this._vRadius=e,this._dictionary&&this._dictionary.update("Border",[this._hRadius,this._vRadius,this._width]))},enumerable:!0,configurable:!0}),t}(_o),Mo=function(){function e(e){if(this._intensity=0,null!=e){if(e.has("BE")){var t=this._dictionary.get("BE");t&&(t.has("I")&&(this._intensity=t.get("I")),t.has("S")&&(this._style=this._getBorderEffect(t.get("S"))))}}else this._dictionary=new Va,this._dictionary.set("I",this._intensity),this._dictionary.set("S",this._styleToEffect(this._style))}return Object.defineProperty(e.prototype,"intensity",{get:function(){return this._intensity},set:function(e){if(e!==this._intensity){if(this._intensity=e,this._dictionary){var t=this._dictionary.has("BE")?this._dictionary.get("BE"):new Va(this._crossReference);t.update("I",this._intensity),t.update("S",this._styleToEffect(this._style)),this._dictionary.update("BE",t),this._dictionary._updated=!0}this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(e){if(e!==this._style&&(this._style=e,this._dictionary)){var t=this._dictionary.has("BE")?this._dictionary.get("BE"):new Va(this._crossReference);t.update("I",this._intensity),t.update("S",this._styleToEffect(this._style)),this._dictionary.update("BE",t),this._dictionary._updated=!0}},enumerable:!0,configurable:!0}),e.prototype._getBorderEffect=function(e){return"/C"===e?je.cloudy:je.solid},e.prototype._styleToEffect=function(e){return e===je.cloudy?"C":"S"},e}(),Vo=function(){this.borderWidth=1},Qo=function(){this.startAngle=0,this.endAngle=0},Fo=function(){function e(e,t,i){this._isExport=!1,Sa(e)?this._annotations=e:this._annotations=[],this._page=i,this._crossReference=t,this._parsedAnnotations=new Map,this._comments=[]}return Object.defineProperty(e.prototype,"count",{get:function(){return this._annotations.length},enumerable:!0,configurable:!0}),e.prototype.at=function(e){if(e<0||e>=this._annotations.length)throw Error("Index out of range.");if(!this._parsedAnnotations.has(e)){var t=this._annotations[Number.parseInt(e.toString(),10)];if(t&&t instanceof xa&&(t=this._crossReference._fetch(t)),t&&t instanceof Va){var i=this._parseAnnotation(t);i&&(i._ref=this._annotations[Number.parseInt(e.toString(),10)],this._parsedAnnotations.set(e,i))}}return this._parsedAnnotations.get(e)},e.prototype.add=function(e){if(null==e)throw Error("annotation cannot be null or undefined");if(e._isLoaded)throw Error("cannot add an existing annotation");var t;e._initialize(this._page),void 0!==e._ref&&e._ref._isNew?t=e._ref:(t=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(t,e._dictionary),e._ref=t);var i=this._annotations.length;this._annotations.push(t),this._parsedAnnotations.set(i,e);var n=!1;if(this._page&&this._page._pageDictionary.has("Annots")){var o=this._page._pageDictionary.get("Annots");null!=o&&-1===o.indexOf(t)&&(o.push(t),this._page._pageDictionary.set("Annots",o),n=!0)}return n||this._page._pageDictionary.set("Annots",this._annotations),this._page._pageDictionary._updated=!0,e&&e instanceof Zn&&this._addCommentsAndReview(e,e._dictionary.get("F")),this._updateCustomAppearanceResource(e),i},e.prototype.remove=function(e){if(e&&e._ref){var t=this._annotations.lastIndexOf(e._ref);t>-1&&this.removeAt(t)}},e.prototype.removeAt=function(e){if(e<0||e>=this._annotations.length)throw Error("Index out of range.");var t=this._annotations[Number.parseInt(e.toString(),10)];if(t&&this._page){var i=this._page._getProperty("Annots"),n=i.indexOf(t);n>-1&&i.splice(n,1),this._page._pageDictionary.set("Annots",i),this._page._pageDictionary._updated=!0,this._annotations.indexOf(t)>-1&&this._annotations.splice(e,1),this._parsedAnnotations.has(e)&&(this._parsedAnnotations.delete(e),this._reorderParsedAnnotations(e));var o=this._page._crossReference;o&&o._cacheMap.has(t)&&o._cacheMap.delete(t)}},e.prototype._reorderParsedAnnotations=function(e){var t=new Map;this._parsedAnnotations.forEach((function(i,n){n>e?t.set(n-1,i):t.set(n,i)})),this._parsedAnnotations=t},e.prototype._updateCustomAppearanceResource=function(e){e&&e instanceof mo&&void 0!==e._appearance&&e._appearance.normal.graphics._processResources(e._crossReference)},e.prototype._addCommentsAndReview=function(e,t){this._updateChildReference(e,e.comments,t),this._updateChildReference(e,e.reviewHistory,t)},e.prototype._updateChildReference=function(e,t,i){if(t&&t.count>0){if(30===i)throw new Error("Could not add comments/reviews to the review");for(var n=0;n<t.count;n++){var o=t._collection[Number.parseInt(n.toString(),10)];o&&!o._dictionary.has("IRT")&&(0!==n&&t._isReview?o._dictionary.update("IRT",t._collection[n-1]._ref):o._dictionary.update("IRT",e._ref),t._isReview?o._isReview=!0:o._isComment=!0,this.add(o))}}},e.prototype._parseAnnotation=function(e){var t;if(e&&e.has("Subtype")&&null!==this._page&&void 0!==this._page){var i=e.get("Subtype"),n=e.get("Rect");if(i){var o=void 0;switch(i.name){case"Line":t=qn._load(this._page,e);break;case"Circle":if(e.has("Measure"))t=$n._load(this._page,e);else t=n[2]-n[0]===n[3]-n[1]?$n._load(this._page,e):eo._load(this._page,e);break;case"Square":t=n[2]===n[3]?to._load(this._page,e):io._load(this._page,e);break;case"Polygon":t=no._load(this._page,e);break;case"PolyLine":if(e.has("Measure")&&e.has("IT"))(r=e.get("IT"))&&"PolyLineAngle"===r.name&&(t=ro._load(this._page,e));t||(t=oo._load(this._page,e));break;case"Ink":t=ao._load(this._page,e);break;case"Popup":case"Text":t=so._load(this._page,e);break;case"Link":var r;if(e.has("A")&&(o=e.get("A")),o&&o.has("S")){if(r=o.get("S").name){var a=this._hasValidBorder(e.getArray("Border"));"URI"===r?t=a?po._load(this._page,e):this._getLinkAnnotation(e):"Launch"===r?t=lo._load(this._page,e):"GoToR"===r?t=this._getLinkAnnotation(e):"GoTo"===r&&(t=Ao._load(this._page,e))}}else"Link"===i.name&&(t=Ao._load(this._page,e));break;case"FileAttachment":t=co._load(this._page,e);break;case"3D":t=go._load(this._page,e);break;case"FreeText":t=yo._load(this._page,e);break;case"Redact":t=So._load(this._page,e);break;case"RichMedia":t=Co._load(this._page,e);break;case"Watermark":t=fo._load(this._page,e);break;case"Stamp":t=mo._load(this._page,e);break;case"Sound":t=wo._load(this._page,e);break;case"Highlight":case"Squiggly":case"StrikeOut":case"Underline":t=uo._load(this._page,e)}}}return t},e.prototype._getLinkAnnotation=function(e){var t;if(this._page)if(e&&e.has("A")){var i=e.get("A");if(i&&i.has("S")){var n=i.get("S");n&&"GoToR"===n.name&&i.has("F")?t=lo._load(this._page,e):n&&"URI"===n.name&&(t=ho._load(this._page,e))}}else t=ho._load(this._page,e);return t},e.prototype._hasValidBorder=function(e){if(null==e)return!1;for(var t=0;t<e.length;t++){var i=0,n=e[Number.parseInt(t.toString(),10)];if(null!=n&&(i=n),i>0)return!1}return!0},e.prototype._doPostProcess=function(e){for(var t=this.count-1;t>=0;t--){var i=this.at(t);i&&(i._isExport=this._isExport,i._doPostProcess(i.flatten||e))}},e.prototype._reArrange=function(e,t,i){if(this._annotations){t>this._annotations.length&&(t=0),i>=this._annotations.length&&(i=this._annotations.indexOf(e));var n=this._crossReference._fetch(this._annotations[Number.parseInt(i.toString(),10)]);if(n&&n.has("Parent")){var o=n.getRaw("Parent");if(o&&o===e||e===this._annotations[Number.parseInt(i.toString(),10)]){var r=this._annotations[Number.parseInt(i.toString(),10)];this._annotations[Number.parseInt(i.toString(),10)]=this._annotations[Number.parseInt(t.toString(),10)],this._annotations[Number.parseInt(t.toString(),10)]=r}}}return this._annotations},e.prototype._clear=function(){this._annotations=[],this._parsedAnnotations=new Map,this._comments=[]},e}(),To=function(){function e(e,t){this._collection=[],e&&(this._annotation=e),this._isReview=t,(e&&this._annotation._isLoaded||e._page)&&(this._page=e._page,this._parentDictionary=e._dictionary,this._annotation._isLoaded&&this._parseCommentsOrReview())}return Object.defineProperty(e.prototype,"count",{get:function(){return this._collection.length},enumerable:!0,configurable:!0}),e.prototype.at=function(e){if(e<0||e>=this._collection.length)throw Error("Index out of range.");return this._collection[Number.parseInt(e.toString(),10)]},e.prototype.add=function(e){if(30===this._annotation._dictionary.get("F"))throw new Error("Could not add comments/reviews to the review");if(e._dictionary.update("F",this._annotation.flags===Le.locked?128:this._isReview?30:28),this._annotation&&(this._annotation._isLoaded||this._page&&this._annotation._ref)){this._page.annotations.add(e);var t=this._collection.length;0!==t&&this._isReview?e._dictionary.update("IRT",this._collection[Number.parseInt((t-1).toString(),10)]._ref):e._dictionary.update("IRT",this._annotation._ref),this._isReview?e._isReview=!0:e._isComment=!0}this._collection.push(e)},e.prototype.remove=function(e){var t=this._collection.indexOf(e);t>-1&&this.removeAt(t)},e.prototype.removeAt=function(e){if(!(e>-1&&e<this._collection.length))throw new Error("Index out of range.");var t=this._collection[Number.parseInt(e.toString(),10)];if(this._isReview&&e<this._collection.length-1){var i=this._collection[Number.parseInt((e+1).toString(),10)],n=t._dictionary._get("IRT");i._dictionary.set("IRT",n),i._dictionary._updated=!0}this._collection.splice(e,1),this._page.annotations.remove(t)},e.prototype._parseCommentsOrReview=function(){this._isReview?this._parseReview():this._parseComments()},e.prototype._parseReview=function(){var e;this._page&&(e=this._page.annotations);var t=new Map;if(t.set(this._annotation._ref,this._annotation),e&&e._comments&&e._comments.length>0){for(var i=[],n=0;n<e._comments.length;n++){var o=(a=e._comments[Number.parseInt(n.toString(),10)])._dictionary._get("IRT");a._isReview&&o&&t.has(o)?(this._collection.push(a),t.set(a._ref,a)):i.push(a)}i.length>0?e._comments=i:e._comments=[]}else if(e){var r=e.count;for(n=0;n<r;n++){var a;if((a=e.at(n))&&a instanceof so){var s=a._dictionary;if(a._dictionary.has("IRT")){o=s._get("IRT");a._isReview&&o&&t.has(o)?(this._collection.push(a),t.set(a._ref,a)):e._comments.push(a)}}}}t.clear()},e.prototype._parseComments=function(){var e;if(this._page&&(e=this._page.annotations),e&&e._comments&&e._comments.length>0){for(var t=[],i=0;i<e._comments.length;i++){var n=ta(a=(r=e._comments[Number.parseInt(i.toString(),10)])._dictionary);(s=a._get("IRT"))&&s===this._annotation._ref&&!n?this._collection.push(r):t.push(r)}t.length>0?e._comments=t:e._comments=[]}else if(e){var o=e.count;for(i=0;i<o;i++){var r;if((r=e.at(i))&&r instanceof so){var a=r._dictionary;if(r._dictionary.has("IRT")){var s;n=ta(a);(s=a._get("IRT"))&&s===this._annotation._ref&&!n?this._collection.push(r):e._comments.push(r)}}}}},e}(),ko=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Po=function(){function e(e,t){this._bookMarkList=[],this._isExpanded=!1,this._isLoadedBookmark=!1,this._dictionary=e,this._crossReference=t}return Object.defineProperty(e.prototype,"count",{get:function(){return this._isLoadedBookmark&&0===this._bookMarkList.length&&this._reproduceTree(),this._bookMarkList.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return this._dictionary&&this._dictionary.has("Count")?this._dictionary.get("Count")>=0:this._isExpanded},set:function(e){this._isExpanded=e,this.count>0&&this._dictionary&&this._dictionary.update("Count",e?this._bookMarkList.length:-this._bookMarkList.length)},enumerable:!0,configurable:!0}),e.prototype.at=function(e){var t;if(e<0||e>=this.count)throw Error("Index out of range.");return Sa(this._bookMarkList)&&this._bookMarkList.length>0&&e<this._bookMarkList.length&&(t=this._bookMarkList[Number.parseInt(e.toString(),10)]),t},e.prototype.contains=function(e){return-1!==this._bookMarkList.indexOf(e)},e.prototype.add=function(e,t){var i;if(this._dictionary){var n=new Va(this._crossReference);n.update("Parent",this._reference);var o=this._crossReference._getNextReference();if(this._crossReference._cacheMap.set(o,n),(i=new No(n,this._crossReference))._reference=o,i.title=e,void 0===t){if(0===this.count)this._dictionary.update("First",o),this._dictionary.update("Last",o);else{var r=this.at(this.count-1);this._dictionary.update("Last",o),r&&r._reference&&(n.update("Prev",r._reference),r._dictionary.update("Next",o))}this._bookMarkList.push(i)}else{if(t<0||t>this.count)throw new Error("Index out of range");if(0===this.count)this._dictionary.update("First",o),this._dictionary.update("Last",o),this._bookMarkList.push(i);else if(t===this.count){r=this.at(this.count-1);this._dictionary.update("Last",o),r&&r._reference&&(n.update("Prev",r._reference),r._dictionary.update("Next",o)),this._bookMarkList.push(i)}else if(0===t){var a=this.at(0);this._dictionary.update("First",o),a&&a._reference&&(n.update("Next",a._reference),a._dictionary.update("Prev",o)),this._updateBookmarkList(t,i)}else{var s=this.at(t),l=this.at(t-1);l&&l._reference&&s&&s._reference&&(n.update("Prev",l._reference),l._dictionary.update("Next",o),s._dictionary.update("Prev",o),n.update("Next",s._reference)),this._updateBookmarkList(t,i)}}this._updateCount()}return i},e.prototype.remove=function(e){if("string"==typeof e)for(var t=this._bookMarkList.length-1;t>=0;t--){var i=this.at(t);i.title===e?this.remove(t):i.count>0&&i.remove(e)}else if(e>=0&&e<this.count)if(1===this.count)this._removeFirst(this._dictionary),this._removeLast(this._dictionary),this._removeCount(this._dictionary),this._bookMarkList=[];else{if(0===e){var n=this.at(e+1);this._dictionary&&n&&n._reference&&(this._removePrevious(n._dictionary),this._dictionary.update("First",n._reference))}else if(e===this.count-1){var o=this.at(e-1);this._dictionary&&o&&o._reference&&(this._removeNext(o._dictionary),this._dictionary.update("Last",o._reference))}else{o=this.at(e-1),n=this.at(e+1);o&&o._reference&&n&&n._reference&&(o._dictionary.update("Next",n._reference),n._dictionary.update("Prev",o._reference))}this._updateBookmarkList(e),this._dictionary&&this._updateCount()}},e.prototype.clear=function(){this._removeFirst(this._dictionary),this._removeLast(this._dictionary),this._removeCount(this._dictionary),this._bookMarkList=[]},e.prototype._removeFirst=function(e){e&&e.has("First")&&(delete e._map.First,e._updated=!0)},e.prototype._removeLast=function(e){e&&e.has("Last")&&(delete e._map.Last,e._updated=!0)},e.prototype._removeNext=function(e){e&&e.has("Next")&&(delete e._map.Next,e._updated=!0)},e.prototype._removePrevious=function(e){e&&e.has("Prev")&&(delete e._map.Prev,e._updated=!0)},e.prototype._removeCount=function(e){e&&e.has("Count")&&(delete e._map.Count,e._updated=!0)},e.prototype._updateBookmarkList=function(e,t){var i=[];if(void 0===t)for(var n=0;n<this.count;n++){var o=this._bookMarkList[Number.parseInt(n.toString(),10)];if(n!==e)i.push(o);else{var r=o._reference;r&&this._crossReference._cacheMap.has(r)&&(this._crossReference._cacheMap.get(r)._updated=!1)}}else for(n=0;n<this.count;n++)n===e&&i.push(t),i.push(this._bookMarkList[Number.parseInt(n.toString(),10)]);this._bookMarkList=i},e.prototype._updateCount=function(){this.isExpanded||!this._dictionary.has("Count")?this._dictionary.update("Count",this._bookMarkList.length):this._dictionary.update("Count",-this._bookMarkList.length)},e.prototype._reproduceTree=function(){for(var e=this._getBookmark(this),t=!!e;t&&e._dictionary;)this._bookMarkList.push(e),t=!!(e=e._next)},e.prototype._getBookmark=function(e,t){void 0===t&&(t=!0);var i,n=e._dictionary;if(n&&n.has(t?"First":"Last")){var o=n._get(t?"First":"Last");if(Sa(o)){var r=this._crossReference._fetch(o);r&&((i=new No(r,this._crossReference))._reference=o)}}return i},e}(),No=function(e){function t(t,i){var n=e.call(this,t,i)||this;if(n._dictionary&&!n._dictionary.has("Dest")&&n._dictionary.has("A")){var o=n._dictionary.get("A");if(o&&o.has("D")){var r=o.getRaw("D");n._dictionary.update("Dest",r)}}return n._isLoadedBookmark=!0,n}return ko(t,e),Object.defineProperty(t.prototype,"destination",{get:function(){if(!this._destination){var e=this._obtainNamedDestination();null==e&&(this._destination=ca(this._dictionary,"Dest"))}return this._destination},set:function(e){e&&(e._parent=this,this._destination=e,this._destination._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"namedDestination",{get:function(){return null!==this._namedDestination&&void 0!==this._namedDestination||(this._namedDestination=this._obtainNamedDestination()),this._namedDestination},set:function(e){if(this._namedDestination!==e&&this._dictionary){this._namedDestination=e;var t=new Va(this._crossReference);t.update("D",e.title),t.update("S",va.get("GoTo"));var i=this._crossReference._getNextReference();this._crossReference._cacheMap.set(i,t),this._dictionary.update("A",i)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return null!==this._title&&void 0!==this._title||(this._dictionary&&this._dictionary.has("Title")?this._title=this._dictionary.get("Title"):this._title=""),this._title},set:function(e){this._title=e,this._dictionary&&this._dictionary.update("Title",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return null!==this._color&&void 0!==this._color||this._dictionary&&this._dictionary.has("C")&&(this._color=Fr(this._dictionary.getArray("C"))),this._color?this._color:[0,0,0]},set:function(e){this._color=e,this._dictionary&&this._dictionary.update("C",[Number.parseFloat((e[0]/255).toFixed(7)),Number.parseFloat((e[1]/255).toFixed(7)),Number.parseFloat((e[2]/255).toFixed(7))])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textStyle",{get:function(){return null!==this._textStyle&&void 0!==this._textStyle||(this._textStyle=this._obtainTextStyle()),this._textStyle},set:function(e){this._textStyle=e,this._updateTextStyle(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_next",{get:function(){var e;if(this._dictionary&&this._dictionary.has("Next")){var i=this._dictionary._get("Next");if(Sa(i)){var n=this._crossReference._fetch(i);n&&((e=new t(n,this._crossReference))._reference=i)}}return e},enumerable:!0,configurable:!0}),t.prototype._updateTextStyle=function(e){e===Tt.regular?this._dictionary&&this._dictionary.has("F")&&delete this._dictionary._map.F:this._dictionary&&this._dictionary.update("F",e)},t.prototype._obtainTextStyle=function(){var e=Tt.regular;if(this._dictionary&&this._dictionary.has("F")){var t=this._dictionary.get("F"),i=0;null!=t&&(i=t),e|=i}return e},t.prototype._obtainNamedDestination=function(){var e,t,i,n=this._crossReference._document;if(n&&(e=n._destinationCollection),e){var o=this._dictionary;if(o)if(o.has("A")){var r=o.get("A");r&&r.has("D")&&(t=r.get("D"))}else o.has("Dest")&&(t=o.get("Dest"));if(t){var a=void 0;if(t instanceof va?a=t.name:"string"==typeof t&&(a=t),a)for(var s=e._namedDestinations,l=0;l<s.length;l++)if((i=s[Number.parseInt(l.toString(),10)])._title===a){t=i;break}}}return i},t}(Po),Ro=function(){function e(e,t){"string"==typeof e?(this._initialize(),this.title=e):(this._dictionary=e,this._crossReference=t)}return Object.defineProperty(e.prototype,"destination",{get:function(){return this._destination},set:function(e){e&&(e._parent=this,this._destination=e,this._destination._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){e!==this._title&&this._dictionary&&(this._title=e,this._dictionary.update("Title",e),this._dictionary._updated=!0)},enumerable:!0,configurable:!0}),e.prototype._initialize=function(){this._dictionary=new Va,this._dictionary.update("S",va.get("GoTo"))},e}(),Lo=function(){function e(e,t){if(this._namedDestinations=[],e&&(this._dictionary=e),t&&(this._crossReference=t),e&&e.has("Dests")){var i=e.get("Dests");if(i)if(i.has("Names"))this._addCollection(i);else if(i.has("Kids"))for(var n=i.getArray("Kids"),o=0;o<n.length;o++)this._findDestination(n[Number.parseInt(o.toString(),10)])}}return e.prototype._findDestination=function(e){if(e)if(e.has("Names"))this._addCollection(e);else if(e.has("Kids")){var t=e.getArray("Kids");if(t&&Array.isArray(t)&&t.length>0)for(var i=0;i<t.length;i++)this._findDestination(t[Number.parseInt(i.toString(),10)])}},e.prototype._addCollection=function(e){var t,i,n=e.getRaw("Names");if(n&&n instanceof xa&&(t=this._crossReference._fetch(n)),t&&Array.isArray(t)&&t.length>0&&(n=t),n&&Array.isArray(n)&&n.length>0)for(var o=1;o<n.length;o+=2){var r=n[o];if(r&&r instanceof xa)(d=this._crossReference._fetch(r))&&Array.isArray(d)&&d.length>0?(i=new Va).update("D",d):i=this._crossReference._fetch(r);else null==i&&Array.isArray(r)&&(i=new Va).update("D",r);if(i){var a=new Ro(i,this._crossReference),s=n[o-1],l=void 0,d=void 0;if(s&&(a._title=s,i.has("D"))){d=i.get("D"),l=new Uo;var h=d[0];if(h&&d&&d[0]instanceof xa){var A=this._crossReference._fetch(h),p=this._crossReference._document,c=void 0;p&&A&&null!=(c=dr(p,A))&&c>=0&&(l._index=c,l.page=p.getPage(c))}}if(d[1]instanceof va){var g=void 0,u=void 0,f=void 0,m=d[1].name,w=l.page;switch(m){case"Fit":l._destinationMode=st.fitToPage;break;case"XYZ":if(l._destinationMode=st.location,d.length>2&&(g=d[2]),d.length>3&&(u=d[3]),d.length>4&&(f=d[4]),w){var y=w.size,S=null==u?0:y[1]-u,C=null==g?0:g;l._location=[C,S],w.rotation!==Ge.angle0&&(S=lr(w,u,g)),l._zoom=null!=f?f:0,null!==g&&null!==u&&null!==f&&void 0!==g&&void 0!==u&&void 0!==f||(l._isValid=!1)}break;case"FitH":case"FitBH":if(l._destinationMode=st.fitH,d.length>=3&&(u=d[2]),w){y=w.size,S=null==u?0:y[1]-u;l._location=[0,S]}null==u&&(l._isValid=!1);break;case"FitR":l._destinationMode=st.fitR}}l._parent=a,a._destination=l,this._namedDestinations.push(a)}}},e}(),Oo=function(){function e(e,t,i,n){this._isAnnotationParsed=!1,this._isNew=!1,this._isDuplicate=!1,this._pageIndex=t,this._pageDictionary=i,this._crossReference=e,this._ref=n}return Object.defineProperty(e.prototype,"annotations",{get:function(){if(void 0===this._annotations){if(this._pageDictionary&&this._pageDictionary.has("Annots")){var e,t=this._getProperty("Annots");if(Sa(t)&&Array.isArray(t))if(this._crossReference._document._catalog._catalogDictionary.has("AcroForm")&&(e=this._crossReference._document.form._parseWidgetReferences()),e&&e.length>0){var i=[];t.forEach((function(t){-1===e.indexOf(t)&&i.push(t)})),this._annotations=new Fo(i,this._crossReference,this)}else this._annotations=new Fo(t,this._crossReference,this)}void 0===this._annotations&&(this._annotations=new Fo([],this._crossReference,this))}return this._annotations},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(void 0===this._size){var e=xr(this._pageDictionary,"MediaBox",!1,!0,"Parent","P"),t=xr(this._pageDictionary,"CropBox",!1,!0,"Parent","P"),i=0,n=0,o=this._pageDictionary&&this._pageDictionary.has("Rotate")?xr(this._pageDictionary,"Rotate",!1,!0,"Parent"):0;if(t&&null!=o){i=t[2]-t[0],n=t[3]-t[1];var r=!(e&&e[2]-e[0]<i);(0===o||180===o)&&i<n||(90===o||270===o)&&i>n||r||0!==o||!e||(i=e[2]-e[0],n=0!==e[3]?e[3]-e[1]:e[1])}else e?(i=e[2]-e[0],n=0!==e[3]?e[3]-e[1]:e[1]):(this._pageDictionary.update("MediaBox",[0,0,612,792]),i=612,n=792);this._size=[Math.abs(i),Math.abs(n)]}return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){var e=0;return void 0===this._rotation&&((e=xr(this._pageDictionary,"Rotate",!1,!0,"Parent"))<0&&(e+=360),this._rotation=void 0!==e?e/90%4:Ge.angle0),this._rotation},set:function(e){if(!this._isNew){this._rotation=e;var t=90*Math.floor(this._rotation);t>=360&&(t%=360),this._pageDictionary.update("Rotate",t)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabOrder",{get:function(){return this._obtainTabOrder()},set:function(e){this._tabOrder=e;var t="";this._tabOrder!==dt.none&&(this._tabOrder===dt.row?t="R":this._tabOrder===dt.column?t="C":this._tabOrder===dt.structure&&(t="S")),this._pageDictionary.update("Tabs",va.get(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cropBox",{get:function(){return void 0===this._cBox&&(this._cBox=xr(this._pageDictionary,"CropBox",!1,!0,"Parent","P")),void 0===this._cBox&&(this._cBox=[0,0,0,0]),this._cBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaBox",{get:function(){return void 0===this._mBox&&(this._mBox=xr(this._pageDictionary,"MediaBox",!1,!0,"Parent","P")),void 0===this._mBox&&(this._mBox=[0,0,0,0]),this._mBox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){if(void 0===this._orientation&&void 0!==this.size){var e=this.size;e[0]>e[1]?this._orientation=ft.landscape:this._orientation=ft.portrait}return this._orientation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_origin",{get:function(){return(void 0===this._o||0===this._o[0]&&0===this._o[1])&&(this._o=[this.mediaBox[0],this._mBox[1]]),this._o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"graphics",{get:function(){return(void 0===this._g||this._needInitializeGraphics)&&this._parseGraphics(),this._g},enumerable:!0,configurable:!0}),e.prototype._addWidget=function(e){var t;if(this._pageDictionary.has("Annots")){var i=this._pageDictionary.getRaw("Annots");t=this._getProperty("Annots"),i&&i instanceof xa&&(delete this._pageDictionary._map.Annots,this._pageDictionary.update("Annots",t))}t&&Array.isArray(t)?t.push(e):this._pageDictionary.update("Annots",[e]),this._pageDictionary._updated=!0},e.prototype._getProperty=function(e,t){void 0===t&&(t=!1);var i=xr(this._pageDictionary,e,t,!1);return Array.isArray(i)?1!==i.length&&i[0]instanceof Va?Va.merge(this._crossReference,i):i[0]:i},e.prototype._parseGraphics=function(){this._loadContents();var e=new Na([32,113,32,10]),t=this._crossReference._getNextReference();this._crossReference._cacheMap.set(t,e),this._contents.splice(0,0,t);var i=new Na([32,81,32,10]),n=this._crossReference._getNextReference();this._crossReference._cacheMap.set(n,i),this._contents.push(n);var o=new Na([]),r=this._crossReference._getNextReference();this._crossReference._cacheMap.set(r,o),this._contents.push(r),this._pageDictionary.set("Contents",this._contents),this._pageDictionary._updated=!0,this._initializeGraphics(o)},e.prototype._loadContents=function(){var e,t=this._pageDictionary.getRaw("Contents");null!=t&&t instanceof xa&&(e=t,t=this._crossReference._fetch(e)),t&&t instanceof ka?this._contents=[e]:t&&Array.isArray(t)?this._contents=t:this._contents=[]},e.prototype._initializeGraphics=function(e){var t,i=!1,n=0,o=0,r=0,a=0,s=this.size,l=this.mediaBox;if(l&&l.length>=4&&(n=l[0],o=l[1],r=l[2],a=l[3]),this._pageDictionary.has("CropBox"))if((t=this.cropBox)&&t.length>=4){var d=t[0],h=t[1],A=t[2],p=t[3];(d<0||h<0||A<0||p<0)&&Math.floor(Math.abs(h))===Math.floor(Math.abs(s[1]))&&Math.floor(Math.abs(d))===Math.floor(Math.abs(s[0]))?this._g=new cn([Math.max(d,A),Math.max(h,p)],e,this._crossReference,this):(this._g=new cn(s,e,this._crossReference,this),this._g._cropBox=t)}else this._g=new cn(s,e,this._crossReference,this);else if((n<0||o<0||r<0||a<0)&&Math.floor(Math.abs(o))===Math.floor(Math.abs(s[1]))&&Math.floor(Math.abs(r))===Math.floor(Math.abs(s[0]))){var c=Math.max(n,r),g=Math.max(o,a);(c<=0||g<=0)&&(i=!0,n<0&&(n=-n),o<0&&(o=-o),r<0&&(r=-r),a<0&&(a=-a),c=Math.max(n,r),g=Math.max(o,a)),this._g=new cn([c,g],e,this._crossReference,this)}else this._g=new cn(s,e,this._crossReference,this);this._pageDictionary.has("MediaBox")&&(this._g._mediaBoxUpperRightBound=i?-o:a),this._graphicsState=this._g.save();var u=this._origin;if(u[0]>=0&&u[1]>=0||Math.sign(u[0])!==Math.sign(u[1])?this._g._initializeCoordinates():this._g._initializeCoordinates(this),!this._isNew){var f=this.rotation;if(!Number.isNaN(f)&&(f!==Ge.angle0||this._pageDictionary.has("Rotate"))){var m=void 0;m=this._pageDictionary.has("Rotate")?this._pageDictionary.get("Rotate"):90*f;var w=this._g._clipBounds;90===m?(this._g.translateTransform(0,s[1]),this._g.rotateTransform(-90),this._g._clipBounds=[w[0],w[1],s[0],s[1]]):180===m?(this._g.translateTransform(s[0],s[1]),this._g.rotateTransform(-180)):270===m&&(this._g.translateTransform(s[0],0),this._g.rotateTransform(-270),this._g._clipBounds=[w[0],w[1],s[1],s[0]])}}if(this._isNew&&this._pageSettings){var y=this._getActualBounds(this._pageSettings);this._g._clipTranslateMargins(y)}this._needInitializeGraphics=!1},e.prototype._getActualBounds=function(e){var t=e._getActualSize();return[e.margins.left,e.margins.top,t[0],t[1]]},e.prototype._fetchResources=function(){if(void 0===this._resourceObject)if(this._pageDictionary&&this._pageDictionary.has("Resources")){var e=this._pageDictionary.getRaw("Resources");null!=e&&e instanceof xa?(this._hasResourceReference=!0,this._resourceObject=this._crossReference._fetch(e)):e&&e instanceof Va&&(this._resourceObject=e)}else this._resourceObject=new Va(this._crossReference),this._pageDictionary.update("Resources",this._resourceObject);return this._resourceObject},e.prototype._getCropOrMediaBox=function(){var e;return this._pageDictionary&&(this._pageDictionary.has("CropBox")?e=this._pageDictionary.getArray("CropBox"):this._pageDictionary.has("MediaBox")&&(e=this._pageDictionary.getArray("MediaBox"))),e},e.prototype._beginSave=function(){void 0!==this._graphicsState&&(this.graphics.restore(this._graphicsState),this._graphicsState=null,this._needInitializeGraphics=!0)},e.prototype._destroy=function(){this._pageDictionary=void 0,this._size=void 0,this._mBox=void 0,this._cBox=void 0,this._o=void 0,this._g=void 0,this._graphicsState=void 0,this._contents=void 0},e.prototype._obtainTabOrder=function(){if(this._pageDictionary&&this._pageDictionary.has("Tabs")){var e=this._pageDictionary.get("Tabs");e===va.get("R")?this._tabOrder=dt.row:e===va.get("C")?this._tabOrder=dt.column:e===va.get("S")?this._tabOrder=dt.structure:e===va.get("W")&&(this._tabOrder=dt.widget)}return null!==this._tabOrder&&void 0!==this._tabOrder||(this._tabOrder=dt.none),this._tabOrder},e.prototype._removeAnnotation=function(e){if(this._pageDictionary&&this._pageDictionary.has("Annots")){var t=this._getProperty("Annots");if(Sa(t)&&Array.isArray(t)){var i=t.indexOf(e);i>=0&&t.splice(i,1),this._pageDictionary.set("Annots",t),this._pageDictionary._updated=!0}}},Object.defineProperty(e.prototype,"_contentTemplate",{get:function(){var e;this._loadContents(),this._fetchResources();var t=[],i=this._contents.length;t.push(new Uint8Array([32,113,32,10]));for(var n=0;n<i;n++){var o=this._contents[Number.parseInt(n.toString(),10)],r=this._crossReference._fetch(o);r&&(r instanceof Na?e=new Uint8Array(r._bytes):r instanceof ka&&(e=r.getBytes()),e&&(t.push(e),t.push(new Uint8Array([13,10]))))}t.push(new Uint8Array([32,81,32,10])),t.push(new Uint8Array([13,10]));var a=this._combineIntoSingleArray(t),s=new Na(Array.from(a)),l=new Fn(s,this._crossReference);return l._content.dictionary.set("Resources",this._resourceObject),this.cropBox[0]>0||this.cropBox[1]>0?(l._content.dictionary.set("BBox",this.cropBox),l._size=[this.cropBox[0],this.cropBox[1]]):this.mediaBox[0]>0||this.mediaBox[1]>0?(l._content.dictionary.set("BBox",this.mediaBox),l._size=[this.mediaBox[0],this.mediaBox[1]]):(l._content.dictionary.set("BBox",[0,0,this.size[0],this.size[1]]),l._size=[this.size[0],this.size[1]]),l},enumerable:!0,configurable:!0}),e.prototype._combineIntoSingleArray=function(e){var t=e.reduce((function(e,t){return e+t.length}),0),i=new Uint8Array(t),n=0;return e.forEach((function(e){i.set(e,n),n+=e.length})),i},e}(),Uo=function(){function e(e,t){this._location=[0,0],this._destinationMode=st.location,this._zoom=0,this._isValid=!0,this._index=0,this._destinationBounds=[0,0,0,0],this._array=Array(),null!=e&&(e.rotation===Ge.angle180?this._location=[e.graphics._size[0],this._location[1]]:e.rotation===Ge.angle90?this._location=[0,0]:e.rotation===Ge.angle270?this._location=[e.graphics._size[0],0]:this._location=[0,this._location[1]],this._page=e,this._index=e._pageIndex),void 0!==t&&2===t.length&&(this._location=t),void 0!==t&&4===t.length&&(this._location=[t[0],t[1]],this._destinationBounds=t)}return Object.defineProperty(e.prototype,"zoom",{get:function(){return this._zoom},set:function(e){e!==this._zoom&&(this._zoom=e,this._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(e){e!==this._page&&(this._page=e,this._initializePrimitive(),this._index=e._pageIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageIndex",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._destinationMode},set:function(e){e!==this._destinationMode&&(this._destinationMode=e,this._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this._location},set:function(e){e!==this._location&&(this._location=e,this._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destinationBounds",{get:function(){return this._destinationBounds},set:function(e){e!==this._destinationBounds&&(this._destinationBounds=e,this._initializePrimitive())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this._isValid},enumerable:!0,configurable:!0}),e.prototype._setValidation=function(e){this._isValid=e},e.prototype._initializePrimitive=function(){this._array=[];var e=this._page;if(e&&e._pageDictionary){var t=e._pageDictionary;switch(null!=t&&this._array.push(this._page._ref),this._destinationMode){case st.location:this._array.push(va.get("XYZ")),null!=e?(this._array.push(this._location[0]),this._array.push(this._page.graphics._size[1]-this._location[1])):(this._array.push(0),this._array.push(0)),this._array.push(this._zoom);break;case st.fitToPage:this._array.push(va.get("Fit"));break;case st.fitR:this._array.push(va.get("FitR")),this._array.push(this._destinationBounds[0]),this._array.push(this._destinationBounds[1]),this._array.push(this._destinationBounds[2]),this._array.push(this._destinationBounds[3]);break;case st.fitH:this._array.push(va.get("FitH")),this._array.push(null!=e?e._size[1]-this._location[1]:0)}this._parent&&(this._parent._dictionary.set(this._parent instanceof Ro?"D":"Dest",this._array),this._parent._dictionary._updated=!0)}},e}(),zo=function(){function e(){this._format=Qt.unknown,this._height=0,this._width=0,this._bitsPerComponent=8,this._position=0,this._noOfComponents=-1}return e.prototype._reset=function(){this._position=0},e.prototype._getBuffer=function(e){return this._stream[Number.parseInt(e.toString(),10)]},e.prototype._read=function(e,t,i,n){if(n&&Array.isArray(n)){var o=0;if(i<=n.length&&n.length-t>=i)for(var r=0;r<i;r++)e[Number.parseInt(r.toString(),10)]=n[Number.parseInt(t.toString(),10)],t++,o++;return{outputBuffer:e,offset:t,length:o}}for(var a=t;a<i;a++){var s=this._position;e[Number.parseInt(a.toString(),10)]=this._getBuffer(s),this._position++}},e.prototype._readString=function(e){for(var t="",i=0;i<e;i++)t+=String.fromCharCode(this._readByte());return t},e.prototype._seek=function(e){this._position+=e},e.prototype._readByte=function(){if(this._position<this._stream.byteLength){var e=this._getBuffer(this._position);return this._position+=1,e}throw new Error("Error decoding JPEG image. Invalid offset.")},e.prototype._toUnsigned16=function(e){return(e&=65535)<0?e+65536:e},e.prototype._readUnsigned32=function(e){return this._getBuffer(e+3)|this._getBuffer(e+2)<<8|this._getBuffer(e+1)<<16|this._getBuffer(e)<<24},e}(),Ho=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yo=function(e){function t(t){var i=e.call(this)||this;return i._stream=t,i._initialize(),i}return Ho(t,e),Object.defineProperty(t.prototype,"_imageDataAsNumberArray",{get:function(){return this._imageData},enumerable:!0,configurable:!0}),t.prototype._initialize=function(){this._format=Qt.jpeg,this._readHeader(),this._reset(),this._imageData=new Uint8Array(this._stream.byteLength),this._read(this._imageData,0,this._imageData.byteLength)},t.prototype._readHeader=function(){this._reset();var e=new Uint8Array(this._stream.byteLength);this._read(e,0,e.byteLength);for(var t=4,i=256*this._getBuffer(t)+this._getBuffer(t+1),n=!1;t<e.byteLength;){if(!((t+=i)<e.byteLength)){n=!0;break}if(192===this._getBuffer(t+1)){if(this._height=256*this._getBuffer(t+5)+this._getBuffer(t+6),this._width=256*this._getBuffer(t+7)+this._getBuffer(t+8),this._noOfComponents=this._getBuffer(t+9),0!==this._width&&0!==this._height)return}else t+=2,i=256*this._getBuffer(t)+this._getBuffer(t+1)}n&&(this._reset(),this._seek(2),this._readExceededJpegImage())},t.prototype._getImageDictionary=function(){this._imageStream=new Pa([],new Va),this._imageStream.isImageStream=!0;for(var e="",t="",i=0;i<this._imageDataAsNumberArray.byteLength;i++)e+=" "+String.fromCharCode(this._getBuffer(i));for(i=0;i<e.length;i++)i%2!=0&&(t+=e[Number.parseInt(i.toString(),10)]);this._imageStream.data=[t],this._imageStream._isCompress=!1;var n=new Va;n.set("Type",new va("XObject")),n.set("Subtype",new va("Image")),n.set("Width",this._width),n.set("Height",this._height),n.set("BitsPerComponent",this._bitsPerComponent),n.set("Filter",new va("DCTDecode")),n.set("ColorSpace",new va(this._getColorSpace())),n.set("DecodeParms",this._getDecodeParams()),this._imageStream.dictionary=n,this._imageStream.bytes=new Uint8Array(this._imageStream.data[0].length);for(i=0;i<this._imageStream.data[0].length;i++)this._imageStream.bytes[Number.parseInt(i.toString(),10)]=this._imageStream.data[0].charCodeAt(i);return this._imageStream.end=this._imageStream.bytes.length,this._imageStream.dictionary._updated=!0,this._imageStream},t.prototype._getColorSpace=function(){return 1===this._noOfComponents?"DeviceGray":4===this._noOfComponents?"DeviceCMYK":"DeviceRGB"},t.prototype._getDecodeParams=function(){var e=new Va;return e.set("Columns",this._width),e.set("BlackIs1",!0),e.set("K",-1),e.set("Predictor",15),e.set("BitsPerComponent",this._bitsPerComponent),e},t.prototype._skipStream=function(){var e=this._getBuffer(this._position)<<8|this._getBuffer(this._position+1);if(this._seek(2),e<2)throw new Error("Error decoding JPEG image");e>0&&this._seek(e-2)},t.prototype._readExceededJpegImage=function(){for(var e=!0;e;){switch(this._getMarker()){case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:this._seek(3),this._height=this._getBuffer(this._position)<<8|this._getBuffer(this._position+1),this._seek(2),this._width=this._getBuffer(this._position)<<8|this._getBuffer(this._position+1),this._seek(2),this._noOfComponents=this._getBuffer(this._position),this._seek(1),e=!1;break;default:this._skipStream()}}},t.prototype._getMarker=function(){for(var e=0,t=this._readByte();255!==t;)e++,t=this._readByte();do{t=this._readByte()}while(255===t);if(0!==e)throw new Error("Error decoding JPEG image");return this._toUnsigned16(t)},t}(zo);!function(e){e[e.readingHeader=0]="readingHeader",e[e.readingBFinal=1]="readingBFinal",e[e.readingBType=2]="readingBType",e[e.readingNlCodes=3]="readingNlCodes",e[e.readingNdCodes=4]="readingNdCodes",e[e.readingCodes=5]="readingCodes",e[e.readingClCodes=6]="readingClCodes",e[e.readingTcBefore=7]="readingTcBefore",e[e.readingTcAfter=8]="readingTcAfter",e[e.decodeTop=9]="decodeTop",e[e.iLength=10]="iLength",e[e.fLength=11]="fLength",e[e.dCode=12]="dCode",e[e.unCompressedAligning=13]="unCompressedAligning",e[e.unCompressedByte1=14]="unCompressedByte1",e[e.unCompressedByte2=15]="unCompressedByte2",e[e.unCompressedByte3=16]="unCompressedByte3",e[e.unCompressedByte4=17]="unCompressedByte4",e[e.decodeUnCompressedBytes=18]="decodeUnCompressedBytes",e[e.srFooter=19]="srFooter",e[e.rFooter=20]="rFooter",e[e.vFooter=21]="vFooter",e[e.done=22]="done"}(wn||(wn={})),function(e){e[e.unCompressedType=0]="unCompressedType",e[e.staticType=1]="staticType",e[e.dynamicType=2]="dynamicType"}(yn||(yn={}));var jo,Go,Jo=function(){function e(){this._end=0,this._usedBytes=0,this._dOutput=Array(e._dOutSize).fill(0),this._end=0,this._usedBytes=0}return Object.defineProperty(e.prototype,"_unusedBytes",{get:function(){return e._dOutSize-this._usedBytes},enumerable:!0,configurable:!0}),e.prototype._write=function(t){this._dOutput[this._end++]=t,this._end&=e._dOutMask,++this._usedBytes},e.prototype._writeLD=function(t,i){this._usedBytes+=t;var n=this._end-i&e._dOutMask,o=e._dOutSize-t;if(n<=o&&this._end<o)if(t<=i)ar(this._dOutput,this._end,this._dOutput,n,n+t),this._end+=t;else for(;t-- >0;)this._dOutput[this._end++]=this._dOutput[n++];else for(;t-- >0;)this._dOutput[this._end++]=this._dOutput[n++],this._end&=e._dOutMask,n&=e._dOutMask},e.prototype._copyFrom=function(t,i){var n;i=Math.min(Math.min(i,e._dOutSize-this._usedBytes),t._bytes);var o=e._dOutSize-this._end;return i>o?(n=t._copyTo(this._dOutput,this._end,o))===o&&(n+=t._copyTo(this._dOutput,0,i-o)):n=t._copyTo(this._dOutput,this._end,i),this._end=this._end+n&e._dOutMask,this._usedBytes+=n,n},e.prototype._copyTo=function(t,i,n){var o;n>this._usedBytes?(o=this._end,n=this._usedBytes):o=this._end-this._usedBytes+n&e._dOutMask;var r=n,a=n-o,s=e._dOutSize-a;if(a>0){for(var l=0;l<a&&l+s<this._dOutput.length&&l+i<t.length;l++)t[i+l]=this._dOutput[s+l];var d=e._dOutSize-a;ar(t,i,this._dOutput,d,d+a),i+=a,n=o}s=o-n;var h=o-n;return ar(t,i,this._dOutput,h,o),this._usedBytes-=r,{count:r,data:t}},e._dOutSize=32768,e._dOutMask=32767,e}(),Ko=function(){function e(){this._bBuffer=0,this._bInBuffer=0,this._begin=0,this._end=0}return Object.defineProperty(e.prototype,"_bytes",{get:function(){return this._end-this._begin+Math.floor(this._bInBuffer/8)},enumerable:!0,configurable:!0}),e.prototype._needsInput=function(){return this._begin===this._end},e.prototype._availableBits=function(e){if(this._bInBuffer<e){if(this._needsInput())return!1;if(this._bBuffer|=nr(this._buffer[this._begin++],32)<<this._bInBuffer,this._bInBuffer+=8,this._bInBuffer<e){if(this._needsInput())return!1;this._bBuffer|=nr(this._buffer[this._begin++],32)<<this._bInBuffer,this._bInBuffer+=8}}return!0},e.prototype._load16Bits=function(){return this._bInBuffer<8?(this._begin<this._end&&(this._bBuffer|=nr(this._buffer[this._begin++],32)<<this._bInBuffer,this._bInBuffer+=8),this._begin<this._end&&(this._bBuffer|=nr(this._buffer[this._begin++],32)<<this._bInBuffer,this._bInBuffer+=8)):this._bInBuffer<16&&this._begin<this._end&&(this._bBuffer|=nr(this._buffer[this._begin++],32)<<this._bInBuffer,this._bInBuffer+=8),this._bBuffer},e.prototype._getBitMask=function(e){return(nr(1,32)<<e)-1},e.prototype._getBits=function(e){if(!this._availableBits(e))return-1;var t=this._bBuffer&this._getBitMask(e);return this._bBuffer>>=e,this._bInBuffer-=e,t},e.prototype._copyTo=function(e,t,i){for(var n=0;this._bInBuffer>0&&i>0;)e[t++]=nr(this._bBuffer,8),this._bBuffer>>=8,this._bInBuffer-=8,i--,n++;if(0===i)return n;var o=this._end-this._begin;i>o&&(i=o);for(var r=0;r<i&&r+this._begin<this._buffer.length&&r+t<e.length;r++)e[t+r]=this._buffer[this._begin+r];return this._begin+=i,n+i},e.prototype._setInput=function(e,t,i){this._buffer=e,this._begin=t,this._end=t+i},e.prototype._skipBits=function(e){this._bBuffer>>=e,this._bInBuffer-=e},e.prototype._skipByteBoundary=function(){this._bBuffer>>=this._bInBuffer%8,this._bInBuffer=this._bInBuffer-this._bInBuffer%8},e}(),Wo=function(){function e(){}return e.prototype._load=function(e){this._clArray=e,this._initialize()},e.prototype._loadTree=function(e){this._clArray=e?this._getLengthTree():this._getDepthTree(),this._initialize()},e.prototype._initialize=function(){this._clArray.length===e._maxLengthTree?this._tBits=9:this._tBits=7,this._tMask=(1<<this._tBits)-1,this._createTable()},e.prototype._getLengthTree=function(){for(var t=Array(e._maxLengthTree).fill(0),i=0;i<=143;i++)t[Number.parseInt(i.toString(),10)]=nr(8,8);for(i=144;i<=255;i++)t[Number.parseInt(i.toString(),10)]=nr(9,8);for(i=256;i<=279;i++)t[Number.parseInt(i.toString(),10)]=nr(7,8);for(i=280;i<=287;i++)t[Number.parseInt(i.toString(),10)]=nr(8,8);return t},e.prototype._getDepthTree=function(){return Array(e._maxDepthTree).fill(5)},e.prototype._calculateHashCode=function(){for(var t=Array(17).fill(0),i=0;i<this._clArray.length;i++)t[this._clArray[Number.parseInt(i.toString(),10)]]++;t[0]=0;for(var n=Array(17).fill(0),o=0,r=1;r<=16;r++)o=o+t[r-1]<<1,n[Number.parseInt(r.toString(),10)]=o;var a=Array(e._maxLengthTree).fill(0);for(i=0;i<this._clArray.length;i++){var s=this._clArray[Number.parseInt(i.toString(),10)];s>0&&(a[Number.parseInt(i.toString(),10)]=this._bitReverse(n[Number.parseInt(s.toString(),10)],s),n[Number.parseInt(s.toString(),10)]++)}return a},e.prototype._bitReverse=function(e,t){var i=0;do{i|=1&e,i<<=1,e>>=1}while(--t>0);return i>>1},e.prototype._createTable=function(){var e=this._calculateHashCode();this._table=Array(1<<this._tBits).fill(0),this._left=Array(2*this._clArray.length).fill(0),this._right=Array(2*this._clArray.length).fill(0);for(var t=or(this._clArray.length),i=0;i<this._clArray.length;i++){var n=this._clArray[Number.parseInt(i.toString(),10)];if(n>0){var o=e[Number.parseInt(i.toString(),10)];if(n<=this._tBits){var r=1<<n;if(o>=r)throw new Error("Invalid Data.");for(var a=1<<this._tBits-n,s=0;s<a;s++)this._table[Number.parseInt(o.toString(),10)]=or(i),o+=r}else{var l=n-this._tBits,d=1<<this._tBits,h=o&(1<<this._tBits)-1,A=this._table;do{var p=or(A[Number.parseInt(h.toString(),10)]);if(0===p&&(A[Number.parseInt(h.toString(),10)]=or(-t),p=or(-t),t++),p>0)throw new Error("Invalid Data.");A=o&d?this._right:this._left,h=-p,d<<=1,l--}while(0!==l);A[Number.parseInt(h.toString(),10)]=or(i)}}}},e.prototype._getNextSymbol=function(e){var t=e._load16Bits();if(0===e._bInBuffer)return-1;var i=this._table[t&this._tMask];if(i<0){var n=nr(1<<this._tBits,32);do{i=-i,i=t&n?this._right[Number.parseInt(i.toString(),10)]:this._left[Number.parseInt(i.toString(),10)],n<<=1}while(i<0)}var o=this._clArray[Number.parseInt(i.toString(),10)];if(o<=0)throw new Error("Invalid Data.");return o>e._bInBuffer?-1:(e._skipBits(o),i)},e._maxLengthTree=288,e._maxDepthTree=32,e._nCLength=19,e}(),Xo=function(){function e(){this._extraLengthBits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],this._staticDistanceTreeTable=[0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23,15,31],this._lengthBase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],this._distanceBasePosition=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],this._codeOrder=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],this._bfinal=0,this._bLength=0,this._blBuffer=[0,0,0,0],this._blockType=yn.unCompressedType,this._caSize=0,this._clCodeCount=0,this._extraBits=0,this._lengthCode=0,this._length=0,this._llCodeCount=0,this._output=new Jo,this._input=new Ko,this._loopCounter=0,this._codeList=Array(Wo._maxLengthTree+Wo._maxDepthTree).fill(0),this._cltcl=Array(Wo._nCLength).fill(0),this._inflaterState=wn.readingBFinal}return Object.defineProperty(e.prototype,"_finished",{get:function(){return this._inflaterState===wn.done||this._inflaterState===wn.vFooter},enumerable:!0,configurable:!0}),e.prototype._setInput=function(e,t,i){this._input._setInput(e,t,i)},e.prototype._inflate=function(e,t,i){var n=0;do{var o=this._output._copyTo(e,t,i),r=o.count;if(e=o.data,r>0&&(t+=r,n+=r,i-=r),0===i)break}while(!this._finished&&this._decode());return{count:n,data:e}},e.prototype._decode=function(){var e=!1,t=!1;if(this._finished)return!0;if(this._inflaterState===wn.readingBFinal){if(!this._input._availableBits(1))return!1;this._bfinal=this._input._getBits(1),this._inflaterState=wn.readingBType}if(this._inflaterState===wn.readingBType){if(!this._input._availableBits(2))return this._inflaterState=wn.readingBType,!1;this._blockType=this._getBlockType(this._input._getBits(2)),this._blockType===yn.dynamicType?this._inflaterState=wn.readingNlCodes:this._blockType===yn.staticType?(this._llTree=new Wo,this._llTree._loadTree(!0),this._distanceTree=new Wo,this._distanceTree._loadTree(!1),this._inflaterState=wn.decodeTop):this._blockType===yn.unCompressedType&&(this._inflaterState=wn.unCompressedAligning)}if(this._blockType===yn.dynamicType)this._getInflaterStateValue(this._inflaterState)<this._getInflaterStateValue(wn.decodeTop)?t=this._decodeDynamicBlockHeader():(t=(i=this._decodeBlock(e)).result,e=i.eob,this._output=i.output);else if(this._blockType===yn.staticType){t=(i=this._decodeBlock(e)).result,e=i.eob,this._output=i.output}else if(this._blockType===yn.unCompressedType){var i;t=(i=this._decodeUncompressedBlock(e)).result,e=i.eob,this._output=i.output}return e&&0!==this._bfinal&&(this._inflaterState=wn.done),t},e.prototype._decodeUncompressedBlock=function(e){for(e=!1;;)switch(this._inflaterState){case wn.unCompressedAligning:if(this._input._skipByteBoundary(),this._inflaterState=wn.unCompressedByte1,!this._unCompressedByte())return{result:!1,eob:e,output:this._output};break;case wn.unCompressedByte1:case wn.unCompressedByte2:case wn.unCompressedByte3:case wn.unCompressedByte4:if(!this._unCompressedByte())return{result:!1,eob:e,output:this._output};break;case wn.decodeUnCompressedBytes:return this._bLength-=this._output._copyFrom(this._input,this._bLength),0===this._bLength?(this._inflaterState=wn.readingBFinal,{result:!0,eob:e=!0,output:this._output}):0===this._output._unusedBytes?{result:!0,eob:e,output:this._output}:{result:!1,eob:e,output:this._output}}},e.prototype._unCompressedByte=function(){var e=this._input._getBits(8);if(e<0)return!1;var t=this._getInflaterStateValue(this._inflaterState),i=this._getInflaterStateValue(wn.unCompressedByte1);if(this._blBuffer[t-i]=nr(e,8),this._inflaterState===wn.unCompressedByte4&&(this._bLength=this._blBuffer[0]+256*this._blBuffer[1],nr(this._bLength,16)!==nr(~(this._blBuffer[2]+256*this._blBuffer[3]),16)))throw new Error("Ivalid block length.");return this._inflaterState=this._getInflaterState(this._getInflaterStateValue(this._inflaterState)+1),!0},e.prototype._decodeBlock=function(e){e=!1;for(var t=this._output._unusedBytes;t>258;){var i=void 0,n=void 0,o=void 0,r=void 0;switch(this._inflaterState){case wn.decodeTop:if((i=this._llTree._getNextSymbol(this._input))<0)return{result:!1,eob:e,output:this._output};if(i<256)this._output._write(nr(i,8)),--t;else{if(256===i)return e=!0,this._inflaterState=wn.readingBFinal,{result:!0,eob:e,output:this._output};if((i-=257)<8)i+=3,this._extraBits=0;else if(28===i)i=258,this._extraBits=0;else{if(i<0||i>=this._extraLengthBits.length)throw new Error("Invalid data.");this._extraBits=this._extraLengthBits[Number.parseInt(i.toString(),10)]}if(this._length=i,t=(r=this._inLength(t)).fb,!r.value)return{result:!1,eob:e,output:this._output}}break;case wn.iLength:if(t=(r=this._inLength(t)).fb,!r.value)return{result:!1,eob:e,output:this._output};break;case wn.fLength:if(t=(o=this._fLength(t)).fb,!o.value)return{result:!1,eob:e,output:this._output};break;case wn.dCode:if(t=(n=this._dcode(t)).fb,!n.value)return{result:!1,eob:e,output:this._output}}}return{result:!0,eob:e,output:this._output}},e.prototype._inLength=function(e){if(this._extraBits>0){this._inflaterState=wn.iLength;var t=this._input._getBits(this._extraBits);if(t<0)return{value:!1,fb:e};if(this._length<0||this._length>=this._lengthBase.length)throw new Error("Invalid data.");this._length=this._lengthBase[this._length]+t}this._inflaterState=wn.fLength;var i=this._fLength(e);return e=i.fb,i.value?{value:!0,fb:e}:{value:!1,fb:e}},e.prototype._fLength=function(e){if(this._blockType===yn.dynamicType?this._distanceCode=this._distanceTree._getNextSymbol(this._input):(this._distanceCode=this._input._getBits(5),this._distanceCode>=0&&(this._distanceCode=this._staticDistanceTreeTable[this._distanceCode])),this._distanceCode<0)return{value:!1,fb:e};this._inflaterState=wn.dCode;var t=this._dcode(e);return e=t.fb,t.value?{value:!0,fb:e}:{value:!1,fb:e}},e.prototype._dcode=function(e){var t;if(this._distanceCode>3){this._extraBits=this._distanceCode-2>>1;var i=this._input._getBits(this._extraBits);if(i<0)return{value:!1,fb:e};t=this._distanceBasePosition[this._distanceCode]+i}else t=this._distanceCode+1;return this._output._writeLD(this._length,t),e-=this._length,this._inflaterState=wn.decodeTop,{value:!0,fb:e}},e.prototype._decodeDynamicBlockHeader=function(){switch(this._inflaterState){case wn.readingNlCodes:if(this._llCodeCount=this._input._getBits(5),this._llCodeCount<0)return!1;if(this._llCodeCount+=257,this._inflaterState=wn.readingNdCodes,!this._readingNDCodes())return!1;break;case wn.readingNdCodes:if(!this._readingNDCodes())return!1;break;case wn.readingCodes:if(!this._readingCodes())return!1;break;case wn.readingClCodes:if(!this._readingCLCodes())return!1;break;case wn.readingTcBefore:case wn.readingTcAfter:if(!this._readingTCBefore())return!1}var e=Array(Wo._maxLengthTree).fill(0);ar(e,0,this._codeList,0,this._llCodeCount);var t=Array(Wo._maxDepthTree).fill(0);return ar(t,0,this._codeList,this._llCodeCount,this._llCodeCount+this._dCodeCount),this._llTree=new Wo,this._llTree._load(e),this._distanceTree=new Wo,this._distanceTree._load(t),this._inflaterState=wn.decodeTop,!0},e.prototype._readingNDCodes=function(){return this._dCodeCount=this._input._getBits(5),!(this._dCodeCount<0)&&(this._dCodeCount+=1,this._inflaterState=wn.readingCodes,!!this._readingCodes())},e.prototype._readingCodes=function(){return this._clCodeCount=this._input._getBits(4),!(this._clCodeCount<0)&&(this._clCodeCount+=4,this._loopCounter=0,this._inflaterState=wn.readingClCodes,!!this._readingCLCodes())},e.prototype._readingCLCodes=function(){for(;this._loopCounter<this._clCodeCount;){var e=this._input._getBits(3);if(e<0)return!1;this._cltcl[this._codeOrder[this._loopCounter]]=nr(e,8),++this._loopCounter}for(var t=this._clCodeCount;t<this._codeOrder.length;t++)this._cltcl[this._codeOrder[Number.parseInt(t.toString(),10)]]=0;return this._clTree=new Wo,this._clTree._load(this._cltcl),this._caSize=this._llCodeCount+this._dCodeCount,this._loopCounter=0,this._inflaterState=wn.readingTcBefore,!!this._readingTCBefore()},e.prototype._readingTCBefore=function(){for(;this._loopCounter<this._caSize;){if(this._inflaterState===wn.readingTcBefore&&(this._lengthCode=this._clTree._getNextSymbol(this._input),this._lengthCode<0))return!1;if(this._lengthCode<=15)this._codeList[this._loopCounter++]=nr(this._lengthCode,8);else{if(!this._input._availableBits(7))return this._inflaterState=wn.readingTcAfter,!1;var e=void 0;if(16===this._lengthCode){if(0===this._loopCounter)throw new Error("Invalid data.");var t=nr(this._codeList[this._loopCounter-1],8);if(e=this._input._getBits(2)+3,this._loopCounter+e>this._caSize)throw new Error("Invalid data.");for(var i=0;i<e;i++)this._codeList[this._loopCounter++]=t}else if(17===this._lengthCode){if(e=this._input._getBits(3)+3,this._loopCounter+e>this._caSize)throw new Error("Invalid data.");for(i=0;i<e;i++)this._codeList[this._loopCounter++]=0}else{if(e=this._input._getBits(7)+11,this._loopCounter+e>this._caSize)throw new Error("Invalid data.");for(i=0;i<e;i++)this._codeList[this._loopCounter++]=0}}this._inflaterState=wn.readingTcBefore}return!0},e.prototype._getBlockType=function(e){return e===yn.unCompressedType?yn.unCompressedType:e===yn.staticType?yn.staticType:yn.dynamicType},e.prototype._getInflaterState=function(e){switch(e){case 0:default:return wn.readingHeader;case 2:return wn.readingBFinal;case 3:return wn.readingBType;case 4:return wn.readingNlCodes;case 5:return wn.readingNdCodes;case 6:return wn.readingCodes;case 7:return wn.readingClCodes;case 8:return wn.readingTcBefore;case 9:return wn.readingTcAfter;case 10:return wn.decodeTop;case 11:return wn.iLength;case 12:return wn.fLength;case 13:return wn.dCode;case 15:return wn.unCompressedAligning;case 16:return wn.unCompressedByte1;case 17:return wn.unCompressedByte2;case 18:return wn.unCompressedByte3;case 19:return wn.unCompressedByte4;case 20:return wn.decodeUnCompressedBytes;case 21:return wn.srFooter;case 22:return wn.rFooter;case 23:return wn.vFooter;case 24:return wn.done}},e.prototype._getInflaterStateValue=function(e){switch(e){case wn.readingHeader:return 0;case wn.readingBFinal:return 2;case wn.readingBType:return 3;case wn.readingNlCodes:return 4;case wn.readingNdCodes:return 5;case wn.readingCodes:return 6;case wn.readingClCodes:return 7;case wn.readingTcBefore:return 8;case wn.readingTcAfter:return 9;case wn.decodeTop:return 10;case wn.iLength:return 11;case wn.fLength:return 12;case wn.dCode:return 13;case wn.unCompressedAligning:return 15;case wn.unCompressedByte1:return 16;case wn.unCompressedByte2:return 17;case wn.unCompressedByte3:return 18;case wn.unCompressedByte4:return 19;case wn.decodeUnCompressedBytes:return 20;case wn.srFooter:return 21;case wn.rFooter:return 22;case wn.vFooter:return 23;case wn.done:return 24;default:return 0}},e}(),Zo=function(){function e(e,t,i){Sa(e)?this._data=e:this._data=[],Sa(i)&&(this._leaveOpen=i),this._offset=t,this._inflater=new Xo,this._buffer=Array(8192).fill(0)}return e.prototype._read=function(e,t,i){for(var n,o=t,r=i;;){var a=this._inflater._inflate(e,o,r);if(n=a.count,e=a.data,o+=n,0===(r-=n))break;if(this._inflater._finished)break;var s=this._readBytes(),l=s.count;if(this._buffer=s.buffer,0===l)break;this._inflater._setInput(this._buffer,0,l)}return{count:i-r,data:e}},e.prototype._readBytes=function(){if(Sa(this._offset)&&this._offset>=this._data.length)return{buffer:[],count:0};for(var e=0,t=0;t<this._buffer.length&&t+this._offset<this._data.length;t++)this._buffer[Number.parseInt(t.toString(),10)]=this._data[this._offset+t],e++;return this._offset+=e,{buffer:this._buffer,count:e}},e}(),qo=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$o=function(e){function t(t){var i=e.call(this)||this;return i._stream=t,i._format=Qt.png,i._isRedGreenBlue=!1,i._isDecode=!1,i._shades=!1,i._ideateDecode=!0,i._colors=0,i._bitsPerPixel=0,i._idatLength=0,i._inputBands=0,i._position=8,i._initialize(),i}return qo(t,e),t.prototype._initialize=function(){for(var e,t=this._hasValidChunkType(e);t.hasValidChunk;){switch(e=t.type){case jo.iHDR:this._readHeader();break;case jo.iDAT:this._readImageData();break;case jo.sRGB:this._isRedGreenBlue=!0,this._ignoreChunk();break;case jo.pLTE:this._readPhotoPlate();break;case jo.iEND:this._decodeImageData();break;case jo.tRNS:this._readTransparency();break;case jo.tEXt:case jo.iTXt:case jo.zTXt:case jo.hIST:case jo.sBIT:case jo.iCCP:case jo.pHYs:case jo.tIME:case jo.bKGD:case jo.gAMA:case jo.cHRM:case jo.unknown:this._ignoreChunk()}t=this._hasValidChunkType(e)}},t.prototype._hasValidChunkType=function(e){if(e=jo.unknown,this._position+8<=this._stream.byteLength){this._currentChunkLength=this._readUnsigned32(this._position),this._seek(4);var t=this._readString(4),i=this._getChunkType(t);return null!=i?{type:e=i,hasValidChunk:!0}:this._stream.byteLength===this._position?{type:e,hasValidChunk:!1}:{type:e,hasValidChunk:!0}}return{type:e,hasValidChunk:!1}},t.prototype._ignoreChunk=function(){this._currentChunkLength>0&&this._seek(this._currentChunkLength+4)},t.prototype._readHeader=function(){this._header=new er,this._header._width=this._readUnsigned32(this._position),this._seek(4),this._header._height=this._readUnsigned32(this._position),this._seek(4),this._header._bitDepth=this._readByte(),this._header._colorType=this._readByte(),this._header._compression=this._readByte(),this._header._filter=this._getFilterType(this._readByte()),this._header._interlace=this._readByte(),this._colors=3!==this._header._colorType&&2&this._header._colorType?3:1,this._width=this._header._width,this._height=this._header._height,this._bitsPerComponent=this._header._bitDepth,this._setBitsPerPixel(),this._seek(4)},t.prototype._setBitsPerPixel=function(){this._bitsPerPixel=16===this._header._bitDepth?2:1,0===this._header._colorType?(this._idatLength=Number.parseInt(((this._bitsPerComponent*this._width+7)/8).toString(),10)*this._height,this._inputBands=1):2===this._header._colorType?(this._idatLength=this._width*this._height*3,this._inputBands=3,this._bitsPerPixel*=3):3===this._header._colorType?(1!==this._header._interlace&&0!==this._header._interlace||(this._idatLength=Number.parseInt(((this._header._bitDepth*this._width+7)/8).toString(),10)*this._height),this._inputBands=1,this._bitsPerPixel=1):4===this._header._colorType?(this._idatLength=this._width*this._height,this._inputBands=2,this._bitsPerPixel*=2):6===this._header._colorType&&(this._idatLength=3*this._width*this._height,this._inputBands=4,this._bitsPerPixel*=4)},t.prototype._readImageData=function(){if(this._encodedStream&&0!==this._encodedStream.length||(this._encodedStream=[]),this._currentChunkLength<=this._stream.byteLength&&this._stream.byteLength-this._position>=this._currentChunkLength)for(var e=0;e<this._currentChunkLength;e++)this._encodedStream.push(this._readByte());this._seek(4)},t.prototype._readPhotoPlate=function(){if(3===this._header._colorType){this._colorSpace=[],this._colorSpace.push(va.get("Indexed")),this._colorSpace.push(this._getPngColorSpace()),this._colorSpace.push(this._currentChunkLength/3-1);var e=new Uint8Array(this._currentChunkLength);this._read(e,0,this._currentChunkLength),this._colorSpace.push(mr(e)),this._seek(4)}else this._ignoreChunk()},t.prototype._readTransparency=function(){if(3===this._header._colorType){var e=new Uint8Array(this._currentChunkLength);this._read(e,0,this._currentChunkLength),this._seek(4),this._alpha=[];for(var t=0;t<e.length;t++){this._alpha.push(e[Number.parseInt(t.toString(),10)]);var i=255&e[Number.parseInt(t.toString(),10)];0!==i&&255!==i&&(this._shades=!0)}}else this._ignoreChunk()},t.prototype._getPngColorSpace=function(){if(this._isRedGreenBlue){var e=[],t=new Va,i=[1,1,1];if(t.set("Gamma",[2.2,2.2,2.2]),this._isRedGreenBlue){var n=.64,o=.33,r=.15,a=.06,s=-.0737289,l=.2126390058715103,d=l*n/o,h=.01933081871559183,A=-.0527286/s,p=.35758433938387796,c=.11919477979462603,g=-.005321898/s,u=g*r/a,f=.9503960726390872;i=[.9504300891509299,1,1.088921671149305],t.set("Matrix",[d,l,h,p,A,c,u,g,f])}return t.set("WhitePoint",i),e.push(va.get("CalRGB")),e.push(t),e}return 2&this._header._colorType?va.get("DeviceRGB"):va.get("DeviceGray")},t.prototype._decodeImageData=function(){var e=this._header;this._isDecode=1===e._interlace||16===e._bitDepth||!!(4&e._colorType)||this._shades,this._isDecode?((4&e._colorType||this._shades)&&(this._maskData=Array(this._width*this._height).fill(0)),this._encodedStream&&(this._dataStream=this._getDeflatedData(this._encodedStream),this._dataStreamOffset=0),this._idatLength>0&&(this._decodedImageData=Array(this._idatLength).fill(0)),this._readDecodeData(),this._decodedImageData&&0===this._decodedImageData.length&&this._shades&&(this._ideateDecode=!1,this._decodedImageData=this._encodedStream)):(this._ideateDecode=!1,this._decodedImageData=this._encodedStream)},t.prototype._getDeflatedData=function(e){var t=e.slice(2,e.length-4),i=new Zo(t,0,!0),n=Array(4096).fill(0),o=0,r=[];do{var a=i._read(n,0,n.length);o=a.count,n=a.data;for(var s=0;s<o;s++)r.push(n[Number.parseInt(s.toString(),10)])}while(o>0);return r},t.prototype._readDecodeData=function(){1!==this._header._interlace?this._decodeData(0,0,1,1,this._width,this._height):(this._decodeData(0,0,8,8,Math.floor((this._width+7)/8),Math.floor((this._height+7)/8)),this._decodeData(4,0,8,8,Math.floor((this._width+3)/8),Math.floor((this._height+7)/8)),this._decodeData(0,4,4,8,Math.floor((this._width+3)/4),Math.floor((this._height+3)/8)),this._decodeData(2,0,4,4,Math.floor((this._width+1)/4),Math.floor((this._height+3)/4)),this._decodeData(0,2,2,4,Math.floor((this._width+1)/2),Math.floor((this._height+1)/4)),this._decodeData(1,0,2,2,Math.floor(this._width/2),Math.floor((this._height+1)/2)),this._decodeData(0,1,1,2,this._width,Math.floor(this._height/2)))},t.prototype._decodeData=function(e,t,i,n,o,r){if(0!==o&&0!==r)for(var a=Math.floor((this._inputBands*o*this._header._bitDepth+7)/8),s=Array(a).fill(0),l=Array(a).fill(0),d=0,h=t;d<r;d++,h+=n){var A=this._dataStream[this._dataStreamOffset];switch(this._dataStreamOffset=this._dataStreamOffset+1,this._dataStreamOffset=this._readStream(this._dataStream,this._dataStreamOffset,s,a),this._getFilterType(A)){case Go.none:break;case Go.sub:this._decompressSub(s,a,this._bitsPerPixel);break;case Go.up:this._decompressUp(s,l,a);break;case Go.average:this._decompressAverage(s,l,a,this._bitsPerPixel);break;case Go.paeth:this._decompressPaeth(s,l,a,this._bitsPerPixel);break;default:throw new Error("Unknown PNG filter")}this._processPixels(s,e,i,h,o);var p=l;l=s,s=p}},t.prototype._readStream=function(e,t,i,n){var o=this._read(i,t,n,e);if(i=o.outputBuffer,t=o.offset,o.length<=0)throw new Error("Insufficient data");return t},t.prototype._decompressSub=function(e,t,i){for(var n=i;n<t;n++)e[Number.parseInt(n.toString(),10)]=nr((255&e[Number.parseInt(n.toString(),10)])+(255&e[n-i]),8)},t.prototype._decompressUp=function(e,t,i){for(var n=0;n<i;n++)e[Number.parseInt(n.toString(),10)]=nr((255&e[Number.parseInt(n.toString(),10)])+(255&t[Number.parseInt(n.toString(),10)]),8)},t.prototype._decompressAverage=function(e,t,i,n){for(var o,r,a,s=0;s<n;s++)o=255&e[Number.parseInt(s.toString(),10)],a=255&t[Number.parseInt(s.toString(),10)],e[Number.parseInt(s.toString(),10)]=nr(Math.floor(o+a/2),8);for(s=n;s<i;s++)o=255&e[Number.parseInt(s.toString(),10)],r=255&e[s-n],a=255&t[Number.parseInt(s.toString(),10)],e[Number.parseInt(s.toString(),10)]=nr(Math.floor(o+Math.floor((r+a)/2)),8)},t.prototype._decompressPaeth=function(e,t,i,n){for(var o,r,a,s,l=0;l<n;l++)o=255&e[Number.parseInt(l.toString(),10)],a=255&t[Number.parseInt(l.toString(),10)],e[Number.parseInt(l.toString(),10)]=nr(o+a,8);for(l=n;l<i;l++)o=255&e[Number.parseInt(l.toString(),10)],r=255&e[l-n],a=255&t[Number.parseInt(l.toString(),10)],s=255&t[l-n],e[Number.parseInt(l.toString(),10)]=nr(o+this._paethPredictor(r,a,s),8)},t.prototype._paethPredictor=function(e,t,i){var n=e+t-i,o=Math.abs(n-e),r=Math.abs(n-t),a=Math.abs(n-i);return o<=r&&o<=a?e:r<=a?t:i},t.prototype._processPixels=function(e,t,i,n,o){var r=0,a=0,s=0,l=this._getPixel(e);if(0===this._header._colorType||3===this._header._colorType||4===this._header._colorType?s=1:2!==this._header._colorType&&6!==this._header._colorType||(s=3),this._decodedImageData&&this._decodedImageData.length>0){a=t;var d=16===this._header._bitDepth?8:this._header._bitDepth,h=Math.floor((s*o*d+7)/8);for(r=0;r<o;r++)this._decodedImageData=this._setPixel(this._decodedImageData,l,this._inputBands*r,s,a,n,this._header._bitDepth,h),a+=i}if(!!(4&this._header._colorType)||this._shades)if(4&this._header._colorType){if(16===this._header._bitDepth)for(var A=0;A<o;++A){var p=A*this._inputBands+s,c=nr(l[Number.parseInt(p.toString(),10)],32);l[Number.parseInt(p.toString(),10)]=rr(c>>8)}h=o;for(a=t,r=0;r<o;r++)this._maskData=this._setPixel(this._maskData,l,this._inputBands*r+s,1,a,n,8,h),a+=i}else{h=o;var g=[0];for(a=t,r=0;r<o;r++){var u=l[Number.parseInt(r.toString(),10)];u<this._alpha.length?g[0]=this._alpha[Number.parseInt(u.toString(),10)]:g[0]=255,this._maskData=this._setPixel(this._maskData,g,0,1,a,n,8,h),a+=i}}},t.prototype._getPixel=function(e){if(8===this._header._bitDepth){for(var t=Array(e.length).fill(0),i=0;i<t.length;++i)t[Number.parseInt(i.toString(),10)]=255&e[Number.parseInt(i.toString(),10)];return t}if(16===this._header._bitDepth){for(t=Array(Math.floor(e.length/2)).fill(0),i=0;i<t.length;++i)t[Number.parseInt(i.toString(),10)]=((255&e[2*i])<<8)+(255&e[2*i+1]);return t}t=Array(Math.floor(8*e.length/this._header._bitDepth)).fill(0);for(var n=0,o=Math.floor(8/this._header._bitDepth),r=(1<<this._header._bitDepth)-1,a=0;a<e.length;++a)for(i=o-1;i>=0;--i){var s=this._header._bitDepth*i,l=e[Number.parseInt(a.toString(),10)];t[n++]=(s<1?l:rr(nr(l,32)>>s))&r}return t},t.prototype._setPixel=function(e,t,i,n,o,r,a,s){if(8===a)for(var l=s*r+n*o,d=0;d<n;++d)e[l+d]=nr(t[d+i],8);else if(16===a)for(l=s*r+n*o,d=0;d<n;++d)e[l+d]=nr(t[d+i]>>8,8);else{l=Math.floor((s*r+o)/(8/a));var h=t[Number.parseInt(i.toString(),10)]<<Number.parseInt((8-a*(o%(8/a))-a).toString(),10);e[Number.parseInt(l.toString(),10)]=e[Number.parseInt(l.toString(),10)]|nr(h,8)}return e},t.prototype._getImageDictionary=function(){this._imageStream=new Pa([],new Va),this._imageStream.isImageStream=!0;for(var e="",t=0;t<this._decodedImageData.length;t++)e+=String.fromCharCode(this._decodedImageData[Number.parseInt(t.toString(),10)]);this._imageStream.data=[e],this._imageStream._isCompress=this._isDecode&&this._ideateDecode;var i=new Va;i.set("Type",new va("XObject")),i.set("Subtype",new va("Image")),i.set("Width",this._width),i.set("Height",this._height),16===this._bitsPerComponent?i.set("BitsPerComponent",8):i.set("BitsPerComponent",this._bitsPerComponent),this._isDecode&&this._ideateDecode||i.set("Filter",new va("FlateDecode")),2&this._header._colorType?i.set("ColorSpace",va.get("DeviceRGB")):i.set("ColorSpace",va.get("DeviceGray")),(!this._isDecode||this._shades&&!this._ideateDecode)&&i.set("DecodeParms",this._getDecodeParams()),this._imageStream.dictionary=i,this._imageStream.bytes=new Uint8Array(this._imageStream.data[0].length);for(t=0;t<this._imageStream.data[0].length;t++)this._imageStream.bytes[Number.parseInt(t.toString(),10)]=this._imageStream.data[0].charCodeAt(t);return this._imageStream.end=this._imageStream.bytes.length,this._imageStream.dictionary._updated=!0,this._setMask(),this._imageStream},t.prototype._setMask=function(){if(this._maskData&&this._maskData.length>0){this._maskStream=new Pa(this._maskData,new Va),this._maskStream._isCompress=this._isDecode&&this._ideateDecode;var e=new Va;e.set("Type",new va("XObject")),e.set("Subtype",new va("Image")),e.set("Width",this._width),e.set("Height",this._height),16===this._bitsPerComponent?e.set("BitsPerComponent",8):e.set("BitsPerComponent",this._bitsPerComponent),e.set("ColorSpace",va.get("DeviceGray")),this._maskStream.dictionary=e,this._maskStream.bytes=new Uint8Array(this._maskData),this._maskStream.end=this._maskStream.bytes.length,this._maskStream.dictionary._updated=!0}},t.prototype._getDecodeParams=function(){var e=new Va;return e.set("Columns",this._width),e.set("Colors",this._colors),e.set("Predictor",15),e.set("BitsPerComponent",this._bitsPerComponent),e},t.prototype._getChunkType=function(e){switch(e){case"IHDR":return jo.iHDR;case"PLTE":return jo.pLTE;case"IDAT":return jo.iDAT;case"IEND":return jo.iEND;case"bKGD":return jo.bKGD;case"cHRM":return jo.cHRM;case"gAMA":return jo.gAMA;case"hIST":return jo.hIST;case"pHYs":return jo.pHYs;case"sBIT":return jo.sBIT;case"tEXt":return jo.tEXt;case"tIME":return jo.tIME;case"tRNS":return jo.tRNS;case"zTXt":return jo.zTXt;case"sRGB":return jo.sRGB;case"iCCP":return jo.iCCP;case"iTXt":return jo.iTXt;case"Unknown":return jo.unknown;default:return null}},t.prototype._getFilterType=function(e){switch(e){case 1:return Go.sub;case 2:return Go.up;case 3:return Go.average;case 4:return Go.paeth;default:return Go.none}},t}(zo),er=function(){this._width=0,this._height=0,this._colorType=0,this._compression=0,this._bitDepth=0,this._interlace=0,this._filter=Go.none};!function(e){e[e.iHDR=0]="iHDR",e[e.pLTE=1]="pLTE",e[e.iDAT=2]="iDAT",e[e.iEND=3]="iEND",e[e.bKGD=4]="bKGD",e[e.cHRM=5]="cHRM",e[e.gAMA=6]="gAMA",e[e.hIST=7]="hIST",e[e.pHYs=8]="pHYs",e[e.sBIT=9]="sBIT",e[e.tEXt=10]="tEXt",e[e.tIME=11]="tIME",e[e.tRNS=12]="tRNS",e[e.zTXt=13]="zTXt",e[e.sRGB=14]="sRGB",e[e.iCCP=15]="iCCP",e[e.iTXt=16]="iTXt",e[e.unknown=17]="unknown"}(jo||(jo={})),function(e){e[e.none=0]="none",e[e.sub=1]="sub",e[e.up=2]="up",e[e.average=3]="average",e[e.paeth=4]="paeth"}(Go||(Go={}));var tr=f(50),ir=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function nr(e,t){return e&Math.pow(2,t)-1}function or(e){return e<<16>>16}function rr(e){return e|0}function ar(e,t,i,n,o){null==n&&(n=0),o=void 0===o?i.length:o,n=Math.max(0,Math.min(i.length,n)),t+((o=Math.max(0,Math.min(i.length,o)))-n)>e.length&&(e.length=t+(o-n));for(var r=n,a=t;r<o;r++,a++)e[Number.parseInt(a.toString(),10)]=i[Number.parseInt(r.toString(),10)]}function sr(e,t){for(var i=0;i<t.length;i++)if(t[Number.parseInt(i.toString(),10)]!==e[Number.parseInt(i.toString(),10)])return!1;return!0}function lr(e,t,i){var n=0;if(i=null==i?0:i,e.rotation===Ge.angle90)n=null==t?0:i;else if(e.rotation===Ge.angle180)n=null==t?0:t;else if(e.rotation===Ge.angle270){var o=e.size;n=null==t?0:o[0]-i}return n}function dr(e,t){for(var i=-1,n=0;n<e.pageCount;n++){if(e.getPage(n)._pageDictionary===t){i=n;break}}return i}function hr(e){var t=[];return e&Le.hidden&&t.push("hidden"),e&Le.invisible&&t.push("invisible"),e&Le.locked&&t.push("locked"),e&Le.noRotate&&t.push("norotate"),e&Le.noView&&t.push("noview"),e&Le.noZoom&&t.push("nozoom"),e&Le.print&&t.push("print"),e&Le.readOnly&&t.push("readonly"),e&Le.toggleNoView&&t.push("togglenoview"),e&Le.default&&t.push("default"),t.join(",")}function Ar(e){switch(e){case"hidden":return Le.hidden;case"invisible":return Le.invisible;case"locked":return Le.locked;case"norotate":return Le.noRotate;case"noview":return Le.noView;case"nozoom":return Le.noZoom;case"print":return Le.print;case"readonly":return Le.readOnly;case"togglenoview":return Le.toggleNoView;default:return Le.default}}function pr(e){if("string"==typeof e&&e.length>0&&e.charCodeAt(0)>="".charCodeAt(0)){var t=void 0;if(""===e[0]&&""===e[1]&&""===e[2]?t="utf-8":""===e[0]&&""===e[1]?t="utf-16le":""===e[0]&&""===e[1]&&(t="utf-16be"),t)try{return new TextDecoder(t,{fatal:!0}).decode(cr(e))}catch(e){}}for(var i=[],n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],o=0;o<e.length;o++){var r=n[e.charCodeAt(o)];i.push(r?String.fromCharCode(r):e.charAt(o))}return i.join("")}function cr(e,t,i,n){void 0===t&&(t=!1),void 0===i&&(i=!1);var o=[];if(n&&(o=n),i)for(var r=0;r<e.length;r++)o.push(e.charCodeAt(r));else for(r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?o.push(a):a<2048?(o.push(a>>6|192),o.push(63&a|128)):a<55296||a>=57344?(o.push(a>>12|224),o.push(a>>6&63|128),o.push(63&a|128)):(r++,a=65536+((1023&a)<<10|1023&e.charCodeAt(r)),o.push(a>>18|240),o.push(a>>12&63|128),o.push(a>>6&63|128),o.push(63&a|128))}return t?o:new Uint8Array(o)}function gr(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[Number.parseInt(i.toString(),10)]!==t[Number.parseInt(i.toString(),10)])return!1;return!0}function ur(e){return Number.isInteger(e)?e.toString():e.toFixed(7)}function fr(e,t){var i=!1;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n]){i=!0;break}return i}function mr(e,t){void 0===t&&(t=!1);var i=e.length,n=8192,o=[];if(i<n)return t?wr(e):String.fromCharCode.apply(null,e);for(var r=0;r<i;r+=n){var a=Math.min(r+n,i),s=e.subarray(r,a);o.push(t?wr(s):String.fromCharCode.apply(null,s))}return o.join("")}function wr(e){for(var t="",i=0;i<e.length;){var n=e[i++];if(n<128)t+=String.fromCharCode(n);else if(n<224)t+=String.fromCharCode((31&n)<<6|63&e[i++]);else if(n<240)t+=String.fromCharCode((15&n)<<12|(63&e[i++])<<6|63&e[i++]);else{var o=(7&n)<<18|(63&e[i++])<<12|(63&e[i++])<<6|(63&e[i++])-65536;t+=String.fromCharCode(55296+(o>>10),56320+(1023&o))}}return t}function yr(e){var t=[];if(null!=e)for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);t.push(n/256>>>0),t.push(255&n)}return new Uint8Array(t)}function Sr(e){for(var t,i=[],n=0;n<e.length;n++)(t=e[Number.parseInt(n.toString(),10)].toString(16).toUpperCase()).length<2&&(t="0"+t),i.push(t);return i.join("")}function Cr(e,t){void 0===t&&(t=!1);var i=[];if(e)for(var n=0;n<e.length;n+=2)i.push(Number.parseInt(e.substring(n,n+2),16));return t?i:new Uint8Array(i)}function Br(e){return 32===e||9===e||13===e||10===e}function Ir(e){var t,i,n,o,r,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,l=0,d=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;e.charAt(e.length-1)===a.charAt(64)&&d--;for(var h=new Array(0|d);s<e.length;)t=a.indexOf(e.charAt(s++))<<2|(o=a.indexOf(e.charAt(s++)))>>4,i=(15&o)<<4|(r=a.indexOf(e.charAt(s++)))>>2,n=(3&r)<<6|a.indexOf(e.charAt(s++)),l<d&&(h[l++]=t),l<d&&(h[l++]=i),l<d&&(h[l++]=n);return new Uint8Array(h)}function br(e,t){void 0===t&&(t=!1);var i=3e6;if(e.length>=i){e=e.replace(/[^A-Za-z0-9+/=]/g,"");for(var n=[],o=0,r=0;r<e.length;r+=i){var a=Ir(A=e.substring(r,r+i));n.push(a),o+=a.length}for(var s=new Uint8Array(o),l=0,d=0,h=n;d<h.length;d++){var A=h[d];s.set(A,l),l+=A.length}return t?Array.from(s):s}var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=void 0,g=void 0,u=void 0,f=void 0,m=void 0,w=(r=0,0);o=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;e.charAt(e.length-1)===p.charAt(64)&&o--;for(s=new Array(0|o);r<e.length;)c=p.indexOf(e.charAt(r++))<<2|(f=p.indexOf(e.charAt(r++)))>>4,g=(15&f)<<4|(m=p.indexOf(e.charAt(r++)))>>2,u=(3&m)<<6|p.indexOf(e.charAt(r++)),w<o&&(s[w++]=c),w<o&&(s[w++]=g),w<o&&(s[w++]=u);return t?s:new Uint8Array(s)}function vr(e,t){void 0===t&&(t=!1);for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=[],o=e.length,r=0;r<o;){var a=e[r++],s=r<o?e[r++]:0,l=r<o?e[r++]:0,d=a>>2,h=(3&a)<<4|s>>4,A=(15&s)<<2|l>>6,p=63&l;n.push(i[Number.parseInt(d.toString(),10)],i[Number.parseInt(h.toString(),10)],r-1>o?"=":i[Number.parseInt(A.toString(),10)],r>o?"=":i[Number.parseInt(p.toString(),10)])}return t&&(o%3==1?(n[n.length-1]="=",n[n.length-2]="="):o%3==2&&(n[n.length-1]="=")),n.join("")}function Er(e){var t=3e6,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=e.length;if(n>=t){var o=[];if(n>t)for(var r=0;r<n;r+=t){var a=e.subarray(r,Math.min(r+t,n));r+t>=n?o.push(vr(a,!0)):o.push(vr(a))}else o.push(vr(e,!0));return o.join("")}o="";for(var s=0,l=0;l<e.length;l++)l%3==0?(s=e[Number.parseInt(l.toString(),10)]>>2,o+=i[Number.parseInt(s.toString(),10)],s=e[Number.parseInt(l.toString(),10)]<<4&63):l%3==1?(s+=e[Number.parseInt(l.toString(),10)]>>4,o+=i[Number.parseInt(s.toString(),10)],s=e[Number.parseInt(l.toString(),10)]<<2&63):l%3==2&&(s+=e[Number.parseInt(l.toString(),10)]>>6,o+=i[Number.parseInt(s.toString(),10)],s=63&e[Number.parseInt(l.toString(),10)],o+=i[Number.parseInt(s.toString(),10)]);return e.length%3==1&&(o+=i[Number.parseInt(s.toString(),10)]+"=="),e.length%3==2&&(o+=i[Number.parseInt(s.toString(),10)]+"="),o}function xr(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!0);for(var o,r=[],a=4;a<arguments.length;a++)r[a-4]=arguments[a];for(var s=new Set;e instanceof Va&&e.objId&&!s.has(e.objId);){e.objId&&s.add(e.objId);var l=i?e.getArray(t):e.get(t);if(void 0!==l){if(n)return l;o||(o=[]),o.push(l)}for(var d=0,h=!1;d<r.length;){var A=r[d];if(e.has(A)){e=e.get(A),h=!0;break}d++}if(!h)break}return o}function _r(e,t){var i;if(e.has("Rect"))if(i=function(e,t){var i={x:0,y:0,width:0,height:0},n=e.getArray("Rect");if(n&&Array.isArray(n)){var o=n[0],r=n[1],a=n[2],s=n[3];void 0!==o&&void 0!==r&&void 0!==a&&void 0!==s&&(i.x=Math.min(o,a),i.y=Math.min(r,s),i.width=Math.max(o,a)-i.x,i.height=Math.max(r,s)-i.y,t&&(i.height=parseFloat(i.height.toFixed(3)),n[1]<0&&(i.y=n[1],n[1]>n[3]&&(i.y-=i.height))))}return i}(e),t){var n=t.size,o=t.mediaBox,r=t.cropBox;r&&Array.isArray(r)&&4===r.length&&t._pageDictionary.has("CropBox")?0===r[0]&&0===r[1]&&n[0]!==r[2]&&n[1]!==r[3]||i.x===r[0]?i.y=n[1]-(i.y+i.height):(i.x-=r[0],i.y=r[3]-(i.y+i.height)):o&&Array.isArray(o)&&4===o.length&&t._pageDictionary.has("MediaBox")&&(o[0]>0||o[1]>0||n[0]===o[2]||n[1]===o[3])?(i.x-=o[0],i.y=o[3]-(i.y+i.height)):i.y=n[1]-(i.y+i.height)}else i.y=i.y+i.height;return i}function Dr(e){return{x:Math.min(e[0],e[2]),y:Math.min(e[1],e[3]),width:Math.abs(e[0]-e[2]),height:Math.abs(e[1]-e[3])}}function Mr(e){return[e.x,e.y,e.x+e.width,e.y+e.height]}function Vr(e,t){var i=e[0],n=e[1],o=e[2],r=e[3];if(t){var a=t.size,s=a[0],l=a[1],d=t.mediaBox,h=t.cropBox;h&&Array.isArray(h)&&4===h.length?0!==h[0]||0!==h[1]||s===h[2]||l===h[3]?(i+=h[0],n=h[3]-(n+r)):n=l-(n+r):d&&Array.isArray(d)&&4===d.length&&(d[0]>0||d[1]>0||s===d[2]||l===d[3])?(i-=d[0],n=d[3]-(n+r)):n=l-(n+r)}return[i,n,i+o,n+r]}function Qr(e){var t=function(e){var t;switch(e){case"transparent":case"white":t=[255,255,255];break;case"aliceblue":t=[240,248,255];break;case"antiquewhite":t=[250,235,215];break;case"aqua":case"cyan":t=[0,255,255];break;case"aquamarine":t=[127,255,212];break;case"azure":t=[240,255,255];break;case"beige":t=[245,245,220];break;case"bisque":t=[255,228,196];break;case"black":t=[0,0,0];break;case"blanchedalmond":t=[255,235,205];break;case"blue":t=[0,0,255];break;case"blueviolet":t=[138,43,226];break;case"brown":t=[165,42,42];break;case"burlywood":t=[222,184,135];break;case"cadetBlue":t=[95,158,160];break;case"chartreuse":t=[127,255,0];break;case"chocolate":t=[210,105,30];break;case"coral":t=[255,127,80];break;case"cornflowerblue":t=[100,149,237];break;case"cornsilk":t=[255,248,220];break;case"crimson":t=[220,20,60];break;case"darkblue":t=[0,0,139];break;case"darkcyan":t=[0,139,139];break;case"darkgoldenrod":t=[184,134,11];break;case"darkgray":t=[169,169,169];break;case"darkgreen":t=[0,100,0];break;case"darkkhaki":t=[189,183,107];break;case"darkmagenta":t=[139,0,139];break;case"darkolivegreen":t=[85,107,47];break;case"darkorange":t=[255,140,0];break;case"darkorchid":t=[153,50,204];break;case"darkred":t=[139,0,0];break;case"darksalmon":t=[233,150,122];break;case"darkseagreen":t=[143,188,139];break;case"darkslateblue":t=[72,61,139];break;case"darkslategray":t=[47,79,79];break;case"darkturquoise":t=[0,206,209];break;case"darkviolet":t=[148,0,211];break;case"deeppink":t=[255,20,147];break;case"deepskyblue":t=[0,191,255];break;case"dimgray":t=[105,105,105];break;case"dodgerblue":t=[30,144,255];break;case"firebrick":t=[178,34,34];break;case"floralwhite":t=[255,250,240];break;case"forestgreen":t=[34,139,34];break;case"fuchsia":case"magenta":t=[255,0,255];break;case"gainsboro":t=[220,220,220];break;case"ghostwhite":t=[248,248,255];break;case"gold":t=[255,215,0];break;case"goldenrod":t=[218,165,32];break;case"gray":t=[128,128,128];break;case"green":t=[0,128,0];break;case"greenyellow":t=[173,255,47];break;case"honeydew":t=[240,255,240];break;case"hotpink":t=[255,105,180];break;case"indianred":t=[205,92,92];break;case"indigo":t=[75,0,130];break;case"ivory":t=[255,255,240];break;case"khaki":t=[240,230,140];break;case"lavender":t=[230,230,250];break;case"lavenderblush":t=[255,240,245];break;case"lawngreen":t=[124,252,0];break;case"lemonchiffon":t=[255,250,205];break;case"lightblue":t=[173,216,230];break;case"lightcoral":t=[240,128,128];break;case"lightcyan":t=[224,255,255];break;case"lightgoldenrodyellow":t=[250,250,210];break;case"lightgreen":t=[144,238,144];break;case"lightgray":t=[211,211,211];break;case"LightPink":t=[255,182,193];break;case"lightsalmon":t=[255,160,122];break;case"lightseagreen":t=[32,178,170];break;case"lightskyblue":t=[135,206,250];break;case"lightslategray":t=[119,136,153];break;case"lightsteelblue":t=[176,196,222];break;case"lightyellow":t=[255,255,224];break;case"lime":t=[0,255,0];break;case"limeGreen":t=[50,205,50];break;case"linen":t=[250,240,230];break;case"maroon":t=[128,0,0];break;case"mediumaquamarine":t=[102,205,170];break;case"mediumblue":t=[0,0,205];break;case"mediumorchid":t=[186,85,211];break;case"mediumpurple":t=[147,112,219];break;case"mediumseagreen":t=[60,179,113];break;case"mediumslateblue":t=[123,104,238];break;case"mediumspringgreen":t=[0,250,154];break;case"mediumturquoise":t=[72,209,204];break;case"mediumvioletred":t=[199,21,133];break;case"midnightblue":t=[25,25,112];break;case"mintcream":t=[245,255,250];break;case"mistyrose":t=[255,228,225];break;case"moccasin":t=[255,228,181];break;case"navajowhite":t=[255,222,173];break;case"navy":t=[0,0,128];break;case"oldLace":t=[253,245,230];break;case"olive":t=[128,128,0];break;case"olivedrab":t=[107,142,35];break;case"orange":t=[255,165,0];break;case"orangered":t=[255,69,0];break;case"orchid":t=[218,112,214];break;case"palegoldenrod":t=[238,232,170];break;case"palegreen":t=[152,251,152];break;case"paleturquoise":t=[175,238,238];break;case"palebioletred":t=[219,112,147];break;case"papayawhip":t=[255,239,213];break;case"peachpuff":t=[255,218,185];break;case"peru":t=[205,133,63];break;case"pink":t=[255,192,203];break;case"plum":t=[221,160,221];break;case"powderblue":t=[176,224,230];break;case"purple":t=[128,0,128];break;case"red":t=[255,0,0];break;case"rosybrown":t=[188,143,143];break;case"royalblue":t=[65,105,225];break;case"saddlebrown":t=[139,69,19];break;case"salmon":t=[250,128,114];break;case"sandybrown":t=[244,164,96];break;case"seagreen":t=[46,139,87];break;case"seashell":t=[255,245,238];break;case"sienna":t=[160,82,45];break;case"silver":t=[192,192,192];break;case"skyblue":t=[135,206,235];break;case"slateblue":t=[106,90,205];break;case"slategray":t=[112,128,144];break;case"snow":t=[255,250,250];break;case"springgreen":t=[0,255,127];break;case"steelblue":t=[70,130,180];break;case"tan":t=[210,180,140];break;case"teal":t=[0,128,128];break;case"thistle":t=[216,191,216];break;case"tomato":t=[255,99,71];break;case"turquoise":t=[64,224,208];break;case"violet":t=[238,130,238];break;case"wheat":t=[245,222,179];break;case"whitesmoke":t=[245,245,245];break;case"yellow":t=[255,255,0];break;case"yellowgreen":t=[154,205,50]}return t}(e);if(!t){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);i&&(t=[Number.parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)])}return t}function Fr(e){var t;if(e)if(1===e.length){var i=e[0];if(void 0!==i){var n=Math.round(255*i);t=[n,n,n]}}else if(3===e.length){var o=e[0],r=e[1],a=e[2];void 0!==o&&void 0!==r&&void 0!==a&&(t=[Math.round(255*o),Math.round(255*r),Math.round(255*a)])}else if(4===e.length){var s=e[0],l=e[1],d=e[2],h=e[3];if(void 0!==s&&void 0!==l&&void 0!==d&&void 0!==h){var A=255*h;t=[Math.round(255-Math.min(255,s*(255-A)+A)),Math.round(255-Math.min(255,l*(255-A)+A)),Math.round(255-Math.min(255,d*(255-A)+A))]}}return t}function Tr(e){var t="S";switch(e){case Ye.dot:case Ye.dashed:t="D";break;case Ye.beveled:t="B";break;case Ye.inset:t="I";break;case Ye.underline:t="U"}return va.get(t)}function kr(e){var t=je.solid;if("C"===e)t=je.cloudy;return t}function Pr(e){var t="None";if(void 0!==e)switch(e){case Oe.openArrow:t="OpenArrow";break;case Oe.closedArrow:t="ClosedArrow";break;case Oe.rOpenArrow:t="ROpenArrow";break;case Oe.rClosedArrow:t="RClosedArrow";break;case Oe.butt:t="Butt";break;case Oe.diamond:t="Diamond";break;case Oe.circle:t="Circle";break;case Oe.square:t="Square";break;case Oe.slash:t="Slash"}return t}function Nr(e,t){var i=void 0!==t?t:Oe.none;switch(e.toLowerCase()){case"openarrow":i=Oe.openArrow;break;case"closedarrow":i=Oe.closedArrow;break;case"ropenarrow":i=Oe.rOpenArrow;break;case"rclosedarrow":i=Oe.rClosedArrow;break;case"butt":i=Oe.butt;break;case"diamond":i=Oe.diamond;break;case"circle":i=Oe.circle;break;case"square":i=Oe.square;break;case"slash":i=Oe.slash}return i}function Rr(e){switch(e){case"P":return Ke.push;case"N":return Ke.noHighlighting;case"O":return Ke.outline;default:return Ke.invert}}function Lr(e){switch(e){case Ke.push:return va.get("P");case Ke.noHighlighting:return va.get("N");case Ke.outline:return va.get("O");default:return va.get("I")}}function Or(e){var t=e.toFixed(2);return"0.00"===t&&(t=".00"),t}function Ur(e,t){var i=va.get(e);if(t.has("ProcSet")){var n=t.getArray("ProcSet");n&&-1===n.indexOf(i)&&(n.push(i),t.update("ProcSet",n))}else t.update("ProcSet",[i])}function zr(){return"aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa".replace(/[ab]/g,(function(e){var t=16*Math.random()|0;return("a"===e?t:3&t|8).toString(16)}))}function Hr(e){for(var t=[],i=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);(o<33||o>126||35===o||40===o||41===o||60===o||62===o||91===o||93===o||123===o||125===o||47===o||37===o)&&(i<n&&t.push(e.substring(i,n)),t.push("#"+o.toString(16)),i=n+1)}return 0===t.length?e:(i<e.length&&t.push(e.substring(i,e.length)),t.join(""))}function Yr(e,t,i,n,o,r){if(e>i){var a=e;e=i,i=a}if(n>t){a=t;t=n,n=a}var s,l;Math.abs(r)<=90?(s=r,l=1):s=r/(l=Math.ceil(Math.abs(r)/90));for(var d=(e+i)/2,h=(t+n)/2,A=(i-e)/2,p=(n-t)/2,c=s*(Math.PI/360),g=Math.abs(4/3*(1-Math.cos(c))/Math.sin(c)),u=[],f=0;f<l;f++){var m=(o+f*s)*(Math.PI/180),w=(o+(f+1)*s)*(Math.PI/180),y=Math.cos(m),S=Math.cos(w),C=Math.sin(m),B=Math.sin(w);s>0?(u.push(d+A*y),u.push(h-p*C),u.push(d+A*(y-g*C)),u.push(h-p*(C+g*y)),u.push(d+A*(S+g*B)),u.push(h-p*(B-g*S)),u.push(d+A*S),u.push(h-p*B)):(u.push(d+A*y),u.push(h-p*C),u.push(d+A*(y+g*C)),u.push(h-p*(C-g*y)),u.push(d+A*(S-g*B)),u.push(h-p*(B+g*S)),u.push(d+A*S),u.push(h-p*B))}return u}function jr(e,t){for(var i,n=0;n<e.pageCount&&void 0===i;n++){var o=e.getPage(n);if(o&&o._pageDictionary.has("Annots")){var r=o._pageDictionary.get("Annots");if(null!=r&&r.length>0)for(var a=0;a<r.length&&void 0===i;a++){var s=r[Number.parseInt(a.toString(),10)];null!=s&&s instanceof xa&&s===t&&(i=o)}}}return i}function Gr(e){var t=!1;if(e.has("AS")){var i=e.get("AS");if(i)t="Off"!==i.name;else{var n=e.get("V");n&&(t=n.name===Jr(e))}}return t}function Jr(e){var t,i="";if(e.has("AS")&&null!==(t=e.get("AS"))&&"Off"!==t.name&&(i=t.name),""===i&&e.has("AP")){var n=e.get("AP");if(n&&n.has("N")){var o=n.get("N");if(o instanceof ka&&(o=o.dictionary),o&&o instanceof Va){var r=[];o.forEach((function(e,t){r.push(e)}));for(var a=0;a<r.length;a++)if("Off"!==r[Number.parseInt(a.toString(),10)]){i=r[Number.parseInt(a.toString(),10)];break}}}}return i}function Kr(e,t){var i,n=e===gt.checked?Jr(t._dictionary):"Off";if(t._dictionary.has("AP")){var o=t._dictionary.get("AP");if(o&&o.has("N")){var r=o.get("N");if(r&&r instanceof ka&&(r=r.dictionary),r&&r instanceof Va&&n&&""!==n&&r.has(n)){var a=r.get(n),s=r.getRaw(n);s&&(a.reference=s),a&&(i=new Fn(a,t._crossReference))}}}return i}function Wr(e,t){var i=e._content.dictionary.getArray("BBox");if(i&&null!=t)if(0===t)e._content.dictionary.set("Matrix",[1,0,0,1,-i[0],-i[1]]);else{var n=new gn;90===t?n._translate(i[3],-i[0]):180===t?n._translate(i[2],i[3]):270===t&&n._translate(-i[1],i[2]),n._rotate(t),e._content.dictionary.set("Matrix",n._matrix._elements)}}function Xr(e){var t="4";switch(e){case et.circle:t="l";break;case et.cross:t="8";break;case et.diamond:t="u";break;case et.square:t="n";break;case et.star:t="H"}return t}function Zr(e){var t;switch(e){case"cm":default:t=Ze.centimeter;break;case"in":t=Ze.inch;break;case"mm":t=Ze.millimeter;break;case"p":t=Ze.pica;break;case"pt":t=Ze.point}return t}function qr(e){var t="Highlight";switch(e){case tt.highlight:t="Highlight";break;case tt.squiggly:t="Squiggly";break;case tt.strikeOut:t="StrikeOut";break;case tt.underline:t="Underline";break;default:t="Highlight"}return t}function $r(e){var t;switch(e){case"head2right":t="";break;case"aacute":t="a";break;case"eacute":t="e";break;case"iacute":t="i";break;case"oacute":t="o";break;case"uacute":t="u";break;case"circleright":t="";break;case"bleft":t="";break;case"bright":t="";break;case"bup":t="";break;case"bdown":t="";break;case"barb4right":t="";break;case"bleftright":t="";break;case"bupdown":t="";break;case"bnw":t="";break;case"bne":t="";break;case"bsw":t="";break;case"bse":t="";break;case"bdash1":t="";break;case"bdash2":t="";break;case"xmarkbld":case"xmark":t="";break;case"checkbld":case"check":t="";break;case"boxxmarkbld":case"boxx":case"boxxbld":t="";break;case"boxcheckbld":case"boxcheck":t="";break;case"space":t=" ";break;case"pencil":t="";break;case"scissors":t="";break;case"scissorscutting":case"readingglasses":case"bell":case"book":case"telephonesolid":case"telhandsetcirc":case"envelopeback":t="";break;case"hourglass":t="";break;case"keyboard":t="";break;case"tapereel":t="";break;case"handwrite":t="";break;case"handv":t="";break;case"handptleft":case"handptlft1":t="";break;case"handptright":case"handptrt1":t="";break;case"handptup":case"handptup1":t="";break;case"handptdown":case"handptdwn1":t="";break;case"smileface":t="";break;case"frownface":t="";break;case"skullcrossbones":t="";break;case"flag":t="";break;case"pennant":t="9";break;case"airplane":t="";break;case"sunshine":t="";break;case"droplet":t="7";break;case"snowflake":t="";break;case"crossshadow":t="";break;case"crossmaltese":t="";break;case"starofdavid":t="";break;case"crescentstar":t="";break;case"yinyang":t="";break;case"om":t="";break;case"wheel":t="";break;case"aries":t="";break;case"taurus":t="";break;case"gemini":t="";break;case"cancer":t="";break;case"leo":t="";break;case"virgo":t="";break;case"libra":t="";break;case"scorpio":t="";break;case"saggitarius":t="";break;case"capricorn":t="";break;case"aquarius":t="";break;case"pisces":t="";break;case"ampersanditlc":case"ampersandit":case"ampersanditaldm":case"ampersandbld":case"ampersandsans":case"ampersandsandm":t="&";break;case"circle6":t="";break;case"circleshadowdwn":t="";break;case"square6":t="";break;case"box3":t="";break;case"boxshadowdwn":t="";break;case"boxshadowup":t="";break;case"lozenge4":t="";break;case"lozenge6":t="";break;case"rhombus6":t="";break;case"xrhombus":t="";break;case"rhombus4":t="";break;case"clear":t="";break;case"escape":t="";break;case"command":t="";break;case"rosette":t="";break;case"rosettesolid":t="";break;case"quotedbllftbld":t="";break;case"quotedblrtbld":t="";break;case".notdef":t="";break;case"zerosans":t="";break;case"onesans":t="";break;case"twosans":t="";break;case"threesans":t="";break;case"foursans":t="";break;case"fivesans":t="";break;case"sixsans":t="";break;case"sevensans":t="";break;case"eightsans":t="";break;case"ninesans":t="";break;case"tensans":t="";break;case"zerosansinv":t="";break;case"onesansinv":t="";break;case"twosansinv":t="";break;case"threesansinv":t="";break;case"foursansinv":t="";break;case"circle2":t="";break;case"circle4":t="";break;case"square2":case"square4":t="";break;case"ring2":t="";break;case"ringbutton2":t="";break;case"target":t="";break;case"box2":t="";break;case"crosstar2":t="";break;case"pentastar2":case"circlestar":t="";break;case"hexstar2":t="";break;case"octastar2":t="";break;case"dodecastar3":t="";break;case"octastar4":t="";break;case"registercircle":t="";break;case"cuspopen":t="";break;case"cuspopen1":t="";break;case"starshadow":t="";break;case"deleteleft":t="";break;case"deleteright":t="";break;case"scissorsoutline":t="";break;case"telephone":t="";break;case"telhandset":t="E";break;case"handptlftsld1":t="";break;case"handptrtsld1":t="";break;case"circlex":t="=";break;case"circlexbld":t="";break;case"prohibit":case"prohibitbld":t="";break;case"interrobang":case"interrobangdm":case"interrobangsans":case"interrobngsandm":t="";break;case"sacute":t="";break;case"Sacute":t="";break;case"eogonek":t="";break;case"cacute":t="";break;case"aogonek":t="";break;default:t=e}return t}function ea(e){var t;switch(e){case"zero":t="0";break;case"one":t="1";break;case"two":t="2";break;case"three":t="3";break;case"four":t="4";break;case"five":t="5";break;case"six":t="6";break;case"seven":t="7";break;case"eight":t="8";break;case"nine":t="9";break;case"aacute":t="";break;case"asciicircum":t="^";break;case"asciitilde":t="~";break;case"asterisk":t="*";break;case"at":t="@";break;case"atilde":t="";break;case"backslash":t="\\";break;case"bar":case"brokenbar":t="|";break;case"braceleft":t="{";break;case"braceright":t="}";break;case"bracketleft":t="[";break;case"bracketright":t="]";break;case"breve":t="";break;case"bullet3":case"bullet":t="";break;case"caron":t="";break;case"ccedilla":t="";break;case"cedilla":t="";break;case"cent":t="";break;case"circumflex":t="";break;case"colon":t=":";break;case"comma":t=",";break;case"copyright":t="";break;case"currency1":t="";break;case"dagger":t="";break;case"daggerdbl":t="";break;case"degree":t="";break;case"dieresis":t="";break;case"divide":t="";break;case"dollar":t="$";break;case"dotaccent":case"middot":t="";break;case"dotlessi":t="";break;case"eacute":t="";break;case"edieresis":t="";break;case"egrave":t="";break;case"ellipsis":t="...";break;case"emdash":t="";break;case"endash":t="";break;case"equal":t="=";break;case"eth":t="";break;case"exclam":t="!";break;case"exclamdown":t="";break;case"florin":t="";break;case"fraction":t="";break;case"germandbls":t="";break;case"grave":t="`";break;case"greater":t=">";break;case"guillemotleft4":t="";break;case"guillemotright4":t="";break;case"guilsinglleft":t="";break;case"guilsinglright":t="";break;case"hungarumlaut":t="";break;case"hyphen5":case"hyphen":t="-";break;case"iacute":t="";break;case"icircumflex":t="";break;case"idieresis":t="";break;case"igrave":t="";break;case"less":t="<";break;case"logicalnot":t="";break;case"lslash":t="";break;case"Lslash":t="";break;case"macron":t="";break;case"minus":t="";break;case"mu":t="";break;case"multiply":t="";break;case"ntilde":t="";break;case"numbersign":t="#";break;case"oacute":t="";break;case"ocircumflex":t="";break;case"odieresis":t="";break;case"oe":t="oe";break;case"ogonek":t="";break;case"ograve":t="";break;case"onehalf":t="1/2";break;case"onequarter":t="1/4";break;case"onesuperior":t="";break;case"ordfeminine":t="";break;case"ordmasculine":t="";break;case"otilde":t="";break;case"paragraph":t="";break;case"parenleft":t="(";break;case"parenright":t=")";break;case"percent":t="%";break;case"period":t=".";break;case"periodcentered":t="";break;case"perthousand":t="";break;case"plus":t="+";break;case"plusminus":t="";break;case"question":t="?";break;case"questiondown":t="";break;case"quotedbl":case"quotesingle":t="'";break;case"quotedblbase":t="";break;case"quotedblleft":t="";break;case"quotedblright":t="";break;case"quoteleft":t="";break;case"quoteright":t="";break;case"quotesinglbase":t="";break;case"registered":t="";break;case"ring":t="";break;case"scaron":t="";break;case"section":t="";break;case"semicolon":t=";";break;case"slash":t="/";break;case"space6":case"space":t=" ";break;case"udieresis":t="";break;case"uacute":t="";break;case"Ecircumflex":t="";break;case"underscore":t="_";break;case"adieresis":t="";break;case"ampersand":t="&";break;case"Adieresis":t="";break;case"Udieresis":t="";break;case"ccaron":t="";break;case"Scaron":t="";break;case"zcaron":t="";break;case"sterling":t="";break;case"agrave":t="";break;case"ecircumflex":t="";break;case"acircumflex":t="";break;case"Oacute":t="";break;default:t=e}return t}function ta(e){var t=e.get("F");return(e.has("State")||e.has("StateModel"))&&(30===t||128===t)}function ia(e,t){switch(e.has("F")&&(delete e._map.F,e._updated=!0),t){case Xe.hidden:e.update("F",Le.hidden);break;case Xe.hiddenPrintable:e.update("F",Le.noView|Le.print);break;case Xe.visible:if(e.has("DV")&&(delete e._map.DV,e._updated=!0),e.has("MK")){var i=e.get("MK");i&&i.has("BG")&&(delete i._map.BG,i._updated=!0)}}}function na(e,t,i){if(e&&e.has(i)){var n=e.getRaw(i);if(n&&n instanceof xa&&n._isNew){var o=e.get(i);if(o){o instanceof xa&&(o=t._fetch(o));var r=void 0;o instanceof Va?r=o:o instanceof ka&&(r=o.dictionary),r&&r.has("Resources")&&oa(r.get("Resources"),t)}t._cacheMap.delete(n)}}}function oa(e,t){e&&e.size>0&&e.forEach((function(i,n){if(void 0!==i&&void 0!==n)if(n instanceof xa){var o=n;if(o._isNew){var r=e.get(i);r&&r instanceof Va&&("XObject"===i&&r.has("Resources")&&oa(r.get("Resources"),t),t._cacheMap.delete(o))}}else n instanceof Va&&(n.has("Resources")&&oa(n.get("Resources"),t),"Font"!==i&&"XObject"!==i&&"ExtGState"!==i||oa(n,t))}))}function ra(e,t,i,n){var o;e&&(e instanceof Va?o=e:e instanceof Pa&&(o=e.dictionary)),o&&(na(o,t,i),na(o,t,n))}var aa=function(e,t){this.message=e,this.name=t},sa=function(e){function t(t){return e.call(this,t,"FormatError")||this}return ir(t,e),t}(aa),la=function(e){function t(t){return e.call(this,t,"ParserEndOfFileException")||this}return ir(t,e),t}(aa);function da(e){return"[object String]"===Object.prototype.toString.call(e)?"$s"+e:"$o"+e.toString()}function ha(e,t,i){var n,o,r,a="";if((t&&t._dictionary.has("DA")||i._dictionary.has("DA"))&&(r=t&&t._dictionary.has("DA")?t._dictionary.get("DA"):i._dictionary.get("DA")),r&&""!==r&&-1!==r.indexOf("Tf"))for(var s=r.split(" "),l=0;l<s.length;l++)if(-1!==s[Number.parseInt(l.toString(),10)].indexOf("Tf")){for(a=s[l-2];""!==a&&a.length>1&&"/"===a[0];)a=a.substring(1);n=Number.parseFloat(s[l-1])}if(a&&(a=a.trim()),e&&e._dictionary.has("DR")){var d=e._dictionary.get("DR");if(d.has("Font")){var h=d.get("Font");if(h.has(a)){var A=h.get(a);if(A&&a&&A.has("BaseFont")){var p=A.get("BaseFont"),c=vi.regular;p&&(r=p.name,c=Aa(p.name),r.includes("-")&&(r=r.substring(0,r.indexOf("-"))),t&&t._dictionary.has("DA")?o=pa(r,n,c,t):i&&i._dictionary.has("DA")&&(o=pa(r,n,c,i)))}}}}return null==o&&n&&(o=new nn(Ei.helvetica,n,vi.regular)),(null==o||o&&1===o.size)&&(t?o=t._circleCaptionFont:i&&(o=i._circleCaptionFont)),o}function Aa(e){var t=e.indexOf("-");t<0&&(t=e.indexOf(","));var i=vi.regular;if(t>=0)switch(e.substring(t+1,e.length)){case"Bold":case"BoldMT":i=vi.bold;break;case"Italic":case"ItalicMT":case"Oblique":case"It":i=vi.italic;break;case"BoldItalic":case"BoldItalicMT":case"BoldOblique":i=vi.bold|vi.italic}return i}function pa(e,t,i,n){var o,r=e||"";r.includes("-")&&(r=r.substring(0,r.indexOf("-"))),void 0===t&&n instanceof qn&&n._isLoaded&&(t=10);var a=void 0!==t?t:1;if(n._dictionary.has("DS")||n._dictionary.has("DA"))switch(r){case"Helv":case"Helvetica":o=new nn(Ei.helvetica,a,i);break;case"Cour":case"Courier":o=new nn(Ei.courier,a,i);break;case"Symb":case"Symbol":o=new nn(Ei.symbol,a,i);break;case"Times":case"TiRo":case"TimesRoman":o=new nn(Ei.timesRoman,a,i);break;case"ZaDb":case"ZapfDingbats":o=new nn(Ei.zapfDingbats,a,i);break;case"MonotypeSungLight":o=new on(xi.monotypeSungLight,a,i);break;case"SinoTypeSongLight":o=new on(xi.sinoTypeSongLight,a,i);break;case"MonotypeHeiMedium":o=new on(xi.monotypeHeiMedium,a,i);break;case"HanyangSystemsGothicMedium":o=new on(xi.hanyangSystemsGothicMedium,a,i);break;case"HanyangSystemsShinMyeongJoMedium":o=new on(xi.hanyangSystemsShinMyeongJoMedium,a,i);break;case"HeiseiKakuGothicW5":o=new on(xi.heiseiKakuGothicW5,a,i);break;case"HeiseiMinchoW3":o=new on(xi.heiseiMinchoW3,a,i);break;default:if(n._dictionary.has("AP")){var s=function(e,t,i){var n,o=e.get("AP");if(o&&o instanceof Va&&o.has("N")){var r=o.get("N");if(r&&r instanceof Pa&&r.dictionary.has("Resources")){var a=r.dictionary.get("Resources");if(a&&a.has("Font")){var s=a.get("Font");s&&s instanceof Va&&s.forEach((function(e,o){if(o){var r=t._fetch(o);if(r&&r.has("DescendantFonts")){var a=r.getArray("DescendantFonts");if(a&&a.length>0)for(var s=0;s<a.length;s++){var l=a[Number.parseInt(s.toString(),10)];if(l&&l instanceof Va&&l.has("FontDescriptor")){var d=l.get("FontDescriptor");if(d&&d.has("FontFile2")){var h=d.get("FontFile2");h&&h instanceof Pa&&h.length>0&&(n=h.getByteRange(h.start,h.end))&&n.length>0&&(i._hasData=!0)}}}}}}))}}}return n}(n._dictionary,n._crossReference,n);if(n._hasData){var l=Er(s);o=new rn(l,a,i)}}}return null==o&&(n instanceof Xn?o=n._type!==ht.widgetAnnotation?new nn(Ei.helvetica,a,i):n._circleCaptionFont:n instanceof Rn&&(o=n._circleCaptionFont)),o}function ca(e,t){var i,n;if(e){var o=void 0;e.has(t)&&(o=e.getArray(t));var r=e._crossReference._document,a=void 0;if(o&&Array.isArray(o)&&o.length>0){var s=o[0],l=void 0,d=void 0,h=void 0,A=void 0,p=void 0;if("number"==typeof s){var c=o[0];if(c>=0){var g=e._crossReference._document;if(g&&g.pageCount>c&&(i=g.getPage(c)),o.length>1&&(a=o[1]),a&&"XYZ"===a.name&&(o.length>2&&(l=o[2]),o.length>3&&(d=o[3]),o.length>4&&(p=o[4]),i)){var u=null==d?0:i.size[1]-d,f=null==l?0:l;i.rotation!==Ge.angle0&&lr(i,d,l),(n=new Uo(i,[f,u]))._index=c,n.zoom=null!=p?p:0,null!==l&&null!==d&&null!==p&&void 0!==l&&void 0!==d&&void 0!==p||n._setValidation(!1)}}}if(s instanceof Va){var m=void 0;if(r&&s&&(m=dr(r,s)),null!=m&&m>=0&&(i=r.getPage(m)),o.length>1&&(a=o[1]),a)if("XYZ"===a.name){if(o.length>2&&(l=o[2]),o.length>3&&(d=o[3]),o.length>4&&(p=o[4]),i){u=null==d?0:i.size[1]-d,f=null==l?0:l;i.rotation!==Ge.angle0&&(u=lr(i,d,l)),(n=new Uo(i,[f,u]))._index=m,n.zoom=null!=p?p:0,null!==l&&null!==d&&null!==p&&void 0!==l&&void 0!==d&&void 0!==p||n._setValidation(!1)}}else if("FitR"===a.name)o.length>2&&(l=o[2]),o.length>3&&(h=o[3]),o.length>4&&(A=o[4]),o.length>5&&(d=o[5]),i&&((n=new Uo(i,[l=null==l?0:l,h=null==h?0:h,A=null==A?0:A,d=null==d?0:d]))._index=m,n.mode=st.fitR);else if("FitBH"===a.name||"FitH"===a.name){if(o.length>=3&&(d=o[2]),null!=m&&m>=0&&(i=r.getPage(m)),i&&i.size){u=null==d?0:i.size[1]-d;(n=new Uo(i,[0,u]))._index=m,n.mode=st.fitH,null==d&&n._setValidation(!1)}}else i&&"Fit"===a.name&&((n=new Uo(i))._index=m,n.mode=st.fitToPage)}}}return n}function ga(e,t){var i;if(t&&(e._bounds={x:t[0],y:t[1],width:t[2],height:t[3]}),e._page&&e.bounds){if(i=[e.bounds.x,e.bounds.y+e.bounds.height,e.bounds.width,e.bounds.height],e._page._isNew&&e._page._pageSettings){var n=e._page._pageSettings,o=[n.margins.left,n.margins.top,n.size[0]-(n.margins.left+n.margins.right),n.size[1]-(n.margins.top+n.margins.bottom)];i[0]+=o[0],i[1]=n.size[1]-(o[1]+i[1])}else{var r=e._page.size;i[1]=r[1]-(e.bounds.y+e.bounds.height);var a=e._getCropOrMediaBox();a&&a.length>2&&(0!==a[0]||0!==a[1])&&(i[0]+=a[0],i[1]+=a[1])}return[i[0],i[1],i[0]+i[2],i[1]+i[3]]}return i}function ua(e,t,i){if(e&&"string"==typeof e&&!t&&!i&&e.startsWith("")){(e=e.substring(2)).endsWith("")&&(e=e.substring(0,e.length-2));for(var n=cr(e,!1,!0),o="",r=0;r<n.length;r+=2){var a=n[Number.parseInt(r.toString(),10)]<<8|n[Number.parseInt((r+1).toString(),10)];o+=String.fromCharCode(a)}e=o}return e}function fa(e){var t=65535;return e<=4294967295?e<=t?e<=255?1:2:e<=16777215?3:4:8}function ma(e){for(var t="",i=0,n=[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]];i<n.length;i++)for(var o=n[i],r=o[0],a=o[1];e>=r;)t+=a,e-=r;return t}function wa(e){for(var t="";e>0;){var i=e%26;e=Math.floor(e/26),0===i&&(e--,i=26),t=ya(i)+t}return t}function ya(e){if(e<=0||e>26)throw new Error("Value can not be less 0 and greater 26");return String.fromCharCode(64+e)}function Sa(e){return null!=e}function Ca(e,t){void 0===t&&(t=!1);for(var i=e.getString(),n=[],o=0;o<i.length;o++)n.push(i.charCodeAt(o));var r=new Uint8Array(n),a=new tr.CompressedStreamWriter;if(a.write(r,0,r.length),a.close(),i=a.getCompressedString,e.dictionary.update("Filter",va.get("FlateDecode")),t){var s=[];for(o=0;o<i.length;o++)s.push(255&i.charCodeAt(o));return Sr(new Uint8Array(s))}return i}var Ba=Object.create(null),Ia=Object.create(null),ba=Object.create(null),va=function(){function e(e){this.name=e}return e.get=function(t){return Ba[t]||(Ba[t]=new e(t))},e}(),Ea=function(){function e(e){this.command=e}return e.get=function(t){return Ia[t]||(Ia[t]=new e(t))},e}(),xa=function(){function e(e,t){this._isNew=!1,this.objectNumber=e,this.generationNumber=t}return e.prototype.toString=function(){return this.objectNumber+" "+this.generationNumber},e.get=function(t,i){var n=0===i?t+"R":t+"R"+i;return ba[n]||(ba[n]=new e(t,i))},e}(),_a=function(){function e(e){void 0===e&&(e=null),this._set=new Set(e&&e._set)}return e.prototype.has=function(e){return this._set.has(e.toString())},e.prototype.put=function(e){this._set.add(e.toString())},e.prototype.remove=function(e){this._set.delete(e.toString())},e.prototype.clear=function(){this._set.clear()},e}(),Da=function(){function e(){this._map=new Map}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this._map.get(e.toString())},e.prototype.has=function(e){return this._map.has(e.toString())},e.prototype.put=function(e,t){this._map.set(e.toString(),t)},e.prototype.set=function(e,t){this._map.set(e,t)},e.prototype.clear=function(){this._map.clear()},e}(),Ma=function(){function e(e){this.table={},this.nElements=0,this.toStr=e||da}return e.prototype.getValue=function(e){var t=this.table["$"+this.toStr(e)];if(void 0!==t)return t.value},e.prototype.setValue=function(e,t){var i="$"+this.toStr(e);this.table[i];this.nElements++,this.table[i]={key:e,value:t}},e.prototype.keys=function(){for(var e=[],t=Object.keys(this.table),i=0;i<t.length;i++){var n=this.table[t[i]];e.push(n.key)}return e},e.prototype.containsKey=function(e){return!(void 0===this.getValue(e))},e.prototype._size=function(){return this.nElements},e}(),Va=function(){function e(e){this._isFont=!1,this._initialize(e)}return Object.defineProperty(e.prototype,"size",{get:function(){return Object.keys(this._map).length},enumerable:!0,configurable:!0}),e.prototype.assignXref=function(e){this._crossReference=e},e.prototype.getRaw=function(e){return this._map[e]},e.prototype.getRawValues=function(){return this._map.values},e.prototype.get=function(e,t,i){var n=this._get(e,t,i);return this._crossReference&&void 0!==n&&n instanceof xa&&(n=this._crossReference._fetch(n)),n},e.prototype.getArray=function(e,t,i){var n=this.get(e,t,i);if(this._crossReference&&void 0!==n&&Array.isArray(n)){n=n.slice();for(var o=0;o<n.length;o++){var r=n[Number.parseInt(o.toString(),10)];null!=r&&r instanceof xa&&(n[Number.parseInt(o.toString(),10)]=this._crossReference._fetch(r))}}return n},e.prototype.set=function(e,t){this._map[e]=t},e.prototype.has=function(e){return void 0!==this._map[e]},e.prototype.forEach=function(e){for(var t in this._map)e(t,this.getRaw(t))},e.prototype.update=function(e,t){if(this.has(e)){var i=this._map[e];null!=i&&i instanceof xa&&this._crossReference&&(i=this._crossReference._fetch(i)),i!==t&&(this._map[e]=t,this._updated=!0)}else this._map[e]=t,this._updated=!0},e.getEmpty=function(t){var i=new e(t);return i.set=function(e,t){throw new Error("Should not call set on the empty dictionary.")},i},e.merge=function(t,i,n){void 0===n&&(n=!1);for(var o=new e(t),r=Object.create(null),a=0,s=i;a<s.length;a++){if((B=s[a])instanceof e)for(var l=0,d=B._map;l<d.length;l++){var h=d[l],A=h[0],p=h[1],c=r.get(A);if(void 0===c)c=[],r.set(A,c);else if(!(n&&p instanceof e))continue;c.push(p)}}for(var g=0,u=r;g<u.length;g++){var f=u[g],m=f[0],w=f[1];if(1!==w.length&&w[0]instanceof e){for(var y=new e(t),S=0,C=w;S<C.length;S++)for(var B,I=0,b=(B=C[S])._map;I<b.length;I++){var v=b[I];A=v[0],p=v[1];void 0===y._map[A]&&(y._map[A]=p)}y.size>0&&(o._map[m]=y)}else o._map[m]=w[0]}return r.clear(),o.size>0?o:e.getEmpty(t)},e.prototype._initialize=function(e){this._map=Object.create(null),this.suppressEncryption=!1,this._updated=!1,this.isCatalog=!1,this._isNew=!1,e&&(this._crossReference=e)},e.prototype._get=function(e,t,i){var n=this._map[e];return void 0===n&&(n=this._map[t],null!=t?n=this._map[t]:null!=i&&(n=this._map[i])),n},e}();function Qa(e,t){return e instanceof va&&(void 0===t||e.name===t)}function Fa(e,t){return e instanceof Ea&&(void 0===t||e.command===t)}var Ta=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ka=function(){function e(){this._isCompress=!0,this._isImage=!1}return e.prototype.getByte=function(){return null},e.prototype.getBytes=function(e){return null},Object.defineProperty(e.prototype,"length",{get:function(){throw new Error("Abstract getter `length` accessed")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){throw new Error("Abstract getter `isEmpty` accessed")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDataLoaded",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.peekByte=function(){var e=this.getByte();return-1!==e&&this.offset--,e},e.prototype.peekBytes=function(e){var t=this.getBytes(e);return this.offset-=t.length,t},e.prototype.getUnsignedInteger16=function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getByteRange=function(e,t){return null},e.prototype.makeSubStream=function(e,t,i){return null},e.prototype.readBlock=function(){return null},e.prototype.reset=function(){return null},e.prototype.moveStart=function(){return null},e.prototype.getString=function(e,t){return void 0===e&&(e=!1),null==t&&(t=this.getBytes()),e?Sr(t):mr(t)},e.prototype.skip=function(e){this.offset+=e||1},e.prototype.getBaseStreams=function(){return null},e}(),Pa=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r.isImageStream=!1,r.bytes=t instanceof Uint8Array?t:new Uint8Array(t),r.start=void 0!==n?n:0,r.position=r.start,r.end=n+o||r.bytes.length,r.dictionary=i,r}return Ta(t,e),Object.defineProperty(t.prototype,"position",{get:function(){return this.offset},set:function(e){this.offset=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.end-this.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.dataStream2},set:function(e){this.dataStream2=[],this.dataStream2=e},enumerable:!0,configurable:!0}),t.prototype.getByte=function(){return this.position>=this.end?-1:this.bytes[this.position++]},t.prototype.getBytes=function(e){var t=this.bytes,i=this.position,n=this.end;if(!e)return t.subarray(i,n);var o=i+e;return o>n&&(o=n),this.position=o,t.subarray(i,o)},t.prototype.getByteRange=function(e,t){return e<0&&(e=0),t>this.end&&(t=this.end),this.bytes.subarray(e,t)},t.prototype.reset=function(){this.position=this.start},t.prototype.moveStart=function(){this.start=this.position},t.prototype.makeSubStream=function(e,i,n){return void 0===n&&(n=null),new t(this.bytes.buffer,n,e,i)},t.prototype.readBlock=function(){throw new Error("Abstract method `readBlock` called")},t.prototype._clearStream=function(){null!==this.dictionary&&void 0!==this.dictionary&&this.dictionary.has("Filter")&&delete this.dictionary._map.Filter,this._isCompress=!0,this.dictionary._updated=!0},t.prototype._write=function(e){this.bytes=new Uint8Array(e.length);for(var t=0;t<e.length;t++)this.bytes[Number.parseInt(t.toString(),10)]=e.charCodeAt(t);this.end=this.bytes.length,this.dictionary._updated=!0},t.prototype._writeBytes=function(e){for(var t=0;t<e.length;t++)String.fromCharCode(e[Number.parseInt(t.toString(),10)]);this.bytes=new Uint8Array(e),this.end=this.bytes.length,this.dictionary._updated=!0},t}(ka),Na=function(e){function t(t){var i=e.call(this)||this;return Sa(t)?i._bytes=t:i._bytes=[],i.dictionary=new Va,i.dictionary._updated=!0,i}return Ta(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this._bytes.length},enumerable:!0,configurable:!0}),t.prototype.write=function(e){if("string"==typeof e)for(var t=0;t<e.length;t++)this._bytes.push(e.charCodeAt(t));else for(t=0;t<e.length;t++)this._bytes.push(e[Number.parseInt(t.toString(),10)]);this.dictionary._updated=!0},t.prototype.getString=function(e){void 0===e&&(e=!1);var t=new Uint8Array(this._bytes);if(null==t||void 0===t.length)throw new Error("Invalid argument for bytesToString");if(e)return Sr(t);var i=t.length,n=8192;if(i<n)return String.fromCharCode.apply(null,t);for(var o=[],r=0;r<i;r+=n)o.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,i))));return o.join("")},t}(ka),Ra=function(e){function t(){return e.call(this,new Uint8Array(0))||this}return Ta(t,e),t}(Pa),La=function(){function e(e){this._recordCollection=[],this._operands=[],this._lexer=new Oa(e)}return e.prototype._readContent=function(){return this._parseObject(Ft.eof),this._recordCollection},e.prototype._parseObject=function(e){for(var t;(t=this._getNextToken())!==Ft.eof;){if(t===e||t===Ft.none)return;switch(t){case Ft.comment:break;case Ft.number:"-"===this._lexer._operatorParams?this._operands.push("0"):this._operands.push(this._lexer._operatorParams);break;case Ft.real:case Ft.string:case Ft.hexString:case Ft.unicodeHexString:case Ft.unicodeString:case Ft.name:this._operands.push(this._lexer._operatorParams);break;case Ft.operator:this._createRecord(),this._operands=[];break;case Ft.beginArray:break;case Ft.endArray:throw new Error("Error while parsing content")}}},e.prototype._createRecord=function(){var e=this._lexer._operatorParams,t=new Ua(e,this._operands);this._recordCollection.push(t)},e.prototype._getNextToken=function(){return this._lexer._getNextToken()},e}(),Oa=function(){function e(e){this._tokenType=Ft.none,this._currentCharacter="\0",this._nextCharacter="\0",this._offset=0,this._data=e instanceof Uint8Array?e:new Uint8Array(e)}return e.prototype._getNextToken=function(){this._operatorParams="";var e=this._moveToNextChar();switch(e){case"%":return this._tokenType=this._getComment();case"/":return this._tokenType=this._getName();case"[":case"(":return this._tokenType=this._getLiteralString();case"+":case"-":case".":return this._tokenType=this._getNumber();case"<":return this._tokenType=this._getEncodedDecimalString();case'"':case"'":return this._tokenType=this._getOperator()}return isNaN(parseInt(e,10))?/[a-zA-Z]/.test(e)?this._tokenType=this._getOperator():e===String.fromCharCode(65535)?this._tokenType=Ft.eof:this._tokenType=Ft.none:this._tokenType=this._getNumber()},e.prototype._getComment=function(){var e;this._operatorParams="";for(var t="\n"!==(e=this._consumeValue())&&e!==String.fromCharCode(65535);t;)t="\n"!==(e=this._consumeValue())&&e!==String.fromCharCode(65535);return Ft.comment},e.prototype._getName=function(){this._operatorParams="";for(var e=!1;!e;){switch(this._consumeValue()){case"\0":case"\t":case"\n":case"\f":case"\r":case"\b":case" ":case"%":case"(":case")":case"<":case">":case"[":case"]":case"/":return e=!0,Ft.name}}return Ft.none},e.prototype._getNumber=function(){var e=this._currentCharacter;for("+"!==e&&"-"!==e||(this._operatorParams+=this._currentCharacter,e=this._getNextChar());!isNaN(parseInt(e,10))||"."===e;){if(isNaN(parseInt(e,10))){if("."===e){if(this._operatorParams.includes("."))break;this._operatorParams+=this._currentCharacter}}else this._operatorParams+=this._currentCharacter;e=this._getNextChar()}return Ft.number},e.prototype._getOperator=function(){this._operatorParams="";for(var e=this._currentCharacter;this._isOperator(e);)e=this._consumeValue();return Ft.operator},e.prototype._isOperator=function(e){if(/[a-zA-Z]/.test(e))return!0;switch(e){case"*":case"'":case'"':case"1":case"0":return!0}return!1},e.prototype._getLiteralString=function(){this._operatorParams="";for(var e,t=this._currentCharacter,i=this._consumeValue(),n=!0;n;){if("("===t){e=this._getLiteralStringValue(i),this._operatorParams+=e,i=this._getNextChar(),n=!1;break}if("("!==i){if("]"===i){n=!1,i=this._consumeValue();break}i=this._consumeValue()}else i=this._consumeValue(),e=this._getLiteralStringValue(i),this._operatorParams+=e,i=this._getNextChar()}return Ft.string},e.prototype._getEncodedDecimalString=function(){for(var e=0,t=this._consumeValue(),i=!0;i;)if("<"===t)e++,t=this._consumeValue();else if(">"===t){if(0===e){this._consumeValue(),i=!1;break}if(1===e){if(">"===(t=this._consumeValue())&&e--,1===e&&" "===t){i=!1;break}}else">"===t&&e--,t=this._consumeValue()}else if((t=this._consumeValue())===String.fromCharCode(65535)){i=!1;break}return Ft.hexString},e.prototype._getLiteralStringValue=function(e){for(var t=0,i="",n=!0;n;)if("\\"!==e)if("("!==e)if(")"!==e||0===t){if(")"===e&&0===t)return n=!1,i+=e;i+=e,e=this._getNextChar()}else i+=e,e=this._getNextChar(),t--;else t++,i+=e,e=this._getNextChar();else i+=e,i+=e=this._getNextChar(),e=this._getNextChar();return i},e.prototype._consumeValue=function(){return this._operatorParams+=this._currentCharacter,this._getNextChar()},e.prototype._moveToNextChar=function(){for(;this._currentCharacter!==String.fromCharCode(65535);)switch(this._currentCharacter){case"\0":case"\t":case"\n":case"\f":case"\r":case"\b":case" ":this._getNextChar();break;default:return this._currentCharacter}return this._currentCharacter},e.prototype._getNextChar=function(){if(this._data.length<=this._offset){if("Q"===this._nextCharacter||"D"===this._currentCharacter&&"o"===this._nextCharacter)return this._currentCharacter=this._nextCharacter,this._nextCharacter=String.fromCharCode(65535),this._currentCharacter;this._currentCharacter=String.fromCharCode(65535),this._nextCharacter=String.fromCharCode(65535)}else this._currentCharacter=this._nextCharacter,this._nextCharacter=String.fromCharCode(this._data[this._offset++]),"\r"===this._currentCharacter&&("\n"===this._nextCharacter?(this._currentCharacter=this._nextCharacter,this._data.length<=this._offset?this._nextCharacter=String.fromCharCode(65535):this._nextCharacter=String.fromCharCode(this._data[this._offset++])):this._currentCharacter="\n");return this._currentCharacter},e}(),Ua=function(e,t){this._operator=e,this._operands=t},za=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ha=function(e){function t(t){var i=e.call(this)||this;if(i._rawMinBufferLength=t||0,i.offset=0,i.bufferLength=0,i.eof=!1,i.buffer=new Uint8Array(0),i.minBufferLength=512,t)for(;i.minBufferLength<t;)i.minBufferLength*=2;return i}return za(t,e),Object.defineProperty(t.prototype,"isEmpty",{get:function(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},enumerable:!0,configurable:!0}),t.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var i=this.minBufferLength;i<e;)i*=2;var n=new Uint8Array(i);return n.set(t),this.buffer=n,this.buffer},t.prototype.getByte=function(){for(var e=this.offset;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.offset++]},t.prototype.getBytes=function(e){var t,i=this.offset;if(e){for(this.ensureBuffer(i+e),t=i+e;!this.eof&&this.bufferLength<t;)this.readBlock();var n=this.bufferLength;t>n&&(t=n)}else{for(;!this.eof;)this.readBlock();t=this.bufferLength}return this.offset=t,this.buffer.subarray(i,t)},t.prototype.reset=function(){this.offset=0},t.prototype.makeSubStream=function(e,t,i){if(void 0===t)for(;!this.eof;)this.readBlock();else for(var n=e+t;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Pa(this.buffer,i,e,t)},t.prototype.getBaseStreams=function(){return this.stream?this.stream.getBaseStreams():null},t.prototype.moveStart=function(){throw new Error("Invalid call from decode stream")},t.prototype.getByteRange=function(e,t){throw new Error("Invalid call from decode stream. begin: "+e+", end: "+t)},t.prototype.readBlock=function(){throw new Error("Invalid call from decode stream")},t}(ka),Ya=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ja=function(e){function t(t,i,n){var o=e.call(this,i)||this;return o._chunkSize=512,o.stream=t,o.dictionary=t.dictionary,o._cipher=n,o._nextChunk=null,o._initialized=!1,o}return Ya(t,e),t.prototype.readBlock=function(){var e;if(this._initialized?e=this._nextChunk:(e=this.stream.getBytes(this._chunkSize),this._initialized=!0),e&&0!==e.length){this._nextChunk=this.stream.getBytes(this._chunkSize);var t=this._nextChunk&&this._nextChunk.length>0;e=this._cipher._decryptBlock(e,!t);for(var i=this.bufferLength,n=e.length,o=this.ensureBuffer(i+n),r=0;r<n;r++)o[i++]=e[Number.parseInt(r.toString(),10)];this.bufferLength=i}else this.eof=!0},t}(Ha),Ga=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ja=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ka=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),Wa=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Xa=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Za=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],qa=function(e){function t(t,i){var n=e.call(this,i)||this;n.stream=t,n.dictionary=t.dictionary;var o=t.getByte(),r=t.getByte();if(8!=(15&o))throw new sa("Unknown compression method in flate stream: "+o+", "+r);if(((o<<8)+r)%31!=0)throw new sa("Bad flag check in flate stream: "+o+", "+r);if(32&r)throw new sa("Bad flag bit set in flate stream: "+o+", "+r);return n.codeSize=0,n.codeBuffer=0,n}return Ga(t,e),t.prototype.getBits=function(e){for(var t,i=this.stream,n=this.codeSize,o=this.codeBuffer;n<e;)o|=(t=i.getByte())<<n,n+=8;return t=o&(1<<e)-1,this.codeBuffer=o>>e,this.codeSize=n-=e,t},t.prototype.getCode=function(e){for(var t=this.stream,i=e[0],n=e[1],o=this.codeSize,r=this.codeBuffer;o<n;)r|=t.getByte()<<o,o+=8;var a=i[r&(1<<n)-1],s=a>>16,l=65535&a;return s<1||o<s||(this.codeBuffer=r>>s,this.codeSize=o-s),l},t.prototype.generateHuffmanTable=function(e){var t,i=e.length,n=0;for(t=0;t<i;++t)e[t]>n&&(n=e[t]);for(var o=1<<n,r=new Int32Array(o),a=1,s=0,l=2;a<=n;++a,s<<=1,l<<=1)for(var d=0;d<i;++d)if(e[d]===a){var h=0,A=s;for(t=0;t<a;++t)h=h<<1|1&A,A>>=1;for(t=h;t<o;t+=l)r[t]=a<<16|d;++s}return[r,n]},t.prototype.readBlock=function(){var e,t,i,n,o=this.stream,r=this.getBits(3);if(1&r&&(this.eof=!0),0===(r>>=1)){var a=o.getByte(),s=a;s|=(a=o.getByte())<<8;var l=a=o.getByte();if((l|=(a=o.getByte())<<8)===(65535&~s)||0===s&&0===l){this.codeBuffer=0,this.codeSize=0;var d=this.bufferLength,h=d+s;if(e=this.ensureBuffer(h),this.bufferLength=h,0===s)-1===o.peekByte()&&(this.eof=!0);else{var A=o.getBytes(s);e.set(A,d),A.length<s&&(this.eof=!0)}return}}if(1===r)i=Xa,n=Za;else if(2===r){var p=this.getBits(5)+257,c=this.getBits(5)+1,g=this.getBits(4)+4,u=new Uint8Array(Ja.length),f=void 0;for(f=0;f<g;++f)u[Ja[f]]=this.getBits(3);var m=this.generateHuffmanTable(u);t=0,f=0;for(var w=p+c,y=new Uint8Array(w),S=void 0,C=void 0,B=void 0;f<w;){var I=this.getCode(m);if(16===I)S=2,C=3,B=t;else if(17===I)S=3,C=3,B=t=0;else{if(18!==I){y[f++]=t=I;continue}S=7,C=11,B=t=0}for(var b=this.getBits(S)+C;b-- >0;)y[f++]=B}i=this.generateHuffmanTable(y.subarray(0,p)),n=this.generateHuffmanTable(y.subarray(p,w))}for(var v=(e=this.buffer)?e.length:0,E=this.bufferLength;;){var x=this.getCode(i);if(x<256)E+1>=v&&(v=(e=this.ensureBuffer(E+1)).length),e[E++]=x;else{if(256===x)return void(this.bufferLength=E);var _=(x=Ka[x-=257])>>16;_>0&&(_=this.getBits(_)),t=(65535&x)+_,x=this.getCode(n),(_=(x=Wa[x])>>16)>0&&(_=this.getBits(_));var D=(65535&x)+_;E+t>=v&&(v=(e=this.ensureBuffer(E+t)).length);for(var M=0;M<t;++M,++E)e[E]=e[E-D]}}},t}(Ha),$a=function(){function e(e){if(this._crossReference=e,this._catalogDictionary=e._getCatalogObj(),!(this._catalogDictionary instanceof Va))throw new sa("Catalog object is not a dictionary.");this._catalogDictionary.isCatalog=!0,this._topPagesDictionary=this._catalogDictionary.get("Pages"),this.pageKidsCountCache=new Da,this.pageIndexCache=new Da}return Object.defineProperty(e.prototype,"version",{get:function(){var e;if(this._catalogDictionary.has("Version")){var t=this._catalogDictionary.get("Version");t&&(e=t.name)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){var e=this._topPagesDictionary.get("Count");if(void 0===e||!Number.isInteger(e))throw new sa("Invalid page count");return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"acroForm",{get:function(){var e;return this._catalogDictionary.has("AcroForm")&&(e=this._catalogDictionary.get("AcroForm")),null==e&&(e=this._createForm()),e},enumerable:!0,configurable:!0}),e.prototype._createForm=function(){var e=new Va(this._crossReference),t=this._crossReference._getNextReference();return this._crossReference._cacheMap.set(t,e),this._catalogDictionary.set("AcroForm",t),this._catalogDictionary._updated=!0,this._crossReference._allowCatalog=!0,e._updated=!0,e},e.prototype.getPageDictionary=function(e){var t=[this._topPagesDictionary],i=new _a,n=this._catalogDictionary.getRaw("Pages");n&&n instanceof xa&&i.put(n);for(var o=this._crossReference,r=this.pageKidsCountCache,a=this.pageIndexCache,s=0;t.length>0;){var l=t.pop();if(null!=l&&l instanceof xa){var d=r.get(l);if(d>=0&&s+d<=e){s+=d;continue}if(i.has(l))throw new sa("Pages tree contains circular reference.");i.put(l);var h=o._fetch(l);if(h&&h instanceof Va&&(null!=(g=h.getRaw("Type"))&&g instanceof xa&&(g=o._fetch(g)),Qa(g,"Page")||!h.has("Kids"))){if(r.has(l)||r.put(l,1),a.has(l)||a.put(l,s),s===e)return{dictionary:h,reference:l};s++;continue}t.push(h)}else{if(!(l instanceof Va))throw new sa("Page dictionary kid reference points to wrong type of object.");var A=l.objId,p=l.get("Count");if(null!=p&&p instanceof xa&&(p=o._fetch(p)),null!=p&&Number.isInteger(p)&&p>=0&&(A&&!r.has(A)&&r.set(A,p),s+p<=e))s+=p;else{var c=l.getRaw("Kids");if(null!=c&&c instanceof xa&&(c=o._fetch(c)),!Array.isArray(c)){var g;if(null!=(g=l.getRaw("Type"))&&g instanceof xa&&(g=o._fetch(g)),Qa(g,"Page")||!l.has("Kids")){if(s===e)return{dictionary:l,reference:null};s++;continue}throw new sa("Page dictionary kids object is not an array.")}for(var u=c.length-1;u>=0;u--)t.push(c[u])}}}throw new Error("Page index "+e+" not found.")},e.prototype._destroy=function(){this._catalogDictionary&&(this._catalogDictionary=void 0),this._topPagesDictionary&&(this._topPagesDictionary=void 0),this.pageIndexCache&&(this.pageIndexCache.clear(),this.pageIndexCache=void 0),this.pageKidsCountCache&&(this.pageKidsCountCache.clear(),this.pageKidsCountCache=void 0)},e}(),es=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ts=function(e){function t(t,i,n){var o=e.call(this,i)||this;if(!(n instanceof Va))return t;var r=o.predictor=n.get("Predictor")||1;if(r<=1)return t;if(2!==r&&(r<10||r>15))throw new sa("Unsupported predictor: "+r);o.readBlock=2===r?o.readBlockTiff:o.readBlockPng,o.stream=t,o.dictionary=t.dictionary;var a=o.colors=n.get("Colors")||1,s=o.bits=n.get("BPC","BitsPerComponent")||8,l=o.columns=n.get("Columns")||1;return o.pixBytes=a*s+7>>3,o.rowBytes=l*a*s+7>>3,o}return es(t,e),t.prototype.readBlockTiff=function(){var e=this.rowBytes,t=this.bufferLength,i=this.ensureBuffer(t+e),n=this.bits,o=this.colors,r=this.stream.getBytes(e);if(this.eof=!r.length,!this.eof){var a,s=0,l=0,d=0,h=0,A=t;if(1===n&&1===o)for(a=0;a<e;++a){var p=r[a]^s;p^=p>>1,p^=p>>2,s=(1&(p^=p>>4))<<7,i[A++]=p}else if(8===n){for(a=0;a<o;++a)i[A++]=r[a];for(;a<e;++a)i[A]=i[A-o]+r[a],A++}else if(16===n){var c=2*o;for(a=0;a<c;++a)i[A++]=r[a];for(;a<e;a+=2){var g=((255&r[a])<<8)+(255&r[a+1])+((255&i[A-c])<<8)+(255&i[A-c+1]);i[A++]=g>>8&255,i[A++]=255&g}}else{var u=new Uint8Array(o+1),f=(1<<n)-1,m=0,w=t,y=this.columns;for(a=0;a<y;++a)for(var S=0;S<o;++S)d<n&&(s=s<<8|255&r[m++],d+=8),u[S]=u[S]+(s>>d-n)&f,d-=n,l=l<<n|u[S],(h+=n)>=8&&(i[w++]=l>>h-8&255,h-=8);h>0&&(i[w++]=(l<<8-h)+(s&(1<<8-h)-1))}this.bufferLength+=e}},t.prototype.readBlockPng=function(){var e=this.rowBytes,t=this.pixBytes,i=this.stream.getByte(),n=this.stream.getBytes(e);if(this.eof=!n.length,!this.eof){var o,r=this.bufferLength,a=this.ensureBuffer(r+e),s=a.subarray(r-e,r);0===s.length&&(s=new Uint8Array(e));var l,d,h=r;switch(i){case 0:for(o=0;o<e;++o)a[h++]=n[o];break;case 1:for(o=0;o<t;++o)a[h++]=n[o];for(;o<e;++o)a[h]=a[h-t]+n[o]&255,h++;break;case 2:for(o=0;o<e;++o)a[h++]=s[o]+n[o]&255;break;case 3:for(o=0;o<t;++o)a[h++]=(s[o]>>1)+n[o];for(;o<e;++o)a[h]=(s[o]+a[h-t]>>1)+n[o]&255,h++;break;case 4:for(o=0;o<t;++o)l=s[o],d=n[o],a[h++]=l+d;for(;o<e;++o){l=s[o];var A=s[o-t],p=a[h-t],c=p+l-A,g=c-p;g<0&&(g=-g);var u=c-l;u<0&&(u=-u);var f=c-A;f<0&&(f=-f),d=n[o],a[h++]=g<=u&&g<=f?p+d:u<=f?l+d:A+d}break;default:throw new sa("Unsupported predictor: "+i)}this.bufferLength+=e}},t}(Ha),is=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ns=function(){function e(e,t,i){void 0===i&&(i=""),this._isUserPassword=!0,this._hasUserPasswordOnly=!1,this._encryptOnlyAttachment=!1,this._encryptMetaData=!0,this._defaultPasswordBytes=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);var n=e.get("Filter");if(!Qa(n,"Standard"))throw new sa("unknown encryption method");this._filterName=n.name,this._dictionary=e;var o=e.get("V");if(!Number.isInteger(o)||1!==o&&2!==o&&4!==o&&5!==o)throw new sa("unsupported encryption algorithm");this._algorithm=o;var r=e.get("Length");if(!r)if(o<=3)r=40;else{var a=e.get("CF"),s=e.get("StmF");if(a&&s){a.suppressEncryption=!0;var l=a.get(s.name);(r=l&&l.get("Length")||128)<40&&(r<<=3)}}if(!Number.isInteger(r)||r<40||r%8!=0)throw new sa("invalid key length");var d=cr(e.get("O"),!1,!0).subarray(0,32),h=cr(e.get("U"),!1,!0).subarray(0,32),A=e.get("P"),p=e.get("R");this._encryptMetaData=(4===o||5===o)&&!1!==e.get("EncryptMetadata");var c,g,u=cr(t,!1,!0);if(i&&(6===p&&(i=encodeURIComponent(i)),c=cr(i,!1,!0)),5!==o){if((g=this._prepareKeyData(u,c,d,h,A,p,r,this._encryptMetaData))&&(this._isUserPassword=!0,i)){var f=this._decodeUserPassword(c,d,p,r),m=this._prepareKeyData(u,f,d,h,A,p,r,this._encryptMetaData);m&&gr(m,g)&&(this._hasUserPasswordOnly=!0)}}else{var w,y=cr(e.get("O"),!1,!0),S=y.subarray(32,40),C=y.subarray(40,48),B=cr(e.get("U"),!1,!0),I=B.subarray(0,48),b=B.subarray(32,40),v=B.subarray(40,48),E=cr(e.get("OE"),!1,!0),x=cr(e.get("UE"),!1,!0);w=6===p?new hs:new ds;var _=void 0;_=c?c.subarray(0,Math.min(127,c.length)):new Uint8Array([]),w._checkUserPassword(_,b,h)?(g=this._createEncryptionKey(!0,_,C,I,v,E,x,w),this._isUserPassword=!0,i.length&&w._checkOwnerPassword(_,S,I,d)&&(this._hasUserPasswordOnly=!0)):i.length&&w._checkOwnerPassword(_,S,I,d)&&(g=this._createEncryptionKey(!1,c,C,I,v,E,x,w),this._isUserPassword=!1)}if(!g){if(!i)throw new Error("Cannot open an encrypted document. The password is invalid.");f=this._decodeUserPassword(c,d,p,r);g=this._prepareKeyData(u,f,d,h,A,p,r,this._encryptMetaData),this._isUserPassword=!1}if(o>=4){var D=e.get("CF");if(D&&(D.suppressEncryption=!0,D.has("StdCF"))){var M=D.get("StdCF");if(M&&M.has("AuthEvent")){var V=M.get("AuthEvent");V&&"EFOpen"===V.name&&(this._encryptOnlyAttachment=!0)}}this._cipherDictionary=D,this._stream=e.get("StmF")||va.get("Identity"),this._string=e.get("StrF")||va.get("Identity"),this._eff=e.get("EFF")||this._stream}if(!g&&!this._encryptOnlyAttachment)throw new Error("Cannot open an encrypted document. The password is invalid.");this._encryptionKey=g}return Object.defineProperty(e.prototype,"_md5",{get:function(){return void 0===this._messageDigest&&(this._messageDigest=new os),this._messageDigest},enumerable:!0,configurable:!0}),e.prototype._createEncryptionKey=function(e,t,i,n,o,r,a,s){return e?s._getUserKey(t,o,a):s._getOwnerKey(t,i,n,r)},e.prototype._prepareKeyData=function(e,t,i,n,o,r,a,s){var l,d=new Uint8Array(40+i.length+e.length),h=0,A=0;if(t)for(l=Math.min(32,t.length);h<l;++h)d[Number.parseInt(h.toString(),10)]=t[Number.parseInt(h.toString(),10)];for(;h<32;)d[h++]=this._defaultPasswordBytes[A++];for(A=0,l=i.length;A<l;++A)d[h++]=i[Number.parseInt(A.toString(),10)];for(d[h++]=255&o,d[h++]=o>>8&255,d[h++]=o>>16&255,d[h++]=o>>>24&255,A=0,l=e.length;A<l;++A)d[h++]=e[Number.parseInt(A.toString(),10)];r>=4&&!s&&(d[h++]=255,d[h++]=255,d[h++]=255,d[h++]=255);var p=this._md5.hash(d,0,h),c=a>>3;if(r>=3)for(A=0;A<50;++A)p=this._md5.hash(p,0,c);var g,u=p.subarray(0,c);if(r>=3){for(h=0;h<32;++h)d[Number.parseInt(h.toString(),10)]=this._defaultPasswordBytes[Number.parseInt(h.toString(),10)];for(A=0,l=e.length;A<l;++A)d[h++]=e[Number.parseInt(A.toString(),10)];g=new ps(u)._encryptBlock(this._md5.hash(d,0,h)),l=u.length;var f=new Uint8Array(l);for(A=1;A<=19;++A){for(var m=0;m<l;++m)f[Number.parseInt(m.toString(),10)]=u[Number.parseInt(m.toString(),10)]^A;g=new ps(f)._encryptBlock(g)}for(A=0,l=g.length;A<l;++A)if(n[Number.parseInt(A.toString(),10)]!==g[Number.parseInt(A.toString(),10)])return null}else for(A=0,l=(g=new ps(u)._encryptBlock(this._defaultPasswordBytes)).length;A<l;++A)if(n[Number.parseInt(A.toString(),10)]!==g[Number.parseInt(A.toString(),10)])return null;return u},e.prototype._decodeUserPassword=function(e,t,i,n){for(var o=new Uint8Array(32),r=0,a=0,s=Math.min(32,e.length);r<s;++r)o[Number.parseInt(r.toString(),10)]=e[Number.parseInt(r.toString(),10)];for(;r<32;)o[r++]=this._defaultPasswordBytes[a++];var l,d=this._md5.hash(o,0,r),h=n>>3;if(i>=3)for(a=0;a<50;++a)d=this._md5.hash(d,0,d.length);if(i>=3){l=t;var A=new Uint8Array(h);for(a=19;a>=0;a--){for(var p=0;p<h;++p)A[Number.parseInt(p.toString(),10)]=d[Number.parseInt(p.toString(),10)]^a;l=new ps(A)._encryptBlock(l)}}else l=new ps(d.subarray(0,h))._encryptBlock(t);return l},e.prototype._createCipherTransform=function(e,t){if(4===this._algorithm||5===this._algorithm){var i=this._buildCipherConstructor(this._cipherDictionary,this._string,e,t,this._encryptionKey),n=this._buildCipherConstructor(this._cipherDictionary,this._stream,e,t,this._encryptionKey);return new ms(i,n)}var o=this._buildObjectKey(e,t,this._encryptionKey,!1);return new ms(new ps(o),new ps(o))},e.prototype._buildCipherConstructor=function(e,t,i,n,o){var r,a=e.get(t.name);if(a&&(r=a.get("CFM")),!r)return new fs;switch(r.name){case"None":return new fs;case"AESV2":return new gs(this._buildObjectKey(i,n,o,!0));case"AESV3":return new us(o);case"V2":return new ps(this._buildObjectKey(i,n,o,!1))}throw new sa("Unknown cryptography method")},e.prototype._buildObjectKey=function(e,t,i,n){void 0===n&&(n=!1);var o,r=new Uint8Array(i.length+9);for(o=0;o<i.length;++o)r[Number.parseInt(o.toString(),10)]=i[Number.parseInt(o.toString(),10)];return r[o++]=255&e,r[o++]=e>>8&255,r[o++]=e>>16&255,r[o++]=255&t,r[o++]=t>>8&255,n&&(r[o++]=115,r[o++]=65,r[o++]=108,r[o++]=84),this._md5.hash(r,0,o).subarray(0,Math.min(i.length+5,16))},e}(),os=function(){function e(){this._r=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),this._k=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551])}return e.prototype.hash=function(e,t,i){for(var n=1732584193,o=-271733879,r=-1732584194,a=271733878,s=i+72&-64,l=new Uint8Array(s),d=0,h=0;d<i;++d)l[Number.parseInt(d.toString(),10)]=e[t++];l[d++]=128;for(var A=s-8;d<A;)l[d++]=0;l[d++]=i<<3&255,l[d++]=i>>5&255,l[d++]=i>>13&255,l[d++]=i>>21&255,l[d++]=i>>>29&255,l[d++]=0,l[d++]=0,l[d++]=0;var p=new Int32Array(16);for(d=0;d<s;){for(h=0;h<16;++h,d+=4)p[Number.parseInt(h.toString(),10)]=l[Number.parseInt(d.toString(),10)]|l[d+1]<<8|l[d+2]<<16|l[d+3]<<24;var c=n,g=o,u=r,f=a,m=void 0,w=void 0;for(h=0;h<64;++h){h<16?(m=g&u|~g&f,w=h):h<32?(m=f&g|~f&u,w=5*h+1&15):h<48?(m=g^u^f,w=3*h+5&15):(m=u^(g|~f),w=7*h&15);var y=f,S=c+m+this._k[Number.parseInt(h.toString(),10)]+p[Number.parseInt(w.toString(),10)]|0,C=this._r[Number.parseInt(h.toString(),10)];f=u,u=g,g=g+(S<<C|S>>>32-C)|0,c=y}n=n+c|0,o=o+g|0,r=r+u|0,a=a+f|0}return new Uint8Array([255&n,n>>8&255,n>>16&255,n>>>24&255,255&o,o>>8&255,o>>16&255,o>>>24&255,255&r,r>>8&255,r>>16&255,r>>>24&255,255&a,a>>8&255,a>>16&255,a>>>24&255])},e}(),rs=function(){function e(){}return e.prototype._rotateRight=function(e,t){return e>>>t|e<<32-t},e.prototype._sigma=function(e){return this._rotateRight(e,2)^this._rotateRight(e,13)^this._rotateRight(e,22)},e.prototype._sigmaPrime=function(e){return this._rotateRight(e,6)^this._rotateRight(e,11)^this._rotateRight(e,25)},e.prototype._littleSigma=function(e){return this._rotateRight(e,7)^this._rotateRight(e,18)^e>>>3},e.prototype._littleSigmaPrime=function(e){return this._rotateRight(e,17)^this._rotateRight(e,19)^e>>>10},e.prototype._hash=function(e,t,i){for(var n,o=1779033703,r=3144134277,a=1013904242,s=2773480762,l=1359893119,d=2600822924,h=528734635,A=1541459225,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=64*Math.ceil((i+9)/64),g=new Uint8Array(c),u=0;u<i;++u)g[Number.parseInt(u.toString(),10)]=e[t++];g[u++]=128;for(var f=c-8;u<f;)g[u++]=0;g[u++]=0,g[u++]=0,g[u++]=0,g[u++]=i>>>29&255,g[u++]=i>>21&255,g[u++]=i>>13&255,g[u++]=i>>5&255,g[u++]=i<<3&255;var m=new Uint32Array(64);for(u=0;u<c;){for(n=0;n<16;++n)m[Number.parseInt(n.toString(),10)]=g[Number.parseInt(u.toString(),10)]<<24|g[u+1]<<16|g[u+2]<<8|g[u+3],u+=4;for(n=16;n<64;++n)m[Number.parseInt(n.toString(),10)]=this._littleSigmaPrime(m[n-2])+m[n-7]+this._littleSigma(m[n-15])+m[n-16]|0;var w=o,y=r,S=a,C=s,B=l,I=d,b=h,v=A,E=void 0,x=void 0;for(n=0;n<64;++n)E=v+this._sigmaPrime(B)+(B&I^~B&b)+p[Number.parseInt(n.toString(),10)]+m[Number.parseInt(n.toString(),10)],x=this._sigma(w)+(w&y^w&S^y&S),v=b,b=I,I=B,B=C+E|0,C=S,S=y,y=w,w=E+x|0;o=o+w|0,r=r+y|0,a=a+S|0,s=s+C|0,l=l+B|0,d=d+I|0,h=h+b|0,A=A+v|0}return new Uint8Array([o>>24&255,o>>16&255,o>>8&255,255&o,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a,s>>24&255,s>>16&255,s>>8&255,255&s,l>>24&255,l>>16&255,l>>8&255,255&l,d>>24&255,d>>16&255,d>>8&255,255&d,h>>24&255,h>>16&255,h>>8&255,255&h,A>>24&255,A>>16&255,A>>8&255,255&A])},e}(),as=function(){function e(){this._k=[new ss(1116352408,3609767458),new ss(1899447441,602891725),new ss(3049323471,3964484399),new ss(3921009573,2173295548),new ss(961987163,4081628472),new ss(1508970993,3053834265),new ss(2453635748,2937671579),new ss(2870763221,3664609560),new ss(3624381080,2734883394),new ss(310598401,1164996542),new ss(607225278,1323610764),new ss(1426881987,3590304994),new ss(1925078388,4068182383),new ss(2162078206,991336113),new ss(2614888103,633803317),new ss(3248222580,3479774868),new ss(3835390401,2666613458),new ss(4022224774,944711139),new ss(264347078,2341262773),new ss(604807628,2007800933),new ss(770255983,1495990901),new ss(1249150122,1856431235),new ss(1555081692,3175218132),new ss(1996064986,2198950837),new ss(2554220882,3999719339),new ss(2821834349,766784016),new ss(2952996808,2566594879),new ss(3210313671,3203337956),new ss(3336571891,1034457026),new ss(3584528711,2466948901),new ss(113926993,3758326383),new ss(338241895,168717936),new ss(666307205,1188179964),new ss(773529912,1546045734),new ss(1294757372,1522805485),new ss(1396182291,2643833823),new ss(1695183700,2343527390),new ss(1986661051,1014477480),new ss(2177026350,1206759142),new ss(2456956037,344077627),new ss(2730485921,1290863460),new ss(2820302411,3158454273),new ss(3259730800,3505952657),new ss(3345764771,106217008),new ss(3516065817,3606008344),new ss(3600352804,1432725776),new ss(4094571909,1467031594),new ss(275423344,851169720),new ss(430227734,3100823752),new ss(506948616,1363258195),new ss(659060556,3750685593),new ss(883997877,3785050280),new ss(958139571,3318307427),new ss(1322822218,3812723403),new ss(1537002063,2003034995),new ss(1747873779,3602036899),new ss(1955562222,1575990012),new ss(2024104815,1125592928),new ss(2227730452,2716904306),new ss(2361852424,442776044),new ss(2428436474,593698344),new ss(2756734187,3733110249),new ss(3204031479,2999351573),new ss(3329325298,3815920427),new ss(3391569614,3928383900),new ss(3515267271,566280711),new ss(3940187606,3454069534),new ss(4118630271,4000239992),new ss(116418474,1914138554),new ss(174292421,2731055270),new ss(289380356,3203993006),new ss(460393269,320620315),new ss(685471733,587496836),new ss(852142971,1086792851),new ss(1017036298,365543100),new ss(1126000580,2618297676),new ss(1288033470,3409855158),new ss(1501505948,4234509866),new ss(1607167915,987167468),new ss(1816402316,1246189591)]}return e.prototype._sigma=function(e,t,i){e.assign(t),e.rotateRight(28),i.assign(t),i.rotateRight(34),e.xor(i),i.assign(t),i.rotateRight(39),e.xor(i)},e.prototype._sigmaPrime=function(e,t,i){e.assign(t),e.rotateRight(14),i.assign(t),i.rotateRight(18),e.xor(i),i.assign(t),i.rotateRight(41),e.xor(i)},e.prototype._littleSigma=function(e,t,i){e.assign(t),e.rotateRight(1),i.assign(t),i.rotateRight(8),e.xor(i),i.assign(t),i.shiftRight(7),e.xor(i)},e.prototype._littleSigmaPrime=function(e,t,i){e.assign(t),e.rotateRight(19),i.assign(t),i.rotateRight(61),e.xor(i),i.assign(t),i.shiftRight(6),e.xor(i)},e.prototype._hash=function(e,t,i,n){var o,r,a,s,l,d,h,A;void 0===n&&(n=!1),n?(o=new ss(3418070365,3238371032),r=new ss(1654270250,914150663),a=new ss(2438529370,812702999),s=new ss(355462360,4144912697),l=new ss(1731405415,4290775857),d=new ss(2394180231,1750603025),h=new ss(3675008525,1694076839),A=new ss(1203062813,3204075428)):(o=new ss(1779033703,4089235720),r=new ss(3144134277,2227873595),a=new ss(1013904242,4271175723),s=new ss(2773480762,1595750129),l=new ss(1359893119,2917565137),d=new ss(2600822924,725511199),h=new ss(528734635,4215389547),A=new ss(1541459225,327033209));var p,c=128*Math.ceil((i+17)/128),g=new Uint8Array(c);for(p=0;p<i;++p)g[Number.parseInt(p.toString(),10)]=e[t++];g[p++]=128;for(var u=c-16;p<u;)g[p++]=0;g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=0,g[p++]=i>>>29&255,g[p++]=i>>21&255,g[p++]=i>>13&255,g[p++]=i>>5&255,g[p++]=i<<3&255;var f=new Array(80);for(p=0;p<80;p++)f[Number.parseInt(p.toString(),10)]=new ss(0,0);var m,w,y=new ss(0,0),S=new ss(0,0),C=new ss(0,0),B=new ss(0,0),I=new ss(0,0),b=new ss(0,0),v=new ss(0,0),E=new ss(0,0),x=new ss(0,0),_=new ss(0,0),D=new ss(0,0),M=new ss(0,0);for(p=0;p<c;){var V=void 0;for(V=0;V<16;++V)f[Number.parseInt(V.toString(),10)].high=g[Number.parseInt(p.toString(),10)]<<24|g[p+1]<<16|g[p+2]<<8|g[p+3],f[Number.parseInt(V.toString(),10)].low=g[p+4]<<24|g[p+5]<<16|g[p+6]<<8|g[p+7],p+=8;for(V=16;V<80;++V)m=f[Number.parseInt(V.toString(),10)],this._littleSigmaPrime(m,f[V-2],M),m.add(f[V-7]),this._littleSigma(D,f[V-15],M),m.add(D),m.add(f[V-16]);for(y.assign(o),S.assign(r),C.assign(a),B.assign(s),I.assign(l),b.assign(d),v.assign(h),E.assign(A),V=0;V<80;++V)x.assign(E),this._sigmaPrime(D,I,M),x.add(D),D.assign(I),D.and(b),M.assign(I),M.not(),M.and(v),D.xor(M),x.add(D),x.add(this._k[Number.parseInt(V.toString(),10)]),x.add(f[Number.parseInt(V.toString(),10)]),this._sigma(_,y,M),D.assign(y),D.and(S),M.assign(y),M.and(C),D.xor(M),M.assign(S),M.and(C),D.xor(M),_.add(D),m=E,E=v,v=b,b=I,B.add(x),I=B,B=C,C=S,S=y,m.assign(x),m.add(_),y=m;o.add(y),r.add(S),a.add(C),s.add(B),l.add(I),d.add(b),h.add(v),A.add(E)}return n?(w=new Uint8Array(48),o.copyTo(w,0),r.copyTo(w,8),a.copyTo(w,16),s.copyTo(w,24),l.copyTo(w,32),d.copyTo(w,40)):(w=new Uint8Array(64),o.copyTo(w,0),r.copyTo(w,8),a.copyTo(w,16),s.copyTo(w,24),l.copyTo(w,32),d.copyTo(w,40),h.copyTo(w,48),A.copyTo(w,56)),w},e}(),ss=function(){function e(e,t){this.high=0|e,this.low=0|t}return e.prototype.and=function(e){this.high&=e.high,this.low&=e.low},e.prototype.or=function(e){this.high|=e.high,this.low|=e.low},e.prototype.not=function(){this.high=~this.high,this.low=~this.low},e.prototype.xor=function(e){this.high^=e.high,this.low^=e.low},e.prototype.shiftRight=function(e){e>=32?(this.low=this.high>>>e-32|0,this.high=0):(this.low=this.low>>>e|this.high<<32-e,this.high=this.high>>>e|0)},e.prototype.shiftLeft=function(e){e>=32?(this.high=this.low<<e-32,this.low=0):(this.high=this.high<<e|this.low>>>32-e,this.low<<=e)},e.prototype.rotateRight=function(e){var t,i;32&e?(i=this.low,t=this.high):(t=this.low,i=this.high),e&=31,this.low=t>>>e|i<<32-e,this.high=i>>>e|t<<32-e},e.prototype.add=function(e){var t=(this.low>>>0)+(e.low>>>0),i=(this.high>>>0)+(e.high>>>0);t>4294967295&&(i+=1),this.low=0|t,this.high=0|i},e.prototype.copyTo=function(e,t){e[Number.parseInt(t.toString(),10)]=this.high>>>24&255,e[t+1]=this.high>>16&255,e[t+2]=this.high>>8&255,e[t+3]=255&this.high,e[t+4]=this.low>>>24&255,e[t+5]=this.low>>16&255,e[t+6]=this.low>>8&255,e[t+7]=255&this.low},e.prototype.assign=function(e){this.high=e.high,this.low=e.low},e}(),ls=function(){function e(){}return Object.defineProperty(e.prototype,"_sha256",{get:function(){return void 0===this._sha256Obj&&(this._sha256Obj=new rs),this._sha256Obj},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_sha512",{get:function(){return void 0===this._sha512Obj&&(this._sha512Obj=new as),this._sha512Obj},enumerable:!0,configurable:!0}),e}(),ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return is(t,e),t.prototype._checkOwnerPassword=function(e,t,i,n){var o=new Uint8Array(e.length+56);return o.set(e,0),o.set(t,e.length),o.set(i,e.length+t.length),gr(this._sha256._hash(o,0,o.length),n)},t.prototype._checkUserPassword=function(e,t,i){var n=new Uint8Array(e.length+8);return n.set(e,0),n.set(t,e.length),gr(this._sha256._hash(n,0,n.length),i)},t.prototype._getOwnerKey=function(e,t,i,n){var o=new Uint8Array(e.length+56);o.set(e,0),o.set(t,e.length),o.set(i,e.length+t.length);var r=this._sha256._hash(o,0,o.length);return new us(r)._decryptBlock(n,!1,new Uint8Array(16))},t.prototype._getUserKey=function(e,t,i){var n=new Uint8Array(e.length+8);n.set(e,0),n.set(t,e.length);var o=this._sha256._hash(n,0,n.length);return new us(o)._decryptBlock(i,!1,new Uint8Array(16))},t}(ls),hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return is(t,e),t.prototype._checkOwnerPassword=function(e,t,i,n){var o=new Uint8Array(e.length+56);return o.set(e,0),o.set(t,e.length),o.set(i,e.length+t.length),gr(this._hash(e,o,i),n)},t.prototype._checkUserPassword=function(e,t,i){var n=new Uint8Array(e.length+8);return n.set(e,0),n.set(t,e.length),gr(this._hash(e,n,new Uint8Array([])),i)},t.prototype._getOwnerKey=function(e,t,i,n){var o=new Uint8Array(e.length+56);o.set(e,0),o.set(t,e.length),o.set(i,e.length+t.length);var r=this._hash(e,o,i);return new us(r)._decryptBlock(n,!1,new Uint8Array(16))},t.prototype._getUserKey=function(e,t,i){var n=new Uint8Array(e.length+8);n.set(e,0),n.set(t,e.length);var o=this._hash(e,n,new Uint8Array([]));return new us(o)._decryptBlock(i,!1,new Uint8Array(16))},t.prototype._hash=function(e,t,i){for(var n=this._sha256._hash(t,0,t.length).subarray(0,32),o=new Uint8Array([0]),r=0;r<64||o[o.length-1]>r-32;){var a=e.length+n.length+i.length,s=new Uint8Array(a),l=0;s.set(e,l),l+=e.length,s.set(n,l),l+=n.length,s.set(i,l);for(var d=new Uint8Array(64*a),h=0,A=0;h<64;h++)d.set(s,A),A+=a;o=new gs(n.subarray(0,16))._encrypt(d,n.subarray(16,32));for(var p=0,c=0;c<16;c++)p*=1,p%=3,p+=(o[Number.parseInt(c.toString(),10)]>>>0)%3,p%=3;2===p?n=this._sha512._hash(o,0,o.length):1===p?n=this._sha512._hash(o,0,o.length,!0):0===p&&(n=this._sha256._hash(o,0,o.length)),r++}return n.subarray(0,32)},t}(ls),As=function(){},ps=function(e){function t(t){var i=e.call(this)||this;i._a=0,i._b=0;for(var n=new Uint8Array(256),o=0;o<256;++o)n[Number.parseInt(o.toString(),10)]=o;for(var r=t.length,a=(o=0,0);o<256;++o){var s=n[Number.parseInt(o.toString(),10)];a=a+s+t[o%r]&255,n[Number.parseInt(o.toString(),10)]=n[Number.parseInt(a.toString(),10)],n[Number.parseInt(a.toString(),10)]=s}return i._s=n,i}return is(t,e),t.prototype._encryptBlock=function(e){for(var t=this._a,i=this._b,n=this._s,o=e.length,r=new Uint8Array(o),a=0;a<o;++a){t=t+1&255;var s=n[Number.parseInt(t.toString(),10)];i=i+s&255;var l=n[Number.parseInt(i.toString(),10)];n[Number.parseInt(t.toString(),10)]=l,n[Number.parseInt(i.toString(),10)]=s,r[Number.parseInt(a.toString(),10)]=e[Number.parseInt(a.toString(),10)]^n[s+l&255]}return this._a=t,this._b=i,r},t.prototype._decryptBlock=function(e){return this._encryptBlock(e)},t.prototype._encrypt=function(e){return this._encryptBlock(e)},t}(As),cs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._buffer=new Uint8Array(16),t._position=0,t._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),t._inverseS=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),t._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),t}return is(t,e),Object.defineProperty(t.prototype,"_mixCol",{get:function(){if(void 0===this._mixC){this._mixC=new Uint8Array(256);for(var e=0;e<256;e++)this._mixC[Number.parseInt(e.toString(),10)]=e<128?e<<1:e<<1^27}return this._mixC},enumerable:!0,configurable:!0}),t.prototype._decrypt=function(e,t){var i,n,o,r=new Uint8Array(16);r.set(e);for(var a=0,s=this._keySize;a<16;++a,++s)r[Number.parseInt(a.toString(),10)]^=t[Number.parseInt(s.toString(),10)];for(var l=this._cyclesOfRepetition-1;l>=1;--l){i=r[13],r[13]=r[9],r[9]=r[5],r[5]=r[1],r[1]=i,i=r[14],n=r[10],r[14]=r[6],r[10]=r[2],r[6]=i,r[2]=n,i=r[15],n=r[11],o=r[7],r[15]=r[3],r[11]=i,r[7]=n,r[3]=o;for(a=0;a<16;++a)r[Number.parseInt(a.toString(),10)]=this._inverseS[r[Number.parseInt(a.toString(),10)]];for(a=0,s=16*l;a<16;++a,++s)r[Number.parseInt(a.toString(),10)]^=t[Number.parseInt(s.toString(),10)];for(a=0;a<16;a+=4){var d=this._mix[r[Number.parseInt(a.toString(),10)]],h=this._mix[r[a+1]],A=this._mix[r[a+2]],p=this._mix[r[a+3]];i=d^h>>>8^h<<24^A>>>16^A<<16^p>>>24^p<<8,r[Number.parseInt(a.toString(),10)]=i>>>24&255,r[a+1]=i>>16&255,r[a+2]=i>>8&255,r[a+3]=255&i}}i=r[13],r[13]=r[9],r[9]=r[5],r[5]=r[1],r[1]=i,i=r[14],n=r[10],r[14]=r[6],r[10]=r[2],r[6]=i,r[2]=n,i=r[15],n=r[11],o=r[7],r[15]=r[3],r[11]=i,r[7]=n,r[3]=o;for(a=0;a<16;++a)r[Number.parseInt(a.toString(),10)]=this._inverseS[r[Number.parseInt(a.toString(),10)]],r[Number.parseInt(a.toString(),10)]^=t[Number.parseInt(a.toString(),10)];return r},t.prototype._encryptBlock=function(e,t){var i,n,o,r=this._s,a=new Uint8Array(16);a.set(e);for(var s=0;s<16;++s)a[Number.parseInt(s.toString(),10)]^=t[Number.parseInt(s.toString(),10)];for(var l=1;l<this._cyclesOfRepetition;l++){for(s=0;s<16;++s)a[Number.parseInt(s.toString(),10)]=r[a[Number.parseInt(s.toString(),10)]];o=a[1],a[1]=a[5],a[5]=a[9],a[9]=a[13],a[13]=o,o=a[2],n=a[6],a[2]=a[10],a[6]=a[14],a[10]=o,a[14]=n,o=a[3],n=a[7],i=a[11],a[3]=a[15],a[7]=o,a[11]=n,a[15]=i;for(s=0;s<16;s+=4){var d=a[s+0],h=a[s+1],A=a[s+2],p=a[s+3];i=d^h^A^p,a[s+0]^=i^this._mixCol[d^h],a[s+1]^=i^this._mixCol[h^A],a[s+2]^=i^this._mixCol[A^p],a[s+3]^=i^this._mixCol[p^d]}s=0;for(var c=16*l;s<16;++s,++c)a[Number.parseInt(s.toString(),10)]^=t[Number.parseInt(c.toString(),10)]}for(s=0;s<16;++s)a[Number.parseInt(s.toString(),10)]=r[a[Number.parseInt(s.toString(),10)]];o=a[1],a[1]=a[5],a[5]=a[9],a[9]=a[13],a[13]=o,o=a[2],n=a[6],a[2]=a[10],a[6]=a[14],a[10]=o,a[14]=n,o=a[3],n=a[7],i=a[11],a[3]=a[15],a[7]=o,a[11]=n,a[15]=i;for(s=0,c=this._keySize;s<16;++s,++c)a[Number.parseInt(s.toString(),10)]^=t[Number.parseInt(c.toString(),10)];return a},t.prototype._decryptBlockHelper=function(e,t){for(var i=e.length,n=this._buffer,o=this._position,r=[],a=this._iv,s=0;s<i;++s)if(n[Number.parseInt(o.toString(),10)]=e[Number.parseInt(s.toString(),10)],!(++o<16)){for(var l=this._decrypt(n,this._key),d=0;d<16;++d)l[Number.parseInt(d.toString(),10)]^=a[Number.parseInt(d.toString(),10)];a=n,r.push(l),n=new Uint8Array(16),o=0}if(this._buffer=n,this._bufferLength=o,this._iv=a,0===r.length)return new Uint8Array(0);var h=16*r.length;if(t){var A=r[r.length-1],p=A[15];if(p<=16){s=15;for(var c=16-p;s>=c;--s)if(A[Number.parseInt(s.toString(),10)]!==p){p=0;break}h-=p,r[r.length-1]=A.subarray(0,16-p)}}var g=new Uint8Array(h);for(s=0,d=0;s<r.length;++s,d+=16)g.set(r[Number.parseInt(s.toString(),10)],d);return g},t.prototype._decryptBlock=function(e,t,i){var n=e.length,o=this._buffer,r=this._position;if(i)this._iv=i;else{for(var a=0;r<16&&a<n;++a,++r)o[Number.parseInt(r.toString(),10)]=e[Number.parseInt(a.toString(),10)];if(r<16)return this._bufferLength=r,new Uint8Array(0);this._iv=o,e=e.subarray(16)}return this._buffer=new Uint8Array(16),this._bufferLength=0,this._decryptBlock=this._decryptBlockHelper,this._decryptBlock(e,t)},t.prototype._encrypt=function(e,t){var i=e.length,n=this._buffer,o=this._position,r=[];t||(t=new Uint8Array(16));for(var a=0;a<i;++a)if(n[Number.parseInt(o.toString(),10)]=e[Number.parseInt(a.toString(),10)],!(++o<16)){for(var s=0;s<16;++s)n[Number.parseInt(s.toString(),10)]^=t[Number.parseInt(s.toString(),10)];var l=this._encryptBlock(n,this._key);t=l,r.push(l),n=new Uint8Array(16),o=0}if(this._buffer=n,this._bufferLength=o,this._iv=t,0===r.length)return new Uint8Array(0);var d=16*r.length,h=new Uint8Array(d);for(a=0,s=0;a<r.length;++a,s+=16)h.set(r[Number.parseInt(a.toString(),10)],s);return h},t}(As),gs=function(e){function t(t){var i=e.call(this)||this;return i._cyclesOfRepetition=10,i._keySize=160,i._key=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),i._key=i._expandKey(t),i}return is(t,e),t.prototype._expandKey=function(e){var t=this._s,i=this._key,n=new Uint8Array(176);n.set(e);for(var o=16,r=1;o<176;++r){var a=n[o-3],s=n[o-2],l=n[o-1],d=n[o-4];a=t[Number.parseInt(a.toString(),10)],s=t[Number.parseInt(s.toString(),10)],l=t[Number.parseInt(l.toString(),10)],d=t[Number.parseInt(d.toString(),10)],a^=i[Number.parseInt(r.toString(),10)];for(var h=0;h<4;++h)n[Number.parseInt(o.toString(),10)]=a^=n[o-16],n[o+1]=s^=n[o-15],n[o+2]=l^=n[o-14],n[o+3]=d^=n[o-13],o+=4}return n},t}(cs),us=function(e){function t(t){var i=e.call(this)||this;return i._cyclesOfRepetition=14,i._keySize=224,i._key=i._expandKey(t),i}return is(t,e),t.prototype._expandKey=function(e){var t=this._s,i=new Uint8Array(240);i.set(e);for(var n,o,r,a,s=1,l=32,d=1;l<240;++d){l%32==16?(n=t[Number.parseInt(n.toString(),10)],o=t[Number.parseInt(o.toString(),10)],r=t[Number.parseInt(r.toString(),10)],a=t[Number.parseInt(a.toString(),10)]):l%32==0&&(n=i[l-3],o=i[l-2],r=i[l-1],a=i[l-4],n=t[Number.parseInt(n.toString(),10)],o=t[Number.parseInt(o.toString(),10)],r=t[Number.parseInt(r.toString(),10)],a=t[Number.parseInt(a.toString(),10)],n^=s,(s<<=1)>=256&&(s=255&(27^s)));for(var h=0;h<4;++h)i[Number.parseInt(l.toString(),10)]=n^=i[l-32],i[l+1]=o^=i[l-31],i[l+2]=r^=i[l-30],i[l+3]=a^=i[l-29],l+=4}return i},t}(cs),fs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return is(t,e),t.prototype._decryptBlock=function(e){return e},t.prototype._encrypt=function(e){return e},t}(As),ms=function(){function e(e,t){this._stringCipher=e,this._streamCipher=t}return e.prototype.createStream=function(e,t){return new ja(e,t,this._streamCipher)},e.prototype.decryptString=function(e){var t=cr(e,!1,!0);return mr(this._stringCipher._decryptBlock(t,!0))},e.prototype.encryptString=function(e){if(this._stringCipher instanceof cs){var t=16-e.length%16;e+=String.fromCharCode(t).repeat(t);var i=new Uint8Array(16);if("undefined"!=typeof crypto)crypto.getRandomValues(i);else for(var n=0;n<16;n++)i[Number.parseInt(n.toString(),10)]=Math.floor(256*Math.random());var o=this._stringCipher._encrypt(cr(e,!1,!0),i),r=new Uint8Array(16+o.length);return r.set(i),r.set(o,16),mr(r)}return mr(this._stringCipher._encrypt(cr(e,!1,!0)))},e}(),ws="EOF",ys=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ss=function(){function e(e){this.stream=e,this.nextChar(),this.stringBuffer=[],this._hexStringNumber=0,this.beginInlineImagePosition=-1}return e.prototype.nextChar=function(){return this.currentChar=this.stream.getByte()},e.prototype.peekChar=function(){return this.stream.peekByte()},e.prototype.getNumber=function(){var e=this.currentChar,t=!1,i=0,n=0;if(45===e?(n=-1,45===(e=this.nextChar())&&(e=this.nextChar())):43===e&&(n=1,e=this.nextChar()),10===e||13===e)do{e=this.nextChar()}while(10===e||13===e);if(46===e&&(i=10,e=this.nextChar()),e<48||e>57){if(Br(e)||-1===e){if(10===i&&0===n)return 0;if(0===i&&-1===n)return 0}throw new sa("Invalid number: "+String.fromCharCode(e)+" (charCode "+e+")")}n=n||1;var o=e-48,r=0,a=1;for(e=this.nextChar();e>=0;){if(e>=48&&e<=57){var s=e-48;t?r=10*r+s:(0!==i&&(i*=10),o=10*o+s)}else if(46===e){if(0!==i)break;i=1}else{if(45===e){e=this.nextChar();continue}if(69!==e&&101!==e)break;if(43===(e=this.peekChar())||45===e)a=45===e?-1:1,this.nextChar();else if(e<48||e>57)break;t=!0}e=this.nextChar()}return 0!==i&&(o/=i),t&&(o*=Math.pow(10,a*r)),n*o},e.prototype.getString=function(){var e=1,t=!1,i=this.stringBuffer;i.length=0;for(var n=this.nextChar();;){var o=!1;switch(0|n){case-1:t=!0;break;case 40:++e,i.push("(");break;case 41:0==--e?(this.nextChar(),t=!0):i.push(")");break;case 92:switch(n=this.nextChar()){case-1:t=!0;break;case 110:i.push("\n");break;case 114:i.push("\r");break;case 116:i.push("\t");break;case 98:i.push("\b");break;case 102:i.push("\f");break;case 92:case 40:case 41:i.push(String.fromCharCode(n));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:var r=15&n;o=!0,(n=this.nextChar())>=48&&n<=55&&(r=(r<<3)+(15&n),(n=this.nextChar())>=48&&n<=55&&(o=!1,r=(r<<3)+(15&n))),i.push(String.fromCharCode(r));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:i.push(String.fromCharCode(n))}break;default:i.push(String.fromCharCode(n))}if(t)break;o||(n=this.nextChar())}return i.join("")},e.prototype.getName=function(){var e,t,i=this.stringBuffer;for(i.length=0,e=this.nextChar();e>=0&&!ys[e];){if(35===e){if(e=this.nextChar(),ys[e]){i.push("#");break}var n=this._toHexDigit(e);if(-1!==n){t=e,e=this.nextChar();var o=this._toHexDigit(e);if(-1===o){if(i.push("#",String.fromCharCode(t)),ys[e])break;i.push(String.fromCharCode(e)),e=this.nextChar();continue}i.push(String.fromCharCode(n<<4|o))}else i.push("#",String.fromCharCode(e))}else i.push(String.fromCharCode(e));e=this.nextChar()}return va.get(i.join(""))},e.prototype.getHexString=function(){var e=this.stringBuffer;e.length=0;var t,i,n=this.currentChar,o=!0;for(this._hexStringNumber=0;!(n<0);){if(62===n){this.nextChar();break}if(1!==ys[n]){if(o){if(-1===(t=this._toHexDigit(n))){n=this.nextChar();continue}}else{if(-1===(i=this._toHexDigit(n))){n=this.nextChar();continue}e.push(String.fromCharCode(t<<4|i))}o=!o,n=this.nextChar()}else n=this.nextChar()}return e.join("")},e.prototype.getObject=function(){for(var e=!1,t=this.currentChar;;){if(t<0)return ws;if(e)10!==t&&13!==t||(e=!1);else if(37===t)e=!0;else if(1!==ys[t])break;t=this.nextChar()}switch(0|t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),Ea.get("[");case 93:return this.nextChar(),Ea.get("]");case 60:return 60===(t=this.nextChar())?(this.nextChar(),Ea.get("<<")):this.getHexString();case 62:return 62===(t=this.nextChar())?(this.nextChar(),Ea.get(">>")):Ea.get(">");case 123:return this.nextChar(),Ea.get("{");case 125:return this.nextChar(),Ea.get("}");case 41:throw this.nextChar(),new sa("Illegal character: "+t)}var i=String.fromCharCode(t);if(t<32||t>127){var n=this.peekChar();if(n>=32&&n<=127)return this.nextChar(),Ea.get(i)}for(t=this.nextChar();t>=0&&!ys[t];){var o=i+String.fromCharCode(t);if(128===i.length)throw new sa("Command token too long: "+i.length);i=o,t=this.nextChar()}return"true"===i||"false"!==i&&("null"===i?null:("BI"===i&&(this.beginInlineImagePosition=this.stream.position),Ea.get(i)))},e.prototype.peekObj=function(){var e,t=this.stream.position,i=this.currentChar,n=this.beginInlineImagePosition;try{e=this.getObject()}catch(e){}return this.stream.position=t,this.currentChar=i,this.beginInlineImagePosition=n,e},e.prototype.skipToNextLine=function(){for(var e=this.currentChar;e>=0;){if(13===e){10===(e=this.nextChar())&&this.nextChar();break}if(10===e){this.nextChar();break}e=this.nextChar()}},e.prototype._toHexDigit=function(e){return e>=48&&e<=57?15&e:e>=65&&e<=70||e>=97&&e<=102?9+(15&e):-1},e}(),Cs=function(){function e(e,t,i,n,o){void 0===i&&(i=!1),void 0===n&&(n=!1),this._isColorSpace=!1,this._isPassword=!1,this.lexicalOperator=e,this.xref=t,this.allowStreams=i,this.recoveryMode=n,this.imageCache=new Map,this._encryptor=o,this.refill()}return e.prototype.refill=function(){this.first=this.lexicalOperator.getObject(),this.second=this.lexicalOperator.getObject()},e.prototype.shift=function(){this.second instanceof Ea&&"ID"===this.second.command?(this.first=this.second,this.second=null):(this.first=this.second,this.second=this.lexicalOperator.getObject())},e.prototype.tryShift=function(){try{return this.shift(),!0}catch(e){return!1}},e.prototype.getObject=function(e,t,i){var n,o=this.first;if(this.shift(),o instanceof Ea)switch(o.command){case"BI":return"number"==typeof e&&"number"==typeof t?this.makeInlineImage(e,t,i):e instanceof ms?this.makeInlineImage(e):this.makeInlineImage();case"[":for(var r=[];!Fa(this.first,"]")&&this.first!==ws;){var a=void 0;"number"==typeof e&&"number"==typeof t?(n=this._encryptor._createCipherTransform(e,t),a=this.getObject(e,t,i)):e instanceof ms?(n=e,a=this.getObject(e)):a=this.getObject(e),0===r.length&&Qa(a,"Indexed")&&(this._isColorSpace=!0),a=ua(a,this._isColorSpace,this._isPassword),r.push(a)}if(this.first===ws){if(this.recoveryMode)return r;throw new la("End of file inside array.")}return this._isColorSpace=!1,this.shift(),r;case"<<":for(var s=new Va(this.xref);!Fa(this.first,">>")&&this.first!==ws;)if(this.first instanceof va){var l=this.first.name;if("U"!==l&&"O"!==l&&"ID"!==l||(this._isPassword=!0),this.shift(),this._checkEnd())break;"number"==typeof e&&"number"==typeof t&&(n=this._encryptor._createCipherTransform(e,t));var d=void 0;d=ua(d="number"==typeof e&&"number"==typeof t?this.getObject(e,t,i):e instanceof ms?this.getObject(e):this.getObject(),this._isColorSpace,this._isPassword),this._isPassword=!1,s.set(l,d)}else this.shift();if(this.first===ws){if(this.recoveryMode)return s;throw new la("End of file inside dictionary.")}return Fa(this.second,"stream")?!0===this.allowStreams?(e instanceof ms?n=e:i&&"number"==typeof t&&(n=this._encryptor._createCipherTransform(e,t)),"boolean"==typeof t&&t?this.makeStream(s,n,t):this.makeStream(s,n)):s:(this.shift(),s);default:return o}if(Number.isInteger(o)){if(Number.isInteger(this.first)&&Fa(this.second,"R")){var h=xa.get(o,this.first);return this.shift(),this.shift(),h}return o}return"string"==typeof o?(e instanceof ms?n=e:"number"==typeof e&&"number"==typeof t&&(n=this._encryptor._createCipherTransform(e,t)),n?n.decryptString(o):o):o},e.prototype.findDiscreteDecodeInlineStreamEnd=function(e){var t,i,n=e.position,o=!1;for(t=e.getByte();-1!==t;)if(255===t){switch(e.getByte()){case 0:break;case 255:e.skip(-1);break;case 217:o=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:(i=e.getUnsignedInteger16())>2?e.skip(i-2):e.skip(-2)}if(o)break;t=e.getByte()}else t=e.getByte();var r=e.position-n;return-1===t?(e.skip(-r),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),r)},e.prototype.findDecodeInlineStreamEnd=function(e){for(var t,i=e.position;-1!==(t=e.getByte());)if(126===t){var n=e.position;for(t=e.peekByte();Br(t);)e.skip(),t=e.peekByte();if(62===t){e.skip();break}if(e.position>n){var o=e.peekBytes(2);if(69===o[0]&&73===o[1])break}}var r=e.position-i;return-1===t?(e.skip(-r),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),r)},e.prototype.findHexDecodeInlineStreamEnd=function(e){var t,i=e.position;for(t=e.getByte();-1!==t&&62!==t;)t=e.getByte();var n=e.position-i;return-1===t?(e.skip(-n),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),n)},e.prototype.inlineStreamSkipEI=function(e){var t,i=0;for(t=e.getByte();-1!==t;){if(0===i)i=69===t?1:0;else if(1===i)i=73===t?2:0;else if(2===i)break;t=e.getByte()}},e.prototype.makeInlineImage=function(e,t,i){var n,o,r=this.lexicalOperator,a=r.stream,s=new Va(this.xref);for(i&&(o=e instanceof ms?e:this._encryptor._createCipherTransform(e,t));!Fa(this.first,"ID")&&this.first!==ws;){if(!(this.first instanceof va))throw new sa("Dictionary key must be a name object");var l=this.first.name;if(this.shift(),this.first.name===ws)break;e instanceof ms?s.set(l,this.getObject(e)):s.set(l,this.getObject(e,t,i))}-1!==r.beginInlineImagePosition&&(n=a.position-r.beginInlineImagePosition);var d,h=s.get("F","Filter");if(h instanceof va)d=h.name;else if(Array.isArray(h)){var A=h[0],p=null!=A&&A instanceof xa?this.xref._fetch(A):A;p&&(d=p.name)}var c,g=a.position;switch(d){case"DCT":case"DCTDecode":c=this.findDiscreteDecodeInlineStreamEnd(a);break;case"A85":case"ASCII85Decode":c=this.findDecodeInlineStreamEnd(a);break;case"AHx":case"ASCIIHexDecode":c=this.findHexDecodeInlineStreamEnd(a);break;default:c=this.findDefaultInlineStreamEnd(a)}var u,f=a.makeSubStream(g,c,s);if(c<1e3&&n<5552){var m=f.getBytes();f.reset();var w=a.position;a.position=r.beginInlineImagePosition;var y=a.getBytes(n);a.position=w,u=this._computeMaxNumber(m)+"_"+this._computeMaxNumber(y);var S=this.imageCache.get(u);if(void 0!==S)return this.second=Ea.get("EI"),this.shift(),S.reset(),S}return o&&(f=o.createStream(f,c)),(f=this.filter(f,s,c)).dictionary=s,void 0!==u&&this.imageCache.set(u,f),this.second=Ea.get("EI"),this.shift(),f},e.prototype._computeMaxNumber=function(e){for(var t=e.length,i=1,n=0,o=0;o<t;++o)n+=i+=255&e[o];return n%65521<<16|i%65521},e.prototype.makeStream=function(e,t,i){void 0===i&&(i=!1);var n=this.lexicalOperator,o=n.stream;n.skipToNextLine();var r=o.position-1,a=e.get("Length");if(Number.isInteger(a)||(a=0),o.position=r+a,n.nextChar(),this.tryShift()&&Fa(this.second,"endstream"))this.shift();else{var s=new Uint8Array([101,110,100,115,116,114,101,97,109]),l=this._findStreamLength(r,s);if(l<0){var d=s.length-1,h=s.slice(0,d),A=this._findStreamLength(r,h);if(A>=0)Br(o.peekBytes(d+1)[d])&&(l=A);if(l<0)throw new sa("Missing endstream command.")}a=l,n.nextChar(),this.shift(),this.shift()}return this.shift(),o=o.makeSubStream(r,a,e),i||(t&&(o=t.createStream(o,a)),o=this.filter(o,e,a)),o.dictionary=e,o},e.prototype.filter=function(e,t,i){var n=t.get("F","Filter"),o=t.get("DP","DecodeParms");if(n instanceof va)return this.makeFilter(e,n.name,i,o);var r=i;if(Array.isArray(n))for(var a=n,s=o,l=0;l<a.length;++l){var d=a[Number.parseInt(l.toString(),10)];if(!((n=d instanceof xa?this.xref._fetch(d):d)instanceof va))throw new sa("Bad filter name '"+n+"'");if(o=null,Array.isArray(s)&&l in s){var h=s[Number.parseInt(l.toString(),10)];o=h instanceof xa?this.xref._fetch(h):h}e=this.makeFilter(e,n.name,r,o),r=null}return e},e.prototype.makeFilter=function(e,t,i,n){if(0===i)return new Ra;try{return"Fl"===t||"FlateDecode"===t?n?new ts(new qa(e,i),i,n):new qa(e,i):e}catch(e){return new Ra}},e.prototype._findStreamLength=function(e,t){var i=this.lexicalOperator.stream;i.position=e;for(var n=t.length;i.position<i.end;){var o=i.peekBytes(2048),r=o.length-n;if(r<=0)break;for(var a=0;a<r;){for(var s=0;s<n&&o[a+s]===t[s];)s++;if(s>=n)return i.position+=a,i.position-e;a++}i.position+=r}return-1},e.prototype.findDefaultInlineStreamEnd=function(e){var t,i,n=e.position,o=0;for(t=e.getByte();-1!==t;){if(0===o)o=69===t?1:0;else if(1===o)o=73===t?2:0;else{if(2!==o)throw new Error("findDefaultInlineStreamEnd - invalid state.");if(32===t||10===t||13===t){i=e.position;for(var r=e.peekBytes(10),a=0,s=r.length;a<s;a++)if((0!==(t=r[a])||0===r[a+1])&&10!==t&&13!==t&&(t<32||t>127)){o=0;break}if(2!==o){t=e.getByte();continue}if(2===o)break}else o=0}t=e.getByte()}-1===t&&void 0!==i&&e.skip(-(e.position-i));var l=4;return e.skip(-l),t=e.peekByte(),e.skip(l),Br(t)||l--,e.position-l-n},e.prototype._checkEnd=function(){return this.first===ws},e}(),Bs=function(){function e(e){this.isValid=!1;var t=new Cs(new Ss(e),null),i=t.getObject(),n=t.getObject(),o=t.getObject(),r=t.getObject();if(this.isValid=Number.isInteger(i)&&Number.isInteger(n)&&Fa(o,"obj")&&void 0!==r,this.isValid){var a=r.get("Linearized");this.isValid=void 0!==a&&a>0}if(this.isValid){var s=this.getInt(r,"L");if(s!==e.length)throw new Error("The L parameter in the linearization dictionary does not equal the stream length.");this.length=s,this.hints=this.getHints(r),this.objectNumberFirst=this.getInt(r,"O"),this.endFirst=this.getInt(r,"E"),this.pageCount=this.getInt(r,"N"),this.mainXRefEntriesOffset=this.getInt(r,"T"),this.pageFirst=r.has("P")?this.getInt(r,"P",!0):0}}return e.prototype.getInt=function(e,t,i){void 0===i&&(i=!1);var n=e.get(t);if(void 0!==n&&Number.isInteger(n)&&(i?n>=0:n>0))return n;throw new Error("The '"+t+"' parameter in the linearization dictionary is invalid.")},e.prototype.getHints=function(e){var t=e.getArray("H"),i=t.length;if(t&&(2===i||4===i)){for(var n=0;n<i;n++){var o=t[n];if(!(Number.isInteger(o)&&o>0))throw new Error("Hint ("+n+") in the linearization dictionary is invalid.")}return t}throw new Error("Hint array in the linearization dictionary is invalid.")},e}(),Is=function(){function e(e,t){this._version="",this._newLine="\r\n",this._password=t,this._document=e,this._stream=e._stream,this._entries=[],this._crossReferencePosition=Object.create(null),this._cacheMap=new Map,this._offsetReference=new Map,this._pendingRefs=new _a,this._offsets=[]}return e.prototype._setStartXRef=function(e){this._startXRefQueue=[e],this._prevStartXref=e,void 0!==this._prevXRefOffset&&null!==this._prevXRefOffset||(this._prevXRefOffset=e)},e.prototype._parse=function(e){var t;(t=e?this._indexObjects():this._readXRef()).assignXref(this);var i=t.get("Size");this._entries.length<i||this._entries.length===i?this._nextReferenceNumber=i:this._entries.length>i&&(this._nextReferenceNumber=this._entries.length>0?this._entries.length:1),this._trailer=t;var n=t.get("Encrypt");if(n){this._document._isEncrypted=!0,this._ids=t.get("ID"),this._permissionFlags=n.get("P");var o=this._ids&&this._ids.length?this._ids[0]:"";n.suppressEncryption=!0,this._encrypt=new ns(n,o,this._password),this._document._isUserPassword=this._encrypt._isUserPassword,this._document._encryptOnlyAttachment=this._encrypt._encryptOnlyAttachment,this._document.fileStructure.isIncrementalUpdate?this._document.fileStructure.crossReferenceType=Je.stream:this._document.fileStructure.crossReferenceType=Je.table,this._encrypt._encryptOnlyAttachment?(this._document._hasUserPasswordOnly=!0,this._document._encryptMetaData=!1):(this._document._hasUserPasswordOnly=this._encrypt._hasUserPasswordOnly,this._document._encryptMetaData=!n.has("EncryptMetadata")||n.get("EncryptMetadata"))}var r,a=!1;try{r=t.get("Root")}catch(e){throw new aa("Invalid cross reference","XRefParseException")}if(r)try{r.get("Pages")&&(this._root=r,a=!0)}catch(e){throw new aa("Invalid cross reference","InvalidXRef")}if(!a)throw new aa("Invalid cross reference",e?"InvalidXRef":"XRefParseException")},e.prototype._getEntry=function(e){var t=this._entries[e];return t&&!t.free&&t.offset?t:null},e.prototype._fetch=function(e,t){var i;if(!(e instanceof xa))throw new Error("ref object is not a reference");var n=e.objectNumber,o=this._cacheMap.get(e);if(void 0!==o)return o instanceof Va&&!o.objId&&(o.objId=n),o;var r=this._getEntry(n);if(null===r)return this._cacheMap.set(e,r),r;if(this._pendingRefs.has(e))throw this._pendingRefs.remove(e),new Error("circular reference");this._pendingRefs.put(e);try{i=r.uncompressed?this._fetchUncompressed(e,r,t):this._fetchCompressed(e,r),this._pendingRefs.remove(e)}catch(t){throw this._pendingRefs.remove(e),t}return i},e.prototype._fetchUncompressed=function(e,t,i){var n=e.generationNumber,o=e.objectNumber;if(t.gen!==n)throw new aa("Inconsistent generation in XRef: "+e,"XRefEntryException");var r,a=this._stream.makeSubStream(t.offset+this._stream.start,void 0),s=new Cs(new Ss(a),this,!0,!1,this._encrypt),l=s.getObject(),d=s.getObject(),h=s.getObject();if(l!==o||d!==n||void 0===h)throw new aa("Bad (uncompressed) XRef entry: "+e,"XRefEntryException");return(r=this._encrypt&&!i?s.getObject(e.objectNumber,e.generationNumber,!0):s.getObject(null,i))instanceof ka||this._cacheMap.set(e,r),r instanceof Va?r.objId=e.toString():r instanceof ka&&(r.dictionary.objId=e.toString()),r},e.prototype._fetchCompressed=function(e,t){var i=t.offset,n=this._fetch(xa.get(i,0));if(void 0===n)throw new sa("bad ObjStm stream");var o=n.dictionary.get("First"),r=n.dictionary.get("N"),a=e.generationNumber;if(!Number.isInteger(o)||!Number.isInteger(r))throw new sa("invalid first and n parameters for ObjStm stream");for(var s=new Cs(new Ss(n),this,!0),l=new Array(r),d=new Array(r),h=0;h<r;++h){var A=s.getObject();if(!Number.isInteger(A))throw new sa("invalid object number in the ObjStm stream: "+A);var p=s.getObject();if(!Number.isInteger(p))throw new sa("invalid object offset in the ObjStm stream: "+p);l[h]=A,d[h]=p}var c=(n.start||0)+o,g=new Array(r);for(h=0;h<r;++h){var u=h<r-1?d[h+1]-d[h]:void 0;if(u<0)throw new sa("Invalid offset in the ObjStm stream.");var f=(s=new Cs(new Ss(n.makeSubStream(c+d[h],u,n.dictionary)),this,!0)).getObject();if(g[h]=f,!(f instanceof ka)){A=l[h];var m=this._entries[A];if(m&&m.offset===i&&m.gen===h){var w=A+" "+a;this._cacheMap.set(xa.get(A,a),f),f instanceof Va&&(f.objId=w)}}}var y=g[t.gen];if(void 0===y)throw new aa("Bad (compressed) XRef entry: "+e,"XRefEntryException");return y},e.prototype._readXRef=function(e){void 0===e&&(e=!1);var t=this._stream,i=new Set;try{for(;this._startXRefQueue.length;){var n=this._startXRefQueue[0];if(this._prevStartXref<n&&(this._prevStartXref=n),i.has(n))this._startXRefQueue.shift();else{i.add(n),t.position=n+t.start;var o=new Cs(new Ss(t),this,!0),r=o.getObject(),a=void 0;if(Fa(r,"xref")){if(void 0===this._document._fileStructure._crossReferenceType&&(this._document._fileStructure._crossReferenceType=Je.table),a=this._processXRefTable(o),this._topDictionary||(this._topDictionary=a),r=a.get("XRefStm"),Number.isInteger(r)){var s=r;s in this._crossReferencePosition||(this._crossReferencePosition[s]=1,this._startXRefQueue.push(s))}}else{if(!Number.isInteger(r))throw new sa("Invalid XRef stream header");void 0===this._document._fileStructure._crossReferenceType&&(this._document._fileStructure._crossReferenceType=Je.stream);var l=o.getObject(),d=o.getObject();if(r=o.getObject(),!(void 0!==l&&Number.isInteger(l)&&Fa(d,"obj")&&r instanceof ka))throw new sa("Invalid cross reference stream");if(a=this._processXRefStream(r),this._topDictionary||(this._topDictionary=a),!a)throw new sa("Failed to read XRef stream")}r=a.get("Prev"),Number.isInteger(r)?this._startXRefQueue.push(r):r instanceof xa&&this._startXRefQueue.push(r.objectNumber),this._startXRefQueue.shift()}}return this._topDictionary}catch(e){this._startXRefQueue.shift()}if(!e)throw new aa("Invalid cross reference","XRefParseException")},e.prototype._readToken=function(e,t){for(var i="",n=e[t];10!==n&&13!==n&&60!==n&&!(++t>=e.length);)i+=String.fromCharCode(n),n=e[t];return i},e.prototype._skipUntil=function(e,t,i){for(var n=i.length,o=e.length,r=0;t<o;){for(var a=0;a<n&&e[t+a]===i[a];)++a;if(a>=n)break;t++,r++}return r},e.prototype._indexObjects=function(){var e=/^(\d+)\s+(\d+)\s+obj\b/,t=/\bendobj[\b\s]$/,i=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,n=new Uint8Array([116,114,97,105,108,101,114]),o=new Uint8Array([115,116,97,114,116,120,114,101,102]),r=new Uint8Array([111,98,106]),a=new Uint8Array([47,88,82,101,102]);this._entries.length=0,this._cacheMap.clear();var s=this._stream;s.position=0;for(var l,d=s.getBytes(),h=d.length,A=s.start,p=[],c=[];A<h;){var g=d[A];if(9!==g&&10!==g&&13!==g&&32!==g)if(37!==g){var u=this._readToken(d,A),f=void 0;if(u.startsWith("xref")&&(4===u.length||/\s/.test(u[4])))A+=this._skipUntil(d,A,n),p.push(A),A+=this._skipUntil(d,A,o);else if(f=e.exec(u)){var m=0|Number.parseInt(f[1]),w=0|Number.parseInt(f[2]),y=void 0,S=A+u.length,C=!1;if(this._entries[m]){if(this._entries[m].gen===w)try{var B=s.makeSubStream(S,s.length-S),I=new Ss(B);(Q=new Cs(I,null)).getObject(),C=!0}catch(e){C=!(e instanceof la)}}else C=!0;if(C){var b=new bs;b.offset=A-s.start,b.gen=w,b.uncompressed=!0,this._entries[m]=b}for(;S<d.length;){var v=S+this._skipUntil(d,S,r)+4;y=v-A;var E=Math.max(v-25,S),x=mr(d.subarray(E,v));if(t.test(x))break;var _=i.exec(x);if(_&&_[1]){y-=_[1].length;break}S=v}var D=d.subarray(A,A+y),M=this._skipUntil(D,0,a);M<y&&D[M+5]<64&&(c.push(A-s.start),this._crossReferencePosition[A-s.start]=1),A+=y}else u.startsWith("trailer")&&(7===u.length||/\s/.test(u[7]))?(p.push(A),A+=this._skipUntil(d,A,o)):A+=u.length+1}else do{if(++A>=h)break;g=d[A]}while(10!==g&&13!==g);else++A}for(var V=0;V<c.length;++V)this._startXRefQueue.push(c[V]),this._readXRef(!0);for(V=0;V<p.length;++V){var Q;if(s.position=p[V],Fa((Q=new Cs(new Ss(s),this,!0,!0)).getObject(),"trailer")){var F=Q.getObject();if(F instanceof Va){try{var T=F.get("Root");if(!(T instanceof Va))continue;var k=T.get("Pages");if(!(k instanceof Va))continue;var P=k.get("Count");if(void 0===P||!Number.isInteger(P))continue}catch(e){continue}if(F.has("ID"))return F;l=F}}}if(l)return l;if(this._topDictionary)return this._topDictionary;throw new aa("Invalid PDF structure.","InvalidPDFException")},e.prototype._processXRefTable=function(e){if(void 0===this._tableState){var t=new vs;t.entryNum=0,t.streamPos=e.lexicalOperator.stream.position,t.parserBuf1=e.first,t.parserBuf2=e.second,this._tableState=t}if(!Fa(this._readXRefTable(e),"trailer"))throw new sa("Invalid XRef table: could not find trailer dictionary");var i,n=e.getObject();if(n&&(n instanceof Va?i=n:n instanceof ka&&n.dictionary&&(i=n.dictionary)),!i)throw new sa("Invalid cross reference: could not parse trailer dictionary");return this._tableState=void 0,i},e.prototype._readXRefTable=function(e){var t,i=e.lexicalOperator.stream;for(i.position=this._tableState.streamPos,e.first=this._tableState.parserBuf1,e.second=this._tableState.parserBuf2;;){if(void 0===this._tableState.firstEntryNum||void 0===this._tableState.entryCount){if(Fa(t=e.getObject(),"trailer"))break;this._tableState.firstEntryNum=t,this._tableState.entryCount=e.getObject()}var n=this._tableState.firstEntryNum,o=this._tableState.entryCount;if(!Number.isInteger(n)||!Number.isInteger(o))throw new sa("Invalid cross reference: wrong types in subsection header");for(var r=this._tableState.entryNum;r<o;r++){this._tableState.streamPos=i.position,this._tableState.entryNum=r,this._tableState.parserBuf1=e.first,this._tableState.parserBuf2=e.second;var a=new bs;a.offset=e.getObject(),a.gen=e.getObject();var s=e.getObject();if(s)switch(s.command){case"f":a.free=!0;break;case"n":a.uncompressed=!0}if(!Number.isInteger(a.offset)||!Number.isInteger(a.gen)||!a.free&&!a.uncompressed)throw new sa("Invalid entry in cross reference subsection: "+n+", "+o);0===r&&a.free&&1===n&&(n=0),this._entries[r+n]||(this._entries[r+n]=a)}this._tableState.entryNum=0,this._tableState.streamPos=i.position,this._tableState.parserBuf1=e.first,this._tableState.parserBuf2=e.second,this._tableState.firstEntryNum=void 0,this._tableState.entryCount=void 0}if(this._entries[0]&&!this._entries[0].free)throw new sa("Invalid XRef table: unexpected first object");return t},e.prototype._processXRefStream=function(e){if(void 0===this._streamState){var t=e.dictionary,i=new Es,n=t.getArray("Index");n||(n=[0,t.get("Size")]),i.entryRanges=n,i.byteWidths=t.getArray("W"),i.entryNum=0,i.streamPos=e.position,this._streamState=i}return this._readXRefStream(e),this._streamState=void 0,e.dictionary},e.prototype._readXRefStream=function(e){e.position=this._streamState.streamPos;for(var t=this._streamState.byteWidths[0],i=this._streamState.byteWidths[1],n=this._streamState.byteWidths[2],o=this._streamState.entryRanges;o.length>0;){var r=o[0],a=o[1];if(!Number.isInteger(r)||!Number.isInteger(a))throw new sa("Invalid XRef range fields: "+r+", "+a);if(!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(n))throw new sa("Invalid XRef entry fields length: "+r+", "+a);for(var s=this._streamState.entryNum;s<a;++s){this._streamState.entryNum=s,this._streamState.streamPos=e.position;for(var l=0,d=0,h=0,A=0;A<t;++A){var p=e.getByte();if(-1===p)throw new sa("invalid cross reference byte width type.");l=l<<8|p}0===t&&(l=1);for(A=0;A<i;++A){var c=e.getByte();if(-1===c)throw new sa("invalid cross reference byte width offset.");d=d<<8|c}for(A=0;A<n;++A){var g=e.getByte();if(-1===g)throw new sa("invalid cross reference byte width generation.");h=h<<8|g}var u=new bs;switch(u.offset=d,u.gen=h,l){case 0:u.free=!0;break;case 1:u.uncompressed=!0;break;case 2:break;default:throw new sa("Invalid XRef entry type: "+l)}this._entries[r+s]||(this._entries[r+s]=u)}this._streamState.entryNum=0,this._streamState.streamPos=e.position,o.splice(0,2)}},e.prototype._getCatalogObj=function(){return this._root},e.prototype._save=function(){var e=[37,80,68,70,45];if(this._writeString(""+this._version+this._newLine,e),e.push(37,131,146,250,254),this._writeString(this._newLine,e),this._document.fileStructure.isIncrementalUpdate){this._currentLength=this._stream.length;var t=[37,80,68,70,45];return this._writeString(""+this._version+this._newLine,t),t.push(37,131,146,250,254),this._writeString(this._newLine,t),this._document._fileStructure._crossReferenceType===Je.stream?this._saveAsStream(this._currentLength,t):this._saveAsTable(this._currentLength,t),(n=new Uint8Array(this._stream.length+t.length)).set(this._stream.bytes),n.set(t,this._stream.length),n}this._currentLength=0;var i=new _s(this);this._writeObjectCollection(i._mainObjectCollection,e);var n,o=new Pa(e);return this._stream=o,this._document._stream=o,(n=new Uint8Array(this._stream.length)).set(this._stream.bytes),n.set(e,0),n},e.prototype._saveAsStream=function(e,t){var i=this,n=new Map;this._indexes=[],this._indexes.push(0,1),this._cacheMap.forEach((function(n,o){var r;if(n instanceof ka&&(r=n.dictionary),r&&r._updated&&(!r.isCatalog||i._allowCatalog)){var a=void 0;i._encrypt&&(a=i._encrypt._createCipherTransform(o.objectNumber,o.generationNumber)),i._updatedDictionary(e,o,t,n,a)}})),this._cacheMap.forEach((function(o,r){if(o instanceof Va)!o._updated||o.isCatalog&&!i._allowCatalog||i._writeArchieveStream(n,r,o);else if(o instanceof ka){var a=o.dictionary;a&&a._updated&&(!a.isCatalog||i._allowCatalog)&&i._updatedDictionary(e,r,t,o)}})),this._objectStream=void 0,this._objectStreamCollection=n,this._writeXrefStream(t)},e.prototype._updatedDictionary=function(e,t,i,n,o){this._indexes.push(t.objectNumber,1),this._offsets.push(e+i.length),this._writeObject(n,i,t,o),n._updated=!1},e.prototype._writeXrefStream=function(e){var t=this;this._objectStreamCollection.forEach((function(i,n){i._save(e,t._currentLength);for(var o=0;o<i._collection.length;o++)t._indexes.push(i._collection[Number.parseInt(o.toString(),10)]);t._indexes.push(n.objectNumber,1)}));var i=Math.max(fa(this._currentLength+e.length),fa(this._nextReferenceNumber)),n=this._getNextReference();this._indexes.push(n.objectNumber,1);var o=this._currentLength+e.length,r=new Va(this);r.set("Type",va.get("XRef")),r.set("Index",this._indexes),r.set("W",[1,i,1]),this._copyTrailer(r),this._ids&&this._ids.length>0&&r.update("ID",[this._ids[0],this._computeMessageDigest(o)]);var a=[];if(this._writeLong(0,1,a),this._writeLong(0,i,a),this._writeLong(-1,1,a),this._offsets.length>0)for(var s=0;s<this._offsets.length;s++)this._writeLong(1,1,a),this._writeLong(this._offsets[s],i,a),this._writeLong(0,1,a);this._objectStreamCollection.size>0&&this._objectStreamCollection.forEach((function(e,n){for(var o=0;o<e._length;o++)t._writeLong(2,1,a),t._writeLong(n.objectNumber,i,a),t._writeLong(o,1,a);t._writeLong(1,1,a),t._writeLong(e._archiveOffset,i,a),t._writeLong(0,1,a)})),this._writeLong(1,1,a),this._writeLong(o,i,a),this._writeLong(0,1,a),r.set("Length",a.length);var l,d=new Pa(a,r,0,a.length);this._encrypt&&(l=this._encrypt._createCipherTransform(n.objectNumber,n.generationNumber)),this._writeObject(d,e,n,l,!0),this._writeString("startxref"+this._newLine+o+this._newLine+"%%EOF"+this._newLine,e)},e.prototype._saveAsTable=function(e,t){var i=this,n="";this._cacheMap.forEach((function(o,r){var a;if(o instanceof Va?a=o:o instanceof ka&&(a=o.dictionary),a&&a._updated&&(!a.isCatalog||i._allowCatalog)){var s=i._processString((e+t.length).toString(),10),l=i._processString(r.generationNumber.toString(),5);n+=r.objectNumber+" 1"+i._newLine+s+" "+l+" n"+i._newLine,i._writeObject(o,t,r)}}));var o=t.length+e;this._writeString("xref"+this._newLine+"0 1"+this._newLine+"0000000000 65535 f"+this._newLine,t),this._writeXref(t,n,o)},e.prototype._writeXref=function(e,t,i){this._writeString(t,e),this._writeString("trailer"+this._newLine,e);var n=new Va(this);this._copyTrailer(n),this._writeDictionary(n,e,this._newLine),this._writeString("startxref"+this._newLine+i+this._newLine+"%%EOF"+this._newLine,e)},e.prototype._writeXrefTable=function(e){var t=this,i="",n=this._getSortedReferences(this._offsetReference);n.forEach((function(e,n){var o=t._processString(e.toString(),10),r=t._processString(n.generationNumber?"0":"",5);i+=0!==e?o+" "+r+" n"+t._newLine:o+" "+r+" f"+t._newLine}));var o=e.length,r="xref"+this._newLine,a="0 "+(n.size+1)+this._newLine,s="0000000000 65535 f"+this._newLine;this._writeString(r+a+s,e),this._writeXref(e,i,o)},e.prototype._processString=function(e,t){for(;e.length<t;)e="0"+e;return e},e.prototype._copyTrailer=function(e){var t=this._getNextReference();e.set("Size",t.objectNumber),this._document.fileStructure.isIncrementalUpdate&&e.set("Prev",this._prevXRefOffset);var i=this._trailer.getRaw("Root");null!=i&&e.set("Root",i);var n=this._trailer.getRaw("Info");null!=n&&e.set("Info",n);var o=this._trailer.getRaw("Encrypt");null!=o&&e.set("Encrypt",o)},e.prototype._computeMessageDigest=function(e){var t=this,i=[Math.floor(Date.now()/1e3).toString(),"",e.toString()],n=this._trailer.getRaw("Info"),o=new Va;n&&n instanceof Va&&n.forEach((function(e,t){t&&"string"==typeof t&&o.set(e,pr(t))})),o.forEach((function(e,t){i.push(t)}));var r=[];return i.forEach((function(e){t._writeString(e,r)})),mr((new os).hash(new Uint8Array(r)))},e.prototype._getNextReference=function(){var e=new xa(this._nextReferenceNumber++,0);return e._isNew=!0,e},e.prototype._writeObject=function(e,t,i,n,o){var r=this;i&&i instanceof xa&&this._writeString(i.objectNumber+" "+i.generationNumber+" obj"+this._newLine,t),e instanceof Va?this._writeDictionary(e,t,this._newLine,n,o):e instanceof ka?this._writeStream(e,t,n,o):Array.isArray(e)&&e.length>0?(this._writeString("[ ",t),e.forEach((function(i,a){i instanceof xa?r._writeString(i.objectNumber+" "+i.generationNumber+" R",t):Array.isArray(i)?(r._writeString("[ ",t),i.forEach((function(e){e instanceof xa?r._writeString(e.objectNumber+" "+e.generationNumber+" R",t):e instanceof va?r._writeString("/"+e.name,t):r._writeString(e+" ",t)})),r._writeString("]",t)):i instanceof va?r._writeString("/"+i.name,t):i instanceof Va?r._writeDictionary(i,t,r._newLine,n,o):r._writeString(i+"\n",t),a<e.length-1&&r._writeString(" ",t)})),this._writeString("]",t),this._writeString("\n",t)):"number"==typeof e&&this._writeString(e+"\n",t),i&&i instanceof xa&&this._writeString("endobj"+this._newLine,t)},e.prototype._writeDictionary=function(e,t,i,n,o){var r=this;e._currentObj&&e._currentObj._beginSave(),e._isFont&&this._writeFontDictionary(e),this._writeString("<<"+i,t),e.forEach((function(e,a){r._writeString("/"+Hr(e)+" ",t),r._writeValue(a,t,n,o),r._writeString(i,t)})),this._writeString(">>"+this._newLine,t)},e.prototype._writeFontDictionary=function(e){if(e.has("DescendantFonts")){var t=e.get("DescendantFonts"),i=this._getNextReference();this._cacheMap.set(i,t),e.update("DescendantFonts",[i])}if(e.has("ToUnicode")){t=e.get("ToUnicode"),i=this._getNextReference();this._cacheMap.set(i,t),e.update("ToUnicode",i)}if(e.has("FontFile2")){t=e.get("FontFile2"),i=this._getNextReference();this._cacheMap.set(i,t),e.update("FontFile2",i)}if(e.has("FontDescriptor")){t=e.get("FontDescriptor"),i=this._getNextReference();this._cacheMap.set(i,t),e.update("FontDescriptor",i)}},e.prototype._writeStream=function(e,t,i,n){var o,r=[];n?o=e.getString():(o=e._isCompress&&!e._isImage?Ca(e):e.getString(),i&&(o=i.encryptString(o))),this._writeString(o,r),e.dictionary.update("Length",r.length),this._writeDictionary(e.dictionary,t,this._newLine,i,n),this._writeString("stream"+this._newLine,t),this._writeBytes(r,t),this._writeString(this._newLine+"endstream"+this._newLine,t)},e.prototype._writeValue=function(e,t,i,n){if(e instanceof va)-1!==e.name.indexOf(" ")&&(e.name=e.name.replace(/ /g,"#20")),this._writeString("/"+e.name,t);else if(e instanceof xa)this._writeString(e.toString()+" R",t);else if(Array.isArray(e)){this._writeString("[",t);for(var o=!0,r=0,a=e;r<a.length;r++){var s=a[r];o?o=!1:this._writeString(" ",t),this._writeValue(s,t,i,n)}this._writeString("]",t)}else if("string"==typeof e){!n&&i&&(e=i.encryptString(e));for(var l=!1,d=0;d<e.length;d++)if(e.charCodeAt([d])>255){l=!0;break}l?this._writeUnicodeString(e,t):this._writeString("("+this._escapeString(e)+")",t)}else"number"==typeof e?this._writeString(ur(e),t):"boolean"==typeof e?this._writeString(e.toString(),t):e instanceof Va?this._writeDictionary(e,t,this._newLine,i,n):e instanceof ka?this._writeStream(e,t,i,n):null===e&&this._writeString("null",t)},e.prototype._writeUnicodeString=function(e,t){var i=function(e){for(var t=[],i=0;i<e.length;i++){var n=e.charCodeAt(Number.parseInt(i.toString(),10));n<=65535&&(t.push(n>>8&255),t.push(255&n))}return t}(e);i.unshift(254,255);for(var n=[],o=0;o<i.length;o++){var r=i[Number.parseInt(o.toString(),10)];switch(r){case 40:case 41:case 92:n.push(92),n.push(r);break;case 13:n.push(92),n.push(114);break;default:n.push(r)}}t.push(255&"(".charCodeAt(0));for(o=0;o<n.length;o++)t.push(255&n[Number.parseInt(o.toString(),10)]);t.push(255&")".charCodeAt(0))},e.prototype._writeString=function(e,t){for(var i=0;i<e.length;i++)t.push(255&e.charCodeAt(i))},e.prototype._writeBytes=function(e,t){for(var i=0;i<e.length;i++)t.push(e[i])},e.prototype._writeLong=function(e,t,i){for(var n=t-1;n>=0;--n)i.push(e>>(n<<3)&255)},e.prototype._escapeString=function(e){return e.replace(/([()\\\n\r])/g,(function(e){return"\n"===e?"\\n":"\r"===e?"\\r":"\\"+e}))},e.prototype._destroy=function(){this._entries=void 0,this._pendingRefs&&(this._pendingRefs.clear(),this._pendingRefs=void 0),this._cacheMap&&this._cacheMap.clear(),this._offsetReference&&this._offsetReference.clear(),this._objectStreamCollection&&this._objectStreamCollection.clear(),this._offsets=[],this._startXRefQueue=[],this._root=void 0,this._startXRefQueue=void 0,this._stream=void 0,this._streamState=void 0,this._tableState=void 0,this._topDictionary=void 0,this._trailer=void 0,this._version=void 0,this._crossReferencePosition=void 0},e.prototype._writeObjectCollection=function(e,t){var i=this,n=new Map;this._indexes=[],this._indexes.push(0,1),e.forEach((function(e,o){i._writeObjectToBuffer(o,e,t,n)})),this._document.fileStructure._crossReferenceType===Je.stream?(this._objectStream=void 0,this._objectStreamCollection=n,this._writeXrefStream(t)):this._writeXrefTable(t)},e.prototype._writeArchieveStream=function(e,t,i){if(void 0===this._objectStream||100===this._objectStream._length){var n=new xs(this);e.set(n._reference,n),this._objectStream=n}this._objectStream._writeObject(t,i)},e.prototype._writeObjectToBuffer=function(e,t,i,n){var o;if(t instanceof Va&&t.isCatalog)this._writeToBuffer(i,e,t);else if(t instanceof Va){var r=t.get("Filter"),a=r&&"Standard"===r.name;this._document.fileStructure._crossReferenceType===Je.stream?a?this._writeToBuffer(i,e,t):this._writeArchieveStream(n,e,t):(this._offsetReference.set(e,i.length),this._indexes.push(e.objectNumber,1),this._writeObject(t,i,e))}else{if(t instanceof ka){var s=t.dictionary;s&&s._updated&&!s.isCatalog&&(this._encrypt&&(o=this._encrypt._createCipherTransform(e.objectNumber,e.generationNumber)),s._updated=!1)}else if((!Array.isArray(t)||0===t.length)&&"number"!=typeof t)return;this._writeToBuffer(i,e,t,o)}},e.prototype._writeToBuffer=function(e,t,i,n){this._offsets.push(e.length),this._offsetReference.set(t,e.length),this._indexes.push(t.objectNumber,1),this._writeObject(i,e,t,n)},e.prototype._getSortedReferences=function(e){var t=[];e.forEach((function(e,i){t.push([i,e])})),t.sort((function(e,t){return e[0].objectNumber-t[0].objectNumber}));for(var i=new Map,n=1,o=0,r=t;o<r.length;o++){for(var a=r[o],s=a[0],l=a[1],d=s.objectNumber;n<d;)i.set({objectNumber:n},0),n++;i.set(s,l),n=d+1}return i},e}(),bs=function(){},vs=function(){},Es=function(){},xs=function(){function e(e){this._indexes="",this._length=0,this._crossReference=e,this._reference=e._getNextReference(),this._archiveXRef="",this._updatedStream=[],this._collection=[]}return e.prototype._writeObject=function(e,t){this._archiveXRef+=e.objectNumber+" "+this._updatedStream.length+this._crossReference._newLine,this._collection.push(e.objectNumber,1),this._crossReference._writeObject(t,this._updatedStream),this._length++},e.prototype._save=function(e,t){var i=[];this._crossReference._writeString(this._archiveXRef,i),this._crossReference._writeBytes(this._updatedStream,i);var n=new Va(this._crossReference);n.set("Type",va.get("ObjStm")),n.set("N",this._length),n.set("First",this._archiveXRef.length),n.set("Length",i.length);var o,r=new Pa(i,n,0,i.length);this._archiveOffset=t+e.length,this._crossReference._encrypt&&(o=this._crossReference._encrypt._createCipherTransform(this._reference.objectNumber,this._reference.generationNumber)),this._crossReference._writeObject(r,e,this._reference,o)},e}(),_s=function(){function e(e){var t=this;if(this._pointer=0,!(e._cacheMap instanceof Map))throw new Error("Expected _cacheMap to be a Map.");this._reference=[],this._cache=e._cacheMap,this._mainObjectCollection=new Map;var i=!1;this._crossReference=e,this._cache.forEach((function(e,n){!i&&e instanceof Va&&e.isCatalog&&(t._addToMainObjectCollection(n,e),i=!0)})),this._parseObjectCollection()}return e.prototype._parseObjectCollection=function(){for(var e=this,t=function(){var t=new Map,n=0;i._mainObjectCollection.forEach((function(i,o){n===e._pointer&&(t.set(o,i),e._parse(o,i)),n++})),i._pointer++},i=this;this._pointer<this._mainObjectCollection.size;)t();return this._addReferencesToMainCollection(),this._mainObjectCollection},e.prototype._addToMainObjectCollection=function(e,t){this._reference.push(e),this._mainObjectCollection.set(e,t)},e.prototype._parseFetchValue=function(e){var t=this._crossReference._fetch(e);this._parse(e,t)},e.prototype._parse=function(e,t){var i=this;if(t instanceof Va)this._parseDictionary(t);else if(t instanceof ka)this._parseStream(e,t);else if(t instanceof xa)this._parseFetchValue(t);else if(Array.isArray(t)&&t.length>0){t.every((function(e){return e instanceof xa}))?t.forEach((function(e){return i._parseFetchValue(e)})):(t.forEach((function(e){e instanceof xa&&i._parseFetchValue(e)})),-1!==this._reference.indexOf(e)||this._mainObjectCollection.has(e)||this._addToMainObjectCollection(e,t))}else"number"==typeof t&&(-1!==this._reference.indexOf(e)||this._mainObjectCollection.has(e)||this._addToMainObjectCollection(e,t))},e.prototype._addReferencesToMainCollection=function(){var e=this,t=[];this._cache.forEach((function(i,n){e._mainObjectCollection.has(n)||t.push({key:n,value:i})})),t.forEach((function(t){var i=t.key,n=t.value;e._addToMainObjectCollection(i,n)}))},e.prototype._parseDictionary=function(e){var t=this;e.forEach((function(e,i){var n=function(e){if(!t._mainObjectCollection.has(e)&&-1===t._reference.indexOf(e)){var i=t._crossReference._fetch(e);i instanceof xa&&(i=t._crossReference._fetch(i)),i instanceof ka?t._parseStream(e,i):t._addToMainObjectCollection(e,i)}};i instanceof xa?n(i):Array.isArray(i)?i.forEach((function(e){e instanceof xa?n(e):e instanceof Va&&t._parseDictionary(e)})):i instanceof Va&&t._parseDictionary(i)}))},e.prototype._parseStream=function(e,t){if(this._parseDictionary(t.dictionary),-1===this._reference.indexOf(e)&&!this._mainObjectCollection.has(e)){var i=t.dictionary.get("Type"),n=t.dictionary.get("Subtype"),o=void 0;t.dictionary._updated||i&&("XObject"===i.name||"Metadata"===i.name)&&("Form"===n.name||"XML"===n.name)?o=this._crossReference._fetch(e):(o=this._crossReference._fetch(e,!0))._isCompress=!1,this._addToMainObjectCollection(e,o)}},e}(),Ds=f(115),Ms=function(){function e(e,t){this._isDefaultAppearance=!1,this._hasKids=!1,this._setAppearance=!1,this._exportEmptyFields=!1,this._fieldCollection=[],this._signFlag=ct.none,this._isNeedAppearances=!1,this._dictionary=e,this._crossReference=t,this._parsedFields=new Map,this._fields=[],this._createFields()}return Object.defineProperty(e.prototype,"count",{get:function(){return this._fields.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needAppearances",{get:function(){return this._dictionary.has("NeedAppearances")&&(this._needAppearances=this._dictionary.get("NeedAppearances")),this._needAppearances},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportEmptyFields",{get:function(){return this._exportEmptyFields},set:function(e){this._exportEmptyFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_signatureFlag",{get:function(){return this._signFlag},set:function(e){e!==this._signFlag&&(this._signFlag=e,this._dictionary.update("SigFlags",e))},enumerable:!0,configurable:!0}),e.prototype.fieldAt=function(e){if(e<0||e>=this._fields.length)throw Error("Index out of range.");var t;if(this._parsedFields.has(e))t=this._parsedFields.get(e),this._isNeedAppearances=!0;else{var i=void 0,n=this._fields[e];n&&n instanceof xa&&(i=this._crossReference._fetch(n)),i&&(t=this._parseFields(i,n),this._parsedFields.set(e,t),t&&t instanceof Rn&&(t._annotationIndex=e))}return t},e.prototype._parseFields=function(e,t){var i;if(e){var n=xr(e,"FT",!1,!0,"Parent"),o=0,r=xr(e,"Ff",!1,!0,"Parent");if(void 0!==r&&(o=r),n)switch(n.name.toLowerCase()){case"tx":i=Ln._load(this,e,this._crossReference,t);break;case"btn":i=o&pt.pushButton?On._load(this,e,this._crossReference,t):o&pt.radio?zn._load(this,e,this._crossReference,t):Un._load(this,e,this._crossReference,t);break;case"ch":i=o&pt.combo?Yn._load(this,e,this._crossReference,t):jn._load(this,e,this._crossReference,t);break;case"sig":i=Gn._load(this,e,this._crossReference,t)}}return i},e.prototype.add=function(e){return this._fields.push(e._ref),this._dictionary.update("Fields",this._fields),this._parsedFields.set(this._fields.length-1,e),e._form=this,this._crossReference._root._updated=!0,e instanceof Gn&&(e._form._signatureFlag=ct.signatureExists|ct.appendOnly),this._isNeedAppearances=!0,this._fields.length-1},e.prototype.removeField=function(e){var t=this._fields.indexOf(e._ref);t>=0&&this.removeFieldAt(t)},e.prototype.removeFieldAt=function(e){var t=this.fieldAt(e);if(t){if(t._kidsCount>0)for(var i=t._kidsCount-1;i>=0;i--){var n=t.itemAt(i),o=void 0;n&&(o=n._getPage())&&o._removeAnnotation(n._ref)}else if(t._dictionary.has("Subtype")&&"Widget"===t._dictionary.get("Subtype").name){(o=t.page)&&o._removeAnnotation(t._ref)}this._parsedFields.delete(e),this._reorderParsedAnnotations(e)}this._fields.splice(e,1),this._dictionary.set("Fields",this._fields),this._dictionary._updated=!0},e.prototype._reorderParsedAnnotations=function(e){var t=new Map;this._parsedFields.forEach((function(i,n){n>e?t.set(n-1,i):t.set(n,i)})),this._parsedFields=t},e.prototype.setDefaultAppearance=function(e){this._setAppearance=!e,this._needAppearances=e,this._isDefaultAppearance=e},e.prototype.orderFormFields=function(e){var t=this;if(null==e)this.orderFormFields(new Map);else{var i=void 0,n=this._crossReference._document,o=void 0;if(e&&e instanceof Map){var r=!0;e.size>0||(r=!1),this._tabCollection=e;var a=new Map;if(this._fieldCollection=this._getFields(),Sa(this._fieldCollection)&&this._fieldCollection.length>0)if(this._fieldCollection[0].page&&n){for(var s=0;s<this._fieldCollection.length;s++){var l=this._fieldCollection[Number.parseInt(s.toString(),10)];if(l.page){var d=dr(n,this._sortItemByPageIndex(l,!0)._pageDictionary);if(d>=0){a.has(d)?(o=a.get(d)).push(l):((o=[]).push(l),a.set(d,o));var h=n.getPage(d);this._tabCollection.has(d)||this._tabCollection.set(d,h.tabOrder),r&&(h.tabOrder=this._tabCollection.get(d))}}}var A=0;a.forEach((function(e,i){if(t._tabOrder=t._tabCollection.get(i),t._tabOrder!==dt.structure){var n=e;n.sort((function(e,i){return t._compareFields(e,i)}));for(var o=0;o<n.length;o++){var r=t._fieldCollection.indexOf(n[Number.parseInt(o.toString(),10)]);if(-1!==r&&r!==A+o){var a=t._fieldCollection[Number.parseInt(r.toString(),10)];t._fieldCollection.splice(r,1),t._fieldCollection.splice(A+o,0,a)}}}A+=e.length}))}}else this._tabOrder=e,i=this._getOrder(this._tabOrder),this._fieldCollection=this._getFields(),this._fieldCollection.sort((function(e,i){return t._compareFields(e,i)}));this._parsedFields.clear();for(s=0;s<this._fieldCollection.length;s++)this._parsedFields.set(Number.parseInt(s.toString(),10),this._fieldCollection[Number.parseInt(s.toString(),10)]),this._fields[Number.parseInt(s.toString(),10)]=this._fieldCollection[Number.parseInt(s.toString(),10)]._ref,i&&this._fieldCollection[Number.parseInt(s.toString(),10)].page._pageDictionary.update("Tabs",i);this._dictionary.update("Fields",this._fields)}},e.prototype._createFields=function(){var e;this._dictionary.has("Fields")&&(e=this._dictionary.get("Fields"));for(var t=!1,i=0,n=[];null!=e;){for(;i<e.length;i++){var o=e[i],r=void 0;o&&o instanceof xa&&(r=this._crossReference._fetch(o));var a=0,s=xr(r,"Ff",!1,!0,"Parent");void 0!==s&&(a=s);var l=void 0;if(r&&r.has("Kids")&&void 0!==(l=r.get("Kids"))&&l.length>0)for(var d=0;d<l.length;d++){var h=l[Number.parseInt(d.toString(),10)];if(h&&h instanceof xa){var A=this._crossReference._fetch(h);void 0===A||A.has("Parent")||A.update("Parent",o)}else a&pt.radio&&(t=!0)}if(void 0===l)r&&-1===this._fields.indexOf(o)&&this._fields.push(o);else if(!r.has("FT")||this._isNode(l))n.push({fields:e,count:i}),this._hasKids=!0,i=-1,e=l;else{if(t&&a&pt.radio)continue;this._fields.push(o)}}if(0===n.length)break;var p=n.pop();e=p.fields,i=p.count+1}},e.prototype._isNode=function(e){var t=!1;if(Sa(e)&&e.length>0){var i=e[0],n=void 0;if(Sa(i)&&(i instanceof Va?n=i:i instanceof xa&&(n=this._crossReference._fetch(i))),n&&n.has("Subtype")){var o=n.get("Subtype");o&&"Widget"!==o.name&&(t=!0)}}return t},e.prototype._parseWidgetReferences=function(){var e=this;return void 0===this._widgetReferences&&this.count>0&&(this._widgetReferences=[],this._fields.forEach((function(t){var i=e._crossReference._fetch(t);if(i)if(i.has("Kids")){var n=i.get("Kids");n&&n.length>0&&n.forEach((function(t){var i;if(t&&t instanceof Va?i=t:t&&t instanceof xa&&(i=e._crossReference._fetch(t)),i&&i.has("Subtype")){var n=i.get("Subtype");n&&"Widget"===n.name&&e._widgetReferences.push(t)}}))}else e._widgetReferences.push(t)}))),this._widgetReferences},e.prototype._doPostProcess=function(e,t){for(var i=this.count-1;i>=0;i--){var n=this.fieldAt(i);if(n&&!n._isLoaded&&void 0!==n._tabIndex&&n._tabIndex>=0){var o=n._page;if(o&&o._pageDictionary.has("Annots")&&(o.tabOrder===dt.manual||this._tabOrder===dt.manual)){var r=o._pageDictionary.get("Annots"),a=new Fo(r,this._crossReference,o);o._annotations=a;for(var s=0;s<n.itemsCount;s++){var l=n.itemAt(s);if(l&&l instanceof Bo){var d=r.indexOf(l._ref);if(d<0&&(d=n._annotationIndex),d>=0){var h=o.annotations._reArrange(n._ref,n._tabIndex,d);o._pageDictionary.update("Annots",h),o._pageDictionary._updated=!0}}}}}n&&(t&&n.page===t||!t)&&(n._doPostProcess(e||n.flatten),(!e&&n.flatten||e&&t&&n.page===t)&&this.removeFieldAt(i))}},e.prototype._getFieldIndex=function(e){var t=-1;if(this.count>0){this._fieldNames||(this._fieldNames=[]),this._indexedFieldNames||(this._indexedFieldNames=[]),this._actualFieldNames||(this._actualFieldNames=[]),this._indexedActualFieldNames||(this._indexedActualFieldNames=[]);for(var i=0;i<this.count;i++){var n=this.fieldAt(i);if(n){var o=n.name;o&&(this._fieldNames.push(o),this._indexedFieldNames.push(o.split("[")[0]));var r=n.actualName;r&&(this._actualFieldNames.push(r),this._indexedActualFieldNames.push(r.split("[")[0]))}}var a=this._fieldNames.indexOf(e);(-1!==a||-1!==(a=this._indexedFieldNames.indexOf(e))||-1!==(a=this._actualFieldNames.indexOf(e))||-1!==(a=this._indexedActualFieldNames.indexOf(e)))&&(t=a)}return t},e.prototype._getFields=function(){for(var e=[],t=0;t<this._fields.length;t++){var i=this.fieldAt(t);i&&i instanceof Rn&&e.push(i)}return e},e.prototype._getOrder=function(e){if(e!==dt.none){var t="";return e===dt.row?t="R":e===dt.column?t="C":e===dt.structure&&(t="S"),va.get(t)}return null},e.prototype._compareFields=function(e,t){var i,n,o=0,r=e.page,a=t.page;if(r&&!r._isNew&&r instanceof Oo&&a&&!a._isNew&&a instanceof Oo){var s=this._sortItemByPageIndex(e,!1)._pageIndex,l=this._sortItemByPageIndex(t,!1)._pageIndex,d=void 0;d=e._dictionary.has("Kids")?this._getItemRectangle(e):this._getRectangle(e._dictionary);var h=void 0;h=t._dictionary.has("Kids")?this._getItemRectangle(t):this._getRectangle(t._dictionary);var A=d[3]-d[1],p=h[3]-h[1];if(d&&d.length>=2&&h&&h.length>=2){var c=d[0],g=d[1],u=h[0],f=h[1];if("number"==typeof c&&"number"==typeof u&&"number"==typeof g&&"number"==typeof f)if(n=s-l,this._tabOrder===dt.row){if(0!==(i=this._compare(f,g))){var m=-1===i&&g>f&&g-A/2<f;(m=m||1===i&&f>g&&f-p/2<g)&&(i=0)}o=0!==n?n:0!==i?i:this._compare(c,u)}else if(this._tabOrder===dt.column)i=this._compare(c,u),o=0!==n?n:0!==i?i:this._compare(f,g);else if((this._tabOrder===dt.manual||this._tabOrder===dt.none||this._tabOrder===dt.structure||this._tabOrder===dt.widget)&&e instanceof Rn&&t instanceof Rn){var w=e.tabIndex,y=t.tabIndex;i=this._compare(w,y),o=0!==n?n:i}}}return o},e.prototype._getRectangle=function(e){var t;return e&&e.has("Rect")&&(t=e.getArray("Rect")),t},e.prototype._getItemRectangle=function(e){var t,i=e._dictionary;if(i.has("Kids")){var n=i.getArray("Kids");Sa(n)&&n.length>=1&&(t=1===n.length?this._getRectangle(n[0]):e&&e.itemsCount>1?this._getRectangle(e.itemAt(0)._dictionary):this._getRectangle(n[0]))}return t},e.prototype._compare=function(e,t){return e>t?1:e<t?-1:0},e.prototype._compareKidsElement=function(e,t){var i,n=this._crossReference._fetch(e),o=this._crossReference._fetch(t),r=this._getRectangle(n),a=this._getRectangle(o);if(r&&r.length>=2&&a&&a.length>=2){var s=r[0],l=r[1],d=a[0],h=a[1];if("number"==typeof s&&"number"==typeof d&&"number"==typeof l&&"number"==typeof h){var A=void 0;return i=this._tabOrder===dt.row?0!==(A=this._compare(h,l))?A:this._compare(s,d):this._tabOrder===dt.column?0!==(A=this._compare(s,d))?A:this._compare(h,l):0}}return i},e.prototype._sortItemByPageIndex=function(e,t){var i=e.page,n=this._tabOrder;return this._tabOrder=t?e.page.tabOrder:n,this._sortFieldItems(e),e._isLoaded&&e._kidsCount>1&&(i=e.itemAt(0).page),this._tabOrder=n,void 0===i&&(i=e.page),i},e.prototype._sortFieldItems=function(e){var t=this;if(e._isLoaded&&(e instanceof Ln||e instanceof jn||e instanceof Un||e instanceof zn)){var i=e._parseItems();i.sort((function(e,i){return t._compareFieldItem(e,i)})),e._parsedItems.clear();for(var n=0;n<i.length;n++)e._parsedItems.set(n,i[Number.parseInt(n.toString(),10)])}},e.prototype._compareFieldItem=function(e,t){var i=0;if(void 0!==e&&void 0!==t){var n=e.page,o=t.page,r=this._getRectangle(e._dictionary),a=this._getRectangle(t._dictionary);if(r&&a){var s=r[0],l=r[1],d=a[0],h=a[1],A=void 0;this._tabOrder===dt.row?i=0!==(A=this._compare(n._pageIndex,o._pageIndex))||0!==(A=this._compare(h,l))?A:this._compare(s,d):this._tabOrder===dt.column&&(i=0!==(A=this._compare(n._pageIndex,o._pageIndex))||0!==(A=this._compare(s,d))?A:this._compare(h,l))}}return i},e.prototype._clear=function(){this._fields=[],this._parsedFields=new Map},e}(),Vs=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qs=function(e){function t(t){var i=e.call(this)||this;return i._annotationObjects=new Map,i._specialCharacters="",null!=t&&(i._fileName=t),i}return Vs(t,e),t.prototype._exportAnnotations=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!0,this._exportAnnotationData(e,e.pageCount),this._save()},t.prototype._exportFormFields=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._key=zr(),this._save()},t.prototype._save=function(){var e=this,t=0,i=[];if(!this._isAnnotationExport){this._asPerSpecification?(this.fdfString+="%FDF-1.2\n%"+this._specialCharacters+"\r\n1 0 obj\r<</FDF<</F(",this.fdfString+=this._fileName+")",this.fdfString+="/Fields["):this.fdfString+="%FDF-1.2\n";var n=this._document.form;if(null!=n){this._exportEmptyFields=n.exportEmptyFields;for(var o=this._document.form.count,r=0;r<o;r++){var a=this._document.form.fieldAt(r),s=this._exportFormFieldsData(a);if((a instanceof Ln||a instanceof jn||a instanceof Yn||a instanceof zn||a instanceof Un)&&t++,this._asPerSpecification)if(a instanceof Ln||a instanceof jn||a instanceof Yn){if(i.push(t),this.fdfString+="<</T("+a.name+")/V","string"==typeof s||Array.isArray(s)&&1===s.length)this.fdfString+="("+(Array.isArray(s)?s[0]:s)+")";else if(Array.isArray(s)){this.fdfString+="[";for(l=0;l<s.length;l++)this.fdfString+="("+s[Number.parseInt(l.toString(),10)]+")",l!==s.length-1&&(this.fdfString+=" ");this.fdfString+="]"}this.fdfString+=">>"}else(a instanceof zn||a instanceof Un)&&(i.push(t),this.fdfString+="<</T("+a.name+")/V/"+s+">>");else if(a instanceof Ln||a instanceof jn||a instanceof Yn){if(i.push(t),this.fdfString+=t+" 0 obj<</T <"+this._stringToHexString(a.name)+"> /V ","string"==typeof s||Array.isArray(s)&&1===s.length)this.fdfString+="<"+this._stringToHexString(Array.isArray(s)?s[0]:s)+">";else if(Array.isArray(s)){this.fdfString+="[";for(var l=0;l<s.length;l++)this.fdfString+="<"+this._stringToHexString(s[Number.parseInt(l.toString(),10)])+">",l!==s.length-1&&(this.fdfString+=" ");this.fdfString+="]"}this.fdfString+=" >>endobj\n"}else(a instanceof zn||a instanceof Un)&&(i.push(t),this.fdfString+=t+" 0 obj<</T <"+this._stringToHexString(a.name)+"> /V /",this.fdfString+=s+" >>endobj\n")}}if(this._asPerSpecification)this.fdfString+="]",this.fdfString+="/ID[]/UF("+this._fileName+")>>/Type/Catalog>>\rendobj\rtrailer\r\n<</Root 1 0 R>>\r\n",this.fdfString+="%%EOF\r\n";else{this.fdfString+=this._table.size+1+" 0 obj<</F <"+this._stringToHexString(this._fileName)+">  /Fields [";for(r=0;r<this._table.size;r++){null!=(a=this._document.form.fieldAt(r))&&a.export&&(this.fdfString+=i[Number.parseInt(r.toString(),10)]+" 0 R ")}this.fdfString+="]>>endobj\n",this.fdfString+=i.length+2+" 0 obj<</Version /1.4 /FDF "+(i.length+1)+" 0 R>>endobj\n",this.fdfString+="trailer\n<</Root "+(i.length+2)+" 0 R>>"}}var d=new ArrayBuffer(1*this.fdfString.length),h=new Uint8Array(d);return h.forEach((function(t,i){h[i]=e.fdfString.charCodeAt(i)})),h},t.prototype._importAnnotations=function(e,t){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._checkFdf(mr(t));var i=new Pa(t);this._isAnnotationImport=!0;var n=new Cs(new Ss(i),null,!0,!1);this._readFdfData(n),Sa(this._annotationObjects)&&this._annotationObjects.size>0&&this._annotationObjects.clear(),Sa(this._table)&&this._table.size>0&&this._table.clear()},t.prototype._importFormData=function(e,t){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._checkFdf(mr(t));var i=new Pa(t),n=new Cs(new Ss(i),null,!1,!1);this._readFdfData(n)},t.prototype._readFdfData=function(e){var t=this,i=e.getObject();if(this._isAnnotationImport){for(var n="";null!=i&&"EOF"!==i;)i instanceof Va||i instanceof Pa||i instanceof qa?(this._table.set(n,i),n=""):null!==i&&Number.isInteger(i)&&0!==i?e.first>=0&&(n=i.toString()+" "+e.first.toString()):i instanceof Ea&&null!==i.command&&void 0!==i.command&&"trailer"===i.command&&(n=i.command),i=e.getObject();if(this._annotationObjects=this._parseAnnotationData(),this._annotationObjects.forEach((function(e,i){var n=e;if(n._crossReference=t._crossReference,n._updated=!0,n&&n.has("Page")){var o=n.get("Page");if(null!=o){var r=o;if(r<t._document.pageCount){var a=t._document.getPage(r),s=a._pageDictionary;if(s){var l=a.annotations,d=l._parseAnnotation(n);if(null!=d){d._isImported=!0;var h=t._crossReference._getNextReference();t._crossReference._cacheMap.set(h,n),(n.has("NM")||n.has("IRT"))&&t._addReferenceToGroup(h,n),d._ref=h;var A=l._annotations.length;l._annotations.push(h),l._comments&&l._comments.length>0&&(l._comments=[]),s.set("Annots",l._annotations),s._updated=!0,l._parsedAnnotations.set(A,d),t._handlePopup(l,h,n,s)}}}}}})),this._groupHolders&&this._groupHolders.length>0)for(var o=0;o<this._groupHolders.length;o++){var r=this._groupHolders[Number.parseInt(o.toString(),10)];if(r&&r.has("IRT")){var a=r.get("IRT");a&&(this._groupReferences&&this._groupReferences.has(a)?r.update("IRT",this._groupReferences.get(a)):delete r._map.IRT)}}this._groupHolders=[],this._groupReferences=new Map}else{if(i=e.getObject(),this._asPerSpecification)for(;null!=i&&"EOF"!==i;){if(i instanceof Va&&null!==i&&null!==i._map.FDF&&void 0!==i._map.FDF&&(i=i._map.FDF)instanceof Va&&null!==i._map.Fields&&void 0!==i._map.Fields&&null!=(i=i._map.Fields))for(o=0;o<i.length;o++){var s=i[Number.parseInt(o.toString(),10)];if(s instanceof Va&&null!=s){l=s.getArray("T"),d=void 0;d=s._map.V instanceof va?s.getArray("V").name:s.getArray("V"),null!=l&&l.length>0&&this._table.set(l,d)}}i=e.getObject()}else for((i=e.getObject())instanceof Ea&&null!==i.command&&(i=i.command);null!=i&&"EOF"!==i;){if(i instanceof Va){var l=i.getArray("T"),d=void 0;d=i._map.V instanceof va?i.getArray("V").name:i.getArray("V"),null!=l&&l.length>0&&this._table.set(l,d)}i=e.getObject()}this._importField()}},t.prototype._parseAnnotationData=function(){var e=new Map,t=new Map;if(null!=(e=this._table)&&e.size>0&&e.has("trailer")){var i=e.get("trailer");if(i instanceof Va&&null!=i&&i.has("Root")){var n=i.getRaw("Root");if(null!=n){var o=n.objectNumber.toString()+" "+n.generationNumber.toString();if(e.has(o)){var r=e.get(o);if(null!=r&&r.has("FDF")){var a=r.get("FDF");if(null!=a&&a.has("Annots")){var s=a.get("Annots");if(null!=s&&s.length>0)for(var l=0;l<s.length;l++){var d=s[Number.parseInt(l.toString(),10)],h=d.objectNumber.toString()+" "+d.generationNumber.toString();e.has(h)&&(d=e.get(h),t.set(h,d),e.delete(h))}}}}e.delete(o)}}e.delete("trailer")}return t},t.prototype._importField=function(){var e=this,t=this._document.form,i=t.count;i&&this._table.forEach((function(n,o){var r;e._table.size>0&&e._table.has(o)&&(r=e._table.get(o));var a=t._getFieldIndex(o);if(-1!==a&&a<i){var s=t.fieldAt(a);if(s){r&&""!==r&&s._dictionary.update("RV",r);var l=[];Array.isArray(n)?l=n:l.push(n),e._importFieldData(s,l)}}}))},t.prototype._exportAnnotationData=function(e,t){var i=_i._whiteSpace+"0"+_i._whiteSpace,n="<</";this.fdfString+="%FDF-1.2\r\n";for(var o=2,r=new Array,a=this.exportAppearance,s=0;s<t;s++){var l=e.getPage(s);if(null!=l&&l.annotations.count>0)for(var d=0;d<l.annotations.count;d++){var h,A=l.annotations.at(d);if(null!=A&&!(A instanceof lo||A instanceof po||A instanceof Ao||A instanceof ho))if(A instanceof mo||A instanceof io)o=(h=this._exportAnnotation(A,this.fdfString,o,r,s,!0)).index,r=h.annot;else o=(h=this._exportAnnotation(A,this.fdfString,o,r,s,a)).index,r=h.annot}}if(2!==o){var p="1"+i;this.fdfString+=p+"obj\r\n"+n+"FDF"+n+"Annots[";for(s=0;s<r.length-1;s++)this.fdfString+=r[Number.parseInt(s.toString(),10)]+i+"R ";this.fdfString+=r[r.length-1]+i+"R]/F("+this._fileName+")/UF(",this.fdfString+=this._fileName+")>>/Type/Catalog>>\r\nendobj\r\n",this.fdfString+="trailer\r\n<</Root "+p+"R>>\r\n%%EOF\r\n"}},t.prototype._exportAnnotation=function(e,t,i,n,o,r){this.fdfString=t;var a=new Fs,s=e._dictionary,l=_i._whiteSpace+"0"+_i._whiteSpace+"obj\r\n",d="\r\nendobj\r\n";this._annotationID=i.toString(),this.fdfString+=i+l+"<<";var h=new Map,A=new Array;n.push(this._annotationID),s.set("Page",o);var p=this._getEntries(h,A,i,s,this.fdfString,r);i=p.index,h=p.list,A=p.streamReference,delete s._map.Page,this.fdfString+=">>"+d;for(var c=function(){var e=Array();h.forEach((function(t,i){e.push(i)}));for(var t=0;t<e.length;t++){var a=e[Number.parseInt(t.toString(),10)];if((h.get(a)instanceof Va||h.get(a)instanceof Pa||h.get(a)instanceof qa)&&null!=(s=h.get(a)instanceof Va?h.get(a):h.get(a).dictionary)){if(s instanceof Va&&s.has("Type")){var p=s.get("Type");null!=p&&"Annot"===p.name&&(n.push(a.toString()),s.set("Page",o))}g.fdfString+=a+l+"<<";var c=g._getEntries(h,A,i,s,g.fdfString,r);h=c.list,A=c.streamReference,i=c.index,s instanceof Va&&s.has("Page")&&delete s._map.Page,g.fdfString+=">>",null!=A&&-1!==A.indexOf(a)&&g._appendStream(h.get(a),g.fdfString),g.fdfString+=d}h.delete(a)}},g=this;h.size>0;)c();return i++,a.index=i,a.annot=n,a},t.prototype._appendStream=function(e,t){var i=e;if(this.fdfString=t,(e instanceof qa||e instanceof Pa)&&(i=e instanceof qa?e.stream:e),e instanceof qa||e instanceof Pa){var n=i.getBytes(),o=new Uint8Array(n),r=new tr.CompressedStreamWriter;r.write(o,0,o.length),r.close();var a=r.getCompressedString;this.fdfString+="stream\r\n",this.fdfString+=a,this.fdfString+="\r\nendstream"}},t.prototype._getEntries=function(e,t,i,n,o,r){var a=this,s=!1,l=new Fs;this.fdfString=o;var d=e;return n.forEach((function(e,o){if(r||"AP"!==e){"P"!==e&&(a.fdfString+="/"+e),("Sound"===e||"F"===e||r)&&(s=!0);var l=o;if("string"==typeof l)a.fdfString+="("+a._getFormattedString(l)+")";else if(l instanceof va)a.fdfString+="/"+l.name;else if(l instanceof Array){var h=a._appendArray(l,a.fdfString,i,s,d,t);d=h.list,t=h.streamReference,i=h.index}else if("number"==typeof l)a.fdfString+=" "+l.toString();else if("boolean"==typeof l)a.fdfString+=" "+(l?"true":"false");else if(l instanceof Va){a.fdfString+="<<";var A=a._getEntries(d,t,i,l,a.fdfString,r);d=A.list,t=A.streamReference,i=A.index,a.fdfString+=">>"}else if(l instanceof xa){var p=n.get("Page");if("Parent"===e)a.fdfString+=" "+a._annotationID+" 0 R",a.fdfString+="/Page "+p;else if("IRT"===e){if(a._crossReference&&a._crossReference._fetch&&l){var c=a._crossReference._fetch(l);if(c&&c.has("NM")){var g=c.get("NM");null!=g&&(a.fdfString+="("+a._getFormattedString(g)+")")}}}else if("P"!==e){var u=l;null!=u&&(i++,a.fdfString+=" "+i+" 0 R",s&&t.push(i),d.set(i,n.get(e)))}}s=!1}})),l.list=d,l.streamReference=t,l.index=i,l},t.prototype._appendArray=function(e,t,i,n,o,r){this.fdfString=t,this.fdfString+="[";var a=new Fs,s=o;if(Sa(e)&&e.length>0)for(var l=e.length,d=0;d<l;d++){var h=e[Number.parseInt(d.toString(),10)];0!==d&&("number"==typeof h||h instanceof xa||"boolean"==typeof h)&&(this.fdfString+=" ");var A=this._appendElement(h,this.fdfString,i,n,s,r);s=A.list,r=A.streamReference,i=A.index}return this.fdfString+="]",a.list=s,a.streamReference=r,a.index=i,a},t.prototype._appendElement=function(e,t,i,n,o,r){this.fdfString=t;var a=new Fs,s=o;if("number"==typeof e)this.fdfString+=e.toString();else if(e instanceof va)this.fdfString+=e.name.toString();else if(e instanceof Array){s=(l=this._appendArray(e,this.fdfString,i,n,s,r)).list,r=l.streamReference,i=l.index}else if(e instanceof Va){var l;this.fdfString+="<<",s=(l=this._getEntries(s,r,i,e,this.fdfString,n)).list,r=l.streamReference,i=l.index,this.fdfString+=">>"}return a.list=s,a.streamReference=r,a.index=i,a},t.prototype._getFormattedString=function(e){for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);40!==n&&41!==n||(t+="'"),t+=String.fromCharCode(n)}return t},t.prototype._checkFdf=function(e){if(((e.includes(this._specialCharacters)||e.includes(""))&&(this._asPerSpecification=!0),e.startsWith("%"))&&"FDF-"!==e.substring(1,5))throw new Error("Invalid FDF file.")},t.prototype._stringToHexString=function(e){var t="";null!=e&&e.length>0&&(t=Sr(cr(e)));return t},t}(_n),Fs=function(){},Ts=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ks=function(e){function t(t){var i=e.call(this)||this;return null!=t&&(i._fileName=t),i}return Ts(t,e),t.prototype._exportAnnotations=function(){throw new Error("Method not implemented.")},t.prototype._exportFormFields=function(e){return this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1,this._format="XML",this._key=zr(),this._save()},t.prototype._save=function(){var e=new In;e._writeStartDocument(),this._asPerSpecification?(e._writeStartElement("fields"),e._writeAttributeString("xfdf","http://ns.adobe.com/xfdf-transition/","xmlns",null)):e._writeStartElement("Fields");var t=this._document.form;if(null!=t){this._exportEmptyFields=t.exportEmptyFields;for(var i=this._document.form.count,n=0;n<i;n++){var o=this._document.form.fieldAt(n);null!=o&&o.export&&this._exportFormFieldData(o)}this._writeFormFieldData(e,this._asPerSpecification)}var r=e._save();return e._destroy(),r},t.prototype._writeFormFieldData=function(e,t){void 0===t&&(t=!1),t?this._table.forEach((function(t,i){if(i.includes(" ")){var n=i.replace(/ /g,"");e._writeStartElement(n.toString()),e._writeAttributeString("original",i.toString(),"xfdf",null)}else e._writeStartElement(i.toString());e._writeString(t.toString()),e._writeEndElement()})):this._table.forEach((function(t,i){i.includes(" ")&&(i=i.replace(/ /g,"_x0020_")),e._writeStartElement(i.toString()),e._writeString(t.toString()),e._writeEndElement()})),e._writeEndElement()},t.prototype._importFormData=function(e,t){this._document=e,this._crossReference=e._crossReference,this._isAnnotationExport=!1;var i=mr(t);i=(i=i.replace(/(\r\n|\n|\r)/gm,"")).replace(/[^\x20-\x7E]/g,""),this._xmlDocument=(new DOMParser).parseFromString(i,"text/xml"),this._checkXml(this._xmlDocument),this._xmlImport=!0,this._parseFormData(this._xmlDocument.documentElement),this._xmlImport=!1},t.prototype._parseFormData=function(e){var t=e.childNodes;if(null!=t&&t.length>0)for(var i=0;i<t.length;i++){var n=t.item(i);if(null!=n&&1===n.nodeType){var o=n,r="";if(null!==o.attributes&&void 0!==o.attributes&&o.attributes.length>0){var a=o.attributes.item(0);null!=a&&"xfdf:original"===a.name&&(r=a.value)}else r=o.tagName;var s=o.textContent;null!=r&&r.length>0&&this._table.set(r,s)}}this._importField()},t.prototype._importField=function(){var e=this,t=this._document.form,i=t.count;i&&this._table.forEach((function(n,o){var r;e._table.size>0&&e._table.has(o)&&(r=e._table.get(o));var a=o.toString();-1!==a.indexOf("_x0020_")&&(a=a.replace(/_x0020_/g," "));var s=t._getFieldIndex(a);if(-1!==s&&s<i){var l=t.fieldAt(s);if(l&&null!=l){r&&""!==r&&l._dictionary.update("RV",r);var d=[];d.push(n),e._importFieldData(l,d)}}}))},t.prototype._checkXml=function(e){if(e.getElementsByTagName("parsererror").length>0)throw new Error("Invalid XML file.")},t}(_n),Ps=function(){function e(){this._incrementalUpdate=!0}return Object.defineProperty(e.prototype,"crossReferenceType",{get:function(){return this._crossReferenceType},set:function(e){this._crossReferenceType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isIncrementalUpdate",{get:function(){return this._incrementalUpdate},set:function(e){this._incrementalUpdate=e},enumerable:!0,configurable:!0}),e}(),Ns=function(){function e(){this._optimizeResources=!0,this._groupFormFields=!1}return Object.defineProperty(e.prototype,"targetIndex",{get:function(){return this._targetIndex},set:function(e){this._targetIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"optimizeResources",{get:function(){return this._optimizeResources},set:function(e){this._optimizeResources=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupFormFields",{get:function(){return this._groupFormFields},set:function(e){this._groupFormFields=e},enumerable:!0,configurable:!0}),e}(),Rs=function(){function e(e,t,i,n,o){this._namedDestinations=[],this._bookmarks=[],this._fields=[],this._pageReference=new Map,this._bookmarksPageLinkReference=new Map,this._destination=[],this._newList=new Map,this._annotationLayer=new Map,this._isLayersPresent=!1,this._fieldNames=[],this._options=new Ns,this._kidsReference=[],this._formFieldsCollection=new Map,this._formFields=[],this._isDuplicatePage=!1,this._fieldCount=0,this._crossReference=e,this._destinationDocument=t,this._sourceDocument=i,this._pageReference=n,void 0!==o&&(this._options=o),this._copier=new Ls(this._crossReference,this._sourceDocument._crossReference)}return e.prototype._importPages=function(e,t,i,n,o,r){var a,s,l=this,d=e._pageDictionary;if(this._isDuplicatePage=n,this._options.rotation=o?o.rotation:e.rotation,s="number"==typeof t?this._insertNewPage(e,t):this._isDuplicatePage?this._insertNewPage(e,e._pageIndex+1):this._insertNewPage(e),(n||r)&&this._options.optimizeResources){var h=[];d.forEach((function(e,t){if("Contents"===e&&0===h.length){var i=t;if(i instanceof xa){var n=r?l._copier._copy(i):i;s._pageDictionary.update(e,n)}else if(i instanceof Array){for(var o=0;o<i.length;o++){var a=r?l._copier._copy(i[Number.parseInt(o.toString(),10)]):i[Number.parseInt(o.toString(),10)];h.push(a)}s._pageDictionary.update(e,h)}}else if("Resources"===e&&t){var d=r?l._copier._copy(t):t;d&&s._pageDictionary.update(e,d)}else"Resources"!==e&&"MediaBox"!==e&&"CropBox"!==e&&"Parent"!==e&&"Annots"!==e&&"Contents"!==e&&"Rotate"!==e&&s._pageDictionary.update(e,t)}))}else a=e._contentTemplate,s.graphics.drawTemplate(a,{x:0,y:0,width:a._size[0],height:a._size[1]}),a._content.dictionary.update("Resources",this._copier._copy(d.getRaw("Resources"))),this._pageReference.set(d,s),n||this._bookmarksPageLinkReference.set(e._ref,s._pageIndex);if(d.has("Annots")&&(this._importAnnotation(e,s),void 0!==this._options&&this._options.groupFormFields&&this._sourceDocument._catalog._catalogDictionary.has("AcroForm")?this._formFieldsGroupingSupport(this._sourceDocument.form,e,s):this._sourceDocument._catalog._catalogDictionary.has("AcroForm")&&this._importFormField(e,this._sourceDocument.form,s,this._sourceDocument._crossReference)),!n){var A=this._sourceDocument._parseBookmarkDestination();if(A&&A.has(e))for(var p=A.get(e),c=0;c<p.length;c++)this._bookmarks.push(p[Number.parseInt(c.toString(),10)])}(!n&&i||!this._options.optimizeResources)&&this._mergeLayer(s._pageDictionary,d,this._sourceDocument._crossReference),s._pageDictionary._updated=!0},e.prototype._importAnnotation=function(e,t){for(var i,n=[],o=!1,r=e.annotations,a=r.count,s=0;s<a;s++){var l=r._annotations[Number.parseInt(s.toString(),10)];if(l){var d=this._sourceDocument._crossReference._fetch(l);if(d){if(d.has("Dest")){i=[];var h=d.get("Dest"),A=d._get("Dest");if(h instanceof Array){for(var p=h,c=0;c<p.length;c++)i.push(p[Number.parseInt(c.toString(),10)]);o=!0}else A instanceof xa&&i.push(A)}if(i&&i.length>0&&this._destination.push(i),d.has("OC")){var g=d.getRaw("OC");g instanceof xa&&this._annotationLayer.set(s,g)}var u=this._copier._copy(l),f=this._destinationDocument._crossReference._fetch(u);o&&f.update("Dest",i),f.update("P",t._ref),this._crossReference._cacheMap.set(u,f),n.push(u)}}o=!1,i=[]}n.length>0&&t._pageDictionary.update("Annots",n)},e.prototype._formFieldsGroupingSupport=function(e,t,i){var n,o=[],r=[],a=[],s=e._dictionary.get("DR");if(e._dictionary.has("DR")&&(s=e._dictionary.get("DR")),i._pageDictionary.has("Annots")&&(o=i._pageDictionary.get("Annots")),t._pageDictionary.has("Annots")&&(a=t._pageDictionary.get("Annots")),!this._isDuplicatePage){n=this._destinationDocument.form,this._fieldCount=n.count;for(var l=0;l<this._fieldCount;l++)r.push(n.fieldAt(l).name)}for(var d=0;d<e.count;d++){var h=e.fieldAt(d),A=void 0,p=[],c=h._dictionary.get("Kids");if(-1!==r.indexOf(h.name)||this._isDuplicatePage){if(this._isDuplicatePage?(A=h,p=c):(A=n.fieldAt(r.indexOf(h.name)))._dictionary.get("Kids")&&(p=A._dictionary.get("Kids")),h._isDuplicatePage=!0,h instanceof Gn&&A instanceof Gn||!(h instanceof Gn))if(void 0!==c&&c.length>0)for(var g=0;g<c.length;g++){var u=h.itemAt(g);u.page===t&&(A._page=i,o=this._groupFormFieldsKids(A,h,a,p,c,i._ref,o,g,d,s,u))}else o=this._groupFormFieldsKids(A,h,a,p,c,i._ref,o,0,d,s)}else o=this._insertFormFields(d,e._crossReference,h,e,i._ref,o,a)}o.length>0&&i._pageDictionary.update("Annots",o)},e.prototype._groupFormFieldsKids=function(e,t,i,n,o,r,a,s,l,d,h){if(t._dictionary.has("Kids")&&e._dictionary.has("Kids")){if(-1!==i.indexOf(o[Number.parseInt(s.toString(),10)])){var A=t._crossReference._fetch(o[Number.parseInt(s.toString(),10)]),p=this._copier._copyDictionary(A,!this._isDuplicatePage);p.update("P",r);var c=this._crossReference._getNextReference();this._crossReference._cacheMap.set(c,p),a.push(c),p.update("Parent",e._ref),n.push(c),p._updated=!0,e._dictionary._updated=!0,this._isDuplicatePage||((e instanceof Ln||e instanceof On||e instanceof Yn)&&p.has("AS")&&delete p._map.AS,this._createAppearance(e,t,A,p,d,h))}}else if(t._dictionary.has("Kids")&&!e._dictionary.has("Kids")||this._isDuplicatePage){var g=this._copier._copyDictionary(e._dictionary,!this._isDuplicatePage);this._updateFieldsWithKids(e,t,g,s,l,r,o,a,d,e._dictionary)}else if(!t._dictionary.has("Kids")&&e._dictionary.has("Kids")){var u=this._copier._copyDictionary(t._dictionary);this._updateFieldDictionary(u,r,e._ref);c=this._crossReference._getNextReference();this._crossReference._cacheMap.set(c,u),n.push(c),a.push(c),e._dictionary._updated=!0,this._createAppearance(e,t,t._dictionary,u,d,h)}else if(!t._dictionary.has("Kids")&&!e._dictionary.has("Kids")){g=this._copier._copyDictionary(e._dictionary);var f=this._copier._copyDictionary(t._dictionary,!this._isDuplicatePage);this._removeFieldDictionary(f,["Parent","FT","T","Ff"]),f.update("P",r),this._updateFieldsWithKids(e,t,g,s,l,r,o,a,d,f)}return a},e.prototype._updateFieldsWithKids=function(e,t,i,n,o,r,a,s,l,d){var h=this._crossReference._getNextReference(),A=this._createNewFieldDictionary(i,e._dictionary);A.objId=h.toString(),this._crossReference._cacheMap.set(h,A);var p,c=this._destinationDocument.form._parseFields(A,h);e._dictionary.update("Parent",h),c._dictionary._updated=!0,this._updateFieldDictionary(i,r,h),this._destinationDocument.form._dictionary._updated=!0,p=void 0!==a&&a.length>0?t._crossReference._fetch(a[Number.parseInt(n.toString(),10)]):d;var g=this._copier._copyDictionary(p,!this._isDuplicatePage);(e instanceof Ln||e instanceof On||e instanceof Yn)&&g.has("AS")&&delete g._map.AS;var u=this._crossReference._getNextReference();this._crossReference._cacheMap.set(u,g),g.update("P",r),s.push(u),g.update("Parent",c._ref);var f=[];f.push(e._ref),f.push(u),g._updated=!0,e._dictionary._updated=!0,A.update("Kids",f),c._kids=f,this._formFieldsCollection.set(o,h),this._destinationDocument.form._parsedFields.set(o,c),this._isDuplicatePage||this._createAppearance(c,t,p,g,l),A._updated=!0},e.prototype._removeFieldDictionary=function(e,t){return t.forEach((function(t){e.has(t)&&delete e._map[t]})),e},e.prototype._updateFieldDictionary=function(e,t,i){(e=this._removeFieldDictionary(e,["Parent","FT","T","Ff"])).update("P",t),e.update("Parent",i),e._updated=!0},e.prototype._createNewFieldDictionary=function(e,t){var i=new Va(this._crossReference);return["Parent","FT","T","V","Ff","TU","Opt","I"].forEach((function(n){e.has(n)&&(i.update(n,e.get(n)),delete e._map[n],delete t._map[n])})),i},e.prototype._getItemStyle=function(e,t){var i=e._dictionary.get("MK");i&&i.has("CA")?e._styleText=i.get("CA").charAt(0):e._styleText=t instanceof zn?"l":"4"},e.prototype._createAppearance=function(e,t,i,n,o,r){var a,s=e._kidsCount-1;if(e instanceof Un)(l=e.itemAt(s))._enableGrouping=!0,this._getItemStyle(l,e),t instanceof zn?(l._dictionary.update("AS",va.get("Off")),a=Jr(i)):l._postProcess(e.checked?"Yes":"Off"),e._drawAppearance(l,a);else if(e instanceof zn){var l=e.itemAt(s);this._getItemStyle(l,e),l._dictionary.has("AS")?l._postProcess(l._dictionary.get("AS").name):l._postProcess("Off"),l._enableGrouping=!0,e._enableGrouping=!0,e._drawAppearance(l)}else if(e instanceof Hn){l=e.itemAt(s);if(void 0!==r&&(l.rotationAngle=r.rotationAngle),l&&!e._checkFieldFlag(l._dictionary)){l._enableGrouping=!0;var d=e._createAppearance(l);e._addAppearance(l._dictionary,d,"N"),l._dictionary._updated=!0}}else if(e instanceof Ln||e instanceof On||e instanceof Gn){var h=Bo._load(n,this._crossReference);if(null!=r&&e instanceof Gn)e._createAppearance(r,!1);else{h.setAppearance(!0),h._enableGrouping=!0;var A=void 0;A=null!=r?this._obtainFont(r._dictionary,o):this._obtainFont(n,o),h._pdfFont=A,e instanceof Gn?e._createAppearance(h,!1):e._postProcess(!1,h)}}},e.prototype._obtainFont=function(e,t){var i,n="",o=8;if(e&&(e.has("DS")||e.has("DA")))if(e.has("DS"))for(var r=e.get("DS").split(";"),a=0;a<r.length;a++){var s=r[Number.parseInt(a.toString(),10)].split(":");if(-1!==r[Number.parseInt(a.toString(),10)].indexOf("font-family"))n=s[1];else if(-1===r[Number.parseInt(a.toString(),10)].indexOf("font-style")&&-1!==r[Number.parseInt(a.toString(),10)].indexOf("font")){for(var l=s[1].split(" "),d=0;d<l.length;d++)""===l[Number.parseInt(d.toString(),10)]||l[Number.parseInt(d.toString(),10)].endsWith("pt")||(n+=l[Number.parseInt(d.toString(),10)]+" ");for(;" "!==n&&n.endsWith(" ");)n=n.substring(0,n.length-2);-1!==n.indexOf(",")&&(n=n.split(",")[0])}}else{var h=e.get("DA");if(h&&""!==h&&-1!==h.indexOf("Tf")){var A=h.split(" ");for(a=0;a<A.length;a++)if(-1!==A[Number.parseInt(a.toString(),10)].indexOf("Tf")){for(n=A[a-2];""!==n&&n.length>1&&"/"===n[0];)n=n.substring(1);o=Number.parseFloat(A[a-1])}0===o&&(o=8)}}n=n.trim();var p,c=vi.regular;if(void 0!==t&&t.has("Font")){var g=t.get("Font").get(n);void 0!==g&&(p=g.get("BaseFont").name,c=this._getFontStyle(p))}switch(n){case"Helv":default:i=new nn(Ei.helvetica,o,c);break;case"Courier":case"Cour":i=new nn(Ei.courier,o,c);break;case"Symb":i=new nn(Ei.symbol,o,c);break;case"TiRo":case"TiIt":i=new nn(Ei.timesRoman,o,c);break;case"ZaDb":i=new nn(Ei.zapfDingbats,o,c)}return i},e.prototype._getFontStyle=function(e){var t=vi.regular;return e.includes("Bold")?t=vi.bold:e.includes("Italic")&&(t=vi.italic),t},e.prototype._importFormField=function(e,t,i,n){var o=this._destinationDocument.form,r=[];i&&i._pageDictionary&&i._pageDictionary.has("Annots")&&(r=i._pageDictionary.get("Annots"));var a=[],s=[];if(this._destinationDocument.form._dictionary.has("Fields")){var l=this._destinationDocument.form;this._fieldCount=l.count;for(var d=0;d<this._fieldCount;d++){var h=l.fieldAt(d).name;this._fieldNames.push(h)}}e._pageDictionary.has("Annots")&&(s=e._pageDictionary.get("Annots"));for(var A=t.count,p=0;p<A;++p){var c=t.fieldAt(p);if(c._dictionary.has("Kids"))if((a=c._dictionary.get("Kids")).length>1)for(var g=0;g<a.length;g++){if(c.itemAt(g).page===e){r=this._insertFormFields(p,n,c,o,i._ref,r,s);break}}else 1===a.length&&c.page===e&&(r=this._insertFormFields(p,n,c,o,i._ref,r,s));else c.page===e&&(r=this._insertFormFields(p,n,c,o,i._ref,r,s))}if(t._dictionary.has("DR")){var u=t._dictionary.get("DR"),f=this._copier._copyDictionary(u),m=void 0;if(f.has("Font")&&(m=f.get("Font")),this._destinationDocument.form._dictionary.has("DR")){var w=this._destinationDocument.form._dictionary.get("DR");if(w.has("Font")){var y=w.get("Font");m&&m.forEach((function(e,t){y.set(e,t)})),y._updated=!0}}else this._destinationDocument.form._dictionary.update("DR",f)}r.length>0&&i._pageDictionary.update("Annots",r)},e.prototype._insertFormFields=function(e,t,i,n,o,r,a){var s=new Va;i._dictionary.has("Kids")?i._dictionary.forEach((function(e,t){"Kids"!==e&&s.update(e,t)})):s=this._copier._copyDictionary(i._dictionary);var l=this._crossReference._getNextReference();s.objId=l.toString();var d=n._parseFields(s,o);if(this._crossReference._cacheMap.set(l,d._dictionary),i._dictionary.has("Kids")){for(var h=i._dictionary.get("Kids"),A=[],p=0;p<h.length;p++)if(-1!==a.indexOf(h[Number.parseInt(p.toString(),10)])){var c=i._crossReference._fetch(h[Number.parseInt(p.toString(),10)]),g=this._copier._copyDictionary(c);g.update("P",o),g.update("Parent",l),g._updated=!0;var u=this._crossReference._getNextReference();this._crossReference._cacheMap.set(u,g),r.push(u),A.push(u)}s.update("Kids",A),d._kids=A}else d._dictionary.update("P",o),r.push(l);d._dictionary._updated=!0;for(var f=0,m=d.name,w=!1;-1!==this._fieldNames.indexOf(m);)m=d.name+f,w=!0,++f;return w&&(d._dictionary.update("T",m),d._name=m),d._dictionary._updated=!0,this._fieldCount>0?(this._destinationDocument.form._parsedFields.set(this._fieldCount,d),d._annotationIndex=this._fieldCount,this._fieldCount++):(this._destinationDocument.form._parsedFields.set(e,d),d._annotationIndex=e),this._destinationDocument.form._fields.push(l),r},e.prototype._mergeFormFieldsWithDocument=function(){var e;this._formFieldsCollection.size>0?(e=this._destinationDocument.form._dictionary.get("Fields"),this._formFieldsCollection.forEach((function(t,i){e[Number.parseInt(i.toString(),10)]=t}))):e=this._destinationDocument.form._fields,this._destinationDocument.form._dictionary.get("NeedAppearances")&&this._destinationDocument.form._dictionary.set("NeedAppearances",!1),this._destinationDocument.form._dictionary.set("Fields",e),this._destinationDocument.form._fields=e,this._destinationDocument.form._dictionary._updated=!0},e.prototype._importLayers=function(e,t){if(this._isLayersPresent=t,this._isLayersPresent&&this._destinationDocument._catalog._catalogDictionary.has("OCProperties")){var i=this._destinationDocument._catalog._catalogDictionary.get("OCProperties"),n=e.get("OCProperties");if(i.has("OCGs")){var o=i.get("OCGs"),r=n.get("OCGs");if(o.length>0)for(var a=0;a<r.length;a++)o.push(r[Number.parseInt(a.toString(),10)])}if(i._updated=!0,i.has("D")&&n.has("D")){var s=i.get("D"),l=n.get("D");if(s&&l){if(s.has("Order")&&l.has("Order")){var d=s.get("Order"),h=l.get("Order");if(d.length>0&&h.length>0)for(a=0;a<h.length;a++)d.push(h[Number.parseInt(a.toString(),10)])}else l.has("Order")&&s.set("Order",l.get("Order"));if(s.has("RBGroups")&&l.has("RBGroups")){var A=s.get("RBGroups"),p=l.get("RBGroups");if(A.length>0&&p.length>0)for(a=0;a<p.length;a++)A.push(p[Number.parseInt(a.toString(),10)])}else l.has("RBGroups")&&(s.set("RBGroups",l.get("RBGroups")),s._updated=!0);if(s.has("ON")&&l.has("ON")){var c=s.get("ON"),g=l.get("ON");if(c.length>0&&g.length>0)for(a=0;a<g.length;a++)c.push(g[Number.parseInt(a.toString(),10)])}else l.has("ON")&&s.set("ON",l.get("ON"));if(s.has("AS")&&l.has("AS")){var u=s.get("AS"),f=l.get("AS");if(u.length>0&&f.length>0){var m=f[0],w=u[0];if(m instanceof xa&&w instanceof xa&&(m=this._crossReference._fetch(m),w=this._crossReference._fetch(w)),m.has("OCGs")&&w.has("OCGs")){var y=m.get("OCGs"),S=w.get("OCGs");if(y.length>0&&S.length>0)for(a=0;a<y.length;a++)S.push(y[Number.parseInt(a.toString(),10)])}for(a=0;a<f.length;a++)u.push(f[Number.parseInt(a.toString(),10)])}}else l.has("AS")&&s.set("AS",l.get("AS"));if(s.has("OFF")&&l.has("OFF")){var C=s.get("OFF"),B=l.get("OFF");if(C.length>0&&B.length>0)for(a=0;a<B.length;a++)C.push(B[Number.parseInt(a.toString(),10)])}else l.has("OFF")&&s.set("OFF",l.get("OFF"))}if(s.has("Locked")&&l.has("Locked")){var I=s.get("Locked"),b=l.get("Locked");if(I.length>0&&b.length>0)for(a=0;a<b.length;a++)I.push(b[Number.parseInt(a.toString(),10)])}else l.has("Locked")&&s.set("Locked",l.get("Locked"))}else n.has("D")&&i.set("D",n.get("D"));i._updated=!0,this._destinationDocument._catalog._catalogDictionary._updated=!0,this._crossReference._allowCatalog=!0}else this._isLayersPresent&&(this._destinationDocument._catalog._catalogDictionary.update("OCProperties",e.get("OCProperties")),this._destinationDocument._catalog._catalogDictionary._updated=!0,this._crossReference._allowCatalog=!0)},e.prototype._mergeLayer=function(e,t,i){var n,o,r,a=this,s=e.get("Resources").get("XObject");s&&s.forEach((function(e,t){n=a._crossReference._fetch(t)})),n&&(o=n.dictionary.get("Resources"));var l=new Map,d=t.get("Resources");if(d.has("Properties")){d.get("Properties").forEach((function(e,t){l.set(e,t)}));var h=new Va(this._crossReference);l.forEach((function(e,t){a._newList.forEach((function(i,n){e===n&&h.set(t,i)}))})),o.set("Properties",h),o._updated=!0,h._updated=!0}else d.has("XObject")&&(r=o.get("XObject"),d.get("XObject").forEach((function(e,t){t instanceof xa&&i._fetch(t).dictionary.forEach((function(t,i){"OC"===t&&a._newList.forEach((function(n,o){if(o===i&&r.has(e)){var a=r.get(e);a.dictionary.set(t,n),a._updated=!0}}))}))})));if(this._annotationLayer.size>0){var A=e._get("Annots");this._annotationLayer.forEach((function(e,t){var i=A[Number.parseInt(t.toString(),10)],n=a._crossReference._fetch(i);a._newList.forEach((function(t,i){e===i&&n.set("OC",t)}))}))}},e.prototype._exportBookmarks=function(e,t){var i=this;if(this._bookmarks.length>0){var n=this._bookmarks,o=this._destinationDocument.bookmarks,r=e.bookmarks,a=void 0;if(r){var s=[],l={index:0,base:o,kids:r._bookMarkList};e.pageCount!==t&&(l={index:0,base:o,kids:n},a=[]);do{for(var d=function(){if(r=l.kids[l.index],-1!==n.indexOf(r)&&void 0!==a&&-1===a.indexOf(r.title)){var d=r,A=o.add(d.title),p=d.destination;A.color=d.color,A.textStyle=d.textStyle;var c=null,g=null,u=null;if(S=d.namedDestination){if(S.destination&&(u=S.destination.page,h._bookmarksPageLinkReference.forEach((function(e,t){u._ref===t&&(g=i._destinationDocument.getPage(e))})),g)){var f=h._getNamedDestination(S,g);A.namedDestination=f,delete A._dictionary._map.C,h._namedDestinations.push(f._title);var m=h._crossReference._getNextReference();h._crossReference._cacheMap.set(m,f._dictionary),h._namedDestinations.push(m)}}else p&&(u=p.page,h._bookmarksPageLinkReference.forEach((function(e,t){u._ref===t&&(g=i._destinationDocument.getPage(e))})),g&&((c=new Uo(g,p.location)).mode=p.mode,c.zoom=p.zoom,c.location=p.location,A.destination=c));o=A,a.push(A.title)}else if(void 0===a||void 0!==a&&-1===a.indexOf(r.title)){p=(d=r).destination,c=null;var w=null,y=null,S=d.namedDestination;if(e.pageCount===t){A=o.add(d.title);if(d._dictionary.has("A")&&A._dictionary.update("A",d._dictionary.get("A")),A.textStyle=d.textStyle,A.color=d.color,S){if(S._destination&&(y=S.destination.page,h._bookmarksPageLinkReference.forEach((function(e,t){y._ref===t&&(w=i._destinationDocument.getPage(e))})),w)){f=h._getNamedDestination(S,w);A.namedDestination=f,delete A._dictionary._map.C,h._namedDestinations.push(f._title);var C=h._crossReference._getNextReference();h._crossReference._cacheMap.set(C,f._dictionary),h._namedDestinations.push(C)}}else p&&(y=p.page,h._bookmarksPageLinkReference.forEach((function(e,t){y._ref===t&&(w=i._destinationDocument.getPage(e))})),w&&((c=new Uo(w,p.location)).mode=p.mode,c.zoom=p.zoom,c.location=p.location,A.destination=c));o=A}}l.index+=1,r.count>0?(s.push(l),l={index:0,base:o,kids:r._bookMarkList}):o=l.base},h=this;l.index<l.kids.length;)d();if(s.length>0){for(l=s.pop();l.index===l.kids.length&&s.length>0;)l=s.pop();o=l.base}}while(l.index<l.kids.length)}var A=void 0;if(this._namedDestinations.length>0){var p=new Va(this._crossReference);p.update("Names",this._namedDestinations),A=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(A,p),(p=new Va(this._crossReference)).update("Dests",A),A=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(A,p),this._destinationDocument._catalog._catalogDictionary.set("Names",A)}this._destinationDocument._catalog._catalogDictionary._updated=!0,this._destinationDocument._catalog._catalogDictionary.isCatalog=!0,this._crossReference._allowCatalog=!0}},e.prototype._getNamedDestination=function(e,t){var i=new Ro(e.title);return i.destination=this._getDestination(t,e.destination),i},e.prototype._getDestination=function(e,t){var i=new Uo(e,t.location);return i._location=t._location,i.mode=t.mode,i.zoom=t.zoom,i.location=t.location,i},e.prototype._writeObject=function(e,t,i,n,o,r,a){if(i instanceof va||"string"==typeof i||"number"==typeof i||"boolean"==typeof i)this._writeDictionary(i,t,o,r,a,null);else if(Array.isArray(i)){var s=[];this._writeArray(e,s,i,n),this._writeDictionary(null,t,o,r,a,s)}else if(i instanceof Va){var l=new Va(this._crossReference);this._writePropertiesDictionary(e,l,i),this._writeDictionary(null,t,o,r,a,l)}else i instanceof xa&&this._crossReference?this._writeObject(e,t,e._crossReference._fetch(i),n,o,r,i):null==i&&this._writeDictionary("null",t,o,r,a,null)},e.prototype._writeDictionary=function(e,t,i,n,o,r){if(i&&e)t.set(i,e);else if(i&&r)t.set(i,r);else if(r&&!o)n.push(r);else if(e)n.push(e);else if(o){var a;if(this._newList&&this._newList.size>0&&this._newList.forEach((function(e,t){t===o&&(a=e)})),a)n.push(a);else{var s=r;a=this._crossReference._getNextReference(),this._crossReference._cacheMap.set(a,s),s._updated=!0,n.push(a),this._newList.set(o,a)}}},e.prototype._writeArray=function(e,t,i,n){for(var o=0;o<i.length;o++)this._writeObject(e,null,i[Number.parseInt(o.toString(),10)],n,null,t)},e.prototype._writePropertiesDictionary=function(e,t,i){var n=this;i&&i.size>0&&i.forEach((function(o,r){n._writeObject(e,t,r instanceof xa?i.get(o):r,i,o)}))},e.prototype._fixDestinations=function(e){var t=this._pageReference;if(this._destination.length>0)for(var i=0;i<this._destination.length;i++){var n=this._destination[Number.parseInt(i.toString(),10)];if(n instanceof Array){var o=n;if(o.length>0&&o[0]&&o[0]instanceof xa){var r=e._crossReference._fetch(o[0]),a=t.get(r);r&&t.has(r)&&null!==a&&(o[0]=a._ref),r&&t.has(r)&&null===a&&(o[0]=null)}}}},e.prototype._insertNewPage=function(e,t){var i,n=new Hs;n.size=e.size,n.margins.left=0,n.margins.top=0,n.margins.right=0,n.margins.bottom=0,void 0!==this._options&&void 0!==this._options.rotation?n.rotation=this._options.rotation:n.rotation=e.rotation,n.orientation=e.size[0]>e.size[1]?ft.landscape:ft.portrait,i=void 0!==t?this._destinationDocument.addPage(t,n):this._destinationDocument.addPage(n);var o=e._pageDictionary;if(o._get("MediaBox")){var r=o._get("MediaBox");i._pageDictionary.update("MediaBox",r)}if(o._get("CropBox")){var a=o._get("CropBox");i._pageDictionary.update("CropBox",a)}if(void 0!==this._options.rotation||e._pageDictionary.has("Rotate")){var s=void 0;s=(s=void 0!==this._options.rotation?90*Math.floor(this._options.rotation):90*Math.floor(e.rotation))>=360?s%360:s,i._pageDictionary.update("Rotate",s)}return i},e.prototype._objectDispose=function(){this._bookmarkHashTable=new Map,this._namedDestinations=[],this._bookmarks=[],this._pageReference=new Map,this._bookmarksPageLinkReference.clear(),this._destination=[],this._newList=new Map,this._annotationLayer=new Map,this._fieldNames=[],this._destinationDocument&&this._destinationDocument._form&&this._destinationDocument._form._widgetReferences&&(this._destinationDocument._form._widgetReferences=[])},e}(),Ls=function(){function e(e,t){this._traversedObjects=new Map,this._isGroupingSupport=!1,this._targetCrossReference=e,this._sourceCrossReference=t}return e.prototype._copy=function(e){var t;return e instanceof Va?t=this._copyDictionary(e):Array.isArray(e)?t=this._copyArray(e):e instanceof ka?t=this._copyStream(e):e instanceof xa?t=this._copyReference(e):(e instanceof va||"number"==typeof e||"string"==typeof e||"boolean"==typeof e)&&(t=e),t},e.prototype._copyDictionary=function(e,t){var i=this,n=new Va(this._targetCrossReference);return e&&e.size>0&&e.forEach((function(e,o){if("OC"===e&&o instanceof Array||"P"!==e&&"Parent"!==e&&"Dest"!==e&&"OC"!==e&&("AP"!==e||!t)){var r=i._copy(o);null!=r&&n.update(e,r)}})),n._updated=!0,n},e.prototype._copyArray=function(e){for(var t=[],i=0;i<e.length;i++)t.push(this._copy(e[Number.parseInt(i.toString(),10)]));return t},e.prototype._copyStream=function(e){var t,i=!1,n=e;if(e.dictionary.has("Subtype")&&"Image"===e.dictionary.get("Subtype").name)if(i=!0,e instanceof Pa)t=e.getByteRange(e.offset,e.end);else if(e&&n.stream&&n.stream instanceof Pa)if("boolean"==typeof n._initialized&&n._cipher){var o=n.stream.end-n.stream.start;n.getBytes(o),t=n.buffer.subarray(0,n.bufferLength)}else{t=(a=n.stream).getByteRange(a.start,a.end)}else if(n.stream&&n.stream.stream){var r=n.stream;if(r.stream instanceof Pa&&"boolean"==typeof r._initialized&&r._cipher){o=r.stream.end-r.stream.start;r.getBytes(o),t=r.buffer.subarray(0,r.bufferLength)}else if(r.stream&&r.stream instanceof Pa){var a;t=(a=r.stream).getByteRange(a.start,a.end)}else t=[]}else(!(t=e.getBytes())||0===t.length)&&e instanceof Na&&(t=e._bytes);else(!(t=e.getBytes())||0===t.length)&&e instanceof Na&&(t=e._bytes);var s=new Na(Array.from(t));return s._isImage=i,s.dictionary=this._copyDictionary(e.dictionary),s.dictionary._updated=!0,s},e.prototype._copyReference=function(e){if(this._traversedObjects.has(e))return this._traversedObjects.get(e);this._traversedObjects.set(e,null);var t=this._sourceCrossReference._fetch(e),i=this._copy(t);if(i instanceof Va||i instanceof ka){var n=this._addToDestination(i);return this._traversedObjects.set(e,n),n}return this._traversedObjects.set(e,i),i},e.prototype._addToDestination=function(e){var t=this._targetCrossReference._getNextReference();return this._targetCrossReference._cacheMap.set(t,e),e.objId=t.objectNumber+" "+t.generationNumber,t},e}(),Os=function(){function e(e,t){if(this._headerSignature=new Uint8Array([37,80,68,70,45]),this._startXrefSignature=new Uint8Array([115,116,97,114,116,120,114,101,102]),this._endObjSignature=new Uint8Array([101,110,100,111,98,106]),this._version="",this._permissions=ut.default,this._isEncrypted=!1,this._isUserPassword=!1,this._hasUserPasswordOnly=!1,this._encryptOnlyAttachment=!1,this._encryptMetaData=!1,this._isExport=!1,this._allowCustomData=!1,this._isDuplicatePage=!1,this._isSplitDocument=!1,!e)throw new Error("PDF data cannot be undefined or null");this._stream=new Pa("string"==typeof e?br(e):e),this._fileStructure=new Ps,this._crossReference=new Is(this,t),this._pages=new Map,this._checkHeader(),this._crossReference._setStartXRef(this._startXRef);try{this._parse(!1)}catch(e){if("XRefParseException"!==e.name)throw e;this._parse(!0)}this._crossReference._version=this._version}return Object.defineProperty(e.prototype,"_allowImportCustomData",{get:function(){return this._allowCustomData},set:function(e){this._allowCustomData=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_linearization",{get:function(){if(!this._linear){var e=void 0;try{e=new Bs(this._stream)}catch(e){}this._linear=e}return this._linear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_startXRef",{get:function(){var e=this._stream,t=0;if(this._linearization&&this._linearization.isValid)e.reset(),this._find(e,this._endObjSignature)&&(t=e.position+6-e.start);else{for(var i=this._startXrefSignature.length,n=!1,o=e.end;!n&&o>0;)(o-=1024-i)<0&&(o=0),e.position=o,n=this._find(e,this._startXrefSignature,1024,!0);if(n){e.skip(9);var r=void 0;do{r=e.getByte()}while(Br(r));for(var a="";r>=32&&r<=57;)a+=String.fromCharCode(r),r=e.getByte();t=parseInt(a,10),isNaN(t)&&(t=0)}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEncrypted",{get:function(){return this._isEncrypted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUserPassword",{get:function(){return this._isUserPassword},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return void 0===this._pageCount&&(this._pageCount=0,this._linearization&&this._linearization.isValid?this._pageCount=this._linearization.pageCount:this._pageCount=this._catalog.pageCount),this._pageCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"form",{get:function(){return void 0===this._form&&(this._form=new Ms(this._catalog.acroForm,this._crossReference)),this._form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flatten",{get:function(){return this._flatten},set:function(e){this._flatten=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"permissions",{get:function(){if(this._crossReference){var e=this._crossReference._permissionFlags;void 0!==e&&(this._permissions=3903&e)}return this._permissions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bookmarks",{get:function(){var e=this._catalog;if(e)if(e._catalogDictionary.has("Outlines")){var t=e._catalogDictionary._get("Outlines");(i=e._catalogDictionary.get("Outlines"))&&(this._bookmarkBase=new Po(i,this._crossReference),this._bookmarkBase._reference=t,i.has("First")&&this._bookmarkBase._reproduceTree())}else{var i=new Va(this._crossReference);t=this._crossReference._getNextReference();this._crossReference._cacheMap.set(t,i),e._catalogDictionary.update("Outlines",t),this._crossReference._allowCatalog=!0,this._bookmarkBase=new Po(i,this._crossReference),this._bookmarkBase._reference=t}return this._bookmarkBase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileStructure",{get:function(){return this._fileStructure},enumerable:!0,configurable:!0}),e.prototype.getPage=function(e){if(e<0||e>=this.pageCount)throw new Error("Invalid page index");var t=this._pages.get(e);if(t)return t;var i,n=this._catalog,o=this._linearization;i=o&&o.isValid&&o.pageFirst===e?this._getLinearizationPage(e):n.getPageDictionary(e);var r=new Oo(this._crossReference,e,i.dictionary,i.reference);return this._pages.set(e,r),r},e.prototype.addPage=function(e,t){var i,n;void 0!==t?(i=t,n=e,this._checkPageNumber(n)):void 0===e?(i=new Hs,n=this.pageCount):e instanceof Hs?(i=e,n=this.pageCount):(i=new Hs,n=e,this._checkPageNumber(n));var o=new Va(this._crossReference);o.update("Type",va.get("Pages")),o.update("Count",1),this._updatePageSettings(o,i);var r=this._crossReference._getNextReference();this._crossReference._cacheMap.set(r,o),o.objId=r.toString();var a=new Va(this._crossReference);a.update("Type",va.get("Page"));var s=this._crossReference._getNextReference();if(this._crossReference._cacheMap.set(s,a),a.objId=s.toString(),a.update("Parent",r),o.update("Kids",[s]),0===this.pageCount){(d=this._catalog._catalogDictionary._get("Pages"))&&this._catalog._topPagesDictionary?(this._catalog._topPagesDictionary.update("Kids",[r]),o.update("Parent",d)):this._catalog._catalogDictionary.update("Pages",r),this._pages=new Map,this._pageCount=1}else{var l=this.getPage(n===this.pageCount?n-1:n);if(l&&l._pageDictionary){var d=l._pageDictionary._get("Parent"),h=this._crossReference._fetch(d);if(h&&h.has("Kids")){var A=h.get("Kids");if(A){if(n===this.pageCount)A.push(r);else{var p=[];A.forEach((function(e){e===l._ref&&p.push(r),p.push(e)})),A=p,this._updatePageCache(n)}h.update("Kids",A),o.update("Parent",d),this._updatePageCount(h,1),this._pageCount=this.pageCount+1}}}}var c=new Oo(this._crossReference,n,a,s);return c._pageSettings=i,c._isNew=!0,this._pages.set(n,c),c},e.prototype.removePage=function(e){var t=e instanceof Oo?e:this.getPage(e);this._removePage(t)},e.prototype._checkPageNumber=function(e){if(e<0||e>this.pageCount)throw new Error("Index out of range")},e.prototype._updatePageCount=function(e,t){if(e.update("Count",e.get("Count")+t),e.has("Parent")){var i=e.get("Parent");i&&"Pages"===i.get("Type").name&&this._updatePageCount(i,t)}},e.prototype._updatePageSettings=function(e,t){var i=[0,0,t.size[0],t.size[1]];e.update("MediaBox",i),e.update("CropBox",i);var n=90*Math.floor(t.rotation);n>=360&&(n%=360),e.update("Rotate",n)},e.prototype._updatePageCache=function(e,t){void 0===t&&(t=!0);for(var i=new Map,n=this.pageCount-1;n>=0;n--){var o=this.getPage(n);t?n>=e?(i.set(n+1,o),o._pageIndex=n+1):i.set(n,o):n>e?(i.set(n-1,o),o._pageIndex=n-1):n!==e&&i.set(n,o)}this._pages=i,t||(this._pageCount=this._pages.size)},e.prototype._removePage=function(e){var t=this._parseBookmarkDestination();if(t&&t.has(e)){var i=t.get(e);if(i)for(var n=0;n<i.length;n++){var o=i[Number.parseInt(n.toString(),10)];if(o){var r=o._dictionary;r&&(r.has("A")&&r.update("A",null),r.update("Dest",null))}}}this._removePageTemplates(e);for(n=this.form.count-1;n>=0;--n){var a=this.form.fieldAt(n);a&&a.page===e&&this.form.removeFieldAt(n)}this._updatePageCache(e._pageIndex,!1),this._removeParent(e._ref,e._pageDictionary),this._crossReference._cacheMap.has(e._ref)&&(e._pageDictionary._updated=!1)},e.prototype._removeParent=function(e,t){if(t.has("Parent")){var i=t._get("Parent"),n=this._crossReference._fetch(i);if(n&&n.has("Kids")){var o=n.get("Kids");Sa(o)&&1===o.length&&n&&"Pages"===n.get("Type").name?this._removeParent(i,n):(o=o.filter((function(t){return t!==e})),n.update("Kids",o),this._updatePageCount(n,-1))}}},e.prototype._parseBookmarkDestination=function(){var e=this.bookmarks;if(void 0===this._bookmarkHashTable&&e){this._bookmarkHashTable=new Map;var t=[],i={index:0,kids:e._bookMarkList};do{for(;i.index<i.kids.length;){var n=(e=i.kids[i.index]).namedDestination;if(n){if(n.destination){var o=n.destination.page;(a=this._bookmarkHashTable.get(o))||(a=[]),a.push(e),this._bookmarkHashTable.set(o,a)}}else{var r=e.destination;if(r){var a;o=r.page;(a=this._bookmarkHashTable.get(o))||(a=[]),a.push(e),this._bookmarkHashTable.set(o,a)}}i.index+=1,e.count>0&&(t.push(i),i={index:0,kids:e._bookMarkList})}if(t.length>0)for(i=t.pop();i.index===i.kids.length&&t.length>0;)i=t.pop()}while(i.index<i.kids.length)}return this._bookmarkHashTable},e.prototype._removePageTemplates=function(e){var t;this._catalog._catalogDictionary.has("Names")&&(t=this._catalog._catalogDictionary.get("Names"))&&(this._removeInternalTemplates(t,"Pages",e),this._removeInternalTemplates(t,"Templates",e))},e.prototype._removeInternalTemplates=function(e,t,i){if(e.has(t)){var n=e.get(t);if(n&&n.has("Names")){var o=n.getArray("Names");if(o&&o.length>0){var r=this._getUpdatedPageTemplates(o,i),a=new Va(this._crossReference);a.update("Names",r);var s=this._crossReference._getNextReference();this._crossReference._cacheMap.set(s,a),a.objId=s.toString(),e.update(t,s)}}}},e.prototype._getUpdatedPageTemplates=function(e,t){if(e.length>0)for(var i=1;i<=e.length;i+=2){var n=e[Number.parseInt(i.toString(),10)];if(n&&t._pageDictionary===n)return e.pop(),e.pop(),e}return e},e.prototype.reorderPages=function(e){var t=this;e.forEach((function(e){t._checkPageNumber(e)}));for(var i=this._sortedArray(e),n=e.slice().sort((function(e,t){return e-t})),o=Array.from({length:this.pageCount},(function(e,t){return t})),r=o.filter((function(e){return-1===i.indexOf(e)})),a=r.length-1;a>=0;a--)this.removePage(r[Number.parseInt(a.toString(),10)]);var s=[],l=new Map,d=this._catalog._catalogDictionary._get("Pages"),h=function(e){var o=A.getPage(n.indexOf(i[Number.parseInt(e.toString(),10)]));o._pageIndex=e,l.set(e,o);var r=new Va(A._crossReference);r.update("Type",va.get("Pages")),r.update("Count",1),r.update("Parent",d);var a=A._crossReference._getNextReference();r.objId=a.toString(),r.update("Kids",[o._ref]),s.push(a);for(var h=o._pageDictionary.get("Parent");h&&"Pages"===h.get("Type").name&&(h.forEach((function(e,i){switch(e){case"Parent":case"Kids":case"Type":case"Count":break;case"Resources":t._cloneResources(h.get("Resources"),r);break;default:r.has(e)||r.update(e,i)}})),h.has("Parent"));)h=h.get("Parent");A._crossReference._cacheMap.set(a,r),A._crossReference._fetch(o._ref).update("Parent",a)},A=this;for(a=0;a<i.length;a++)h(a);if(this._pages=l,this._catalog){var p=this._catalog._topPagesDictionary;if(p&&p.has("Kids")){var c=p.get("Kids");c=s,p.update("Kids",c)}}},e.prototype._sortedArray=function(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t},e.prototype._cloneResources=function(e,t){var i=this;if(t.has("Resources")){var n=t.get("Resources");e.forEach((function(e,t){n.has(e)?i._cloneInnerResources(e,t,n):n.update(e,t)}))}else t.update("Resources",e)},e.prototype._cloneInnerResources=function(e,t,i){if(t instanceof Va){var n=i.get(e);if(n){var o=!1;n.forEach((function(e,t){n.has(e)||(n.update(e,t),o=!0)})),o&&(i._updated=!0)}else i.update(e,t)}else if(Array.isArray(t)){var r=i.get(e);if(r){var a=!1;t.forEach((function(e){-1===r.indexOf(e)&&(r.push(e),a=!0)})),a&&(i._updated=!0)}else i.update(e,t)}},e.prototype.save=function(e){if(this._doPostProcess(this._flatten),"string"!=typeof e)return this._crossReference._save();Ds.Save.save(e,new Blob([this._crossReference._save()],{type:"application/pdf"}))},e.prototype.saveAsBlob=function(){var e=this;return new Promise((function(t){t({blobData:new Blob([e._crossReference._save()],{type:"application/pdf"})})}))},e.prototype.exportAnnotations=function(e,t){var i,n;if(this._isExport=!0,this._doPostProcessOnAnnotations(),e&&e instanceof Us?n=e:t&&t instanceof Us&&(n=t),n){if(n.dataFormat===lt.xfdf)i=new Dn;else if(n.dataFormat===lt.json)i=new Qn;else{if(n.dataFormat!==lt.fdf)return;i=new Qs}i.exportAppearance=n.exportAppearance}else i=new Dn;var o=i._exportAnnotations(this);if(!e||"string"!=typeof e)return o;Ds.Save.save(e,new Blob([o],{type:"text/plain"}))},e.prototype.exportFormData=function(e,t){var i,n;if(this._doPostProcessOnFormFields(),e&&e instanceof zs?n=e:t&&t instanceof zs&&(n=t),n){if(n.dataFormat===lt.xfdf)i=new Dn(n.exportName);else if(n.dataFormat===lt.json)i=new Qn(n.exportName);else if(n.dataFormat===lt.fdf)i=new Qs(n.exportName);else{if(n.dataFormat!==lt.xml)return;i=new ks(n.exportName)}i._asPerSpecification=n.asPerSpecification}else(i=new Dn)._asPerSpecification=!1;if(!e||"string"!=typeof e)return i._exportFormFields(this);Ds.Save.save(e,new Blob([i._exportFormFields(this)],{type:"text/plain"}))},e.prototype.importAnnotations=function(e,t){if(t===lt.xfdf)(new Dn)._importAnnotations(this,"string"==typeof e?br(e):e);else if(t===lt.json){(new Qn)._importAnnotations(this,"string"==typeof e?br(e):e)}else if(t===lt.fdf){(new Qs)._importAnnotations(this,"string"==typeof e?br(e):e)}},e.prototype.importFormData=function(e,t){if(this.form.count>0)if(t===lt.xfdf)(new Dn)._importFormData(this,"string"==typeof e?br(e):e);else if(t===lt.json){(new Qn)._importFormData(this,"string"==typeof e?br(e):e)}else if(t===lt.fdf){(new Qs)._importFormData(this,"string"==typeof e?br(e):e)}else if(t===lt.xml){(new ks)._importFormData(this,"string"==typeof e?br(e):e)}},e.prototype.destroy=function(){this._crossReference&&(this._crossReference._destroy(),this._crossReference=void 0),this._catalog&&(this._catalog._destroy(),this._catalog=void 0),this._endObjSignature=void 0,this._headerSignature=void 0,this._pages&&this._pages.size>0&&this._pages.forEach((function(e){e._destroy()})),this._pages&&(this._pages.clear(),this._pages=void 0),this._startXrefSignature=void 0,this._stream=void 0,this._form=void 0,Ba=Object.create(null),Ia=Object.create(null),ba=Object.create(null),this._mergeHelperCache&&(this._mergeHelperCache.size>0&&this._mergeHelperCache.forEach((function(e){e&&e._objectDispose()})),this._mergeHelperCache.clear(),this._mergeHelperCache=void 0)},Object.defineProperty(e.prototype,"_destinationCollection",{get:function(){if(null===this._namedDestinationCollection||void 0===this._namedDestinationCollection)if(this._catalog._catalogDictionary.has("Names")){var e=this._catalog._catalogDictionary.get("Names");this._namedDestinationCollection=new Lo(e,this._crossReference)}else this._namedDestinationCollection=new Lo;return this._namedDestinationCollection},enumerable:!0,configurable:!0}),e.prototype._getLinearizationPage=function(e){var t=this,i=t._catalog,n=t._linearization,o=t._crossReference,r=xa.get(n.objectNumberFirst,0);try{var a=o._fetch(r);if(a instanceof Va)if(Qa(a.get("Type"),"Page")||!a.has("Type")&&!a.has("Kids"))return i.pageKidsCountCache.has(r)||i.pageKidsCountCache.put(r,1),i.pageIndexCache.has(r)||i.pageIndexCache.put(r,0),{dictionary:a,reference:r};throw new sa("The Linearization dictionary does not point to a valid Page dictionary.")}catch(t){return i.getPageDictionary(e)}},e.prototype._checkHeader=function(){var e=this._stream;if(e.reset(),this._find(e,this._headerSignature)){e.moveStart();for(var t="",i=e.getByte();i>32&&!(t.length>=12);)t+=String.fromCharCode(i),i=e.getByte();this._version||(this._version=t.substring(5))}},e.prototype._parse=function(e){this._crossReference._parse(e),this._catalog=new $a(this._crossReference),this._catalog.version&&(this._version=this._catalog.version)},e.prototype._find=function(e,t,i,n){void 0===i&&(i=1024),void 0===n&&(n=!1);var o=t.length,r=e.peekBytes(i),a=r.length-o;if(a<=0)return!1;if(n)for(var s=o-1,l=r.length-1;l>=s;){for(var d=0;d<o&&r[l-d]===t[s-d];)d++;if(d>=o)return e.position+=l-s,!0;l--}else for(l=0;l<=a;){for(d=0;d<o&&r[l+d]===t[d];)d++;if(d>=o)return e.position+=l,!0;l++}return!1},e.prototype._doPostProcess=function(e){void 0===e&&(e=!1),this._doPostProcessOnFormFields(e),this._doPostProcessOnAnnotations(e)},e.prototype._doPostProcessOnFormFields=function(e){if(void 0===e&&(e=!1),this._catalog._catalogDictionary.has("AcroForm")){if(this.form._doPostProcess(e),e){var t=this._catalog._catalogDictionary.getRaw("AcroForm"),i=new Va(this._crossReference);i._updated=!0,t instanceof xa?this._crossReference._cacheMap.set(t,i):(this.form._dictionary=i,this._crossReference._allowCatalog=!0),this.form._clear()}this.form._isDefaultAppearance?this.form._dictionary.update("NeedAppearances",this.form._isDefaultAppearance):!this.form._isDefaultAppearance&&this.form._dictionary.has("NeedAppearances")&&this.form._isNeedAppearances?this.form._dictionary.update("NeedAppearances",!1):!this.form._isDefaultAppearance&&this.form._dictionary.has("NeedAppearances")&&this.form._dictionary.update("NeedAppearances",this.form.needAppearances)}},e.prototype._doPostProcessOnAnnotations=function(e){void 0===e&&(e=!1);for(var t=0;t<this.pageCount;t++){var i=this.getPage(t);i.annotations._isExport=this._isExport,i.annotations._doPostProcess(e),e&&(i._pageDictionary.has("Annots")&&(delete i._pageDictionary._map.Annots,i._pageDictionary._updated=!0),i.annotations._clear())}},e.prototype._addWatermarkText=function(){if(this.pageCount>0)for(var e=0;e<this._pageCount;e++){var t=this.getPage(e);if(t)try{var i=t.graphics;i.save(),i.setTransparency(.2),i.drawRectangle(0,0,t.size[0],33.75,new Sn([255,255,255])),i.restore(),i.save(),i.setTransparency(.5);var n=new nn(Ei.helvetica,12,vi.regular),o=new pi(We.center,hi.middle);i.drawString("Created with a trial version of Syncfusion Essential PDF",n,[0,0,t.size[0],33.75],null,new Sn([0,0,0]),o),i.restore()}catch(e){}}},e.prototype.importPageRange=function(e,t,i,n){if(t>i||t>=e.pageCount)throw new Error("The start index is greater then the end index, which might indicate the error in the program.");this._importPages(e,t,i,n)},e.prototype._importPages=function(e,t,i,n){var o,r,a=0;if(void 0!==n&&"number"==typeof n.targetIndex){if(n.targetIndex>this.pageCount)throw new Error("The target index is out of range.");this._targetIndex=n.targetIndex}var s,l=new Map;if(!this._isDuplicatePage)for(var d=0;d<e.pageCount;d++){var h=e.getPage(d);l.set(h._pageDictionary,null)}this._mergeHelperCache||(this._mergeHelperCache=new Map),e._uniqueID||(e._uniqueID=zr()),this._mergeHelperCache.has(e._uniqueID)?s=this._mergeHelperCache.get(e._uniqueID):(s=new Rs(this._crossReference,this,e,l,n),this._mergeHelperCache.set(e._uniqueID,s));var A=!1;(!this._isDuplicatePage&&e._catalog._catalogDictionary.has("OCProperties")||void 0!==n&&!n.optimizeResources)&&(A=!0,o=e._catalog._catalogDictionary.get("OCProperties"),r=new Va(this._crossReference),s._writeObject(e,r,o,o,"OCProperties",null,null),r._updated=!0);for(var p=t;p<=i;p++){var c=e.getPage(p);e.form._doPostProcess(e.flatten,c),c.annotations.count>0&&(c.annotations._doPostProcess(e.flatten),e.flatten&&(c._pageDictionary.has("Annots")&&(delete c._pageDictionary._map.Annots,c._pageDictionary._updated=!0),c.annotations._clear())),e._isSplitDocument?s._importPages(c,this._targetIndex,A,this._isDuplicatePage,n,e._isSplitDocument):s._importPages(c,this._targetIndex,A,this._isDuplicatePage,n),a++,"number"==typeof this._targetIndex&&++this._targetIndex}this._isDuplicatePage||s._fixDestinations(e),s._exportBookmarks(e,a),s._mergeFormFieldsWithDocument(),(A&&!this._isDuplicatePage||void 0!==n&&!n.optimizeResources)&&s._importLayers(r,!0),s._objectDispose(),this._isDuplicatePage=!1},e.prototype.importPage=function(t,i,n){if("number"==typeof t)this._isDuplicatePage=!0,i instanceof Ns?this._importPages(this,t,t,i):this._importPages(this,t,t);else if(t instanceof Oo&&i instanceof e){var o=t._pageIndex;this.importPageRange(i,o,o,n)}},e.prototype.split=function(){this.splitByFixedNumber(1)},e.prototype.splitByFixedNumber=function(e){var t=this.pageCount;if(!(this.splitEvent&&t>=e&&e>0))throw new Error("Invalid split number. Split number should be greater than zero and less than or equal to page count.");for(var i=0,n=0;n<t;n+=e){var o=Math.min(n+e-1,t-1),r=this._importDocumentPages(n,o);this._invokeSplitEvent(i,r),i++}},e.prototype.splitByPageRanges=function(e){var t=this.pageCount;if(this.splitEvent)for(var i=0,n=0;n<e.length;n++){var o=e[Number.parseInt(n.toString(),10)];if(Array.isArray(o)&&o.length<2)throw new Error("Invalid page range. Start and end page indexes should be specified.");var r=o[0],a=o[1];if(r<0||a<0||r>=t||a>=t||r>a)throw new Error("Invalid page range: start (${start}) and end (${end}).");var s=this._importDocumentPages(r,a);this._invokeSplitEvent(i,s),i++}},e.prototype._importDocumentPages=function(t,i){this._isSplitDocument=!0;for(var n=new e("JVBERi0xLjQNCiWDkvr+DQoxIDAgb2JqDQo8PA0KL1R5cGUgL0NhdGFsb2cNCi9QYWdlcyAyIDAgUg0KL0Fjcm9Gb3JtIDMgMCBSDQo+Pg0KZW5kb2JqDQoyIDAgb2JqDQo8PA0KL1R5cGUgL1BhZ2VzDQovS2lkcyBbNCAwIFJdDQovQ291bnQgMQ0KL1Jlc291cmNlcyA8PD4+DQoNCi9NZWRpYUJveCBbLjAwIC4wMCA1OTUuMDAgODQyLjAwXQ0KL1JvdGF0ZSAwDQo+Pg0KZW5kb2JqDQozIDAgb2JqDQo8PA0KL0ZpZWxkcyBbXQ0KPj4NCmVuZG9iag0KNCAwIG9iag0KPDwNCi9Db3VudCAxDQovVHlwZSAvUGFnZXMNCi9LaWRzIFs1IDAgUl0NCi9QYXJlbnQgMiAwIFINCj4+DQplbmRvYmoNCjUgMCBvYmoNCjw8DQovVHlwZSAvUGFnZQ0KL1BhcmVudCA0IDAgUg0KPj4NCmVuZG9iag0KeHJlZg0KMCA2DQowMDAwMDAwMDAwIDY1NTM1IGYNCjAwMDAwMDAwMTcgMDAwMDAgbg0KMDAwMDAwMDA4OSAwMDAwMCBuDQowMDAwMDAwMjE4IDAwMDAwIG4NCjAwMDAwMDAyNTUgMDAwMDAgbg0KMDAwMDAwMDMzNCAwMDAwMCBuDQp0cmFpbGVyDQo8PA0KL1Jvb3QgMSAwIFINCi9TaXplIDYNCj4+DQoNCnN0YXJ0eHJlZg0KMzg3DQolJUVPRg0K"),o=t;o<=i;o++){var r=this.getPage(o);n.importPage(r,this)}n.removePage(0);var a=n.save();return n.destroy(),a},e.prototype._invokeSplitEvent=function(e,t){var i=new js(e,t);this.splitEvent(this,i)},e}(),Us=function(){function e(){this._format=lt.xfdf,this._exportAppearance=!1}return Object.defineProperty(e.prototype,"dataFormat",{get:function(){return this._format},set:function(e){this._format=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportAppearance",{get:function(){return this._exportAppearance},set:function(e){this._exportAppearance=e},enumerable:!0,configurable:!0}),e}(),zs=function(){function e(){this._format=lt.xfdf,this._exportName="",this._asPerSpecification=!0}return Object.defineProperty(e.prototype,"dataFormat",{get:function(){return this._format},set:function(e){this._format=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exportName",{get:function(){return this._exportName},set:function(e){this._exportName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asPerSpecification",{get:function(){return this._asPerSpecification},set:function(e){this._asPerSpecification=e},enumerable:!0,configurable:!0}),e}(),Hs=function(){function e(){this._size=[595,842],this._isOrientation=!1,this._orientation=ft.portrait,this._size=[595,842],this._margins=new Ys,this._rotation=Ge.angle0}return Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._isOrientation=!0,this._orientation!==e&&(this._orientation=e,this._updateSize(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){this._isOrientation?this._updateSize(e):(this._size=e,this._updateOrientation())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margins",{get:function(){return this._margins},set:function(e){this._margins=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e,e>=4&&(this._rotation=e%4)},enumerable:!0,configurable:!0}),e.prototype._updateSize=function(e){var t,i;Array.isArray(e)?(t=this.orientation,i=e):(t=e,i=this._size),t===ft.portrait?this._size=[Math.min(i[0],i[1]),Math.max(i[0],i[1])]:this._size=[Math.max(i[0],i[1]),Math.min(i[0],i[1])]},e.prototype._updateOrientation=function(){this._orientation=this._size[1]>=this._size[0]?ft.portrait:ft.landscape},e.prototype._getActualSize=function(){return[this._size[0]-(this._margins._left+this._margins._right),this._size[1]-(this._margins._top+this._margins._bottom)]},e}(),Ys=function(){function e(e){this._left=this._right=this._top=this._bottom=void 0===e?40:e}return Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(e){this._left=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(e){this._right=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._top},set:function(e){this._top=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this._bottom},set:function(e){this._bottom=e},enumerable:!0,configurable:!0}),e}(),js=function(){function e(e,t){this._index=e,this._pdfData=t}return Object.defineProperty(e.prototype,"pdfData",{get:function(){return this._pdfData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),e}(),Gs=function(){function e(e){this._boundSet=!1,this._paginateBounds=[],e?(this.break=e.break,this.layout=e.layout,this.paginateBounds=e.paginateBounds,this._boundSet=e._boundSet):(this.layout=Rt.paginate,this.break=Lt.fitPage)}return Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(e){this._layout=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"break",{get:function(){return this._break},set:function(e){this._break=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paginateBounds",{get:function(){return this._paginateBounds},set:function(e){this._paginateBounds=e,this._boundSet=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"usePaginateBounds",{get:function(){return this._boundSet},enumerable:!0,configurable:!0}),e}(),Js=function(){function e(e,t){this._page=e,this._bounds=t}return Object.defineProperty(e.prototype,"Page",{get:function(){return this._page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this._bounds},enumerable:!0,configurable:!0}),e}(),Ks=function(){this.markerWrote=!1,this.markerWidth=0,this.markerX=0},Ws=function(){},Xs=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Zs=function(e){function t(t){var i=e.call(this)||this;return i._imageStatus=!0,i._initializeAsync(t),i}return Xs(t,e),t.prototype._initializeAsync=function(e){var t=new Uint8Array(e.length);null!=e&&"string"==typeof e?t=br(e,!1):e instanceof Uint8Array&&(t=e),this._decoder=function(e){var t;if(sr(e,[255,216]))t=new Yo(e);else{if(!sr(e,[137,80,78,71,13,10,26,10]))throw new Error("Unsupported image format");t=new $o(e)}return t}(t),this.height=this._decoder._height,this.width=this._decoder._width,this._bitsPerComponent=this._decoder._bitsPerComponent},t.prototype._save=function(){if(this._imageStatus=!0,this._imageStream=this._decoder._getImageDictionary(),this._decoder&&this._decoder instanceof $o){var e=this._decoder;this._maskStream=e._maskStream,e._isDecode?e._colorSpace&&this._setColorSpace():this._setColorSpace()}else this._setColorSpace()},t.prototype._setColorSpace=function(){var e,t=this._imageStream.dictionary,i=t.get("ColorSpace");if("DeviceCMYK"===i.name?e=kt.cmyk:"DeviceGray"===i.name&&(e=kt.grayScale),this._decoder instanceof $o){var n=this._decoder._colorSpace;null!=n&&(e=kt.indexed)}switch(e){case kt.cmyk:t.update("Decode",[1,0,1,0,1,0,1,0]),t.update("ColorSpace",va.get("DeviceCMYK"));break;case kt.grayScale:t.update("Decode",[0,1]),t.update("ColorSpace",va.get("DeviceGray"));break;case kt.rgb:t.update("Decode",[0,1,0,1,0,1]),t.update("ColorSpace",va.get("DeviceRGB"));break;case kt.indexed:t.update("ColorSpace",this._decoder._colorSpace)}},t}(pn),qs=function(){function e(e,t){if(this._textIndent=0,null==e)throw new Error("Text cannot be null or undenfied.");this._text=e,t&&(t.font&&(this._font=t.font),t.format&&(this._stringFormat=t.format),t.pen&&(this._pen=t.pen),t.brush&&(this._brush=t.brush))}return Object.defineProperty(e.prototype,"brush",{get:function(){return this._brush},set:function(e){this._brush=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pen",{get:function(){return this._pen},set:function(e){this._pen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font},set:function(e){this._font=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return this._stringFormat},set:function(e){this._stringFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textIndent",{get:function(){return this._textIndent},set:function(e){this._textIndent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subList",{get:function(){return this._subList},set:function(e){this._subList=e},enumerable:!0,configurable:!0}),e}(),$s=function(){function e(e){var t=this;this._listItems||(this._listItems=[]),e&&e.forEach((function(e){t.add(new qs(e))}))}return Object.defineProperty(e.prototype,"count",{get:function(){return this._listItems.length},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){if(!e)throw new Error("item should not be null");this._listItems.push(e),t&&(e.textIndent=t)},e.prototype.at=function(e){if(null===e)throw new Error("index should not be null");return this._listItems[Number.parseInt(e.toString(),10)]},e.prototype.remove=function(e){if(!e)throw new Error("item should not be null");for(var t=!1,i=0;i<this._listItems.length;i++)if(this._listItems[Number.parseInt(i.toString(),10)]===e){t=!0,this._listItems.splice(Number.parseInt(i.toString(),10),1);break}if(!t)throw new Error("item collection does not contain the given content")},e.prototype.removeAt=function(e){if(e<0||e>=this._listItems.length)throw new Error("The index should be less than items count or equal to 0");this._listItems.splice(e,1)},e.prototype.clear=function(){this._listItems=[]},e.prototype.insert=function(e,t,i){if(e<0||e>this._listItems.length)throw new Error("Index should be within the range of items count (inclusive).");if(!t)throw new Error("Item cannot be null.");i&&(t.textIndent=i),this._listItems.splice(e,0,t)},e.prototype.indexOf=function(e){if(!e)throw new Error("Item should be defined.");return this._listItems.indexOf(e)},e}(),el=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tl=function(){function e(){this._textIndent=5,this._indent=10,this._alignment=Ot.left,this._delimiter=".",this._suffix=".",this._enableHierarchy=!1,this._currentIndex=0,this._size=[0,0],this._defaultFont=new nn(Ei.helvetica,8)}return Object.defineProperty(e.prototype,"brush",{get:function(){return this._brush},set:function(e){this._brush=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pen",{get:function(){return this._pen},set:function(e){this._pen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._font},set:function(e){this._font=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stringFormat",{get:function(){return this._stringFormat},set:function(e){this._stringFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indent",{get:function(){return this._indent},set:function(e){this._indent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textIndent",{get:function(){return this._textIndent},set:function(e){this._textIndent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delimiter",{get:function(){return this._delimiter},set:function(e){this._delimiter=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"suffix",{get:function(){return this._suffix},set:function(e){this._suffix=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enableHierarchy",{get:function(){return this._enableHierarchy},set:function(e){this._enableHierarchy=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._itemCollection},set:function(e){this._itemCollection=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_markerRightToLeft",{get:function(){return this._alignment===Ot.right},enumerable:!0,configurable:!0}),e.prototype.draw=function(e,t,i,n,o,r){if(e instanceof Oo){if(e._isNew)return this._drawInternal(e,t,i,n,o,r);new ol(this).layout(e.graphics,[t,i,0,0])}else new ol(this).layout(e,[t,i,0,0])},e.prototype._drawInternal=function(e,t,i,n,o,r){var a=new Ws;return a._page=e,null==n?(a._bounds=[t,i,0,0],a._format=new Gs):"number"==typeof n?(a._bounds=[t,i,n,o],a._format=r||new Gs):n instanceof Gs&&(a._bounds=[t,i,0,0],a._format=n),this._layout(a)},e.prototype._layout=function(e){return new ol(this).layoutInternal(e)},e}(),il=function(e){function t(t,i){var n=e.call(this)||this;return n._startNumber=1,n._itemCollection=t||new $s,i?(i.font&&(n._font=i.font),i.format&&(n._stringFormat=i.format),i.pen&&(n._pen=i.pen),i.brush&&(n._brush=i.brush),i.style?n._style=i.style:n._style=Pt.numeric,i.indent&&(n._indent=i.indent),i.textIndent&&(n._textIndent=i.textIndent),i.alignment&&(n._alignment=i.alignment),i.delimiter&&(n._delimiter=i.delimiter),i.suffix&&(n._suffix=i.suffix)):n._style=Pt.numeric,n}return el(t,e),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){this._style=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startNumber",{get:function(){return this._startNumber},set:function(e){if(e<=0)throw new Error("Start number should be greater than 0.");this._startNumber=e},enumerable:!0,configurable:!0}),t.prototype._getNumber=function(){return function(e,t){switch(t){case Pt.none:return"";case Pt.numeric:return e.toString();case Pt.lowerLatin:return wa(e).toLowerCase();case Pt.lowerRoman:return ma(e).toLowerCase();case Pt.upperLatin:return wa(e);case Pt.upperRoman:return ma(e)}}(this._startNumber+this._currentIndex,this._style)},t}(tl),nl=(function(e){function t(t,i){var n=e.call(this)||this;return n._itemCollection=t||new $s,i?(i.font&&(n._font=i.font),i.format&&(n._stringFormat=i.format),i.pen&&(n._pen=i.pen),i.brush&&(n._brush=i.brush),i.style?n._style=i.style:n._style=Nt.disk,i.indent&&(n._indent=i.indent),i.textIndent&&(n._textIndent=i.textIndent),i.alignment&&(n._alignment=i.alignment),i.delimiter&&(n._delimiter=i.delimiter),i.suffix&&(n._suffix=i.suffix)):n._style=Nt.disk,n}el(t,e),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){this._style=e},enumerable:!0,configurable:!0}),t.prototype._getStyledText=function(){switch(this._style){case Nt.disk:return"l";case Nt.square:return"n";case Nt.asterisk:return"]";case Nt.circle:return"m";default:return""}},t.prototype._draw=function(e,t,i,n,o){var r=new Fn([0,0,this._size[0],this._size[1]],e._crossReference),a=[0,0,0,0];o&&(a[0]=a[0]+o._width,a[1]=a[1]+o._width),r.graphics.drawString(this._getStyledText(),this._unicodeFont,a,o,n),e.drawTemplate(r,{x:t,y:i,width:r.size[0],height:r.size[1]})}}(tl),function(e,t,i){this._list=e,this._index=t,this._number=i}),ol=function(){function e(e){this._indent=0,this._information=[],this._markerMaxWidth=0,this._finish=!1,this._usePaginateBounds=!0,this._resultHeight=0,this._size=[0,0],this._index=0,this._element=e}return e.prototype.layout=function(e,t){this._graphics=e;var i=new Ws;i._bounds=t,i._format=new Gs,i._format.layout=Rt.onePage,this.layoutInternal(i)},e.prototype.layoutInternal=function(e){if(this._currentPage=e._page,this._bounds=e._bounds.slice(),this._currentPage){if(0===e._bounds[2]&&0===e._bounds[3]){var t=this._currentPage.graphics.clientSize;this._bounds[2]=t[0]-this._bounds[0],this._bounds[3]=t[1]-this._bounds[1]}this._graphics=this._currentPage.graphics}var i=new Ks;i.broken=!1,i.y=this._bounds[1],this._curList=this._element,this._indent=this._curList.indent,this._setCurrentParameters(this._curList),this._curList.brush||(this._currentBrush=new Sn([0,0,0])),this._curList.font||(this._currentFont=this._curList._defaultFont),this._curList instanceof il&&(this._markerMaxWidth=this._getMarkerMaxWidth(this._curList,this._information));for(var n=e._format.layout===Rt.onePage;!this._finish&&(i.y=this._bounds[1],i=this._layoutOnPage(i),!n);){if(this._currentPage&&!this._finish&&(this._currentPage=this._getNextPage(this._currentPage)),this._graphics=this._currentPage.graphics,0===e._bounds[2]&&0===e._bounds[3]){t=this._currentPage.graphics.clientSize;this._bounds[2]=t[0]-this._bounds[0],this._bounds[3]=t[1]-this._bounds[1]}e._format&&e._format.usePaginateBounds&&this._usePaginateBounds&&(this._bounds=e._format._paginateBounds)}this._information=[];var o=[this._bounds[0],i.y,this._bounds[2],this._resultHeight],r=new Js(this._currentPage,o);return this._currentFormat&&(this._currentFormat._isList=!1),r},e.prototype._layoutOnPage=function(e){var t=0,i=0,n=this._bounds[1],o=this._bounds[0];for(this._size=[this._bounds[2]-this._indent,this._bounds[3]];;){for(;this._index<this._curList.items.count;++this._index){var r=this._curList.items.at(this._index),a=this._drawItem(e,o,this._curList,this._index,this._indent,this._information,r,t,n);if(e=a.pageResult,t=a.height,n=a.y,i+=t,e.broken)return e;if(e.markerWrote=!1,r.subList&&r.subList.items.count>0){if(this._curList instanceof il){var s=this._curList;s._currentIndex=this._index,(l=new nl(this._curList,this._index,s._getNumber()))._brush=this._currentBrush,l._font=this._currentFont,l._format=this._currentFormat,l._pen=this._currentPen,l._markerWidth=this._markerMaxWidth,this._information.push(l)}else{var l;(l=new nl(this._curList,this._index))._brush=this._currentBrush,l._font=this._currentFont,l._format=this._currentFormat,l._pen=this._currentPen,this._information.push(l)}this._curList=r.subList,this._curList instanceof il&&(this._markerMaxWidth=this._getMarkerMaxWidth(this._curList,this._information)),this._index=-1,this._indent+=this._curList.indent,this._size[0]=this._size[0]-this._curList.indent,this._setCurrentParameters(r),this._setCurrentParameters(this._curList)}}if(0===this._information.length){this._resultHeight=i,this._finish=!0;break}var d=this._information.pop();this._index=d._index+1,this._indent-=this._curList.indent,this._size[0]=this._size[0]+this._curList.indent,this._markerMaxWidth=d._markerWidth,this._currentBrush=d._brush,this._currentPen=d._pen,this._currentFont=d._font,this._currentFormat=d._format,this._curList=d._list}return e},e.prototype._drawItem=function(e,t,i,n,o,r,a,s,l){var d,h,A=new Bi,p=i.textIndent,c=s+l,g=o+t,u=0,f=this._size,m=a.text,w=this._currentBrush,y=0;a.brush&&(w=a.brush);var S=this._currentPen;a.pen&&(S=a.pen);var C=this._currentFont;a.font&&(C=a.font);var B=this._currentFormat;if(a.stringFormat&&(B=a.stringFormat),(this._size[0]<=0||this._size[0]<C.size)&&this._currentPage)throw new Error("There is not enough space to layout list.");this._size[1]=this._size[1]-s,e.broken&&(m=e.itemText,h=e.markerText);var I=!0,b=this._createMarkerResult(n,i,r,a);if(b?(i instanceof il?(g+=this._markerMaxWidth,e.markerWidth=this._markerMaxWidth):(g+=b._actualSize[0],e.markerWidth=b._actualSize[0]),y=b._actualSize[1],this._currentPage&&(I=y<this._size[1]),b._empty&&(I=!1)):(g+=i._size[0],e.markerWidth=i._size[0],y=i._size[1],this._currentPage&&(I=y<this._size[1])),h&&""!==h||(I=!0),m&&I){if((f=this._size)[0]=f[0]-e.markerWidth,0===a.textIndent?f[0]=f[0]-p:f[0]=f[0]-a.textIndent,(f[0]<=0||f[0]<C.size)&&this._currentPage)throw new Error("Not enough space to layout the text. The marker is too long or there is not enough space to draw it.");var v=g;i._markerRightToLeft?(v-=e.markerWidth,!B||B.alignment!==We.right&&B.alignment!==We.center||(v-=o)):0===a.textIndent?v+=p:v+=a.textIndent,!this._currentPage&&B&&((B=Object.assign({},B)).alignment=We.left),d=A._layout(m,C,B,f);var E=[v,c,f[0],f[1]];this._graphics._drawStringLayoutResult(d,C,S,w,E,B),l=c,u=d._actualSize[1]}if(s=u<y?y:u,d&&d._remainder&&""!==d._remainder||b&&b._remainder&&""!==b._remainder||!I?(l=0,s=0,d?(e.itemText=d._remainder,d._remainder===a.text&&(I=!1)):e.itemText=I?void 0:a.text,e.markerText=b?b._remainder:void 0,e.broken=!0,e.y=0,this._bounds[1]=0):e.broken=!1,d){if(e.markerX=g,B)switch(B.alignment){case We.right:e.markerX=g+f[0]-d._actualSize[0];break;case We.center:e.markerX=g+f[0]/2-d._actualSize[0]/2}i._markerRightToLeft&&(e.markerX+=d._actualSize[0],0===a.textIndent?e.markerX+=p:e.markerX+=a.textIndent,!B||B.alignment!==We.right&&B.alignment!==We.center||(e.markerX-=o))}return I&&!e.markerWrote&&(e.markerWrote=this._drawMarker(i,a,b,c,e.markerX),e.markerWidth=i instanceof il?b._actualSize[0]:i._size[0]),{pageResult:e,height:s,y:l}},e.prototype._createMarkerResult=function(e,t,i,n){return t instanceof il?this._createOrderedMarkerResult(t,n,e,i,!1):this._createUnorderedMarkerResult(t,n)},e.prototype._drawMarker=function(e,t,i,n,o){return e instanceof il?e.font&&i&&(e.font.size>i._actualSize[1]&&(n+=e.font.size/2-i._actualSize[1]/2,i._actualSize[1]=i._actualSize[1]+n),this._drawOrderedMarker(e,i,t,o,n)):(e.font&&i&&e.font.size>i._actualSize[1]&&(n+=e.font.size/2-i._actualSize[1]/2,i._actualSize[1]=i._actualSize[1]+n),this._drawUnorderedMarker(e,i,t,o,n)),!0},e.prototype._drawUnorderedMarker=function(e,t,i,n,o){var r=this._getMarkerFont(e,i),a=this._getMarkerPen(e,i),s=this._getMarkerBrush(e,i);t?(e._size=t._actualSize,e._unicodeFont=new nn(Ei.zapfDingbats,r.size),e._draw(this._graphics,n-t._actualSize[0],o,s,a)):(e._size=[r.size,r.size],e._draw(this._graphics,n-r.size,o,s,a))},e.prototype._drawOrderedMarker=function(e,t,i,n,o){var r=this._getMarkerFont(e,i),a=this._getMarkerPen(e,i),s=this._getMarkerBrush(e,i),l=[n-this._markerMaxWidth,o,this._markerMaxWidth,t._actualSize[1]],d=this._setMarkerStringFormat(e,this._getMarkerFormat(e,i));this._graphics._drawStringLayoutResult(t,r,a,s,l,d)},e.prototype._setCurrentParameters=function(e){e.brush&&(this._currentBrush=e.brush),e.pen&&(this._currentPen=e.pen),e.font&&(this._currentFont=e.font),e.stringFormat&&(this._currentFormat=e.stringFormat,e instanceof tl&&(this._currentFormat._isList=!0))},e.prototype._getMarkerMaxWidth=function(e,t){for(var i=-1,n=0;n<e.items.count;n++){var o=this._createOrderedMarkerResult(e,e.items.at(n),n+e.startNumber,t,!0);i<o._actualSize[0]&&(i=o._actualSize[0])}return i},e.prototype._createUnorderedMarkerResult=function(e,t){var i=this._getMarkerFont(e,t),n=new Bi,o=new nn(Ei.zapfDingbats,i.size),r=n._layout(e._getStyledText(),o,null,this._size);return e._size=r._actualSize,e.pen&&(r._size=[r._actualSize[0]+2*e.pen._width,r._actualSize[1]+2*e.pen._width]),r},e.prototype._createOrderedMarkerResult=function(e,t,i,n,o){e._currentIndex=i;var r="";if(e.style!==Pt.none&&(r=e._getNumber()+e.suffix),e.enableHierarchy)for(var a=n.slice(),s=0;s<a.length;s++){var l=a[Number.parseInt(s.toString(),10)],d=l._list;if(!(d&&d instanceof il&&d.style!==Pt.none))break;if(r=l._number+d.delimiter+r,!d.enableHierarchy)break}var h=new Bi,A=this._getMarkerFont(e,t),p=this._getMarkerFormat(e,t),c=[0,0];return o||(c[0]=this._markerMaxWidth,p=this._setMarkerStringFormat(e,p)),h._layout(r,A,p,c)},e.prototype._setMarkerStringFormat=function(e,t){return t=t?Object.assign({},t):new pi,e.stringFormat||(t.alignment=We.right,e._markerRightToLeft&&(t.alignment=We.left)),!this._currentPage&&t&&((t=Object.assign({},t)).alignment=We.left),t},e.prototype._getMarkerFont=function(e,t){var i=e.font;return i||(i=t.font)||(i=this._currentFont),e.font=i,i},e.prototype._getMarkerFormat=function(e,t){var i=e.stringFormat;return i||(i=t.stringFormat)||(i=this._currentFormat),i},e.prototype._getMarkerPen=function(e,t){var i=e.pen;return i||(i=t.pen)||(i=this._currentPen),i},e.prototype._getMarkerBrush=function(e,t){var i=e.brush;return i||(i=t.brush)||(i=this._currentBrush),i},e.prototype._getNextPage=function(e){var t=e._crossReference._document;return e._pageIndex<t.pageCount-1?t.getPage(e._pageIndex+1):t.addPage()},e}(),rl=function(){function e(e,i){var n=this;this.thumbnailWidthMin=200,this.contentContainerScrollWidth=33,this.closeButtonLeft=170,this.isTooltipCreated=!1,this.annotationContextMenu=[],this.isCommentPanelShow=!1,this.commentPanelWidthMin=300,this.isThumbnail=!1,this.isThumbnailAddedProgrammatically=!1,this.isBookmarkOpenProgrammatically=!1,this.isNavigationToolbarVisible=!1,this.isBookmarkListOpen=!1,this.isNavigationPaneResized=!1,this.isBookmarkOpen=!1,this.isThumbnailOpen=!1,this.restrictUpdateZoomValue=!0,this.loadImportAnnotation=function(e){var i=e.target.files;if(null!==e.target.files[0]){var o=i[0];if(o){n.pdfViewer.fireImportStart(o);var r=o.type;if(o.name.split(".json").length>1&&r.includes("json"))(a=new FileReader).readAsDataURL(o),a.onload=function(e){if(e.currentTarget.result){var t=e.currentTarget.result.split(",")[1],i=atob(t);if(i){var o=JSON.parse(i),r=o.pdfAnnotation[Object.keys(o.pdfAnnotation)[0]];Object.keys(o.pdfAnnotation).length>=1&&(r.textMarkupAnnotation||r.measureShapeAnnotation||r.freeTextAnnotation||r.stampAnnotations||r.signatureInkAnnotation||r.shapeAnnotation&&r.shapeAnnotation[0].Bounds)?(n.pdfViewerBase.isPDFViewerJson=!0,n.pdfViewerBase.importAnnotations(o,Qe.Json)):(n.pdfViewerBase.isPDFViewerJson=!1,n.pdfViewerBase.clientSideRendering?n.pdfViewerBase.importAnnotations(br(t),Qe.Json):n.pdfViewerBase.importAnnotations(t,Qe.Json))}}};else if(o.name.split(".xfdf").length>1&&(r.includes("xfdf")||e.target.accept.includes("xfdf"))){var a=new FileReader;n.pdfViewerBase.clientSideRendering?a.readAsArrayBuffer(o):a.readAsDataURL(o),a.onload=function(e){if(e.currentTarget.result)if(n.pdfViewerBase.clientSideRendering){var t=new Uint8Array(e.currentTarget.result);t&&n.pdfViewerBase.importAnnotations(t,Qe.Xfdf,!0)}else{var i=e.currentTarget.result.split(",")[1];atob(i)&&n.pdfViewerBase.importAnnotations(i,Qe.Xfdf,!0)}}}else{if(n.pdfViewer.fireImportFailed(o,n.pdfViewer.localeObj.getConstant("Import Failed")),(0,t.isBlazor)())n.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_ImportFailed").then((function(e){n.pdfViewerBase.openImportExportNotificationPopup(e)}));else n.pdfViewerBase.openImportExportNotificationPopup(n.pdfViewer.localeObj.getConstant("Import Failed"))}}e.target.value=""}},this.resizeIconMouseOver=function(e){e.srcElement.style.cursor="e-resize"},this.resizePanelMouseDown=function(e){var t=null;(t=n).offset=[t.sideBarResizer.offsetLeft-e.clientX,t.sideBarResizer.offsetTop-e.clientY,t.sideBarResizer.offsetParent.clientWidth],n.previousX=e.clientX,t.isDown=!0,t.isNavigationPaneResized=!0,t.pdfViewerBase.viewerContainer.style.cursor="e-resize",t.sideBarContentContainer&&(t.sideBarContentContainer.style.cursor="e-resize")},this.resizeViewerMouseLeave=function(e){var t=null;(t=n).isDown&&setTimeout((function(){t.pdfViewerBase.onWindowResize()}),200),t.isDown=!1,t.isNavigationPaneResized&&t.sideBarContentContainer&&(t.pdfViewerBase.viewerContainer.style.cursor="default",t.sideBarContentContainer.style.cursor="default",t.isNavigationPaneResized=!1),t.commentPanelContainer&&t.isCommentPanelShow&&(n.commentPanelMouseLeave(e),t.isCommentPanelShow=!1)},this.resizePanelMouseMove=function(e){var t=null;if(t=n,!n.pdfViewerBase.getPopupNoteVisibleStatus()){var i=e.target;if(n.pdfViewerBase.skipPreventDefault(i)&&e.preventDefault(),t.isDown&&n.sideBarContentContainer){var o,r;if(n.pdfViewer.enableRtl)(o=n.previousX-e.clientX+t.offset[2])>(r=Math.floor(n.outerContainerWidth/2))&&(o=r),o<n.thumbnailWidthMin&&(o=n.thumbnailWidthMin),t.sideBarResizer.style.right=o+"px",t.sideBarContentContainer.style.width=o+"px",t.sideBarContent.style.width=o+"px",t.sideBarContentSplitter.style.width=o+"px",t.sideBarTitleContainer.style.width=o+"px",t.pdfViewerBase.viewerContainer.style.right=t.getViewerContainerLeft()+"px",t.pdfViewerBase.viewerContainer.style.left=t.getViewerContainerRight()+"px";else(o=e.clientX+t.offset[0])>(r=Math.floor(n.outerContainerWidth/2))&&(o=r),o<n.thumbnailWidthMin&&(o=n.thumbnailWidthMin),t.sideBarResizer.style.left=o+"px",t.closeDiv.style.left=o-t.contentContainerScrollWidth+"px",t.sideBarContentContainer.style.width=o+"px",t.sideBarContent.style.width=o+"px",t.sideBarContentSplitter.style.width=o+"px",t.sideBarTitleContainer.style.width=o+"px",t.pdfViewerBase.viewerContainer.style.left=t.getViewerContainerLeft()+"px",t.pdfViewerBase.viewerContainer.style.right=t.getViewerContainerRight()+"px";var a=t.pdfViewer.element.clientWidth-t.getViewerContainerLeft()-t.getViewerContainerRight();t.pdfViewerBase.viewerContainer.style.width=a+"px",t.pdfViewerBase.pageContainer.style.width=t.pdfViewerBase.viewerContainer.clientWidth+"px",t.pdfViewer.thumbnailViewModule.gotoThumbnailImage(t.pdfViewerBase.currentPageNumber-1),t.pdfViewer.thumbnailViewModule.renderViewPortThumbnailImage(),t.pdfViewerBase.updateZoomValue(),t.bookmarkButton.children[0].classList.contains("e-pv-bookmark-disable-icon")||t.pdfViewer.bookmarkViewModule.setBookmarkContentHeight()}else t.isCommentPanelShow&&n.commentPanelContainer&&n.updateCommentPanelContainer(e)}},this.sideToolbarOnClose=function(e){var t=null;(t=n).removeThumbnailSelectionIconTheme(),t.removeBookmarkSelectionIconTheme(),t.updateViewerContainerOnClose(),t.isThumbnailAddedProgrammatically=!1,t.isBookmarkOpenProgrammatically=!1,t.isThumbnail=!1,t.isBookmarkOpen=!1},this.organizeButtonOnClick=function(e){(0,t.isNullOrUndefined)(n.pdfViewer.pageOrganizer)||n.pdfViewer.pageOrganizer.createOrganizeWindow()},this.sideToolbarOnClick=function(e){n.sideBarTitle.textContent=n.pdfViewer.localeObj.getConstant("Page Thumbnails"),n.sideBarContent.setAttribute("aria-label","Thumbnail View Panel");var i=null;i=n;var o=document.getElementById(n.pdfViewer.element.id+"_bookmark_view");if(o&&(i.removeBookmarkSelectionIconTheme(),o.style.display="none"),document.getElementById(n.pdfViewer.element.id+"_thumbnail_view").style.display="flex",i.sideBarContentContainer&&("none"!==i.sideBarContentContainer.style.display?i.isBookmarkOpen?(i.isThumbnailOpen=!0,i.isThumbnail=!0,i.setThumbnailSelectionIconTheme(),i.updateViewerContainerOnExpand(),document.getElementById(i.pdfViewer.element.id+"_thumbnail_image_"+(i.pdfViewerBase.currentPageNumber-1)).focus(),i.isThumbnailAddedProgrammatically=!0):(i.isThumbnailOpen=!1,i.removeThumbnailSelectionIconTheme(),i.updateViewerContainerOnClose(),i.isThumbnailAddedProgrammatically=!1,i.isThumbnail=!1):(i.sideBarContent.focus(),i.isThumbnailOpen=!0,i.setThumbnailSelectionIconTheme(),i.updateViewerContainerOnExpand(),i.isThumbnail=!0,(0,t.isNullOrUndefined)(document.getElementById(i.pdfViewer.element.id+"_thumbnail_image_"+(i.pdfViewerBase.currentPageNumber-1)))||document.getElementById(i.pdfViewer.element.id+"_thumbnail_image_"+(i.pdfViewerBase.currentPageNumber-1)).focus(),i.isThumbnailAddedProgrammatically=!0)),i.isBookmarkOpen=!1,i.isBookmarkOpenProgrammatically=!1,n.pdfViewer.annotationModule&&n.pdfViewer.annotationModule.inkAnnotationModule){var r=parseInt(n.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10);n.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(r)}},this.openThumbnailPane=function(){var e=null;e=n;var i=document.getElementById(n.pdfViewer.element.id+"_sideBarContent"),o=document.getElementById(n.pdfViewer.element.id+"_sideBarContentContainer"),r=document.getElementById(n.pdfViewer.element.id+"_viewerContainer"),a=document.getElementById(n.pdfViewer.element.id+"_pageViewContainer");document.getElementById(n.pdfViewer.element.id+"_thumbnail_view").style.display="block",document.getElementById(n.pdfViewer.element.id+"_sideBarResizer").style.display="none",e.sideBarTitle.textContent=n.pdfViewer.localeObj.getConstant("Page Thumbnails"),e.sideBarContent.setAttribute("aria-label","Thumbnail View Panel"),e.sideBarContent.setAttribute("tabindex","0");var s=document.getElementById(n.pdfViewer.element.id+"_bookmark_view");if(s&&(e.removeBookmarkSelectionIconTheme(),s.style.display="none"),o&&!n.isThumbnailAddedProgrammatically&&(e.isThumbnail?(o.style.display="none",r.style.width=e.pdfViewer.element.clientWidth+"px",a.style.width=r.clientWidth+"px",r.style.left=o.clientWidth+"px",e.pdfViewerBase.updateZoomValue(),e.removeThumbnailSelectionIconTheme(),e.isThumbnail=!1):(i.focus(),e.setThumbnailSelectionIconTheme(),e.updateViewerContainerOnExpand(),e.isThumbnail=!0,e.pdfViewerBase.updateZoomValue(),(0,t.isNullOrUndefined)(e.pdfViewer.thumbnailViewModule)||e.pdfViewer.thumbnailViewModule.gotoThumbnailImage(e.pdfViewerBase.currentPageNumber-1),e.isThumbnailAddedProgrammatically=!0,e.isThumbnailOpen=!0,e.isBookmarkOpen=!1,e.isBookmarkOpenProgrammatically=!1)),n.pdfViewer.annotationModule&&n.pdfViewer.annotationModule.inkAnnotationModule){var l=parseInt(n.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10);n.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(l)}},this.closeThumbnailPane=function(){var e=null;((e=n).isThumbnail||e.isThumbnailAddedProgrammatically||e.pdfViewer.isThumbnailViewOpen)&&(e.sideBarContent.removeAttribute("tabindex"),e.removeThumbnailSelectionIconTheme(),e.isThumbnailOpen=!1,e.updateViewerContainerOnClose(),e.isThumbnailAddedProgrammatically=!1,e.isThumbnail=!1)},this.bookmarkButtonOnClick=function(e){n.openBookmarkcontentInitially(!0)},this.closeBookmarkPane=function(){var e=n;(e.isBookmarkOpen||e.isBookmarkOpenProgrammatically)&&(e.removeBookmarkSelectionIconTheme(),e.isBookmarkOpen=!1,e.updateViewerContainerOnClose(),e.isBookmarkOpenProgrammatically=!1,e.isBookmarkListOpen=!1)},this.commentPanelMouseDown=function(e){var t=null;(t=n).offset=[t.commentPanelResizer.offsetLeft-e.clientX,t.commentPanelResizer.offsetTop-e.clientY,t.getViewerContainerRight()],n.isCommentPanelShow=!0,n.previousX=e.clientX,t.pdfViewerBase.viewerContainer.style.cursor="e-resize",t.commentPanelResizer.style.cursor="e-resize"},this.updateCommentPanelContainer=function(e){var t,i,o=null;(o=n,n.pdfViewer.enableRtl)?((t=e.clientX+o.offset[0])>(i=Math.floor(n.outerContainerWidth/2))&&(t=i),t<n.commentPanelWidthMin&&(t=n.commentPanelWidthMin),o.commentPanelResizer.style.left=t+"px",o.commentPanelContainer.style.width=t+"px",o.pdfViewerBase.viewerContainer.style.left=o.getViewerContainerRight()+"px",o.pdfViewerBase.viewerContainer.style.right=o.getViewerContainerLeft()+"px"):((t=n.previousX-e.clientX+o.offset[2])>(i=Math.floor(n.outerContainerWidth/2))&&(t=i),t<n.commentPanelWidthMin&&(t=n.commentPanelWidthMin),o.commentPanelResizer.style.right=t+"px",o.commentPanelContainer.style.width=t+"px",o.pdfViewerBase.viewerContainer.style.right=o.getViewerContainerRight()+"px",o.pdfViewerBase.viewerContainer.style.left=o.getViewerContainerLeft()+"px");n.pdfViewer.annotation.stickyNotesAnnotationModule.updateCommentPanelTextTop();var r=o.pdfViewer.element.clientWidth-o.getViewerContainerLeft()-o.getViewerContainerRight();o.pdfViewerBase.viewerContainer.style.width=r+"px",o.pdfViewerBase.pageContainer.style.width=o.pdfViewerBase.viewerContainer.clientWidth+"px",o.calculateCommentPanelWidth(),o.pdfViewerBase.updateZoomValue()},this.commentPanelMouseLeave=function(e){var t=null;(t=n).commentPanelContainer&&(t.pdfViewerBase.viewerContainer.style.cursor="default",t.commentPanelContainer.style.cursor="default")},this.pdfViewer=e,this.pdfViewerBase=i}return e.prototype.initializeNavigationPane=function(){!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.createNavigationPane():(this.commentPanelContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commantPanel",className:"e-pv-mobile-comments-container"}),this.pdfViewerBase.mainContainer.appendChild(this.commentPanelContainer),this.pdfViewer.enableRtl?this.commentPanelContainer.style.left="0px":this.commentPanelContainer.style.right="0px",this.commentPanelContainer.style.bottom="0px",this.createCommentPanelTitleContainer(),this.commentPanelContainer.style.display="none",this.commentsContentContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentscontentcontainer",className:"e-pv-comments-content-container"}),this.commentPanelContainer.appendChild(this.commentsContentContainer),this.createFileElement(this.commentPanelContainer),this.createXFdfFileElement(this.commentPanelContainer))},e.prototype.createNavigationPane=function(){(0,t.isBlazor)()?(this.sideBarToolbar=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar"),this.sideBarToolbarSplitter=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar-splitter"),this.sideBarContentContainer=this.pdfViewer.element.querySelector(".e-pv-sidebar-content-container"),this.sideBarContentSplitter=this.pdfViewer.element.querySelector(".e-pv-sidebar-content-splitter"),this.sideBarContent=this.pdfViewer.element.querySelector(".e-pv-sidebar-content"),this.sideBarTitleContainer=this.pdfViewer.element.querySelector(".e-pv-sidebar-title-container"),this.sideBarTitle=this.pdfViewer.element.querySelector(".e-pv-sidebar-title"),this.sideBarResizer=this.pdfViewer.element.querySelector(".e-pv-sidebar-resizer")):(this.sideBarToolbar=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_sideBarToolbar",className:"e-pv-sidebar-toolbar",attrs:{role:"toolbar","aria-orientation":"vertical",tabindex:"-1","aria-label":"Sidebar Toolbar"}}),this.sideBarToolbarSplitter=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_sideBarToolbarSplitter",className:"e-pv-sidebar-toolbar-splitter"}),this.sideBarContentContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_sideBarContentContainer",className:"e-pv-sidebar-content-container"}),this.sideBarContentSplitter=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_sideBarContentSplitter",className:"e-pv-sidebar-content-splitter"}),this.sideBarContent=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_sideBarContent",className:"e-pv-sidebar-content"}),this.sideBarTitleContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_sideBarTitleContainer",className:"e-pv-sidebar-title-container"}),this.sideBarTitle=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_sideBarTitle",className:"e-pv-sidebar-title",attrs:{tabindex:"-1"}}),this.sideBarResizer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_sideBarResizer",className:"e-pv-sidebar-resizer"})),this.pdfViewerBase.mainContainer.appendChild(this.sideBarToolbar),this.pdfViewer.enableRtl&&(this.sideBarToolbar.style.cssFloat="right",this.sideBarToolbar.style.right="1px",this.sideBarToolbar.style.position="relative"),this.pdfViewerBase.mainContainer.appendChild(this.sideBarToolbarSplitter),this.pdfViewer.enableRtl?this.sideBarToolbarSplitter.classList.add("e-right"):this.sideBarToolbarSplitter.classList.add("e-left"),this.pdfViewer.enableRtl?this.sideBarContentContainer.classList.add("e-right"):this.sideBarContentContainer.classList.add("e-left"),this.pdfViewerBase.mainContainer.appendChild(this.sideBarContentContainer),this.pdfViewer.enableRtl&&(this.sideBarContentSplitter.style.right="0px"),this.sideBarContentContainer.appendChild(this.sideBarContentSplitter),this.pdfViewer.enableRtl&&(this.sideBarContent.style.right="0px",this.sideBarContent.style.direction="rtl"),this.sideBarContentContainer.appendChild(this.sideBarContent),this.pdfViewer.enableRtl&&(this.sideBarTitleContainer.style.right="0px"),this.pdfViewer.enableRtl?this.sideBarTitle.classList.add("e-right"):this.sideBarTitle.classList.add("e-left"),this.sideBarTitleContainer.appendChild(this.sideBarTitle),this.sideBarContentContainer.appendChild(this.sideBarTitleContainer),this.sideBarResizer.addEventListener("mousedown",this.resizePanelMouseDown),this.pdfViewerBase.mainContainer.addEventListener("mousemove",this.resizePanelMouseMove),this.pdfViewerBase.mainContainer.addEventListener("mouseup",this.resizeViewerMouseLeave),this.pdfViewer.enableRtl?this.sideBarResizer.classList.add("e-right"):this.sideBarResizer.classList.add("e-left"),this.sideBarContentContainer.appendChild(this.sideBarResizer),this.createCommentPanel();var e=this.getViewerContainerLeft(),i=this.getViewerContainerRight();this.pdfViewer.enableRtl||(this.pdfViewerBase.viewerContainer.style.left=e+"px",this.pdfViewerBase.viewerContainer.style.right=i+"px"),this.pdfViewerBase.viewerContainer.style.width=this.pdfViewer.element.clientWidth-e-this.commentPanelContainer.clientWidth+"px",this.sideBarContentContainer.style.display="none",this.pdfViewer.enableNavigationToolbar||(this.pdfViewer.enableRtl?this.sideBarContentContainer.style.right="0px":this.sideBarContentContainer.style.left="0px"),this.createSidebarToolBar(),this.createSidebarTitleCloseButton(),this.createResizeIcon(),this.sideBarToolbar.addEventListener("mouseup",this.sideToolbarOnMouseup.bind(this)),this.sideBarContentContainer.addEventListener("mouseup",this.sideBarTitleOnMouseup.bind(this))},e.prototype.adjustPane=function(){if((0,t.isBlazor)()){var e=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar-splitter"),i=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar"),n=this.pdfViewer.element.querySelector(".e-pv-sidebar-content-container");0===(r=(o=this.pdfViewer.element.querySelector(".e-pv-toolbar")).getBoundingClientRect().height)&&(r=parseFloat(window.getComputedStyle(o).height)+1),this.pdfViewer.enableToolbar||(r=0),i.style.top=r+"px",n.style.top=r+"px",e.style.top=r+"px",i.style.height=this.getSideToolbarHeight(r),n.style.height=this.getSideToolbarHeight(r),e.style.height=this.getSideToolbarHeight(r),this.pdfViewerBase.viewerContainer.style.height=this.getSideToolbarHeight(r)}else{var o,r;e=this.pdfViewerBase.getElement("_sideBarToolbarSplitter");0===(r=(o=this.pdfViewerBase.getElement("_toolbarContainer")).clientHeight)&&(r=parseFloat(window.getComputedStyle(o).height)+1),this.sideBarToolbar.style.top=r+"px",this.sideBarContentContainer.style.top=r+"px",e.style.top=r+"px"}},e.prototype.getSideToolbarHeight=function(e){var t=this.pdfViewer.element.getBoundingClientRect().height;return 0!==t?t-e+"px":""},e.prototype.createCommentPanel=function(){this.commentPanelContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commantPanel",className:"e-pv-comment-panel"}),this.pdfViewerBase.mainContainer.appendChild(this.commentPanelContainer),this.pdfViewer.enableRtl?this.commentPanelContainer.style.left="0px":this.commentPanelContainer.style.right="0px",this.commentPanelContainer.style.bottom="0px",this.createCommentPanelTitleContainer(),this.commentPanelContainer.style.display="none",this.commentsContentContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentscontentcontainer",className:"e-pv-comments-content-container"}),this.commentPanelContainer.appendChild(this.commentsContentContainer),this.commentPanelResizer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentPanelResizer",className:"e-pv-comment-panel-resizer"}),this.pdfViewer.enableRtl?this.commentPanelResizer.classList.add("e-left"):this.commentPanelResizer.classList.add("e-right"),this.commentPanelResizer.style.display="none",this.commentPanelResizer.addEventListener("mousedown",this.commentPanelMouseDown),this.pdfViewerBase.mainContainer.appendChild(this.commentPanelResizer),this.createCommentPanelResizeIcon(),this.createFileElement(this.commentPanelContainer),this.createXFdfFileElement(this.commentPanelContainer)},e.prototype.createCommentPanelTitleContainer=function(){var e=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentPanelTitleContainer",className:"e-pv-comment-panel-title-container"}),i=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentPanelTitle",className:"e-pv-comment-panel-title",attrs:{tabindex:"-1"}});(0,t.isBlazor)()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_Comments").then((function(e){i.innerText=e})):i.innerText=this.pdfViewer.localeObj.getConstant("Comments");var n=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_annotations_btn"});n.setAttribute("aria-label","annotation button"),n.setAttribute("type","button"),n.className="e-btn e-pv-tbar-btn e-pv-comment-panel-title-close-div e-btn";var o=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_annotation_more_icon",className:"e-pv-more-icon e-pv-icon"});if(n.appendChild(o),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&!(0,t.isBlazor)()){var r=(0,t.createElement)("button");r.setAttribute("aria-label","annotation button"),r.setAttribute("type","button"),r.style.borderColor="transparent",r.style.paddingTop="11px",r.style.paddingBottom="11px",r.style.backgroundColor="transparent",r.addEventListener("click",this.closeCommentPanelContainer.bind(this)),i.style.left="37px";var a=(0,t.createElement)("span",{className:"e-pv-annotation-tools-close-icon e-pv-icon"});r.appendChild(a),e.appendChild(r)}e.appendChild(i),e.appendChild(n),this.commentPanelContainer.appendChild(e),this.createAnnotationContextMenu(),n.addEventListener("click",this.openAnnotationContextMenu.bind(this))},e.prototype.createCommentPanelResizeIcon=function(){this.commentPanelResizeIcon=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_commentPanel_resize",className:"e-pv-resize-icon e-pv-icon"}),this.setCommentPanelResizeIconTop(),this.commentPanelResizeIcon.style.position="absolute",this.commentPanelResizer.appendChild(this.commentPanelResizeIcon)},e.prototype.openAnnotationContextMenu=function(e){this.annotationMenuObj.open(e.clientY,e.clientX,e.currentTarget)},e.prototype.createAnnotationContextMenu=function(){this.annotationContextMenu=[{text:this.pdfViewer.localeObj.getConstant("Export Annotations")},{text:this.pdfViewer.localeObj.getConstant("Import Annotations")},{text:this.pdfViewer.localeObj.getConstant("Export XFDF")},{text:this.pdfViewer.localeObj.getConstant("Import XFDF")}];var e=(0,t.createElement)("ul",{id:this.pdfViewer.element.id+"_annotation_context_menu"});this.pdfViewer.element.appendChild(e),this.annotationMenuObj=new ai.ContextMenu({target:"#"+this.pdfViewer.element.id+"_annotations_btn",items:this.annotationContextMenu,select:this.annotationMenuItemSelect.bind(this)}),this.pdfViewer.enableRtl&&(this.annotationMenuObj.enableRtl=!0),this.annotationMenuObj.appendTo(e),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.annotationMenuObj.animationSettings.effect="ZoomIn":this.annotationMenuObj.animationSettings.effect="SlideDown"},e.prototype.annotationMenuItemSelect=function(e){if(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.inkAnnotationModule){var t=parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10);this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(t)}if(e.item)switch(e.item.text){case this.pdfViewer.localeObj.getConstant("Export Annotations"):this.pdfViewerBase.exportAnnotations(Qe.Json);break;case this.pdfViewer.localeObj.getConstant("Import Annotations"):this.importAnnotationIconClick(e);break;case this.pdfViewer.localeObj.getConstant("Export XFDF"):this.pdfViewerBase.exportAnnotations(Qe.Xfdf);break;case this.pdfViewer.localeObj.getConstant("Import XFDF"):this.importXFdfAnnotationIconClick(e)}},e.prototype.createFileElement=function(e){this.annotationInputElement=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_annotationUploadElement",styles:"position:fixed; left:-100em",attrs:{type:"file","aria-label":"upload elements"}}),this.annotationInputElement.setAttribute("accept",".json"),e.appendChild(this.annotationInputElement),this.annotationInputElement.addEventListener("change",this.loadImportAnnotation)},e.prototype.createXFdfFileElement=function(e){this.annotationXFdfInputElement=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_annotationXFdfUploadElement",styles:"position:fixed; left:-100em",attrs:{type:"file","aria-label":"upload elements"}}),this.annotationXFdfInputElement.setAttribute("accept",".xfdf"),e.appendChild(this.annotationXFdfInputElement),this.annotationXFdfInputElement.addEventListener("change",this.loadImportAnnotation)},e.prototype.importAnnotationIconClick=function(e){this.annotationInputElement.click()},e.prototype.importXFdfAnnotationIconClick=function(e){this.annotationXFdfInputElement.click()},e.prototype.closeCommentPanelContainer=function(){var e;e=this;var i=document.getElementById(this.pdfViewer.element.id+"_viewerContainer"),n=document.getElementById(this.pdfViewer.element.id+"_pageViewContainer"),o=document.getElementById(this.pdfViewer.element.id+"_commantPanel");o&&(o.style.display="none",e.commentPanelResizer&&(e.commentPanelResizer.style.display="none"),i&&(this.pdfViewer.enableRtl?i.style.left=e.getViewerContainerRight()+"px":i.style.right=e.getViewerContainerRight()+"px",i.style.width=e.pdfViewer.element.clientWidth-e.getViewerContainerLeft()-e.getViewerContainerRight()+"px",n.style.width=e.pdfViewerBase.viewerContainer.offsetWidth-e.getViewerContainerScrollbarWidth()+"px"),e.pdfViewerBase&&e.pdfViewerBase.updateZoomValue(),this.pdfViewer.annotation&&this.pdfViewer.annotation.textMarkupAnnotationModule&&this.pdfViewer.annotation.textMarkupAnnotationModule.showHideDropletDiv(!0),t.Browser.isDevice&&!(0,t.isBlazor)()&&this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.element.style.display="block",this.pdfViewer.toolbarModule.annotationToolbarModule.propertyToolbar&&(this.pdfViewer.toolbarModule.annotationToolbarModule.propertyToolbar.element.style.display="block")))},e.prototype.createNavigationPaneMobile=function(e){var i,n=this;if(this.isNavigationToolbarVisible=!0,this.toolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_navigationToolbar",className:"e-pv-nav-toolbar"}),this.pdfViewerBase.viewerMainContainer.insertBefore(this.toolbarElement,this.pdfViewerBase.viewerContainer),"search"===e){var o='<div class="e-input-group e-pv-text-search-input-mobile" id="'+this.pdfViewer.element.id+'_search_input_container"><input class="e-input" type="text" placeholder="'+this.pdfViewer.localeObj.getConstant("Find in document")+'" id="'+this.pdfViewer.element.id+'_search_input"></input></div>',r='\n                <span class="e-pv-search-count" id="'+this.pdfViewer.element.id+'_search_count"></span>\n            ';i=[{prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)},{template:o},{prefixIcon:"e-pv-search-icon e-pv-icon",id:this.pdfViewer.element.id+"_search_box-icon",click:function(){var e=n.pdfViewerBase.getElement("_search_box-icon").firstElementChild;e.classList.contains("e-pv-search-close")&&n.enableSearchItems(!1),n.pdfViewer.textSearchModule.searchButtonClick(e,n.searchInput,!0),n.setSearchInputWidth()}},{template:r},{prefixIcon:this.pdfViewer.enableRtl?"e-pv-next-search-icon e-pv-icon":"e-pv-prev-search-icon e-pv-icon",id:this.pdfViewer.element.id+"_prev_occurrence",click:function(e){n.pdfViewer.textSearchModule.searchPrevious(),n.setSearchInputWidth()}},{prefixIcon:this.pdfViewer.enableRtl?"e-pv-prev-search-icon e-pv-icon":"e-pv-next-search-icon e-pv-icon",id:this.pdfViewer.element.id+"_next_occurrence",click:function(e){n.pdfViewer.textSearchModule.searchNext(),n.setSearchInputWidth()}}]}else i=[{prefixIcon:"e-pv-backward-icon e-pv-icon",id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)},{text:this.pdfViewer.localeObj.getConstant("Bookmarks")}];if(this.toolbar=new ai.Toolbar({items:i,width:"",height:"",overflowMode:"Popup"}),this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.toolbarElement),"search"===e){var a=this.pdfViewerBase.getElement("_toolbarContainer");if(a){var s=a.clientHeight;0===s&&(s=parseFloat(window.getComputedStyle(a).height)+1),this.pdfViewerBase.toolbarHeight=s}this.initiateSearchBox()}else this.initiateBookmarks()},e.prototype.initiateSearchBox=function(){var e=this;this.searchInput=this.pdfViewerBase.getElement("_search_input"),this.pdfViewer.textSearchModule.searchBtn=this.pdfViewerBase.getElement("_search_box-icon").firstElementChild,this.searchInput.addEventListener("keyup",(function(t){e.enableSearchItems(!0);e.searchInput.value;13===t.which?(e.initiateTextSearch(),e.setSearchInputWidth()):e.pdfViewer.textSearchModule.resetVariables()}));var t=document.getElementById(this.pdfViewer.element.id+"_search_count").parentElement;t&&(t.style.display="none"),this.pdfViewer.textSearchModule.searchInput=this.searchInput,this.setSearchInputWidth(),this.enableSearchItems(!1),this.searchInput.focus()},e.prototype.enableSearchItems=function(e){(0,t.isBlazor)()?this.pdfViewer._dotnetInstance.invokeMethodAsync("EnableSearchItems",e):(this.toolbar.enableItems(this.pdfViewerBase.getElement("_prev_occurrence").parentElement,e),this.toolbar.enableItems(this.pdfViewerBase.getElement("_next_occurrence").parentElement,e))},e.prototype.initiateBookmarks=function(){if(t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode){this.pdfViewerBase.mobileScrollerContainer.style.display="none";for(var e=document.querySelectorAll(".e-pv-mobile-annotation-toolbar"),i=0;i<e.length;i++)e[parseInt(i.toString(),10)].style.display="none"}var n=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_bookmarks_container",className:"e-pv-bookmark-container"});n.style.width="100%",n.style.height=this.pdfViewerBase.viewerContainer.style.height,this.pdfViewerBase.getElement("_viewerMainContainer").appendChild(n),this.pdfViewerBase.viewerContainer.style.display="none",this.isBookmarkListOpen=!0,this.pdfViewer.bookmarkViewModule.renderBookmarkContentMobile()},e.prototype.initiateTextSearch=function(){var e=this.searchInput.value;this.pdfViewer.textSearchModule.initiateSearch(e,!0)},e.prototype.goBackToToolbar=function(){if(this.isNavigationToolbarVisible=!1,(!(0,t.isBlazor)()||t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode)&&(0,t.isBlazor)()||this.pdfViewer.textSearchModule.cancelTextSearch(),this.searchInput=null,0!==this.pdfViewer.bookmarkViewModule.childNavigateCount)this.pdfViewer.bookmarkViewModule.bookmarkList.back(),this.pdfViewer.bookmarkViewModule.childNavigateCount--;else{null!=this.toolbar&&(this.toolbar.destroy(),this.toolbar=null);var e=this.pdfViewerBase.getElement("_bookmarks_container");e&&(e.parentElement.removeChild(e),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.pdfViewerBase.mobileScrollerContainer.style.display="")),this.toolbarElement&&null!=this.toolbarElement.parentElement&&this.toolbarElement.parentElement.removeChild(this.toolbarElement),this.pdfViewerBase.viewerContainer.style.display="block",this.isBookmarkListOpen=!1,(0,t.isBlazor)()?this.pdfViewerBase.onWindowResize():this.pdfViewer.toolbar.annotationToolbarModule.isMobileAnnotEnabled||this.pdfViewer.toolbarModule.showToolbar(!0)}},e.prototype.setSearchInputWidth=function(){var e=this.searchInput.parentElement,i=window.getComputedStyle(e.parentElement,null).getPropertyValue("padding-left");(0,t.isBlazor)()&&t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.toolbarElement=this.pdfViewerBase.getElement("_navigationToolbar"));var n=this.toolbarElement.clientWidth-this.getParentElementSearchBox("_backward").clientWidth-this.getParentElementSearchBox("_search_box-icon").clientWidth-this.getParentElementSearchBox("_prev_occurrence").clientWidth-this.getParentElementSearchBox("_next_occurrence").clientWidth-this.getParentElementSearchBox("_search_count").clientWidth-6;""!==i&&(n-=2*parseFloat(i)),e.style.width=n+"px"},e.prototype.getParentElementSearchBox=function(e){return this.pdfViewerBase.getElement(e).parentElement},e.prototype.createTooltipMobile=function(e){if(this.isTooltipCreated){if(this.toastObject){this.toastObject.title=e;var t=this.pdfViewerBase.getElement("_container_tooltip").firstElementChild;if(t)t.style.width="auto",t.firstElementChild.firstElementChild.textContent=e;else{this.isTooltipCreated=!1;var i=this.pdfViewerBase.getElement("_container_tooltip");this.toastObject&&this.toastObject.destroy(),i.parentElement.removeChild(i),this.toastObject=null,this.createMobileTooltip(e)}}}else this.createMobileTooltip(e)},e.prototype.createMobileTooltip=function(e){var i=(0,t.createElement)("div",{className:"e-pv-container-tooltip",id:this.pdfViewer.element.id+"_container_tooltip"});this.pdfViewer.element.appendChild(i),this.toastObject=new di.Toast({title:e,target:this.pdfViewer.element,close:this.onTooltipClose.bind(this),position:{X:0,Y:0},animation:{hide:{duration:200,effect:"FadeOut"}}}),this.toastObject.appendTo(i);var n=.65*this.pdfViewer.element.clientHeight,o=(this.pdfViewer.element.clientWidth-i.clientWidth)/2;this.isTooltipCreated=!0,this.toastObject.show({position:{X:o,Y:n}});var r=i.firstElementChild;r&&(r.style.width="auto")},e.prototype.onTooltipClose=function(e){if(this.pdfViewer.textSearchModule){this.isTooltipCreated=!1;var t=this.pdfViewerBase.getElement("_container_tooltip");this.pdfViewer.textSearchModule.isMessagePopupOpened=!1,this.toastObject&&this.toastObject.destroy(),t.parentElement.removeChild(t),this.toastObject=null}},e.prototype.toolbarResize=function(){this.searchInput&&(this.searchInput.style.width="auto",this.setSearchInputWidth())},e.prototype.createSidebarToolBar=function(){if((0,t.isBlazor)())this.thumbnailButton=this.pdfViewer.element.querySelector(".e-pv-thumbnail-view-button"),this.bookmarkButton=this.pdfViewer.element.querySelector(".e-pv-bookmark-button");else{var e=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);this.thumbnailButton=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_thumbnail-view",attrs:{disabled:"disabled","aria-label":"Page Thumbnails",tabindex:"-1"}}),this.thumbnailButton.className="e-pv-tbar-btn e-pv-thumbnail-view-button e-btn",this.thumbnailButton.setAttribute("type","button");var i=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_thumbnail-view_icon",className:"e-pv-thumbnail-view-disable-icon e-pv-icon"});this.thumbnailButton.appendChild(i),new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return this.pdfViewer.localeObj.getConstant("Page Thumbnails")+(e?" (++1)":" (Ctrl+Alt+1)")}),this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.thumbnailButton),this.bookmarkButton=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_bookmark",attrs:{disabled:"disabled","aria-label":"Bookmarks",tabindex:"-1"}}),this.bookmarkButton.setAttribute("type","button"),this.bookmarkButton.className="e-pv-tbar-btn e-pv-bookmark-button e-btn";var n=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_bookmark_icon",className:"e-pv-bookmark-disable-icon e-pv-icon"});this.bookmarkButton.appendChild(n),new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return this.pdfViewer.localeObj.getConstant("Bookmarks")+(e?" (++2)":" (Ctrl+Alt+2)")}),this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.bookmarkButton),this.organizePageButton=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_organize-view",attrs:{disabled:"disabled","aria-label":"Organize Pages",tabindex:"-1"}}),this.organizePageButton.className="e-pv-tbar-btn e-pv-organize-view-button e-btn",this.organizePageButton.setAttribute("type","button");var o=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_organize-view_icon",className:"e-pv-organize-view-disable-icon e-pv-icon"});this.organizePageButton.appendChild(o),new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return this.pdfViewer.localeObj.getConstant("Organize Pages")+(e?" (++3)":" (Ctrl+Alt+3)")}),this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.organizePageButton),this.sideBarToolbar.appendChild(this.thumbnailButton),this.sideBarToolbar.appendChild(this.bookmarkButton),(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer)||this.sideBarToolbar.appendChild(this.organizePageButton)}this.thumbnailButton.addEventListener("click",this.sideToolbarOnClick),this.bookmarkButton.addEventListener("click",this.bookmarkButtonOnClick),this.organizePageButton.addEventListener("click",this.organizeButtonOnClick)},e.prototype.onTooltipBeforeOpen=function(e){this.pdfViewer.toolbarSettings.showTooltip||(e.cancel=!0)},e.prototype.enableOrganizeButton=function(e){this.organizePageButton&&(e?(this.organizePageButton.removeAttribute("disabled"),this.organizePageButton.children[0].classList.remove("e-pv-organize-view-disable-icon"),this.organizePageButton.children[0].classList.add("e-pv-organize-view-icon"),this.organizePageButton.setAttribute("tabindex","0")):(this.organizePageButton.setAttribute("disabled","disabled"),this.organizePageButton.children[0].classList.remove("e-pv-organize-view-icon"),this.organizePageButton.children[0].classList.add("e-pv-organize-view-disable-icon"),this.organizePageButton.setAttribute("tabindex","-1")))},e.prototype.enableThumbnailButton=function(){this.thumbnailButton&&(this.thumbnailButton.removeAttribute("disabled"),this.thumbnailButton.children[0].classList.remove("e-pv-thumbnail-view-disable-icon"),this.thumbnailButton.children[0].classList.add("e-pv-thumbnail-view-icon"),this.thumbnailButton.setAttribute("tabindex","0"))},e.prototype.enableBookmarkButton=function(){this.bookmarkButton&&(this.bookmarkButton.removeAttribute("disabled"),this.bookmarkButton.children[0].classList.remove("e-pv-bookmark-disable-icon"),this.bookmarkButton.children[0].classList.add("e-pv-bookmark-icon"),this.bookmarkButton.setAttribute("tabindex","0"))},e.prototype.createSidebarTitleCloseButton=function(){this.closeDiv=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_close_btn"}),this.closeDiv.setAttribute("aria-label","close button"),this.closeDiv.setAttribute("type","button"),this.closeDiv.className="e-btn e-pv-tbar-btn e-pv-title-close-div e-btn",this.pdfViewer.enableRtl?this.closeDiv.style.left="8px":this.closeDiv.style.left=this.closeButtonLeft+"px";var e=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_close_icon",className:"e-pv-title-close-icon e-pv-icon"});this.closeDiv.appendChild(e),this.sideBarTitleContainer.appendChild(this.closeDiv),this.closeDiv.addEventListener("click",this.sideToolbarOnClose)},e.prototype.createResizeIcon=function(){this.resizeIcon=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_resize",className:"e-pv-resize-icon e-pv-icon"}),this.setResizeIconTop(),this.resizeIcon.style.position="absolute",this.resizeIcon.addEventListener("click",this.sideToolbarOnClose),this.resizeIcon.addEventListener("mouseover",this.resizeIconMouseOver),this.sideBarResizer.appendChild(this.resizeIcon)},e.prototype.setResizeIconTop=function(){this.sideBarToolbar&&this.sideBarToolbar.clientHeight&&""===this.resizeIcon.style.top&&(this.resizeIcon.style.top=this.sideBarToolbar.clientHeight/2+"px")},e.prototype.setCommentPanelResizeIconTop=function(){this.commentPanelContainer&&this.commentPanelContainer.clientHeight&&this.commentPanelResizeIcon&&""===this.commentPanelResizeIcon.style.top&&(this.commentPanelResizeIcon.style.top=this.commentPanelContainer.clientHeight/2+"px")},Object.defineProperty(e.prototype,"outerContainerWidth",{get:function(){return this.mainContainerWidth||(this.mainContainerWidth=this.pdfViewerBase.mainContainer.clientWidth),this.mainContainerWidth},enumerable:!0,configurable:!0}),e.prototype.getViewerContainerScrollbarWidth=function(){return this.pdfViewerBase.viewerContainer.offsetWidth+this.pdfViewerBase.viewerContainer.offsetLeft-(this.pdfViewerBase.viewerContainer.clientWidth+this.pdfViewerBase.viewerContainer.offsetLeft)},Object.defineProperty(e.prototype,"sideToolbarWidth",{get:function(){return this.sideBarToolbar?this.sideBarToolbar.clientWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sideBarContentContainerWidth",{get:function(){return this.sideBarContentContainer?this.sideBarContentContainer.clientWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commentPanelContainerWidth",{get:function(){return this.commentPanelContainer?this.commentPanelContainer.offsetWidth:0},enumerable:!0,configurable:!0}),e.prototype.updateViewerContainerOnClose=function(){var e;(e=this).sideBarContentContainer&&(e.sideBarContentContainer.style.display="none",this.pdfViewer.enableRtl?e.pdfViewerBase.viewerContainer.style.right=e.sideToolbarWidth+"px":e.pdfViewerBase.viewerContainer.style.left=e.sideToolbarWidth+"px",e.pdfViewerBase.viewerContainer.style.width=e.pdfViewer.element.clientWidth-e.sideToolbarWidth-e.getViewerContainerRight()+"px",e.pdfViewerBase.pageContainer.style.width=e.pdfViewerBase.viewerContainer.offsetWidth-e.getViewerContainerScrollbarWidth()+"px",this.restrictUpdateZoomValue&&e.pdfViewerBase.updateZoomValue())},e.prototype.updateViewerContainerOnExpand=function(){var e;(e=this).sideBarContentContainer&&((0,t.isNullOrUndefined)(this.pdfViewer.thumbnailViewModule)||this.pdfViewer.thumbnailViewModule.isThubmnailOpen||(e.sideBarContentContainer.style.display="block"),(e.pdfViewer.isBookmarkPanelOpen||this.isBookmarkOpen)&&(e.sideBarContentContainer.style.display="block"),this.pdfViewer.enableRtl?e.pdfViewerBase.viewerContainer.style.right=e.getViewerContainerLeft()+"px":e.pdfViewerBase.viewerContainer.style.left=e.getViewerContainerLeft()+"px",e.pdfViewerBase.viewerContainer.style.width=e.pdfViewer.element.clientWidth-this.getViewerContainerLeft()-this.getViewerContainerRight()+"px",e.pdfViewerBase.pageContainer.style.width=e.pdfViewerBase.viewerContainer.clientWidth+"px",e.pdfViewerBase.updateZoomValue(),e.pdfViewer.enableThumbnail&&(e.pdfViewer.thumbnailViewModule.gotoThumbnailImage(e.pdfViewerBase.currentPageNumber-1),e.pdfViewer.thumbnailViewModule.renderViewPortThumbnailImage()))},e.prototype.getViewerContainerLeft=function(){return this.sideToolbarWidth?this.sideToolbarWidth+this.sideBarContentContainerWidth:0!==this.sideToolbarWidth||this.pdfViewer.enableNavigationToolbar?0:this.sideBarContentContainerWidth},e.prototype.getViewerContainerRight=function(){return this.commentPanelResizer?this.commentPanelContainerWidth+this.commentPanelResizer.clientWidth:0!==this.sideToolbarWidth||this.pdfViewer.enableNavigationToolbar?0:this.sideBarContentContainerWidth},e.prototype.getViewerMainContainerWidth=function(){return this.pdfViewer.element.clientWidth-this.sideToolbarWidth},e.prototype.setThumbnailSelectionIconTheme=function(){this.thumbnailButton&&(this.thumbnailButton.children[0].classList.remove("e-pv-thumbnail-view-icon"),this.thumbnailButton.children[0].classList.add("e-pv-thumbnail-view-selection-icon"),this.thumbnailButton.classList.add("e-pv-thumbnail-view-button-selection"))},e.prototype.removeThumbnailSelectionIconTheme=function(){this.thumbnailButton&&this.thumbnailButton.children[0]&&(this.thumbnailButton.children[0].classList.add("e-pv-thumbnail-view-icon"),this.thumbnailButton.children[0].classList.remove("e-pv-thumbnail-view-selection-icon"),this.thumbnailButton.classList.remove("e-pv-thumbnail-view-button-selection"))},e.prototype.resetThumbnailIcon=function(){this.thumbnailButton&&this.thumbnailButton.children[0]&&(this.thumbnailButton.children[0].classList.remove("e-pv-thumbnail-view-icon"),this.thumbnailButton.children[0].classList.add("e-pv-thumbnail-view-disable-icon"))},e.prototype.resetThumbnailView=function(){this.sideBarContentContainer&&(this.sideBarContentContainer.style.display="none",this.pdfViewer.enableRtl?this.pdfViewerBase.viewerContainer.style.left="1px":this.pdfViewerBase.viewerContainer.style.left=this.sideToolbarWidth+"px",this.pdfViewerBase.viewerContainer.style.width=this.pdfViewer.element.clientWidth-this.sideToolbarWidth-this.getViewerContainerRight()+"px",this.pdfViewerBase.pageContainer&&(this.pdfViewerBase.pageContainer.style.width=this.pdfViewerBase.viewerContainer.clientWidth+"px"),this.thumbnailButton.setAttribute("disabled","disabled"),this.removeThumbnailSelectionIconTheme(),this.resetThumbnailIcon())},e.prototype.setBookmarkSelectionIconTheme=function(){this.bookmarkButton&&(this.bookmarkButton.children[0].classList.remove("e-pv-bookmark-icon"),this.bookmarkButton.children[0].classList.add("e-pv-bookmark-selection-icon"),this.bookmarkButton.classList.add("e-pv-bookmark-button-selection"))},e.prototype.removeBookmarkSelectionIconTheme=function(){this.bookmarkButton&&this.bookmarkButton.children[0]&&(this.bookmarkButton.children[0].classList.add("e-pv-bookmark-icon"),this.bookmarkButton.children[0].classList.remove("e-pv-bookmark-selection-icon"),this.bookmarkButton.classList.remove("e-pv-bookmark-button-selection"))},e.prototype.sideToolbarOnMouseup=function(e){e.target===this.sideBarToolbar&&this.pdfViewerBase.focusViewerContainer()},e.prototype.sideBarTitleOnMouseup=function(e){this.pdfViewerBase.focusViewerContainer()},e.prototype.openBookmarkcontentInitially=function(e){var t=this;if(document.getElementById(t.pdfViewer.element.id+"_thumbnail_view")&&(document.getElementById(t.pdfViewer.element.id+"_thumbnail_view").style.display="none"),t.removeThumbnailSelectionIconTheme(),t.sideBarTitle.textContent=t.pdfViewer.localeObj.getConstant("Bookmarks"),t.sideBarContent.setAttribute("aria-label","Bookmark View Panel"),t.sideBarContent.setAttribute("role","navigation"),t.pdfViewer.bookmarkViewModule.renderBookmarkcontent(),!t.sideBarContentContainer||!e&&t.isBookmarkOpenProgrammatically||("none"!==t.sideBarContentContainer.style.display?t.isThumbnailOpen?(t.setBookmarkSelectionIconTheme(),t.isBookmarkOpen=!0,t.updateViewerContainerOnExpand(),t.isThumbnail=!1,t.isThumbnailAddedProgrammatically=!1,t.isBookmarkOpenProgrammatically=!0,t.pdfViewer.isThumbnailViewOpen=!1):(t.removeBookmarkSelectionIconTheme(),t.isBookmarkOpen=!1,t.updateViewerContainerOnClose(),t.isBookmarkOpenProgrammatically=!1):(t.sideBarContent.focus(),t.setBookmarkSelectionIconTheme(),t.isBookmarkOpen=!0,t.updateViewerContainerOnExpand(),t.isBookmarkOpenProgrammatically=!0,t.pdfViewer.isThumbnailViewOpen=!1)),t.isThumbnailOpen=!1,t.pdfViewer.annotationModule&&t.pdfViewer.annotationModule.inkAnnotationModule){var i=parseInt(t.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10);t.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(i)}},e.prototype.disableBookmarkButton=function(){if(this.sideBarContentContainer&&this.bookmarkButton&&this.bookmarkButton.children[0]){var e=this.pdfViewer.element.querySelector(".e-pv-bookmark-view");e&&(e.style.display="none"),this.bookmarkButton.setAttribute("disabled","disabled"),this.bookmarkButton.children[0].classList.add("e-pv-bookmark-disable-icon")}},e.prototype.calculateCommentPanelWidth=function(){for(var e=document.getElementsByClassName("e-pv-comment-title"),t=document.getElementsByClassName("e-pv-more-options-button e-btn"),i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)],o=t[parseInt(i.toString(),10)];n.style.maxWidth=n.parentElement.clientWidth-o.clientWidth+"px"}for(var r=document.getElementsByClassName("e-pv-reply-title"),a=document.getElementsByClassName("e-pv-more-options-button e-btn"),s=0;s<r.length;s++){var l=r[parseInt(s.toString(),10)],d=a[parseInt(s.toString(),10)];l.style.maxWidth=l.parentElement.clientWidth-d.clientWidth+"px"}},e.prototype.clear=function(){t.Browser.isDevice||(this.removeBookmarkSelectionIconTheme(),this.removeThumbnailSelectionIconTheme(),this.closeCommentPanelContainer()),this.commentsContentContainer&&(this.commentsContentContainer.innerHTML="")},e.prototype.destroy=function(){var e=this.bookmarkButton,t=this.thumbnailButton,i=this.organizePageButton;if(e&&e.ej2_instances&&e.ej2_instances.length>0&&e.ej2_instances[0].destroy(),t&&t.ej2_instances&&t.ej2_instances.length>0&&t.ej2_instances[0].destroy(),i&&i.ej2_instances&&i.ej2_instances.length>0&&i.ej2_instances[0].destroy(),this.annotationMenuObj){var n=this.annotationMenuObj.element;n&&n.ej2_instances&&n.ej2_instances.length>0&&this.annotationMenuObj.destroy()}},e.prototype.getModuleName=function(){return"NavigationPane"},e}(),al=function(){function e(e,t){this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.createContextMenu=function(){var e=document.getElementsByClassName(this.pdfViewer.element.id+"_context_menu");if(e&&(this.contextMenuElement=e[0],this.contextMenuElement.children&&this.contextMenuElement.children.length>0)){var t=this.contextMenuElement.children[0];t.className=t.className+" e-pv-context-menu"}},e.prototype.open=function(e,t,i){this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenContextMenu",e,t)},e.prototype.close=function(){this.pdfViewer._dotnetInstance.invokeMethodAsync("CloseContextMenu")},e.prototype.destroy=function(){this.previousAction="",this.contextMenuElement=null},e.prototype.OnItemSelected=function(e){"string"==typeof e?this.pdfViewerBase.OnItemSelected(e):this.pdfViewerBase.OnItemSelected(e[0])},e}(),sl={},ll=null,dl=null,hl=30,Al=30,pl=30,cl=30,gl=36,ul=30,fl=30,ml="e-spin-show",wl="e-spin-hide",yl="e-spin-material",Sl="e-spin-material3",Cl="e-spin-fabric",Bl="e-spin-bootstrap",Il="e-spin-bootstrap4",bl="e-spin-bootstrap5",vl="e-spin-tailwind",El="e-spin-fluent",xl="e-spin-fluent2",_l="e-spin-tailwind3",Dl="e-spin-high-contrast",Ml="e-spinner-pane",Vl="e-spinner-inner",Ql="e-path-circle",Fl="e-path-arc",Tl="e-spin-label",kl="e-spin-template";function Pl(e,t,i,n){switch(e){case"Create":Nl({type:n,target:document.querySelector(t.target),cssClass:t.cssClass,label:t.label,width:t.width});break;case"Show":Wl(document.querySelector(i));break;case"Hide":Zl(document.querySelector(i));break;case"Set":ql({cssClass:t.cssClass,type:n})}}function Nl(e,i){if(e.target){var n,o=(0,t.isNullOrUndefined)(i)?t.createElement:i,r=function(e,t){var i=t("div",{});i.classList.add(Ml);var n=t("div",{});return n.classList.add(Vl),e.appendChild(i),i.appendChild(n),{wrap:i,innerWrap:n}}(e.target,o);if((0,t.isNullOrUndefined)(e.cssClass)||r.wrap.classList.add(e.cssClass),(0,t.isNullOrUndefined)(e.template)&&(0,t.isNullOrUndefined)(ll)){var a=(0,t.isNullOrUndefined)(e.type)?function(e){var t=window.getComputedStyle(e,":after").getPropertyValue("content");return t.replace(/['"]+/g,"")}(r.wrap):e.type;n=function(e,t){var i;switch(t){case"Material":i=hl;break;case"Material3":i=Al;break;case"Fabric":i=pl;break;case"Fluent2":i=ul;break;case"Tailwind3":i=fl;break;case"Bootstrap4":i=gl;break;default:i=cl}return e=e?parseFloat(e+""):i,"Bootstrap"===t?e:e/2}((0,t.isNullOrUndefined)(e.width)?void 0:e.width,a),Rl(a,r.wrap,n,o),(0,t.isNullOrUndefined)(e.label)||function(e,t,i){var n=i("div",{});n.classList.add(Tl),n.textContent=t,e.appendChild(n)}(r.innerWrap,e.label,o)}else{var s=(0,t.isNullOrUndefined)(e.template)?ll:e.template;r.wrap.classList.add(kl),function(e,i,n){(0,t.isNullOrUndefined)(n)||e.classList.add(n);var o=e.querySelector(".e-spinner-inner");o.innerHTML=i}(r.wrap,s,dl)}r.wrap.classList.add(wl),r=null}}function Rl(e,i,n,o){var r=i.querySelector("."+Vl),a=r.querySelector("svg");switch((0,t.isNullOrUndefined)(a)||r.removeChild(a),e){case"Material":!function(e,t,i){var n=Ll();sl[""+n]={timeOut:0,type:"Material",radius:t},Ul(e,n,i,yl),Hl(t,e,"Material",yl)}(r,n,o);break;case"Material3":!function(e,t,i){var n=Ll();sl[""+n]={timeOut:0,type:"Material3",radius:t},Ul(e,n,i,Sl),Hl(t,e,"Material3",Sl)}(r,n,o);break;case"Fabric":!function(e,t,i){var n=Ll();sl[""+n]={timeOut:0,type:"Fabric",radius:t},Ol(e,n,Cl,i),Jl(t,e,Cl)}(r,n,o);break;case"Bootstrap":!function(e,t){var i=Ll();sl[""+i]={timeOut:0,type:"Bootstrap",radius:t},function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=64,o=32,r=2;i.setAttribute("id",t),i.setAttribute("class",Bl),i.setAttribute("viewBox","0 0 "+n+" "+n),e.insertBefore(i,e.firstChild);for(var a=0;a<=7;a++){var s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("class",Ql+"_"+a),s.setAttribute("r",r+""),s.setAttribute("transform","translate("+o+","+o+")"),i.appendChild(s)}}(e,i),function(e,t){var i=e.querySelector("svg.e-spin-bootstrap");i.style.width=i.style.height=t+"px";for(var n=0,o=0,r=24,a=90,s=0;s<=7;s++){var l=Kl(n,o,r,a),d=i.querySelector("."+Ql+"_"+s);d.setAttribute("cx",l.x+""),d.setAttribute("cy",l.y+""),a=a>=360?0:a,a+=45}}(e,t)}(r,n);break;case"HighContrast":!function(e,t,i){var n=Ll();sl[""+n]={timeOut:0,type:"HighContrast",radius:t},Ol(e,n,Dl,i),Jl(t,e,Dl)}(r,n,o);break;case"Bootstrap4":!function(e,t,i){var n=Ll();sl[""+n]={timeOut:0,type:"Bootstrap4",radius:t},Ul(e,n,i,Il),Hl(t,e,"Bootstrap4",Il)}(r,n,o);break;case"Bootstrap5":!function(e,t,i){var n=Ll();sl[""+n]={timeOut:0,type:"Bootstrap5",radius:t},Ul(e,n,i,bl),Hl(t,e,"Bootstrap5",bl)}(r,n,o);break;case"Tailwind":!function(e,t,i){var n=Ll();sl[""+n]={timeOut:0,type:"Tailwind",radius:t},Ol(e,n,vl,i),Jl(t,e,vl)}(r,n,o);break;case"Fluent":!function(e,t,i){var n=Ll();sl[""+n]={timeOut:0,type:"Fluent",radius:t},Ol(e,n,El,i),Jl(t,e,El)}(r,n,o);break;case"Fluent2":!function(e,t,i){var n=Ll();sl[""+n]={timeOut:0,type:"Fluent2",radius:t},Ol(e,n,xl,i),Jl(t,e,xl)}(r,n,o);break;case"Tailwind3":!function(e,t,i){var n=Ll();sl[""+n]={timeOut:0,type:"Tailwind3",radius:t},Ul(e,n,i,_l),Hl(t,e,"Tailwind3",_l)}(r,n,o)}}function Ll(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)e+=t.charAt(Math.floor(62*Math.random()));return e}function Ol(e,t,i,n){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("id",t),o.setAttribute("class",i);var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("class",Ql);var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("class",Fl),e.insertBefore(o,e.firstChild),o.appendChild(r),o.appendChild(a)}function Ul(e,t,i,n){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("class",n),o.setAttribute("id",t);var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("class",Ql),e.insertBefore(o,e.firstChild),o.appendChild(r)}function zl(e){!function(e,i,n,o,r,a,s){var l=++s.globalInfo[s.uniqueID].previousId,d=(new Date).getTime(),h=i-e,A=(g=2*s.globalInfo[s.uniqueID].radius+"",parseFloat(g)),p=Yl(A),c=-90*(s.globalInfo[s.uniqueID].count||0);var g;function u(t){var i=Math.max(0,Math.min((new Date).getTime()-d,o));f(n(i,e,h,o),t.container),l===t.globalInfo[t.uniqueID].previousId&&i<o?sl[t.uniqueID].timeOut=setTimeout(u.bind(null,t),1):zl(t)}function f(e,i){if(!(0,t.isNullOrUndefined)(i.querySelector("svg.e-spin-material"))||!(0,t.isNullOrUndefined)(i.querySelector("svg.e-spin-material3"))){var n=void 0;if((0,t.isNullOrUndefined)(i.querySelector("svg.e-spin-material"))||(0,t.isNullOrUndefined)(i.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))?(0,t.isNullOrUndefined)(i.querySelector("svg.e-spin-fluent2"))||(0,t.isNullOrUndefined)(i.querySelector("svg.e-spin-fluent2").querySelector("path.e-path-circle"))?(0,t.isNullOrUndefined)(i.querySelector("svg.e-spin-material3"))||(0,t.isNullOrUndefined)(i.querySelector("svg.e-spin-material3").querySelector("path.e-path-circle"))?(0,t.isNullOrUndefined)(i.querySelector("svg.e-spin-tailwind3"))||(0,t.isNullOrUndefined)(i.querySelector("svg.e-spin-tailwind3").querySelector("path.e-path-circle"))||(n=i.querySelector("svg.e-spin-tailwind3")):n=i.querySelector("svg.e-spin-material3"):n=i.querySelector("svg.e-spin-fluent2"):n=i.querySelector("svg.e-spin-material"),!(0,t.isNullOrUndefined)(n)){var o=n.querySelector("path.e-path-circle");o.setAttribute("stroke-dashoffset",jl(A,p,e,a)+""),o.setAttribute("transform","rotate("+c+" "+A/2+" "+A/2+")")}}}u(s)}(1,149,Gl,1333,e.globalInfo[e.uniqueID].count,75,e),e.globalInfo[e.uniqueID].count=++e.globalInfo[e.uniqueID].count%4}function Hl(e,t,i,n){var o=2*e,r=t.querySelector("svg."+n),a=r.querySelector("path.e-path-circle"),s=Yl(o),l=o/2+"px";r.setAttribute("viewBox","0 0 "+o+" "+o),r.style.width=r.style.height=o+"px",r.style.transformOrigin=l+" "+l+" "+l,a.setAttribute("d",function(e,t){var i=e/2,n=t/2;return"M"+i+","+n+"A"+(i-n)+","+(i-n)+" 0 1 1 "+n+","+i}(o,s)),"Material"!==i&&"Material3"!==i||(a.setAttribute("stroke-width",s+""),a.setAttribute("stroke-dasharray",(o-s)*Math.PI*.75+""),a.setAttribute("stroke-dashoffset",jl(o,s,1,75)+"")),"Tailwind3"===i&&a.setAttribute("stroke-width",s+"")}function Yl(e){return.1*e}function jl(e,t,i,n){return(e-t)*Math.PI*(3*n/100-i/100)}function Gl(e,t,i,n){var o=(e/=n)*e,r=o*e;return t+i*(6*r*o+-15*o*o+10*r)}function Jl(e,t,i){var n=e,o=e,r=2*e,a=t.querySelector("."+i),s=a.querySelector(".e-path-circle"),l=a.querySelector(".e-path-arc"),d=r/2+"px";s.setAttribute("d",function(e,t,i){var n=["M",e,t,"m",-i,0,"a",i,i,0,1,0,2*i,0,"a",i,i,0,1,0,2*-i,0].join(" ");return n}(n,o,e)),l.setAttribute("d",function(e,t,i,n,o){var r=Kl(e,t,i,o),a=Kl(e,t,i,n),s=["M",r.x,r.y,"A",i,i,0,0,0,a.x,a.y].join(" ");return s}(n,o,e,315,45)),a.setAttribute("viewBox","0 0 "+r+" "+r),a.style.transformOrigin=d+" "+d+" "+d,a.style.width=a.style.height=r+"px"}function Kl(e,t,i,n){var o=(n-90)*Math.PI/180;return{x:e+i*Math.cos(o),y:t+i*Math.sin(o)}}function Wl(e){Xl(e,!1),e=null}function Xl(e,i){var n;if(e&&(n=e.classList.contains(Ml)?e:e.querySelector("."+Ml)),e&&n){var o=n.querySelector("."+Vl);if(i?!n.classList.contains(kl)&&!n.classList.contains(wl):!n.classList.contains(kl)&&!n.classList.contains(ml)){var r=n.querySelector("svg");if((0,t.isNullOrUndefined)(r))return;var a=r.getAttribute("id");switch(sl[""+a].isAnimate=!i,sl[""+a].type){case"Material":case"Material3":case"Fluent2":case"Tailwind3":i?clearTimeout(sl[""+a].timeOut):function(e,t,i){var n={};sl[""+t].timeOut=0,n[""+t]=function(e,t){return{radius:t,count:0,previousId:0}}(0,i),zl({uniqueID:t,container:e,globalInfo:n,timeOutVar:0})}(o,a,sl[""+a].radius);break;case"Bootstrap":i?clearTimeout(sl[""+a].timeOut):function(e){for(var t,i,n,o,r,a=e.querySelector("svg.e-spin-bootstrap").getAttribute("id"),s=1;s<=8;s++)l(e.getElementsByClassName("e-path-circle_"+(8===s?0:s))[0],s,s,(t=void 0,i=void 0,n=void 0,o=void 0,r=void 0,t=[],n=s,o=!1,r=1,function e(a){t.push(a),(a!==n||1===r)&&(a<=i&&a>1&&!o?a=parseFloat((a-.2).toFixed(2)):1===a?(a=7,a=parseFloat((a+.2).toFixed(2)),o=!0):a<8&&o?8===(a=parseFloat((a+.2).toFixed(2)))&&(o=!1):a<=8&&!o&&(a=parseFloat((a-.2).toFixed(2))),++r,e(a))}(i=s),t),a);function l(e,t,i,n,o){var r=0;!function t(i){sl[""+o].isAnimate&&(++r,e.setAttribute("r",i+""),r>=n.length&&(r=0),sl[""+o].timeOut=setTimeout(t.bind(null,n[parseInt(r.toString(),10)]),18))}(t)}}(o)}}i?(0,t.classList)(n,[wl],[ml]):(0,t.classList)(n,[ml],[wl]),e=null}}function Zl(e){Xl(e,!0),e=null}function ql(e,i){var n=(0,t.isNullOrUndefined)(i)?t.createElement:i;void 0!==e.template&&(ll=e.template,void 0!==e.template&&(dl=e.cssClass));for(var o=document.querySelectorAll("."+Ml),r=0;r<o.length;r++)$l(e.template,o[parseInt(r.toString(),10)],e.type,e.cssClass,n)}function $l(e,i,n,o,r){(0,t.isNullOrUndefined)(e)&&!i.classList.contains(kl)?(!function(e,i,n,o){(0,t.isNullOrUndefined)(n)||e.classList.add(n);var r=e.querySelector("svg"),a="Bootstrap"===i?parseFloat(r.style.height):parseFloat(r.style.height)/2;if(r.getAttribute("class").split(/\s/).indexOf("e-spin-material")>=0){var s=r.getAttribute("id");clearTimeout(sl[""+s].timeOut)}Rl(i,e,a,o)}(i,n,o,r),i.classList.contains(ml)?(i.classList.remove(ml),Wl(i)):(i.classList.remove(wl),Zl(i))):(ll=e,(0,t.isNullOrUndefined)(o)||(dl=o))}var ed=function(){function e(e,t){this.pdfViewer=null,this.pdfViewerBase=null,this.totalPageElement=null,this.currentPageBoxElementContainer=null,this.currentPageBoxElement=null,this.firstPageElement=null,this.previousPageElement=null,this.nextPageElement=null,this.lastPageElement=null,this.zommOutElement=null,this.zoomInElement=null,this.zoomDropDownElement=null,this.selectToolElement=null,this.handToolElement=null,this.undoElement=null,this.redoElement=null,this.commentElement=null,this.submitFormButton=null,this.searchElement=null,this.annotationElement=null,this.printElement=null,this.downloadElement=null,this.highlightElement=null,this.underlineElement=null,this.strikeThroughElement=null,this.shapeElement=null,this.calibrateElement=null,this.stampElement=null,this.freeTextElement=null,this.signatureElement=null,this.inkElement=null,this.annotationFontSizeInputElement=null,this.annotationFontFamilyInputElement=null,this.annotationColorElement=null,this.annotationStrokeColorElement=null,this.annotationThicknessElement=null,this.annotationOpacityElement=null,this.annotationFontColorElement=null,this.annotationFontFamilyElement=null,this.annotationFontSizeElement=null,this.annotationTextAlignElement=null,this.annotationTextColorElement=null,this.annotationTextPropertiesElement=null,this.annotationDeleteElement=null,this.annotationCloseElement=null,this.annotationCommentPanelElement=null,this.mobileToolbarContainerElement=null,this.mobileSearchPreviousOccurenceElement=null,this.mobileSearchNextOccurenceElement=null,this.cssClass="e-overlay",this.disableClass=" e-overlay",this.editAnnotationButtonElement=null,this.pdfViewer=e,this.pdfViewerBase=t,this.findToolbarElements()}return e.prototype.findToolbarElements=function(){this.totalPageElement=this.pdfViewerBase.getElement("_totalPage").children[0],this.currentPageBoxElementContainer=this.pdfViewerBase.getElement("_currentPageInput"),this.currentPageBoxElement=this.pdfViewerBase.getElement("_currentPageInput").children[0].children[0],this.firstPageElement=this.pdfViewerBase.getElement("_firstPage"),this.previousPageElement=this.pdfViewerBase.getElement("_previousPage"),this.nextPageElement=this.pdfViewerBase.getElement("_nextPage"),this.lastPageElement=this.pdfViewerBase.getElement("_lastPage"),this.zommOutElement=this.pdfViewerBase.getElement("_zoomOut"),this.zoomInElement=this.pdfViewerBase.getElement("_zoomIn"),this.zoomDropDownElement=this.pdfViewerBase.getElement("_zoomDropDown"),this.selectToolElement=this.pdfViewerBase.getElement("_selectTool"),this.handToolElement=this.pdfViewerBase.getElement("_handTool"),this.undoElement=this.pdfViewerBase.getElement("_undo"),this.redoElement=this.pdfViewerBase.getElement("_redo"),this.commentElement=this.pdfViewerBase.getElement("_comment"),this.submitFormButton=this.pdfViewerBase.getElement("_submitFormButton"),this.searchElement=this.pdfViewerBase.getElement("_search"),this.annotationElement=this.pdfViewerBase.getElement("_annotation"),this.editAnnotationButtonElement=this.annotationElement.children[0],this.editAnnotationButtonElement.classList.add("e-pv-tbar-btn"),this.printElement=this.pdfViewerBase.getElement("_print"),this.downloadElement=this.pdfViewerBase.getElement("_download"),this.highlightElement=this.pdfViewerBase.getElement("_highLight"),this.underlineElement=this.pdfViewerBase.getElement("_underline"),this.strikeThroughElement=this.pdfViewerBase.getElement("_strikethrough"),this.shapeElement=this.pdfViewerBase.getElement("_annotation_shapes"),this.calibrateElement=this.pdfViewerBase.getElement("_annotation_calibrate"),this.stampElement=this.pdfViewerBase.getElement("_annotation_stamp"),this.freeTextElement=this.pdfViewerBase.getElement("_annotation_freeTextEdit"),this.signatureElement=this.pdfViewerBase.getElement("_annotation_signature"),this.inkElement=this.pdfViewerBase.getElement("_annotation_ink"),this.annotationFontSizeInputElement=this.pdfViewerBase.getElement("_annotation_fontsize").children[0].children[0],this.annotationFontFamilyInputElement=this.pdfViewerBase.getElement("_annotation_fontname").children[0].children[0],this.annotationColorElement=this.pdfViewerBase.getElement("_annotation_color"),this.annotationStrokeColorElement=this.pdfViewerBase.getElement("_annotation_stroke"),this.annotationThicknessElement=this.pdfViewerBase.getElement("_annotation_thickness"),this.annotationOpacityElement=this.pdfViewerBase.getElement("_annotation_opacity"),this.annotationFontColorElement=this.pdfViewerBase.getElement("_annotation_textcolor"),this.annotationFontFamilyElement=this.pdfViewerBase.getElement("_annotation_fontname"),this.annotationFontSizeElement=this.pdfViewerBase.getElement("_annotation_fontsize"),this.annotationTextAlignElement=this.pdfViewerBase.getElement("_annotation_textalign"),this.annotationTextColorElement=this.pdfViewerBase.getElement("_annotation_textcolor"),this.annotationTextPropertiesElement=this.pdfViewerBase.getElement("_annotation_textproperties"),this.annotationDeleteElement=this.pdfViewerBase.getElement("_annotation_delete"),this.annotationCommentPanelElement=this.pdfViewerBase.getElement("_annotation_commentPanel"),this.annotationCloseElement=this.pdfViewerBase.getElement("_annotation_close"),this.mobileToolbarContainerElement=this.pdfViewerBase.getElement("_mobileToolbarContainer"),this.mobileSearchPreviousOccurenceElement=this.pdfViewerBase.getElement("_prev_occurrence"),this.mobileSearchNextOccurenceElement=this.pdfViewerBase.getElement("_next_occurrence")},e.prototype.updateTotalPage=function(){this.totalPageElement.textContent=this.pdfViewer.localeObj.getConstant("of")+this.pdfViewerBase.pageCount.toString()},e.prototype.updateCurrentPage=function(e){this.currentPageBoxElement.value=e.toString()},e.prototype.loadDocument=function(){this.pdfViewer.enableNavigation&&(this.currentPageBoxElementContainer.classList.remove(this.cssClass),this.currentPageBoxElement.value="1",this.totalPageElement.textContent=this.pdfViewer.localeObj.getConstant("of")+this.pdfViewerBase.pageCount.toString(),this.isEnabled(this.firstPageElement)||(this.firstPageElement.className+=this.disableClass),this.isEnabled(this.previousPageElement)||(this.previousPageElement.className+=this.disableClass),this.nextPageElement.classList.remove(this.cssClass),this.lastPageElement.classList.remove(this.cssClass),1===this.pdfViewerBase.pageCount&&(this.nextPageElement.classList.contains(this.cssClass)||(this.nextPageElement.className+=this.disableClass),this.lastPageElement.classList.contains(this.cssClass)||(this.lastPageElement.className+=this.disableClass))),this.pdfViewer.enableMagnification&&(this.zoomInElement.classList.remove(this.cssClass),this.zommOutElement.classList.remove(this.cssClass),this.zoomDropDownElement.classList.remove(this.cssClass)),this.pdfViewer.enableTextSelection&&(this.selectToolElement.classList.remove(this.cssClass),this.selectItem(this.pdfViewer.toolbar.SelectToolElement)),this.handToolElement.classList.remove(this.cssClass),this.pdfViewer.enableStickyNotesAnnotation&&this.commentElement.classList.remove(this.cssClass),this.pdfViewer.enableTextSearch&&this.searchElement.classList.remove(this.cssClass),this.pdfViewer.isFormFieldDocument&&this.submitFormButton.classList.remove(this.cssClass),this.pdfViewer.enableAnnotation&&this.pdfViewer.enableAnnotationToolbar&&this.annotationElement.classList.remove(this.cssClass),this.pdfViewer.enablePrint&&this.printElement.classList.remove(this.cssClass),this.pdfViewer.enableDownload&&this.downloadElement.classList.remove(this.cssClass),this.pdfViewer.enableAnnotation&&this.pdfViewer.enableTextMarkupAnnotation&&(this.highlightElement.classList.remove(this.cssClass),this.underlineElement.classList.remove(this.cssClass),this.strikeThroughElement.classList.remove(this.cssClass)),this.pdfViewer.enableAnnotation&&this.pdfViewer.enableShapeAnnotation&&this.shapeElement.classList.remove(this.cssClass),this.pdfViewer.enableAnnotation&&this.pdfViewer.enableMeasureAnnotation&&this.calibrateElement.classList.remove(this.cssClass),this.pdfViewer.enableAnnotation&&this.pdfViewer.enableStampAnnotations&&this.stampElement.classList.remove(this.cssClass),this.pdfViewer.enableFreeText&&this.freeTextElement.classList.remove(this.cssClass),this.pdfViewer.enableHandwrittenSignature&&this.signatureElement.classList.remove(this.cssClass),this.pdfViewer.enableInkAnnotation&&this.inkElement.classList.remove(this.cssClass),this.pdfViewer.enableCommentPanel&&this.annotationCommentPanelElement.classList.remove(this.cssClass)},e.prototype.selectItem=function(e){e&&e.classList.add("e-pv-select")},e.prototype.deselectItem=function(e){e&&e.classList.remove("e-pv-select")},e.prototype.showAnnotationToolbar=function(e){this.pdfViewer.toolbar.annotationToolbarModule.adjustViewer(e[0]),e[0]?this.pdfViewer.toolbar.selectItem(this.editAnnotationButtonElement):(this.pdfViewer.toolbar.deSelectItem(this.editAnnotationButtonElement),this.pdfViewerBase.focusViewerContainer())},e.prototype.closeAnnotationToolbar=function(){this.pdfViewer.toolbar.annotationToolbarModule.adjustViewer(!1),this.pdfViewer.toolbar.deSelectItem(this.editAnnotationButtonElement),this.pdfViewerBase.navigationPane.closeCommentPanelContainer()},e.prototype.resetToolbar=function(){this.pdfViewer.enableToolbar&&(this.currentPageBoxElement.value="0",this.totalPageElement.textContent=this.pdfViewer.localeObj.getConstant("of")+"0",this.isEnabled(this.currentPageBoxElementContainer)||(this.currentPageBoxElementContainer.className+=this.disableClass),this.isEnabled(this.firstPageElement)||(this.firstPageElement.className+=this.disableClass),this.isEnabled(this.previousPageElement)||(this.previousPageElement.className+=this.disableClass),this.isEnabled(this.nextPageElement)||(this.nextPageElement.className+=this.disableClass),this.isEnabled(this.lastPageElement)||(this.lastPageElement.className+=this.disableClass),this.isEnabled(this.zoomInElement)||(this.zoomInElement.className+=this.disableClass),this.isEnabled(this.zommOutElement)||(this.zommOutElement.className+=this.disableClass),this.isEnabled(this.zoomDropDownElement)||(this.zoomDropDownElement.className+=this.disableClass),this.isEnabled(this.selectToolElement)||(this.selectToolElement.className+=this.disableClass),this.isEnabled(this.handToolElement)||(this.handToolElement.className+=this.disableClass),this.isEnabled(this.undoElement)||(this.undoElement.className+=this.disableClass),this.isEnabled(this.redoElement)||(this.redoElement.className+=this.disableClass),this.isEnabled(this.commentElement)||(this.commentElement.className+=this.disableClass),this.isEnabled(this.searchElement)||(this.searchElement.className+=this.disableClass),this.isEnabled(this.submitFormButton)||(this.submitFormButton.className+=this.disableClass),this.isEnabled(this.annotationElement)||(this.annotationElement.className+=this.disableClass),this.isEnabled(this.printElement)||(this.printElement.className+=this.disableClass),this.isEnabled(this.downloadElement)||(this.downloadElement.className+=this.disableClass)),this.pdfViewer.enableAnnotationToolbar&&(this.isEnabled(this.highlightElement)||(this.highlightElement.className+=this.disableClass),this.isEnabled(this.underlineElement)||(this.underlineElement.className+=this.disableClass),this.isEnabled(this.strikeThroughElement)||(this.strikeThroughElement.className+=this.disableClass),this.isEnabled(this.shapeElement)||(this.shapeElement.className+=this.disableClass),this.isEnabled(this.calibrateElement)||(this.calibrateElement.className+=this.disableClass),this.isEnabled(this.stampElement)||(this.stampElement.className+=this.disableClass),this.isEnabled(this.freeTextElement)||(this.freeTextElement.className+=this.disableClass),this.isEnabled(this.signatureElement)||(this.signatureElement.className+=this.disableClass),this.isEnabled(this.inkElement)||(this.inkElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextColorElement)||(this.annotationTextColorElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass),this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass),this.isEnabled(this.annotationCommentPanelElement)||(this.annotationCommentPanelElement.className+=this.disableClass))},e.prototype.EnableDeleteOption=function(e){null!==this.annotationDeleteElement&&(e?this.annotationDeleteElement.classList.remove(this.cssClass):this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass))},e.prototype.pageChanged=function(e){this.pdfViewer.enableNavigation&&(this.currentPageBoxElement.value=e.toString()),e===this.pdfViewer.pageCount&&(this.isEnabled(this.nextPageElement)||(this.nextPageElement.className+=this.disableClass),this.previousPageElement.classList.remove(this.cssClass),this.isEnabled(this.lastPageElement)||(this.lastPageElement.className+=this.disableClass),this.firstPageElement.classList.remove(this.cssClass)),e<this.pdfViewer.pageCount&&1!==e&&(this.firstPageElement.classList.remove(this.cssClass),this.previousPageElement.classList.remove(this.cssClass),this.nextPageElement.classList.remove(this.cssClass),this.lastPageElement.classList.remove(this.cssClass)),1===e&&(this.nextPageElement.classList.remove(this.cssClass),this.lastPageElement.classList.remove(this.cssClass),this.isEnabled(this.firstPageElement)||(this.firstPageElement.className+=this.disableClass),this.isEnabled(this.previousPageElement)||(this.previousPageElement.className+=this.disableClass))},e.prototype.updateUndoRedoButton=function(e,t){"undo"===e&&(t?this.undoElement.classList.remove(this.cssClass):this.isEnabled(this.undoElement)||(this.undoElement.className+=this.disableClass)),"redo"===e&&(t?this.redoElement.classList.remove(this.cssClass):this.isEnabled(this.redoElement)||(this.redoElement.className+=this.disableClass))},e.prototype.disableUndoRedoButton=function(){this.isEnabled(this.undoElement)||(this.undoElement.className+=this.disableClass),this.isEnabled(this.redoElement)||(this.redoElement.className+=this.disableClass)},e.prototype.enableTextMarkupAnnotationPropertiesTools=function(e){e?(this.annotationColorElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass)):(this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass)),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass)},e.prototype.enableAnnotationPropertiesTool=function(e,t){t&&(e?(this.annotationColorElement.classList.remove(this.cssClass),this.annotationStrokeColorElement.classList.remove(this.cssClass),this.annotationThicknessElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.pdfViewer.enableShapeLabel&&(this.annotationFontColorElement.classList.remove(this.cssClass),this.annotationFontFamilyElement.classList.remove(this.cssClass),this.annotationFontSizeElement.classList.remove(this.cssClass)),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)):(this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass)))},e.prototype.enableFreeTextAnnotationPropertiesTools=function(e,t){t&&e&&(this.annotationColorElement.classList.remove(this.cssClass),this.annotationStrokeColorElement.classList.remove(this.cssClass),this.annotationThicknessElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.annotationFontColorElement.classList.remove(this.cssClass),this.annotationFontFamilyElement.classList.remove(this.cssClass),this.annotationFontSizeElement.classList.remove(this.cssClass),this.annotationTextAlignElement.classList.remove(this.cssClass),this.annotationTextPropertiesElement.classList.remove(this.cssClass),this.annotationDeleteElement.classList.remove(this.cssClass),this.annotationCommentPanelElement.classList.remove(this.cssClass))},e.prototype.enableStampAnnotationPropertiesTools=function(e,t){e?(this.annotationOpacityElement.classList.remove(this.cssClass),this.annotationDeleteElement.classList.remove(this.cssClass),this.annotationCommentPanelElement.classList.remove(this.cssClass)):(this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass),this.isEnabled(this.annotationCommentPanelElement)||(this.annotationCommentPanelElement.className+=this.disableClass)),this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)},e.prototype.enableSignaturePropertiesTools=function(e,t){e?(this.annotationStrokeColorElement.classList.remove(this.cssClass),this.annotationThicknessElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.annotationDeleteElement.classList.remove(this.cssClass),this.annotationCommentPanelElement.classList.remove(this.cssClass)):(this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass),this.isEnabled(this.annotationCommentPanelElement)||(this.annotationCommentPanelElement.className+=this.disableClass)),this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)},e.prototype.annotationAdd=function(){this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)},e.prototype.annotationUnSelect=function(){this.isEnabled(this.annotationColorElement)||(this.annotationColorElement.className+=this.disableClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.isEnabled(this.annotationOpacityElement)||(this.annotationOpacityElement.className+=this.disableClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass),this.isEnabled(this.annotationDeleteElement)||(this.annotationDeleteElement.className+=this.disableClass)},e.prototype.annotationSelect=function(e){"FreeText"===e&&(this.annotationColorElement.classList.remove(this.cssClass),this.annotationStrokeColorElement.classList.remove(this.cssClass),this.annotationThicknessElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.annotationFontColorElement.classList.remove(this.cssClass),this.annotationFontFamilyElement.classList.remove(this.cssClass),this.annotationFontSizeElement.classList.remove(this.cssClass),this.annotationTextAlignElement.classList.remove(this.cssClass),this.annotationTextPropertiesElement.classList.remove(this.cssClass)),"Shape"!==e&&"Measure"!==e||(this.annotationColorElement.classList.remove(this.cssClass),this.annotationStrokeColorElement.classList.remove(this.cssClass),this.annotationThicknessElement.classList.remove(this.cssClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)),"TextMarkup"===e&&(this.annotationColorElement.classList.remove(this.cssClass),this.isEnabled(this.annotationStrokeColorElement)||(this.annotationStrokeColorElement.className+=this.disableClass),this.isEnabled(this.annotationThicknessElement)||(this.annotationThicknessElement.className+=this.disableClass),this.annotationOpacityElement.classList.remove(this.cssClass),this.isEnabled(this.annotationFontColorElement)||(this.annotationFontColorElement.className+=this.disableClass),this.isEnabled(this.annotationFontFamilyElement)||(this.annotationFontFamilyElement.className+=this.disableClass),this.isEnabled(this.annotationFontSizeElement)||(this.annotationFontSizeElement.className+=this.disableClass),this.isEnabled(this.annotationTextAlignElement)||(this.annotationTextAlignElement.className+=this.disableClass),this.isEnabled(this.annotationTextPropertiesElement)||(this.annotationTextPropertiesElement.className+=this.disableClass)),this.annotationDeleteElement.classList.remove(this.cssClass),this.annotationCommentPanelElement.classList.remove(this.cssClass)},e.prototype.updateFontFamilyInIcon=function(e){this.annotationFontFamilyInputElement.value=e},e.prototype.updateFontSizeInIcon=function(e){var t=e.toString()+"px";this.annotationFontSizeInputElement.value=t},e.prototype.enableSearchItems=function(e){e?(this.mobileSearchPreviousOccurenceElement.classList.remove(this.cssClass),this.mobileSearchNextOccurenceElement.classList.remove(this.cssClass)):(this.isEnabled(this.mobileSearchPreviousOccurenceElement)||(this.mobileSearchPreviousOccurenceElement.className+=this.disableClass),this.isEnabled(this.mobileSearchNextOccurenceElement)||(this.mobileSearchNextOccurenceElement.className+=this.disableClass))},e.prototype.tapOnMobileDevice=function(e){null!=this.mobileToolbarContainerElement&&(this.mobileToolbarContainerElement.style.display=e?"none":"block")},e.prototype.isEnabled=function(e){return e.classList.contains(this.cssClass)},e}(),td=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new i((function(t){t(e.value)})).then(a,s)}l((n=n.apply(e,t||[])).next())}))},id=function(e,t){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},nd=function(){function e(){}return e.isSupportedFont=function(e,i){try{if(!(0,t.isNullOrUndefined)(e)&&!(0,t.isNullOrUndefined)(i)){for(var n=0;n<e.length;n++){var o=e[parseInt(n.toString(),10)];if(i._fontInternal._ttfReader._getGlyph(o),!i._fontInternal._ttfReader._isFontPresent&&" "!==o&&!this.hasEscapeSequences(o))return i._fontInternal._ttfReader._isFontPresent}return!0}}catch(e){return!1}return!1},e.hasEscapeSequences=function(e){return/[\0\b\t\n\v\f\r'"\\]/.test(e)},e.processFontStream=function(e){return e instanceof Uint8Array?this.convertByteArrayToBase64(e):e},e.fetchCustomFonts=function(e,t){var i=this,n={},o=e.map((function(e){var o,r=(o=e.startsWith("http://")||e.startsWith("https://")?e:t+"/"+e).split("/"),a=r.pop()||"";return-1===Object.keys(n).indexOf(a)?i.fetchData(o).then((function(o){return td(i,void 0,void 0,(function(){var i;return id(this,(function(s){return o?(n[-1!==r.indexOf("fallbackfonts")?"fallbackfonts_"+a.toLowerCase():a.toLowerCase()]=o,[2]):(i=t+"/fallbackfonts/"+e,[2,this.fetchData(i).then((function(e){e&&(n["fallbackfonts_"+a.toLowerCase()]=e)}))])}))}))})):null}));return Promise.all(o).then((function(){return n}))},e.tryGetFontFromKeys=function(e,t,i,n){for(var o=0,r=Object.keys(e);o<r.length;o++){var a=r[o],s=this.processFontStream(e[""+a]),l=new rn(s,this.convertPixelToPoint(i),n||vi.regular);if(this.isSupportedFont(t,l))return l;l=null,s=null}return null},e.getFontKey=function(e,t){if(e[""+t]||e[t+".ttf"])return e[""+t]?t:t+".ttf";var i=t.endsWith(".ttf")?t:t+".ttf";for(var n in e)if(n.toLowerCase().endsWith(i.toLowerCase()))return n},e.isHexRGBAAndTransparent=function(e){if(!/^#([A-Fa-f0-9]{8})$/.test(e))return!1;var t=e.slice(-2);return 0===parseInt(t,16)},e.setTransparencyToHex=function(e){return e.includes("#")&&(e.length>8&&"#00000000"!==e?e=e.slice(0,-2)+"60":e+="60"),e},e.removeAlphaValueFromHex=function(e){return e.includes("#")&&e.length>8&&(e=e.slice(0,-2)),e},e.fetchData=function(e){return fetch(e).then((function(e){return e.ok?e.arrayBuffer().then((function(e){return new Uint8Array(e)})):null})).catch((function(){return null}))},e.convertByteArrayToBase64=function(e){for(var t="",i=e.byteLength,n=0;n<i;n++)t+=String.fromCharCode(e[parseInt(n.toString(),10)]);return btoa(t)},e.convertPixelToPoint=function(e){return 72*e/96},e}(),od=function(){function e(e){this.localStorage={},this.enableLocalStorage=!0,this.documentId="",this.enableLocalStorage=e}return e.prototype.setItem=function(e,t){this.enableLocalStorage?this.localStorage[""+e]=t:window.sessionStorage.setItem(e,t)},e.prototype.getItem=function(e){return this.enableLocalStorage?e in this.localStorage?this.localStorage[""+e]:null:window.sessionStorage.getItem(e)},e.prototype.removeItem=function(e){this.enableLocalStorage?delete this.localStorage[""+e]:window.sessionStorage.removeItem(e)},e.prototype.getSessionLength=function(){return this.enableLocalStorage?Object.keys(this.localStorage).length:window.sessionStorage.length},e.prototype.getKey=function(e){return this.enableLocalStorage?Object.keys(this.localStorage)[parseInt(e.toString(),10)]||null:window.sessionStorage.key(e)},e.prototype.getWindowSessionStorageSize=function(){return Math.round(JSON.stringify(window.sessionStorage).length/1024)},e.prototype.migrateToLocalStorage=function(e){if(this.enableLocalStorage=e,this.enableLocalStorage){for(var i=this.getRemovingItems(),n=0;n<i.length;n++){var o=i[parseInt(n.toString(),10)];if(o){var r=window.sessionStorage.getItem(o);(0,t.isNullOrUndefined)(r)||""===this.documentId||-1===o.indexOf(this.documentId)||(this.localStorage[""+o]=r,window.sessionStorage.removeItem(o))}}i=null}},e.prototype.clear=function(){if(this.enableLocalStorage)this.localStorage={};else{for(var e=this.getRemovingItems(),t=0;t<e.length;t++){var i=e[parseInt(t.toString(),10)];-1!==i.indexOf("Sync_PdfViewer_")&&window.sessionStorage.removeItem(i)}e=null}},e.prototype.getRemovingItems=function(){for(var e=[],t=0;t<window.sessionStorage.length;t++){var i=window.sessionStorage.key(t);i&&e.push(i)}return e},e}(),rd=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new i((function(t){t(e.value)})).then(a,s)}l((n=n.apply(e,t||[])).next())}))},ad=function(e,t){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},sd=function(){function e(n){var o=this;this.hyperlinkAndLinkAnnotation={},this.pageTextDetails={},this.pageImageDetails={},this.pageSize=[],this.existingFieldImport=!0,this.pageCount=0,this.customZoomValues=[],this.isReRenderRequired=!0,this.currentPageNumber=0,this.initialZoomValue={},this.activeElements=new we,this.mouseDownEvent=null,this.pngData=[],this.isDocumentLoaded=!1,this.renderedPagesList=[],this.pageGap=8,this.signatureAdded=!1,this.isSignInitialClick=!1,this.isFreeTextSelected=!1,this.pageLeft=5,this.sessionLimit=1e3,this.pageStopValue=300,this.toolbarHeight=56,this.pageLimit=0,this.previousPage=0,this.isViewerMouseDown=!1,this.isViewerMouseWheel=!1,this.scrollPosition=0,this.sessionStorage=[],this.isLoadedFormFieldAdded=!1,this.isInkAnnot=!1,this.modifiedPageIndex=[],this.pointerCount=0,this.pointersForTouch=[],this.isPasswordAvailable=!1,this.isBounds=!1,this.isImportDoc=!1,this.passwordData="",this.reRenderedCount=0,this.mouseX=0,this.mouseY=0,this.mouseLeft=0,this.mouseTop=0,this.touchClientX=0,this.touchClientY=0,this.previousTime=0,this.currentTime=0,this.isTouchScrolled=!1,this.isgetFocused=!1,this.isLongTouchPropagated=!1,this.longTouchTimer=null,this.isViewerContainerDoubleClick=!1,this.dblClickTimer=null,this.pinchZoomStorage=[],this.isTextSelectionDisabled=!1,this.isPanMode=!1,this.dragX=0,this.dragY=0,this.isScrollbarMouseDown=!1,this.scrollX=0,this.scrollY=0,this.ispageMoved=!1,this.isThumb=!1,this.isTapHidden=!1,this.singleTapTimer=null,this.tapCount=0,this.inputTapCount=0,this.isInitialLoaded=!1,this.annotationPageList=[],this.importPageList=[],this.isImportAction=!1,this.isImportedAnnotation=!1,this.isAnnotationCollectionRemoved=!1,this.tool=null,this.action="Select",this.eventArgs=null,this.inAction=!1,this.isMouseDown=!1,this.isStampMouseDown=!1,this.stampAdded=!1,this.customStampCount=0,this.isDynamicStamp=!1,this.isMixedSizeDocument=!1,this.highestWidth=0,this.highestHeight=0,this.customStampCollection=[],this.isAlreadyAdded=!1,this.isWebkitMobile=!1,this.isFreeTextContextMenu=!1,this.isSelection=!1,this.isAddAnnotation=!1,this.annotationComments=null,this.isToolbarSignClicked=!1,this.signatureCount=0,this.isSignatureAdded=!1,this.isNewSignatureAdded=!1,this.isInitialPageMode=!1,this.documentAnnotationCollections=null,this.annotationRenderredList=[],this.annotationStorage={},this.formFieldStorage={},this.isStorageExceed=!1,this.isFormStorageExceed=!1,this.isNewStamp=!1,this.downloadCollections={},this.isAnnotationAdded=!1,this.annotationEvent=null,this.isAnnotationDrawn=!1,this.isAnnotationSelect=!1,this.isAnnotationMouseDown=!1,this.isAnnotationMouseMove=!1,this.validateForm=!1,this.isMinimumZoom=!1,this.documentLoaded=!1,this.tileRenderCount=0,this.tileRequestCount=0,this.isTileImageRendered=!1,this.isDataExits=!1,this.requestLists=[],this.tilerequestLists=[],this.textrequestLists=[],this.renderThumbnailImages=!1,this.pageRenderCount=2,this.isInkAdded=!1,this.inkCount=0,this.isAddedSignClicked=!1,this.imageCount=0,this.isMousedOver=!1,this.isFormFieldSelect=!1,this.isFormFieldMouseDown=!1,this.isFormFieldMouseMove=!1,this.isFormFieldMousedOver=!1,this.isPassword=!1,this.digitalSignaturePages=[],this.isDigitalSignaturePresent=!1,this.isDrawnCompletely=!1,this.isAddComment=!1,this.drawSignatureWithTool=!1,this.formFieldCollection=[],this.requestCollection=[],this.nonFillableFields={},this.isInitialField=!1,this.isTouchDesignerMode=!1,this.isPrint=!1,this.isPDFViewerJson=!1,this.isJsonImported=!1,this.isJsonExported=!1,this.isPageRotated=!1,this.downloadFileName="",this.isFocusField=!1,this.isTouchPad=!1,this.isMacGestureActive=!1,this.macGestureStartScale=0,this.zoomInterval=5,this.isTaggedPdf=!1,this.accessibilityTagsHandler=null,this.accessibilityTagsCollection=[],this.pageRequestListForAccessibilityTags=[],this.enableAccessibilityMultiPageRequest=!0,this.clientSideRendering=!1,this.focusField=[],this.isSkipDocumentPath=!1,this.isScrollerMoving=!1,this.isScrollerMovingTimer=null,this.previousScrollbarWidth=0,this.closeNotification=function(){o.notifyDialog.hide()},this.clearSessionStorage=function(){if(!o.clientSideRendering){var i="",n=e.sessionStorageManager.getItem(o.documentId+"_hashId"),r=e.sessionStorageManager.getItem(o.documentId+"_documentLiveCount"),a=e.sessionStorageManager.getItem(o.documentId+"_serviceURL");if(null!=(i=t.Browser.isIE||"edge"===t.Browser.info.name?decodeURI(n):n)){var s={hashId:i,documentLiveCount:r,action:"Unload",elementId:o.pdfViewer.element.id},l=e.sessionStorageManager.getItem(o.documentId+"_unload");if((0,t.isNullOrUndefined)(a))(0,t.isBlazor)()&&o.clearCache(l,s,o);else if("keepalive"in new Request("")){var d=o.setUnloadRequestHeaders(),h=o.pdfViewer.ajaxRequestSettings.withCredentials?"include":"omit";fetch(a+"/"+l,{method:"POST",credentials:h,headers:d,body:JSON.stringify(s)})}}}e.sessionStorageManager.clear()},this.onWindowResize=function(e){var i=null;i=o,o.pdfViewer.enableRtl?(i.viewerContainer.style.right=(i.navigationPane.sideBarToolbar?i.navigationPane.getViewerContainerLeft():0)+"px",i.viewerContainer.style.left=(i.navigationPane.commentPanelContainer?i.navigationPane.commentPanelContainer.offsetWidth:0)+"px"):(i.viewerContainer.style.left=(i.navigationPane.sideBarToolbar?i.navigationPane.getViewerContainerLeft():0)+"px",i.viewerContainer.style.right=(i.navigationPane.commentPanelContainer?i.navigationPane.commentPanelContainer.offsetWidth:0)+"px");var n=(i.pdfViewer.element.clientWidth>0?i.pdfViewer.element.clientWidth:i.pdfViewer.element.style.width)-(i.navigationPane.sideBarToolbar?i.navigationPane.getViewerContainerLeft():0)-(i.navigationPane.commentPanelContainer?i.navigationPane.getViewerContainerRight():0);if(i.viewerContainer.style.width=n+"px",i.pdfViewer.toolbarModule){var r=(0,t.isBlazor)()?i.pdfViewer.element.querySelector(".e-pv-toolbar"):i.getElement("_toolbarContainer"),a=0,s=0;if(r&&(a=r.getBoundingClientRect().height),i.isAnnotationToolbarHidden()||t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode){if(0===a)if(o.navigationPane.isNavigationToolbarVisible)a=i.getElement("_navigationToolbar").getBoundingClientRect().height;if(!i.isFormDesignerToolbarHidded()){var l=i.getElement("_formdesigner_toolbar");s=l?l.getBoundingClientRect().height:0}i.viewerContainer.style.height=i.updatePageHeight(i.pdfViewer.element.getBoundingClientRect().height,a+s)}else{var d=(0,t.isBlazor)()?i.pdfViewer.element.querySelector(".e-pv-annotation-toolbar"):i.getElement("_annotation_toolbar"),h=0;d&&(h=d.getBoundingClientRect().height),i.viewerContainer.style.height=i.updatePageHeight(i.pdfViewer.element.getBoundingClientRect().height,a+h)}}else i.viewerContainer.style.height=i.updatePageHeight(i.pdfViewer.element.getBoundingClientRect().height,0);if(i.pdfViewer.bookmarkViewModule&&t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode){var A=i.getElement("_bookmarks_container");A&&(A.style.height=i.updatePageHeight(i.pdfViewer.element.getBoundingClientRect().height,0))}"0px"===i.viewerContainer.style.height&&("auto"===i.pdfViewer.height.toString()?(i.pdfViewer.height=500,i.viewerContainer.style.height=i.pdfViewer.height+"px"):i.viewerContainer.style.height=i.pdfViewer.element.style.height),"0px"===i.viewerContainer.style.width&&("auto"===i.pdfViewer.width.toString()?(i.pdfViewer.width=500,i.viewerContainer.style.width=i.pdfViewer.width+"px"):i.viewerContainer.style.width=i.pdfViewer.element.style.width),i.pageContainer.style.width=i.viewerContainer.clientWidth+"px",0===i.viewerContainer.clientWidth&&(i.pageContainer.style.width=i.pdfViewer.element.style.width),(0,t.isBlazor)()||i.pdfViewer.toolbarModule&&i.pdfViewer.toolbarModule.onToolbarResize(i.navigationPane.sideBarToolbar?i.navigationPane.getViewerMainContainerWidth():i.pdfViewer.element.clientWidth),o.pdfViewer.enableToolbar&&o.pdfViewer.thumbnailViewModule&&(i.pdfViewer.thumbnailViewModule.gotoThumbnailImage(i.currentPageNumber-1),i.navigationPane.sideBarToolbar&&i.navigationPane.sideBarContentContainer&&(i.navigationPane.sideBarContentContainer.style.height=i.viewerContainer.style.height)),!i.pdfViewer.textSearchModule||t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode||i.pdfViewer.textSearchModule.textSearchBoxOnResize(),0!==n&&(i.navigationPane.isBookmarkListOpen||i.updateZoomValue()),t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode?(i.mobileScrollerContainer.style.left=n-parseFloat(i.mobileScrollerContainer.style.width)+"px",i.mobilePageNoContainer.style.left=n/2-parseFloat(i.mobilePageNoContainer.style.width)/2+"px",i.mobilePageNoContainer.style.top=i.pdfViewer.element.clientHeight/2+"px",i.updateMobileScrollerPosition()):(i.navigationPane.setResizeIconTop(),i.navigationPane.setCommentPanelResizeIconTop(),e&&"resize"===e.type&&i.signatureModule.updateCanvasSize()),i.navigationPane.sideBarToolbar&&(i.navigationPane.sideBarToolbar.style.height=i.viewerContainer.style.height)},this.viewerContainerOnMousedown=function(e){o.isFreeTextContextMenu=!1;var i=!1;o.isSelection=!0;var n=e.target;if(0===e.button&&!o.getPopupNoteVisibleStatus()&&!o.isClickedOnScrollBar(e,!1)){o.isViewerMouseDown=!0,1===e.detail&&"e-pdfviewer-formFields"!==n.className&&"free-text-input"!==n.className&&(i=!0,o.focusViewerContainer(!0)),o.scrollPosition=o.viewerContainer.scrollTop/o.getZoomFactor(),o.mouseX=e.clientX,o.mouseY=e.clientY,o.mouseLeft=e.clientX,o.mouseTop=e.clientY;var r=!!document.documentMode;!o.pdfViewer.textSelectionModule||o.isClickedOnScrollBar(e,!0)||o.isTextSelectionDisabled||(r||"e-pdfviewer-formFields"===n.className||"e-pdfviewer-ListBox"===n.className||-1!==n.className.indexOf("e-pv-formfield-dropdown")||"e-pv-formfield-listbox"===n.className||"e-pv-formfield-input"===n.className||"e-pv-formfield-textarea"===n.className||e.preventDefault(),"e-pv-droplet"!==n.className&&o.pdfViewer.textSelectionModule.clearTextSelection())}o.isClickedOnScrollBar(e,!1)&&(o.isViewerMouseDown=!0),o.isPanMode&&(o.dragX=e.pageX,o.dragY=e.pageY,o.viewerContainer.contains(e.target)&&e.target!==o.viewerContainer&&e.target!==o.pageContainer&&o.isPanMode&&(o.viewerContainer.style.cursor="grabbing")),!o.isShapeBasedAnnotationsEnabled()||!o.isAnnotationDrawn&&("e-pv-page-container"===n.className||"foreign-object"===n.className&&isNaN(o.activeElements.activePageID))||o.diagramMouseDown(e),o.pdfViewer.annotation&&o.pdfViewer.annotation.stickyNotesAnnotationModule.accordionContainer&&(i||(o.pdfViewer.annotationModule.stickyNotesAnnotationModule.isEditableElement=!1,o.updateCommentPanel(),i=!0)),(0,t.isBlazor)()&&o.mouseDownHandler(e)},this.viewerContainerOnMouseup=function(e){if(!o.getPopupNoteVisibleStatus()){o.isViewerMouseDown&&(o.scrollHoldTimer&&(clearTimeout(o.scrollHoldTimer),o.scrollHoldTimer=null),o.scrollPosition*o.getZoomFactor()!==o.viewerContainer.scrollTop&&o.pageViewScrollChanged(o.currentPageNumber));var i=!1;e.target&&("e-pv-show-designer-name"===e.target.className&&""!==e.target.id.split("_",1)&&(i=document.getElementById(e.target.id.split("_",1)).disabled),"foreign-object"===e.target.className&&e.target.children[0]&&(i=e.target.children[0].disabled)),i&&o.pdfViewer.annotation&&o.pdfViewer.annotation.clearSelection(),!o.isShapeBasedAnnotationsEnabled()||i||!o.isAnnotationDrawn&&"DrawTool"===o.action||(o.diagramMouseUp(e),o.pdfViewer.annotation&&o.pdfViewer.annotation.onAnnotationMouseUp()),o.pdfViewer.selectedItems.formFields.length>0?(0,t.isNullOrUndefined)(o.pdfViewer.toolbar)||(0,t.isNullOrUndefined)(o.pdfViewer.toolbar.formDesignerToolbarModule)||t.Browser.isDevice||o.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(!0):(0,t.isNullOrUndefined)(o.pdfViewer.toolbar)||(0,t.isNullOrUndefined)(o.pdfViewer.toolbar.formDesignerToolbarModule)||t.Browser.isDevice||o.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(!1),o.isSelection=!1;var n=document.getElementById(o.pdfViewer.element.id+"_commantPanel");if(n&&"block"===n.style.display&&o.pdfViewer.selectedItems&&0!==o.pdfViewer.selectedItems.annotations.length){var r=document.getElementById(o.pdfViewer.element.id+"_accordionContainer"+o.pdfViewer.currentPageNumber);r&&r.ej2_instances[0].expandItem(!0);var a=document.getElementById(o.pdfViewer.selectedItems.annotations[0].annotName);a&&(a.classList.contains("e-pv-comments-border")||a.firstChild.click())}if(0===e.button&&!o.isClickedOnScrollBar(e,!1)){var s=e.target,l=e.clientX,d=e.clientY,h=o.getZoomFactor(),A=o.currentPageNumber;if(s){var p=s.id.split("_text_")[1]||s.id.split("_textLayer_")[1]||s.id.split("_annotationCanvas_")[1]||s.id.split("_pageDiv_")[1]||s.id.split("_freeText_")[1]||s.id.split("_")[1];if(A=parseInt(p,10),isNaN(A)&&o.pdfViewer.formFieldCollection){var c=o.pdfViewer.formFieldCollection.filter((function(e){return e.id===s.id||e.id===s.id.split("_")[0]}));c.length>0&&(A=c[0].pageIndex)}}var g=o.getElement("_pageDiv_"+A);if(g){var u=g.getBoundingClientRect();l=(e.clientX-u.left)/h,d=(e.clientY-u.top)/h}s&&s.classList&&!s.classList.contains("e-pv-hyperlink")&&!s.classList.contains("e-pv-page-container")&&(o.pdfViewer.firePageClick(l,d,A+1),o.pdfViewer.formFieldsModule&&!o.pdfViewer.formDesignerModule&&o.signatureModule.removeFocus()),o.isTextMarkupAnnotationModule()&&!o.isToolbarInkClicked&&o.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationMouseUp(e),o.pdfViewer.formDesignerModule&&!o.pdfViewer.annotationModule&&o.pdfViewer.formDesignerModule.updateCanvas(A),o.viewerContainer.contains(e.target)&&e.target!==o.viewerContainer&&e.target!==o.pageContainer&&o.isPanMode&&(o.viewerContainer.style.cursor="move",o.viewerContainer.style.cursor="-webkit-grab",o.viewerContainer.style.cursor="-moz-grab",o.viewerContainer.style.cursor="grab")}o.isViewerMouseDown=!1}},this.detectTouchPad=function(e){o.isTouchPad=e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||Math.abs(e.deltaY)<60:0===e.deltaMode},this.handleMacGestureStart=function(e){e.preventDefault(),e.stopPropagation(),o.macGestureStartScale=o.pdfViewer.magnification.zoomFactor},this.handleMacGestureChange=function(e){e.preventDefault(),e.stopPropagation();var t=e.clientX,i=e.clientY,n=Number((o.macGestureStartScale*e.scale).toFixed(2));o.isMacGestureActive||(o.isMacGestureActive=!0,o.pdfViewer.magnification.initiateMouseZoom(t,i,100*n),setTimeout((function(){o.isMacGestureActive=!1}),50))},this.handleMacGestureEnd=function(e){e.preventDefault(),e.stopPropagation()},this.viewerContainerOnMouseWheel=function(e){if(o.isViewerMouseWheel=!0,o.getRerenderCanvasCreated()&&e.preventDefault(),e.ctrlKey){var t=25;(o.pdfViewer.magnificationModule?o.pdfViewer.magnification.zoomFactor:o.pdfViewer.zoomValue<1)&&(t=10),(o.pdfViewer.magnificationModule?o.pdfViewer.magnification.zoomFactor:o.pdfViewer.zoomValue>=2)&&(t=50),o.isTouchPad&&!o.isMacSafari&&(t/=o.zoomInterval),o.pdfViewer.magnificationModule&&(e.wheelDelta>0?o.pdfViewer.magnification.initiateMouseZoom(e.x,e.y,100*o.pdfViewer.magnification.zoomFactor+t):o.pdfViewer.magnification.initiateMouseZoom(e.x,e.y,100*o.pdfViewer.magnification.zoomFactor-t)),o.isTouchPad=!1}o.pdfViewer.magnificationModule&&(o.pdfViewer.magnificationModule.pageRerenderOnMouseWheel(),e.ctrlKey&&e.preventDefault(),o.pdfViewer.magnificationModule.fitPageScrollMouseWheel(e)),o.pdfViewer.textSelectionModule&&!o.isTextSelectionDisabled&&o.isViewerMouseDown&&(e.target.classList.contains("e-pv-text")||o.pdfViewer.textSelectionModule.textSelectionOnMouseWheel(o.currentPageNumber-1))},this.onWindowKeyDown=function(e){var i=!!!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)&&e.metaKey;if(!(o.isFreeTextAnnotationModule()&&o.pdfViewer.annotationModule&&(!0===o.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus||!0===o.pdfViewer.annotationModule.inputElementModule.isInFocus)||e.ctrlKey&&i))switch(e.keyCode){case 46:var n=document.activeElement;"INPUT"===n.tagName||"TEXTAREA"===n.tagName||n.isContentEditable||o.DeleteKeyPressed(e);break;case 27:if(o.pdfViewer.toolbar){if(o.pdfViewer.toolbar.addInkAnnotation(),o.pdfViewer.toolbar.deSelectCommentAnnotation(),o.pdfViewer.toolbar.updateStampItems(),o.pdfViewer.toolbar.annotationToolbarModule&&((0,t.isBlazor)()?o.pdfViewer.toolbar.annotationToolbarModule.deselectAllItemsInBlazor():o.pdfViewer.toolbar.annotationToolbarModule.deselectAllItems()),o.pdfViewer.isFormDesignerToolbarVisible&&document.getElementById("FormField_helper_html_element")){var r=document.getElementById("FormField_helper_html_element");r&&r.remove()}o.pdfViewer.tool="",o.focusViewerContainer()}break;case 13:if(o.pdfViewer.formDesignerModule&&"keydown"===e.type&&13===e.keyCode&&e.target&&(e.target.id||e.target.tabIndex)&&o.pdfViewer.formFieldCollections){var a=void 0;e.target;a=e.target.tabIndex&&!e.target.id?e.target.parentElement.id.split("_content_html_element")[0]:e.target.id.split("_")[0];for(var s=0;s<o.pdfViewer.formFieldCollections.length;s++){var l=o.pdfViewer.formFieldCollections[parseInt(s.toString(),10)];a!==l.id||"SignatureField"!==l.type&&"InitialField"!==l.type||(o.pdfViewer.fireFormFieldClickEvent("formFieldClicked",o.pdfViewer.formFieldCollections[parseInt(s.toString(),10)]),e.preventDefault())}}break;case 32:if(o.pdfViewer.formDesignerModule&&"keydown"===e.type&&32===e.keyCode&&e.target&&e.target.id&&o.pdfViewer.formFields)for(s=0;s<o.pdfViewer.formFields.length;s++){var d=o.pdfViewer.formFields[parseInt(s.toString(),10)];if(e.target.id.split("_")[0]===d.id&&"Checkbox"===d.formFieldAnnotationType){o.pdfViewer.formDesignerModule.setCheckBoxState(e),e.preventDefault();break}}break;case 9:if(e.target&&(e.target.id||e.target.tabIndex)&&o.pdfViewer.formFieldCollections&&("e-pv-formfield-input"===e.target.className||"foreign-object"===e.target.className||e.target.id===o.pdfViewer.element.id+"_viewerContainer")){var h,A=void 0,p=void 0,c=e.target;e.target.tabIndex&&!e.target.id?(c=e.target.parentElement,h=c.id.split("_content_html_element")[0]):(c=e.target,h=c.id.split("_input")[0]),o.pdfViewer.formDesignerModule&&(e.shiftKey&&"Tab"===e.key?(p=o.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===h})),A=p>0?o.pdfViewer.formFieldCollections[p-1]:o.pdfViewer.formFieldCollections[o.pdfViewer.formFieldCollections.length-1]):(p=o.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===h})),A=p+1<o.pdfViewer.formFieldCollections.length?o.pdfViewer.formFieldCollections[p+1]:o.pdfViewer.formFieldCollections[0]),o.pdfViewer.focusFormField(A),e.preventDefault()),o.pdfViewer.formDesigner||"e-pdfviewer-formFields"!==c.className&&(e.shiftKey&&"Tab"===e.key?(p=o.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===c.id})),A=p>0?o.pdfViewer.formFieldCollections[p-1]:o.pdfViewer.formFieldCollections[o.pdfViewer.formFieldCollections.length-1]):(p=o.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===c.id})),A=p+1<o.pdfViewer.formFieldCollections.length?o.pdfViewer.formFieldCollections[p+1]:o.pdfViewer.formFieldCollections[0]),o.pdfViewer.focusFormField(A),e.preventDefault())}if(e.target&&e.target.id&&o.pdfViewer.formFields)for(s=0;s<o.pdfViewer.formFields.length;s++){d=o.pdfViewer.formFields[parseInt(s.toString(),10)];if(e.target.id===d.id){var g={value:d.value,fontFamily:d.fontFamily,fontSize:d.fontSize,fontStyle:d.fontStyle,color:d.color,backgroundColor:d.backgroundColor,alignment:d.alignment,isReadonly:d.isReadonly,visibility:d.visibility,maxLength:d.maxLength,isRequired:d.isRequired,isPrint:d.isPrint,rotation:d.rotateAngle,tooltip:d.tooltip,options:d.options,isChecked:d.isChecked,isSelected:d.isSelected};o.pdfViewer.fireFocusOutFormField(g,d.pageIndex)}}}},this.viewerContainerOnKeyDown=function(e){var i=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),n=!!i&&e.metaKey,r=o.pdfViewer.commandManager;if(0!==Object.keys(r).length&&o.fireCustomCommands(e),!o.pdfViewer.pageOrganizerModule||o.pdfViewer.pageOrganizerModule&&(!o.pdfViewer.pageOrganizerModule.isOrganizeWindowOpen||(e.ctrlKey||e.metaKey)&&e.altKey&&51===e.keyCode&&!e.shiftKey)){if(o.isFreeTextAnnotationModule()&&o.pdfViewer.annotationModule&&(!0===o.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus||!0===o.pdfViewer.annotationModule.inputElementModule.isInFocus))return;if(e.shiftKey&&!(e.target.classList.contains("e-pv-formfield-input")||e.target.classList.contains("e-textbox")||e.target.classList.contains("e-pdfviewer-formFields")||e.target.classList.contains("e-pv-formfield-textarea")||e.target.id===o.pdfViewer.element.id+"_search_input"))switch(e.keyCode){case 72:e.preventDefault(),o.pdfViewer.toolbarModule&&o.pdfViewer.enableToolbar&&-1!==o.pdfViewer.toolbarSettings.toolbarItems.indexOf("PanTool")&&(o.pdfViewer.interactionMode="Pan",o.focusViewerContainer());break;case 86:e.preventDefault(),o.pdfViewer.toolbarModule&&o.pdfViewer.enableToolbar&&-1!==o.pdfViewer.toolbarSettings.toolbarItems.indexOf("SelectionTool")&&(o.pdfViewer.interactionMode="TextSelection",o.focusViewerContainer())}if(e.ctrlKey||n){if(e.shiftKey&&!i||i&&!e.shiftKey)switch(e.keyCode){case 38:case 33:e.preventDefault(),1!==o.currentPageNumber&&o.updateScrollTop(0);break;case 40:case 34:e.preventDefault(),o.currentPageNumber!==o.pageCount&&o.updateScrollTop(o.pageCount-1)}switch(e.ctrlKey&&((0,t.isNullOrUndefined)(o.pdfViewer.annotationModule)||o.pdfViewer.annotationModule.setAnnotationMode("None")),e.keyCode){case 79:o.pdfViewer.toolbarModule&&o.pdfViewer.enableToolbar&&-1!==o.pdfViewer.toolbarSettings.toolbarItems.indexOf("OpenOption")?o.pdfViewer.toolbarModule.openFileDialogBox(e):e.preventDefault();break;case 67:o.pdfViewer.textSelectionModule&&o.pdfViewer.enableTextSelection&&!o.isTextSelectionDisabled&&o.isTargetClassNameValid(e)&&(e.preventDefault(),o.pdfViewer.textSelectionModule.copyText()),(o.pdfViewer.selectedItems.annotations.length||o.pdfViewer.selectedItems.formFields.length)&&(o.pdfViewer.copy(),o.contextMenuModule.previousAction="Copy");break;case 70:o.pdfViewer.textSearchModule&&o.pdfViewer.enableTextSearch&&(e.preventDefault(),o.pdfViewer.toolbarModule.textSearchButtonHandler());break;case 80:o.pdfViewer.printModule&&o.pdfViewer.enablePrint&&(e.preventDefault(),o.pdfViewer.firePrintStart());break;case 83:e.preventDefault(),o.pdfViewer.download();break;case 90:o.pdfViewer.textSearchModule&&o.isTextSearchBoxOpen()||o.pdfViewer.annotationModule&&o.focusOnViewerContainer()&&o.pdfViewer.annotationModule.undo();break;case 88:(o.pdfViewer.selectedItems.annotations.length||o.pdfViewer.selectedItems.formFields.length)&&(o.pdfViewer.cut(),o.contextMenuModule.previousAction="Cut");break;case 89:o.pdfViewer.textSearchModule&&o.isTextSearchBoxOpen()||o.pdfViewer.annotationModule&&o.focusOnViewerContainer()&&o.pdfViewer.annotationModule.redo();break;case 86:if(o.pdfViewer.annotation&&o.pdfViewer.annotation.isShapeCopied||o.pdfViewer.formFields&&o.pdfViewer.formDesigner&&o.pdfViewer.formDesigner.isShapeCopied){var a=void 0,s=document.getElementById(o.pdfViewer.element.id+"_search_box");s&&(a="none"!==s.style.display),!a&&o.pdfViewer.formDesigner&&o.isTargetClassNameValid(e)&&"e-pv-properties-tooltip-prop-input e-input e-lib e-textbox e-control"!==e.target.className&&(o.pdfViewer.paste(),o.contextMenuModule.previousAction="Paste")}break;case 71:e.preventDefault();var l=document.querySelector(".e-control.e-numerictextbox.e-lib.e-input");o.pdfViewer.toolbarModule&&o.pdfViewer.enableToolbar&&null!=l&&"none"!==l.style.display&&(l.blur(),l.focus());break;case 48:if(e.altKey){e.preventDefault();var d=document.getElementById(o.pdfViewer.element.id+"_commantPanel");o.pageCount>0&&"none"===d.style.display?o.pdfViewer.annotationModule.showCommentsPanel():o.navigationPane.closeCommentPanelContainer()}break;case 49:e.altKey&&(e.preventDefault(),o.pageCount>0&&o.pdfViewer.enableThumbnail&&(e.preventDefault(),o.navigationPane.sideToolbarOnClick(e),o.focusViewerContainer()));break;case 50:e.altKey&&(e.preventDefault(),o.pageCount>0&&o.pdfViewer.enableBookmark&&(o.navigationPane.bookmarkButtonOnClick(e),o.focusViewerContainer()));break;case 51:e.altKey&&(e.preventDefault(),!(0,t.isNullOrUndefined)(o.pdfViewer.pageOrganizer)&&o.pageCount>0&&o.pdfViewer.enablePageOrganizer&&(o.pdfViewer.pageOrganizer.switchPageOrganizer(),o.focusViewerContainer()));break;case 65:if(e.shiftKey){e.preventDefault(),o.pageCount>0&&o.pdfViewer.enableAnnotationToolbar&&o.pdfViewer.toolbarModule&&o.pdfViewer.toolbarModule.annotationToolbarModule&&(o.pdfViewer.toolbarModule.initiateAnnotationMode(null,!0),o.focusViewerContainer());var h=document.getElementById(o.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.items[0].id);h&&h.focus()}}}else if(o.pdfViewer.annotationModule&&!o.pdfViewer.textSearchModule&&"Delete"===e.key){var A=document.activeElement;"e-pdfviewer-formFields"===e.target.className||"INPUT"===A.tagName||"TEXTAREA"===A.tagName||A.isContentEditable||o.DeleteKeyPressed(e)}o.pdfViewer.magnificationModule&&o.pdfViewer.magnificationModule.magnifyBehaviorKeyDown(e)}},this.viewerContainerOnMousemove=function(e){o.mouseX=e.clientX,o.mouseY=e.clientY;var t=!!document.documentMode,n=e.target;if("Drag"===o.action&&e.preventDefault(),o.isViewerMouseDown&&"Perimeter"!==o.action&&"Polygon"!==o.action&&"Line"!==o.action&&"DrawTool"!==o.action&&"Distance"!==o.action)if(o.pdfViewer.textSelectionModule&&o.pdfViewer.enableTextSelection&&!o.isTextSelectionDisabled&&!o.getPopupNoteVisibleStatus())if(t){var r=window.getSelection();r.type||r.isCollapsed||null===r.anchorNode||(o.pdfViewer.textSelectionModule.isTextSelection=!0)}else{"e-pdfviewer-formFields"!==e.target.className&&e.preventDefault(),o.mouseX=e.clientX,o.mouseY=e.clientY;var a=o.pdfViewer.annotationModule;a&&a.textMarkupAnnotationModule&&a.textMarkupAnnotationModule.isDropletClicked&&a.textMarkupAnnotationModule.isEnableTextMarkupResizer(a.textMarkupAnnotationModule.currentTextMarkupAddMode)?a.textMarkupAnnotationModule.textSelect(e.target,o.mouseX,o.mouseY):o.pdfViewer.textSelectionModule.textSelectionOnMouseMove(e.target,o.mouseX,o.mouseY)}else o.skipPreventDefault(n)&&e.preventDefault();if(o.isTextMarkupAnnotationModule()&&!o.getPopupNoteVisibleStatus()&&o.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationMouseMove(e),o.isPanMode&&o.panOnMouseMove(e),o.isShapeBasedAnnotationsEnabled()){var s=void 0;if(e.target&&(e.target.id.indexOf("_text")>-1||e.target.parentElement.classList.contains("foreign-object")||e.target.id.indexOf("_annotationCanvas")>-1||e.target.classList.contains("e-pv-hyperlink"))&&o.pdfViewer.annotation||e.target.classList.contains("e-pdfviewer-formFields")||e.target.classList.contains("e-pv-text-layer")){var l=void 0;if(o.pdfViewer.annotation)l=o.pdfViewer.annotation.getEventPageNumber(e);else{var d=e.target.id.match(/\d+/);l=d?parseInt(d[0],10):o.pdfViewer.currentPageNumber-1}if(p=document.getElementById(o.pdfViewer.element.id+"_pageDiv_"+l)){var h=(c=p.getBoundingClientRect()).x?c.x:c.left,A=c.y?c.y:c.top;s=o.pdfViewer.annotationModule&&o.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation&&"Image"===o.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation.shapeAnnotationType?new i.Rect(h,A,c.width-10,c.height-10):new i.Rect(h+1,A+1,c.width-3,c.height-3)}}else if(!o.pdfViewer.annotationModule&&o.pdfViewer.formDesignerModule){var p;l=o.pdfViewer.formDesignerModule.getEventPageNumber(e);if(p=document.getElementById(o.pdfViewer.element.id+"_annotationCanvas_"+l)){h=(c=p.getBoundingClientRect()).x?c.x:c.left;var c,g=c.y?c.y:c.top;s=new i.Rect(h+10,g+10,c.width-10,c.height-10)}}var u=o.pdfViewer.annotationModule?o.pdfViewer.annotationModule.stampAnnotationModule:null;!s||!s.containsPoint({x:o.mouseX,y:o.mouseY})||u&&u.isStampAnnotSelected?(o.diagramMouseLeave(e),o.isAnnotationDrawn&&!o.pdfViewer.isFormDesignerToolbarVisible&&(o.diagramMouseUp(e),o.isAnnotationAdded=!0)):(o.diagramMouseMove(e),o.annotationEvent=e),o.pdfViewer.enableStampAnnotations&&u&&u.isStampAnnotSelected&&(o.pdfViewer.tool="Stamp",o.tool=new te(o.pdfViewer,o),o.isMouseDown=!0,u.isStampAnnotSelected=!1,u.isNewStampAnnot=!0),o.isSignatureAdded&&o.pdfViewer.enableHandwrittenSignature&&(o.pdfViewer.tool="Stamp",o.tool=new te(o.pdfViewer,o),o.isMouseDown=!0,o.isSignatureAdded=!1,o.isNewSignatureAdded=!0)}},this.panOnMouseMove=function(e){var t=!1;if("Ink"!==o.action&&"Line"!==o.action&&"Perimeter"!==o.action&&"Polygon"!==o.action&&"DrawTool"!==o.action&&"Drag"!==o.action&&-1===o.action.indexOf("Rotate")&&-1===o.action.indexOf("Resize")||(t=!0),o.viewerContainer.contains(e.target)&&e.target!==o.viewerContainer&&e.target!==o.pageContainer&&!t)if(o.isViewerMouseDown){var i=o.dragX-e.pageX,n=o.dragY-e.pageY;o.viewerContainer.scrollTop=o.viewerContainer.scrollTop+n,o.viewerContainer.scrollLeft=o.viewerContainer.scrollLeft+i,o.viewerContainer.style.cursor="move",o.viewerContainer.style.cursor="-webkit-grabbing",o.viewerContainer.style.cursor="-moz-grabbing",o.viewerContainer.style.cursor="grabbing",o.dragX=e.pageX,o.dragY=e.pageY}else o.navigationPane.isNavigationPaneResized||(o.viewerContainer.style.cursor="move",o.viewerContainer.style.cursor="-webkit-grab",o.viewerContainer.style.cursor="-moz-grab",o.viewerContainer.style.cursor="grab");else o.navigationPane.isNavigationPaneResized||(o.viewerContainer.style.cursor="auto")},this.viewerContainerOnMouseLeave=function(e){o.isViewerMouseDown&&o.pdfViewer.textSelectionModule&&!o.isTextSelectionDisabled&&o.pdfViewer.textSelectionModule.textSelectionOnMouseLeave(e),o.pdfViewer.textSelectionModule&&o.pdfViewer.textSelectionModule.isTextSelection&&e.preventDefault(),"Ink"===o.action&&(o.diagramMouseUp(e),o.isAnnotationAdded=!0)},this.viewerContainerOnMouseEnter=function(e){o.pdfViewer.textSelectionModule&&!o.isTextSelectionDisabled&&o.pdfViewer.textSelectionModule.clear()},this.viewerContainerOnMouseOver=function(e){var t=!!document.documentMode;o.isViewerMouseDown&&(t||e.preventDefault())},this.viewerContainerOnClick=function(e){if("dblclick"===e.type){if(!o.pdfViewer.textSelectionModule||o.isTextSelectionDisabled||o.getCurrentTextMarkupAnnotation())o.getCurrentTextMarkupAnnotation();else if(e.target.classList.contains("e-pv-text")){if(o.isViewerContainerDoubleClick=!0,!o.getTextMarkupAnnotationMode()){var i=parseFloat(e.target.id.split("_")[2]);o.pdfViewer.fireTextSelectionStart(i+1)}o.pdfViewer.textSelectionModule.selectAWord(e.target,e.clientX,e.clientY,!1),"MouseUp"===o.pdfViewer.contextMenuSettings.contextMenuAction&&o.pdfViewer.textSelectionModule.calculateContextMenuPosition(e.clientY,e.clientX),o.getTextMarkupAnnotationMode()?o.isTextMarkupAnnotationModule()&&o.getTextMarkupAnnotationMode()&&o.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(o.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode):(o.pdfViewer.textSelectionModule.maintainSelectionOnZoom(!0,!1),o.dblClickTimer=setTimeout((function(){o.applySelection()}),100),o.pdfViewer.textSelectionModule.fireTextSelectEnd())}if(o.action&&("Perimeter"===o.action||"Polygon"===o.action)&&o.tool){o.eventArgs.position=o.currentPosition,o.getMouseEventArgs(o.currentPosition,o.eventArgs,e,o.eventArgs.source);o.isMetaKey(e);var n={ctrlKey:e.ctrlKey,shiftKey:e.shiftKey};o.eventArgs.info=n,o.eventArgs.clickCount=e.detail,o.eventArgs.isTouchMode=!1,o.tool.mouseUp(o.eventArgs,!0)}if((o.pdfViewer.selectedItems||o.pdfViewer.annotation&&o.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)&&!o.pdfViewer.annotationSettings.isLock){var r=o.pdfViewer.selectedItems.annotations[0];if(0===o.pdfViewer.selectedItems.annotations.length||r.annotationSettings.isLock||r.isLock){var a=o.pdfViewer.annotation,s=o.pdfViewer.annotationModule;if(a&&s.textMarkupAnnotationModule&&s.textMarkupAnnotationModule.currentTextMarkupAnnotation){var l=o.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation;o.pdfViewer.annotationModule.annotationSelect(l.annotName,o.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage,l,null,!0),(A=document.getElementById(o.pdfViewer.element.id+"_accordionContainer"+o.currentPageNumber))&&A.ej2_instances[0].expandItem(!0);var d=document.getElementById(l.annotName);d&&d.firstChild.click()}}else{if(o.pdfViewer.annotationModule&&!r.formFieldAnnotationType)if(o.pdfViewer.annotationModule.annotationSelect(r.annotName,r.pageIndex,r,null,!0),!1===o.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus)if(!0!==o.isFreeTextAnnotation(o.pdfViewer.selectedItems.annotations)||o.pdfViewer.selectedItems.annotations[0].isLock)if(!0===o.pdfViewer.selectedItems.annotations[0].enableShapeLabel){var h;(h={}).x=o.pdfViewer.selectedItems.annotations[0].bounds.x,h.y=o.pdfViewer.selectedItems.annotations[0].bounds.y,o.pdfViewer.annotation.inputElementModule.editLabel(h,o.pdfViewer.selectedItems.annotations[0])}else{var A;(A=document.getElementById(o.pdfViewer.element.id+"_accordionContainer"+o.pdfViewer.currentPageNumber))&&A.ej2_instances[0].expandItem(!0),o.pdfViewer.toolbarModule&&o.pdfViewer.isFormDesignerToolbarVisible&&o.pdfViewer.enableAnnotationToolbar&&!o.pdfViewer.isAnnotationToolbarVisible&&!(0,t.isNullOrUndefined)(o.pdfViewer.toolbarModule.annotationToolbarModule)&&o.pdfViewer.toolbarModule.annotationToolbarModule.showAnnotationToolbar(o.pdfViewer.toolbarModule.annotationItem);var p=document.getElementById(o.pdfViewer.selectedItems.annotations[0].annotName);p&&(p.classList.contains("e-pv-comments-border")||p.firstChild.click())}else(h={}).x=o.pdfViewer.selectedItems.annotations[0].bounds.x,h.y=o.pdfViewer.selectedItems.annotations[0].bounds.y,o.pdfViewer.annotation.freeTextAnnotationModule.addInuptElemet(h,o.pdfViewer.selectedItems.annotations[0])}}if(o.pdfViewer.designerMode&&o.pdfViewer.selectedItems.formFields.length>0){var c={name:"formFieldDoubleClick",field:o.pdfViewer.selectedItems.formFields[0],cancel:!1};o.pdfViewer.fireFormFieldDoubleClickEvent(c),c.cancel||o.pdfViewer.formDesigner.createPropertiesWindow()}}else 3===e.detail&&(o.isViewerContainerDoubleClick&&(clearTimeout(o.dblClickTimer),o.isViewerContainerDoubleClick=!1),!o.pdfViewer.textSelectionModule||o.isTextSelectionDisabled||o.getTextMarkupAnnotationMode()||(o.pdfViewer.textSelectionModule.selectEntireLine(e),o.pdfViewer.textSelectionModule.maintainSelectionOnZoom(!0,!1),o.pdfViewer.textSelectionModule.fireTextSelectEnd(),o.applySelection()))},this.viewerContainerOnDragStart=function(e){!!document.documentMode||e.preventDefault()},this.viewerContainerOnContextMenuClick=function(e){o.isViewerMouseDown=!1},this.onWindowMouseUp=function(e){o.isFreeTextContextMenu=!1,o.isNewStamp=!1,o.signatureAdded=!1;var t=o.pdfViewer.annotationModule;if(t&&t.textMarkupAnnotationModule&&t.textMarkupAnnotationModule.isEnableTextMarkupResizer(t.textMarkupAnnotationModule.currentTextMarkupAddMode)){var i=t.textMarkupAnnotationModule;i.isLeftDropletClicked=!1,i.isDropletClicked=!1,i.isRightDropletClicked=!1,i.currentTextMarkupAnnotation||null!==window.getSelection().anchorNode?i.currentTextMarkupAnnotation||""!==i.currentTextMarkupAddMode||(i.isTextMarkupAnnotationMode=!1):i.showHideDropletDiv(!0)}if(!o.getPopupNoteVisibleStatus()){if(0===e.button){if(o.isNewFreeTextAnnotation())if(!o.pdfViewer.textSelectionModule||o.isTextSelectionDisabled||o.getTextMarkupAnnotationMode()){if(o.getTextMarkupAnnotationMode()){var n=o.pdfViewer.element,r=e.target;n&&r&&n.id.split("_")[0]===r.id.split("_")[0]&&"commenttextbox"!==r.id.split("_")[1]&&o.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(o.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode)}}else{1!==e.detail||o.viewerContainer.contains(e.target)||o.contextMenuModule.contextMenuElement.contains(e.target)||null!==window.getSelection().anchorNode&&o.pdfViewer.textSelectionModule.textSelectionOnMouseup(e);var a=e.target;o.viewerContainer.contains(e.target)&&"e-pdfviewer-formFields"!==a.className&&"e-pv-formfield-input"!==a.className&&"e-pv-formfield-textarea"!==a.className&&(o.isClickedOnScrollBar(e,!0)||o.isScrollbarMouseDown?null!==window.getSelection().anchorNode&&o.pdfViewer.textSelectionModule.applySpanForSelection():o.pdfViewer.textSelectionModule.textSelectionOnMouseup(e))}}else 2===e.button&&o.viewerContainer.contains(e.target)&&o.skipPreventDefault(e.target)&&o.checkIsNormalText()&&window.getSelection().removeAllRanges();return!o.isViewerMouseDown||(o.isViewerMouseDown=!1,o.pdfViewer.textSelectionModule&&!o.isTextSelectionDisabled&&(o.pdfViewer.textSelectionModule.clear(),o.pdfViewer.textSelectionModule.selectionStartPage=null),e.preventDefault(),e.stopPropagation(),!1)}},this.onWindowTouchEnd=function(e){o.signatureAdded=!1,o.pdfViewer.element.contains(e.target)||o.contextMenuModule.contextMenuElement.contains(e.target)||o.pdfViewer.textSelectionModule&&!o.isTextSelectionDisabled&&o.pdfViewer.textSelectionModule.clearTextSelection()},this.viewerContainerOnTouchStart=function(e){var i=e.touches;o.pdfViewer.magnificationModule&&o.pdfViewer.magnificationModule.setTouchPoints(i[0].clientX,i[0].clientY);var n=e.target;(1===i.length&&!n.classList.contains("e-pv-hyperlink")&&o.skipPreventDefault(n)&&o.preventTouchEvent(e),1===e.touches.length&&o.isTextMarkupAnnotationModule()&&!o.getPopupNoteVisibleStatus()&&(o.isToolbarInkClicked||o.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationTouchEnd(e)),o.touchClientX=i[0].clientX,o.touchClientY=i[0].clientY,o.scrollY=i[0].clientY,o.previousTime=(new Date).getTime(),o.diagramMouseDown(e),1!==i.length||e.target.classList.contains("e-pv-touch-select-drop")||e.target.classList.contains("e-pv-touch-ellipse"))||(t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode&&o.pageCount>0&&!o.isThumb&&!e.target.classList.contains("e-pv-hyperlink")&&o.handleTaps(i,e),(0,t.isBlazor)()&&t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode||o.handleTextBoxTaps(i),o.isDesignerMode(n)?(o.contextMenuModule.close(),o.isLongTouchPropagated||(o.longTouchTimer=setTimeout((function(){o.isMoving||(o.isTouchDesignerMode=!0,o.contextMenuModule.open(o.touchClientY,o.touchClientX,o.viewerContainer))}),1e3)),o.isLongTouchPropagated=!0,o.isMoving=!1):o.pdfViewer.textSelectionModule&&!o.isTextSelectionDisabled?(o.pdfViewer.textSelectionModule.clearTextSelection(),o.contextMenuModule.close(),o.isLongTouchPropagated||(o.longTouchTimer=setTimeout((function(){o.viewerContainerOnLongTouch(e)}),1e3)),o.isLongTouchPropagated=!0):o.contextMenuModule.close());var r=o.pdfViewer.toolbarModule?o.pdfViewer.toolbarModule.annotationToolbarModule:"null";!n.classList.contains("e-pv-text")||r&&r.textMarkupToolbarElement&&0!==r.textMarkupToolbarElement.children.length||n.classList.add("e-pv-text-selection-none"),t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode&&n.classList.remove("e-enable-text-selection"),"Perimeter"!==o.action&&"Distance"!==o.action&&"Line"!==o.action&&"Polygon"!==o.action&&"DrawTool"!==o.action&&"Drag"!==o.action&&-1===o.action.indexOf("Rotate")&&-1===o.action.indexOf("Resize")||e.preventDefault()},this.viewerContainerOnLongTouch=function(e){if(o.touchClientX=e.touches[0].clientX,o.touchClientY=e.touches[0].clientY,e.preventDefault(),o.pdfViewer.textSelectionModule){var i=e.target;i.classList.contains("e-pv-text-selection-none")&&i.classList.contains("e-pv-text")&&(i.classList.remove("e-pv-text-selection-none"),t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode&&i.classList.add("e-enable-text-selection")),o.pdfViewer.textSelectionModule.initiateTouchSelection(e,o.touchClientX,o.touchClientY),t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode&&(clearTimeout(o.singleTapTimer),o.tapCount=0)}},this.viewerContainerOnPointerDown=function(e){"touch"===e.pointerType&&(o.pointerCount++,o.pointerCount<=2&&(e.preventDefault(),o.pointersForTouch.push(e),2===o.pointerCount&&(o.pointerCount=0),o.pdfViewer.magnificationModule&&o.pdfViewer.magnificationModule.setTouchPoints(e.clientX,e.clientY)))},this.viewerContainerOnTouchMove=function(e){"Drag"===o.action&&(o.isMoving=!0),t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode&&(clearTimeout(o.singleTapTimer),o.singleTapTimer=null,o.tapCount=0),o.preventTouchEvent(e),o.isToolbarInkClicked&&e.preventDefault();var n,r=e.touches;if(o.pdfViewer.magnificationModule&&(o.isTouchScrolled=!0,r.length>1&&o.pageCount>0?(t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode&&(o.isTouchScrolled=!1),o.pdfViewer.enablePinchZoom&&o.pdfViewer.magnificationModule.initiatePinchMove(r[0].clientX,r[0].clientY,r[1].clientX,r[1].clientY)):1===r.length&&o.getPagesPinchZoomed()&&(t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode&&(o.isTouchScrolled=!1),o.pdfViewer.magnificationModule.pinchMoveScroll())),o.mouseX=r[0].clientX,o.mouseY=r[0].clientY,e.target&&(e.target.id.indexOf("_text")>-1||e.target.id.indexOf("_annotationCanvas")>-1||e.target.classList.contains("e-pv-hyperlink"))&&o.pdfViewer.annotation){var a=o.pdfViewer.annotation.getEventPageNumber(e),s=document.getElementById(o.pdfViewer.element.id+"_annotationCanvas_"+a);if(s){var l=s.getBoundingClientRect(),d=l.x?l.x:l.left,h=l.y?l.y:l.top;n=new i.Rect(d+10,h+10,l.width-10,l.height-10)}}n&&n.containsPoint({x:o.mouseX,y:o.mouseY})||"Ink"===o.action?(o.diagramMouseMove(e),o.annotationEvent=e):(o.diagramMouseLeave(e),o.isAnnotationDrawn&&(o.diagramMouseUp(e),o.isAnnotationAdded=!0)),r=null},this.viewerContainerOnPointerMove=function(e){if("touch"===e.pointerType&&o.pageCount>0&&(e.preventDefault(),2===o.pointersForTouch.length)){for(var t=0;t<o.pointersForTouch.length;t++)if(e.pointerId===o.pointersForTouch[parseInt(t.toString(),10)].pointerId){o.pointersForTouch[parseInt(t.toString(),10)]=e;break}o.pdfViewer.magnificationModule&&o.pdfViewer.enablePinchZoom&&o.pdfViewer.magnificationModule.initiatePinchMove(o.pointersForTouch[0].clientX,o.pointersForTouch[0].clientY,o.pointersForTouch[1].clientX,o.pointersForTouch[1].clientY)}},this.viewerContainerOnTouchEnd=function(e){if(o.pdfViewer.magnificationModule&&o.pdfViewer.magnificationModule.pinchMoveEnd(),e.cancelable&&!e.target.classList.contains("e-pv-touch-ellipse")&&o.pdfViewer.textSelectionModule&&o.pdfViewer.textSelectionModule.isTextSelection&&e.preventDefault(),o.isLongTouchPropagated=!1,clearInterval(o.longTouchTimer),o.longTouchTimer=null,t.Browser.isDevice&&!o.isDeviceiOS&&!o.pdfViewer.enableDesktopMode&&o.isTouchScrolled){o.currentTime=(new Date).getTime();var i=o.currentTime-o.previousTime,n=o.scrollY-e.changedTouches[0].pageY,r=n/i;if(Math.abs(r)>1.5){var a=n+i*r;a>0&&(o.viewerContainer.scrollTop+=a,o.updateMobileScrollerPosition())}}o.diagramMouseUp(e),0!==o.pdfViewer.selectedItems.annotations.length?o.disableTextSelectionMode():o.pdfViewer.textSelectionModule&&o.pdfViewer.textSelectionModule.enableTextSelectionMode(),o.renderStampAnnotation(e),t.Browser.isDevice||(o.isgetFocused=!0,o.focusViewerContainer())},this.viewerContainerOnPointerEnd=function(e){"touch"===e.pointerType&&(e.preventDefault(),o.pdfViewer.magnificationModule&&o.pdfViewer.magnificationModule.pinchMoveEnd(),o.pointersForTouch=[],o.pointerCount=0)},this.viewerContainerOnScroll=function(e){var i=null,n=(i=o).pdfViewer.allowServerDataBinding;i.pdfViewer.enableServerDataBinding(!1);var r=0,a=0;if(e.touches&&t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode){var s=(o.viewerContainer.scrollHeight-o.viewerContainer.clientHeight)/(o.viewerContainer.clientHeight-o.toolbarHeight);if(o.isThumb){o.ispageMoved=!0,e.preventDefault(),o.isScrollerMoving=!0,o.mobilePageNoContainer.style.display="block",r=e.touches[0].pageX-o.scrollX,a=e.touches[0].pageY-o.viewerContainer.offsetTop,(0,t.isNullOrUndefined)(o.isScrollerMovingTimer)&&(o.isScrollerMovingTimer=setTimeout((function(){o.isScrollerMoving=!1,o.pageViewScrollChanged(o.currentPageNumber)}),300)),Math.abs(o.viewerContainer.scrollTop-a*s)>10&&(clearTimeout(o.isScrollerMovingTimer),o.isScrollerMovingTimer=null),o.viewerContainer.scrollTop=a*s;var l=e.touches[0].pageY,d=o.pdfViewer.toolbarModule?0:50;0!==o.viewerContainer.scrollTop&&l<=o.viewerContainer.clientHeight-d&&(o.mobileScrollerContainer.style.top=l+"px")}else"e-pv-touch-ellipse"!==e.touches[0].target.className&&(o.isWebkitMobile&&t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode||(o.mobilePageNoContainer.style.display="none",a=o.touchClientY-e.touches[0].pageY,r=o.touchClientX-e.touches[0].pageX,o.viewerContainer.scrollTop=o.viewerContainer.scrollTop+a,o.viewerContainer.scrollLeft=o.viewerContainer.scrollLeft+r),o.updateMobileScrollerPosition(),o.touchClientY=e.touches[0].pageY,o.touchClientX=e.touches[0].pageX)}o.scrollHoldTimer&&clearTimeout(o.scrollHoldTimer);var h=o.currentPageNumber;o.scrollHoldTimer=null,o.contextMenuModule.close();for(var A=o.viewerContainer.scrollTop,p=0;p<o.pageCount;p++)if(null!=o.pageSize[parseInt(p.toString(),10)]){var c=o.getPageHeight(p);if(o.pageStopValue=c<150?75:c>=150&&c<300?125:c>=300&&c<500?200:300,A+o.pageStopValue<=o.getPageTop(p)+c){o.currentPageNumber=p+1,o.pdfViewer.currentPageNumber=p+1;break}}o.pdfViewer.magnificationModule&&"fitToPage"===o.pdfViewer.magnificationModule.fitType&&o.currentPageNumber>0&&o.pageSize[o.currentPageNumber-1]&&(o.isPanMode||t.Browser.isDevice||!o.pdfViewer.enableDesktopMode||(o.viewerContainer.scrollTop=o.pageSize[o.currentPageNumber-1].top*o.getZoomFactor())),o.renderElementsVirtualScroll(o.currentPageNumber),o.pdfViewer.toolbarModule&&((0,t.isBlazor)()||o.pdfViewer.toolbarModule.updateCurrentPage(o.currentPageNumber),(0,t.isBlazor)()||t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode||o.pdfViewer.toolbarModule.updateNavigationButtons()),t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode&&(o.mobileSpanContainer.innerHTML=o.currentPageNumber.toString(),o.mobilecurrentPageContainer.innerHTML=o.currentPageNumber.toString()),h!==o.currentPageNumber&&(!i.pdfViewer.thumbnailViewModule||t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode||(i.pdfViewer.thumbnailViewModule.gotoThumbnailImage(i.currentPageNumber-1),i.pdfViewer.thumbnailViewModule.isThumbnailClicked=!1),o.pdfViewer.firePageChange(h)),o.pdfViewer.magnificationModule&&(o.isPanMode||t.Browser.isDevice||!o.pdfViewer.enableDesktopMode||o.pdfViewer.magnificationModule.updatePagesForFitPage(o.currentPageNumber-1));var g=o.getElement("_pageDiv_"+(o.currentPageNumber-1));if(g&&(g.style.visibility="visible"),o.isViewerMouseDown||!o.isViewerMouseDown&&!o.getPinchZoomed()&&!o.getPinchScrolled()&&!o.getPagesPinchZoomed()||o.isViewerMouseWheel)if(o.getRerenderCanvasCreated()&&!o.isPanMode&&o.pdfViewer.magnificationModule.clearIntervalTimer(),o.clientSideRendering?o.getLinkInformation(o.currentPageNumber):o.getStoredData(o.currentPageNumber))o.isDataExits=!0,o.initiatePageViewScrollChanged(),o.isDataExits=!1;else{var u=o.pdfViewer.scrollSettings.delayPageRequestTimeOnScroll?o.pdfViewer.scrollSettings.delayPageRequestTimeOnScroll:100;o.scrollHoldTimer=setTimeout((function(){o.initiatePageViewScrollChanged()}),u)}o.pdfViewer.annotation&&o.navigationPane.commentPanelContainer&&o.pdfViewer.annotation.stickyNotesAnnotationModule.updateCommentPanelScrollTop(o.currentPageNumber),t.Browser.isDevice&&!o.pdfViewer.enableDesktopMode&&e.touches&&"e-pv-touch-ellipse"!==e.touches[0].target.className&&setTimeout((function(){o.updateMobileScrollerPosition()}),500),i.pdfViewer.enableServerDataBinding(n,!0)},this.pdfViewer=n,this.navigationPane=new rl(this.pdfViewer,this),this.textLayer=new ld(this.pdfViewer,this),this.accessibilityTags=new kh(this.pdfViewer,this),this.signatureModule=new pd(this.pdfViewer,this)}return e.prototype.initializeComponent=function(){var e=document.getElementById(this.pdfViewer.element.id);if(e){this.blazorUIAdaptor=(0,t.isBlazor)()?new ed(this.pdfViewer,this):null,t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.element.classList.add("e-pv-mobile-view");var i=void 0;this.viewerMainContainer=(0,t.isBlazor)()?e.querySelector(".e-pv-viewer-main-container"):(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_viewerMainContainer",className:"e-pv-viewer-main-container"}),this.viewerContainer=(0,t.isBlazor)()?e.querySelector(".e-pv-viewer-container"):(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_viewerContainer",className:"e-pv-viewer-container"}),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.createMobilePageNumberContainer(),this.viewerContainer.tabIndex=-1,this.pdfViewer.enableRtl&&(this.viewerContainer.style.direction="rtl"),e.style.touchAction="pan-x pan-y",this.setMaximumHeight(e),this.mainContainer=(0,t.isBlazor)()?e.querySelector(".e-pv-main-container"):(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_mainContainer",className:"e-pv-main-container"}),this.mainContainer.appendChild(this.viewerMainContainer),e.appendChild(this.mainContainer),this.applyViewerHeight(this.mainContainer),this.pdfViewer.toolbarModule?(this.navigationPane.initializeNavigationPane(),i=this.pdfViewer.toolbarModule.intializeToolbar("100%")):(0,t.isBlazor)()&&(this.navigationPane.initializeNavigationPane(),i=this.pdfViewer.element.querySelector(".e-pv-toolbar"),this.pdfViewer.enableToolbar||(this.toolbarHeight=0,i.style.display="none"),!this.pdfViewer.enableNavigationToolbar&&(t.Browser.isDevice&&this.pdfViewer.enableDesktopMode||!t.Browser.isDevice)&&(this.navigationPane.sideBarToolbar.style.display="none",this.navigationPane.sideBarToolbarSplitter.style.display="none",(this.navigationPane.isBookmarkOpen||this.navigationPane.isThumbnailOpen)&&this.navigationPane.updateViewerContainerOnClose())),this.viewerContainer.style.height=i?this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,56):this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,0);var n=this.pdfViewer.element.clientWidth;t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(n=n-(this.navigationPane.sideBarToolbar?this.navigationPane.getViewerContainerLeft():0)-(this.navigationPane.commentPanelContainer?this.navigationPane.getViewerContainerRight():0)),this.viewerContainer.style.width=n+"px",this.viewerMainContainer.appendChild(this.viewerContainer),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.mobileScrollerContainer.style.left=n-parseFloat(this.mobileScrollerContainer.style.width)+"px",this.mobilePageNoContainer.style.left=n/2-parseFloat(this.mobilePageNoContainer.style.width)/2+"px",this.mobilePageNoContainer.style.top=this.pdfViewer.element.clientHeight/2+"px",this.mobilePageNoContainer.style.display="none",this.mobilePageNoContainer.appendChild(this.mobilecurrentPageContainer),this.mobilePageNoContainer.appendChild(this.mobilenumberContainer),this.mobilePageNoContainer.appendChild(this.mobiletotalPageContainer),this.viewerContainer.appendChild(this.mobilePageNoContainer),this.viewerMainContainer.appendChild(this.mobileScrollerContainer),this.mobileScrollerContainer.appendChild(this.mobileSpanContainer),this.pdfViewer.isAnnotationToolbarVisible&&this.pdfViewer.toolbarModule&&this.pdfViewer.toolbar.showAnnotationToolbar(!0)),this.pageContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_pageViewContainer",className:"e-pv-page-container",attrs:{role:"document"}}),this.pdfViewer.enableRtl&&(this.pageContainer.style.direction="ltr"),this.viewerContainer.appendChild(this.pageContainer),this.pageContainer.style.width=this.viewerContainer.clientWidth+"px",i&&this.pdfViewer.thumbnailViewModule&&(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode)&&this.pdfViewer.thumbnailViewModule.createThumbnailContainer(),this.createPrintPopup(),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.createGoToPagePopup();var o=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_loadingIndicator"});if(this.viewerContainer.appendChild(o),Nl({target:o,cssClass:"e-spin-center"}),this.setLoaderProperties(o),(0,t.isBlazor)()){this.contextMenuModule=new al(this.pdfViewer,this);var r=document.getElementsByClassName(this.pdfViewer.element.id+"_spinner");r&&r[0]&&!r[0].classList.contains("e-spin-hide")&&(r[0].classList.remove("e-spin-show"),r[0].classList.add("e-spin-hide"))}else this.contextMenuModule=new dd(this.pdfViewer,this);this.contextMenuModule.createContextMenu(),this.createFileInputElement(),this.wireEvents(),!this.pdfViewer.textSearchModule||t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||this.pdfViewer.textSearchModule.createTextSearchBox(),this.pdfViewer.documentPath&&(this.pdfViewer.enableHtmlSanitizer&&(this.pdfViewer.documentPath=t.SanitizeHtmlHelper.sanitize(this.pdfViewer.documentPath)),(0,t.isBlazor)()?this.pdfViewer._dotnetInstance.invokeMethodAsync("LoadDocumentFromClient",this.pdfViewer.documentPath):this.pdfViewer.load(this.pdfViewer.documentPath,null)),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.initializeCollection()}t.Browser.isDevice&&this.pdfViewer.enableDesktopMode&&this.pdfViewer.toolbarModule&&(this.pdfViewer.interactionMode="Pan")},e.prototype.createMobilePageNumberContainer=function(){this.mobilePageNoContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_mobilepagenoContainer",className:"e-pv-mobilepagenoscroll-container"}),this.mobilecurrentPageContainer=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_mobilecurrentpageContainer",className:"e-pv-mobilecurrentpage-container"}),this.mobilenumberContainer=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_mobiledashedlineContainer",className:"e-pv-mobiledashedline-container"}),this.mobiletotalPageContainer=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_mobiletotalpageContainer",className:"e-pv-mobiletotalpage-container"}),this.mobileScrollerContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_mobilescrollContainer",className:"e-pv-mobilescroll-container"}),this.mobileSpanContainer=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_mobilespanContainer",className:"e-pv-mobilespanscroll-container"}),this.mobileSpanContainer.innerHTML="1",this.mobilecurrentPageContainer.innerHTML="1",this.mobilenumberContainer.innerHTML="&#x2015;&#x2015;&#x2015;&#x2015;&#x2015;",this.mobileScrollerContainer.style.cssFloat="right",this.mobileScrollerContainer.style.width="40px",this.mobileScrollerContainer.style.height="32px",this.mobileScrollerContainer.style.zIndex="100",this.mobilePageNoContainer.style.width="120px",this.mobilePageNoContainer.style.height="100px",this.mobilePageNoContainer.style.zIndex="100",this.mobilePageNoContainer.style.position="fixed",this.mobileScrollerContainer.addEventListener("touchstart",this.mobileScrollContainerDown.bind(this)),this.mobileScrollerContainer.addEventListener("touchend",this.mobileScrollContainerEnd.bind(this)),this.mobileScrollerContainer.style.display="none"},e.prototype.initiatePageRender=function(i,n,o){var r=this;if(void 0===o&&(o=!0),this.isPasswordProtected=!(!n&&!(0,t.isNullOrUndefined)(n)),this.clientSideRendering&&this.pdfViewer.unload(),this.loadedData=i,this.documentId=this.createGUID(),e.sessionStorageManager.documentId=this.documentId,this.viewerContainer&&(this.viewerContainer.scrollTop=0),this.showLoadingIndicator(!0),this.hashId=" ",this.isFileName=!1,this.saveDocumentInfo(),"Pan"===this.pdfViewer.interactionMode&&this.initiatePanning(),i instanceof Uint8Array){this.pdfViewer.fileByteArray=i,this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.uploadedDocumentName&&this.setFileName(),this.clientSideRendering&&null===this.pdfViewer.fileName&&"string"==typeof this.loadedData&&this.setDocumentName(this.loadedData),this.pdfViewer.downloadFileName?this.downloadFileName=this.pdfViewer.downloadFileName:this.downloadFileName=this.pdfViewer.fileName;var a=this.constructJsonObject(i,n,!1);this.createAjaxRequest(a,i,n)}else this.getPdfByteArray(i).then((function(e){var t=!1,a=!0;"string"==typeof i&&(i.startsWith("http://")||i.startsWith("https://")||i.includes("pdf;base64,")||i.startsWith("blob:"))&&(t=!0);var s=!1;if("string"==typeof r.loadedData&&(s=r.loadedData.includes("pdf;base64,")),t&&r.clientSideRendering)r.pdfViewer.fileByteArray=e,r.pdfViewer.uploadedFileByteArray=e,i=e;else if(t||i.includes("pdf;base64,")||!r.clientSideRendering)i=r.checkDocumentData(r.loadedData,o);else{var l="URL"===r.identifyDataType(i);(a=r.isValidPDFBase64(i)||l)?(i=r.convertBase64(e),r.pdfViewer.fileByteArray=i):r.invalidFilePopup()}if(a){r.pdfViewer.toolbarModule&&r.pdfViewer.toolbarModule.uploadedDocumentName&&r.setFileName(),t&&r.clientSideRendering&&null===r.pdfViewer.fileName&&r.setDocumentName(r.loadedData),r.pdfViewer.downloadFileName?r.downloadFileName=r.pdfViewer.downloadFileName:r.downloadFileName=r.pdfViewer.fileName;var d=r.constructJsonObject(i,n,s);r.createAjaxRequest(d,i,n)}}))},e.prototype.initiateLoadDocument=function(t,i,n){t&&(this.documentId=t,e.sessionStorageManager.documentId=this.documentId),this.viewerContainer&&(this.viewerContainer.scrollTop=0),this.showLoadingIndicator(!0),this.hashId=" ",this.isFileName=i,this.saveDocumentInfo(),"Pan"===this.pdfViewer.interactionMode&&this.initiatePanning(),this.setFileName(),null===this.pdfViewer.fileName&&(i&&n?(this.pdfViewer.fileName=n,this.jsonDocumentId=this.pdfViewer.fileName):(this.pdfViewer.fileName="undefined.pdf",this.jsonDocumentId=null)),this.pdfViewer.downloadFileName?this.downloadFileName=this.pdfViewer.downloadFileName:this.downloadFileName=this.pdfViewer.fileName},e.prototype.convertBase64=function(e){return new Uint8Array(atob(e).split("").map((function(e){return e.charCodeAt(0)})))},e.prototype.loadSuccess=function(e,t){var i=e;if(i){if("object"!=typeof i)try{i=JSON.parse(i)}catch(e){this.onControlError(500,i,this.pdfViewer.serverActionSettings.load),i=null}if(i){for(;"object"!=typeof i;)if(i=JSON.parse(i),"number"==typeof parseInt(i,10)&&!isNaN(parseInt(i,10))){i=parseInt(i,10);break}i.StatusText&&"File Does not Exist"===i.StatusText&&this.showLoadingIndicator(!1),(i.uniqueId===this.documentId||"number"==typeof parseInt(i,10)&&!isNaN(parseInt(i,10)))&&(this.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.load,i),this.requestSuccess(i,null,t))}}},e.prototype.mobileScrollContainerDown=function(e){if(this.ispageMoved=!1,this.isThumb=!0,this.isScrollerMoving=!1,this.isTextMarkupAnnotationModule()&&null!=this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage&&t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode){var i=this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage;this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage=null,this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearAnnotationSelection(i),this.pdfViewer.toolbar.showToolbar(!0)}this.mobileScrollerContainer.addEventListener("touchmove",this.viewerContainerOnScroll.bind(this),!0)},e.prototype.relativePosition=function(e){var t=this.viewerContainer.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},e.prototype.setMaximumHeight=function(e){var i=e.getBoundingClientRect();(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode||i&&0===i.height)&&(e.style.minHeight="500px"),this.updateWidth(),this.updateHeight()},e.prototype.applyViewerHeight=function(e){var i=e.getBoundingClientRect();t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&i&&0===i.height&&(e.style.minHeight="500px")},e.prototype.updateWidth=function(){"auto"!==this.pdfViewer.width.toString()&&(this.pdfViewer.element.style.width=this.pdfViewer.width)},e.prototype.updateHeight=function(){"auto"!==this.pdfViewer.height.toString()&&(this.pdfViewer.element.style.height=this.pdfViewer.height)},e.prototype.updateViewerContainer=function(){var e=this.getElement("_sideBarContentContainer");e&&"none"===e.style.display?this.navigationPane.updateViewerContainerOnClose():e&&"block"===e.style.display?this.navigationPane.updateViewerContainerOnExpand():this.updateViewerContainerSize();var i=this.pdfViewer.toolbarModule;if(!(0,t.isNullOrUndefined)(this.viewerContainer)&&!(0,t.isNullOrUndefined)(i)&&!(0,t.isNullOrUndefined)(i.toolbarElement)){if("none"==i.toolbarElement.style.display)this.viewerContainer.style.height=this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,0);else if("block"==i.toolbarElement.style.display){var n=document.getElementById(this.pdfViewer.element.id+"_toolbarContainer");if(n){var o=n.getBoundingClientRect().height;this.viewerContainer.style.height=this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,o)}}this.navigationPane.sideBarToolbar&&(this.navigationPane.sideBarToolbar.style.height=this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,0))}i&&((0,t.isBlazor)()?(this.pdfViewer.enableToolbar||this.pdfViewer.enableAnnotationToolbar)&&this.pdfViewer._dotnetInstance.invokeMethodAsync("RefreshToolbarItems"):(this.pdfViewer.enableToolbar&&((0,t.isNullOrUndefined)(i.toolbar)||i.toolbar.refreshOverflow()),this.pdfViewer.enableAnnotationToolbar&&i.annotationToolbarModule&&((0,t.isNullOrUndefined)(i.annotationToolbarModule)||(0,t.isNullOrUndefined)(i.annotationToolbarModule.toolbar)||i.annotationToolbarModule.toolbar.refreshOverflow())))},e.prototype.updateViewerContainerSize=function(){(0,t.isNullOrUndefined)(this.viewerContainer)||(this.viewerContainer.style.width=this.pdfViewer.element.clientWidth+"px"),(0,t.isNullOrUndefined)(this.pageContainer)||(this.pageContainer.style.width=this.viewerContainer.offsetWidth+"px"),this.updateZoomValue()},e.prototype.mobileScrollContainerEnd=function(e){this.ispageMoved||this.goToPagePopup.show(),this.isThumb=!1,this.ispageMoved=!1,this.isScrollerMoving=!1,this.pageViewScrollChanged(this.currentPageNumber),this.mobileScrollerContainer.removeEventListener("touchmove",this.viewerContainerOnScroll.bind(this),!0),this.mobilePageNoContainer.style.display="none"},e.prototype.checkRedirection=function(e){var i=!1;return e&&"object"==typeof e&&(e.redirectUrl||e.redirectUri||""===e.redirectUrl||""===e.redirectUri)?""===e.redirectUrl||""===e.redirectUri?i=!0:e.redirectUrl?window.location.href=e.redirectUrl:window.location.href=e.redirectUri:e&&"string"==typeof e&&(e.includes("redirectUrl")||e.includes("redirectUri"))&&(""===JSON.parse(e).redirectUrl||""===JSON.parse(e).redirectUri?i=!0:(0,t.isNullOrUndefined)(JSON.parse(e).redirectUrl)&&(0,t.isNullOrUndefined)(JSON.parse(e).redirectUri)||(e.includes("redirectUrl")?window.location.href=JSON.parse(e).redirectUrl:window.location.href=JSON.parse(e).redirectUri)),i},e.prototype.getPdfByteArray=function(e){return"string"==typeof e&&this.clientSideRendering&&(e.startsWith("http://")||e.startsWith("https://")||e.includes("pdf;base64,")||e.startsWith("blob:"))?fetch(e).then((function(e){if(e.ok)return e.arrayBuffer();throw console.error("Error fetching PDF:",e.statusText),new Error(e.statusText)})).then((function(e){return new Uint8Array(e)})).catch((function(e){throw console.error("Error fetching PDF:",e.message),e})):Promise.resolve(e)},e.prototype.getPdfBase64=function(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("blob:")?fetch(e).then((function(e){if(e.ok)return e.arrayBuffer();throw console.error("Error fetching PDF:",e.statusText),new Error(e.statusText)})).then((function(e){var t=new Uint8Array(e).reduce((function(e,t){return e+String.fromCharCode(t)}),"");return btoa(t)})).catch((function(e){throw console.error("Error fetching PDF:",e.message),e})):Promise.resolve(e)},e.prototype.isValidPDFBase64=function(e){if(e.length%4!=0||!/^[A-Za-z0-9+/]+={0,2}$/.test(e.replace(/\s/g,"")))return!1;try{return atob(e).indexOf("%PDF-")>-1}catch(e){return!1}},e.prototype.isUrl=function(e){try{return new URL(e),!0}catch(e){return!1}},e.prototype.isBase64=function(e){return/^[A-Za-z0-9+/=]+$/.test(e)},e.prototype.identifyDataType=function(e){return this.isUrl(e)?"URL":this.isBase64(e)?"Base64":"Unknown"},e.prototype.createAjaxRequest=function(e,i,n){this.corruptPopup&&this.closeCorruptPopup(),this.notifyDialog&&this.closeNotification();var o;if(o=this,this.pdfViewer.serverActionSettings)if(this.loadRequestHandler=new hd(this.pdfViewer),this.loadRequestHandler.url=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.load,this.loadRequestHandler.responseType="json",this.loadRequestHandler.mode=!0,e.action="Load",e.elementId=this.pdfViewer.element.id,this.clientSideRendering){var r=this.pdfViewer.pdfRendererModule.load(i,this.documentId,n,e);if(r){if("object"!=typeof r)try{r=JSON.parse(r)}catch(e){o.onControlError(500,r,this.pdfViewer.serverActionSettings.load),r=null}if(r){for(;"object"!=typeof r;)if(r=JSON.parse(r),"number"==typeof parseInt(r,10)&&!isNaN(parseInt(r,10))){r=parseInt(r,10);break}(r.uniqueId===o.documentId||"number"==typeof parseInt(r,10)&&!isNaN(parseInt(r,10)))&&(o.updateFormFieldName(r),o.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.load,r),!(0,t.isNullOrUndefined)(r.isTaggedPdf)&&r.isTaggedPdf&&(o.isTaggedPdf=!0),o.requestSuccess(r,i,n))}}else o.invalidFilePopup()}else i.startsWith("blob:")?o.getPdfBase64(i).then((function(t){t&&(e.document=t,e.isFileName=!1),o.loadRequestHandler.send(e)})).catch((function(e){o.invalidFilePopup()})):o.loadRequestHandler.send(e),this.loadRequestHandler.onSuccess=function(e){var r=e.data;if(o.checkRedirection(r))o.showLoadingIndicator(!1);else if(r){if("object"!=typeof r)try{r=JSON.parse(r)}catch(e){o.onControlError(500,r,this.pdfViewer.serverActionSettings.load),r=null}if(r){for(;"object"!=typeof r;)if(r=JSON.parse(r),"number"==typeof parseInt(r,10)&&!isNaN(parseInt(r,10))){r=parseInt(r,10);break}(r.uniqueId===o.documentId||"number"==typeof parseInt(r,10)&&!isNaN(parseInt(r,10)))&&(o.updateFormFieldName(r),o.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.load,r),!(0,t.isNullOrUndefined)(r.isTaggedPdf)&&r.isTaggedPdf&&(o.isTaggedPdf=!0),o.requestSuccess(r,i,n))}}else o.showLoadingIndicator(!1),o.openImportExportNotificationPopup(o.pdfViewer.localeObj.getConstant("Import PDF Failed"))},this.loadRequestHandler.onFailure=function(e){"4"===e.status.toString().split("")[0]?o.openNotificationPopup("Client error"):o.openNotificationPopup(),o.showLoadingIndicator(!1),o.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,o.pdfViewer.serverActionSettings.load)},this.loadRequestHandler.onError=function(e){o.openNotificationPopup(),o.showLoadingIndicator(!1),o.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,o.pdfViewer.serverActionSettings.load)}},e.prototype.invalidFilePopup=function(){this.showLoadingIndicator(!1),this.openImportExportNotificationPopup(this.pdfViewer.localeObj.getConstant("Import PDF Failed"))},e.prototype.updateFormFieldName=function(e){if(e&&e.PdfRenderedFormFields&&e.PdfRenderedFormFields.length>0)for(var i=void 0,n=0;n<e.PdfRenderedFormFields.length;n++)(i=e.PdfRenderedFormFields[parseInt(n.toString(),10)])&&(i.ActualFieldName&&(i.FieldName=i.ActualFieldName),(0,t.isNullOrUndefined)(i.Value)&&(i.Value=""))},e.prototype.createNotificationPopup=function(e){var i=this;if(!this.isMessageBoxOpen){var n=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_notify",className:"e-pv-notification-popup"});!(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer)&&this.pdfViewer.pageOrganizer.dialogDivElement?this.pdfViewer.pageOrganizer.dialogDivElement.appendChild(n):this.viewerContainer.appendChild(n),this.notifyDialog=new Ne.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:this.pdfViewer.localeObj.getConstant("PdfViewer"),buttons:[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.closeNotification.bind(this)}],content:'<div class="e-pv-notification-popup-content" tabindex = "0">'+e+"</div>",target:this.pdfViewer.element,beforeClose:function(){if(i.notifyDialog.destroy(),i.pdfViewer.pageOrganizerModule&&i.pdfViewer.pageOrganizerModule.showOrganizeLoadingIndicator(!1),i.pdfViewer.element)try{i.pdfViewer.element.removeChild(n)}catch(e){n.parentElement.removeChild(n)}i.pdfViewer.textSearchModule&&(i.pdfViewer.textSearch.isMessagePopupOpened=!1),i.isMessageBoxOpen=!1}}),this.pdfViewer.enableRtl&&(this.notifyDialog.enableRtl=!0),this.notifyDialog.appendTo(n),this.isMessageBoxOpen=!0}},e.prototype.openNotificationPopup=function(e){var i=this;if(this.pdfViewer.showNotificationDialog){if("Client error"===e)if((0,t.isBlazor)())this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_Clienterror").then((function(e){i.createNotificationPopup(e)}));else this.createNotificationPopup(this.pdfViewer.localeObj.getConstant("Client error"));else if((0,t.isBlazor)())this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_Servererror").then((function(e){i.createNotificationPopup(e)}));else this.createNotificationPopup(this.pdfViewer.localeObj.getConstant("Server error"));this.getElement("_notify")&&this.getElement("_notify").classList.add("e-pv-notification-large-content")}},e.prototype.showNotificationPopup=function(e){this.pdfViewer.showNotificationDialog||""===e||(this.createNotificationPopup(e),this.getElement("_notify")&&this.getElement("_notify").classList.add("e-pv-notification-large-content"))},e.prototype.requestSuccess=function(i,n,o){if(this.clientSideRendering&&(i.isDigitalSignaturePresent&&!(0,t.isNullOrUndefined)(i.digitialSignatureFile)&&i.digitialSignatureFile&&this.pdfViewer.pdfRenderer.digitialByteArray&&this.pdfViewer.pdfRenderer.digitialByteArray.length>0?(this.pdfViewer.fileByteArray=this.pdfViewer.pdfRenderer.digitialByteArray,this.pdfViewer.pdfRenderer.digitialByteArray=null):(0,t.isNullOrUndefined)(this.pdfViewer.fileByteArray)&&this.pdfViewer.uploadedFileByteArray?(this.pdfViewer.fileByteArray=this.pdfViewer.uploadedFileByteArray,this.pdfViewer.uploadedFileByteArray=null):this.pdfViewer.fileByteArray||(0,t.isNullOrUndefined)(this.pdfViewer.toolbarModule)||!this.pdfViewer.toolbarModule.uploadedFile?!this.pdfViewer.fileByteArray&&i.documentData&&(this.pdfViewer.fileByteArray=this.convertBase64(i.documentData)):"string"==typeof this.pdfViewer.toolbarModule.uploadedFile&&(this.pdfViewer.fileByteArray=this.convertBase64(this.pdfViewer.toolbarModule.uploadedFile.replace(/^data:+[a-zA-Z]+\/[a-zA-Z]+;base64,/g,"")))),i&&void 0!==i.pageCount){(0,t.isBlazor)()&&this.isPassword&&(this.isPassword=!1,this.isPasswordAvailable=!1,this.pdfViewer._dotnetInstance.invokeMethodAsync("ClosePasswordDialog")),o&&""!==o&&(this.passwordData=o),this.pdfViewer.allowServerDataBinding=!1,this.pageCount=i.pageCount,this.pdfViewer.pageCount=i.pageCount,this.hashId=i.hashId,this.documentLiveCount=i.documentLiveCount,this.isAnnotationCollectionRemoved=!1,this.saveDocumentHashData(),this.saveFormfieldsData(i),this.pdfViewer.allowServerDataBinding=!0,this.clientSideRendering?this.isDigitalSignaturePresent=i.isDigitalSignaturePresent:this.digitalSignaturePages=i.digitalSignaturePages,this.pageRender(i);var r={pageCount:i.pageCount,pageSizes:i.pageSizes};if(e.sessionStorageManager.setItem(this.documentId+"_pagedata",JSON.stringify(r)),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode){this.mobileScrollerContainer.style.display="";var a=this.pdfViewer.toolbarModule?this.toolbarHeight:0;this.mobileScrollerContainer.style.top=a+"px"}this.restrictionList=i.RestrictionSummary,this.RestrictionEnabled(this.restrictionList,!1)}else this.pageCount=0,this.currentPageNumber=0,t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.mobileScrollerContainer.style.display="none"),4===i?(0,t.isBlazor)()||this.renderPasswordPopup(n,o,this.isImportDoc):3===i&&((0,t.isBlazor)()||this.renderCorruptPopup(this.isImportDoc)),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateToolbarItems();var s=this.pdfViewer.annotationModule;s&&s.textMarkupAnnotationModule&&s.textMarkupAnnotationModule.isEnableTextMarkupResizer(s.textMarkupAnnotationModule.currentTextMarkupAddMode)&&s.textMarkupAnnotationModule.createAnnotationSelectElement()},e.prototype.RestrictionEnabled=function(e,i){if(e)for(var n=0;n<e.length;n++)this.EnableRestriction(e[parseInt(n.toString(),10)],i),(0,t.isBlazor)()?this.pdfViewer.toolbarModule&&this.pdfViewer._dotnetInstance.invokeMethodAsync("RestrictToolbarItems",e,i):this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.DisableToolbarItems(e[parseInt(n.toString(),10)],i)},e.prototype.EnableRestriction=function(e,t){switch(e){case"Print":this.pdfViewer.enablePrint=t;break;case"CopyContent":this.pdfViewer.enableTextSelection=t;break;case"FillFields":this.pdfViewer.enableFormFields=t,this.enableFormFieldButton(t);break;case"EditAnnotations":this.pdfViewer.annotationSettings.isLock=!0}},e.prototype.pageRender=function(e){this.document=null,this.passwordDialogReset(),this.passwordPopup&&this.passwordPopup.hide();this.initPageDiv(e),this.currentPageNumber=1,this.pdfViewer.currentPageNumber=1,this.previousZoomValue=this.pdfViewer.zoomValue;var i=!1;this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isAutoZoom=!0,this.pdfViewer.zoomValue&&this.pdfViewer.zoomValue>0&&(100!==this.pdfViewer.zoomValue&&(i=!0),this.isInitialPageMode=!0,this.pdfViewer.magnification.zoomTo(this.pdfViewer.zoomValue)),"FitToWidth"===this.pdfViewer.zoomMode?(this.isInitialPageMode=!0,i=!0,this.pdfViewer.magnificationModule.fitToWidth()):"FitToPage"===this.pdfViewer.zoomMode&&(this.isInitialPageMode=!0,i=!0,this.pdfViewer.magnificationModule.fitToPage()),this.documentLoaded=!0,this.pdfViewer.magnificationModule.isInitialLoading=!0,this.onWindowResize(),this.documentLoaded=!1,this.pdfViewer.magnificationModule.isInitialLoading=!1),this.isDocumentLoaded=!0;var n=816;if(n=parseInt(n,10),this.clientSideRendering){var o=this,r=this.pdfViewer.fileByteArray;!(0,t.isNullOrUndefined)(r)&&r.length>0?(this.pdfViewerRunner.postMessage({uploadedFile:r,message:"LoadPageCollection",password:this.passwordData,pageIndex:0,isZoomMode:i}),r=null):this.renderCorruptPopup(!1),this.pdfViewerRunner.onmessage=function(e){"PageLoaded"===e.data.message?o.initialPagesRendered(e.data.pageIndex,e.data.isZoomMode):"LoadedStampForFormFields"===e.data.message&&o.initialPagesRenderedForSign(e.data)}}else this.initialPagesRendered(0,i);this.showLoadingIndicator(!1),(0,t.isBlazor)()||this.pdfViewer.toolbarModule&&(this.pdfViewer.toolbarModule.uploadedDocumentName=null,this.pdfViewer.toolbarModule.updateCurrentPage(this.currentPageNumber),this.pdfViewer.toolbarModule.updateToolbarItems(),this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&this.pdfViewer.toolbar.annotationToolbarModule.enableAnnotationAddTools(!0)),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.mobileSpanContainer.innerHTML=this.currentPageNumber.toString(),this.mobilecurrentPageContainer.innerHTML=this.currentPageNumber.toString())},e.prototype.initialPagesRenderedForSign=function(e){var t=document.createElement("canvas"),i=e.value,n=e.width,o=e.height,r=e.formFieldName,a=e.formFieldList,s=e.PageIndex,l=JSON.parse(a);t.width=n,t.height=o;var d=t.getContext("2d"),h=d.createImageData(n,o);h.data.set(i),d.putImageData(h,0,0);var A=t.toDataURL(),p=this.removeTrailingNumber(r),c=l.find((function(e){return e.FieldName===p})).LineBounds,g=Math.min(c.Height/this.pdfViewer.formFieldsModule.paddingDifferenceValue,c.Width/this.pdfViewer.formFieldsModule.paddingDifferenceValue),u=c.Height-g,f=c.Width-g,m=Math.min(f/n,u/o),w=n*m,y=o*m,S=c.X+(c.Width-w)/2,C=c.Y+(c.Height-y)/2,B=new Wh;B.LineBounds={X:S,Y:C,Width:w,Height:y},B.Value=A,B.ActualFieldName=null,B.Name="SignatureImage",B.FieldName=r,B.PageIndex=s,this.pdfViewer.pdfRendererModule.formFieldsBase.PdfRenderedFormFields.push(B);var I=JSON.stringify(this.pdfViewer.pdfRendererModule.formFieldsBase.PdfRenderedFormFields);this.setItemInSessionStorage(I,"_formfields")},e.prototype.removeTrailingNumber=function(e){return e.replace(/_\d+$/,"")},e.prototype.initialPagesRendered=function(e,t){if(-1===this.renderedPagesList.indexOf(e)&&!t){this.createRequestForRender(e);for(var i=e+1,n=this.pdfViewer.initialRenderPages<=this.pageCount?this.pdfViewer.initialRenderPages>this.pageRenderCount?this.pdfViewer.initialRenderPages:2:this.pageCount,o=1;o<n;o++)this.createRequestForRender(o),i+=1;if(this.pageSize[parseInt(i.toString(),10)])for(var r=this.getPageTop(i),a=this.viewerContainer.clientHeight;a>r&&this.pageSize[parseInt(i.toString(),10)];)this.renderPageElement(i),this.createRequestForRender(i),r=this.getPageTop(i),i+=1}},e.prototype.renderPasswordPopup=function(e,i,n){var o=this;if((0,t.isBlazor)()){var r=document.getElementById(this.pdfViewer.element.id+"_prompt");this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_EnterPassword").then((function(e){r.textContent=e}));var a=document.querySelector("#"+this.pdfViewer.element.id+"_password_input");if(a.addEventListener("keyup",(function(){""===a.value&&o.passwordDialogReset()})),a.addEventListener("focus",(function(){a.parentElement.classList.add("e-input-focus")})),a.addEventListener("blur",(function(){a.parentElement.classList.remove("e-input-focus")})),this.isPasswordAvailable)this.pdfViewer.fireDocumentLoadFailed(!0,i),r.classList.add("e-pv-password-error"),this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_InvalidPassword").then((function(e){r.textContent=e})),r.focus(),this.isFileName?this.document=e:this.document="data:application/pdf;base64,"+e;else this.isFileName?this.document=e:this.document="data:application/pdf;base64,"+e,this.isPasswordAvailable=!0,this.pdfViewer.fireDocumentLoadFailed(!0,null);this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenPasswordDialog")}else this.isPasswordAvailable?(this.pdfViewer.fireDocumentLoadFailed(!0,i),this.promptElement.classList.add("e-pv-password-error"),this.promptElement.textContent=this.pdfViewer.localeObj.getConstant("Invalid Password"),this.promptElement.focus(),this.isFileName||e instanceof Uint8Array?this.document=e:this.document="data:application/pdf;base64,"+e,this.passwordPopup.show()):(this.isFileName||e instanceof Uint8Array?this.document=e:this.document="data:application/pdf;base64,"+e,this.isPasswordAvailable=!0,this.createPasswordPopup(n),this.pdfViewer.fireDocumentLoadFailed(!0,null),this.passwordPopup.show())},e.prototype.renderCorruptPopup=function(e){this.pdfViewer.fireDocumentLoadFailed(!1,null),this.documentId=null,this.pdfViewer.showNotificationDialog&&((0,t.isBlazor)()?this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenCorruptedDialog"):(this.createCorruptedPopup(e),this.corruptPopup.show()))},e.prototype.constructJsonObject=function(e,t,i){var n;return t?(this.isPasswordAvailable=!0,this.passwordData=t,n={document:e,password:t,isClientsideLoading:i,zoomFactor:"1",isFileName:this.isFileName.toString(),uniqueId:this.documentId,showDigitalSignatureAppearance:this.pdfViewer.showDigitalSignatureAppearance}):(this.isPasswordAvailable=!1,this.passwordData="",n={document:e,zoomFactor:"1",isClientsideLoading:i,isFileName:this.isFileName.toString(),uniqueId:this.documentId,hideEmptyDigitalSignatureFields:this.pdfViewer.hideEmptyDigitalSignatureFields,showDigitalSignatureAppearance:this.pdfViewer.showDigitalSignatureAppearance}),n},e.prototype.checkDocumentData=function(e,t){var i;return void 0===t&&(t=!0),void 0!==(i=this.isValidPDFBase64(e)?e:e.split("base64,")[1])&&this.isValidPDFBase64(i)?t&&(this.jsonDocumentId=null):(this.isFileName=!0,this.jsonDocumentId=e,null===this.pdfViewer.fileName&&(this.setDocumentName(e),i=e)),i},e.prototype.setDocumentName=function(e){var t=-1!==e.indexOf("\\")?e.split("\\"):e.split("/");this.pdfViewer.fileName=t[t.length-1],this.jsonDocumentId=this.pdfViewer.fileName},e.prototype.setFileName=function(){null===this.pdfViewer.fileName&&(this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.uploadedDocumentName?(this.pdfViewer.fileName=this.pdfViewer.toolbarModule.uploadedDocumentName,this.jsonDocumentId=this.pdfViewer.fileName):(this.pdfViewer.fileName="undefined.pdf",this.jsonDocumentId=null))},e.prototype.saveDocumentInfo=function(){e.sessionStorageManager.getWindowSessionStorageSize()+Math.round(JSON.stringify(this.documentId).length/1024)<5e3?(e.sessionStorageManager.setItem(this.documentId+"_currentDocument",this.documentId),e.sessionStorageManager.setItem(this.documentId+"_serviceURL",this.pdfViewer.serviceUrl),this.pdfViewer.serverActionSettings&&e.sessionStorageManager.setItem(this.documentId+"_unload",this.pdfViewer.serverActionSettings.unload)):(this.sessionStorage.push(this.documentId+"_currentDocument",this.documentId),this.sessionStorage.push(this.documentId+"_serviceURL",this.pdfViewer.serviceUrl),this.pdfViewer.serverActionSettings&&this.sessionStorage.push(this.documentId+"_unload",this.pdfViewer.serverActionSettings.unload))},e.prototype.saveDocumentHashData=function(){var i="";i=t.Browser.isIE||"edge"===t.Browser.info.name?encodeURI(this.hashId):this.hashId,e.sessionStorageManager.setItem(this.documentId+"_hashId",i),this.documentLiveCount&&e.sessionStorageManager.setItem(this.documentId+"_documentLiveCount",this.documentLiveCount.toString())},e.prototype.saveFormfieldsData=function(e){if(!this.clientSideRendering){var t=["ink","SignatureText","SignatureImage"];e.PdfRenderedFormFields=e.PdfRenderedFormFields.filter((function(e){return-1===t.indexOf(e.Name)})).concat(e.PdfRenderedFormFields.filter((function(e){return-1!==t.indexOf(e.Name)})))}if(this.pdfViewer.isFormFieldDocument=!1,this.enableFormFieldButton(!1),e&&e.PdfRenderedFormFields&&e.PdfRenderedFormFields.length>0){if(this.formfieldvalue)this.pdfViewer.formFieldsModule&&this.setItemInSessionStorage(this.formfieldvalue,"_formfields"),this.formfieldvalue=null;else if(this.pdfViewer.formFieldsModule){for(var i=0;i<e.PdfRenderedFormFields.length;i++)""===e.PdfRenderedFormFields[parseInt(i.toString(),10)].FieldName&&e.PdfRenderedFormFields.splice(i,1);this.setItemInSessionStorage(e.PdfRenderedFormFields,"_formfields")}this.pdfViewer.enableFormFields&&this.pdfViewer.formFieldsModule&&this.pdfViewer.formFieldsModule.formFieldCollections(),this.pdfViewer.formFieldCollections.length>0&&(this.pdfViewer.isFormFieldDocument=!0,this.enableFormFieldButton(!0))}},e.prototype.enableFormFieldButton=function(e){e&&(this.pdfViewer.isFormFieldDocument=!0),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.submitItem&&this.pdfViewer.toolbarModule.toolbar.enableItems(this.pdfViewer.toolbarModule.submitItem.parentElement,e)},e.prototype.updateWaitingPopup=function(e){if(null!=this.pageSize[parseInt(e.toString(),10)].top){var i=this.getElement("_pageDiv_"+e).getBoundingClientRect(),n=this.getElement("_pageDiv_"+e).firstChild.firstChild;i.top<0?this.toolbarHeight+this.viewerContainer.clientHeight/2-i.top<i.height?n.style.top=this.getElement("_pageDiv_"+e).clientHeight/2-this.getElement("_pageDiv_"+e).clientTop-this.toolbarHeight+"px":this.toolbarHeight+i.bottom/2-i.top<i.height&&(n.style.top=i.bottom/2-this.getElement("_pageDiv_"+e).clientTop-this.toolbarHeight+"px"):n.style.top=this.getElement("_pageDiv_"+e).clientHeight/2+"px",t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&i.width>this.viewerContainer.clientWidth?n.style.left=this.getElement("_pageDiv_"+e).clientWidth/2+this.viewerContainer.scrollLeft+"px":(this.getZoomFactor()>1.25&&(i.width,this.viewerContainer.clientWidth),n.style.left=this.getElement("_pageDiv_"+e).clientWidth/2+"px")}},e.prototype.getActivePage=function(e){return this.activeElements&&!(0,t.isNullOrUndefined)(this.activeElements.activePageID)?e?this.activeElements.activePageID+1:this.activeElements.activePageID:e?this.currentPageNumber:this.currentPageNumber-1},e.prototype.createWaitingPopup=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+e);t&&(Nl({target:t}),this.setLoaderProperties(t))},e.prototype.showLoadingIndicator=function(e){var t=this.getElement("_loadingIndicator");t&&(e?(t.style.display="block",Wl(t)):(t.style.display="none",Zl(t)))},e.prototype.spinnerPosition=function(e,t){var i=e.querySelector(".e-spinner-inner"),n=this.getZoomFactor(),o=this.pageSize[parseInt(t.toString(),10)].width*n,r=this.pageSize[parseInt(t.toString(),10)].height*n;i.style.top=r/2+"px",i.style.left=o/2+"px";var a=i.children[0];n<=.2?(a.style.width="20px",a.style.height="20px",a.style.transformOrigin="10px 10px 10px"):n<=.45?(a.style.width="30px",a.style.height="30px",a.style.transformOrigin="15px 15px 15px"):(a.style.width="48px",a.style.height="48px",a.style.transformOrigin="24px 24px 24px")},e.prototype.showPageLoadingIndicator=function(e,i){var n=this.getElement("_pageDiv_"+e);null!=n&&(this.spinnerPosition(n,e),i?Wl(n):Zl(n),(0,t.isNullOrUndefined)(this.pdfViewer.magnificationModule)||this.pdfViewer.magnificationModule.isWaitingPopupUpdated||this.updateWaitingPopup(e))},e.prototype.showPrintLoadingIndicator=function(e){var t=this.getElement("_printLoadingIndicator");null!=t&&(e?(this.printMainContainer.style.display="block",Wl(t)):(this.printMainContainer.style.display="none",Zl(t)))},e.prototype.setLoaderProperties=function(e){var t=e.firstChild.firstChild.firstChild;t&&(t.style.height="48px",t.style.width="48px",t.style.transformOrigin="24px 24px 24px")},e.prototype.updateScrollTop=function(e,i){var n=this;if(null!=this.pageSize[parseInt(e.toString(),10)]){this.renderElementsVirtualScroll(e),(0,t.isNullOrUndefined)(i)&&(this.viewerContainer.scrollTop=this.getPageTop(e)),-1===this.renderedPagesList.indexOf(e)&&this.createRequestForRender(e);var o=e+1;if(o<this.pdfViewer.pageCount&&-1===this.renderedPagesList.indexOf(o)&&this.createRequestForRender(o),this.pageSize[parseInt(o.toString(),10)])for(var r=this.getPageTop(o),a=this.viewerContainer.clientHeight+this.getPageTop(o-1);a>r&&this.pageSize[parseInt(o.toString(),10)];)this.renderPageElement(o),-1===this.renderedPagesList.indexOf(o)&&this.createRequestForRender(o),r=this.getPageTop(o),o+=1;setTimeout((function(){var t=e+1;t!==n.currentPageNumber&&(n.pdfViewer.currentPageNumber=t,n.currentPageNumber=t,n.pdfViewer.toolbarModule&&n.pdfViewer.toolbarModule.updateCurrentPage(t))}),100)}},e.prototype.getZoomFactor=function(){return this.pdfViewer.magnificationModule?this.pdfViewer.magnificationModule.zoomFactor:1},e.prototype.getCustomZoomValues=function(){this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isInitialCustomZoomValues=!1);var e=this.pdfViewer.minZoom,t=this.pdfViewer.maxZoom,i=[],n=[10,25,50,75,100,125,150,200,400];if(null!=e&&null!=t&&e>t){var o=t;t=e,e=o}if(null!=e||null!=t){var r=function(i){return(null==e||i>=e)&&(null==t||i<=t)},a=0;null==e||i.some((function(t){return parseInt(t.id,10)===e}))||(i.push({percent:e+"%",id:a.toString()}),this.customZoomValues.push(e),a++);for(var s=0;s<n.length;s++){var l=n[parseInt(s.toString(),10)];r(l)&&l!==e&&l!==t&&(i.push({percent:l+"%",id:a.toString()}),this.customZoomValues.push(l),a++)}null==t||i.some((function(e){return parseInt(e.id,10)===t}))||t===e||(i.push({percent:t+"%",id:a.toString()}),this.customZoomValues.push(t),a++),i.sort((function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)})),this.customZoomValues.sort((function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)}))}},e.prototype.getPinchZoomed=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isPinchZoomed},e.prototype.getMagnified=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isMagnified},e.prototype.getPinchScrolled=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isPinchScrolled},e.prototype.getPagesPinchZoomed=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isPagePinchZoomed},e.prototype.getPagesZoomed=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isPagesZoomed},e.prototype.getRerenderCanvasCreated=function(){return!!this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isRerenderCanvasCreated},e.prototype.getDocumentId=function(){return this.documentId},e.prototype.download=function(){this.pageCount>0&&this.createRequestForDownload()},e.prototype.saveAsBlob=function(){var e=this;return this.pageCount>0?new Promise((function(t,i){e.saveAsBlobRequest().then((function(e){t(e)}))})):null},e.prototype.fireCustomCommands=function(e){var t,i=(t=this).pdfViewer.commandManager,n=i.keyboardCommand.map((function(e){return{name:e.name,gesture:{pdfKeys:e.gesture.pdfKeys,modifierKeys:e.gesture.modifierKeys}}})),o=JSON.stringify(n);if(0!==Object.keys(i).length){var r=JSON.parse(o),a=t.getModifiers(e);if(null!=a&&e.keyCode){var s={name:"",gesture:{pdfKeys:e.keyCode,modifierKeys:a}},l=r.find((function(e){return e.gesture&&e.gesture.pdfKeys===s.gesture.pdfKeys&&e.gesture.modifierKeys===s.gesture.modifierKeys}));null!=l&&(s.name=l.name,s.gesture.modifierKeys=l.gesture.modifierKeys,s.gesture.pdfKeys=l.gesture.pdfKeys,t.pdfViewer.fireKeyboardCustomCommands(s))}}},e.prototype.getModifiers=function(e){var t=!!!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)&&e.metaKey,i=0;return(e.ctrlKey||t)&&(i|=1),e.altKey&&(i|=2),e.shiftKey&&(i|=4),e.metaKey&&(i|=8),i},e.prototype.saveAsBlobRequest=function(){var e,i=this;return e=this,new Promise((function(n,o){var r=e.constructJsonDownload();if((e.clientSideRendering?e.isDigitalSignaturePresent:e.digitalSignaturePages&&0!==e.digitalSignaturePages.length)&&(e.pdfViewer.isDocumentEdited?r.digitalSignatureDocumentEdited=!0:r.digitalSignatureDocumentEdited=!1),(0,t.isNullOrUndefined)(i.pdfViewer.pageOrganizer)||(0,t.isNullOrUndefined)(i.pdfViewer.pageOrganizer.organizePagesCollection)||!i.pdfViewer.pageOrganizer.isDocumentModified||(r.organizePages=JSON.stringify(i.pdfViewer.pageOrganizer.organizePagesCollection)),i.dowonloadRequestHandler=new hd(i.pdfViewer),i.dowonloadRequestHandler.url=e.pdfViewer.serviceUrl+"/"+e.pdfViewer.serverActionSettings.download,i.dowonloadRequestHandler.responseType="text",i.clientSideRendering){var a=i.pdfViewer.pdfRendererModule.getDocumentAsBase64(r),s=e.saveAsBlobFile(a,e);n(s)}else i.dowonloadRequestHandler.send(r);i.dowonloadRequestHandler.onSuccess=function(t){var i=t.data,o=e.saveAsBlobFile(i,e);n(o)},i.dowonloadRequestHandler.onFailure=function(t){e.pdfViewer.fireAjaxRequestFailed(t.status,t.statusText,e.pdfViewer.serverActionSettings.download)},i.dowonloadRequestHandler.onError=function(t){e.openNotificationPopup(),e.pdfViewer.fireAjaxRequestFailed(t.status,t.statusText,e.pdfViewer.serverActionSettings.download)}}))},e.prototype.saveAsBlobFile=function(e,t){return this.clientSideRendering?new Promise((function(i){e&&("object"!=typeof e&&(t.onControlError(500,e,t.pdfViewer.serverActionSettings.download),e=null),e&&(t.clientSideRendering||t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.download,e),i(new Blob([e],{type:"application/pdf"}))))})):new Promise((function(i){e&&("object"==typeof e&&(e=JSON.parse(e)),"object"!=typeof e&&-1===e.indexOf("data:application/pdf")&&(t.onControlError(500,e,t.pdfViewer.serverActionSettings.download),e=null),e&&(t.clientSideRendering||t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.download,e),i(t.createBlobUrl(e.split("base64,")[1],"application/pdf"))))}))},e.prototype.clear=function(i){var n=this,o=n.pdfViewer,r=o.printModule,a=o.textSearchModule,s=o.bookmarkViewModule,l=o.thumbnailView,d=o.annotation,h=o.magnificationModule,A=o.textSelectionModule,p=o.formFieldsModule,c=n.signatureModule,g=o.pageOrganizer;if(n.isPasswordAvailable=!1,n.isDocumentLoaded=!1,n.isInitialLoaded=!1,n.isImportAction=!1,n.navigationPane.isThumbnailAddedProgrammatically=!1,n.navigationPane.isThumbnail=!1,n.annotationPageList=[],n.annotationComments=null,o.annotationCollection=[],o.signatureCollection=[],o.formFieldCollection=[],o.customContextMenuItems=[],n.isAnnotationCollectionRemoved=!1,n.documentAnnotationCollections=null,n.isDrawnCompletely=!1,n.annotationRenderredList=[],n.isImportAction=!1,n.isImportedAnnotation=!1,n.importedAnnotation=[],n.isStorageExceed=!1,n.annotationStorage={},n.formFieldStorage={},n.downloadCollections={},n.annotationEvent=null,n.highestWidth=0,n.highestHeight=0,n.requestLists=[],n.tilerequestLists=[],n.isToolbarInkClicked=!1,o.formFieldCollections=[],n.passwordData="",n.isFocusField=!1,n.focusField=[],n.modifiedPageIndex=[],n.isInkAnnot=!1,n.updateDocumentEditedProperty(!1),o.clipboardData.clipObject={},o.pdfRendererModule&&n.clientSideRendering&&(n.pdfViewer.pdfRendererModule.pageRotationCollection=[]),o.toolbar&&(o.toolbar.uploadedFile=null),n.isTaggedPdf=!1,o.formDesignerModule&&(o.formDesignerModule.formFieldIndex=0,n.activeElements&&o.clearSelection(n.activeElements.activePageID),o.zIndexTable=[]),n.initiateTextSelectMode(),n.RestrictionEnabled(n.restrictionList,!0),n.restrictionList=null,t.Browser.isDevice&&!o.enableDesktopMode||n.navigationPane.sideBarToolbar&&n.navigationPane.clear(),(!(0,t.isBlazor)()&&t.Browser.isDevice||!o.enableDesktopMode)&&n.navigationPane.clear(),l&&l.clear(),s&&s.clear(),h&&(h.isMagnified=!1,h.clearIntervalTimer()),A&&A.clearTextSelection(),a&&a.resetTextSearch(!0),d&&(d.clear(),d.initializeCollection()),p&&(p.readOnlyCollection=[],p.signatureFieldCollection=[],p.renderedPageList=[],p.currentTarget=null),c&&(c.signAnnotationIndex=[]),g&&g.clear(),n.pageSize&&(n.pageSize=[]),n.renderedPagesList&&(n.renderedPagesList=[]),n.accessibilityTagsCollection&&(n.accessibilityTagsCollection=[]),n.pageRequestListForAccessibilityTags&&(n.pageRequestListForAccessibilityTags=[]),n.pageContainer)for(;n.pageContainer.hasChildNodes();)n.pageContainer.removeChild(n.pageContainer.lastChild);if(n.pageCount>0){if(n.unloadDocument(n),n.textLayer.characterBound=[],n.loadRequestHandler&&n.loadRequestHandler.clear(),n.requestCollection){for(var u=0;u<n.requestCollection.length;u++){n.requestCollection[parseInt(u.toString(),10)].clear()}n.requestCollection=[]}n.virtualLoadRequestHandler&&n.virtualLoadRequestHandler.clear(),n.pageRequestHandler&&n.pageRequestHandler.clear(),n.dowonloadRequestHandler&&n.dowonloadRequestHandler.clear(),n.importAnnotationRequestHandler&&n.importAnnotationRequestHandler.clear(),n.exportAnnotationRequestHandler&&n.exportAnnotationRequestHandler.clear(),n.importFormFieldsRequestHandler&&n.importFormFieldsRequestHandler.clear(),n.exportFormFieldsRequestHandler&&n.exportFormFieldsRequestHandler.clear(),r&&r.printRequestHandler&&r.printRequestHandler.clear()}n.windowSessionStorageClear(),e.sessionStorageManager.clear(),n.pinchZoomStorage&&(n.pinchZoomStorage=[]),!n.previousZoomValue&&0!==n.previousZoomValue||n.previousZoomValue===o.zoomValue||(o.zoomValue=n.previousZoomValue),i&&n.pageCount>0&&o.fireDocumentUnload(this.pdfViewer.fileName),this.pdfViewer.fileName=null,window.customStampCollection instanceof Map&&window.customStampCollection.clear()},e.prototype.destroy=function(){if(t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.element.classList.remove("e-pv-mobile-view"),this.unWireEvents(),this.clear(!1),this.pageContainer&&this.pageContainer.parentNode&&this.pageContainer.parentNode.removeChild(this.pageContainer),this.viewerContainer&&this.viewerContainer.parentNode&&this.viewerContainer.parentNode.removeChild(this.viewerContainer),this.contextMenuModule){var e=this.contextMenuModule.contextMenuElement;e&&e.ej2_instances&&e.ej2_instances.length>0&&this.contextMenuModule.destroy()}this.pdfViewer.toolbarModule&&this.navigationPane.destroy();var i=document.getElementById("measureElement");i&&(i=void 0)},e.prototype.unloadDocument=function(i){if(!this.clientSideRendering){var n="",o=e.sessionStorageManager.getItem(this.documentId+"_hashId"),r=e.sessionStorageManager.getItem(this.documentId+"_documentLiveCount"),a=e.sessionStorageManager.getItem(this.documentId+"_serviceURL");if(null!==(n=t.Browser.isIE||"edge"===t.Browser.info.name?decodeURI(o):i.hashId?i.hashId:o)){var s={hashId:n,documentLiveCount:r,action:"Unload",elementId:i.pdfViewer.element.id},l=e.sessionStorageManager.getItem(this.documentId+"_unload");if("undefined"===a||"null"===a||""===a||(0,t.isNullOrUndefined)(a))(0,t.isBlazor)()&&this.clearCache(l,s,i);else try{if("keepalive"in new Request("")){var d=this.setUnloadRequestHeaders(),h=this.pdfViewer.ajaxRequestSettings.withCredentials?"include":"omit";fetch(a+"/"+l,{method:"POST",credentials:h,headers:d,body:JSON.stringify(s)})}}catch(e){this.unloadRequestHandler=new hd(this.pdfViewer),this.unloadRequestHandler.send(s)}}}this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.zoomFactor=1),this.formFieldCollection=[],this.textrequestLists=[],!i.pdfViewer.textSearchModule||t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.pdfViewer.textSearchModule.showSearchBox(!1),this.pdfViewer.textSearchModule.isDocumentTextCollectionReady=!1),e.sessionStorageManager.clear()},e.prototype.clearCache=function(t,i,n){this.unloadRequestHandler=new hd(this.pdfViewer),this.unloadRequestHandler.url=e.sessionStorageManager.getItem(this.documentId+"_serviceURL")+"/"+t,this.unloadRequestHandler.mode=!1,this.unloadRequestHandler.responseType=null,this.unloadRequestHandler.send(i),this.unloadRequestHandler.onSuccess=function(e){var i=e.data;i&&("object"!=typeof i&&-1===i.indexOf("Document")&&(n.onControlError(500,i,t),i=null),i&&n.pdfViewer.fireAjaxRequestSuccess(n.pdfViewer.serverActionSettings.unload,i))},this.unloadRequestHandler.onFailure=function(e){n.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t)},this.unloadRequestHandler.onError=function(e){n.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,t)}},e.prototype.setUnloadRequestHeaders=function(){var e=new Headers;if(e.append("Content-Type","application/json;charset=UTF-8"),!(0,t.isNullOrUndefined)(this.pdfViewer.ajaxRequestSettings)&&!(0,t.isNullOrUndefined)(this.pdfViewer.ajaxRequestSettings.ajaxHeaders))for(var i=0;i<this.pdfViewer.ajaxRequestSettings.ajaxHeaders.length;i++)e.append(this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(i.toString(),10)].headerName,this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(i.toString(),10)].headerValue);return e},e.prototype.windowSessionStorageClear=function(){e.sessionStorageManager.removeItem(this.documentId+"_currentDocument"),e.sessionStorageManager.removeItem(this.documentId+"_serviceURL"),e.sessionStorageManager.removeItem(this.documentId+"_unload");for(var t=0;t<this.sessionStorage.length;t++)e.sessionStorageManager.removeItem(this.sessionStorage[parseInt(t.toString(),10)])},e.prototype.updateCommentPanel=function(){for(var e=document.querySelectorAll(".e-pv-more-options-button"),t=0;t<e.length;t++)e[parseInt(t.toString(),10)].style.visibility="hidden";for(var i=document.querySelectorAll(".e-pv-new-comments-div"),n=0;n<i.length;n++)i[parseInt(n.toString(),10)].style.display="none";var o=document.querySelectorAll(".e-pv-comments-border");for(n=0;n<o.length;n++)o[parseInt(n.toString(),10)].classList.remove("e-pv-comments-border");var r=document.querySelectorAll(".e-editable-inline");for(n=0;n<r.length;n++)r[parseInt(n.toString(),10)].style.display="none";for(var a=document.querySelectorAll(".e-pv-comments-select"),s=0;s<a.length;s++)a[parseInt(s.toString(),10)].classList.remove("e-pv-comments-select");var l=document.querySelectorAll(".e-pv-comments-div");for(n=0;n<l.length;n++)l[parseInt(n.toString(),10)].style.minHeight="60px"},e.prototype.focusViewerContainer=function(e){var t=window.scrollX,i=window.scrollY,n=this.getScrollParent(this.viewerContainer),o=0,r=0;null!==n&&(o=n.scrollLeft,r=n.scrollTop),this.isgetFocused||this.viewerContainer.focus(),this.isgetFocused=!1,this.pdfViewer.annotation&&this.pdfViewer.annotation.stickyNotesAnnotationModule.accordionContainer&&this.updateCommentPanel(),(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>-1||-1!==navigator.userAgent.indexOf("Edge"))&&null!==n?(n.scrollLeft=o,n.scrollTop=r):null!==n&&n.scrollTo(o,r),window.scrollTo(t,i)},e.prototype.getScrollParent=function(e){if(null===e||"HTML"===e.nodeName)return null;var t=getComputedStyle(e);return this.viewerContainer.id===e.id||"scroll"!==t.overflowY&&"auto"!==t.overflowY?this.getScrollParent(e.parentNode):e},e.prototype.createCorruptedPopup=function(e){var i=this,n=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_corrupted_popup",className:"e-pv-corrupted-popup"});e?this.pdfViewer.pageOrganizerModule.dialogDivElement.appendChild(n):this.pageContainer.appendChild(n),this.corruptPopup=new Ne.Dialog({showCloseIcon:!0,closeOnEscape:!0,isModal:!0,header:'<div class="e-pv-corrupted-popup-header"> '+this.pdfViewer.localeObj.getConstant("File Corrupted")+"</div>",visible:!1,buttons:[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.closeCorruptPopup.bind(this)}],target:this.pdfViewer.element,beforeClose:function(){i.corruptPopup.destroy(),i.getElement("_corrupted_popup").remove(),i.corruptPopup=null;var t=i.getElement("_loadingIndicator");e&&null!=i.pdfViewer.pageOrganizerModule.waitingPopup?Zl(i.pdfViewer.pageOrganizerModule.waitingPopup):null!=t&&Zl(t)}}),this.pdfViewer.enableRtl?(this.corruptPopup.content='<div id="e-pv-corrupted-templatertl" class="e-pv-notification-icon-rtl"> <div class="e-pv-corrupted-popup-content-rtl" tabindex="0">'+this.pdfViewer.localeObj.getConstant("File Corrupted Content")+"</div></div>",this.corruptPopup.enableRtl=!0):this.corruptPopup.content='<div id="e-pv-corrupted-template" class="e-pv-notification-icon"> <div class="e-pv-corrupted-popup-content" tabindex="0">'+this.pdfViewer.localeObj.getConstant("File Corrupted Content")+"</div></div>",this.corruptPopup.appendTo(n)},e.prototype.hideLoadingIndicator=function(){var e=this.getElement("_loadingIndicator");null!==e&&Zl(e)},e.prototype.closeCorruptPopup=function(){this.corruptPopup.hide();var e=this.getElement("_loadingIndicator");this.isImportDoc&&null!=this.pdfViewer.pageOrganizerModule.waitingPopup?Zl(this.pdfViewer.pageOrganizerModule.waitingPopup):null!=e&&Zl(e)},e.prototype.createPrintPopup=function(){var e=document.getElementById(this.pdfViewer.element.id);this.printMainContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_printcontainer",className:"e-pv-print-popup-container"}),e.appendChild(this.printMainContainer),this.printMainContainer.style.display="none";var i=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_printLoadingIndicator",className:"e-pv-print-loading-container"});this.printMainContainer.appendChild(i),Nl({target:i,cssClass:"e-spin-center"}),this.setLoaderProperties(i)},e.prototype.createGoToPagePopup=function(){var e=this,i=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_goTopage_popup",className:"e-pv-gotopage-popup"});this.goToPageElement=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_prompt"}),this.goToPageElement.textContent=this.pdfViewer.localeObj.getConstant("Enter pagenumber"),i.appendChild(this.goToPageElement);var n=(0,t.createElement)("span",{className:"e-pv-text-input"});(this.goToPageInput=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_page_input",className:"e-input"}),this.goToPageInput.type="text",this.goToPageInput.style.maxWidth="80%",this.pageNoContainer=(0,t.createElement)("span",{className:".e-pv-number-ofpages"}),n.appendChild(this.goToPageInput),n.appendChild(this.pageNoContainer),i.appendChild(n),this.pageContainer.appendChild(i),this.goToPagePopup=new Ne.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:this.pdfViewer.localeObj.getConstant("GoToPage"),visible:!1,buttons:[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.GoToPageCancelClick.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Apply"),disabled:!0,cssClass:"e-pv-gotopage-apply-btn",isPrimary:!0},click:this.GoToPageApplyClick.bind(this)}],close:this.closeGoToPagePopUp.bind(this)}),this.pdfViewer.enableRtl&&(this.goToPagePopup.enableRtl=!0),this.goToPagePopup.appendTo(i),(0,t.isBlazor)())||new Pe.NumericTextBox({format:"##",showSpinButton:!1}).appendTo(this.goToPageInput);this.goToPageInput.addEventListener("keyup",(function(){var t=e.goToPageInput.value;""!==t&&parseFloat(t)>0&&e.pdfViewer.pageCount+1>parseFloat(t)?e.EnableApplyButton():e.DisableApplyButton()}))},e.prototype.closeGoToPagePopUp=function(){this.goToPageInput.value="",this.DisableApplyButton()},e.prototype.EnableApplyButton=function(){document.getElementsByClassName("e-pv-gotopage-apply-btn")[0].removeAttribute("disabled")},e.prototype.DisableApplyButton=function(){document.getElementsByClassName("e-pv-gotopage-apply-btn")[0].setAttribute("disabled",!0)},e.prototype.GoToPageCancelClick=function(){this.goToPagePopup.hide()},e.prototype.GoToPageApplyClick=function(){this.goToPagePopup.hide();var e=this.goToPageInput.value;this.pdfViewer.navigation.goToPage(e),this.updateMobileScrollerPosition()},e.prototype.updateMobileScrollerPosition=function(){if(t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.mobileScrollerContainer){var e=(this.viewerContainer.scrollHeight-this.viewerContainer.clientHeight)/(this.viewerContainer.clientHeight-56),i=this.viewerContainer.scrollTop/e,n=this.pdfViewer.toolbarModule?this.toolbarHeight:0;this.mobileScrollerContainer.style.top=n+i+"px"}},e.prototype.createPasswordPopup=function(e){var i=this,n=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_password_popup",className:"e-pv-password-popup",attrs:{tabindex:"-1"}});this.promptElement=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_prompt",attrs:{tabindex:"-1"}}),this.promptElement.textContent=this.pdfViewer.localeObj.getConstant("Enter Password"),n.appendChild(this.promptElement);var o=(0,t.createElement)("span",{className:"e-input-group e-pv-password-input"});this.passwordInput=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_password_input",className:"e-input"}),this.passwordInput.type="password",this.passwordInput.name="Required",o.appendChild(this.passwordInput),n.appendChild(o),e?this.pdfViewer.pageOrganizerModule.dialogDivElement.appendChild(n):this.pageContainer.appendChild(n),this.passwordPopup=new Ne.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:this.pdfViewer.localeObj.getConstant("Password Protected"),visible:!1,close:this.passwordCancel.bind(this),target:this.pdfViewer.element,beforeClose:function(){i.passwordPopup.destroy(),i.getElement("_password_popup").remove(),i.passwordPopup=null;var t=i.getElement("_loadingIndicator");e&&null!=i.pdfViewer.pageOrganizerModule.waitingPopup?Zl(i.pdfViewer.pageOrganizerModule.waitingPopup):null!=t&&Zl(t)}}),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.passwordPopup.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.applyPassword.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.passwordCancelClick.bind(this)}]:this.passwordPopup.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.passwordCancelClick.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.applyPassword.bind(this)}],this.pdfViewer.enableRtl&&(this.passwordPopup.enableRtl=!0),this.passwordPopup.appendTo(n),this.passwordInput.addEventListener("keyup",(function(){""===i.passwordInput.value&&i.passwordDialogReset()})),this.passwordInput.addEventListener("focus",(function(){i.passwordInput.parentElement.classList.add("e-input-focus")})),this.passwordInput.addEventListener("blur",(function(){i.passwordInput.parentElement.classList.remove("e-input-focus")}))},e.prototype.passwordCancel=function(e){e.isInteraction&&(this.isImportDoc||this.pdfViewer.pageOrganizerModule||this.clear(!1),this.passwordDialogReset(),this.passwordInput.value="");var t=this.getElement("_loadingIndicator");this.isImportDoc&&null!=this.pdfViewer.pageOrganizerModule.waitingPopup?Zl(this.pdfViewer.pageOrganizerModule.waitingPopup):null!==t&&Zl(t)},e.prototype.passwordCancelClick=function(){this.isImportDoc||this.pdfViewer.pageOrganizerModule||this.clear(!1),this.passwordDialogReset(),this.passwordPopup.hide();var e=this.getElement("_loadingIndicator");this.isImportDoc&&null!=this.pdfViewer.pageOrganizerModule.waitingPopup?Zl(this.pdfViewer.pageOrganizerModule.waitingPopup):null!==e&&Zl(e)},e.prototype.passwordDialogReset=function(){(0,t.isBlazor)()||this.promptElement&&(this.promptElement.classList.remove("e-pv-password-error"),this.promptElement.textContent=this.pdfViewer.localeObj.getConstant("Enter Password"),this.passwordInput.value="")},e.prototype.applyPassword=function(){if(!(0,t.isBlazor)()){var e=this.passwordInput.value;!(0,t.isNullOrUndefined)(e)&&e.length>0&&(this.isImportDoc&&this.pdfViewer.pageOrganizerModule?this.pdfViewer.pageOrganizerModule.loadImportDoc(this.pdfViewer.pageOrganizerModule.importedDocumentData,e,!0):(this.pdfViewer.load(this.document,e),this.focusViewerContainer()))}},e.prototype.createFileInputElement=function(){this.pdfViewer.enableAnnotationToolbar&&this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.createCustomStampElement(),this.signatureModule&&this.signatureModule.createSignatureFileElement()},e.prototype.wireEvents=function(){var e=this;this.isDeviceiOS=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,this.isMacSafari=navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")&&!this.isDeviceiOS,this.isWebkitMobile=/Chrome/.test(navigator.userAgent)||/Google Inc/.test(navigator.vendor)||-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("WebKit"),this.viewerContainer.addEventListener("scroll",this.viewerContainerOnScroll,!0),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.viewerContainer.addEventListener("touchmove",this.viewerContainerOnScroll,!0),this.viewerContainer.addEventListener("mousedown",this.viewerContainerOnMousedown),this.viewerContainer.addEventListener("mouseup",this.viewerContainerOnMouseup),this.viewerContainer.addEventListener("wheel",this.detectTouchPad,!1),this.viewerContainer.addEventListener("wheel",this.viewerContainerOnMouseWheel),this.isMacSafari&&(window.addEventListener("gesturestart",(function(e){return e.preventDefault()})),window.addEventListener("gesturechange",(function(e){return e.preventDefault()})),window.addEventListener("gestureend",(function(e){return e.preventDefault()})),this.viewerContainer.addEventListener("gesturestart",this.handleMacGestureStart,!1),this.viewerContainer.addEventListener("gesturechange",this.handleMacGestureChange,!1),this.viewerContainer.addEventListener("gestureend",this.handleMacGestureEnd,!1)),this.viewerContainer.addEventListener("mousemove",this.viewerContainerOnMousemove),this.viewerContainer.addEventListener("mouseleave",this.viewerContainerOnMouseLeave),this.viewerContainer.addEventListener("mouseenter",this.viewerContainerOnMouseEnter),this.viewerContainer.addEventListener("mouseover",this.viewerContainerOnMouseOver),this.viewerContainer.addEventListener("click",this.viewerContainerOnClick),this.viewerContainer.addEventListener("dblclick",this.viewerContainerOnClick),this.viewerContainer.addEventListener("dragstart",this.viewerContainerOnDragStart),this.pdfViewer.element.addEventListener("keydown",this.viewerContainerOnKeyDown),window.addEventListener("keydown",this.onWindowKeyDown),window.addEventListener("mouseup",this.onWindowMouseUp),window.addEventListener("touchend",this.onWindowTouchEnd),this.unload=function(){null!==e.pdfViewerRunner&&void 0!==e.pdfViewerRunner&&e.pdfViewerRunner.terminate()},this.unloadDocument(this),window.addEventListener("unload",this.unload),window.addEventListener("beforeunload",this.clearSessionStorage),window.addEventListener("resize",this.onWindowResize),-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Edge")||-1!==navigator.userAgent.indexOf("Trident")?(this.viewerContainer.addEventListener("pointerdown",this.viewerContainerOnPointerDown),this.viewerContainer.addEventListener("pointermove",this.viewerContainerOnPointerMove),this.viewerContainer.addEventListener("pointerup",this.viewerContainerOnPointerEnd),this.viewerContainer.addEventListener("pointerleave",this.viewerContainerOnPointerEnd)):(this.viewerContainer.addEventListener("touchstart",this.viewerContainerOnTouchStart),this.isWebkitMobile&&this.isDeviceiOS&&this.viewerContainer.addEventListener("touchmove",(function(e){(0,t.isNullOrUndefined)(e.scale)||1===e.scale||e.preventDefault()}),{passive:!1}),this.viewerContainer.addEventListener("touchmove",this.viewerContainerOnTouchMove),this.viewerContainer.addEventListener("touchend",this.viewerContainerOnTouchEnd),this.viewerContainer.addEventListener("touchleave",this.viewerContainerOnTouchEnd),this.viewerContainer.addEventListener("touchcancel",this.viewerContainerOnTouchEnd))},e.prototype.unWireEvents=function(){this.viewerContainer&&(this.viewerContainer.removeEventListener("scroll",this.viewerContainerOnScroll,!0),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.viewerContainer.removeEventListener("touchmove",this.viewerContainerOnScroll,!0),this.viewerContainer.removeEventListener("mousedown",this.viewerContainerOnMousedown),this.viewerContainer.removeEventListener("mouseup",this.viewerContainerOnMouseup),this.viewerContainer.removeEventListener("wheel",this.detectTouchPad,!1),this.viewerContainer.removeEventListener("wheel",this.viewerContainerOnMouseWheel),this.isMacSafari&&(window.removeEventListener("gesturestart",(function(e){return e.preventDefault()})),window.removeEventListener("gesturechange",(function(e){return e.preventDefault()})),window.removeEventListener("gestureend",(function(e){return e.preventDefault()})),this.viewerContainer.removeEventListener("gesturestart",this.handleMacGestureStart,!1),this.viewerContainer.removeEventListener("gesturechange",this.handleMacGestureChange,!1),this.viewerContainer.removeEventListener("gestureend",this.handleMacGestureEnd,!1)),this.viewerContainer.removeEventListener("mousemove",this.viewerContainerOnMousemove),this.viewerContainer.removeEventListener("mouseleave",this.viewerContainerOnMouseLeave),this.viewerContainer.removeEventListener("mouseenter",this.viewerContainerOnMouseEnter),this.viewerContainer.removeEventListener("mouseover",this.viewerContainerOnMouseOver),this.viewerContainer.removeEventListener("click",this.viewerContainerOnClick),this.viewerContainer.removeEventListener("dragstart",this.viewerContainerOnDragStart),this.viewerContainer.removeEventListener("contextmenu",this.viewerContainerOnContextMenuClick),this.pdfViewer.element.removeEventListener("keydown",this.viewerContainerOnKeyDown),window.addEventListener("keydown",this.onWindowKeyDown),window.removeEventListener("mouseup",this.onWindowMouseUp),window.removeEventListener("unload",this.unload),window.removeEventListener("resize",this.onWindowResize),-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Edge")||-1!==navigator.userAgent.indexOf("Trident")?(this.viewerContainer.removeEventListener("pointerdown",this.viewerContainerOnPointerDown),this.viewerContainer.removeEventListener("pointermove",this.viewerContainerOnPointerMove),this.viewerContainer.removeEventListener("pointerup",this.viewerContainerOnPointerEnd),this.viewerContainer.removeEventListener("pointerleave",this.viewerContainerOnPointerEnd)):(this.viewerContainer.removeEventListener("touchstart",this.viewerContainerOnTouchStart),this.isWebkitMobile&&this.isDeviceiOS&&this.viewerContainer.removeEventListener("touchmove",(function(e){(0,t.isNullOrUndefined)(e.scale)||1===e.scale||e.preventDefault()}),!1),this.viewerContainer.removeEventListener("touchmove",this.viewerContainerOnTouchMove),this.viewerContainer.removeEventListener("touchend",this.viewerContainerOnTouchEnd),this.viewerContainer.removeEventListener("touchleave",this.viewerContainerOnTouchEnd),this.viewerContainer.removeEventListener("touchcancel",this.viewerContainerOnTouchEnd)))},e.prototype.updateZoomValue=function(){this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isAutoZoom?this.pdfViewer.magnificationModule.fitToAuto():"FitToWidth"!==this.pdfViewer.zoomMode&&"fitToWidth"===this.pdfViewer.magnificationModule.fitType?this.pdfViewer.magnificationModule.fitToWidth():"FitToPage"!==this.pdfViewer.zoomMode&&"fitToPage"===this.pdfViewer.magnificationModule.fitType&&this.pdfViewer.magnificationModule.fitToPage());for(var e=0;e<this.pageCount;e++)this.applyLeftPosition(e)},e.prototype.updateFreeTextProperties=function(e){this.pdfViewer.enableShapeLabel&&(this.pdfViewer.shapeLabelSettings.fillColor&&(e.labelFillColor=this.pdfViewer.shapeLabelSettings.fillColor),this.pdfViewer.shapeLabelSettings.fontColor&&(e.fontColor=this.pdfViewer.shapeLabelSettings.fontColor),this.pdfViewer.shapeLabelSettings.fontSize&&(e.fontSize=this.pdfViewer.shapeLabelSettings.fontSize),this.pdfViewer.shapeLabelSettings.fontFamily&&(e.fontFamily=this.pdfViewer.shapeLabelSettings.fontFamily),this.pdfViewer.shapeLabelSettings.opacity&&(e.labelOpacity=this.pdfViewer.shapeLabelSettings.opacity),this.pdfViewer.shapeLabelSettings.labelContent&&(e.labelContent=this.pdfViewer.shapeLabelSettings.labelContent))},e.prototype.mouseDownHandler=function(e){var i,n=!1,o=[],r=[];if(e&&e.target&&(this.mouseDownEvent=e,this.contextMenuModule.currentTarget=e.target),this.pdfViewer.annotationModule&&(n=this.pdfViewer.annotationModule.isEnableDelete()),n||r.push("DeleteContext"),"None"===this.pdfViewer.contextMenuOption)i=!0;else if(this.pdfViewer.textSelectionModule||this.isShapeBasedAnnotationsEnabled()){if(e){var a=this.isClickWithinSelectionBounds(e);this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus?(this.isFreeTextContextMenu=!0,this.pdfViewer.annotation.freeTextAnnotationModule&&!this.pdfViewer.annotation.freeTextAnnotationModule.isTextSelected&&(r.push("Cut"),r.push("Copy")),this.pdfViewer.annotation.freeTextAnnotationModule&&""===this.pdfViewer.annotation.freeTextAnnotationModule.selectedText&&r.push("Paste"),o.push("HighlightContext"),o.push("UnderlineContext"),o.push("StrikethroughContext"),o.push("ScaleRatio"),o.push("Properties"),o.push("Comment"),o.push("DeleteContext")):a&&this.pdfViewer.textSelectionModule?(!e.target.classList.contains("e-pv-maintaincontent")&&e.target.classList.contains("e-pv-text")||e.target.classList.contains("e-pv-text-layer")?this.checkIsNormalText()&&(i=!0):(t.Browser.isIE||"edge"===t.Browser.info.name)&&e.target.classList.contains("e-pv-page-container")&&(i=!0),o.push("Cut"),o.push("Paste"),o.push("DeleteContext"),o.push("ScaleRatio"),o.push("Comment"),o.push("Properties")):0===this.pdfViewer.selectedItems.annotations.length||"HandWrittenSignature"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureImage"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?0!==this.pdfViewer.selectedItems.annotations.length&&"Path"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.shapeMenuItems(o,r,!0):this.pdfViewer.annotation&&this.pdfViewer.annotation.isShapeCopied&&(e.target.classList.contains("e-pv-text-layer")||e.target.classList.contains("e-pv-text"))&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?(o.push("Properties"),this.shapeMenuItems(o,r,!1)):this.isCalibrateAnnotationModule()&&this.pdfViewer.annotationModule.measureAnnotationModule.currentAnnotationMode?(o.push("HighlightContext"),o.push("UnderlineContext"),o.push("StrikethroughContext"),o.push("Properties"),r.push("Cut"),r.push("Copy"),r.push("Paste"),r.push("DeleteContext"),r.push("Comment")):this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?(o.push("HighlightContext"),o.push("UnderlineContext"),o.push("StrikethroughContext"),o.push("Properties"),o.push("Cut"),o.push("Copy"),o.push("Paste"),o.push("ScaleRatio")):i=!0:this.shapeMenuItems(o,r,!1,!0)}else this.pdfViewer.textSelectionModule&&"MouseUp"===this.pdfViewer.contextMenuOption?(o.push("Cut"),o.push("Paste"),o.push("DeleteContext"),o.push("ScaleRatio"),o.push("Comment"),o.push("Properties")):0===this.pdfViewer.selectedItems.annotations.length&&(o.push("Cut"),o.push("Paste"),o.push("DeleteContext"),o.push("ScaleRatio"),o.push("Properties"));this.pdfViewer.enableCommentPanel||r.push("Comment")}else i=!0;var s={hidenItems:o,disabledItems:r,isCancel:i};this.pdfViewer._dotnetInstance.invokeMethodAsync("MouseDownHandler",s)},e.prototype.OnItemSelected=function(e){var t=this.contextMenuModule.currentTarget,i=document.getElementById(this.pdfViewer.element.id+"_commantPanel"),n=!(!i||"block"!==i.style.display);switch(e){case this.pdfViewer.localeObj.getConstant("Copy"):this.CopyItemSelected();break;case this.pdfViewer.localeObj.getConstant("Highlight context"):this.TextMarkUpSelected("Highlight"),n||this.focusViewerContainer();break;case this.pdfViewer.localeObj.getConstant("Underline context"):this.TextMarkUpSelected("Underline"),n||this.focusViewerContainer();break;case this.pdfViewer.localeObj.getConstant("Strikethrough context"):this.TextMarkUpSelected("Strikethrough"),n||this.focusViewerContainer();break;case this.pdfViewer.localeObj.getConstant("Properties"):this.PropertiesItemSelected();break;case this.pdfViewer.localeObj.getConstant("Cut"):this.CutItemSelected(t),this.focusViewerContainer();break;case this.pdfViewer.localeObj.getConstant("Paste"):this.pasteItemSelected(t);break;case this.pdfViewer.localeObj.getConstant("Delete Context"):this.DeleteItemSelected(),this.focusViewerContainer();break;case this.pdfViewer.localeObj.getConstant("Scale Ratio"):this.ScaleRatioSelected();break;case this.pdfViewer.localeObj.getConstant("Comment"):this.CommentItemSelected()}},e.prototype.CommentItemSelected=function(){if(this.pdfViewer.annotation&&(this.pdfViewer.annotation.showCommentsPanel(),0!==this.pdfViewer.selectedItems.annotations.length||this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)){var e=void 0;e=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation:this.pdfViewer.selectedItems.annotations[0];var t=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+this.pdfViewer.currentPageNumber);t&&t.ej2_instances[0].expandItem(!0);var i=document.getElementById(e.annotName);i&&(i.classList.contains("e-pv-comments-border")||i.firstChild.click())}},e.prototype.ScaleRatioSelected=function(){this.isCalibrateAnnotationModule()&&this.pdfViewer.annotation.measureAnnotationModule.createScaleRatioWindow()},e.prototype.DeleteItemSelected=function(){this.pdfViewer.formDesignerModule&&0!==this.pdfViewer.selectedItems.formFields.length?this.pdfViewer.formDesignerModule.deleteFormField(this.pdfViewer.selectedItems.formFields[0].id):this.pdfViewer.annotation&&this.pdfViewer.annotation.deleteAnnotation()},e.prototype.pasteItemSelected=function(e){this.isFreeTextContextMenu||this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus&&e&&"free-text-input"===e.className&&"TEXTAREA"===e.tagName?(this.pdfViewer.annotation.freeTextAnnotationModule.pasteSelectedText(e),this.contextMenuModule.close()):(this.pdfViewer.paste(),this.contextMenuModule.previousAction="Paste")},e.prototype.CutItemSelected=function(e){if(this.isFreeTextContextMenu||this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus&&e&&"free-text-input"===e.className&&"TEXTAREA"===e.tagName)this.pdfViewer.annotation.freeTextAnnotationModule.cutSelectedText(e),this.contextMenuModule.close();else if(1===this.pdfViewer.selectedItems.annotations.length){this.pdfViewer.selectedItems.annotations[0].pageIndex;this.pdfViewer.cut(),this.contextMenuModule.previousAction="Cut"}else 1===this.pdfViewer.selectedItems.formFields.length&&(this.pdfViewer.cut(),this.contextMenuModule.previousAction="Cut")},e.prototype.CopyItemSelected=function(){var e=!1;this.isFreeTextContextMenu||this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus?(this.pdfViewer.annotation.freeTextAnnotationModule.copySelectedText(),this.contextMenuModule.close(),e=!0):this.pdfViewer.textSelectionModule&&(this.pdfViewer.textSelectionModule.copyText(),this.contextMenuModule.close()),(this.pdfViewer.selectedItems.annotations.length&&!e||this.pdfViewer.selectedItems.formFields.length>0)&&(this.pdfViewer.copy(),this.contextMenuModule.previousAction="Copy")},e.prototype.PropertiesItemSelected=function(){0===this.pdfViewer.selectedItems.annotations.length||"Line"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"LineWidthArrowHead"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Distance"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?0!==this.pdfViewer.selectedItems.formFields.length&&this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&this.pdfViewer.formDesigner.createPropertiesWindow():this.pdfViewer.annotation.createPropertiesWindow()},e.prototype.TextMarkUpSelected=function(e){this.pdfViewer.annotation&&this.pdfViewer.annotation.textMarkupAnnotationModule&&(this.pdfViewer.annotation.textMarkupAnnotationModule.isSelectionMaintained=!1,this.pdfViewer.annotation.textMarkupAnnotationModule.drawTextMarkupAnnotations(e),this.pdfViewer.annotation.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1,this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAddMode="",this.pdfViewer.annotation.textMarkupAnnotationModule.isSelectionMaintained=!0)},e.prototype.shapeMenuItems=function(e,t,i,n){this.pdfViewer.annotation&&!this.pdfViewer.annotation.isShapeCopied&&t.push("Paste"),e.push("HighlightContext"),e.push("UnderlineContext"),e.push("StrikethroughContext"),e.push("ScaleRatio"),i?"Line"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"LineWidthArrowHead"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Distance"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&e.push("Properties"):n?(e.push("Properties"),e.push("Comment")):(e.push("Cut"),e.push("Copy"),e.push("DeleteContext"),e.push("Comment"))},e.prototype.checkIsRtlText=function(e){return new RegExp("^[^A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\\u2C00-\\uFB1C\\uFDFE-\\uFE6F\\uFEFD-\\uFFFF]*[\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC]").test(e)},e.prototype.isClickWithinSelectionBounds=function(e){var i,n=!1,o=this.currentPageNumber-5<0?0:this.currentPageNumber-5,r=this.currentPageNumber-5>this.pageCount?this.pageCount:this.currentPageNumber+5;if(this.pdfViewer.textSelectionModule){for(var a=o;a<r;a++)if(a>=0&&(i=this.pdfViewer.textSelectionModule.getCurrentSelectionBounds(a))){var s=i;if(this.getHorizontalValue(s.left,a)<e.clientX&&this.getHorizontalValue(s.right,a)>e.clientX&&this.getVerticalValue(s.top,a)<e.clientY&&this.getVerticalValue(s.bottom,a)>e.clientY||1===this.pdfViewer.textSelectionModule.selectionRangeArray[0].rectangleBounds.length&&0!==e.clientX&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode){n=!0;break}}(t.Browser.isDevice||(t.Browser.isIE||"edge"===t.Browser.info.name)&&i)&&(n=!0)}return n},e.prototype.getHorizontalClientValue=function(e){return e-this.getElement("_pageDiv_"+(this.currentPageNumber-1)).getBoundingClientRect().left},e.prototype.getVerticalClientValue=function(e){return e-this.getElement("_pageDiv_"+(this.currentPageNumber-1)).getBoundingClientRect().top},e.prototype.getHorizontalValue=function(e,t){var i=this.getElement("_pageDiv_"+(t||this.currentPageNumber-1)).getBoundingClientRect();return e*this.getZoomFactor()+i.left},e.prototype.getVerticalValue=function(e,t){var i=this.getElement("_pageDiv_"+(t||this.currentPageNumber-1)).getBoundingClientRect();return e*this.getZoomFactor()+i.top},e.prototype.checkIsNormalText=function(){var e=!0,t="",i=this.pdfViewer.textSelectionModule;return i&&i.selectionRangeArray&&1===i.selectionRangeArray.length?t=i.selectionRangeArray[0].textContent:window.getSelection()&&window.getSelection().anchorNode&&(t=window.getSelection().toString()),""!==t&&this.checkIsRtlText(t)&&(e=!1),e},e.prototype.isTextSearchBoxOpen=function(){var e,t=document.getElementById(this.pdfViewer.element.id+"_search_box");return t&&(e="none"!==t.style.display),e},e.prototype.isTargetClassNameValid=function(e){return"e-pv-formfield-input"!==e.target.className&&"e-pv-formfield-textarea"!==e.target.className&&"e-pv-properties-name-edit-input e-input e-lib e-textbox e-control"!==e.target.className&&"e-pv-properties-value-input e-input e-lib e-textbox e-control"!==e.target.className&&e.target.id!==this.pdfViewer.element.id+"_search_input"&&"e-input-group e-pv-search-input e-input-focus"!==e.target.className&&"e-pdfviewer-formFields"!==e.target.className},e.prototype.DeleteKeyPressed=function(e){var t,i=document.getElementById(this.pdfViewer.element.id+"_search_box");if(i&&(t="none"!==i.style.display),this.pdfViewer.formDesignerModule&&!this.pdfViewer.formDesigner.isPropertyDialogOpen&&this.pdfViewer.designerMode&&0!==this.pdfViewer.selectedItems.formFields.length&&!t)this.pdfViewer.formDesignerModule.deleteFormField(this.pdfViewer.selectedItems.formFields[0].id);else if(this.pdfViewer.annotation&&!this.pdfViewer.designerMode&&e.srcElement.parentElement.classList&&!e.srcElement.parentElement.classList.contains("e-input-focus")&&(!this.isTextMarkupAnnotationModule()||this.getPopupNoteVisibleStatus()||t||this.pdfViewer.annotationModule.deleteAnnotation(),this.pdfViewer.selectedItems.annotations.length>0)){var n=this.pdfViewer.selectedItems.annotations[0],o=!0,r=n.shapeAnnotationType;if("Path"===r||"SignatureField"===n.formFieldAnnotationType||"InitialField"===n.formFieldAnnotationType||"HandWrittenSignature"===r||"SignatureText"===r||"SignatureImage"===r){var a=document.getElementById(n.id);a&&a.disabled&&(o=!0)}o||(n.annotationSettings&&n.annotationSettings.isLock?this.pdfViewer.annotationModule.checkAllowedInteractions("Delete",n)&&(this.pdfViewer.remove(n),this.pdfViewer.renderSelector(this.pdfViewer.annotation.getEventPageNumber(e))):(this.pdfViewer.remove(n),this.pdfViewer.renderSelector(this.pdfViewer.annotation.getEventPageNumber(e))))}},e.prototype.initiatePanning=function(){this.isPanMode=!0,this.textLayer.modifyTextCursor(!1),this.disableTextSelectionMode(),this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule&&this.pdfViewer.toolbar.annotationToolbarModule.deselectAllItems()},e.prototype.initiateTextSelectMode=function(){this.isPanMode=!1,this.viewerContainer&&(this.viewerContainer.style.cursor="auto",this.pdfViewer.textSelectionModule&&(this.textLayer.modifyTextCursor(!0),this.pdfViewer.textSelectionModule.enableTextSelectionMode()),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(0,t.isBlazor)()||this.enableAnnotationAddTools(!0))},e.prototype.initiateTextSelection=function(){this.pdfViewer.toolbar&&!this.pdfViewer.toolbar.isSelectionToolDisabled&&(this.initiateTextSelectMode(),this.pdfViewer.toolbar.updateInteractionTools(!0))},e.prototype.enableAnnotationAddTools=function(e){this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.enableAnnotationAddTools(e)},e.prototype.applySelection=function(){null!==window.getSelection().anchorNode&&this.pdfViewer.textSelectionModule.applySpanForSelection(),this.isViewerContainerDoubleClick=!1},e.prototype.isDesignerMode=function(e){var t=!1;return 0===this.pdfViewer.selectedItems.annotations.length||"HandWrittenSignature"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureImage"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?(0!==this.pdfViewer.selectedItems.annotations.length&&"Path"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||0!==this.pdfViewer.selectedItems.formFields.length&&this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&this.pdfViewer.designerMode||this.pdfViewer.annotation&&this.pdfViewer.annotation.isShapeCopied&&(e.classList.contains("e-pv-text-layer")||e.classList.contains("e-pv-text"))&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation||this.pdfViewer.formDesigner&&this.pdfViewer.formDesigner.isShapeCopied&&(e.classList.contains("e-pv-text-layer")||e.classList.contains("e-pv-text")))&&(t=!0):t=!0,this.designerModetarget=e,t},e.prototype.handleTaps=function(e,i){var n=this;if(this.isDeviceiOS){var o=de(i,this,this.pdfViewer),r=!(0,t.isNullOrUndefined)(this.pdfViewer.annotation)&&!(0,t.isNullOrUndefined)(this.pdfViewer.annotation.freeTextAnnotationModule)&&!this.pdfViewer.annotation.freeTextAnnotationModule.isNewFreeTextAnnot&&(!o||!this.pdfViewer.selectedItems.annotations[0]||o.id!==this.pdfViewer.selectedItems.annotations[0].id)&&document.activeElement.classList.contains("free-text-input")&&this.isFreeTextAnnotation(this.pdfViewer.selectedItems.annotations);this.singleTapTimer?this.pdfViewer.enablePinchZoom&&(this.tapCount++,this.tapCount>2&&(this.tapCount=2),clearTimeout(this.singleTapTimer),this.singleTapTimer=null,this.onDoubleTap(e)):(this.singleTapTimer=setTimeout((function(){!r||(0,t.isNullOrUndefined)(n.pdfViewer.selectedItems)||(0,t.isNullOrUndefined)(n.pdfViewer.selectedItems.annotations[0])||(n.pdfViewer.clearSelection(n.pdfViewer.selectedItems.annotations[0].pageIndex),n.focusViewerContainer(!0)),n.onSingleTap(e)}),300),this.tapCount++)}else this.singleTapTimer?this.pdfViewer.enablePinchZoom&&(this.tapCount++,this.tapCount>2&&(this.tapCount=2),clearTimeout(this.singleTapTimer),this.singleTapTimer=null,this.onDoubleTap(e)):(this.singleTapTimer=setTimeout((function(){n.onSingleTap(e)}),300),this.tapCount++)},e.prototype.handleTextBoxTaps=function(e){var t=this;if(setTimeout((function(){t.inputTapCount=0}),300),this.inputTapCount++,this.isDeviceiOS)this.onTextBoxDoubleTap(e);else setTimeout((function(){t.onTextBoxDoubleTap(e)}),200);this.inputTapCount>2&&(this.inputTapCount=0)},e.prototype.onTextBoxDoubleTap=function(e){e[0].target;if(2===this.inputTapCount&&0!==this.pdfViewer.selectedItems.annotations.length){if(this.pdfViewer.annotationModule){var t=this.pdfViewer.selectedItems.annotations[0];this.isDeviceiOS&&document.activeElement.classList.contains("free-text-input")&&this.isFreeTextAnnotation(this.pdfViewer.selectedItems.annotations)&&this.focusViewerContainer(!0),this.pdfViewer.annotationModule.annotationSelect(t.annotName,t.pageIndex,t,null,!0)}if(this.isFreeTextAnnotation(this.pdfViewer.selectedItems.annotations)&&!this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus){(n={}).x=this.pdfViewer.selectedItems.annotations[0].bounds.x,n.y=this.pdfViewer.selectedItems.annotations[0].bounds.y;var i=void 0;i="diagram_helper"===this.pdfViewer.selectedItems.annotations[0].id?this.pdfViewer.nameTable[this.eventArgs.source.id]:this.pdfViewer.selectedItems.annotations[0],this.pdfViewer.annotation.freeTextAnnotationModule.addInuptElemet(n,i)}else if(this.pdfViewer.selectedItems.annotations[0]&&this.pdfViewer.selectedItems.annotations[0].enableShapeLabel&&!this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus){var n;(n={}).x=this.pdfViewer.selectedItems.annotations[0].bounds.x,n.y=this.pdfViewer.selectedItems.annotations[0].bounds.y,this.pdfViewer.annotation.inputElementModule.editLabel(n,this.pdfViewer.selectedItems.annotations[0])}}},e.prototype.onSingleTap=function(e){var i=e[0].target,n=!1;if(this.singleTapTimer=null,i&&(i.classList.contains("e-pdfviewer-formFields")||i.classList.contains("e-pdfviewer-ListBox")||i.classList.contains("e-pdfviewer-signatureformfields"))&&(n=!0),!this.isLongTouchPropagated&&!this.navigationPane.isNavigationToolbarVisible&&!n&&this.pdfViewer.toolbarModule){if(this.touchClientX>=e[0].clientX-10&&this.touchClientX<=e[0].clientX+10&&this.touchClientY>=e[0].clientY-10&&this.touchClientY<=e[0].clientY+10){if(this.isTapHidden)(0,t.isBlazor)()&&(this.viewerContainer.scrollTop+=this.pdfViewer.element.querySelector(".e-pv-mobile-toolbar").clientHeight*this.getZoomFactor());else if((0,t.isBlazor)()&&(this.viewerContainer.scrollTop-=this.pdfViewer.element.querySelector(".e-pv-mobile-toolbar").clientHeight*this.getZoomFactor()),this.pdfViewer.toolbar.moreDropDown){var o=this.getElement("_more_option-popup");o.firstElementChild&&(o.classList.remove("e-popup-open"),o.classList.add("e-popup-close"),o.removeChild(o.firstElementChild))}this.isTapHidden&&t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?(this.mobileScrollerContainer.style.display="",this.updateMobileScrollerPosition()):t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&null==this.getSelectTextMarkupCurrentPage()&&(this.mobileScrollerContainer.style.display="none"),null==this.getSelectTextMarkupCurrentPage()&&((0,t.isBlazor)()?this.blazorUIAdaptor.tapOnMobileDevice(this.isTapHidden):this.pdfViewer.enableToolbar&&this.pdfViewer.toolbarModule.showToolbar(!0),this.isTapHidden=!this.isTapHidden)}this.tapCount=0}},e.prototype.onDoubleTap=function(e){var t=e[0].target,i=!1;t&&(t.classList.contains("e-pdfviewer-formFields")||t.classList.contains("e-pdfviewer-ListBox")||t.classList.contains("e-pdfviewer-signatureformfields"))&&(i=!0),2!==this.tapCount||i||(this.tapCount=0,this.touchClientX>=parseInt((e[0].clientX-10).toString(),10)&&this.touchClientX<=e[0].clientX+10&&this.touchClientY>=e[0].clientY-10&&this.touchClientY<=e[0].clientY+30&&(this.pdfViewer.magnification&&1!==this.pdfViewer.selectedItems.annotations.length&&this.pdfViewer.magnification.onDoubleTapMagnification(),this.viewerContainer.style.height=this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height,this.toolbarHeight),this.isTapHidden=!1,clearTimeout(this.singleTapTimer),this.singleTapTimer=null))},e.prototype.preventTouchEvent=function(e){this.pdfViewer.textSelectionModule&&(this.isPanMode||!this.pdfViewer.enableTextSelection||this.isTextSelectionDisabled||null!=this.getSelectTextMarkupCurrentPage()||this.isWebkitMobile&&t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(e.preventDefault(),e.stopPropagation()))},e.prototype.renderStampAnnotation=function(e){if(this.pdfViewer.annotation){var t=this.getZoomFactor(),i=this.pdfViewer.annotation.getEventPageNumber(e),n=this.getElement("_pageDiv_"+i);if(this.pdfViewer.enableStampAnnotations){var o=this.pdfViewer.annotationModule.stampAnnotationModule;if(o&&o.isStampAnnotSelected&&n){var r=n.getBoundingClientRect();if("touchend"===e.type&&"Image"===this.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation.shapeAnnotationType){var a=this.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation;a.pageIndex=i,a.bounds.x=(e.changedTouches[0].clientX-r.left)/t,a.bounds.y=(e.changedTouches[0].clientY-r.top)/t,o.updateDeleteItems(i,a,a.opacity),this.pdfViewer.add(a);var s=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+i);this.pdfViewer.renderDrawing(s,i)}else o.renderStamp((e.changedTouches[0].clientX-r.left)/t,(e.changedTouches[0].clientY-r.top)/t,null,null,i,null,null,null,null);o.isStampAnnotSelected=!1}this.pdfViewer.annotation.onAnnotationMouseDown()}if(this.pdfViewer.enableHandwrittenSignature&&this.isSignatureAdded&&n){r=n.getBoundingClientRect();this.currentSignatureAnnot.pageIndex=i,this.signatureModule.renderSignature((e.changedTouches[0].clientX-r.left)/t,(e.changedTouches[0].clientY-r.top)/t),this.isSignatureAdded=!1}1===e.touches.length&&this.isTextMarkupAnnotationModule()&&!this.getPopupNoteVisibleStatus()&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationTouchEnd(e)}},e.prototype.focusOnViewerContainer=function(){var e=document.activeElement;return document.querySelector(".e-pv-viewer-container").contains(e)},e.prototype.initPageDiv=function(e){if((0,t.isBlazor)()||this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateTotalPage(),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.mobiletotalPageContainer&&(this.mobiletotalPageContainer.innerHTML=this.pageCount.toString(),this.pageNoContainer.innerHTML="(1-"+this.pageCount.toString()+")"),this.pageCount>0){var i=0,n=0;this.isMixedSizeDocument=!1,this.pageCount>100?(n=100,this.pageLimit=n):n=this.pageCount;for(var o=!1,r=!1,a=!1,s=0;s<n;s++){if("object"!=typeof e.pageSizes[parseInt(s.toString(),10)]){var l=e.pageSizes[parseInt(s.toString(),10)].split(",");if(null!==e.pageSizes[s-1]&&0!==s){var d=e.pageSizes[s-1].split(",");i=this.pageGap+parseFloat(d[1])+i}else i=this.pageGap;var h={width:parseFloat(l[0]),height:parseFloat(l[1]),top:i,rotation:!(0,t.isNullOrUndefined)(e.pageRotation)&&(!(0,t.isNullOrUndefined)(e.pageRotation.length)&&e.pageRotation.length>0||!(0,t.isNullOrUndefined)(Object.keys(e.pageRotation).length)&&Object.keys(e.pageRotation).length>0)?e.pageRotation[parseInt(s.toString(),10)]:0};this.pageSize.push(h)}else{if(null!==e.pageSizes[s-1]&&0!==s){d=e.pageSizes[s-1];i=this.pageGap+(parseFloat(d.height)?parseFloat(d.height):parseFloat(d.Height))+i}else i=this.pageGap;h={width:e.pageSizes[parseInt(s.toString(),10)].width?e.pageSizes[parseInt(s.toString(),10)].width:e.pageSizes[parseInt(s.toString(),10)].Width,height:e.pageSizes[parseInt(s.toString(),10)].height?e.pageSizes[parseInt(s.toString(),10)].height:e.pageSizes[parseInt(s.toString(),10)].Height,top:i,rotation:!(0,t.isNullOrUndefined)(e.pageRotation)&&(!(0,t.isNullOrUndefined)(e.pageRotation.length)&&e.pageRotation.length>0||!(0,t.isNullOrUndefined)(Object.keys(e.pageRotation).length)&&Object.keys(e.pageRotation).length>0)?e.pageRotation[parseInt(s.toString(),10)]:0};this.pageSize.push(h)}this.pageSize[parseInt(s.toString(),10)].height>this.pageSize[parseInt(s.toString(),10)].width&&(o=!0),this.pageSize[parseInt(s.toString(),10)].width>this.pageSize[parseInt(s.toString(),10)].height&&(r=!0),s>0&&this.pageSize[parseInt(s.toString(),10)].width!==this.pageSize[s-1].width&&(a=!0);var A=this.pageSize[parseInt(s.toString(),10)].width;A>this.highestWidth&&(this.highestWidth=A);var p=this.pageSize[parseInt(s.toString(),10)].height;p>this.highestHeight&&(this.highestHeight=p)}(o&&r||a)&&(this.isMixedSizeDocument=!0);var c=void 0;c=this.pdfViewer.initialRenderPages>10?this.pdfViewer.initialRenderPages>100?n:this.pdfViewer.initialRenderPages<=this.pageCount?this.pdfViewer.initialRenderPages:this.pageCount:this.pageCount<10?this.pageCount:10;for(s=0;s<c;s++)this.renderPageContainer(s,this.getPageWidth(s),this.getPageHeight(s),this.getPageTop(s));if(this.pageContainer.style.height=this.getPageTop(this.pageSize.length-1)+this.getPageHeight(this.pageSize.length-1)+"px",this.pageContainer.style.position="relative",100===this.pageLimit)null===this.getElement("_pageDiv_"+this.pageLimit)&&this.pageLimit<this.pageCount&&Promise.all([this.renderPagesVirtually()])}},e.prototype.renderElementsVirtualScroll=function(e){var i=1;this.pageStopValue<=200?i=4:i=2;var n=e+i;n>this.pageCount&&(n=this.pageCount);for(var o=e-1;o<=n;o++)-1!==o&&this.renderPageElement(o);var r=e-3;r<0&&(r=0);for(o=e-1;o>=r;o--)-1!==o&&this.renderPageElement(o);for(var a=0;a<this.pageCount;a++)if(!(r<=a&&a<=n)){var s,l=this.getElement("_pageDiv_"+a),d=this.getElement("_pageCanvas_"+a),h=this.getElement("_textLayer_"+a),A=this.pdfViewer.initialRenderPages>this.pageRenderCount?this.pdfViewer.initialRenderPages<=this.pageCount?this.pdfViewer.initialRenderPages-1:this.pageCount:-1;if(d&&a>A)d.onload=null,d.onerror=null,d.parentNode.removeChild(d),h&&(this.pdfViewer.textSelectionModule&&0!==h.childNodes.length&&!this.isTextSelectionDisabled&&this.pdfViewer.textSelectionModule.maintainSelectionOnScroll(a,!0),h.parentNode.removeChild(h)),-1!==(s=this.renderedPagesList.indexOf(a))&&this.renderedPagesList.splice(s,1);if(l&&a>A)l.parentNode.removeChild(l),-1!==(s=this.renderedPagesList.indexOf(a))&&this.renderedPagesList.splice(s,1)}(0,t.isBlazor)()&&this.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateCurrentPageNumber",this.currentPageNumber)},e.prototype.renderPageElement=function(e){var t=this.getElement("_pageDiv_"+e);null==this.getElement("_pageCanvas_"+e)&&null==t&&e<this.pageSize.length&&this.renderPageContainer(e,this.getPageWidth(e),this.getPageHeight(e),this.getPageTop(e))},e.prototype.renderPagesVirtually=function(){return rd(this,void 0,void 0,(function(){var e,t=this;return ad(this,(function(i){return e=this,setTimeout((function(){t.initiateRenderPagesVirtually(e)}),500),[2]}))}))},e.prototype.initiateRenderPagesVirtually=function(e){var t={hashId:e.hashId,isClientsideLoading:this.clientSideRendering,isCompletePageSizeNotReceived:!0,action:"VirtualLoad",elementId:e.pdfViewer.element.id,uniqueId:e.documentId,password:e.passwordData};if(e.jsonDocumentId&&(t.documentId=e.jsonDocumentId),this.virtualLoadRequestHandler=new hd(this.pdfViewer),this.virtualLoadRequestHandler.url=e.pdfViewer.serviceUrl+"/"+e.pdfViewer.serverActionSettings.load,this.virtualLoadRequestHandler.responseType="json",this.virtualLoadRequestHandler.mode=!0,this.clientSideRendering){var i=this.pdfViewer.pdfRendererModule.load(null,this.documentId,null,t);this.viritualload(JSON.parse(i),this)}else this.virtualLoadRequestHandler.send(t);this.virtualLoadRequestHandler.onSuccess=function(t){var i=t.data;if(i&&"object"!=typeof i)try{i=JSON.parse(i)}catch(t){e.onControlError(500,i,"VirtualLoad")}if(i){for(;"object"!=typeof i;)i=JSON.parse(i);e.viritualload(i,e)}},this.virtualLoadRequestHandler.onFailure=function(t){e.pdfViewer.fireAjaxRequestFailed(t.status,t.statusText)},this.virtualLoadRequestHandler.onError=function(t){e.openNotificationPopup(),e.pdfViewer.fireAjaxRequestFailed(t.status,t.statusText)}},e.prototype.viritualload=function(i,n){if(n.documentId===i.uniqueId){n.pdfViewer.fireAjaxRequestSuccess("VirtualLoad",i);var o=i;if(n.pageSize[n.pageLimit-1]){for(var r=n.pageSize[n.pageLimit-1].top,a=n.pageLimit;a<n.pageCount;a++)if("object"!=typeof o.pageSizes[parseInt(a.toString(),10)]){var s=o.pageSizes[parseInt(a.toString(),10)].split(",");if(null!==n.pageSize[a-1]&&0!==a){var l=n.pageSize[a-1].height;r=n.pageGap+parseFloat(l)+r}var d={width:parseFloat(s[0]),height:parseFloat(s[1]),top:r,rotation:!(0,t.isNullOrUndefined)(o.pageRotation)&&(!(0,t.isNullOrUndefined)(o.pageRotation.length)&&o.pageRotation.length>0||!(0,t.isNullOrUndefined)(Object.keys(o.pageRotation).length)&&Object.keys(o.pageRotation).length>0)?o.pageRotation[parseInt(a.toString(),10)]:0};n.pageSize.push(d)}else{if(null!==n.pageSize[a-1]&&0!==a){l=n.pageSize[a-1].height;r=n.pageGap+parseFloat(l)+r}d={width:parseFloat(o.pageSizes[parseInt(a.toString(),10)].width)?parseFloat(o.pageSizes[parseInt(a.toString(),10)].width):parseFloat(o.pageSizes[parseInt(a.toString(),10)].Width),height:parseFloat(o.pageSizes[parseInt(a.toString(),10)].height)?parseFloat(o.pageSizes[parseInt(a.toString(),10)].height):parseFloat(o.pageSizes[parseInt(a.toString(),10)].Height),top:r,rotation:!(0,t.isNullOrUndefined)(o.pageRotation)&&(!(0,t.isNullOrUndefined)(o.pageRotation.length)&&o.pageRotation.length>0||!(0,t.isNullOrUndefined)(Object.keys(o.pageRotation).length)&&Object.keys(o.pageRotation).length>0)?o.pageRotation[parseInt(a.toString(),10)]:0};n.pageSize.push(d)}n.pageContainer.style.height=n.getPageTop(n.pageSize.length-1)+n.getPageHeight(n.pageSize.length-1)+"px";var h=e.sessionStorageManager.getItem(n.documentId+"_pagedata");if(n.pageCount>100){if(this.pdfViewer.initialRenderPages>100){var A=this.pdfViewer.initialRenderPages<=n.pageCount?this.pdfViewer.initialRenderPages:n.pageCount;for(a=100;a<A;a++)n.renderPageContainer(a,n.getPageWidth(a),n.getPageHeight(a),n.getPageTop(a)),n.createRequestForRender(a)}n.pdfViewer.fireDocumentLoad(h);var p=n.pdfViewer.linkAnnotationModule;p&&p.linkAnnotation&&p.linkAnnotation.length>0&&p.linkPage.length>0&&p.renderDocumentLink(p.linkAnnotation,p.linkPage,p.annotationY,n.currentPageNumber-1)}}}},e.prototype.tileRenderPage=function(i,n){var o,r=this;if(o=this,i&&this.pageSize[parseInt(n.toString(),10)]){var a=this.getPageWidth(n),s=this.getPageHeight(n),l=this.getElement("_pageCanvas_"+n),d=this.getElement("_pageDiv_"+n),h=i.tileX?i.tileX:0,A=i.tileY?i.tileY:0;d&&(d.style.width=a+"px",d.style.height=s+"px",d.style.background="#fff",d.style.top=this.getPageTop(n)+"px",this.pdfViewer.enableRtl?d.style.right=this.updateLeftPosition(n)+"px":d.style.left=this.updateLeftPosition(n)+"px"),l&&(l.style.background="#fff");var p=i.image,c=this.retrieveCurrentZoomFactor(),g=document.querySelectorAll('img[id*="'+o.pdfViewer.element.id+"_tileimg_"+n+'_"]');if(0===g.length&&(this.isReRenderRequired=!0),this.isReRenderRequired){i.zoomFactor&&(c=i.zoomFactor);var u=this.documentId+"_"+n+"_"+c+"_"+i.tileX+"_"+i.tileY;this.tilerequestLists.push(u);var f=i.transformationMatrix,m=i.width;if(p){var w=i.tileX?i.tileX:0,y=i.tileY?i.tileY:0,S=(0,t.isNullOrUndefined)(i.scaleFactor)?1.5:i.scaleFactor,C=document.getElementById(this.pdfViewer.element.id+"_tileimg_"+n+"_"+this.getZoomFactor()+"_"+w+"_"+y);if(C||((C=new Image).id=this.pdfViewer.element.id+"_tileimg_"+n+"_"+this.getZoomFactor()+"_"+w+"_"+y,C.style.userSelect="none",d&&d.append(C)),d){C.src=p,C.setAttribute("alt",""),C.onload=function(){if(o.showPageLoadingIndicator(n,!1),o.tileRenderCount=o.tileRenderCount+1,0===w&&0===y&&0===n&&r.isDocumentLoaded){o.renderPDFInformations(),o.isInitialLoaded=!0;var t=e.sessionStorageManager.getItem(o.documentId+"_pagedata");o.pageCount<=100&&o.pdfViewer.fireDocumentLoad(t),o.isDocumentLoaded=!1,o.pdfViewer.textSearch&&o.pdfViewer.textSearchModule.getPDFDocumentTexts()}if(o.tileRenderCount===o.tileRequestCount&&i.uniqueId===o.documentId){o.isTextMarkupAnnotationModule()&&o.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotations(n),l&&(l.style.display="none",l.src="#");for(var a=document.querySelectorAll('img[id*="'+o.pdfViewer.element.id+'_oldCanvas"]'),s=0;s<a.length;s++)a[parseInt(s.toString(),10)].onload=null,a[parseInt(s.toString(),10)].onerror=null,d.removeChild(a[parseInt(s.toString(),10)]);o.isTileImageRendered=!1,o.tileRenderCount=0,o.pdfViewer.magnificationModule&&o.pdfViewer.magnificationModule.rerenderCountIncrement(),o.isDrawnCompletely=!0,o.pdfViewer.firePageRenderComplete(i)}C.setAttribute("alt","Page "+(n+1))};var B=m*this.getZoomFactor()/c/S,I=f?f.Elements?f.Elements:f.Values:[1,0,0,1,1,1],b=I[5]*this.getZoomFactor()/c/S,v=I[4]*this.getZoomFactor()/c/S;C.width=B,C.style.width=B+"px",C.style.top=b+"px",C.style.left=v+"px",C.style.position="absolute"}}0===h&&0===A&&this.onPageRender(i,n,d)}else{for(var E=function(t){var a=g[parseInt(t.toString(),10)].id.split("_"),s=o.retrieveCurrentZoomFactor(),h=void 0;if((h=x.clientSideRendering?JSON.parse(o.getStoredTileImageDetails(n,parseFloat(a[a.length-2]),parseFloat(a[a.length-1]),s)):JSON.parse(o.getWindowSessionStorageTile(n,parseFloat(a[a.length-2]),parseFloat(a[a.length-1]),s)))&&h.zoomFactor&&(s=h.zoomFactor),parseFloat(a[a.length-4])===n){var A=g[parseInt(t.toString(),10)];A.nodeType===Node.ELEMENT_NODE&&(A.onload=function(){if(o.showPageLoadingIndicator(n,!1),o.tileRenderCount=o.tileRenderCount+1,0===D&&0===M&&0===n&&r.isDocumentLoaded){r.renderPDFInformations(),r.isInitialLoaded=!0;var t=e.sessionStorageManager.getItem(o.documentId+"_pagedata");o.pageCount<=100&&o.pdfViewer.fireDocumentLoad(t),o.isDocumentLoaded=!1,o.pdfViewer.textSearch&&o.pdfViewer.textSearchModule.getPDFDocumentTexts()}if(o.tileRenderCount===o.tileRequestCount&&i.uniqueId===o.documentId){l.style.display="none",l.src="#",o.isTextMarkupAnnotationModule()&&o.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotations(n);for(var a=document.querySelectorAll('img[id*="'+o.pdfViewer.element.id+'_oldCanvas"]'),s=0;s<a.length;s++)a[parseInt(s.toString(),10)].onload=null,a[parseInt(s.toString(),10)].onerror=null,d.removeChild(a[parseInt(s.toString(),10)]);o.isTileImageRendered=!1,o.tileRenderCount=0,o.pdfViewer.magnificationModule&&o.pdfViewer.magnificationModule.rerenderCountIncrement(),o.isDrawnCompletely=!0,o.pdfViewer.firePageRenderComplete(i)}A.setAttribute("alt","Page "+(n+1))},h&&(A.src=h.image))}},x=this,_=0;_<g.length;_++)E(_);var D=i.tileX?i.tileX:0,M=i.tileY?i.tileY:0;0===D&&0===M&&this.onPageRender(i,n,d)}}},e.prototype.renderTileCanvas=function(e,i,n,o,r,a){var s=this.getElement("_pageTileCanvas_"+n);return s||((s=(0,t.createElement)("canvas",{id:this.pdfViewer.element.id+"_pageTileCanvas_"+n,className:"e-pv-pageTile-canvas"})).style.width=e+"px",s.style.height=i+"px",s.style.display="none",s.style.backgroundColor="#fff",this.isMixedSizeDocument&&this.highestWidth>0&&(s.style.marginLeft="auto",s.style.marginRight="auto"),o.appendChild(s)),s},e.prototype.calculateImageWidth=function(e,t,i,n){var o=e/this.getZoomFactor()*t*i;return parseInt(n.toString(),10)===parseInt(o.toString(),10)&&(n=o),n=n*this.getZoomFactor()/t},e.prototype.renderPage=function(t,i,n){var o=this,r=this;if(t&&this.pageSize[parseInt(i.toString(),10)]){var a=this.getPageWidth(i),s=this.getPageHeight(i),l=this.getElement("_pageCanvas_"+i),d=this.getElement("_pageDiv_"+i);if(d&&(d.style.width=a+"px",d.style.height=s+"px",d.style.top=this.getPageTop(i)+"px",this.pdfViewer.enableRtl?d.style.right=this.updateLeftPosition(i)+"px":d.style.left=this.updateLeftPosition(i)+"px"),l){l.style.background="#fff",l.style.display="block",l.style.width=a+"px",l.style.height=s+"px",a<parseFloat(d.style.width)&&(d.style.boxShadow="none");var h=this.renderThumbnailImages&&!this.clientSideRendering?n:t.image;h&&(l.onload=function(){for(var t=document.querySelectorAll('img[id*="'+r.pdfViewer.element.id+'_tileimg_"]'),n=r.getElement("_pageDiv_"+i),a=0;a<t.length;a++){var s=t[parseInt(a.toString(),10)].id.split("_");parseFloat(s[s.length-3])!==r.getZoomFactor()&&(i!==parseInt(s[s.length-4],10)?(t[parseInt(a.toString(),10)].onload=null,t[parseInt(a.toString(),10)].onerror=null,r.getElement("_pageDiv_"+s[s.length-4]).removeChild(t[parseInt(a.toString(),10)])):(t[parseInt(a.toString(),10)].onload=null,t[parseInt(a.toString(),10)].onerror=null,n.removeChild(t[parseInt(a.toString(),10)])))}var h=document.querySelectorAll('img[id*="'+r.pdfViewer.element.id+'_oldCanvas"]');for(a=0;a<h.length;a++)h[parseInt(a.toString(),10)].onload=null,h[parseInt(a.toString(),10)].onerror=null,d.removeChild(h[parseInt(a.toString(),10)]);if(o.pdfViewer.magnificationModule&&o.pdfViewer.magnificationModule.rerenderCountIncrement(),o.showPageLoadingIndicator(i,!1),0===i&&o.isDocumentLoaded){o.renderPDFInformations(),o.isInitialLoaded=!0;var A=e.sessionStorageManager.getItem(o.documentId+"_pagedata");o.pageCount<=100&&o.pdfViewer.fireDocumentLoad(A),o.isDocumentLoaded=!1,o.pdfViewer.textSearch&&o.pdfViewer.textSearchModule.getPDFDocumentTexts()}o.pdfViewer.magnificationModule&&o.pdfViewer.magnificationModule.pushImageObjects(l),l.setAttribute("alt","Page "+(i+1))},l.src=h),this.onPageRender(t,i,d)}}},e.prototype.updateAnnotationsAndState=function(e,t,i,n){return!!t&&(e.shapeAnnotation=t.shapeAnnotation,e.measureShapeAnnotation=t.measureShapeAnnotation,e.textMarkupAnnotation=t.textMarkupAnnotation,e.freeTextAnnotation=t.freeTextAnnotation,e.stampAnnotations=t.stampAnnotations,e.stickyNotesAnnotation=t.stickyNotesAnnotation,e.signatureInkAnnotation=t.signatureInkAnnotation,n.push(i),!0)},e.prototype.onPageRender=function(e,i,n){var o=n&&n.getElementsByTagName("a"),r=!1;if(o&&0!==o.length)for(var a=o.length-1;a>=0;a--)o[parseInt(a.toString(),10)].parentNode.removeChild(o[parseInt(a.toString(),10)]);if((this.pdfViewer.textSearchModule||this.pdfViewer.textSelectionModule||this.pdfViewer.annotationModule)&&this.renderTextContent(e,i),!this.pdfViewer.formFieldsModule||this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.isFormFieldPageZoomed||(this.pdfViewer.viewerBase.existingFieldImport?this.pdfViewer.formFieldsModule.renderFormFields(i,!1):this.pdfViewer.formFieldsModule.renderFormFields(i,!0)),this.pdfViewer.accessibilityTagsModule&&this.pdfViewer.enableAccessibilityTags&&this.isTaggedPdf&&(this.accessibilityTagsCollection[i.toString()]?this.renderAccessibilityTags(i,this.accessibilityTagsCollection[i.toString()]):-1===this.pageRequestListForAccessibilityTags.indexOf(i)&&this.createRequestForAccessibilityTags(i)),this.pdfViewer.formDesignerModule&&!this.isDocumentLoaded&&this.pdfViewer.formDesignerModule.rerenderFormFields(i),!this.pdfViewer.formFieldsModule||this.isDocumentLoaded||this.pdfViewer.formDesignerModule||this.pdfViewer.formFieldsModule.renderFormFields(i,!1),this.pdfViewer.formDesignerModule&&this.isDocumentLoaded&&(!this.pdfViewer.magnificationModule||this.pdfViewer.magnificationModule.isFormFieldPageZoomed)&&this.pdfViewer.formFieldsModule&&(this.pdfViewer.formFieldsModule.renderFormFields(i,!1),this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isFormFieldPageZoomed=!1)),this.pdfViewer.enableHyperlink&&this.pdfViewer.linkAnnotationModule&&this.pdfViewer.linkAnnotationModule.renderHyperlinkContent(e,i),this.pdfViewer.textSelectionModule&&!this.isTextSelectionDisabled&&this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(i),this.documentAnnotationCollections){for(var s=!1,l=0;l<this.annotationRenderredList.length;l++)this.annotationRenderredList[parseInt(l.toString(),10)]===i&&(s=!0);(d=this.documentAnnotationCollections[parseInt(i.toString(),10)])&&!s&&(e.shapeAnnotation=d.shapeAnnotation,e.measureShapeAnnotation=d.measureShapeAnnotation,e.textMarkupAnnotation=d.textMarkupAnnotation,e.freeTextAnnotation=d.freeTextAnnotation,e.stampAnnotations=d.stampAnnotations,e.stickyNotesAnnotation=d.stickyNotesAnnotation,e.signatureAnnotation=d.signatureAnnotation,e.signatureInkAnnotation=d.signatureInkAnnotation,this.annotationRenderredList.push(i))}if(this.isImportAction){var d=this.checkDocumentCollectionData(i);this.drawPageAnnotations(this.importedAnnotation[parseInt(i.toString(),10)],i),d&&(e.shapeAnnotation=d.shapeAnnotation,e.measureShapeAnnotation=d.measureShapeAnnotation,e.textMarkupAnnotation=d.textMarkupAnnotation,e.freeTextAnnotation=d.freeTextAnnotation,e.stampAnnotations=d.stampAnnotations,e.stickyNotesAnnotation=d.stickyNotesAnnotation,e.signatureInkAnnotation=d.signatureInkAnnotation,this.annotationRenderredList.push(i),r=!0)}if(!this.isImportAction){s=!1;if((d=this.checkDocumentCollectionData(i))&&!s&&(r=this.updateAnnotationsAndState(e,d,i,this.annotationRenderredList)),this.pdfViewer.annotationModule&&(this.isTextMarkupAnnotationModule()||this.isShapeBasedAnnotationsEnabled())){if(this.isStampAnnotationModule()){var h=e.stampAnnotations;r?this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(h,i,null,!0):this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(h,i)}r?this.pdfViewer.annotationModule.renderAnnotations(i,e.shapeAnnotation,e.measureShapeAnnotation,e.textMarkupAnnotation,null,!0):(0,t.isNullOrUndefined)(e.shapeAnnotation)&&(0,t.isNullOrUndefined)(e.measureShapeAnnotation)&&(0,t.isNullOrUndefined)(e.textMarkupAnnotation)&&!(this.pdfViewer.annotationCollection.length>0)||this.pdfViewer.annotationModule.renderAnnotations(i,e.shapeAnnotation,e.measureShapeAnnotation,e.textMarkupAnnotation),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderStickyNotesAnnotations(e.stickyNotesAnnotation,i)}this.isFreeTextAnnotationModule()&&e.freeTextAnnotation&&(r?this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(e.freeTextAnnotation,i,!0):this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(e.freeTextAnnotation,i)),this.isInkAnnotationModule()&&e&&e.signatureInkAnnotation&&(this.pdfViewer.isSignatureEditable||(e.signatureInkAnnotation=this.canUpdateSignCollection(e.signatureInkAnnotation)),e.signatureInkAnnotation&&this.pdfViewer.annotationModule.inkAnnotationModule.renderExistingInkSignature(e.signatureInkAnnotation,i,r))}if(this.pdfViewer.formDesignerModule&&!this.pdfViewer.annotationModule&&this.pdfViewer.formDesignerModule.updateCanvas(i),this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.isTextSearch&&this.pdfViewer.textSearchModule.highlightOtherOccurrences(i),this.isShapeBasedAnnotationsEnabled()){var A=this.getElement("_annotationCanvas_"+i);if(A)ye(A.getBoundingClientRect(),"position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;z-index:1000",A,i,this.pdfViewer),this.pdfViewer.renderSelector(i,this.pdfViewer.annotationSelectorSettings)}this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.selectCommentsAnnotation(i),e&&e.signatureAnnotation&&this.signatureModule&&(this.pdfViewer.isSignatureEditable||(e.signatureAnnotation=this.canUpdateSignCollection(e.signatureAnnotation)),e.signatureAnnotation&&this.signatureModule.renderExistingSignature(e.signatureAnnotation,i,!1)),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.isAnnotationSelected&&this.pdfViewer.annotationModule.annotationPageIndex===i&&this.pdfViewer.annotationModule.selectAnnotationFromCodeBehind(),this.isLoadedFormFieldAdded=!1},e.prototype.removeInkFromAnnotCollection=function(e){for(var t=this.pdfViewer.annotationCollection,i=0;i<t.length;i++){var n=e.Bounds;if("Ink"===t[parseInt(i.toString(),10)].shapeAnnotationType||"ink"===t[parseInt(i.toString(),10)].shapeAnnotationType){var o=t[parseInt(i.toString(),10)].bounds;Math.round(n.X)===Math.round(o.x)&&Math.round(n.Y)===Math.round(o.y)&&Math.round(n.Width)===Math.round(o.width)&&Math.round(n.Height)===Math.round(o.height)&&this.pdfViewer.annotationCollection.splice(i,1)}}},e.prototype.canReduse=function(e,t,i){return e===t?i:i-1},e.prototype.isBoundsAreEqual=function(e,t){return Math.round(t.X)===Math.round(e.X)&&Math.round(t.Y)===Math.round(e.Y)&&Math.round(t.Width)===Math.round(e.Width)&&Math.round(t.Height)===Math.round(e.Height)},e.prototype.removeAnnotFromDoc=function(e,t){var i=e.Bounds,n=this.documentAnnotationCollections[parseInt(e.PageNumber.toString(),10)],o=n.signatureInkAnnotation,r=n.signatureAnnotation,a=0!==o.length?o:r;if(0!==o.length&&r.length)for(var s=0;s<o.length;s++)this.isBoundsAreEqual(o[0].Bounds,i)||(a=r);for(var l=0;l<a.length;l++){var d=a.length,h=a[parseInt(l.toString(),10)].Bounds;this.isBoundsAreEqual(h,i)&&(this.removeInkFromAnnotCollection(a[parseInt(l.toString(),10)]),a.splice(l,1),l=this.canReduse(d,a.length,l),t=a)}return t},e.prototype.isSignatureWithInRect=function(e,t){e=e[0],t=t[0];var i=e.x+e.width,n=t.x+t.width,o=e.y+e.height,r=t.y+t.height;return e.x-10<=t.x&&i+10>=n&&e.y-10<=t.y&&o+10>=r},e.prototype.canvasRectArray=function(e){var n=[];if(e){var o=(0,t.isNullOrUndefined)(e.x)?(0,t.isNullOrUndefined)(e.X)?(0,t.isNullOrUndefined)(e.left)?e.Left:e.left:e.X:e.x,r=(0,t.isNullOrUndefined)(e.y)?(0,t.isNullOrUndefined)(e.Y)?(0,t.isNullOrUndefined)(e.top)?e.Top:e.top:e.Y:e.y,a=(0,t.isNullOrUndefined)(e.width)?e.Width:e.width,s=(0,t.isNullOrUndefined)(e.height)?e.Height:e.height,l=new i.Rect(o+10,r+10,a-10,s-10);n.push(l)}return n},e.prototype.isFormFieldSignature=function(e,i){var n=i;if(!this.pdfViewer.isSignatureEditable)for(var o=this.pdfViewer.retrieveFormFields(),r=0;r<o.length;r++)if("SignatureField"===o[parseInt(r.toString(),10)].type||"InitialField"===o[parseInt(r.toString(),10)].type){var a=o[parseInt(r.toString(),10)].bounds;if(this.isSignatureWithInRect(this.canvasRectArray(a),this.canvasRectArray(e.Bounds))){if(n=i?this.removeAnnotFromDoc(e,i):this.removeAnnotFromDoc(e),""===o[parseInt(r.toString(),10)].value){var s=(0,t.isNullOrUndefined)(e.PageNumber)?e.pageNumber:e.PageNumber;-1===this.modifiedPageIndex.indexOf(s)&&this.modifiedPageIndex.push(s),o[parseInt(r.toString(),10)].value=e.PathData,o[parseInt(r.toString(),10)].signatureType="Draw";var l={x:e.Bounds.X,y:e.Bounds.Y,width:e.Bounds.Width,height:e.Bounds.Height};o[parseInt(r.toString(),10)].signatureBounds=l,this.pdfViewer.updateFormFieldsValue(o[parseInt(r.toString(),10)])}this.isInkAnnot=!0;break}}return n},e.prototype.canUpdateSignCollection=function(e){for(var t=0;t<e.length;t++){var i=e.length;e=this.isFormFieldSignature(e[parseInt(t.toString(),10)],e),t=this.canReduse(i,e.length,t)}return e},e.prototype.renderAnnotations=function(e,i,n){var o={};if(this.documentAnnotationCollections){for(var r=!1,a=0;a<this.annotationRenderredList.length;a++)this.annotationRenderredList[parseInt(a.toString(),10)]===e&&(r=!0);var s=this.documentAnnotationCollections[parseInt(e.toString(),10)];s&&!r&&(o.shapeAnnotation=s.shapeAnnotation,o.measureShapeAnnotation=s.measureShapeAnnotation,o.textMarkupAnnotation=s.textMarkupAnnotation,o.freeTextAnnotation=s.freeTextAnnotation,o.stampAnnotations=s.stampAnnotations,o.stickyNotesAnnotation=s.stickyNotesAnnotation,o.signatureAnnotation=s.signatureAnnotation,o.signatureInkAnnotation=s.signatureInkAnnotation,this.annotationRenderredList.push(e))}if(this.isAnnotationCollectionRemoved&&(o.shapeAnnotation=[],o.measureShapeAnnotation=[],o.textMarkupAnnotation=[],o.freeTextAnnotation=[],o.stampAnnotations=[],o.stickyNotesAnnotation=[],o.signatureInkAnnotation=[]),this.isImportAction){for(r=!1,a=0;a<this.annotationPageList.length;a++)this.annotationPageList[parseInt(a.toString(),10)]===e&&(r=!0);r||this.importedAnnotation&&(this.drawPageAnnotations(this.importedAnnotation,e,!0),this.annotationPageList[this.annotationPageList.length]=e)}var l=[],d=i.annotationOrder;if(!(0,t.isNullOrUndefined)(d))for(var h=0;h<d.length;h++){this.isInkAnnot=!1;var A=d[parseInt(h.toString(),10)].AnnotType?d[parseInt(h.toString(),10)].AnnotType:d[parseInt(h.toString(),10)].AnnotationType;switch(l.push(d[parseInt(h.toString(),10)]),A){case"textMarkup":(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.pdfViewer.annotationModule.textMarkupAnnotationModule.renderTextMarkupAnnotationsInPage(l,e,null,!0);break;case"shape_measure":this.pdfViewer.annotationModule.renderAnnotations(e,null,l,null,null,null,!0);break;case"shape":this.pdfViewer.annotationModule.renderAnnotations(e,l,null,null,null,null,!0);break;case"sticky":this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderStickyNotesAnnotations(l,e);break;case"stamp":this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(l,e,null,null,!0);break;case"Ink":this.pdfViewer.isSignatureEditable||this.isFormFieldSignature(l[0]),this.isInkAnnot||this.pdfViewer.annotationModule.inkAnnotationModule.renderExistingInkSignature(l,e,!1,!0);break;case"Text Box":this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(l,e,void 0,!0)}l=[]}o&&o.signatureAnnotation&&(this.pdfViewer.isSignatureEditable||(o.signatureAnnotation=this.canUpdateSignCollection(o.signatureAnnotation)),o.signatureAnnotation&&this.signatureModule.renderExistingSignature(o.signatureAnnotation,e,!1)),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.isAnnotationSelected&&this.pdfViewer.annotationModule.selectAnnotationFromCodeBehind()},e.prototype.renderTextContent=function(e,t){var i=e.textContent,n=e.textBounds,o=e.rotation,r=e.documentTextCollection?this.checkIsRtlText(e.documentTextCollection[0][parseInt(t.toString(),10)].PageText):this.checkIsRtlText(e.pageText),a=this.getElement("_textLayer_"+t);a||(a=this.textLayer.addTextLayer(t,this.getPageWidth(t),this.getPageHeight(t),this.getElement("_pageDiv_"+t))),a&&i&&n&&(a.style.display="block",0===a.childNodes.length?this.textLayer.renderTextContents(t,i,n,o,r):this.textLayer.resizeTextContents(t,i,n,o,!0))},e.prototype.renderAccessibilityTags=function(e,t){this.accessibilityTags.renderAccessibilityTags(e,t)},e.prototype.returnPageListForAccessibilityTags=function(e){var t=[];if(!this.enableAccessibilityMultiPageRequest)return[e];for(var i=e-2>0?e-2:0,n=e+4<this.pageCount-1?e+4:this.pageCount-1,o=i;o<=n;o++)void 0===this.accessibilityTagsCollection[parseInt(o.toString(),10)]?t.push(parseInt(o.toString(),10)):n=n+1<this.pageCount-1?n+1:this.pageCount-1;return this.pageRequestListForAccessibilityTags=t,t},e.prototype.createRequestForAccessibilityTags=function(e){var t=this,i={action:"RenderTaggedContent",elementId:this.pdfViewer.element.id,hashId:this.hashId,uniqueId:this.documentId,pageList:JSON.stringify(this.returnPageListForAccessibilityTags(e))};this.jsonDocumentId&&(i.document=this.jsonDocumentId);var n=this.pdfViewer.serviceUrl+"/RenderTaggedContent";this.accessibilityTagsHandler=new hd(this.pdfViewer),this.accessibilityTagsHandler.url=n,this.accessibilityTagsHandler.mode=!0,this.accessibilityTagsHandler.responseType="text",this.accessibilityTagsHandler.send(i),this.accessibilityTagsHandler.onSuccess=function(i){for(var n,o=JSON.parse(i.data),r=0;r<o.length;r++)n=o[parseInt(r.toString(),10)],t.accessibilityTagsCollection[n[0]]=n[1];t.pageRequestListForAccessibilityTags=[],t.accessibilityTagsCollection[parseInt(e.toString(),10)]&&t.renderAccessibilityTags(e,t.accessibilityTagsCollection[parseInt(e.toString(),10)]),t.accessibilityTagsCollection[e-1<=0?parseInt((e-1).toString(),10):0]&&t.renderAccessibilityTags(e-1<=0?e-1:0,t.accessibilityTagsCollection[e-1<=0?parseInt((e-1).toString(),10):0])}},e.prototype.renderPageContainer=function(e,i,n,o){var r=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_pageDiv_"+e,className:"e-pv-page-div",attrs:{tabindex:"-1"}});t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&r.classList.add("e-pv-text-selection-none"),r.style.width=i+"px",r.style.height=n+"px",this.pdfViewer.enableRtl?r.style.right=this.updateLeftPosition(e)+"px":r.style.left=this.updateLeftPosition(e)+"px",r.style.top=o+"px",this.pageContainer.appendChild(r),this.pageContainer.style.width=this.isMixedSizeDocument&&this.highestWidth*this.getZoomFactor()>this.viewerContainer.clientWidth?this.highestWidth*this.getZoomFactor()+"px":this.viewerContainer.clientWidth+"px",this.createWaitingPopup(e),this.orderPageDivElements(r,e),this.renderPageCanvas(r,i,n,e,"block"),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode||this.isThumb||this.updateMobileScrollerPosition()},e.prototype.renderPDFInformations=function(){!this.pdfViewer.thumbnailViewModule||t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?!(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer)&&this.pdfViewer.enablePageOrganizer&&this.pdfViewer.pageOrganizer.createRequestForPreview():this.pdfViewer.thumbnailViewModule.createRequestForThumbnails(),this.pdfViewer.bookmarkViewModule&&this.pdfViewer.bookmarkViewModule.createRequestForBookmarks(),this.pdfViewer.annotationModule&&(this.pdfViewer.toolbarModule&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.initializeAcccordionContainer(),this.pdfViewer.isCommandPanelOpen&&this.pdfViewer.annotation.showCommentsPanel(),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.createRequestForComments())},e.prototype.orderPageDivElements=function(e,t){var i=this.getElement("_pageDiv_"+(t+1));this.pageContainer&&e&&(i?this.pageContainer.insertBefore(e,i):this.pageContainer.appendChild(e))},e.prototype.renderPageCanvas=function(e,i,n,o,r){if(e){var a=this.getElement("_pageCanvas_"+o);return a?(a.width=i,a.height=n,a.style.display="block",this.isMixedSizeDocument&&this.highestWidth>0&&(a.style.marginLeft="auto",a.style.marginRight="auto")):((a=(0,t.createElement)("img",{id:this.pdfViewer.element.id+"_pageCanvas_"+o,className:"e-pv-page-canvas"})).width=i,a.height=n,a.style.display=r,a.style.userSelect="none",this.isMixedSizeDocument&&this.highestWidth>0&&(a.style.marginLeft="auto",a.style.marginRight="auto"),e.appendChild(a)),a.setAttribute("alt",""),this.pdfViewer.annotationModule&&this.pdfViewer.annotation&&this.pdfViewer.annotationModule.createAnnotationLayer(e,i,n,o,r),(this.pdfViewer.textSearchModule||this.pdfViewer.textSelectionModule||this.pdfViewer.formFieldsModule||this.pdfViewer.annotationModule)&&this.textLayer.addTextLayer(o,i,n,e),this.pdfViewer.formDesignerModule&&!this.pdfViewer.annotationModule&&this.pdfViewer.formDesignerModule.createAnnotationLayer(e,i,n,o,r),a}},e.prototype.applyElementStyles=function(e,t){if(this.isMixedSizeDocument&&e){var i=document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+t),n=document.getElementById(this.pdfViewer.element.id+"_oldCanvas_"+t);e&&i&&i.offsetLeft>0?(e.style.marginLeft=i.offsetLeft+"px",e.style.marginRight=i.offsetLeft+"px"):n&&n.offsetLeft>0?(e.style.marginLeft=n.offsetLeft+"px",e.style.marginRight=n.offsetLeft+"px"):(e.style.marginLeft="auto",e.style.marginRight="auto")}},e.prototype.updateLeftPosition=function(e){var i,n=this.viewerContainer.getBoundingClientRect().width;if(0===n&&(n=parseFloat(this.pdfViewer.width.toString())),this.isMixedSizeDocument&&this.highestWidth>0){i=this.viewerContainer.clientWidth>0?(this.viewerContainer.clientWidth-this.highestWidth*this.getZoomFactor())/2:(n-this.highestWidth*this.getZoomFactor())/2;var o=(this.highestWidth*this.getZoomFactor()-this.getPageWidth(e))/2;i>0?i+=o:i=o,this.pageContainer.style.width=this.highestWidth*this.getZoomFactor()>this.viewerContainer.clientWidth?this.highestWidth*this.getZoomFactor()+"px":this.viewerContainer.clientWidth+"px"}else i=this.viewerContainer.clientWidth>0?(this.viewerContainer.clientWidth-this.getPageWidth(e))/2:(n-this.getPageWidth(e))/2;if(this.pageSize[parseInt(e.toString(),10)].width>this.pageSize[parseInt(e.toString(),10)].height&&!0,i<0||this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isAutoZoom&&this.getZoomFactor()<1||"fitToWidth"===this.pdfViewer.magnificationModule.fitType)){var r=i;(i=i>0&&t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?r:this.pageLeft)>0&&this.isMixedSizeDocument&&r>0&&(i=r)}if(this.viewerContainer.clientHeight>=this.viewerContainer.scrollHeight&&this.previousScrollbarWidth>0){var a=this.navigationPane.getViewerContainerScrollbarWidth();i-=(this.previousScrollbarWidth-a)/2}return i},e.prototype.applyLeftPosition=function(e){var t;if(this.pageSize[parseInt(e.toString(),10)]){if(this.isMixedSizeDocument&&this.highestWidth>0){t=this.viewerContainer.clientWidth>0?(this.viewerContainer.clientWidth-this.highestWidth*this.getZoomFactor())/2:(this.viewerContainer.getBoundingClientRect().width-this.highestWidth*this.getZoomFactor())/2;var i=(this.highestWidth*this.getZoomFactor()-this.getPageWidth(e))/2;t>0?t+=i:t=i}else t=this.viewerContainer.clientWidth>0?(this.viewerContainer.clientWidth-this.pageSize[parseInt(e.toString(),10)].width*this.getZoomFactor())/2:(this.viewerContainer.getBoundingClientRect().width-this.pageSize[parseInt(e.toString(),10)].width*this.getZoomFactor())/2;if(this.pageSize[parseInt(e.toString(),10)].width>this.pageSize[parseInt(e.toString(),10)].height&&!0,t<0||this.pdfViewer.magnificationModule&&(this.pdfViewer.magnificationModule.isAutoZoom&&this.getZoomFactor()<1||"fitToWidth"===this.pdfViewer.magnificationModule.fitType)){var n=t;t=this.pageLeft,n>0&&this.isMixedSizeDocument&&(t=n)}var o=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+e);o&&(this.pdfViewer.enableRtl?o.style.right=t+"px":o.style.left=t+"px")}},e.prototype.updatePageHeight=function(e,t){return(e-t)/e*100+"%"},e.prototype.getPageNumberFromClientPoint=function(e){for(var t=e.x+this.viewerContainer.scrollLeft,i=e.y+this.viewerContainer.scrollTop,n=0;n<this.pageCount;n++){var o=this.pageSize[parseInt(n.toString(),10)].height+this.viewerContainer.scrollTop;if(i<this.pageSize[parseInt(n.toString(),10)].top+o){var r=this.getElement("_pageViewContainer").getBoundingClientRect(),a=(r.width-this.pageSize[parseInt(n.toString(),10)].width)/2+r.x,s=0;if((s=i>this.pageSize[parseInt(n.toString(),10)].top?i-this.pageSize[parseInt(n.toString(),10)].top:this.pageSize[parseInt(n.toString(),10)].top-i)>0&&null!=this.pageSize[parseInt(n.toString(),10)]){this.getPageHeight(n);if(a>=0&&(t<a||t>a+this.pageSize[parseInt(n.toString(),10)].width))return-1;if(s<=this.getPageTop(n)+o)return n+1}}}return-1},e.prototype.convertClientPointToPagePoint=function(e,t){if(-1!==t){var i=this.getElement("_pageViewContainer").getBoundingClientRect(),n=(i.width-this.pageSize[t-1].width)/2+i.x;return{x:e.x+this.viewerContainer.scrollLeft-n,y:e.y+this.viewerContainer.scrollTop-this.pageSize[t-1].top}}return null},e.prototype.convertPagePointToClientPoint=function(e,t){if(-1!==t){var i=this.getElement("_pageViewContainer").getBoundingClientRect(),n=(i.width-this.pageSize[t-1].width)/2+i.x;return{x:e.x+n,y:e.y+this.pageSize[t-1].top}}return null},e.prototype.convertPagePointToScrollingPoint=function(e,t){return-1!==t?{x:e.x+this.viewerContainer.scrollLeft,y:e.y+this.viewerContainer.scrollTop}:null},e.prototype.initiatePageViewScrollChanged=function(){this.scrollHoldTimer&&clearTimeout(this.scrollHoldTimer),this.scrollHoldTimer=null,this.scrollPosition*this.getZoomFactor()!==this.viewerContainer.scrollTop&&(this.scrollPosition=this.viewerContainer.scrollTop,this.pageViewScrollChanged(this.currentPageNumber))},e.prototype.renderCountIncrement=function(){this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.renderCountIncrement()},e.prototype.pageViewScrollChanged=function(e){this.isPanMode?-1===this.renderedPagesList.indexOf(e-1)&&(this.reRenderedCount=0):this.reRenderedCount=0;var t=e-1;if(e!==this.previousPage&&e<=this.pageCount){var i=!1;this.clientSideRendering?this.getLinkInformation(t):this.getStoredData(t);this.isDataExits&&!this.getStoredData(t)&&(i=!0),-1!==this.renderedPagesList.indexOf(t)||this.getMagnified()||i||this.isScrollerMoving||(this.renderCountIncrement(),this.createRequestForRender(t))}if(!this.getMagnified()&&!this.getPagesPinchZoomed()){var n=t-1,o=(i=!1,this.getElement("_pageCanvas_"+n));this.clientSideRendering?this.getLinkInformation(n):this.getStoredData(n);this.isDataExits&&!this.getStoredData(n)&&(i=!0),null===o||i||-1!==this.renderedPagesList.indexOf(n)||this.getMagnified()||this.isScrollerMoving||(this.renderCountIncrement(),this.createRequestForRender(n)),this.isMinimumZoom&&this.renderPreviousPagesInScroll(n);var r=t+1,a=0;if(r<this.pageCount)if(a=this.getPageHeight(r),(this.isMinimumZoom?this.isMinimumZoom:-1===this.renderedPagesList.indexOf(r))&&!this.getMagnified()&&a)if(this.isDocumentLoaded&&this.pdfViewer.initialRenderPages>this.pageRenderCount&&this.getPageHeight(this.pdfViewer.initialRenderPages-1)+this.getPageTop(this.pdfViewer.initialRenderPages-1)>this.viewerContainer.clientHeight)for(var s=this.pdfViewer.initialRenderPages<=this.pageCount?this.pdfViewer.initialRenderPages:this.pageCount,l=1;l<s;l++)this.createRequestForRender(l);else if(!this.isScrollerMoving)for(this.createRequestForRender(r),this.renderCountIncrement();this.viewerContainer.clientHeight>a&&(r+=1)<this.pageCount;)this.renderPageElement(r),this.createRequestForRender(r),a+=this.getPageHeight(r),this.renderCountIncrement()}},e.prototype.renderPreviousPagesInScroll=function(e){var t=e-1,i=t-1;t>0&&(-1!==this.renderedPagesList.indexOf(t)||this.getMagnified()||(this.createRequestForRender(t),this.renderCountIncrement()),i>0&&(-1!==this.renderedPagesList.indexOf(i)||this.getMagnified()||(this.createRequestForRender(i),this.renderCountIncrement())))},e.prototype.downloadDocument=function(e){e=(URL||webkitURL).createObjectURL(e);var i=(0,t.createElement)("a");if(i.click){if(i.href=e,i.target="_parent","download"in i)if((0,t.isNullOrUndefined)(this.downloadFileName))i.download="Default.pdf";else if(this.downloadFileName.endsWith(".pdf"))i.download=this.downloadFileName;else{var n=this.downloadFileName.split(".pdf")[0]+".pdf";i.download=n}(document.body||document.documentElement).appendChild(i),i.click(),i.parentNode.removeChild(i)}else{if(window.top===window&&e.split("#")[0]===window.location.href.split("#")[0]){var o=-1===e.indexOf("?")?"?":"&";e=e.replace(/#|$/,o+"$&")}window.open(e,"_parent")}},e.prototype.downloadExportFormat=function(e,i,n,o){var r="Json"===i||"Json"===n,a=r?".json":"Fdf"===n?".fdf":"Xml"===n?".xml":"Xfdf"===i||"Xfdf"===n?".xfdf":null;if(!(0,t.isNullOrUndefined)(a)){e=(URL||webkitURL).createObjectURL(e);var s=(0,t.createElement)("a");if(s.click)s.href=e,s.target="_parent","download"in s&&(null!==this.pdfViewer.exportAnnotationFileName?s.download=this.pdfViewer.exportAnnotationFileName.split(".")[0]+a:s.download=this.pdfViewer.fileName.split(".")[0]+a),(document.body||document.documentElement).appendChild(s),s.click(),s.parentNode.removeChild(s),o?this.pdfViewer.fireFormExportSuccess(e,s.download):this.pdfViewer.fireExportSuccess(e,s.download);else if(r){if(window.top===window&&e.split("#")[0]===window.location.href.split("#")[0]){var l=-1===e.indexOf("?")?"?":"&";e=e.replace(/#|$/,l+"$&")}window.open(e,"_parent"),o?this.pdfViewer.fireFormExportSuccess(e,this.pdfViewer.fileName.split(".")[0]+a):this.pdfViewer.fireExportSuccess(e,this.pdfViewer.fileName.split(".")[0]+a)}}},e.prototype.exportFormFields=function(e,t){this.createRequestForExportFormfields(!1,t,e)},e.prototype.importFormFields=function(e,t){this.createRequestForImportingFormfields(e,t)},e.prototype.createRequestForExportFormfields=function(e,t,i){var n,o=this;n=this;var r=new Promise((function(r,a){var s=n.createFormfieldsJsonData(),l=!1;if("Json"!==t&&"Fdf"!==t&&"Xfdf"!==t&&"Xml"!==t||(s.formFieldDataFormat=t,l=n.pdfViewer.fireFormExportStarted(s)),l){s.action="ExportFormFields",s.hashId=n.hashId,s.fileName=n.pdfViewer.fileName,i&&""!==i&&!e&&(s.filePath=i),s.elementId=o.pdfViewer.element.id,n.jsonDocumentId&&(s.document=n.jsonDocumentId);var d=o.getFormFieldsPageList(s.formDesigner);s.formFieldsPageList=JSON.stringify(d),s.isFormFieldAnnotationsExist=o.isAnnotationsExist(s.formDesigner)||o.isFieldsDataExist(s.fieldsData)||d.length>0;var h=n.pdfViewer.serviceUrl+"/"+n.pdfViewer.serverActionSettings.exportFormFields;if(n.exportFormFieldsRequestHandler=new hd(o.pdfViewer),n.exportFormFieldsRequestHandler.url=h,n.exportFormFieldsRequestHandler.mode=!0,n.exportFormFieldsRequestHandler.responseType="text",n.validateForm&&n.pdfViewer.enableFormFieldsValidation)n.pdfViewer.fireValidatedFailed(n.pdfViewer.serverActionSettings.download),n.validateForm=!1;else if(n.clientSideRendering){var A=n.pdfViewer.pdfRendererModule.exportFormFields(s,e),p=new TextDecoder("utf-8").decode(A);if(e){var c=o.getDataOnSuccess(p);r(c)}else n.exportFileDownload(A,n,t,s,e)}else n.exportFormFieldsRequestHandler.send(s);n.exportFormFieldsRequestHandler.onSuccess=function(i){var o=i.data;if(!n.checkRedirection(o)&&o)if(e){var a=n.exportFileDownload(o,n,t,s,e);r(a)}else n.exportFileDownload(o,n,t,s,e)},n.exportFormFieldsRequestHandler.onFailure=function(e){n.pdfViewer.fireFormExportFailed(s.pdfAnnotation,e.statusText)},n.exportFormFieldsRequestHandler.onError=function(e){n.pdfViewer.fireFormExportFailed(s.pdfAnnotation,e.statusText)}}}));return!e||r},e.prototype.exportFileDownload=function(e,i,n,o,r){return this.clientSideRendering?new Promise((function(a){if(e)if(i.clientSideRendering||i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.exportFormFields,e),r){var s=decodeURIComponent(escape(atob(e.split(",")[1])));a(s),i.pdfViewer.fireFormExportSuccess(s,i.pdfViewer.fileName)}else if(e&&"string"!=typeof e){var l=new Blob([e],{type:"application/json"});t.Browser.isIE||"edge"===t.Browser.info.name?window.navigator.msSaveOrOpenBlob(l,i.pdfViewer.fileName.split(".")[0]+".json"):"Json"!==o.formFieldDataFormat&&"Fdf"!==o.formFieldDataFormat&&"Xfdf"!==o.formFieldDataFormat&&"Xml"!==o.formFieldDataFormat||i.downloadExportFormat(l,null,n,!0)}})):new Promise((function(a){if(e)if(i.clientSideRendering||i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.exportFormFields,e),r){var s=decodeURIComponent(escape(atob(e.split(",")[1])));a(s),i.pdfViewer.fireFormExportSuccess(s,i.pdfViewer.fileName)}else if(e.split("base64,")[1]){var l=i.createBlobUrl(e.split("base64,")[1],"application/json");t.Browser.isIE||"edge"===t.Browser.info.name?window.navigator.msSaveOrOpenBlob(l,i.pdfViewer.fileName.split(".")[0]+".json"):"Json"!==o.formFieldDataFormat&&"Fdf"!==o.formFieldDataFormat&&"Xfdf"!==o.formFieldDataFormat&&"Xml"!==o.formFieldDataFormat||i.downloadExportFormat(l,null,n,!0)}}))},e.prototype.getLastIndexValue=function(e,t){return e.slice(e.lastIndexOf(t)+1)},e.prototype.createRequestForImportingFormfields=function(i,n){var o;o=this;var r={},a=this.getLastIndexValue(i,".");"object"==typeof i||"json"!==a&&"fdf"!==a&&"xfdf"!==a&&"xml"!==a?(r.formFieldDataFormat=n,r.data="Json"===n?JSON.stringify(i):i):(r.data=i,r.fileName=o.pdfViewer.fileName,r.formFieldDataFormat=n),o.pdfViewer.fireFormImportStarted(i),r.hashId=o.hashId,r.elementId=this.pdfViewer.element.id,o.jsonDocumentId&&(r.document=o.jsonDocumentId),(r=Object.assign(r,this.constructJsonDownload())).action="ImportFormFields";var s=o.pdfViewer.serviceUrl+"/"+o.pdfViewer.serverActionSettings.importFormFields;if(o.importFormFieldsRequestHandler=new hd(this.pdfViewer),o.importFormFieldsRequestHandler.url=s,o.importFormFieldsRequestHandler.mode=!0,o.importFormFieldsRequestHandler.responseType="text",o.clientSideRendering){var l=o.pdfViewer.pdfRendererModule.importFormFields(r);this.importClientSideFormFields(l,i)}else o.importFormFieldsRequestHandler.send(r);o.importFormFieldsRequestHandler.onSuccess=function(n){var r=n.data;if(!o.checkRedirection(r))if(r&&"null"!==r){if("object"!=typeof r)try{"object"!=typeof(r=JSON.parse(r))&&(o.onControlError(500,r,o.pdfViewer.serverActionSettings.importFormFields),o.pdfViewer.fireFormImportFailed(i,n.statusText),r=null)}catch(e){if(o.pdfViewer.fireFormImportFailed(i,o.pdfViewer.localeObj.getConstant("File not found")),(0,t.isBlazor)())this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_FileNotFound").then((function(e){o.openImportExportNotificationPopup(e)}));else o.openImportExportNotificationPopup(o.pdfViewer.localeObj.getConstant("File not found"));o.onControlError(500,r,o.pdfViewer.serverActionSettings.importFormFields),r=null}o.pdfViewer.fireAjaxRequestSuccess(o.pdfViewer.serverActionSettings.importFormFields,r),o.pdfViewer.fireFormImportSuccess(i),e.sessionStorageManager.removeItem(this.documentId+"_formfields"),this.pdfViewer.formFieldsModule.removeExistingFormFields(),e.sessionStorageManager.removeItem(this.documentId+"_formDesigner"),o.saveFormfieldsData(r);for(var a=0;a<o.renderedPagesList.length;a++)this.pdfViewer.formFieldsModule.renderFormFields(o.renderedPagesList[parseInt(a.toString(),10)],!0)}else{if(o.pdfViewer.fireFormImportFailed(i,n.statusText),(0,t.isBlazor)())this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_FileNotFound").then((function(e){o.openImportExportNotificationPopup(e)}));else o.openImportExportNotificationPopup(o.pdfViewer.localeObj.getConstant("File not found"))}},o.importFormFieldsRequestHandler.onFailure=function(e){o.pdfViewer.fireFormImportFailed(i,e.statusText)},o.importFormFieldsRequestHandler.onError=function(e){o.pdfViewer.fireFormImportFailed(i,e.statusText)}},e.prototype.importClientSideFormFields=function(i,n){if((0,t.isNullOrUndefined)(i))this.pdfViewer.fireFormImportFailed(n,null),this.openImportExportNotificationPopup(this.pdfViewer.localeObj.getConstant("File not found"));else{this.pdfViewer.fireFormImportSuccess(n),this.pdfViewer.viewerBase.existingFieldImport=!1,e.sessionStorageManager.removeItem(this.documentId+"_formfields"),this.pdfViewer.formFieldsModule.removeExistingFormFields(),e.sessionStorageManager.removeItem(this.documentId+"_formDesigner"),this.saveFormfieldsData(i);for(var o=0;o<this.renderedPagesList.length;o++)this.pdfViewer.formFieldsModule.renderFormFields(this.renderedPagesList[parseInt(o.toString(),10)],!0)}},e.prototype.createFormfieldsJsonData=function(){var e={};if(this.pdfViewer.formDesignerModule){var t=this.pdfViewer.formDesignerModule.downloadFormDesigner();e.formDesigner=t}else if(this.pdfViewer.formFieldsModule){t=this.pdfViewer.formFieldsModule.downloadFormFieldsData();e.fieldsData=t}return e},e.prototype.constructJsonDownload=function(){var e={hashId:this.hashId};if(this.jsonDocumentId&&(e.documentId=this.jsonDocumentId),e.uniqueId=this.documentId,this.importPageList=[],this.pdfViewer.annotationModule&&this.saveImportedAnnotations(),this.isTextMarkupAnnotationModule()){this.isJsonExported=!1;var i=this.pdfViewer.annotationModule.textMarkupAnnotationModule.saveTextMarkupAnnotations();e.textMarkupAnnotations=i}if(this.isShapeAnnotationModule()){this.isJsonExported=!1;var n=this.pdfViewer.annotationModule.shapeAnnotationModule.saveShapeAnnotations();e.shapeAnnotations=n}if(this.isCalibrateAnnotationModule()){this.isJsonExported=!1;var o=this.pdfViewer.annotationModule.measureAnnotationModule.saveMeasureShapeAnnotations();e.measureShapeAnnotations=o}if(this.isStampAnnotationModule()){var r=this.pdfViewer.annotationModule.stampAnnotationModule.saveStampAnnotations();e.stampAnnotations=r}if(this.isCommentAnnotationModule()){var a=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveStickyAnnotations();e.stickyNotesAnnotation=a}if(this.isImportAction){var s=JSON.stringify(this.importPageList);e.importPageList=s}if(this.pdfViewer.formDesignerModule){var l=this.pdfViewer.formDesignerModule.downloadFormDesigner();e.formDesigner=l}if(this.pdfViewer.formFieldsModule&&(0,t.isNullOrUndefined)(e.formDesigner)){l=this.pdfViewer.formFieldsModule.downloadFormFieldsData();e.fieldsData=l}var d=this.signatureModule.saveSignature();if(e.signatureData=d,this.pdfViewer.isSignatureEditable&&(e.isSignatureEdited=this.pdfViewer.isSignatureEditable),this.isFreeTextAnnotationModule()){var h=this.pdfViewer.annotationModule.freeTextAnnotationModule.saveFreeTextAnnotations();e.freeTextAnnotation=h}if(this.isInkAnnotationModule()){var A=this.pdfViewer.annotationModule.inkAnnotationModule.saveInkSignature();e.inkSignatureData=A}if(e.action="Download",e.elementId=this.pdfViewer.element.id,this.pdfViewer.annotationModule){var p=this.getAnnotationsPageList();e.isAnnotationsExist=this.isAnnotationsExist(e.textMarkupAnnotations)||this.isAnnotationsExist(e.shapeAnnotations)||this.isAnnotationsExist(e.measureShapeAnnotations)||this.isAnnotationsExist(e.stampAnnotations)||this.isAnnotationsExist(e.stickyNotesAnnotation)||this.isAnnotationsExist(e.signatureData)||this.isAnnotationsExist(e.freeTextAnnotation)||this.isAnnotationsExist(e.inkSignatureData)||p.length>0,e.annotationsPageList=JSON.stringify(p)}if(this.pdfViewer.formDesignerModule||this.pdfViewer.formFieldsModule){var c=this.getFormFieldsPageList(e.formDesigner);e.isFormFieldAnnotationsExist=this.isAnnotationsExist(e.formDesigner)||this.isFieldsDataExist(e.fieldsData)||c.length>0,e.formFieldsPageList=JSON.stringify(c)}return this.pdfViewer.annotationCollection&&(e.annotationCollection=JSON.stringify(this.pdfViewer.annotationCollection)),e},e.prototype.isAnnotationsExist=function(e){return!(0,t.isNullOrUndefined)(e)&&JSON.parse(e).flat(1).length>0},e.prototype.isFieldsDataExist=function(e){return!(0,t.isNullOrUndefined)(e)&&0!==Object.entries(JSON.parse(e)).length},e.prototype.getAnnotationsPageList=function(){var e=this.pdfViewer.annotationCollection.map((function(e){return e.pageNumber})),i=this.pdfViewer.annotationModule.actionCollection.filter((function(e){return"formFields"!==e.annotation.propName&&(0,t.isNullOrUndefined)(e.annotation.formFieldAnnotationType)})).map((function(e){return e.pageIndex}));return e.concat(i,this.modifiedPageIndex).filter((function(e,t,i){return i.indexOf(e)===t&&void 0!==e}))},e.prototype.getFormFieldsPageList=function(e){var i,n=this.pdfViewer.formFieldCollection.map((function(e){return(0,t.isNullOrUndefined)(e.properties)?e.pageNumber+1:e.properties.pageNumber})),o=(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule)?[]:this.pdfViewer.annotationModule.actionCollection.filter((function(e){return"formFields"===e.annotation.propName||!(0,t.isNullOrUndefined)(e.annotation.formFieldAnnotationType)})).map((function(e){return e.pageIndex})),r=n.concat(o);return(0,t.isNullOrUndefined)(e)||(i=JSON.parse(e).map((function(e){return e.FormField.pageNumber}))),r.concat(i).filter((function(e,i,n){return n.indexOf(e)===i&&!(0,t.isNullOrUndefined)(e)}))},e.prototype.checkFormFieldCollection=function(e){var t,i=!1;if(t=this.getItemFromSessionStorage("_formDesigner"))for(var n=JSON.parse(t),o=0;o<n.length;o++)if("RadioButton"===n[parseInt(o.toString(),10)].FormField.formFieldAnnotationType){for(var r=0;r<n[parseInt(o.toString(),10)].FormField.radiobuttonItem.length;r++)if(e===n[parseInt(o.toString(),10)].FormField.radiobuttonItem[parseInt(r.toString(),10)].id.split("_")[0]){i=!0;break}}else if(n[parseInt(o.toString(),10)].Key.split("_")[0]===e){i=!0;break}return i},e.prototype.isFreeTextAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.freeTextAnnotationModule)},e.prototype.createRequestForDownload=function(){var e;if((e=this).pdfViewer.fireDownloadStart(e.downloadFileName)){var i=this.constructJsonDownload();if((e.clientSideRendering?e.isDigitalSignaturePresent:e.digitalSignaturePages&&0!==e.digitalSignaturePages.length)&&(e.pdfViewer.isDocumentEdited?i.digitalSignatureDocumentEdited=!0:i.digitalSignatureDocumentEdited=!1),(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer)||(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer.organizePagesCollection)||!this.pdfViewer.pageOrganizer.isDocumentModified||(i.organizePages=JSON.stringify(this.pdfViewer.pageOrganizer.organizePagesCollection)),this.dowonloadRequestHandler=new hd(this.pdfViewer),this.dowonloadRequestHandler.url=e.pdfViewer.serviceUrl+"/"+e.pdfViewer.serverActionSettings.download,this.dowonloadRequestHandler.responseType="text",this.validateForm&&this.pdfViewer.enableFormFieldsValidation)this.pdfViewer.fireValidatedFailed(e.pdfViewer.serverActionSettings.download),this.validateForm=!1;else if(this.clientSideRendering){var n=this.pdfViewer.pdfRendererModule.getDocumentAsBase64(i);this.fileDownload(n,this)}else this.dowonloadRequestHandler.send(i);this.dowonloadRequestHandler.onSuccess=function(t){var i=t.data;e.checkRedirection(i)||(i?e.fileDownload(i,e):e.pdfViewer.fireDownloadEnd(e.downloadFileName,"PDF Document saved in server side successfully"))},this.dowonloadRequestHandler.onFailure=function(t){e.pdfViewer.fireAjaxRequestFailed(t.status,t.statusText,e.pdfViewer.serverActionSettings.download)},this.dowonloadRequestHandler.onError=function(t){e.openNotificationPopup(),e.pdfViewer.fireAjaxRequestFailed(t.status,t.statusText,e.pdfViewer.serverActionSettings.download)}}},e.prototype.fileDownload=function(e,i,n){if(void 0===n&&(n=!1),this.clientSideRendering){if(e){if("object"!=typeof e&&(i.onControlError(500,e,i.pdfViewer.serverActionSettings.download),e=null),e){i.pdfViewer.downloadFileName&&i.pdfViewer.downloadFileName!==i.downloadFileName&&(i.downloadFileName=i.pdfViewer.downloadFileName),this.pdfViewer.enableHtmlSanitizer&&i.pdfViewer.downloadFileName&&(i.pdfViewer.downloadFileName=t.SanitizeHtmlHelper.sanitize(i.pdfViewer.downloadFileName)),i.clientSideRendering&&!n&&i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.download,e);o=new Blob([e],{type:"application/pdf"});t.Browser.isIE||"edge"===t.Browser.info.name?window.navigator.msSaveOrOpenBlob(o,i.downloadFileName):i.downloadDocument(o),n||i.pdfViewer.fireDownloadEnd(i.downloadFileName,e)}n||i.updateDocumentAnnotationCollections()}}else if(e){if("object"!=typeof e&&-1===e.indexOf("data:application/pdf")&&(i.onControlError(500,e,i.pdfViewer.serverActionSettings.download),e=null),"object"==typeof e&&(e=JSON.parse(e)),e){i.pdfViewer.downloadFileName&&i.pdfViewer.downloadFileName!==i.downloadFileName&&(i.downloadFileName=i.pdfViewer.downloadFileName),this.pdfViewer.enableHtmlSanitizer&&i.pdfViewer.downloadFileName&&(i.pdfViewer.downloadFileName=t.SanitizeHtmlHelper.sanitize(i.pdfViewer.downloadFileName)),i.clientSideRendering&&!n&&i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.download,e);var o=i.createBlobUrl(e.split("base64,")[1],"application/pdf");t.Browser.isIE||"edge"===t.Browser.info.name?window.navigator.msSaveOrOpenBlob(o,i.downloadFileName):i.downloadDocument(o),n||i.pdfViewer.fireDownloadEnd(i.downloadFileName,e)}n||i.updateDocumentAnnotationCollections()}},e.prototype.getTileCount=function(e,t){if(e&&"number"==typeof e){var i=1;i=this.getZoomFactor()>2&&e<=1200?2:e/816;var n=Math.ceil(i);return n<=0?1:this.pdfViewer.tileRenderingSettings.enableTileRendering?n:1}return 1},e.prototype.createRequestForRender=function(e){var n,o,r,a,s=(r=this).getElement("_pageCanvas_"+e),l=r.getElement("_oldCanvas_"+e);if(this.pageSize&&this.pageSize[parseInt(e.toString(),10)]){var d=this.pageSize[parseInt(e.toString(),10)].width,h=this.pageSize[parseInt(e.toString(),10)].height,A=(this.getElement("_pageCanvas_"+e),1200),p=r.pdfViewer.element.clientHeight>0?r.pdfViewer.element.clientHeight:r.pdfViewer.element.style.height;A=parseInt(A,10),p=parseInt(p,10)?parseInt(p,10):500;var c=void 0,g=void 0,u=void 0,f=new Object,m=document.getElementById(this.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+e);this.isMinimumZoom&&m&&m.children[0]&&!(0,t.isNullOrUndefined)(m.children[0].src)&&""!==m.children[0].src?(this.renderThumbnailImages=!0,u=m.children[0].src):this.renderThumbnailImages=!1;var w=this.getTileCount(d,h);if(s){isNaN(parseFloat(s.style.width))&&!l||r.isInitialLoaded&&r.showPageLoadingIndicator(e,!1);var y=r.getStoredData(e);c=g=w;var S=r.pdfViewer.tileRenderingSettings;S.enableTileRendering&&S.x>0&&S.y>0&&(A<d||this.getZoomFactor()>2)&&(c=S.x,g=S.y),r.tileRequestCount=c*g;var C=this.retrieveCurrentZoomFactor(),B=void 0;if(1===w)y=r.getStoredData(e),B=r.pageRequestSent(e,0,0);else{var I=JSON.parse(r.getWindowSessionStorageTile(e,0,0,C));w>1&&(y=I)}if(y&&y.uniqueId===r.documentId&&(y.image||this.isMinimumZoom)){if(s.style.backgroundColor="#fff",r.pdfViewer.magnification&&r.pdfViewer.magnification.isPinchZoomed||!this.pageSize[parseInt(e.toString(),10)])return;var b=this.retrieveCurrentZoomFactor();if(A=b>2&&d<=1200?700:1200,r.pdfViewer.tileRenderingSettings.enableTileRendering||(A=1200),(A>=d||!r.pdfViewer.tileRenderingSettings.enableTileRendering)&&1===w)this.renderThumbnailImages&&1===w?r.renderPage(y,e,u):r.renderPage(y,e);else if(r.isTileImageRendered=!0,r.tileRenderCount=0,this.renderThumbnailImages&&1===w)r.renderPage(y,e,u);else{r.tileRenderPage(y,e);for(var v=0;v<c;v++)for(var E=0;E<g;E++)0===v&&0===E||(y=this.clientSideRendering?JSON.parse(this.getStoredTileImageDetails(e,v,E,b)):JSON.parse(this.getWindowSessionStorageTile(e,v,E,b)))&&r.tileRenderPage(y,e)}y=null}else if(null===y||!B){if(this.renderThumbnailImages||(this.getPagesPinchZoomed()?r.showPageLoadingIndicator(e,!1):r.showPageLoadingIndicator(e,!0),r.getPagesZoomed()&&r.isInitialLoaded&&r.showPageLoadingIndicator(e,!1)),r.pdfViewer.magnification&&r.pdfViewer.magnification.isPinchZoomed)return;r.pdfViewer.tileRenderingSettings.enableTileRendering&&!this.renderThumbnailImages||(c=1,g=1),r.tileRenderCount=0,r.isTileImageRendered=!0;for(var x=0;x<c;x++)for(var _=0;_<g;_++){var D=null,M=this.retrieveCurrentZoomFactor();if(A=M>2&&d<=1200?700:1200,r.pdfViewer.tileRenderingSettings.enableTileRendering||(A=1200),this.renderThumbnailImages&&!this.clientSideRendering){if(r.renderPage(f,e,u),-1===this.textrequestLists.indexOf(e)&&(D={pageStartIndex:e,pageEndIndex:e+1,documentId:r.getDocumentId(),hashId:r.hashId,action:"RenderPdfTexts",elementId:r.pdfViewer.element.id,uniqueId:r.documentId},this.jsonDocumentId&&(D.documentId=this.jsonDocumentId),this.textRequestHandler=new hd(this.pdfViewer),this.textRequestHandler.url=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.renderTexts,this.textRequestHandler.responseType="json",this.clientSideRendering||((a=JSON.parse(JSON.stringify(D))).action="pageRenderInitiate",r.pdfViewer.firePageRenderInitiate(a),this.textRequestHandler.send(D)),this.textrequestLists.push(e),r.textRequestHandler.onSuccess=function(t){if(!(r.pdfViewer.magnification&&r.pdfViewer.magnification.isPinchZoomed||!r.pageSize[parseInt(e.toString(),10)])){var i=t.data;if(i&&"object"!=typeof i)try{i=JSON.parse(i)}catch(e){r.onControlError(500,i,r.pdfViewer.serverActionSettings.renderTexts),i=null}i&&r.pageTextRequestOnSuccess(i,r,e)}},this.textRequestHandler.onFailure=function(e){r.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,r.pdfViewer.serverActionSettings.renderTexts)},this.textRequestHandler.onError=function(e){r.openNotificationPopup(),r.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,r.pdfViewer.serverActionSettings.renderTexts)},this.clientSideRendering)){this.pdfViewer.pdfRendererModule.getDocumentText(D,"pageTextRequest")}}else if(D={xCoordinate:x.toString(),yCoordinate:_.toString(),viewPortWidth:A.toString(),viewPortHeight:p.toString(),pageNumber:e.toString(),hashId:r.hashId,tilecount:w.toString(),tileXCount:c.toString(),tileYCount:g.toString(),zoomFactor:M.toString(),action:"RenderPdfPages",uniqueId:this.documentId,elementId:r.pdfViewer.element.id,digitalSignaturePresent:r.digitalSignaturePresent(e)},this.jsonDocumentId&&(D.documentId=this.jsonDocumentId),r.pageRequestHandler=new hd(this.pdfViewer),r.pageRequestHandler.url=r.pdfViewer.serviceUrl+"/"+r.pdfViewer.serverActionSettings.renderPages,r.pageRequestHandler.responseType="json",(0,t.isNullOrUndefined)(r.hashId)||(0==D.xCoordinate&&0==D.yCoordinate&&((a=JSON.parse(JSON.stringify(D))).action="pageRenderInitiate",this.clientSideRendering||r.pdfViewer.firePageRenderInitiate(a)),this.requestCollection.push(this.pageRequestHandler),this.clientSideRendering||r.pageRequestHandler.send(D)),r.requestLists.push(r.documentId+"_"+e+"_"+x+"_"+_+"_"+M),r.pageRequestHandler.onSuccess=function(t){if(!(r.pdfViewer.magnification&&r.pdfViewer.magnification.isPinchZoomed||!r.pageSize[parseInt(e.toString(),10)])){var i=t.data;if(r.checkRedirection(i))r.showLoadingIndicator(!1);else{if(i&&"object"!=typeof i)try{i=JSON.parse(i)}catch(e){r.onControlError(500,i,r.pdfViewer.serverActionSettings.renderPages),i=null}i&&r.pageRequestOnSuccess(i,r,A,d,e)}}},this.pageRequestHandler.onFailure=function(e){r.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,r.pdfViewer.serverActionSettings.renderPages)},this.pageRequestHandler.onError=function(e){r.openNotificationPopup(),r.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,r.pdfViewer.serverActionSettings.renderPages)},this.clientSideRendering){var V=r.documentId+"_"+e+"_textDetails",Q=!r.pageTextDetails||!r.pageTextDetails[""+V],F=this.pdfViewer.pdfRenderer.loadedDocument.getPage(e),T=new i.Rect(0,0,0,0),k=new i.Rect(0,0,0,0);F&&F._pageDictionary&&F._pageDictionary._map&&F._pageDictionary._map.CropBox&&(n=F._pageDictionary._map.CropBox,T.x=n[0],T.y=n[1],T.width=n[2],T.height=n[3]),F&&F._pageDictionary&&F._pageDictionary._map&&F._pageDictionary._map.MediaBox&&(o=F._pageDictionary._map.MediaBox,k.x=o[0],k.y=o[1],k.width=o[2],k.height=o[3]),A>=d||!r.pdfViewer.tileRenderingSettings.enableTileRendering?((a=JSON.parse(JSON.stringify(D))).action="pageRenderInitiate",r.pdfViewer.firePageRenderInitiate(a),this.pdfViewerRunner.postMessage({pageIndex:e,message:"renderPage",zoomFactor:M,isTextNeed:Q,textDetailsId:V,cropBoxRect:T,mediaBoxRect:k})):(this.showPageLoadingIndicator(e,!0),0==D.xCoordinate&&0==D.yCoordinate&&((a=JSON.parse(JSON.stringify(D))).action="pageRenderInitiate",r.pdfViewer.firePageRenderInitiate(a)),this.pdfViewerRunner.postMessage({pageIndex:e,message:"renderImageAsTile",zoomFactor:M,tileX:x,tileY:_,tileXCount:c,tileYCount:g,isTextNeed:Q,textDetailsId:V,cropBoxRect:T,mediaBoxRect:k})),this.pdfViewerRunner.onmessage=function(e){switch(e.data.message){case"imageRendered":if("imageRendered"===e.data.message){var i=document.createElement("canvas"),n=e.data,o=n.value,a=n.width,s=n.height,l=n.pageIndex;i.width=a,i.height=s,(b=(I=i.getContext("2d")).createImageData(a,s)).data.set(o),I.putImageData(b,0,0);var h=i.toDataURL();r.releaseCanvas(i);var p=e.data.textBounds,c=e.data.textContent,g=e.data.pageText,u=e.data.rotation,f=e.data.characterBounds,m=r.pdfViewer.pdfRendererModule.getHyperlinks(l),w={image:h,pageNumber:l,uniqueId:r.documentId,pageWidth:e.data.pageWidth,zoomFactor:e.data.zoomFactor,hyperlinks:m.hyperlinks,hyperlinkBounds:m.hyperlinkBounds,linkAnnotation:m.linkAnnotation,linkPage:m.linkPage,annotationLocation:m.annotationLocation,characterBounds:f};if(e.data.isTextNeed)w.textBounds=p,w.textContent=c,w.rotation=u,w.pageText=g,r.storeTextDetails(l,p,c,g,u,f);else{var y=JSON.parse(r.pageTextDetails[""+e.data.textDetailsId]);w.textBounds=y.textBounds,w.textContent=y.textContent,w.rotation=y.rotation,w.pageText=y.pageText,w.characterBounds=y.characterBounds}if(w&&w.image&&!(0,t.isNullOrUndefined)(w.image.split("base64,")[1])&&w.uniqueId===r.documentId){w.pageWidth&&w.pageWidth>0&&w.pageWidth;r.pdfViewer.fireAjaxRequestSuccess(r.pdfViewer.serverActionSettings.renderPages,w);var S=void 0!==w.pageNumber?w.pageNumber:l,C=r.createBlobUrl(w.image.split("base64,")[1],"image/png"),B={image:N=(URL||webkitURL).createObjectURL(C),width:w.pageWidth,uniqueId:w.uniqueId,zoomFactor:w.zoomFactor};r.storeImageData(S,B),r.pageRequestOnSuccess(w,r,A,d,l)}}break;case"renderTileImage":if("renderTileImage"===e.data.message){var I,b,v=document.createElement("canvas"),E=e.data,x=(o=E.value,E.w),_=E.h,D=E.noTileX,M=E.noTileY,V=E.x,Q=E.y,F=E.pageIndex;v.setAttribute("height",_),v.setAttribute("width",x),v.width=x,v.height=_,(b=(I=v.getContext("2d")).createImageData(x,_)).data.set(o),I.putImageData(b,0,0);h=v.toDataURL();r.releaseCanvas(v);var T=x,k=_,P=(p=e.data.textBounds,c=e.data.textContent,g=e.data.pageText,u=e.data.rotation,f=e.data.characterBounds,{image:h,noTileX:D,noTileY:M,pageNumber:F,tileX:V,tileY:Q,uniqueId:r.documentId,pageWidth:d,width:T,transformationMatrix:{Values:[1,0,0,1,T*V,k*Q,0,0,0]},zoomFactor:e.data.zoomFactor,characterBounds:f,isTextNeed:e.data.isTextNeed,textDetailsId:e.data.textDetailsId,textBounds:p,textContent:c,pageText:g});if(P&&P.image&&P.uniqueId===r.documentId){P.pageWidth&&P.pageWidth>0&&P.pageWidth;r.pdfViewer.fireAjaxRequestSuccess(r.pdfViewer.serverActionSettings.renderPages,P);S=void 0!==P.pageNumber?P.pageNumber:F;if(0===V&&0===Q){C=r.createBlobUrl(P.image.split("base64,")[1],"image/png");var N=(URL||webkitURL).createObjectURL(C);if(P.isTextNeed)P.textBounds=p,P.textContent=c,P.rotation=u,P.pageText=g,r.storeTextDetails(F,p,c,g,u,f);else{y=JSON.parse(r.pageTextDetails[""+P.textDetailsId]);P.textBounds=y.textBounds,P.textContent=y.textContent,P.rotation=y.rotation,P.pageText=y.pageText,P.characterBounds=y.characterBounds}B={image:N,width:P.width,uniqueId:P.uniqueId,tileX:P.tileX,tileY:P.tileY,zoomFactor:P.zoomFactor,transformationMatrix:P.transformationMatrix,pageText:P.pageText,textContent:P.textContent,textBounds:P.textBounds};r.storeImageData(S,B,P.tileX,P.tileY)}else{C=r.createBlobUrl(P.image.split("base64,")[1],"image/png"),B={image:N=(URL||webkitURL).createObjectURL(C),width:P.width,uniqueId:P.uniqueId,tileX:P.tileX,tileY:P.tileY,zoomFactor:P.zoomFactor,transformationMatrix:P.transformationMatrix};r.storeImageData(S,B,P.tileX,P.tileY)}r.pageRequestOnSuccess(P,r,A,d,F,!0)}}break;case"renderThumbnail":r.pdfViewer.thumbnailViewModule.thumbnailOnMessage(e);break;case"renderPreviewTileImage":r.pdfViewer.pageOrganizer.previewOnMessage(e);break;case"printImage":r.pdfViewer.printModule.printOnMessage(e);break;case"LoadedStamp":r.pdfViewer.pdfRendererModule.renderer.initialPagesRendered(e.data);break;case"LoadedStampForFormFields":r.initialPagesRenderedForSign(e.data);break;case"textExtracted":"textExtracted"===e.data.message&&r.pdfViewer.pdfRendererModule.textExtractionOnmessage(e)}}}}}-1===this.renderedPagesList.indexOf(e)&&r.renderedPagesList.push(e)}}},e.prototype.pageRequestOnSuccess=function(e,i,n,o,r,a){for(;"object"!=typeof e;)e=JSON.parse(e);if(e.image&&e.uniqueId===i.documentId){var s=e.pageWidth&&e.pageWidth>0?e.pageWidth:o;i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.renderPages,e),r=(0,t.isNullOrUndefined)(e.pageNumber)?r:e.pageNumber,e.pageNumber=r+1,!(n>=s)&&i.pdfViewer.tileRenderingSettings.enableTileRendering||a?i.storeWinData(e,r,e.tileX,e.tileY):i.storeWinData(e,r),!(n>=s)&&i.pdfViewer.tileRenderingSettings.enableTileRendering||a?i.tileRenderPage(e,r):(i.renderPage(e,r),i.pdfViewer.firePageRenderComplete(e))}},e.prototype.pageTextRequestSuccess=function(e,t){this.pageTextRequestOnSuccess(e,this,t)},e.prototype.pageTextRequestOnSuccess=function(e,t,i){for(;"object"!=typeof e;)e=JSON.parse(e);if(e.documentTextCollection&&e.uniqueId===t.documentId){t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.renderTexts,e),t.pdfViewer.firePageRenderComplete(e);var n=void 0!==e.pageNumber?e.pageNumber:i;t.storeWinData(e,n),t.renderPage(e,i)}},e.prototype.requestForTextExtraction=function(e,t){var i=this,n={pageStartIndex:e,pageEndIndex:e+1,documentId:i.getDocumentId(),hashId:i.hashId,action:"RenderPdfTexts",elementId:i.pdfViewer.element.id,uniqueId:i.documentId};if(this.jsonDocumentId&&(n.documentId=this.jsonDocumentId),this.textRequestHandler=new hd(this.pdfViewer),this.textRequestHandler.url=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.renderTexts,this.textRequestHandler.responseType="json",this.clientSideRendering||this.textRequestHandler.send(n),this.textrequestLists.push(e),i.textRequestHandler.onSuccess=function(n){if(!(i.pdfViewer.magnification&&i.pdfViewer.magnification.isPinchZoomed||!i.pageSize[parseInt(e.toString(),10)])){var o=n.data;if(!i.checkRedirection(o)){if(o&&"object"!=typeof o)try{o=JSON.parse(o)}catch(e){i.onControlError(500,o,i.pdfViewer.serverActionSettings.renderTexts),o=null}o&&i.textRequestOnSuccess(o,i,e,t)}}},this.textRequestHandler.onFailure=function(e){i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,i.pdfViewer.serverActionSettings.renderTexts)},this.textRequestHandler.onError=function(e){i.openNotificationPopup(),i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,i.pdfViewer.serverActionSettings.renderTexts)},this.clientSideRendering){this.pdfViewer.pdfRendererModule.getDocumentText(n,"textRequest",t)}},e.prototype.textRequestSuccess=function(e,t,i){this.textRequestOnSuccess(e,this,t,i)},e.prototype.textRequestOnSuccess=function(e,i,n,o){for(;"object"!=typeof e;)e=JSON.parse(e);if(e.documentTextCollection&&e.uniqueId===i.documentId){i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.renderTexts,e);var r=void 0!==e.pageNumber?e.pageNumber:n;if(i.storeWinData(e,r),(0,t.isNullOrUndefined)(o))i.renderPage(e,n);else{var a=o.bounds,s=e.documentTextCollection[0][parseInt(n.toString(),10)].PageText.split(""),l=e.characterBounds,d=i.textMarkUpContent(a,s,l);o.textMarkupContent=d,this.pdfViewer.annotationModule.storeAnnotations(n,o,"_annotations_textMarkup")}}},e.prototype.textMarkUpContent=function(e,t,i){for(var n="",o=0;o<e.length;o++)for(var r=0;r<i.length;r++){var a=.5;i[parseInt(r.toString(),10)].Y>=e[parseInt(o.toString(),10)].Y-a&&i[parseInt(r.toString(),10)].X>=e[parseInt(o.toString(),10)].X-a&&i[parseInt(r.toString(),10)].Y<=e[parseInt(o.toString(),10)].Y+e[parseInt(o.toString(),10)].Height+a&&i[parseInt(r.toString(),10)].X<=e[parseInt(o.toString(),10)].X+e[parseInt(o.toString(),10)].Width+a&&(n+=t[parseInt(r.toString(),10)])}return n.replace(/(\r\n)/gm,"")},e.prototype.digitalSignaturePresent=function(e){var t=!1;return this.digitalSignaturePages&&0!==this.digitalSignaturePages.length&&-1!==this.digitalSignaturePages.indexOf(e)&&(t=!0),t},e.prototype.pageRequestSent=function(e,t,i){var n=this.retrieveCurrentZoomFactor(),o=this.documentId+"_"+e+"_"+t+"_"+i+"_"+n;return!!(this.requestLists&&this.requestLists.indexOf(o)>-1)},e.prototype.onControlError=function(e,t,i){this.openNotificationPopup(),this.pdfViewer.fireAjaxRequestFailed(e,t,i)},e.prototype.getStoredData=function(e,i){var n=this.retrieveCurrentZoomFactor();this.pdfViewer.restrictZoomRequest&&!this.pdfViewer.tileRenderingSettings.enableTileRendering&&(n=this.initialZoomValue[parseInt(e.toString(),10)]);var o=this.getWindowSessionStorage(e,n)?this.getWindowSessionStorage(e,n):this.getPinchZoomPage(e);if(!o&&i){var r=this.clientSideRendering?this.getStoredTileImageDetails(e,0,0,n):this.getWindowSessionStorageTile(e,0,0,n),a=JSON.parse(r);if(r&&(o=r),a&&(0,t.isNullOrUndefined)(a.pageText)&&(0,t.isNullOrUndefined)(a.textContent)){var s=JSON.parse(this.getWindowSessionStorageTile(e,0,0,n));(0,t.isNullOrUndefined)(s)||s.uniqueId!==a.uniqueId||(o=JSON.stringify(s))}}var l=null;return o&&(l=o,this.isPinchZoomStorage||(l=JSON.parse(o)),this.isPinchZoomStorage=!1),l},e.prototype.storeWinData=function(e,t,i,n){var o;if(e.image){var r=this.createBlobUrl(e.image.split("base64,")[1],"image/png"),a=(URL||webkitURL).createObjectURL(r);isNaN(i)&&isNaN(n)||0===i&&0===n?(o={image:a,transformationMatrix:e.transformationMatrix,hyperlinks:e.hyperlinks,hyperlinkBounds:e.hyperlinkBounds,linkAnnotation:e.linkAnnotation,linkPage:e.linkPage,annotationLocation:e.annotationLocation,textContent:e.textContent,width:e.width,textBounds:e.textBounds,pageText:e.pageText,rotation:e.rotation,scaleFactor:e.scaleFactor,uniqueId:e.uniqueId,zoomFactor:e.zoomFactor,tileX:i,tileY:n},this.pageSize[parseInt(t.toString(),10)]&&(this.pageSize[parseInt(t.toString(),10)].rotation=parseFloat(e.rotation)),this.textLayer.characterBound[parseInt(t.toString(),10)]=e.characterBounds):o={image:a,transformationMatrix:e.transformationMatrix,tileX:i,tileY:n,width:e.width,zoomFactor:e.zoomFactor}}else{var s=e.documentTextCollection[0][parseInt(t.toString(),10)];o={textContent:e.textContent,textBounds:e.textBounds,pageText:s.PageText,rotation:e.rotation,uniqueId:e.uniqueId},this.pageSize[parseInt(t.toString(),10)]&&(this.pageSize[parseInt(t.toString(),10)].rotation=parseFloat(e.rotation)),this.textLayer.characterBound[parseInt(t.toString(),10)]=e.characterBounds}this.pageSize[parseInt(t.toString(),10)]&&this.pageSize[parseInt(t.toString(),10)].width,this.manageSessionStorage(t,o,i,n)},e.prototype.setCustomAjaxHeaders=function(e){for(var t=0;t<this.pdfViewer.ajaxRequestSettings.ajaxHeaders.length;t++)e.setRequestHeader(this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(t.toString(),10)].headerName,this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(t.toString(),10)].headerValue)},e.prototype.getPinchZoomPage=function(e){for(var t in this.pinchZoomStorage)if(Object.prototype.hasOwnProperty.call(this.pinchZoomStorage,t)&&this.pinchZoomStorage[t].index===e)return this.isPinchZoomStorage=!0,this.pinchZoomStorage[t].pinchZoomStorage;return null},e.prototype.getWindowSessionStorage=function(t,i){return e.sessionStorageManager.getItem(this.documentId+"_"+t+"_"+i)},e.prototype.getWindowSessionStorageTile=function(t,i,n,o){return e.sessionStorageManager.getItem(this.documentId+"_"+t+"_"+i+"_"+n+"_"+o)},e.prototype.getStoredTileImageDetails=function(e,t,i,n){return this.pageImageDetails[this.documentId+"_"+e+"_"+t+"_"+i+"_"+n+"_imageUrl"]||null},e.prototype.retrieveCurrentZoomFactor=function(){var e=this.getZoomFactor();return this.pdfViewer.enableZoomOptimization?(e<=1?e=1:e>1&&e<=2?e=2:e>2&&e<=3?e=3:e>3&&e<=4&&(e=4),e):(e<=0&&(e=1),e)},e.prototype.storeTextDetails=function(e,t,i,n,o,r){var a={textBounds:t,textContent:i,rotation:o,pageText:n,characterBounds:r};this.pageSize[parseInt(e.toString(),10)]&&(this.pageSize[parseInt(e.toString(),10)].rotation=o),this.textLayer.characterBound[parseInt(e.toString(),10)]=r,this.pageTextDetails[this.documentId+"_"+e+"_textDetails"]=JSON.stringify(a)},e.prototype.storeImageData=function(e,i,n,o){var r=(0,t.isNullOrUndefined)(i.zoomFactor)?this.retrieveCurrentZoomFactor():i.zoomFactor;isNaN(n)&&isNaN(o)?this.pageImageDetails[this.documentId+"_"+e+"_"+r+"_imageUrl"]=JSON.stringify(i):this.pageImageDetails[this.documentId+"_"+e+"_"+n+"_"+o+"_"+r+"_imageUrl"]=JSON.stringify(i)},e.prototype.manageSessionStorage=function(t,i,n,o){var r=e.sessionStorageManager.getWindowSessionStorageSize()+Math.round(JSON.stringify(i).length/1024),a=5e3,s=200;if((this.isDeviceiOS||this.isMacSafari)&&(a=2e3,s=80),r>=a){if(!this.isStorageExceed){for(var l=[],d=[],h=0;h<e.sessionStorageManager.getSessionLength();h++)e.sessionStorageManager.getKey(h)&&e.sessionStorageManager.getKey(h).split("_")[3]&&("annotations"===e.sessionStorageManager.getKey(h).split("_")[3]?(this.annotationStorage[e.sessionStorageManager.getKey(h)]=e.sessionStorageManager.getItem(e.sessionStorageManager.getKey(h)),l.push(e.sessionStorageManager.getKey(h))):("formfields"===e.sessionStorageManager.getKey(h).split("_")[3]||"formDesigner"===e.sessionStorageManager.getKey(h).split("_")[3])&&(this.formFieldStorage[e.sessionStorageManager.getKey(h)]=e.sessionStorageManager.getItem(e.sessionStorageManager.getKey(h)),d.push(e.sessionStorageManager.getKey(h))));if(l)for(h=0;h<l.length;h++)e.sessionStorageManager.removeItem(l[parseInt(h.toString(),10)]);if(d)for(h=0;h<d.length;h++)e.sessionStorageManager.removeItem(d[parseInt(h.toString(),10)])}if(this.isStorageExceed=!0,(r=e.sessionStorageManager.getWindowSessionStorageSize())>=a){var A=e.sessionStorageManager.getSessionLength();A>s&&(A=s);for(h=0;h<A;h++)e.sessionStorageManager.getKey(h)&&e.sessionStorageManager.getKey(h).split("_")[3]&&"annotations"!==e.sessionStorageManager.getKey(h).split("_")[3]&&(e.sessionStorageManager.removeItem(e.sessionStorageManager.getKey(h)),A-=1,h-=1)}}var p=this.retrieveCurrentZoomFactor();this.initialZoomValue[parseInt(t.toString(),10)]=p,isNaN(n)&&isNaN(o)?(r<a&&e.sessionStorageManager.setItem(this.documentId+"_"+t+"_"+p,JSON.stringify(i)),this.sessionStorage.push(this.documentId+"_"+t+"_"+p)):(this.sessionStorage.push(this.documentId+"_"+t+"_"+n+"_"+o+"_"+p),r<a&&e.sessionStorageManager.setItem(this.documentId+"_"+t+"_"+n+"_"+o+"_"+p,JSON.stringify(i)))},e.prototype.createBlobUrl=function(e,t){for(var i=atob(e),n=[],o=0;o<i.length;o+=512){for(var r=i.slice(o,o+512),a=new Array(r.length),s=0;s<r.length;s++)a[parseInt(s.toString(),10)]=r.charCodeAt(s);var l=new Uint8Array(a);n.push(l)}return new Blob(n,{type:t})},e.prototype.getRandomNumber=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return t.toString(16)}))},e.prototype.createGUID=function(){return"Sync_PdfViewer_"+this.getRandomNumber()},e.prototype.isClickedOnScrollBar=function(e,t){var i=!1;return t&&this.setScrollDownValue(e.type,!1),this.viewerContainer.clientWidth+this.viewerContainer.offsetLeft<e.clientX&&e.clientX<this.viewerContainer.offsetWidth+this.viewerContainer.offsetLeft&&(i=!0,t&&this.setScrollDownValue(e.type,!0)),this.viewerContainer.clientHeight+this.viewerContainer.offsetTop<e.clientY&&e.clientY<this.viewerContainer.offsetHeight+this.viewerContainer.offsetTop&&(i=!0,t&&this.setScrollDownValue(e.type,!0)),i},e.prototype.setScrollDownValue=function(e,t){"mousedown"===e&&(this.isScrollbarMouseDown=t)},e.prototype.disableTextSelectionMode=function(){this.isTextSelectionDisabled=!0,(0,t.isNullOrUndefined)(this.viewerContainer)||this.viewerContainer.classList.remove("e-enable-text-selection"),this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.clearTextSelection(),(0,t.isNullOrUndefined)(this.viewerContainer)||(this.viewerContainer.classList.add("e-disable-text-selection"),this.viewerContainer.addEventListener("selectstart",(function(){return!1})))},e.prototype.getElement=function(e){return document.getElementById(this.pdfViewer.element.id+e)},e.prototype.getPageWidth=function(e){return this.pageSize[parseInt(e.toString(),10)]?this.pageSize[parseInt(e.toString(),10)].width*this.getZoomFactor():0},e.prototype.getPageHeight=function(e){return this.pageSize[parseInt(e.toString(),10)]?this.pageSize[parseInt(e.toString(),10)].height*this.getZoomFactor():0},e.prototype.getPageTop=function(e){return this.pageSize[parseInt(e.toString(),10)]?this.pageSize[parseInt(e.toString(),10)].top*this.getZoomFactor():0},e.prototype.isAnnotationToolbarHidden=function(){return!this.pdfViewer.toolbarModule.annotationToolbarModule||this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden},e.prototype.isFormDesignerToolbarHidded=function(){var e=this.pdfViewer.toolbarModule.formDesignerToolbarModule;return!e||e.isToolbarHidden},e.prototype.getTextMarkupAnnotationMode=function(){return!!this.isTextMarkupAnnotationModule()&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode},e.prototype.isNewFreeTextAnnotation=function(){return!this.pdfViewer.annotationModule||!this.pdfViewer.annotationModule.freeTextAnnotationModule||!this.pdfViewer.annotationModule.freeTextAnnotationModule.isNewFreeTextAnnot},e.prototype.getCurrentTextMarkupAnnotation=function(){return!!this.isTextMarkupAnnotationModule()&&!!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation},e.prototype.getSelectTextMarkupCurrentPage=function(){return this.isTextMarkupAnnotationModule()?this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage:null},e.prototype.getAnnotationToolStatus=function(){return!!this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.isAnnotationButtonsEnabled()},e.prototype.getPopupNoteVisibleStatus=function(){return!!this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.isPopupNoteVisible},e.prototype.isTextMarkupAnnotationModule=function(){return this.pdfViewer.annotationModule?this.pdfViewer.annotationModule.textMarkupAnnotationModule:null},e.prototype.isShapeAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.shapeAnnotationModule)},e.prototype.isFormDesignerModule=function(){return!!this.pdfViewer.formDesignerModule},e.prototype.isFormFieldsModule=function(){return!!this.pdfViewer.formFieldsModule},e.prototype.isCalibrateAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.measureAnnotationModule)},e.prototype.isStampAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.stampAnnotationModule)},e.prototype.isInkAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.inkAnnotationModule)},e.prototype.isCommentAnnotationModule=function(){return!!this.pdfViewer.annotation&&!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.stickyNotesAnnotationModule)},e.prototype.isShapeBasedAnnotationsEnabled=function(){return!!(this.isShapeAnnotationModule()||this.isCalibrateAnnotationModule()||this.isStampAnnotationModule()||this.isCommentAnnotationModule()||this.isFormDesignerModule()||this.isFormFieldsModule())},e.prototype.getMousePosition=function(e){var t,i,n,o=e.target.parentElement;if(-1!==e.type.indexOf("touch")){if(t=e,this.pdfViewer.annotation||this.isDeviceiOS){var r=this.pdfViewer.currentPageNumber-1;this.pdfViewer.annotation&&!isNaN(this.pdfViewer.annotation.getEventPageNumber(e))&&(r=this.pdfViewer.annotation.getEventPageNumber(e)),isNaN(r)&&this.pdfViewer.formDesignerModule&&(r=this.pdfViewer.formDesignerModule.getEventPageNumber(e));var a=this.getElement("_pageDiv_"+r);if(a){var s=a.getBoundingClientRect();i=t.changedTouches[0].clientX-s.left,n=t.changedTouches[0].clientY-s.top}}}else if(e.target.classList.contains("e-pv-hyperlink"))i=e.offsetX+e.target.offsetLeft,n=e.offsetY+e.target.offsetTop;else if(e.target.classList.contains("e-pv-text")&&o){var l=o.getBoundingClientRect();i=e.clientX-l.left,n=e.clientY-l.top}else if(e.target&&e&&e.path&&o&&(o.classList.contains("foreign-object")||o.parentElement.classList.contains("foreign-object"))){l=void 0;if("e-pv-page-div"===e.path[4].className)l=e.path[4].getBoundingClientRect();else for(var d=0;d<e.path.length;d++)if("e-pv-page-div"===e.path[parseInt(d.toString(),10)].className){l=e.path[parseInt(d.toString(),10)].getBoundingClientRect();break}i=e.clientX-l.left,n=e.clientY-l.top}else if(e.target&&o&&o.classList.contains("foreign-object")||e.target.classList.contains("e-pv-checkbox-div")){l=void 0;l=e.target.classList.contains("e-pv-checkbox-div")?e.target.offsetParent.offsetParent.offsetParent.offsetParent.getBoundingClientRect():e.target.offsetParent.offsetParent.offsetParent.getBoundingClientRect(),i=e.clientX-l.left,n=e.clientY-l.top}else i=e.offsetX,n=e.offsetY;return{x:i,y:n}},e.prototype.getMouseEventArgs=function(e,t,i,n){var o,r;return t.position=e,n?o=de(i,this,this.pdfViewer):"Drag"===this.action||"ConnectorSourceEnd"===this.action||"SegmentEnd"===this.action||"OrthoThumb"===this.action||"BezierSourceThumb"===this.action||"BezierTargetThumb"===this.action||"ConnectorTargetEnd"===this.action||-1!==this.action.indexOf("Rotate")||-1!==this.action.indexOf("Resize")?(o=this.pdfViewer.selectedItems,("Drag"===this.action&&o&&this.pdfViewer.selectedItems.annotations.length>0||"Drag"===this.action&&o&&this.pdfViewer.selectedItems.formFields.length>0)&&(o=de(i,this,this.pdfViewer))):o=de(i,this,this.pdfViewer),o&&(r=o.wrapper),n?(t.target=o,t.targetWrapper=r):(t.source=o,t.sourceWrapper=r),t.actualObject=this.eventArgs.actualObject,t},e.prototype.findToolToActivate=function(e,t){t={x:t.x/this.getZoomFactor(),y:t.y/this.getZoomFactor()};var n=this.pdfViewer.selectedItems.wrapper;if(n&&e){var o=n.bounds,r=new i.Rect(o.x,o.y,o.width,o.height);if("Line"===e.shapeAnnotationType||"LineWidthArrowHead"===e.shapeAnnotationType||"Distance"===e.shapeAnnotationType||"Polygon"===e.shapeAnnotationType){var a=this.pdfViewer.selectedItems.annotations[0];if(a)for(var s=0;s<a.vertexPoints.length;s++)if((0,i.contains)(t,a.vertexPoints[parseInt(s.toString(),10)],10)&&0!==a.leaderHeight)return"ConnectorSegmentPoint_"+s}if("Distance"===e.shapeAnnotationType){var l=0,d=void 0;if(e&&e.wrapper)for(s=0;s<e.wrapper.children.length;s++){var h=i.Point.findAngle(e.sourcePoint,e.targetPoint);if(e.wrapper.children[parseInt(s.toString(),10)].id.indexOf("leader")>-1){var A=e.wrapper.children[0].bounds.center;0===l?(d={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},A=e.sourcePoint):(d={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},A=e.targetPoint);var p=(0,i.identityMatrix)();(0,i.rotateMatrix)(p,h,A.x,A.y);var c=(0,i.transformPointByMatrix)(p,{x:d.x,y:d.y});if((0,i.contains)(t,c,10))return"Leader"+l;l++}}}var g=this.pdfViewer.touchPadding;this.getZoomFactor()<=1.5&&(g/=this.getZoomFactor());var u=(0,i.identityMatrix)();(0,i.rotateMatrix)(u,e.rotateAngle+n.parentTransform,n.offsetX,n.offsetY);var f=n.offsetX-n.pivot.x*n.actualSize.width,m=n.offsetY-n.pivot.y*n.actualSize.height,w={x:f+(.5===n.pivot.x?2*n.pivot.x:n.pivot.x)*n.actualSize.width/2,y:m-30/this.getZoomFactor()};if(w=(0,i.transformPointByMatrix)(u,w),"Stamp"===e.shapeAnnotationType&&(0,i.contains)(t,w,g))return"Rotate";if((r=this.inflate(g,r)).containsPoint(t,0)){var y=this.checkResizeHandles(this.pdfViewer,n,t,u,f,m);if(y)return y}return this.pdfViewer.selectedItems.annotations.indexOf(e)>-1||this.pdfViewer.selectedItems.formFields.indexOf(e)>-1&&this.pdfViewer.designerMode?"Drag":"Select"}return this.pdfViewer.tool||"Select"},e.prototype.inflate=function(e,t){return t.x-=e,t.y-=e,t.width+=2*e,t.height+=2*e,t},e.prototype.checkResizeHandles=function(e,t,i,n,o,r){var a;return a||(a=this.checkForResizeHandles(e,t,i,n,o,r)),a||null},e.prototype.checkForResizeHandles=function(e,n,o,r,a,s){var l=this.pdfViewer.touchPadding/1;this.getZoomFactor()>=2&&!t.Browser.isDevice&&(l/=this.getZoomFactor()/1.9),(n.actualSize.width<40||n.actualSize.height<40&&t.Browser.isDevice)&&(l=l/2*this.getZoomFactor()/1);e.selectedItems;var d=!1,h=!1,A=!1,p=!1,c=this.pdfViewer.annotationSelectorSettings.resizerLocation;if((c<1||c>3)&&(c=3),!this.pdfViewer.selectedItems.annotations[0]||"Stamp"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"FreeText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Image"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"HandWrittenSignature"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureImage"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||(d=!0),this.pdfViewer.selectedItems.annotations[0]&&"StickyNotes"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(h=!0),this.pdfViewer.selectedItems.annotations[0]&&"Ink"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(p=!0),!this.pdfViewer.selectedItems.annotations[0]||"Ellipse"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Radius"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Rectangle"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||(A=!0),!h){if(p||d||this.pdfViewer.selectedItems.annotations[0]&&("HandWrittenSignature"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureImage"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType)||n.actualSize.width>=40&&n.actualSize.height>=40&&A&&(1===c||3===c)){if((0,i.contains)(o,(0,i.transformPointByMatrix)(r,{x:a+n.actualSize.width,y:s+n.actualSize.height}),l))return"ResizeSouthEast";if((0,i.contains)(o,(0,i.transformPointByMatrix)(r,{x:a,y:s+n.actualSize.height}),l))return"ResizeSouthWest";if((0,i.contains)(o,(0,i.transformPointByMatrix)(r,{x:a+n.actualSize.width,y:s}),l))return"ResizeNorthEast";if((0,i.contains)(o,(0,i.transformPointByMatrix)(r,{x:a,y:s}),l))return"ResizeNorthWest"}if(p||!A||A&&(2===c||3===c||!(n.actualSize.width>=40&&n.actualSize.height>=40)&&1===c)){if((0,i.contains)(o,(0,i.transformPointByMatrix)(r,{x:a+n.actualSize.width,y:s+n.actualSize.height/2}),l)&&!d)return"ResizeEast";if((0,i.contains)(o,(0,i.transformPointByMatrix)(r,{x:a,y:s+n.actualSize.height/2}),l)&&!d)return"ResizeWest";if((0,i.contains)(o,(0,i.transformPointByMatrix)(r,{x:a+n.actualSize.width/2,y:s+n.actualSize.height}),l)&&!d)return"ResizeSouth";if((0,i.contains)(o,(0,i.transformPointByMatrix)(r,{x:a+n.actualSize.width/2,y:s}),l)&&!d)return"ResizeNorth"}}return null},e.prototype.checkSignatureFormField=function(e){var t=!1;this.pdfViewer.formDesignerModule&&(e=e.split("_")[0]);var i=this.pdfViewer.nameTable[""+e];return i&&("SignatureField"!==i.formFieldAnnotationType&&"InitialField"!==i.formFieldAnnotationType&&"SignatureField"!==i.annotName||(t=!0)),t},e.prototype.diagramMouseMove=function(e){var n=this.pdfViewer.allowServerDataBinding,o=this.getElement("_pageDiv_"+(this.currentPageNumber-1));this.pdfViewer.enableServerDataBinding(!1),this.currentPosition=this.getMousePosition(e),this.pdfViewer.firePageMouseover(this.currentPosition.x,this.currentPosition.y),this.pdfViewer.annotation?this.activeElements.activePageID=this.pdfViewer.annotation.getEventPageNumber(e):this.pdfViewer.formDesignerModule&&(this.activeElements.activePageID=this.pdfViewer.formDesignerModule.getEventPageNumber(e));var r,a=de(e,this,this.pdfViewer);(this.tool instanceof re||this.tool instanceof se)&&(a=this.pdfViewer.drawingObject);var s=this.pdfViewer.selectedItems.annotations.length>0&&this.checkSignatureFormField(this.pdfViewer.selectedItems.annotations[0].id);if(!1===i.Point.equals(this.currentPosition,this.prevPosition)||this.inAction){if(!1===this.isMouseDown){this.eventArgs={};a&&(this.tool=this.getTool(this.action),a.wrapper&&a.wrapper.children[0]&&(r=a));var l=e.target;this.action=this.findToolToActivate(a,this.currentPosition),a&&a.annotationSettings&&a.annotationSettings.isLock&&("Select"===this.action&&(this.pdfViewer.annotationModule.checkAllowedInteractions("Select",a)||(this.action="")),"Drag"===this.action&&(this.pdfViewer.annotationModule.checkAllowedInteractions("Move",a)||(this.action="Select")),("ResizeSouthEast"===this.action||"ResizeNorthEast"===this.action||"ResizeNorthWest"===this.action||"ResizeSouthWest"===this.action||"ResizeNorth"===this.action||"ResizeWest"===this.action||"ResizeEast"===this.action||"ResizeSouth"===this.action||this.action.includes("ConnectorSegmentPoint")||this.action.includes("Leader"))&&(this.pdfViewer.annotationModule.checkAllowedInteractions("Resize",a)||(this.action="Select"))),this.pdfViewer.designerMode||((0,t.isNullOrUndefined)(r)||(0,t.isNullOrUndefined)(r.formFieldAnnotationType))&&!s||("ResizeSouthEast"===this.action||"ResizeNorthEast"===this.action||"ResizeNorthWest"===this.action||"ResizeSouthWest"===this.action||"ResizeNorth"===this.action||"Drag"===this.action||"ResizeWest"===this.action||"ResizeEast"===this.action||"ResizeSouth"===this.action||this.action.includes("ConnectorSegmentPoint")||this.action.includes("Leader"))&&(this.action=""),this.tool=this.getTool(this.action),this.setCursor(l,e),this.pdfViewer.linkAnnotationModule&&0!==this.pdfViewer.selectedItems.annotations.length&&0!==this.pdfViewer.selectedItems.formFields.length&&this.pdfViewer.linkAnnotationModule.disableHyperlinkNavigationUnderObjects(l,e,this)}else{if(!this.tool&&this.action&&"Rotate"===this.action&&(this.tool=this.getTool(this.action),e.target&&this.setCursor(e.target,e)),this.pdfViewer.designerMode||((0,t.isNullOrUndefined)(r)||(0,t.isNullOrUndefined)(r.formFieldAnnotationType))&&!s||("ResizeSouthEast"===this.action||"ResizeNorthEast"===this.action||"ResizeNorthWest"===this.action||"ResizeSouthWest"===this.action||"ResizeNorth"===this.action||"Drag"===this.action||"ResizeWest"===this.action||"ResizeEast"===this.action||"ResizeSouth"===this.action||this.action.includes("ConnectorSegmentPoint")||this.action.includes("Leader"))&&(this.action="",this.tool=null),this.eventArgs&&this.eventArgs.source){l=e.target;this.updateDefaultCursor(this.eventArgs.source,l,e)}else this.setCursor(e.target,e);if(this.diagramMouseActionHelper(e),this.tool){if(a&&"FreeText"===a.shapeAnnotationType)if(this.pdfViewer.freeTextSettings.allowEditTextOnly&&"Ink"!==this.action&&this.eventArgs.source&&"FreeText"===this.eventArgs.source.shapeAnnotationType)(l=event.target).style.cursor="default",this.tool=null;if(null!=this.tool){var d={ctrlKey:e.ctrlKey,shiftKey:e.shiftKey};this.eventArgs.info=d,this.tool.mouseMove(this.eventArgs)}}}if(this.pdfViewer.drawingObject&&this.pdfViewer.drawingObject.formFieldAnnotationType&&"Drag"!==this.action&&!(this.tool instanceof oe)&&(this.tool=this.getTool(this.action),this.tool instanceof re)){var h=this.pdfViewer.drawingObject,A=this.pdfViewer.formDesignerModule.updateFormFieldInitialSize(h,h.formFieldAnnotationType),p=this.pageContainer.firstElementChild.clientWidth-A.width,c=this.pageContainer.firstElementChild.clientHeight-A.height;if(this.pdfViewer.formDesignerModule&&h.formFieldAnnotationType&&this.currentPosition.x<p&&this.currentPosition.y<c)if(f=document.getElementById("FormField_helper_html_element")){if(f){var g=f.parentElement.id.split("_text_")[1]||f.parentElement.id.split("_textLayer_")[1]||f.parentElement.id.split("_annotationCanvas_")[1]||f.parentElement.id.split("_pageDiv_")[1];if(parseInt(g,10)!==this.activeElements.activePageID)f.remove("FormField_helper_html_element");else{var u=this.getMousePosition(event);"Checkbox"===h.formFieldAnnotationType&&f.firstElementChild.firstElementChild.lastElementChild?f.firstElementChild.firstElementChild.lastElementChild.style.visibility="visible":"SignatureField"===h.formFieldAnnotationType||"InitialField"===h.formFieldAnnotationType?(f.firstElementChild.firstElementChild.style.visibility="visible",f.firstElementChild.lastElementChild.style.visibility="visible"):f.firstElementChild.firstElementChild.style.visibility="visible",f.setAttribute("style","height:"+A.height+"px; width:"+A.width+"px;left:"+u.x+"px; top:"+u.y+"px;position:absolute;opacity: 0.5;")}}}else this.pdfViewer.formDesignerModule.drawHelper(h.formFieldAnnotationType,h,e);else if(this.currentPosition.x>p||this.currentPosition.y>c){var f;if(f=document.getElementById("FormField_helper_html_element")){if(f){u=this.getMousePosition(event);f.setAttribute("style","height:"+A.height+"px; width:"+A.width+"px;left:"+u.x+"px; top:"+u.y+"px;position:absolute;opacity: 0.5;"),this.currentPosition.x+parseInt(f.style.width,10)>parseInt(o.style.width,10)?"Checkbox"===h.formFieldAnnotationType&&f.firstElementChild.firstElementChild.lastElementChild?f.firstElementChild.firstElementChild.lastElementChild.style.visibility="hidden":"SignatureField"===h.formFieldAnnotationType||"InitialField"===h.formFieldAnnotationType?(f.firstElementChild.firstElementChild.style.visibility="hidden",f.firstElementChild.lastElementChild.style.visibility="hidden"):f.firstElementChild.firstElementChild.style.visibility="hidden":"Checkbox"===h.formFieldAnnotationType&&f.firstElementChild.firstElementChild.lastElementChild?f.firstElementChild.firstElementChild.lastElementChild.style.visibility="visible":"SignatureField"===h.formFieldAnnotationType||"InitialField"===h.formFieldAnnotationType?(f.firstElementChild.firstElementChild.style.visibility="visible",f.firstElementChild.lastElementChild.style.visibility="visible"):f.firstElementChild.firstElementChild.style.visibility="visible"}}else this.pdfViewer.formDesignerModule.drawHelper(h.formFieldAnnotationType,h,e)}}this.prevPosition=this.currentPosition}this.pdfViewer.enableServerDataBinding(n,!0)},e.prototype.updateDefaultCursor=function(e,t,i){e&&void 0!==e.pageIndex&&e.pageIndex!==this.activeElements.activePageID&&t?this.isPanMode?t.style.cursor="grab":t.style.cursor="default":this.setCursor(t,i)},e.prototype.diagramMouseLeave=function(e){this.currentPosition=this.getMousePosition(e),this.pdfViewer.annotation&&(this.activeElements.activePageID=this.pdfViewer.annotation.getEventPageNumber(e)),isNaN(this.activeElements.activePageID)&&this.pdfViewer.formDesignerModule&&(this.activeElements.activePageID=this.pdfViewer.formDesignerModule.getEventPageNumber(e));var t=de(e,this,this.pdfViewer),n=!1;if(!1===i.Point.equals(this.currentPosition,this.prevPosition)||this.inAction){if(!1===this.isMouseDown||n){this.eventArgs={};t&&(t.wrapper.children[0]&&t,n=!1)}else this.diagramMouseActionHelper(e),this.tool&&"Drag"!==this.action&&"Stamp"!==this.pdfViewer.tool&&this.tool.currentElement&&"Stamp"!==this.tool.currentElement.shapeAnnotationType&&(this.tool.mouseLeave(this.eventArgs),this.tool=null,this.pdfViewer.annotation&&this.pdfViewer.annotationModule.renderAnnotations(this.previousPage,null,null,null));this.prevPosition=this.currentPosition}},e.prototype.diagramMouseActionHelper=function(e){this.eventArgs.position=this.currentPosition,"Drag"===this.action&&this.eventArgs.source instanceof p&&this.getMouseEventArgs(this.currentPosition,this.eventArgs,e),this.getMouseEventArgs(this.currentPosition,this.eventArgs,e,this.eventArgs.source),this.inAction=!0,this.initialEventArgs=null},e.prototype.setCursor=function(e,i){var n,o=this.pdfViewer.annotationModule?this.pdfViewer.annotationModule.freeTextAnnotationModule:null;if(this.tool instanceof oe)"ResizeNorthWest"===this.tool.corner?(n=this.setResizerCursorType(),e.style.cursor=(0,t.isNullOrUndefined)(n)?"nw-resize":n):"ResizeNorthEast"===this.tool.corner?(n=this.setResizerCursorType(),e.style.cursor=(0,t.isNullOrUndefined)(n)?"ne-resize":n):"ResizeSouthWest"===this.tool.corner?(n=this.setResizerCursorType(),e.style.cursor=(0,t.isNullOrUndefined)(n)?"sw-resize":n):"ResizeSouthEast"===this.tool.corner?(n=this.setResizerCursorType(),e.style.cursor=(0,t.isNullOrUndefined)(n)?"se-resize":n):"ResizeNorth"===this.tool.corner?(n=this.setResizerCursorType(),e.style.cursor=(0,t.isNullOrUndefined)(n)?"n-resize":n):"ResizeWest"===this.tool.corner?(n=this.setResizerCursorType(),e.style.cursor=(0,t.isNullOrUndefined)(n)?"w-resize":n):"ResizeEast"===this.tool.corner?(n=this.setResizerCursorType(),e.style.cursor=(0,t.isNullOrUndefined)(n)?"e-resize":n):"ResizeSouth"===this.tool.corner&&(n=this.setResizerCursorType(),e.style.cursor=(0,t.isNullOrUndefined)(n)?"s-resize":n);else if(this.isCommentIconAdded&&this.isAddComment)e.style.cursor="crosshair";else if(this.pdfViewer.enableHandwrittenSignature&&this.isNewSignatureAdded&&this.tool instanceof te)e.style.cursor="crosshair";else if(this.tool instanceof ee)e.style.cursor="move";else if(this.tool instanceof re||this.tool instanceof se||this.tool instanceof ae||o&&o.isNewAddedAnnot||this.tool instanceof ie)e.style.cursor="crosshair";else if(this.tool instanceof ne)this.tool.endPoint&&this.tool.endPoint.indexOf("Leader0")?(n=this.setResizerCursorType(),e.style.cursor=(0,t.isNullOrUndefined)(n)?"nw-resize":n):this.tool.endPoint&&this.tool.endPoint.indexOf("Leader1")?(n=this.setResizerCursorType(),e.style.cursor=(0,t.isNullOrUndefined)(n)?"ne-resize":n):this.tool.endPoint&&this.tool.endPoint.indexOf("ConnectorSegmentPoint")&&(e.style.cursor="sw-resize");else if(e.classList.contains("e-pv-text"))e.style.cursor="text";else if(e.classList.contains("e-pv-hyperlink"))e.style.cursor="pointer";else if(this.isPanMode){if(this.isViewerMouseDown&&"mousemove"===i.type)e.style.cursor="grabbing";else if((c=de(i,this,this.pdfViewer))&&"mousemove"===i.type){e.style.cursor="pointer";var r=c,a=this.getMousePosition(i),s={left:(u=this.relativePosition(i)).x,top:u.y},l={left:a.x,top:a.y},d={opacity:r.opacity,fillColor:r.fillColor,strokeColor:r.strokeColor,thicknes:r.thickness,author:r.author,subject:r.subject,modifiedDate:r.modifiedDate};this.isMousedOver=!0;var h=this.checkSignatureFormField(r.id);if(r.formFieldAnnotationType){this.isFormFieldMousedOver=!0;var A={id:r.id,name:r.name,value:r.value,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,color:r.color,backgroundColor:r.backgroundColor,borderColor:r.borderColor,thickness:r.thickness,alignment:r.alignment,isReadonly:r.isReadonly,visibility:r.visibility,maxLength:r.maxLength,isRequired:r.isRequired,isPrint:r.isPrint,rotation:r.rotateAngle,tooltip:r.tooltip,options:r.options,isChecked:r.isChecked,isSelected:r.isSelected};this.pdfViewer.fireFormFieldMouseoverEvent("formFieldMouseover",A,r.pageIndex,u.x,u.y,a.x,a.y)}else h||this.pdfViewer.fireAnnotationMouseover(r.annotName,r.pageIndex,r.shapeAnnotationType,r.bounds,d,l,s)}else if(e.style.cursor="grab",this.isMousedOver){var p=void 0;p=this.pdfViewer.formDesignerModule?this.pdfViewer.formDesignerModule.getEventPageNumber(i):this.pdfViewer.annotation.getEventPageNumber(i),this.isFormFieldMousedOver?this.pdfViewer.fireFormFieldMouseLeaveEvent("formFieldMouseLeave",null,p):this.pdfViewer.fireAnnotationMouseLeave(p),this.isMousedOver=!1,this.isFormFieldMousedOver=!1}}else{var c;if((c=de(i,this,this.pdfViewer))&&0===this.pdfViewer.selectedItems.annotations.length&&"mousemove"===i.type){r=c;var g=this.pdfViewer.nameTable[r.id];"HandWrittenSignature"!==g.shapeAnnotationType&&"Ink"!==g.shapeAnnotationType&&g.annotationSettings&&void 0!==g.annotationSettings.isLock&&(g.annotationSettings.isLock=JSON.parse(g.annotationSettings.isLock)),g.annotationSettings&&g.annotationSettings.isLock?e.style.cursor="default":e.style.cursor="pointer";a=this.getMousePosition(i),s={left:(u=this.relativePosition(i)).x,top:u.y},l={left:a.x,top:a.y},d={opacity:r.opacity,fillColor:r.fillColor,strokeColor:r.strokeColor,thicknes:r.thickness,author:r.author,subject:r.subject,modifiedDate:r.modifiedDate};this.isMousedOver=!0;h=this.checkSignatureFormField(r.id);if(r.formFieldAnnotationType){this.isFormFieldMousedOver=!0;A={id:r.id,name:r.name,value:r.value,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,color:r.color,backgroundColor:r.backgroundColor,borderColor:r.borderColor,thickness:r.thickness,alignment:r.alignment,isReadonly:r.isReadonly,visibility:r.visibility,maxLength:r.maxLength,isRequired:r.isRequired,isPrint:r.isPrint,rotation:r.rotateAngle,tooltip:r.tooltip,options:r.options,isChecked:r.isChecked,isSelected:r.isSelected};this.fromTarget=r,this.pdfViewer.fireFormFieldMouseoverEvent("formFieldMouseover",A,r.pageIndex,u.x,u.y,a.x,a.y)}else h||this.pdfViewer.fireAnnotationMouseover(r.annotName,r.pageIndex,r.shapeAnnotationType,r.bounds,d,l,s)}else if(!this.pdfViewer.formDesignerModule&&i.target.classList.contains("e-pdfviewer-formFields")){p=void 0;this.pdfViewer.annotation&&(p=this.pdfViewer.annotation.getEventPageNumber(i));a=this.getMousePosition(i);for(var u=this.relativePosition(i),f=this.getItemFromSessionStorage("_formfields"),m=JSON.parse(f),w=(A=void 0,0);w<m.length;w++)m[parseInt(w.toString(),10)].FieldName===i.target.name&&(A={name:m[parseInt(w.toString(),10)].FieldName,id:m[parseInt(w.toString(),10)].uniqueID});this.isMousedOver=!0,this.isFormFieldMousedOver=!0,this.pdfViewer.fireFormFieldMouseoverEvent("formFieldMouseover",A,p,u.x,u.y,a.x,a.y)}else{if(this.isMousedOver){p=void 0;if(this.pdfViewer.formDesignerModule?p=this.pdfViewer.formDesignerModule.getEventPageNumber(i):this.pdfViewer.annotation&&(p=this.pdfViewer.annotation.getEventPageNumber(i)),this.isFormFieldMousedOver)if(this.fromTarget){A={name:this.fromTarget.name,id:this.fromTarget.id,value:this.fromTarget.value,fontFamily:this.fromTarget.fontFamily,fontSize:this.fromTarget.fontSize,fontStyle:this.fromTarget.fontStyle,color:this.fromTarget.color,backgroundColor:this.fromTarget.backgroundColor,borderColor:this.fromTarget.borderColor,thickness:this.fromTarget.thickness,alignment:this.fromTarget.alignment,isReadonly:this.fromTarget.isReadonly,visibility:this.fromTarget.visibility,maxLength:this.fromTarget.maxLength,isRequired:this.fromTarget.isRequired,isPrint:this.fromTarget.isPrint,rotation:this.fromTarget.rotateAngle,tooltip:this.fromTarget.tooltip,options:this.fromTarget.options,isChecked:this.fromTarget.isChecked,isSelected:this.fromTarget.isSelected};this.pdfViewer.fireFormFieldMouseLeaveEvent("formFieldMouseLeave",A,p)}else this.pdfViewer.fireFormFieldMouseLeaveEvent("formFieldMouseLeave",null,p);else this.pdfViewer.fireAnnotationMouseLeave(p);this.isMousedOver=!1,this.isFormFieldMousedOver=!1,e.style.cursor="default"}c&&1===this.pdfViewer.selectedItems.annotations.length&&"mousemove"===i.type?e.style.cursor="pointer":e.style.cursor="default"}}},e.prototype.setResizerCursorType=function(){var e;return this.pdfViewer.selectedItems.annotations[0]&&(0,t.isNullOrUndefined)(this.pdfViewer.selectedItems.annotations[0].annotationSelectorSettings.resizerCursorType)?"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=(0,t.isNullOrUndefined)(this.pdfViewer.freeTextSettings.annotationSelectorSettings)?null:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerCursorType:"Stamp"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=(0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.annotationSelectorSettings)?null:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerCursorType:"HandWrittenSignature"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureImage"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)?null:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerCursorType:"Ink"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=(0,t.isNullOrUndefined)(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings)?null:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerCursorType:this.pdfViewer.selectedItems.annotations[0].measureType?this.pdfViewer.selectedItems.annotations[0].measureType&&("Distance calculation"===this.pdfViewer.selectedItems.annotations[0].subject?e=(0,t.isNullOrUndefined)(this.pdfViewer.distanceSettings.annotationSelectorSettings)?null:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerCursorType:"Perimeter calculation"===this.pdfViewer.selectedItems.annotations[0].subject?e=(0,t.isNullOrUndefined)(this.pdfViewer.perimeterSettings.annotationSelectorSettings)?null:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerCursorType:"Area calculation"===this.pdfViewer.selectedItems.annotations[0].subject?e=(0,t.isNullOrUndefined)(this.pdfViewer.areaSettings.annotationSelectorSettings)?null:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerCursorType:"Radius calculation"===this.pdfViewer.selectedItems.annotations[0].subject?e=(0,t.isNullOrUndefined)(this.pdfViewer.radiusSettings.annotationSelectorSettings)?null:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerCursorType:"Volume calculation"===this.pdfViewer.selectedItems.annotations[0].subject&&(e=(0,t.isNullOrUndefined)(this.pdfViewer.volumeSettings.annotationSelectorSettings)?null:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerCursorType)):"Line"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=(0,t.isNullOrUndefined)(this.pdfViewer.lineSettings.annotationSelectorSettings)?null:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerCursorType:"LineWidthArrowHead"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=(0,t.isNullOrUndefined)(this.pdfViewer.arrowSettings.annotationSelectorSettings)?null:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerCursorType:"Rectangle"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=(0,t.isNullOrUndefined)(this.pdfViewer.rectangleSettings.annotationSelectorSettings)?null:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerCursorType:"Ellipse"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?e=(0,t.isNullOrUndefined)(this.pdfViewer.circleSettings.annotationSelectorSettings)?null:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerCursorType:"Polygon"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(e=(0,t.isNullOrUndefined)(this.pdfViewer.polygonSettings.annotationSelectorSettings)?null:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerCursorType):this.pdfViewer.selectedItems.annotations[0]&&(e=this.pdfViewer.selectedItems.annotations[0].annotationSelectorSettings.resizerCursorType),e||(e=this.pdfViewer.annotationSelectorSettings.resizerCursorType),e},e.prototype.getTool=function(e){switch(e){case"Select":return new $(this.pdfViewer,this);case"Drag":return new ee(this.pdfViewer,this);case"ResizeSouthEast":case"ResizeSouthWest":case"ResizeNorthEast":case"ResizeNorthWest":case"ResizeSouth":case"ResizeNorth":case"ResizeWest":case"ResizeEast":return new oe(this.pdfViewer,this,e);case"ConnectorSourceEnd":case"ConnectorTargetEnd":case"Leader":case"ConnectorSegmentPoint":return new ne(this.pdfViewer,this,e);case"DrawTool":return new re(this.pdfViewer,this,this.pdfViewer.drawingObject);case"Polygon":return new ae(this.pdfViewer,this,"Polygon");case"Distance":return new se(this.pdfViewer,this,"Leader1",void 0);case"Line":return new se(this.pdfViewer,this,"ConnectorSegmentPoint_1",this.pdfViewer.drawingObject);case"Perimeter":return new ae(this.pdfViewer,this,"Perimeter");case"Rotate":return new le(this.pdfViewer,this);case"Stamp":return new te(this.pdfViewer,this);case"Ink":return new ie(this.pdfViewer,this,this.pdfViewer.drawingObject)}return e.indexOf("ConnectorSegmentPoint")>-1||e.indexOf("Leader")>-1?new ne(this.pdfViewer,this,e):null},e.prototype.diagramMouseUp=function(e){var t=this.pdfViewer.allowServerDataBinding;this.pdfViewer.enableServerDataBinding(!1);var i=this.action.toLowerCase().includes("resize")||this.action.toLowerCase().includes("connectorsegmentpoint"),n="Drag"===this.action||i||(this.tool instanceof re||this.tool instanceof se||this.tool instanceof ae)&&this.tool.dragging&&this.tool.drawingObject;if(this.tool){if(!this.inAction&&3!==e.which&&"Drag"===this.action){this.action="Select";var o=de(e,this,this.pdfViewer)}if(this.tool instanceof ae||this.tool instanceof se||this.tool instanceof re||(this.inAction=!1,this.isMouseDown=!1),this.currentPosition=this.getMousePosition(e),this.tool){this.eventArgs.position=this.currentPosition,this.getMouseEventArgs(this.currentPosition,this.eventArgs,e,this.eventArgs.source);this.isMetaKey(e);var r={ctrlKey:e.ctrlKey,shiftKey:e.shiftKey};if(this.eventArgs.info=r,this.eventArgs.clickCount=e.detail,"touchend"===e.type?this.eventArgs.isTouchMode=!0:this.eventArgs.isTouchMode=!1,this.tool.mouseUp(this.eventArgs),this.isAnnotationMouseDown=!1,this.isFormFieldMouseDown=!1,(this.tool instanceof re||this.tool instanceof se||this.tool instanceof ae)&&!this.tool.dragging&&(this.inAction=!1,this.isMouseDown=!1),n){o=de(e,this,this.pdfViewer);(this.isShapeAnnotationModule()||this.isCalibrateAnnotationModule())&&this.pdfViewer.annotation.onShapesMouseup(o,e)}this.isAnnotationDrawn=!1}}var a=e.target;e.cancelable&&(!this.isDeviceiOS||this.pdfViewer.annotationModule)&&this.skipPreventDefault(a)&&e.preventDefault(),this.eventArgs={},this.pdfViewer.enableServerDataBinding(t,!0),"MouseUp"===this.pdfViewer.contextMenuSettings.contextMenuAction&&this.pdfViewer.selectedItems&&(this.pdfViewer.selectedItems.annotations&&this.pdfViewer.selectedItems.annotations.length>0||this.pdfViewer.selectedItems.formFields&&this.pdfViewer.selectedItems.formFields.length>0)&&this.contextMenuModule.open(this.mouseY,this.mouseX,this.viewerContainer)},e.prototype.skipPreventDefault=function(e){var t=!1,i=!1;return this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus&&(i=!0),!e.parentElement||"foreign-object"===e.parentElement.className||e.classList.contains("e-pv-radio-btn")||e.classList.contains("e-pv-radiobtn-span")||e.classList.contains("e-pv-checkbox-div")||e.classList.contains("e-pdfviewer-formFields")||e.classList.contains("e-pdfviewer-ListBox")||e.classList.contains("e-pdfviewer-signatureformfields")||"free-text-input"===e.className&&"TEXTAREA"===e.tagName||i||"e-pv-hyperlink"===e.className||!(e.parentElement.classList.length>0)||e.parentElement.classList.contains("e-editable-elements")||this.isAddComment||(t=!0),t},e.prototype.isMetaKey=function(e){return navigator.platform.match("Mac")?e.metaKey:e.ctrlKey},e.prototype.diagramMouseDown=function(e){var n=this;this.tool instanceof ee&&!(this.tool instanceof te)&&this.tool.inAction&&(this.diagramMouseUp(e),1===e.which&&(this.preventContextmenu=!0,setTimeout((function(){n.preventContextmenu=!1}),200)));var o=this.pdfViewer.allowServerDataBinding;this.pdfViewer.enableServerDataBinding(!1);var r;r=e.touches,this.isMouseDown=!0,this.isAnnotationAdded=!1,this.currentPosition=this.prevPosition=this.getMousePosition(e),this.eventArgs={};var a=!1;if("Stamp"===this.pdfViewer.tool&&(this.pdfViewer.tool="",a=!0),this.pdfViewer.annotation){var s=this.pdfViewer.annotation.getEventPageNumber(e);this.activeElements.activePageID=s>=0?s:this.pdfViewer.currentPageNumber-1}var d=de(e,this,this.pdfViewer);if((0,t.isNullOrUndefined)(d)){var h=e.target;if(!(0,t.isNullOrUndefined)(h)&&!(0,t.isNullOrUndefined)(h.id)){var A=h.id.split("_")[0];d=this.pdfViewer.nameTable[""+A]}}if((0,t.isNullOrUndefined)(d)||"SignatureField"!==d.formFieldAnnotationType&&"InitialField"!==d.formFieldAnnotationType&&"SignatureField"!==d.annotName&&"InitialField"!==d.annotName?this.isSignInitialClick=!1:this.isSignInitialClick=!0,!t.Browser.isDevice||this.pdfViewer.enableDesktopMode||!d||d instanceof l||e.preventDefault(),this.pdfViewer.annotation&&this.pdfViewer.enableStampAnnotations){var p=this.pdfViewer.annotationModule.stampAnnotationModule;if(p&&p.isNewStampAnnot){var c=d;if(!c&&this.pdfViewer.selectedItems.annotations[0]&&(c=this.pdfViewer.selectedItems.annotations[0]),c){this.isViewerMouseDown=!1,c.opacity=this.pdfViewer.stampSettings.opacity,this.isNewStamp=!0;var g=void 0;if(g="Image"===c.shapeAnnotationType?this.pdfViewer.customStampSettings.opacity:this.pdfViewer.stampSettings.opacity,this.pdfViewer.nodePropertyChange(c,{opacity:g}),this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!1,"Image"===c.shapeAnnotationType&&!this.isAlreadyAdded){this.stampAdded=!0;var u=c.id;p.currentStampAnnotation&&p.currentStampAnnotation.signatureName&&(u=p.currentStampAnnotation.signatureName);for(var f=!1,m=0;m<this.customStampCollection.length;m++)if(this.customStampCollection[parseInt(m.toString(),10)].customStampName===u){f=!0;break}f&&(u=c.id),u=p.customStampName?p.customStampName:p.currentStampAnnotation.signatureName,this.customStampCollection.push({customStampName:u,customStampImageSource:c.data}),(0,t.isBlazor)()&&this.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateCustomStampCollection",u,c.data)}this.pdfViewer.customStampSettings.enableCustomStamp&&this.pdfViewer.customStampSettings.isAddToMenu&&(this.stampAdded=!0),this.isAlreadyAdded=!1,p.updateDeleteItems(c.pageIndex,c,c.opacity),p.resetAnnotation(),p.isNewStampAnnot=!1}}}if(this.isNewSignatureAdded){this.signatureCount++,this.currentSignatureAnnot=null;var w=d;if((0,t.isNullOrUndefined)(w)&&this.pdfViewer.selectedItems.annotations[0]&&(w=this.pdfViewer.selectedItems.annotations[0]),w){var y="";this.signatureAdded=!0,this.signatureModule.storeSignatureData(w.pageIndex,w);var S={left:w.bounds.x,top:w.bounds.y,width:w.bounds.width,height:w.bounds.height};y="Draw"===this.signatureModule.signaturetype?this.signatureModule.saveImageString:w.data,this.pdfViewer.fireSignatureAdd(w.pageIndex,w.signatureName,w.shapeAnnotationType,S,w.opacity,w.strokeColor,w.thickness,y)}this.isNewSignatureAdded=!1}if(this.pdfViewer.annotationModule){var C=this.pdfViewer.annotationModule.freeTextAnnotationModule;if(!0===C.isNewFreeTextAnnot){var B=void 0;if(e.target&&(e.target.id.indexOf("_text")>-1||e.target.id.indexOf("_annotationCanvas")>-1||e.target.classList.contains("e-pv-hyperlink"))&&this.pdfViewer.annotation){var I=this.pdfViewer.annotation.getEventPageNumber(e),b=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+I);if(b){var v=b.getBoundingClientRect(),E=v.x?v.x:v.left,x=v.y?v.y:v.top;B=new i.Rect(E+5,x+5,v.width-10,v.height-10)}}if(r&&(this.mouseX=r[0].clientX,this.mouseY=r[0].clientY),B&&B.containsPoint({x:this.mouseX,y:this.mouseY})&&C.isNewAddedAnnot){I=this.pdfViewer.annotation.getEventPageNumber(e);if(!this.pdfViewer.freeTextSettings.enableAutoFit){var _=this.getZoomFactor(),D=this.currentPosition.x+C.defautWidth*_,M=this.getPageWidth(I);D>=M&&(this.currentPosition.x=M-C.defautWidth*_,this.currentPosition.x<=0&&(this.currentPosition.x=5),C.defautWidth=C.defautWidth*_>=M?M-10:C.defautWidth)}if(C.addInuptElemet(this.currentPosition,null,I),this.pdfViewer.toolbar&&this.pdfViewer.toolbar.annotationToolbarModule){var V=this.pdfViewer.toolbar.annotationToolbarModule;(0,t.isBlazor)()||V.primaryToolbar.deSelectItem(V.freeTextEditItem)}e.preventDefault(),C.isNewAddedAnnot=!1}}}d&&d.wrapper.children[0],(!this.tool||this.tool&&!this.tool.drawingObject)&&(a?(this.action="Select",this.tool=this.getTool(this.action)):(this.action=this.findToolToActivate(d,this.currentPosition),d&&d.annotationSettings&&d.annotationSettings.isLock&&("Select"===this.action&&(this.pdfViewer.annotationModule.checkAllowedInteractions("Select",d)||(this.action="")),"Drag"===this.action&&(this.pdfViewer.annotationModule.checkAllowedInteractions("Move",d)||(this.action="Select")),"Rotate"===this.action&&(this.action="Select"),("ResizeSouthEast"===this.action||"ResizeNorthEast"===this.action||"ResizeNorthWest"===this.action||"ResizeSouthWest"===this.action||"ResizeSouth"===this.action||"ResizeNorth"===this.action||"ResizeWest"===this.action||"ResizeEast"===this.action||this.action.includes("ConnectorSegmentPoint")||this.action.includes("Leader"))&&(this.pdfViewer.annotationModule.checkAllowedInteractions("Resize",d)||(this.action="Select"))),this.tool=this.getTool(this.action),this.tool||(this.action=this.pdfViewer.tool||"Select",this.tool=this.getTool(this.action)))),this.getMouseEventArgs(this.currentPosition,this.eventArgs,e),this.eventArgs.position=this.currentPosition,this.tool&&(this.isAnnotationMouseDown=!1,this.isFormFieldMouseDown=!1,this.isAnnotationMouseMove=!1,this.isFormFieldMouseMove=!1,(0,t.isNullOrUndefined)(d)||"annotations"===d.propName||(this.eventArgs.source=d),this.tool.mouseDown(this.eventArgs),this.isAnnotationDrawn=!0,this.signatureAdded=!0),this.pdfViewer.annotation&&this.pdfViewer.annotation.onAnnotationMouseDown(),this.pdfViewer.selectedItems&&1===this.pdfViewer.selectedItems.formFields.length&&((0,t.isNullOrUndefined)(this.pdfViewer.toolbar)||(0,t.isNullOrUndefined)(this.pdfViewer.toolbar.formDesignerToolbarModule)||this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(!0));var Q=1===this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.nameTable[this.pdfViewer.selectedItems.annotations[0].id.split("_")[0]+"_content"]:null;if(Q||(Q=1===this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.nameTable[this.pdfViewer.selectedItems.annotations[0].id]:null),this.eventArgs&&this.eventArgs.source&&(this.eventArgs.source.formFieldAnnotationType||Q)&&!this.pdfViewer.designerMode){var F=void 0;if((F=Q?this.pdfViewer.nameTable[this.pdfViewer.selectedItems.annotations[0].id.split("_")[0]]:this.eventArgs.source)||(F=this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===Q.id}))]),F){var T={name:F.name,id:F.id,fontFamily:F.fontFamily,fontSize:F.fontSize,fontStyle:F.fontStyle,color:F.color,value:F.value,type:F.formFieldAnnotationType?F.formFieldAnnotationType:F.type,backgroundColor:F.backgroundColor,alignment:F.alignment},k=document.getElementById(F.id);(k=k||(document.getElementById(F.id+"_content_html_element")?document.getElementById(F.id+"_content_html_element").children[0].children[0]:null))&&(this.currentTarget=k,this.pdfViewer.fireFormFieldClickEvent("formFieldClicked",T,!1,0===e.button))}}this.initialEventArgs={source:this.eventArgs.source,sourceWrapper:this.eventArgs.sourceWrapper},this.initialEventArgs.position=this.currentPosition,this.initialEventArgs.info=this.eventArgs.info,this.pdfViewer.enableServerDataBinding(o,!0)},e.prototype.exportAnnotationsAsObject=function(e){var t=this;if(this.pdfViewer.annotationModule&&this.updateExportItem())return new Promise((function(i,n){t.createRequestForExportAnnotations(!0,e).then((function(e){i(e)}))}))},e.prototype.getItemFromSessionStorage=function(t){return this.isStorageExceed?this.formFieldStorage[this.documentId+t]:e.sessionStorageManager.getItem(this.documentId+t)},e.prototype.setStyleToTextDiv=function(e,t,i,n,o,r,a){var s=this.getZoomFactor();a&&(s=1,e.style.position="absolute"),e.style.left=t*s+"px",e.style.top=i*s+"px",e.style.height=r*s+"px",e.style.width=o*s+"px",e.style.margin="0px",n>0&&(e.style.fontSize=n*s+"px")},e.prototype.ConvertPointToPixel=function(e){return e*(96/72)},e.prototype.getAngle=function(e){var t=0;if(e)switch(e){case 0:t=0;break;case 1:t=90;break;case 2:t=180;break;case 3:t=270}return t},e.prototype.setItemInSessionStorage=function(t,i){var n=Math.round(JSON.stringify(t).length/1024),o=e.sessionStorageManager.getWindowSessionStorageSize();n>4500&&(this.isStorageExceed=!0,this.pdfViewer.formFieldsModule&&(this.isFormStorageExceed||(this.pdfViewer.formFieldsModule.clearFormFieldStorage(),this.isFormStorageExceed=!0))),this.isStorageExceed?this.formFieldStorage[this.documentId+i]=JSON.stringify(t):n+o>4500?(this.isStorageExceed=!0,this.pdfViewer.formFieldsModule&&this.pdfViewer.formFieldsModule.clearFormFieldStorage(),this.isFormStorageExceed=!0,this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.clearAnnotationStorage(),this.formFieldStorage[this.documentId+i]=JSON.stringify(t)):e.sessionStorageManager.setItem(this.documentId+i,JSON.stringify(t))},e.prototype.exportFormFieldsAsObject=function(e){var t=this;if(this.pdfViewer.formFieldsModule)return new Promise((function(i,n){t.createRequestForExportFormfields(!0,e).then((function(e){i(e)}))}))},e.prototype.importAnnotations=function(e,t,i){this.pdfViewer.annotationModule&&this.createRequestForImportAnnotations(e,t,i)},e.prototype.exportAnnotations=function(e){this.pdfViewer.annotationModule&&(this.updateExportItem()&&this.createRequestForExportAnnotations(!1,e))},e.prototype.createRequestForExportAnnotations=function(e,t,i){var n,o=this;n=this;var r=new Promise((function(r,a){var s=o.constructJsonDownload();if(s.annotationDataFormat=t,s.action="ExportAnnotations",n.pdfViewer.fireExportStart(s)){n.jsonDocumentId&&(s.document=n.jsonDocumentId);var l=n.pdfViewer.serviceUrl+"/"+n.pdfViewer.serverActionSettings.exportAnnotations;if(n.exportAnnotationRequestHandler=new hd(o.pdfViewer),n.exportAnnotationRequestHandler.url=l,n.exportAnnotationRequestHandler.mode=!0,n.exportAnnotationRequestHandler.responseType="text",o.clientSideRendering){var d=o.pdfViewer.pdfRendererModule.exportAnnotation(s,e);n.exportAnnotationFileDownload(d,n,t,s,e,i).then((function(e){r(e)}))}else n.exportAnnotationRequestHandler.send(s);n.exportAnnotationRequestHandler.onSuccess=function(o){var a=o.data;if(!n.checkRedirection(a))if(a)n.exportAnnotationFileDownload(a,n,t,s,e,i).then((function(e){r(e)}));else{var l=void 0;l=null!==n.pdfViewer.exportAnnotationFileName?n.pdfViewer.exportAnnotationFileName:n.pdfViewer.fileName,n.pdfViewer.fireExportSuccess("Exported data saved in server side successfully",l)}},n.exportAnnotationRequestHandler.onFailure=function(e){n.pdfViewer.fireExportFailed(s.pdfAnnotation,e.statusText)},n.exportAnnotationRequestHandler.onError=function(e){n.pdfViewer.fireExportFailed(s.pdfAnnotation,e.statusText)}}}));return!e&&!i||r},e.prototype.handleServerSideExport=function(e,i,n,o,r,a){var s=this;return new Promise((function(l){if(e){if("object"==typeof e&&(e=JSON.parse(e)),e){var d=i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.exportAnnotations,e);if(r||a&&!(0,t.isBlazor)())if(e.split("base64,")[1]){var h=e,A=atob(e.split(",")[1]);r&&("Json"===o.annotationDataFormat?(A=i.getSanitizedString(A),h=JSON.parse(A)):h=A),null!==i.pdfViewer.exportAnnotationFileName?i.pdfViewer.fireExportSuccess(h,i.pdfViewer.exportAnnotationFileName):i.pdfViewer.fireExportSuccess(h,i.pdfViewer.fileName),i.updateDocumentAnnotationCollections(),l(a?e:A)}else i.pdfViewer.fireExportFailed(o.pdfAnnotation,i.pdfViewer.localeObj.getConstant("Export Failed"));else if("Json"===n)if(e.split("base64,")[1]){if(d)return e;var p=i.createBlobUrl(e.split("base64,")[1],"application/json");t.Browser.isIE||"edge"===t.Browser.info.name?null!==i.pdfViewer.exportAnnotationFileName?window.navigator.msSaveOrOpenBlob(p,i.pdfViewer.exportAnnotationFileName.split(".")[0]+".json"):window.navigator.msSaveOrOpenBlob(p,i.pdfViewer.fileName.split(".")[0]+".json"):i.downloadExportFormat(p,n),i.updateDocumentAnnotationCollections()}else{if((0,t.isBlazor)())s.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_ExportFailed").then((function(e){i.openImportExportNotificationPopup(e)}));else i.openImportExportNotificationPopup(i.pdfViewer.localeObj.getConstant("Export Failed"));i.pdfViewer.fireExportFailed(o.pdfAnnotation,i.pdfViewer.localeObj.getConstant("Export Failed"))}else if(e.split("base64,")[1]){if(d)return e;p=i.createBlobUrl(e.split("base64,")[1],"application/vnd.adobe.xfdf");t.Browser.isIE||"edge"===t.Browser.info.name?window.navigator.msSaveOrOpenBlob(p,i.pdfViewer.fileName.split(".")[0]+".xfdf"):i.downloadExportFormat(p,n),i.updateDocumentAnnotationCollections()}else{if((0,t.isBlazor)())s.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_ExportFailed").then((function(e){i.openImportExportNotificationPopup(e)}));else i.openImportExportNotificationPopup(i.pdfViewer.localeObj.getConstant("Export Failed"));i.pdfViewer.fireExportFailed(o,i.pdfViewer.localeObj.getConstant("Export Failed"))}}if("string"!=typeof e)try{"string"==typeof e&&(i.onControlError(500,e,i.pdfViewer.serverActionSettings.exportAnnotations),e=null)}catch(t){i.pdfViewer.fireExportFailed(o.pdfAnnotation,i.pdfViewer.localeObj.getConstant("Export Failed")),i.onControlError(500,e,i.pdfViewer.serverActionSettings.exportAnnotations),e=null}}return""}))},e.prototype.handleClientSideExport=function(e,i,n,o,r,a){var s=this;return new Promise((function(l){if(e){if(e){var d=i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.exportAnnotations,e);if(r||a&&!(0,t.isBlazor)())if(e&&"string"!=typeof e){var h=e,A=new TextDecoder("utf-8").decode(e);r&&("Json"===o.annotationDataFormat?(A=i.getSanitizedString(A),h=JSON.parse(A)):h=A),null!==i.pdfViewer.exportAnnotationFileName?i.pdfViewer.fireExportSuccess(h,i.pdfViewer.exportAnnotationFileName):i.pdfViewer.fireExportSuccess(h,i.pdfViewer.fileName),i.updateDocumentAnnotationCollections(),l(a?e:A)}else i.pdfViewer.fireExportFailed(o.pdfAnnotation,i.pdfViewer.localeObj.getConstant("Export Failed"));else if("Json"===n)if(e&&"string"!=typeof e){if(d)return e;var p=new Blob([e],{type:"application/json"});t.Browser.isIE||"edge"===t.Browser.info.name?null!==i.pdfViewer.exportAnnotationFileName?window.navigator.msSaveOrOpenBlob(p,i.pdfViewer.exportAnnotationFileName.split(".")[0]+".json"):window.navigator.msSaveOrOpenBlob(p,i.pdfViewer.fileName.split(".")[0]+".json"):i.downloadExportFormat(p,n),i.updateDocumentAnnotationCollections()}else{if((0,t.isBlazor)())s.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_ExportFailed").then((function(e){i.openImportExportNotificationPopup(e)}));else i.openImportExportNotificationPopup(i.pdfViewer.localeObj.getConstant("Export Failed"));i.pdfViewer.fireExportFailed(o.pdfAnnotation,i.pdfViewer.localeObj.getConstant("Export Failed"))}else if(e&&"string"!=typeof e){if(d)return e;p=new Blob([e],{type:"application/vnd.adobe.xfdf"});t.Browser.isIE||"edge"===t.Browser.info.name?window.navigator.msSaveOrOpenBlob(p,i.pdfViewer.fileName.split(".")[0]+".xfdf"):i.downloadExportFormat(p,n),i.updateDocumentAnnotationCollections()}else{if((0,t.isBlazor)())s.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_ExportFailed").then((function(e){i.openImportExportNotificationPopup(e)}));else i.openImportExportNotificationPopup(i.pdfViewer.localeObj.getConstant("Export Failed"));i.pdfViewer.fireExportFailed(o,i.pdfViewer.localeObj.getConstant("Export Failed"))}}}else try{"string"==typeof e&&(i.onControlError(500,e,i.pdfViewer.serverActionSettings.exportAnnotations),e=null)}catch(t){i.pdfViewer.fireExportFailed(o.pdfAnnotation,i.pdfViewer.localeObj.getConstant("Export Failed")),i.onControlError(500,e,i.pdfViewer.serverActionSettings.exportAnnotations),e=null}return""}))},e.prototype.exportAnnotationFileDownload=function(e,t,i,n,o,r){return this.clientSideRendering?this.handleClientSideExport(e,t,i,n,o,r):this.handleServerSideExport(e,t,i,n,o,r)},e.prototype.getDataOnSuccess=function(e){var t=this;return new Promise((function(i){var n=null;(n=t).pdfViewer.fireExportSuccess(e,n.pdfViewer.fileName),n.updateDocumentAnnotationCollections(),i(e)}))},e.prototype.updateModifiedDateToLocalDate=function(e,t){if(e[""+t]&&e[""+t].length>0){var i=e[""+t];if(i)for(var n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)].ModifiedDate=this.convertUTCDateTimeToLocalDateTime(i[parseInt(n.toString(),10)].ModifiedDate),i[parseInt(n.toString(),10)].Comments)for(var o=0;o<i[parseInt(n.toString(),10)].Comments.length;o++)i[parseInt(n.toString(),10)].Comments[parseInt(o.toString(),10)].ModifiedDate=this.convertUTCDateTimeToLocalDateTime(i[parseInt(n.toString(),10)].Comments[parseInt(o.toString(),10)].ModifiedDate)}},e.prototype.convertUTCDateTimeToLocalDateTime=function(e){var i;if(this.globalize=new t.Internationalization(this.pdfViewer.locale),null!=e&&""!==e)i=this.clientSideRendering?new Date(e):new Date(Date.parse(e+" UTC"));else{var n=new Date,o=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds());i=new Date(o)}return this.globalize.formatDate(i,{format:this.pdfViewer.dateTimeFormat,type:"dateTime"})},e.prototype.createRequestForImportAnnotations=function(e,i,n){var o,r;if(r=this,!n&&r.isPDFViewerJson?this.isJsonImported=!0:this.isJsonImported=!1,"object"!=typeof e||e instanceof Uint8Array){r.pdfViewer.fireImportStart(e),o="Json"===i&&r.isPDFViewerJson?{fileName:e,action:"ImportAnnotations",elementId:r.pdfViewer.element.id,hashId:r.hashId,uniqueId:r.documentId,annotationDataFormat:i}:{importedData:e,action:"ImportAnnotations",elementId:r.pdfViewer.element.id,hashId:r.hashId,uniqueId:r.documentId,annotationDataFormat:i},(o=Object.assign(o,this.constructJsonDownload())).action="ImportAnnotations",r.jsonDocumentId&&(o.documentId&&delete o.documentId,o.document=r.jsonDocumentId);var a=r.pdfViewer.serviceUrl+"/"+r.pdfViewer.serverActionSettings.importAnnotations;if(r.importAnnotationRequestHandler=new hd(r.pdfViewer),r.importAnnotationRequestHandler.url=a,r.importAnnotationRequestHandler.mode=!0,r.importAnnotationRequestHandler.responseType="text",this.clientSideRendering){var s=this.pdfViewer.pdfRendererModule.importAnnotations(o);s&&this.addAnnotationOnImport(s,e)}else r.importAnnotationRequestHandler.send(o);r.importAnnotationRequestHandler.onSuccess=function(i){var n=i.data;if(!r.checkRedirection(n)&&n){if("object"!=typeof n)try{"object"!=typeof(n=JSON.parse(n))&&(r.onControlError(500,n,r.pdfViewer.serverActionSettings.importAnnotations),n=null)}catch(i){if(r.pdfViewer.fireImportFailed(e,r.pdfViewer.localeObj.getConstant("File not found")),(0,t.isBlazor)())this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_FileNotFound").then((function(e){r.openImportExportNotificationPopup(e)}));else r.openImportExportNotificationPopup(r.pdfViewer.localeObj.getConstant("File not found"));r.onControlError(500,n,r.pdfViewer.serverActionSettings.importAnnotations),n=null}if(n&&(r.pdfViewer.fireAjaxRequestSuccess(r.pdfViewer.serverActionSettings.importAnnotations,n),n.pdfAnnotation)){for(var o=void 0,a=Object.keys(n.pdfAnnotation),s=0;s<Object.keys(n.pdfAnnotation).length;s++)o=n.pdfAnnotation[a[parseInt(s.toString(),10)]],r.updateModifiedDateToLocalDate(o,"annotationOrder"),r.updateModifiedDateToLocalDate(o,"freeTextAnnotation"),r.updateModifiedDateToLocalDate(o,"measureShapeAnnotation"),r.updateModifiedDateToLocalDate(o,"shapeAnnotation"),r.updateModifiedDateToLocalDate(o,"signatureAnnotation"),r.updateModifiedDateToLocalDate(o,"signatureInkAnnotation"),r.updateModifiedDateToLocalDate(o,"stampAnnotations"),r.updateModifiedDateToLocalDate(o,"stickyNotesAnnotation"),r.updateModifiedDateToLocalDate(o,"textMarkupAnnotation");r.reRenderAnnotations(n.pdfAnnotation),r.isImportedAnnotation=!0,r.updateDocumentEditedProperty(!0),r.pdfViewer.fireImportSuccess(n.pdfAnnotation)}}},r.importAnnotationRequestHandler.onFailure=function(t){r.pdfViewer.fireImportFailed(e,t.statusText)},r.importAnnotationRequestHandler.onError=function(t){r.pdfViewer.fireImportFailed(e,t.statusText)}}else{if(e&&e.pdfAnnotation)for(var l=Object.keys(e.pdfAnnotation),d=0;d<l.length;d++){var h=e.pdfAnnotation[l[parseInt(d.toString(),10)]];this.updateModifiedDateToLocalDate(h,"freeTextAnnotation"),this.updateModifiedDateToLocalDate(h,"measureShapeAnnotation"),this.updateModifiedDateToLocalDate(h,"shapeAnnotation"),this.updateModifiedDateToLocalDate(h,"signatureAnnotation"),this.updateModifiedDateToLocalDate(h,"signatureInkAnnotation"),this.updateModifiedDateToLocalDate(h,"stampAnnotations"),this.updateModifiedDateToLocalDate(h,"stickyNotesAnnotation"),this.updateModifiedDateToLocalDate(h,"textMarkupAnnotation")}r.reRenderAnnotations(e.pdfAnnotation),r.isImportedAnnotation=!0,r.updateDocumentEditedProperty(!0),this.isAddAnnotation||r.pdfViewer.fireImportSuccess(e.pdfAnnotation)}},e.prototype.addAnnotationOnImport=function(e,t){var i;if(i=this,e)if(i.pdfViewer.fireAjaxRequestSuccess(i.pdfViewer.serverActionSettings.importAnnotations,e),e.pdfAnnotation){for(var n=void 0,o=Object.keys(e.pdfAnnotation),r=0;r<Object.keys(e.pdfAnnotation).length;r++)n=e.pdfAnnotation[o[parseInt(r.toString(),10)]],i.updateModifiedDateToLocalDate(n,"annotationOrder"),i.updateModifiedDateToLocalDate(n,"freeTextAnnotation"),i.updateModifiedDateToLocalDate(n,"measureShapeAnnotation"),i.updateModifiedDateToLocalDate(n,"shapeAnnotation"),i.updateModifiedDateToLocalDate(n,"signatureAnnotation"),i.updateModifiedDateToLocalDate(n,"signatureInkAnnotation"),i.updateModifiedDateToLocalDate(n,"stampAnnotations"),i.updateModifiedDateToLocalDate(n,"stickyNotesAnnotation"),i.updateModifiedDateToLocalDate(n,"textMarkupAnnotation");i.reRenderAnnotations(e.pdfAnnotation),i.isImportedAnnotation=!0,i.updateDocumentEditedProperty(!0),i.pdfViewer.fireImportSuccess(e.pdfAnnotation)}else i.pdfViewer.fireImportFailed(t,i.pdfViewer.localeObj.getConstant("File not found"))},e.prototype.openImportExportNotificationPopup=function(e){this.pdfViewer.showNotificationDialog&&this.createNotificationPopup(e)},e.prototype.reRenderAnnotations=function(i){if(i){this.isImportAction=!0;var n=0;this.isImportedAnnotation?this.importedAnnotation=this.combineImportedData(this.importedAnnotation,i):this.pageCount>0&&(this.importedAnnotation=i),this.isImportedAnnotation||(n=0);for(var o=0;o<this.pageCount;o++)if(i[parseInt(o.toString(),10)]){var r=[],a=e.sessionStorageManager.getItem(this.documentId+"_annotations_textMarkup"),s=e.sessionStorageManager.getItem(this.documentId+"_annotations_shape"),l=e.sessionStorageManager.getItem(this.documentId+"_annotations_shape_measure"),d=e.sessionStorageManager.getItem(this.documentId+"_annotations_stamp"),h=e.sessionStorageManager.getItem(this.documentId+"_annotations_sticky"),A=e.sessionStorageManager.getItem(this.documentId+"_annotations_freetext"),p=e.sessionStorageManager.getItem(this.documentId+"_annotations_sign"),c=e.sessionStorageManager.getItem(this.documentId+"_annotations_ink");if(this.isStorageExceed&&(a=this.annotationStorage[this.documentId+"_annotations_textMarkup"],s=this.annotationStorage[this.documentId+"_annotations_shape"],l=this.annotationStorage[this.documentId+"_annotations_shape_measure"],d=this.annotationStorage[this.documentId+"_annotations_stamp"],h=this.annotationStorage[this.documentId+"_annotations_sticky"],A=this.annotationStorage[this.documentId+"_annotations_freetext"],c=this.annotationStorage[this.documentId+"_annotations_ink"]),this.drawPageAnnotations(i[parseInt(o.toString(),10)],o),this.isImportedAnnotation){for(var g=!1,u=0;u<this.annotationPageList.length;u++)this.annotationPageList[parseInt(u.toString(),10)]===o&&(g=!0);g&&(this.annotationPageList[parseInt(n.toString(),10)]=o,n+=1)}else this.annotationPageList[parseInt(n.toString(),10)]=o,n+=1;if(i[parseInt(o.toString(),10)].textMarkupAnnotation&&0!==i[parseInt(o.toString(),10)].textMarkupAnnotation.length){if(a){var f=JSON.parse(a);i[parseInt(o.toString(),10)].textMarkupAnnotation=this.checkAnnotationCollections(f,i[parseInt(o.toString(),10)].textMarkupAnnotation,o)}i[parseInt(o.toString(),10)].textMarkupAnnotation=this.checkAnnotationCommentsCollections(i[parseInt(o.toString(),10)].textMarkupAnnotation,o),r.textMarkupAnnotation=i[parseInt(o.toString(),10)].textMarkupAnnotation}if(i[parseInt(o.toString(),10)].shapeAnnotation&&0!==i[parseInt(o.toString(),10)].shapeAnnotation.length){if(s){f=JSON.parse(s);i[parseInt(o.toString(),10)].shapeAnnotation=this.checkAnnotationCollections(f,i[parseInt(o.toString(),10)].shapeAnnotation,o)}i[parseInt(o.toString(),10)].shapeAnnotation=this.checkAnnotationCommentsCollections(i[parseInt(o.toString(),10)].shapeAnnotation,o),r.shapeAnnotation=i[parseInt(o.toString(),10)].shapeAnnotation}if(i[parseInt(o.toString(),10)].measureShapeAnnotation&&0!==i[parseInt(o.toString(),10)].measureShapeAnnotation.length){if(l){f=JSON.parse(l);i[parseInt(o.toString(),10)].measureShapeAnnotation=this.checkAnnotationCollections(f,i[parseInt(o.toString(),10)].measureShapeAnnotation,o)}i[parseInt(o.toString(),10)].measureShapeAnnotation=this.checkAnnotationCommentsCollections(i[parseInt(o.toString(),10)].measureShapeAnnotation,o),r.measureShapeAnnotation=i[parseInt(o.toString(),10)].measureShapeAnnotation}if(i[parseInt(o.toString(),10)].stampAnnotations&&0!==i[parseInt(o.toString(),10)].stampAnnotations.length){if(d){f=JSON.parse(d);i[parseInt(o.toString(),10)].stampAnnotations=this.checkAnnotationCollections(f,i[parseInt(o.toString(),10)].stampAnnotations,o)}i[parseInt(o.toString(),10)].stampAnnotations=this.checkAnnotationCommentsCollections(i[parseInt(o.toString(),10)].stampAnnotations,o),r.stampAnnotations=i[parseInt(o.toString(),10)].stampAnnotations}if(i[parseInt(o.toString(),10)].stickyNotesAnnotation&&0!==i[parseInt(o.toString(),10)].stickyNotesAnnotation.length){if(h){f=JSON.parse(h);i[parseInt(o.toString(),10)].stickyNotesAnnotation=this.checkAnnotationCollections(f,i[parseInt(o.toString(),10)].stickyNotesAnnotation,o)}i[parseInt(o.toString(),10)].stickyNotesAnnotation=this.checkAnnotationCommentsCollections(i[parseInt(o.toString(),10)].stickyNotesAnnotation,o),r.stickyNotesAnnotation=i[parseInt(o.toString(),10)].stickyNotesAnnotation}if(i[parseInt(o.toString(),10)].freeTextAnnotation&&0!==i[parseInt(o.toString(),10)].freeTextAnnotation.length){if(A){f=JSON.parse(A);i[parseInt(o.toString(),10)].freeTextAnnotation=this.checkAnnotationCollections(f,i[parseInt(o.toString(),10)].freeTextAnnotation,o)}i[parseInt(o.toString(),10)].freeTextAnnotation=this.checkAnnotationCommentsCollections(i[parseInt(o.toString(),10)].freeTextAnnotation,o),r.freeTextAnnotation=i[parseInt(o.toString(),10)].freeTextAnnotation}if(i[parseInt(o.toString(),10)].signatureAnnotation&&0!==i[parseInt(o.toString(),10)].signatureAnnotation.length){if(p){f=JSON.parse(p);i[parseInt(o.toString(),10)].signatureAnnotation=this.checkSignatureCollections(f,i[parseInt(o.toString(),10)].signatureAnnotation,o)}r.signatureAnnotation=i[parseInt(o.toString(),10)].signatureAnnotation}if(i[parseInt(o.toString(),10)].signatureInkAnnotation&&0!==i[parseInt(o.toString(),10)].signatureInkAnnotation.length){if(c){f=JSON.parse(c);i[parseInt(o.toString(),10)].signatureInkAnnotation=this.checkAnnotationCollections(f,i[parseInt(o.toString(),10)].signatureInkAnnotation,o)}i[parseInt(o.toString(),10)].signatureInkAnnotation=this.checkAnnotationCommentsCollections(i[parseInt(o.toString(),10)].signatureInkAnnotation,o),r.signatureInkAnnotation=i[parseInt(o.toString(),10)].signatureInkAnnotation}if(i[parseInt(o.toString(),10)].annotationOrder)for(var m=i[parseInt(o.toString(),10)].annotationOrder,w=[],y=0;y<m.length;y++){var S=m[parseInt(y.toString(),10)].AnnotType?m[parseInt(y.toString(),10)].AnnotType:m[parseInt(y.toString(),10)].AnnotationType;w.push(m[parseInt(y.toString(),10)]);f=void 0;switch(S){case"textMarkup":if(0!==i[parseInt(o.toString(),10)].textMarkupAnnotation.length||0!==w.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(w,o);for(u=0;u<w.length;u++)(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.textMarkupAnnotationModule.updateTextMarkupAnnotationCollections(m[parseInt(y.toString(),10)],o))}break;case"shape":if(0!==i[parseInt(o.toString(),10)].shapeAnnotation.length||0!==w.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(w,o);for(u=0;u<w.length;u++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.shapeAnnotationModule.updateShapeAnnotationCollections(m[parseInt(y.toString(),10)],o))}break;case"shape_measure":if(0!==i[parseInt(o.toString(),10)].measureShapeAnnotation.length||0!==w.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(w,o);for(u=0;u<w.length;u++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.measureAnnotationModule.updateMeasureAnnotationCollections(m[parseInt(y.toString(),10)],o))}break;case"stamp":if(0!==i[parseInt(o.toString(),10)].stampAnnotations.length||0!==w.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(w,o);for(u=0;u<w.length;u++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.stampAnnotationModule.updateStampAnnotationCollections(m[parseInt(y.toString(),10)],o))}break;case"Text Box":case"freeText":if(0!==i[parseInt(o.toString(),10)].freeTextAnnotation.length||0!==w.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(w,o);for(u=0;u<w.length;u++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.freeTextAnnotationModule.updateFreeTextAnnotationCollections(m[parseInt(y.toString(),10)],o))}break;case"sticky":if(0!==i[parseInt(o.toString(),10)].stickyNotesAnnotation.length||0!==w.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(w,o);for(u=0;u<w.length;u++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateStickyNotesAnnotationCollections(m[parseInt(y.toString(),10)],o))}break;case"signature":if(0!==i[parseInt(o.toString(),10)].signatureAnnotation.length||0!==w.length)for(u=0;u<w.length;u++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.signatureModule.updateSignatureCollections(m[parseInt(y.toString(),10)],o),!0);break;case"Ink":case"ink":if(0!==i[parseInt(o.toString(),10)].signatureInkAnnotation.length||0!==w.length){this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(w,o);for(u=0;u<i[parseInt(o.toString(),10)].annotationOrder[parseInt(y.toString(),10)].length;u++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.inkAnnotationModule.updateInkCollections(m[parseInt(y.toString(),10)],o))}}w=[]}this.updateImportedAnnotationsInDocumentCollections(r,o)}if(this.pageCount>0&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule&&!this.pdfViewer.annotationModule.stickyNotesAnnotationModule.isAnnotationRendered){var C=this.createAnnotationsCollection();C&&(this.documentAnnotationCollections=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationsInDocumentCollections(this.importedAnnotation,C))}}this.isImportAction=!1},e.prototype.updateImportedAnnotationsInDocumentCollections=function(e,t){if(this.documentAnnotationCollections){var i=this.documentAnnotationCollections[parseInt(t.toString(),10)];if(i){if(e.textMarkupAnnotation&&0!==e.textMarkupAnnotation.length)for(var n=0;n<e.textMarkupAnnotation.length;n++)i.textMarkupAnnotation.push(e.textMarkupAnnotation[parseInt(n.toString(),10)]);if(e.shapeAnnotation&&0!==e.shapeAnnotation.length)for(n=0;n<e.shapeAnnotation.length;n++)i.shapeAnnotation.push(e.shapeAnnotation[parseInt(n.toString(),10)]);if(e.measureShapeAnnotation&&0!==e.measureShapeAnnotation.length)for(n=0;n<e.measureShapeAnnotation.length;n++)i.measureShapeAnnotation.push(e.measureShapeAnnotation[parseInt(n.toString(),10)]);if(e.stampAnnotations&&0!==e.stampAnnotations.length)for(n=0;n<e.stampAnnotations.length;n++)i.stampAnnotations.push(e.stampAnnotations[parseInt(n.toString(),10)]);if(e.stickyNotesAnnotation&&0!==e.stickyNotesAnnotation.length)for(n=0;n<e.stickyNotesAnnotation.length;n++)i.stickyNotesAnnotation.push(e.stickyNotesAnnotation[parseInt(n.toString(),10)]);if(e.freeTextAnnotation&&0!==e.freeTextAnnotation.length)for(n=0;n<e.freeTextAnnotation.length;n++)i.freeTextAnnotation.push(e.freeTextAnnotation[parseInt(n.toString(),10)]);if(e.signatureAnnotation&&0!==e.signatureAnnotation.length)for(n=0;n<e.signatureAnnotation.length;n++)i.signatureAnnotation.push(e.signatureAnnotation[parseInt(n.toString(),10)]);if(e.signatureInkAnnotation&&0!==e.signatureInkAnnotation.length)for(n=0;n<e.signatureInkAnnotation.length;n++)i.signatureInkAnnotation.push(e.signatureInkAnnotation[parseInt(n.toString(),10)]);this.documentAnnotationCollections[parseInt(t.toString(),10)]=i}}},e.prototype.checkDocumentCollectionData=function(t,i){var n;if(i)n=i;else if(this.documentAnnotationCollections){var o=this.documentAnnotationCollections[parseInt(t.toString(),10)];o&&(n=C(o))}if(n){var r,a=e.sessionStorageManager.getItem(this.documentId+"_annotations_textMarkup"),s=e.sessionStorageManager.getItem(this.documentId+"_annotations_shape"),l=e.sessionStorageManager.getItem(this.documentId+"_annotations_shape_measure"),d=e.sessionStorageManager.getItem(this.documentId+"_annotations_stamp"),h=e.sessionStorageManager.getItem(this.documentId+"_annotations_sticky"),A=e.sessionStorageManager.getItem(this.documentId+"_annotations_freetext"),p=e.sessionStorageManager.getItem(this.documentId+"_annotations_ink"),c=e.sessionStorageManager.getItem(this.documentId+"_annotations_sign");if(this.isStorageExceed&&(a=this.annotationStorage[this.documentId+"_annotations_textMarkup"],s=this.annotationStorage[this.documentId+"_annotations_shape"],l=this.annotationStorage[this.documentId+"_annotations_shape_measure"],d=this.annotationStorage[this.documentId+"_annotations_stamp"],h=this.annotationStorage[this.documentId+"_annotations_sticky"],A=this.annotationStorage[this.documentId+"_annotations_freetext"],p=this.annotationStorage[this.documentId+"_annotations_ink"],c=this.annotationStorage[this.documentId+"_annotations_sign"]),n.textMarkupAnnotation&&0!==n.textMarkupAnnotation.length)if(a)(r=JSON.parse(a))&&(n.textMarkupAnnotation=this.findImportedAnnotations(r,n.textMarkupAnnotation,t));if(n.shapeAnnotation&&0!==n.shapeAnnotation.length)if(s)(r=JSON.parse(s))&&(n.shapeAnnotation=this.findImportedAnnotations(r,n.shapeAnnotation,t));if(n.measureShapeAnnotation&&0!==n.measureShapeAnnotation.length)if(l)(r=JSON.parse(l))&&(n.measureShapeAnnotation=this.findImportedAnnotations(r,n.measureShapeAnnotation,t));if(n.stampAnnotations&&0!==n.stampAnnotations.length)if(d)(r=JSON.parse(d))&&(n.stampAnnotations=this.findImportedAnnotations(r,n.stampAnnotations,t));if(n.stickyNotesAnnotation&&0!==n.stickyNotesAnnotation.length)if(h)(r=JSON.parse(h))&&(n.stickyNotesAnnotation=this.findImportedAnnotations(r,n.stickyNotesAnnotation,t));if(n.freeTextAnnotation&&0!==n.freeTextAnnotation.length)if(A)(r=JSON.parse(A))&&(n.freeTextAnnotation=this.findImportedAnnotations(r,n.freeTextAnnotation,t));if(n.signatureInkAnnotation&&0!==n.signatureInkAnnotation.length)if(p)(r=JSON.parse(p))&&(n.signatureInkAnnotation=this.findImportedAnnotations(r,n.signatureInkAnnotation,t));if(n.signatureAnnotation&&0!==n.signatureAnnotation.length)if(c)(r=JSON.parse(p))&&(n.signatureAnnotation=this.findImportedAnnotations(r,n.signatureAnnotation,t));return n}},e.prototype.findImportedAnnotations=function(e,t,i){for(var n=null,o=0;o<e.length;o++)e[parseInt(o.toString(),10)].pageIndex===i&&(n=e[parseInt(o.toString(),10)].annotations);if(n)for(var r=0;r<n.length;r++)for(var a=0;a<t.length;a++)n[parseInt(r.toString(),10)].annotName===t[parseInt(a.toString(),10)].AnnotName&&(t.splice(a,1),a-=1);return n=null,t},e.prototype.setAnnotationSettings=function(e){(0,t.isNullOrUndefined)(e)||(e.AnnotationSettings=e.AnnotationSettings?e.AnnotationSettings:this.pdfViewer.annotationModule.updateAnnotationSettings(e),e.IsLocked&&(e.AnnotationSettings.isLock=e.IsLocked))},e.prototype.drawPageAnnotations=function(i,n,o){if(o&&(i=i[parseInt(n.toString(),10)]),i&&!i.annotationOrder){var r=["freeTextAnnotation","measureShapeAnnotation","shapeAnnotation","signatureAnnotation","signatureInkAnnotation","stampAnnotations","stickyNotesAnnotation","textMarkupAnnotation"].find((function(e){if(i[""+e]&&0!==i[""+e].length)return i[""+e]}));r&&(i.annotationOrder=i[""+r])}if(i){var a=i.annotationOrder,s=[],l=!0;if(!(0,t.isNullOrUndefined)(a))for(var d=0;d<a.length;d++){var h=a[parseInt(d.toString(),10)].AnnotType?a[parseInt(d.toString(),10)].AnnotType:a[parseInt(d.toString(),10)].AnnotationType;s.push(a[parseInt(d.toString(),10)]);var A=void 0,p=void 0;switch(h){case"textMarkup":l=!1,A=e.sessionStorageManager.getItem(this.documentId+"_annotations_textMarkup"),this.isStorageExceed&&(A=this.annotationStorage[this.documentId+"_annotations_textMarkup"]),A&&(p=JSON.parse(A))&&(s=this.checkAnnotationCollections(p,s,n)),s&&this.setAnnotationSettings(s[0]),i.textMarkupAnnotation=this.checkAnnotationCommentsCollections(i.textMarkupAnnotation,n),this.pdfViewer.annotationModule.renderAnnotations(n,null,null,s,null,!0);break;case"shape":l=!1,A=e.sessionStorageManager.getItem(this.documentId+"_annotations_shape"),this.isStorageExceed&&(A=this.annotationStorage[this.documentId+"_annotations_shape"]),A&&(p=JSON.parse(A),s=this.checkAnnotationCollections(p,s,n)),s&&this.setAnnotationSettings(s[0]),i.shapeAnnotation=this.checkAnnotationCommentsCollections(i.shapeAnnotation,n),this.pdfViewer.annotationModule.renderAnnotations(n,s,null,null,null,!0);break;case"shape_measure":l=!1,A=e.sessionStorageManager.getItem(this.documentId+"_annotations_shape_measure"),this.isStorageExceed&&(A=this.annotationStorage[this.documentId+"_annotations_shape_measure"]),A&&(p=JSON.parse(A),s=this.checkAnnotationCollections(p,s,n)),s&&this.setAnnotationSettings(s[0]),i.measureShapeAnnotation=this.checkAnnotationCommentsCollections(i.measureShapeAnnotation,n),this.pdfViewer.annotationModule.renderAnnotations(n,null,s,null,null,!0);break;case"stamp":A=e.sessionStorageManager.getItem(this.documentId+"_annotations_stamp"),this.isStorageExceed&&(A=this.annotationStorage[this.documentId+"_annotations_stamp"]),A&&(p=JSON.parse(A),s=this.checkAnnotationCollections(p,s,n)),s&&this.setAnnotationSettings(s[0]),i.stampAnnotations=this.checkAnnotationCommentsCollections(i.stampAnnotations,n),this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(s,n,null,!0);break;case"Text Box":case"freeText":A=e.sessionStorageManager.getItem(this.documentId+"_annotations_freetext"),this.isStorageExceed&&(A=this.annotationStorage[this.documentId+"_annotations_freetext"]),A&&(p=JSON.parse(A),s=this.checkAnnotationCollections(p,s,n)),s&&this.setAnnotationSettings(s[0]),i.freeTextAnnotation=this.checkAnnotationCommentsCollections(i.freeTextAnnotation,n),this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(s,n,!0);break;case"sticky":A=e.sessionStorageManager.getItem(this.documentId+"_annotations_sticky"),this.isStorageExceed&&(A=this.annotationStorage[this.documentId+"_annotations_sticky"]),A&&(p=JSON.parse(A),s=this.checkAnnotationCollections(p,s,n)),s&&this.setAnnotationSettings(s[0]),i.stickyNotesAnnotation=this.checkAnnotationCommentsCollections(i.stickyNotesAnnotation,n),this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderStickyNotesAnnotations(s,n);break;case"signature":case"Signature":case"SignatureText":case"SignatureImage":A=e.sessionStorageManager.getItem(this.documentId+"_annotations_sign"),p=JSON.parse(A),s&&this.setAnnotationSettings(s[0]),p&&(i.signatureAnnotation=this.checkSignatureCollections(p,s,n)),this.signatureModule.renderExistingSignature(s,n,!0);break;case"Ink":case"ink":A=e.sessionStorageManager.getItem(this.documentId+"_annotations_ink"),this.isStorageExceed&&(A=this.annotationStorage[this.documentId+"_annotations_ink"]),A&&(p=JSON.parse(A),s=this.checkAnnotationCollections(p,s,n)),s&&this.setAnnotationSettings(s[0]),i.signatureInkAnnotation=this.checkAnnotationCommentsCollections(i.signatureInkAnnotation,n),this.pdfViewer.annotationModule.inkAnnotationModule.renderExistingInkSignature(s,n,!0)}s=[]}if(l){var c=this.getElement("_annotationCanvas_"+n);this.pdfViewer.drawing.refreshCanvasDiagramLayer(c,n)}}},e.prototype.checkSignatureCollections=function(e,t,i){for(var n=null,o=0;o<e.length;o++)e[parseInt(o.toString(),10)].pageIndex===i&&(n=e[parseInt(o.toString(),10)].annotations);if(n)for(var r=0;r<n.length;r++)for(var a=0;a<t.length;a++)n[parseInt(r.toString(),10)].signatureName===t[parseInt(a.toString(),10)].SignatureName&&(t.splice(a,1),a-=1);return n=null,t},e.prototype.checkAnnotationCollections=function(e,t,i){for(var n=null,o=0;o<e.length;o++)e[parseInt(o.toString(),10)].pageIndex===i&&(n=e[parseInt(o.toString(),10)].annotations);if(n)for(var r=0;r<n.length;r++)for(var a=0;a<t.length;a++)n[parseInt(r.toString(),10)].annotName===t[parseInt(a.toString(),10)].AnnotName&&(t.splice(a,1),a-=1);return n=null,t},e.prototype.checkAnnotationCommentsCollections=function(e,t){if(this.annotationComments){var i=this.annotationComments[parseInt(t.toString(),10)];if(i=this.selectAnnotationCollections(i))for(var n=0;n<i.length;n++)for(var o=0;o<e.length;o++)i[parseInt(n.toString(),10)].AnnotName===e[parseInt(o.toString(),10)].AnnotName&&(e.splice(o,1),o-=1);i=null}return e},e.prototype.selectAnnotationCollections=function(e){var t=[];if(e){if(e.textMarkupAnnotation&&0!==e.textMarkupAnnotation.length)for(var i=0;i<e.textMarkupAnnotation.length;i++)t.push(e.textMarkupAnnotation[parseInt(i.toString(),10)]);if(e.shapeAnnotation&&0!==e.shapeAnnotation.length)for(i=0;i<e.shapeAnnotation.length;i++)t.push(e.shapeAnnotation[parseInt(i.toString(),10)]);if(e.measureShapeAnnotation&&0!==e.measureShapeAnnotation.length)for(i=0;i<e.measureShapeAnnotation.length;i++)t.push(e.measureShapeAnnotation[parseInt(i.toString(),10)]);if(e.stampAnnotations&&0!==e.stampAnnotations.length)for(i=0;i<e.stampAnnotations.length;i++)t.push(e.stampAnnotations[parseInt(i.toString(),10)]);if(e.stickyNotesAnnotation&&0!==e.stickyNotesAnnotation.length)for(i=0;i<e.stickyNotesAnnotation.length;i++)t.push(e.stickyNotesAnnotation[parseInt(i.toString(),10)]);if(e.freeTextAnnotation&&0!==e.freeTextAnnotation.length)for(i=0;i<e.freeTextAnnotation.length;i++)t.push(e.freeTextAnnotation[parseInt(i.toString(),10)]);if(e.signatureInkAnnotation&&0!==e.signatureInkAnnotation.length)for(i=0;i<e.signatureInkAnnotation.length;i++)t.push(e.signatureInkAnnotation[parseInt(i.toString(),10)])}return t},e.prototype.saveImportedAnnotations=function(){var t=e.sessionStorageManager.getItem(this.documentId+"_annotations_textMarkup"),i=e.sessionStorageManager.getItem(this.documentId+"_annotations_shape"),n=e.sessionStorageManager.getItem(this.documentId+"_annotations_shape_measure"),o=e.sessionStorageManager.getItem(this.documentId+"_annotations_stamp"),r=e.sessionStorageManager.getItem(this.documentId+"_annotations_sticky"),a=e.sessionStorageManager.getItem(this.documentId+"_annotations_freetext"),s=e.sessionStorageManager.getItem(this.documentId+"_annotations_ink"),l=e.sessionStorageManager.getItem(this.documentId+"_annotations_sign");if(this.isStorageExceed&&(t=this.annotationStorage[this.documentId+"_annotations_textMarkup"],i=this.annotationStorage[this.documentId+"_annotations_shape"],n=this.annotationStorage[this.documentId+"_annotations_shape_measure"],o=this.annotationStorage[this.documentId+"_annotations_stamp"],r=this.annotationStorage[this.documentId+"_annotations_sticky"],a=this.annotationStorage[this.documentId+"_annotations_freetext"],s=this.annotationStorage[this.documentId+"_annotations_ink"],l=this.annotationStorage[this.documentId+"_annotations_sign"]),this.downloadCollections={textMarkupObject:t,shapeObject:i,measureShapeObject:n,stampObject:o,stickyObject:r,freeTextObject:a,inkObject:s,signatureObject:l},this.documentAnnotationCollections)for(var d=0;d<this.pageCount;d++)if(this.documentAnnotationCollections[parseInt(d.toString(),10)]){var h=C(this.documentAnnotationCollections[parseInt(d.toString(),10)]);h=this.checkDocumentCollectionData(d,h),this.savePageAnnotations(h,d)}},e.prototype.savePageAnnotations=function(e,i){if(0!==e.textMarkupAnnotation.length)for(var n=0;n<e.textMarkupAnnotation.length;n++)(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.textMarkupAnnotationModule)||this.pdfViewer.annotationModule.textMarkupAnnotationModule.saveImportedTextMarkupAnnotations(e.textMarkupAnnotation[parseInt(n.toString(),10)],i);if(0!==e.shapeAnnotation.length)for(n=0;n<e.shapeAnnotation.length;n++)this.pdfViewer.annotationModule.shapeAnnotationModule.saveImportedShapeAnnotations(e.shapeAnnotation[parseInt(n.toString(),10)],i);if(0!==e.measureShapeAnnotation.length)for(n=0;n<e.measureShapeAnnotation.length;n++)this.pdfViewer.annotationModule.measureAnnotationModule.saveImportedMeasureAnnotations(e.measureShapeAnnotation[parseInt(n.toString(),10)],i);if(0!==e.stampAnnotations.length)for(n=0;n<e.stampAnnotations.length;n++)this.pdfViewer.annotationModule.stampAnnotationModule.saveImportedStampAnnotations(e.stampAnnotations[parseInt(n.toString(),10)],i);if(0!==e.stickyNotesAnnotation.length)for(n=0;n<e.stickyNotesAnnotation.length;n++)this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveImportedStickyNotesAnnotations(e.stickyNotesAnnotation[parseInt(n.toString(),10)],i);if(0!==e.freeTextAnnotation.length)for(n=0;n<e.freeTextAnnotation.length;n++)this.pdfViewer.annotationModule.freeTextAnnotationModule.saveImportedFreeTextAnnotations(e.freeTextAnnotation[parseInt(n.toString(),10)],i);if(0!==e.signatureInkAnnotation.length){this.pdfViewer.isSignatureEditable||(e.signatureInkAnnotation=this.canUpdateSignCollection(e.signatureInkAnnotation));for(n=0;n<e.signatureInkAnnotation.length;n++)this.pdfViewer.annotationModule.inkAnnotationModule.saveImportedInkAnnotation(e.signatureInkAnnotation[parseInt(n.toString(),10)],i)}0!==e.signatureAnnotation.length&&(this.pdfViewer.isSignatureEditable||(e.signatureAnnotation=this.canUpdateSignCollection(e.signatureAnnotation)))},e.prototype.updateDocumentAnnotationCollections=function(){e.sessionStorageManager.removeItem(this.documentId+"_annotations_textMarkup"),e.sessionStorageManager.removeItem(this.documentId+"_annotations_shape"),e.sessionStorageManager.removeItem(this.documentId+"_annotations_shape_measure"),e.sessionStorageManager.removeItem(this.documentId+"_annotations_stamp"),e.sessionStorageManager.removeItem(this.documentId+"_annotations_sticky"),e.sessionStorageManager.removeItem(this.documentId+"_annotations_freetext"),e.sessionStorageManager.removeItem(this.documentId+"_annotations_ink"),this.downloadCollections&&(this.isStorageExceed?(this.annotationStorage[this.documentId+"_annotations_textMarkup"]=this.downloadCollections.textMarkupObject,this.annotationStorage[this.documentId+"_annotations_shape"]=this.downloadCollections.shapeObject,this.annotationStorage[this.documentId+"_annotations_shape_measure"]=this.downloadCollections.measureShapeObject,this.annotationStorage[this.documentId+"_annotations_stamp"]=this.downloadCollections.stampObject,this.annotationStorage[this.documentId+"_annotations_sticky"]=this.downloadCollections.stickyObject,this.annotationStorage[this.documentId+"_annotations_freetext"]=this.downloadCollections.freeTextObject,this.annotationStorage[this.documentId+"_annotations_ink"]=this.downloadCollections.inkObject):(this.downloadCollections.textMarkupObject&&e.sessionStorageManager.setItem(this.documentId+"_annotations_textMarkup",this.downloadCollections.textMarkupObject),this.downloadCollections.shapeObject&&e.sessionStorageManager.setItem(this.documentId+"_annotations_shape",this.downloadCollections.shapeObject),this.downloadCollections.measureShapeObject&&e.sessionStorageManager.setItem(this.documentId+"_annotations_shape_measure",this.downloadCollections.measureShapeObject),this.downloadCollections.stampObject&&e.sessionStorageManager.setItem(this.documentId+"_annotations_stamp",this.downloadCollections.stampObject),this.downloadCollections.stickyObject&&e.sessionStorageManager.setItem(this.documentId+"_annotations_sticky",this.downloadCollections.stickyObject),this.downloadCollections.freeTextObject&&e.sessionStorageManager.setItem(this.documentId+"_annotations_freetext",this.downloadCollections.freeTextObject),this.downloadCollections.inkObject&&e.sessionStorageManager.setItem(this.documentId+"_annotations_ink",this.downloadCollections.inkObject)))},e.prototype.createAnnotationJsonData=function(){var e,t,i,n,o,r,a,s,l={};if(this.saveImportedAnnotations(),this.isTextMarkupAnnotationModule()&&(this.isJsonExported=!0,e=this.pdfViewer.annotationModule.textMarkupAnnotationModule.saveTextMarkupAnnotations()),this.isShapeAnnotationModule()&&(this.isJsonExported=!0,t=this.pdfViewer.annotationModule.shapeAnnotationModule.saveShapeAnnotations()),this.isCalibrateAnnotationModule()&&(this.isJsonExported=!0,i=this.pdfViewer.annotationModule.measureAnnotationModule.saveMeasureShapeAnnotations()),this.isStampAnnotationModule()&&(n=this.pdfViewer.annotationModule.stampAnnotationModule.saveStampAnnotations()),this.isCommentAnnotationModule()&&(o=this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveStickyAnnotations()),this.isFreeTextAnnotationModule()&&(r=this.pdfViewer.annotationModule.freeTextAnnotationModule.saveFreeTextAnnotations()),this.isInkAnnotationModule()&&(s=this.pdfViewer.annotationModule.inkAnnotationModule.saveInkSignature()),this.pdfViewer.isSignatureEditable)a=this.signatureModule.saveSignature();else{for(var d=[],h=0;h<this.pageCount;h++)d[parseInt(h.toString(),10)]=[];a=JSON.stringify(d)}for(var A=0;A<this.pageCount;A++){var p={textMarkupAnnotation:JSON.parse(e)[parseInt(A.toString(),10)],shapeAnnotation:JSON.parse(t)[parseInt(A.toString(),10)],measureShapeAnnotation:JSON.parse(i)[parseInt(A.toString(),10)],stampAnnotations:JSON.parse(n)[parseInt(A.toString(),10)],stickyNotesAnnotation:JSON.parse(o)[parseInt(A.toString(),10)],freeTextAnnotation:JSON.parse(r)[parseInt(A.toString(),10)],signatureAnnotation:JSON.parse(a)[parseInt(A.toString(),10)],signatureInkAnnotation:JSON.parse(s)[parseInt(A.toString(),10)]};l[parseInt(A.toString(),10)]=p}return JSON.stringify(l)},e.prototype.combineImportedData=function(e,t){for(var i=0;i<this.pageCount;i++)if(t[parseInt(i.toString(),10)])if(e[parseInt(i.toString(),10)])t[parseInt(i.toString(),10)].textMarkupAnnotation&&0!==t[parseInt(i.toString(),10)].textMarkupAnnotation.length&&(e[parseInt(i.toString(),10)].textMarkupAnnotation?(t[parseInt(i.toString(),10)].textMarkupAnnotation=this.checkImportedData(e[parseInt(i.toString(),10)].textMarkupAnnotation,t[parseInt(i.toString(),10)].textMarkupAnnotation,i),0!==t[parseInt(i.toString(),10)].textMarkupAnnotation.length&&(e[parseInt(i.toString(),10)].textMarkupAnnotation=e[parseInt(i.toString(),10)].textMarkupAnnotation.concat(t[parseInt(i.toString(),10)].textMarkupAnnotation))):e[parseInt(i.toString(),10)].textMarkupAnnotation=t[parseInt(i.toString(),10)].textMarkupAnnotation),t[parseInt(i.toString(),10)].shapeAnnotation&&0!==t[parseInt(i.toString(),10)].shapeAnnotation.length&&(e[parseInt(i.toString(),10)].shapeAnnotation?(t[parseInt(i.toString(),10)].shapeAnnotation=this.checkImportedData(e[parseInt(i.toString(),10)].shapeAnnotation,t[parseInt(i.toString(),10)].shapeAnnotation,i),0!==t[parseInt(i.toString(),10)].shapeAnnotation.length&&(e[parseInt(i.toString(),10)].shapeAnnotation=e[parseInt(i.toString(),10)].shapeAnnotation.concat(t[parseInt(i.toString(),10)].shapeAnnotation))):e[parseInt(i.toString(),10)].shapeAnnotation=t[parseInt(i.toString(),10)].shapeAnnotation),t[parseInt(i.toString(),10)].measureShapeAnnotation&&0!==t[parseInt(i.toString(),10)].measureShapeAnnotation.length&&(e[parseInt(i.toString(),10)].measureShapeAnnotation?(t[parseInt(i.toString(),10)].measureShapeAnnotation=this.checkImportedData(e[parseInt(i.toString(),10)].measureShapeAnnotation,t[parseInt(i.toString(),10)].measureShapeAnnotation,i),0!==t[parseInt(i.toString(),10)].measureShapeAnnotation.length&&(e[parseInt(i.toString(),10)].measureShapeAnnotation=e[parseInt(i.toString(),10)].measureShapeAnnotation.concat(t[parseInt(i.toString(),10)].measureShapeAnnotation))):e[parseInt(i.toString(),10)].measureShapeAnnotation=t[parseInt(i.toString(),10)].measureShapeAnnotation),t[parseInt(i.toString(),10)].stampAnnotations&&0!==t[parseInt(i.toString(),10)].stampAnnotations.length&&(e[parseInt(i.toString(),10)].stampAnnotations?(t[parseInt(i.toString(),10)].stampAnnotations=this.checkImportedData(e[parseInt(i.toString(),10)].stampAnnotations,t[parseInt(i.toString(),10)].stampAnnotations,i),0!==t[parseInt(i.toString(),10)].stampAnnotations.length&&(e[parseInt(i.toString(),10)].stampAnnotations=e[parseInt(i.toString(),10)].stampAnnotations.concat(t[parseInt(i.toString(),10)].stampAnnotations))):e[parseInt(i.toString(),10)].stampAnnotations=t[parseInt(i.toString(),10)].stampAnnotations),t[parseInt(i.toString(),10)].stickyNotesAnnotation&&0!==t[parseInt(i.toString(),10)].stickyNotesAnnotation.length&&(e[parseInt(i.toString(),10)].stickyNotesAnnotation?(t[parseInt(i.toString(),10)].stickyNotesAnnotation=this.checkImportedData(e[parseInt(i.toString(),10)].stickyNotesAnnotation,t[parseInt(i.toString(),10)].stickyNotesAnnotation,i),0!==t[parseInt(i.toString(),10)].stickyNotesAnnotation.length&&(e[parseInt(i.toString(),10)].stickyNotesAnnotation=e[parseInt(i.toString(),10)].stickyNotesAnnotation.concat(t[parseInt(i.toString(),10)].stickyNotesAnnotation))):e[parseInt(i.toString(),10)].stickyNotesAnnotation=t[parseInt(i.toString(),10)].stickyNotesAnnotation),t[parseInt(i.toString(),10)].freeTextAnnotation&&0!==t[parseInt(i.toString(),10)].freeTextAnnotation.length&&(e[parseInt(i.toString(),10)].freeTextAnnotation?(t[parseInt(i.toString(),10)].freeTextAnnotation=this.checkImportedData(e[parseInt(i.toString(),10)].freeTextAnnotation,t[parseInt(i.toString(),10)].freeTextAnnotation,i),0!==t[parseInt(i.toString(),10)].freeTextAnnotation.length&&(e[parseInt(i.toString(),10)].freeTextAnnotation=e[parseInt(i.toString(),10)].freeTextAnnotation.concat(t[parseInt(i.toString(),10)].freeTextAnnotation))):e[parseInt(i.toString(),10)].freeTextAnnotation=t[parseInt(i.toString(),10)].freeTextAnnotation),t[parseInt(i.toString(),10)].signatureInkAnnotation&&0!==t[parseInt(i.toString(),10)].signatureInkAnnotation.length&&(e[parseInt(i.toString(),10)].signatureInkAnnotation?(t[parseInt(i.toString(),10)].signatureInkAnnotation=this.checkImportedData(e[parseInt(i.toString(),10)].signatureInkAnnotation,t[parseInt(i.toString(),10)].signatureInkAnnotation,i),0!==t[parseInt(i.toString(),10)].signatureInkAnnotation.length&&(e[parseInt(i.toString(),10)].signatureInkAnnotation=e[parseInt(i.toString(),10)].signatureInkAnnotation.concat(t[parseInt(i.toString(),10)].signatureInkAnnotation))):e[parseInt(i.toString(),10)].signatureInkAnnotation=t[parseInt(i.toString(),10)].signatureInkAnnotation);else{var n={textMarkupAnnotation:t[parseInt(i.toString(),10)].textMarkupAnnotation,shapeAnnotation:t[parseInt(i.toString(),10)].shapeAnnotation,measureShapeAnnotation:t[parseInt(i.toString(),10)].measureShapeAnnotation,stampAnnotations:t[parseInt(i.toString(),10)].stampAnnotations,stickyNotesAnnotation:t[parseInt(i.toString(),10)].stickyNotesAnnotation,freeTextAnnotation:t[parseInt(i.toString(),10)].freeTextAnnotation,signatureInkAnnotation:t[parseInt(i.toString(),10)].signatureInkAnnotation};e[parseInt(i.toString(),10)]=n}return e},e.prototype.updateExportItem=function(){var t=e.sessionStorageManager.getItem(this.documentId+"_annotations_shape"),i=e.sessionStorageManager.getItem(this.documentId+"_annotations_shape_measure"),n=e.sessionStorageManager.getItem(this.documentId+"_annotations_stamp"),o=e.sessionStorageManager.getItem(this.documentId+"_annotations_sticky"),r=e.sessionStorageManager.getItem(this.documentId+"_annotations_textMarkup"),a=e.sessionStorageManager.getItem(this.documentId+"_annotations_freetext"),s=!1,l=e.sessionStorageManager.getItem(this.documentId+"_annotations_ink");this.pdfViewer.isSignatureEditable&&(e.sessionStorageManager.getItem(this.documentId+"_annotations_sign")&&(s=!0));return!!(this.checkExportAnnotations(t)||this.checkExportAnnotations(i)||this.checkExportAnnotations(n)||this.checkExportAnnotations(o)||this.checkExportAnnotations(r)||this.checkExportAnnotations(a)||this.isImportAction||this.isStorageExceed||s||this.checkExportAnnotations(l))},e.prototype.checkExportAnnotations=function(e){return!!e&&JSON.parse(e).filter((function(e){return e.annotations.length>0})).length>0},e.prototype.isFreeTextAnnotation=function(e){var i=!1;return e&&e.length>0&&(i=e.some((function(e){return"FreeText"===e.shapeAnnotationType&&!(0,t.isNullOrUndefined)(e.subject)}))),i},e.prototype.checkImportedData=function(e,t,i){for(var n=0;n<e.length;n++)for(var o=0;o<t.length;o++)if(e[parseInt(n.toString(),10)].AnnotName===t[parseInt(o.toString(),10)].AnnotName){for(var r=this.pdfViewer.annotationCollection.length,a=0;a<r;a++)if(this.pdfViewer.annotationCollection[parseInt(a.toString(),10)].annotationId===t[parseInt(o.toString(),10)].AnnotName){this.pdfViewer.annotationCollection[parseInt(a.toString(),10)].comments=this.pdfViewer.annotationModule.getAnnotationComments(t[parseInt(o.toString(),10)].Comments,t[parseInt(o.toString(),10)],t[parseInt(o.toString(),10)].Author),this.pdfViewer.annotationCollection[parseInt(a.toString(),10)].review={state:t[parseInt(o.toString(),10)].State,stateModel:t[parseInt(o.toString(),10)].StateModel,modifiedDate:t[parseInt(o.toString(),10)].ModifiedDate,author:t[parseInt(o.toString(),10)].Author},this.pdfViewer.annotationCollection[parseInt(a.toString(),10)].note=t[parseInt(o.toString(),10)].Note;var s=this.pdfViewer.annotationCollection[parseInt(a.toString(),10)];"shape"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.shapeAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].shapeAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_shape")):"textMarkup"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.textMarkupAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].textMarkupAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_textMarkup")):"shape_measure"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.measureAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].measureShapeAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_shape_measure")):"stamp"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.stampAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].stampAnnotations[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_stamp")):"freeText"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.freeTextAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].freeTextAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_freetext")):"ink"===e[parseInt(n.toString(),10)].AnnotType&&this.pdfViewer.annotationModule.inkAnnotationModule?(this.documentAnnotationCollections[parseInt(i.toString(),10)].signatureInkAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_ink")):"sticky"===e[parseInt(n.toString(),10)].AnnotType&&(this.documentAnnotationCollections[parseInt(i.toString(),10)].stickyNotesAnnotation[parseInt(n.toString(),10)]=t[parseInt(o.toString(),10)],this.updateAnnotationsInSessionStorage(t[parseInt(o.toString(),10)],s,"_annotations_sticky"));break}this.pdfViewer.annotationModule.stickyNotesAnnotationModule.createCommentControlPanel(t[parseInt(o.toString(),10)],i+1,null,null,!0),t.splice(o,1),o-=1}if(this.annotationComments){var l=this.annotationComments[parseInt(i.toString(),10)];if(l=this.selectAnnotationCollections(l))for(n=0;n<l.length;n++)for(o=0;o<t.length;o++)l[parseInt(n.toString(),10)].AnnotName===t[parseInt(o.toString(),10)].AnnotName&&(t.splice(o,1),o-=1)}return t},e.prototype.updateAnnotationsInSessionStorage=function(t,i,n){var o=e.sessionStorageManager.getItem(this.documentId+n),r=JSON.parse(o);if(r){for(var a=0;a<r.length;a++)if(r[parseInt(a.toString(),10)].annotations)for(var s=0;s<r[parseInt(a.toString(),10)].annotations.length;s++)if(r[parseInt(a.toString(),10)].annotations[parseInt(s.toString(),10)].annotName===t.AnnotName){r[parseInt(a.toString(),10)].annotations[parseInt(s.toString(),10)].comments=i.comments,r[parseInt(a.toString(),10)].annotations[parseInt(s.toString(),10)].review=i.review,r[parseInt(a.toString(),10)].annotations[parseInt(s.toString(),10)].note=i.note;break}e.sessionStorageManager.setItem(this.documentId+n,JSON.stringify(r))}},e.prototype.checkAnnotationWidth=function(e){for(var t,i,n,o,r=0;r<e.length;r++)t?(t>e[parseInt(r.toString(),10)].x?t=e[parseInt(r.toString(),10)].x:i<e[parseInt(r.toString(),10)].x&&(i=e[parseInt(r.toString(),10)].x),n>e[parseInt(r.toString(),10)].y?n=e[parseInt(r.toString(),10)].y:o<e[parseInt(r.toString(),10)].y&&(o=e[parseInt(r.toString(),10)].y)):(t=e[parseInt(r.toString(),10)].x,i=e[parseInt(r.toString(),10)].x,n=e[parseInt(r.toString(),10)].y,o=e[parseInt(r.toString(),10)].y);return{width:i-t,height:o-n}},e.prototype.deleteAnnotations=function(){if(this.pdfViewer.annotationModule){this.updateAnnotationsUndoRedo(),this.pdfViewer.annotations=[],this.pdfViewer.zIndexTable=[],this.pdfViewer.annotationCollection=[],this.pdfViewer.signatureCollection=[];var e=this.createAnnotationsCollection();this.annotationComments=e,this.documentAnnotationCollections=e,this.annotationRenderredList=[];for(var t=0;t<this.pageCount;t++){this.pdfViewer.annotationModule.renderAnnotations(t,null,null,null),this.pdfViewer.renderDrawing(void 0,t),this.pdfViewer.clearSelection(t);var i=document.getElementById(this.pdfViewer.element.id+"_accordionContainer"+(t+1));i&&i.remove();var n=document.getElementById(this.pdfViewer.element.id+"_accordionContentContainer");n&&0===n.childElementCount&&(n.style.display="none",document.getElementById(this.pdfViewer.element.id+"_commentsPanelText")&&(this.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant("Export Annotations")],!1),document.getElementById(this.pdfViewer.element.id+"_commentsPanelText").style.display="block"))}this.isImportedAnnotation=!1,this.isImportAction=!1,this.importedAnnotation=[],this.annotationPageList=[],this.pdfViewer.annotationModule.freeTextAnnotationModule.freeTextPageNumbers=[],this.pdfViewer.annotationModule.stampAnnotationModule.stampPageNumber=[],this.pdfViewer.annotation.inkAnnotationModule.inkAnnotationindex=[],this.isAnnotationCollectionRemoved=!0}else this.getModuleWarningMessage("Annotation")},e.prototype.updateAnnotationsUndoRedo=function(){for(var e=function(e){var n=null,o=i;if("textMarkup"===o.pdfViewer.annotationCollection[parseInt(e.toString(),10)].shapeAnnotationType){n=o.pdfViewer.annotationCollection[parseInt(e.toString(),10)];var r=o.pdfViewer.annotation.textMarkupAnnotationModule.getAnnotations(n.pageNumber,null);if(r)for(var a=0;a<r.length;a++)if(n.annotationId===r[parseInt(a.toString(),10)].annotName){var l=r.splice(parseInt(a.toString(),10),1)[0];o.pdfViewer.annotation.addAction(n.pageNumber,parseInt(a.toString(),10),l,"Text Markup Deleted",null),o.pdfViewer.annotation.stickyNotesAnnotationModule.findPosition(l,"textMarkup");var d=document.getElementById(l.annotName);d&&(1===d.parentElement.childElementCount?o.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAccordionContainer(d):d.remove())}o.pdfViewer.annotation.textMarkupAnnotationModule.manageAnnotations(r,n.pageNumber)}else{n=o.pdfViewer.annotations.filter((function(t){return t.annotName===o.pdfViewer.annotationCollection[parseInt(e.toString(),10)].annotationId}))[0],(0,t.isNullOrUndefined)(n)&&((n=new s(i.pdfViewer,"annotations",o.pdfViewer.annotationCollection[parseInt(e.toString(),10)],!0)).id=o.pdfViewer.annotationCollection[parseInt(e.toString(),10)].uniqueId,n.annotName=o.pdfViewer.annotationCollection[parseInt(e.toString(),10)].annotationId,n.annotationId=null);var h=o.pdfViewer.annotation.modifyInCollections(n,"delete");if((0,t.isNullOrUndefined)(h)&&((h=o.pdfViewer.annotationCollection[parseInt(e.toString(),10)]).annotName=o.pdfViewer.annotationCollection[parseInt(e.toString(),10)].annotationId,delete h.annotationId),o.pdfViewer.annotation.undoCommentsElement.push(h),o.pdfViewer.annotation.addAction(n.pageIndex,null,n,"Delete","",h,n),"Square"===n.shapeAnnotationType||"Line"===n.shapeAnnotationType||"Circle"===n.shapeAnnotationType||"Polygon"===n.shapeAnnotationType||"Polyline"===n.shapeAnnotationType)n.calibrate?o.pdfViewer.annotation.measureAnnotationModule.manageAnnotations(n,n.pageNumber):o.pdfViewer.annotation.shapeAnnotationModule.manageAnnotations(n,n.pageNumber);else if("image"===n.stampAnnotationType)o.pdfViewer.annotation.stampAnnotationModule.manageAnnotations(n,n.pageNumber);else if("FreeText"===n.shapeAnnotationType)o.pdfViewer.annotation.freeTextAnnotationModule.manageAnnotations(n,n.pageNumber);else if("Ink"===n.shapeAnnotationType)o.pdfViewer.annotation.inkAnnotationModule.manageInkAnnotations(n,n.pageNumber);else if("StickyNotes"===n.shapeAnnotationType){var A=o.pdfViewer.annotation.stickyNotesAnnotationModule.getAnnotations(n.pageIndex,null,"sticky");for(a=0;a<A.length;a++)if(A[parseInt(a.toString(),10)].annotName===n.annotName){A.splice(a,1);break}o.pdfViewer.annotation.stickyNotesAnnotationModule.manageAnnotations(A,n.pageIndex,"sticky")}}},i=this,n=0;n<this.pdfViewer.annotationCollection.length;n++)e(n)},e.prototype.createAnnotationsCollection=function(e,t){var i=[];if(t){o={textMarkupAnnotation:[],shapeAnnotation:[],measureShapeAnnotation:[],stampAnnotations:[],stickyNotesAnnotation:[],freeTextAnnotation:[],signatureAnnotation:[],signatureInkAnnotation:[]};(i={})[parseInt(e.toString(),10)]=o}else for(var n=0;n<this.pageCount;n++){var o={textMarkupAnnotation:[],shapeAnnotation:[],measureShapeAnnotation:[],stampAnnotations:[],stickyNotesAnnotation:[],freeTextAnnotation:[],signatureAnnotation:[],signatureInkAnnotation:[]};i.push(o)}return i},e.prototype.addAnnotation=function(e){var t,i={};if(e){var n=!1,o=1;e.shapeAnnotationType||e.author?(n=!0,t=this.createAnnotationsCollection(e.pageNumber,!0)):e.length?(o=e.length,t=this.createAnnotationsCollection()):(n=!0,t=this.createAnnotationsCollection(e.pageNumber,!0));for(var r=0;r<o;r++){var a=void 0;a=n?e:e[parseInt(r.toString(),10)];var s={};if(s.ShapeAnnotationType=a.shapeAnnotationType,s.AnnotationAddMode=a.annotationAddMode,s.Author=a.author,s.AnnotationSelectorSettings=a.annotationSelectorSettings,s.AnnotationSettings=a.annotationSettings,s.PageNumber=a.pageNumber,s.ModifiedDate=a.modifiedDate,s.Subject=a.subject,s.Note=a.note,s.AnnotName=a.annotationId,s.IsCommentLock=a.isCommentLock,s.Comments=a.comments,a.comments&&a.comments.length>0){for(var l=[],d=0;d<a.comments.length;d++)l.push(this.updateComments(a,a.comments[parseInt(d.toString(),10)]));s.Comments=l}if(a.review&&(s.State=a.review.state,s.StateModel=a.review.stateModel),s.CustomData=a.customData,s.Opacity=a.opacity,"textMarkup"===a.shapeAnnotationType){if(s.AnnotType="textMarkup",s.Color=a.color,s.IsMultiSelect=a.isMultiSelect,s.TextMarkupAnnotationType=a.textMarkupAnnotationType,s.TextMarkupContent=a.textMarkupContent,s.TextMarkupStartIndex=a.textMarkupStartIndex,s.TextMarkupEndIndex=a.textMarkupEndIndex,a.rect&&(s.Rect=this.convertBounds(a.rect,!0)),a.bounds&&a.bounds.length>=1){var h=[];for(d=0;d<a.bounds.length;d++)h.push(this.convertBounds(a.bounds[parseInt(d.toString(),10)]));s.Bounds=h}t[a.pageNumber].textMarkupAnnotation.push(s)}else if("sticky"===a.shapeAnnotationType)s.AnnotType="sticky",s.Icon="Comment",s.Bounds=this.convertBounds(a.bounds),s.StrokeColor=a.strokeColor,s.Color=a.color,t[a.pageNumber].stickyNotesAnnotation.push(s);else if("FreeText"===a.shapeAnnotationType)s.AnnotType="freeText",s.Name=a.annotationId,s.MarkupText=a.dynamicText,s.Text=a.dynamicText,s.Note=a.dynamicText,s.TextAlign=a.textAlign,s.Thickness=a.thicknes,s.StrokeColor=a.strokeColor,s.FillColor=a.fillColor,s.FontColor=a.fontColor,s.FontSize=a.fontSize,s.FontFamily=a.fontFamily,s.Rotate=a.rotateAngle,s.Bounds=this.convertBounds(a.bounds),s.Font={Name:a.fontFamily,Size:a.fontSize,Bold:a.font.isBold,Italic:a.font.isItalic,Strikeout:a.font.isStrikeout,Underline:a.font.isUnderline},t[a.pageNumber].freeTextAnnotation.push(s);else if("stamp"===a.shapeAnnotationType){if(s.AnnotType="stamp",s.Icon=a.icon,s.isDynamic=!1,s.Rect=this.convertBounds(a.bounds,!1,!0),s.RotateAngle=a.rotateAngle,s.FillColor=a.fillColor,s.StrokeColor=a.strokeColor,s.StampAnnotationType=a.stampAnnotationType,s.CreationDate=a.creationDate,"image"===a.stampAnnotationType){var A=[],p={imagedata:a.stampAnnotationPath};A.push(p),s.Apperarance=A}if(a.isDynamicStamp){s.IsDynamic=!0,s.StrokeColor=a.stampFillcolor;A=[],p={type:"string",text:a.dynamicText,currentFontname:"95b303ab-d397-438a-83af-e2ff8a9900f1",baseFontName:"Helvetica-BoldOblique",fontSize:10,isImport:!0};A.push(p),s.Apperarance=A}t[a.pageNumber].stampAnnotations.push(s)}else if("Ink"===a.shapeAnnotationType||"Signature"===a.shapeAnnotationType)s.StrokeColor=a.strokeColor,s.FillColor=a.fillColor,s.Thickness=a.thickness,s.Bounds=this.convertBounds(a.bounds),s.PathData=a.data,s.pageIndex=a.pageNumber,"Ink"===a.shapeAnnotationType&&(s.AnnotType="Ink",s.IsPathData=!0,t[a.pageNumber].signatureInkAnnotation.push(s)),"Signature"===a.shapeAnnotationType&&(s.AnnotType="Signature",s.SignatureName=a.annotationId,s.IsSignature=!0,t[a.pageNumber].signatureAnnotation.push(s));else if("Line"===a.shapeAnnotationType||"LineWidthArrowHead"===a.shapeAnnotationType||"Polyline"===a.shapeAnnotationType||"Polygon"===a.shapeAnnotationType||"Polyline"===a.shapeAnnotationType||"Circle"===a.shapeAnnotationType||"Oval"===a.shapeAnnotationType||"Rectangle"===a.shapeAnnotationType||"Square"===a.shapeAnnotationType||"Ellipse"===a.shapeAnnotationType){if(s.AnnotType="shape",s.StrokeColor=a.strokeColor,s.FillColor=a.fillColor,s.Thickness=a.thickness,s.BorderStyle=a.borderStyle,s.BorderDashArray=a.borderDashArray,s.RotateAngle=a.rotateAngle,s.IsCloudShape=a.isCloudShape,s.CloudIntensity=a.cloudIntensity,s.RectangleDifference=a.rectangleDifference,s.LineHeadStart=a.lineHeadStart,s.LineHeadEnd=a.lineHeadEnd,s.IsLocked=a.isLocked,s.EnableShapeLabel=a.enableShapeLabel,s.LabelContent=a.labelContent,s.LabelFillColor=a.labelFillColor,s.LabelBorderColor=a.labelBorderColor,s.FontColor=a.fontColor,s.FontSize=a.fontSize,s.LabelBounds=this.convertBounds(a.labelBounds),s.LabelSettings=a.labelSettings,s.Bounds=this.convertBounds(a.bounds),s.LeaderLength=a.leaderLength,s.LeaderLineExtenstion=a.leaderLineExtension,a.vertexPoints&&a.vertexPoints.length>=1){var c=[];for(d=0;d<a.vertexPoints.length;d++)c.push(this.convertVertexPoints(a.vertexPoints[parseInt(d.toString(),10)]));s.VertexPoints=c}if(s.EnableShapeLabel=a.enableShapeLabel,"Distance calculation"===a.subject||"Perimeter calculation"===a.subject||"Area calculation"===a.subject||"Radius calculation"===a.subject||"Volume calculation"===a.subject){s.AnnotType="shape_measure";var g=a.calibrate;g&&(s.Calibrate={Ratio:g.ratio,X:[{Unit:g.x[0].unit,ConversionFactor:g.x[0].conversionFactor,FractionalType:g.x[0].fractionalType,Denominator:g.x[0].denominator,FormatDenominator:g.x[0].formatDenominator}],Distance:[{Unit:g.distance[0].unit,ConversionFactor:g.distance[0].conversionFactor,FractionalType:g.distance[0].fractionalType,Denominator:g.distance[0].denominator,FormatDenominator:g.distance[0].formatDenominator}],Area:[{Unit:g.area[0].unit,ConversionFactor:g.area[0].conversionFactor,FractionalType:g.area[0].fractionalType,Denominator:g.area[0].denominator,FormatDenominator:g.area[0].formatDenominator}],Angle:null,Volume:null,TargetUnitConversion:g.targetUnitConversion,Depth:g.depth}),s.Indent=a.indent,s.Caption=a.caption,s.CaptionPosition=a.captionPosition,s.LeaderLineExtension=a.leaderLineExtension,s.LeaderLength=a.leaderLength,s.LeaderLineOffset=a.leaderLineOffset,t[a.pageNumber].measureShapeAnnotation.push(s)}else t[a.pageNumber].shapeAnnotation.push(s)}}i.pdfAnnotation=t,this.pdfViewer.importAnnotation(i)}},e.prototype.convertBounds=function(e,t,i){if(e){if(t)return{left:e.left?e.left:e.Left?e.Left:0,right:e.right?e.right:e.Right?e.Right:0,bottom:e.bottom?e.bottom:e.Bottom?e.Bottom:0,top:e.top?e.top:e.Top?e.Top:0};var n=e.x?e.x:e.left?e.left:e.Left?e.Left:0,o=e.y?e.y:e.top?e.top:e.Top?e.Top:0,r=e.width?e.width:e.Width?e.Width:0,a=e.height?e.height:e.Height?e.Height:0;return i?{X:this.ConvertPixelToPoint(n),Y:this.ConvertPixelToPoint(o),Left:this.ConvertPixelToPoint(n),Top:this.ConvertPixelToPoint(o),Height:this.ConvertPixelToPoint(a),Width:this.ConvertPixelToPoint(r)}:{X:n,Y:o,Left:n,Top:o,Height:a,Width:r}}return null},e.prototype.ConvertPixelToPoint=function(e){return.75*e},e.prototype.convertVertexPoints=function(e){if(e){var t=e.x?e.x:e.X?e.X:0,i=e.y?e.y:e.Y?e.Y:0;return{X:t,Y:i,Left:t,Top:i}}},e.prototype.updateComments=function(e,t){if(e&&t){var i={};return i.ShapeAnnotationType=e.shapeAnnotationType,i.Author=t.author,i.AnnotationSelectorSettings=e.annotationSelectorSettings,i.AnnotationSettings=e.annotationSettings,i.PageNumber=e.pageNumber,i.ModifiedDate=t.modifiedDate,i.Subject=e.subject,i.Note=t.note,i.AnnotName=t.annotName,i.Comments=t.comments,i.State=t.review.state,i.StateModel=t.review.stateModel,i.CustomData=e.customData,i.IsLock=t.isLock,i}},e.prototype.removeFocus=function(){if((0,t.isBlazor)()){var e=this.pdfViewer.element.querySelector("#"+this.pdfViewer.element.id+"_totalPage");e&&e.firstElementChild&&e.firstElementChild.firstElementChild&&e.firstElementChild.firstElementChild.blur()}},e.prototype.updateDocumentEditedProperty=function(e){this.pdfViewer.allowServerDataBinding=!0,this.pdfViewer.isDocumentEdited=e,this.pdfViewer.allowServerDataBinding=!1},e.prototype.getWindowDevicePixelRatio=function(){var e=window.devicePixelRatio;return t.Browser.isDevice?2:e},e.prototype.getZoomRatio=function(e){var i=this.getZoomFactor(),n=e||1,o=this.getWindowDevicePixelRatio();return!t.Browser.isDevice||t.Browser.isDevice&&i<=.7?n*o:n},e.prototype.importJsonForRotatedDocuments=function(e,t,i,n){var o=Math.abs(e),r=this.pageSize[parseInt(t.toString(),10)];return n!==r.rotation?(o=this.getRotationAngle(n,t),this.isPageRotated=!0):(o=0,this.isPageRotated=!1),1===o?{X:r.width-i.Y-i.Height,Y:i.X,Height:i.Width,Width:i.Height}:2===o?{X:r.width-i.X-i.Width,Y:r.height-i.Y-i.Height,Height:i.Height,Width:i.Width}:3===o?{X:i.Y,Y:r.height-i.X-i.Width,Height:i.Width,Width:i.Height}:i},e.prototype.getRotationAngle=function(e,t){var i=this.pageSize[parseInt(t.toString(),10)];if(0===(e=Math.abs(e)))return i.rotation;if(1===e||90===e){if(0===i.rotation)return 3;if(2===i.rotation)return 1;if(3===i.rotation)return 2}else if(2===e||180===e){if(0===i.rotation)return 2;if(1===i.rotation)return 3;if(3===i.rotation)return 1}else if(3===e||270===e){if(0===i.rotation)return 1;if(2===i.rotation)return 3;if(1===i.rotation)return 2}},e.prototype.calculateVertexPoints=function(e,t,i,n){var o,r=Math.abs(e),a=[],s=this.pageSize[parseInt(t.toString(),10)];r=n!==s.rotation?this.getRotationAngle(n,t):0;for(var l=0;l<i.length;l++)if(1===r)o={x:i[parseInt(l.toString(),10)].Y?s.width-i[parseInt(l.toString(),10)].Y:s.width-i[parseInt(l.toString(),10)].y,y:i[parseInt(l.toString(),10)].X?i[parseInt(l.toString(),10)].X:i[parseInt(l.toString(),10)].x},a.push(o);else if(2===r){var d={x:i[parseInt(l.toString(),10)].X?s.width-i[parseInt(l.toString(),10)].X:s.width-i[parseInt(l.toString(),10)].x,y:i[parseInt(l.toString(),10)].Y?s.height-i[parseInt(l.toString(),10)].Y:s.height-i[parseInt(l.toString(),10)].y};a.push(d)}else if(3===r)o={x:i[parseInt(l.toString(),10)].Y?i[parseInt(l.toString(),10)].Y:i[parseInt(l.toString(),10)].y,y:i[parseInt(l.toString(),10)].X?s.height-i[parseInt(l.toString(),10)].X:s.height-i[parseInt(l.toString(),10)].x},a.push(o);else{var h={x:i[parseInt(l.toString(),10)].X?i[parseInt(l.toString(),10)].X:i[parseInt(l.toString(),10)].x,y:i[parseInt(l.toString(),10)].Y?i[parseInt(l.toString(),10)].Y:i[parseInt(l.toString(),10)].y};a.push(h)}return a},e.prototype.isSignaturePathData=function(e){return/^([Mm]\s*\d+(\.\d+)?\s*,\s*\d+(\.\d+)?(\s+[Ll]\s*\d+(\.\d+)?\s*,\s*\d+(\.\d+)?)*\s*)+$/.test(e)},e.prototype.isSignatureImageData=function(e){return/^data:image\/([a-z]+);base64,/.test(e)},e.prototype.getSanitizedString=function(e){return e.replace(/[\x00-\x1F\x7F]/g,(function(e){return"\\u"+e.charCodeAt(0).toString(16).padStart(4,"0")}))},e.prototype.getLinkInformation=function(e,t){var i=this.retrieveCurrentZoomFactor();this.pdfViewer.restrictZoomRequest&&!this.pdfViewer.tileRenderingSettings.enableTileRendering&&(i=1);var n=this.documentId+"_"+e,o=this.pageImageDetails&&this.pageImageDetails[n+"_"+i+"_imageUrl"]?this.pageImageDetails[n+"_"+i+"_imageUrl"]:this.getPinchZoomPage(e),r=this.hyperlinkAndLinkAnnotation&&this.hyperlinkAndLinkAnnotation[n+"_hyperlinkAndLinkAnnotation"]?this.hyperlinkAndLinkAnnotation[n+"_hyperlinkAndLinkAnnotation"]:this.getPinchZoomPage(e),a=this.pageTextDetails&&this.pageTextDetails[n+"_textDetails"]?this.pageTextDetails[n+"_textDetails"]:this.getPinchZoomPage(e);if(!o){var s=this.getStoredTileImageDetails(e,0,0,i);s&&(o=s)}var l=null,d=null,h=null,A=null;return o&&r&&(l=JSON.parse(o),d=JSON.parse(r),h=JSON.parse(a),A=Object.assign({},l,d,h),this.isPinchZoomStorage=!1),A},e.prototype.releaseCanvas=function(e){e.width=1,e.height=1;var t=e.getContext("2d");t&&t.clearRect(0,0,1,1)},e.prototype.getModuleWarningMessage=function(e){console.warn("[WARNING] :: Module '"+e+"' is not available in PDF Viewer component! You either misspelled the module name or forgot to load it.")},e.prototype.updateSelectorSettings=function(e){this.pdfViewer.annotationSelectorSettings&&"#FF4081"!==this.pdfViewer.annotationSelectorSettings.resizerFillColor&&(e.resizerFillColor=this.pdfViewer.annotationSelectorSettings.resizerFillColor),this.pdfViewer.annotationSelectorSettings&&"black"!==this.pdfViewer.annotationSelectorSettings.resizerBorderColor&&(e.resizerBorderColor=this.pdfViewer.annotationSelectorSettings.resizerBorderColor),this.pdfViewer.annotationSelectorSettings&&""!==this.pdfViewer.annotationSelectorSettings.selectionBorderColor&&(e.selectionBorderColor=this.pdfViewer.annotationSelectorSettings.selectionBorderColor),this.pdfViewer.annotationSelectorSettings&&8!==this.pdfViewer.annotationSelectorSettings.resizerSize&&(e.resizerSize=this.pdfViewer.annotationSelectorSettings.resizerSize),this.pdfViewer.annotationSelectorSettings&&"Square"!==this.pdfViewer.annotationSelectorSettings.resizerShape&&(e.resizerShape=this.pdfViewer.annotationSelectorSettings.resizerShape),this.pdfViewer.annotationSelectorSettings&&null!==this.pdfViewer.annotationSelectorSettings.resizerCursorType&&(e.resizerCursorType=this.pdfViewer.annotationSelectorSettings.resizerCursorType),this.pdfViewer.annotationSelectorSettings&&1!==this.pdfViewer.annotationSelectorSettings.selectionBorderThickness&&(e.selectionBorderThickness=this.pdfViewer.annotationSelectorSettings.selectionBorderThickness),this.pdfViewer.annotationSelectorSettings&&0!==this.pdfViewer.annotationSelectorSettings.selectorLineDashArray.length&&(e.selectorLineDashArray=this.pdfViewer.annotationSelectorSettings.selectorLineDashArray)},e.prototype.annotationSelectorSettingLoad=function(e){"shape"===e.AnnotationType&&("Line"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.lineSettings.annotationSelectorSettings?this.pdfViewer.lineSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Arrow"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.arrowSettings.annotationSelectorSettings?this.pdfViewer.arrowSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Rectangle"===e.ShapeAnnotationType||"Square"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.rectangleSettings.annotationSelectorSettings?this.pdfViewer.rectangleSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Circle"===e.ShapeAnnotationType||"Ellipse"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.circleSettings.annotationSelectorSettings?this.pdfViewer.circleSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Polygon"===e.ShapeAnnotationType&&(e.AnnotationSelectorSettings=this.pdfViewer.polygonSettings.annotationSelectorSettings?this.pdfViewer.polygonSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings))),"shape_measure"===e.AnnotType&&("Circle"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.radiusSettings.annotationSelectorSettings?this.pdfViewer.radiusSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Line"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.distanceSettings.annotationSelectorSettings?this.pdfViewer.distanceSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Polyline"===e.ShapeAnnotationType?(e.AnnotationSelectorSettings=this.pdfViewer.perimeterSettings.annotationSelectorSettings?this.pdfViewer.perimeterSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Polygon"===e.ShapeAnnotationType&&"PolygonVolume"===e.Indent?(e.AnnotationSelectorSettings=this.pdfViewer.volumeSettings.annotationSelectorSettings?this.pdfViewer.volumeSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)):"Polygon"===e.ShapeAnnotationType&&(e.AnnotationSelectorSettings=this.pdfViewer.areaSettings.annotationSelectorSettings?this.pdfViewer.areaSettings.annotationSelectorSettings:this.pdfViewer.annotationSelectorSettings,this.updateSelectorSettings(e.AnnotationSelectorSettings)))},e.prototype.boundsCalculation=function(e,i){if((0,t.isNullOrUndefined)(e)&&(0,t.isNullOrUndefined)(i.x)&&(0,t.isNullOrUndefined)(i.y)&&(0,t.isNullOrUndefined)(i.width)&&(0,t.isNullOrUndefined)(i.height)&&(0,t.isNullOrUndefined)(i)&&(0,t.isNullOrUndefined)(i.x)&&(0,t.isNullOrUndefined)(i.y)&&(0,t.isNullOrUndefined)(i.height)&&(0,t.isNullOrUndefined)(i.width))return!1;var n=parseFloat(i.x.toFixed(10)),o=parseFloat(i.y.toFixed(10)),r=parseFloat(i.width.toFixed(10)),a=parseFloat(i.height.toFixed(10)),s=e.x?parseFloat(e.x.toFixed(10)):parseFloat(e.left.toFixed(10)),l=e.y?parseFloat(e.y.toFixed(10)):parseFloat(e.top.toFixed(10)),d=parseFloat(e.width.toFixed(10)),h=parseFloat(e.height.toFixed(10));return n!==s||o!==l||r!==d||a!==h},e.sessionStorageManager=new od(!1),e}(),ld=function(){function e(e,t){this.textBoundsArray=[],this.characterBound=[],this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.addTextLayer=function(e,i,n,o){var r;return document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e)||((r=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_textLayer_"+e,className:"e-pv-text-layer"})).style.width=i+"px",r.style.height=n+"px",t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&r.classList.add("e-pv-text-selection-none"),o&&o.appendChild(r)),this.pdfViewerBase.applyElementStyles(r,e),r},e.prototype.renderTextContents=function(e,i,n,o,r){var a,s=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e),l=(0,t.createElement)("canvas");this.pdfViewerBase.clientSideRendering&&(a=!1);var d,h,A=[],p=[];n.length>1&&(0===n[0].Width&&n.length>2?(d=n[1].Y,h=n[1].Height):(d=n[0].Y,h=n[0].Height));var c=0;if(l&&s&&0===s.childNodes.length){for(var g=0;g<i.length;g++)if(i[parseInt(g.toString(),10)].includes("\r\n")||i[parseInt(g.toString(),10)].includes("")||g===n.length-1||0!==o||r){A.push(n[parseInt(g.toString(),10)]),p.push(i[parseInt(g.toString(),10)]),d>n[parseInt(g.toString(),10)].Y&&0!==n[parseInt(g.toString(),10)].Width&&(d=n[parseInt(g.toString(),10)].Y),h<n[parseInt(g.toString(),10)].Height&&0!==n[parseInt(g.toString(),10)].Width&&(h=n[parseInt(g.toString(),10)].Height);for(var u=0;u<A.length;u++){var f=A[parseInt(u.toString(),10)],m=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_text_"+e+"_"+c,className:"e-pv-text",attrs:{tabindex:"-1"}}),w=p[parseInt(u.toString(),10)];" "===w&&u!==A.length-1&&0!==u&&(f.Height=A[u-1].Height,f.Y=A[u-1].Y),m.textContent=w.replace(/&nbsp;/g," ")," "!==p[parseInt(u.toString(),10)].replace(/  +/g," ")&&(m.style.whiteSpace="pre"),this.pdfViewerBase.clientSideRendering&&(" "===w&&(m.style.whiteSpace="pre"),(0,t.isNullOrUndefined)(m.textContent)||" "===w||(a=this.pdfViewerBase.checkIsRtlText(m.textContent)),m.style.direction=a?"rtl":"ltr"),0===f.Width&&u!==A.length-1&&0!==u&&A[u+1].X-(A[u-1].X+A[u-1].Width)<30&&!p[u-1].includes("\r\n")&&!i[parseInt(u.toString(),10)].includes("")&&(f.Width=A[u+1].X-(A[u-1].X+A[u-1].Width),f.X=A[u-1].X+A[u-1].Width,f.Width<0?f.Width=0:m.style.whiteSpace="pre"),(0!==u||A.length-1==0||f.Y-d>20&&0!==f.Width)&&0!==c&&(n[c-1].Y-n[parseInt(c.toString(),10)].Y>11||n[parseInt(c.toString(),10)].Y-n[c-1].Y>11)&&" "!==p[parseInt(u.toString(),10)]&&(d=A[parseInt(u.toString(),10)].Y,h=A[parseInt(u.toString(),10)].Height),f&&(270!==f.Rotation&&(f.Y=d,f.Height=h),this.setStyleToTextDiv(m,f.X,f.Y,f.Bottom,f.Width,f.Height,f.Rotation)),this.setTextElementProperties(m);var y=l.getContext("2d");y.font=m.style.fontSize+" "+m.style.fontFamily;var S=y.measureText(p[parseInt(u.toString(),10)].replace(/(\r\n|\n|\r)/gm,"")).width;if(f){var C=void 0;C=90===f.Rotation||this.pdfViewerBase.clientSideRendering&&270===f.Rotation?f.Height*this.pdfViewerBase.getZoomFactor()/S:f.Width*this.pdfViewerBase.getZoomFactor()/S,this.applyTextRotation(C,m,o,f.Rotation,f)}s.appendChild(m),this.resizeExcessDiv(s,m),this.pdfViewer.textSelectionModule&&this.pdfViewer.enableTextSelection&&!this.pdfViewerBase.isTextSelectionDisabled&&"e-pdfviewer-formFields"!==m.className&&"e-pdfviewer-signatureformfields"!==m.className&&"e-pdfviewer-signatureformfields-signature"!==m.className&&m.classList.add("e-pv-cursor"),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&m.classList.add("e-enable-text-selection"),c++}A=[],p=[],g<n.length-1&&(0!==n[g+1].Width||(0,t.isNullOrUndefined)(n[g+2])?(d=n[g+1].Y,h=n[g+1].Height):(d=n[g+2].Y,h=n[g+2].Height))}else A.push(n[parseInt(g.toString(),10)]),p.push(i[parseInt(g.toString(),10)]),d>n[parseInt(g.toString(),10)].Y&&0!==n[parseInt(g.toString(),10)].Width&&(d=n[parseInt(g.toString(),10)].Y),h<n[parseInt(g.toString(),10)].Height&&0!==n[parseInt(g.toString(),10)].Width&&(h=n[parseInt(g.toString(),10)].Height);this.pdfViewerBase.releaseCanvas(l)}},e.prototype.resizeTextContents=function(e,i,n,o,r){var a=this.pdfViewerBase.getElement("_textLayer_"+e),s=(0,t.createElement)("canvas");if(s){for(var l=0;l<a.childNodes.length;l++){var d=void 0,h=this.pdfViewerBase.getElement("_text_"+e+"_"+l);if((0,t.isNullOrUndefined)(h))break;n&&(d=n[parseInt(l.toString(),10)])&&this.setStyleToTextDiv(h,d.X,d.Y,d.Bottom,d.Width,d.Height,d.Rotation),this.setTextElementProperties(h);var A=s.getContext("2d");A.font=h.style.fontSize+" "+h.style.fontFamily;var p=void 0;if(i){var c=i[parseInt(l.toString(),10)];c&&(p=A.measureText(c.replace(/(\r\n|\n|\r)/gm,"")).width)}else p=A.measureText(h.textContent.replace(/(\r\n|\n|\r)/gm,"")).width;if(d){var g=void 0;g=90===d.Rotation||this.pdfViewerBase.clientSideRendering&&270===d.Rotation?d.Height*this.pdfViewerBase.getZoomFactor()/p:d.Width*this.pdfViewerBase.getZoomFactor()/p,this.applyTextRotation(g,h,o,d.Rotation,d)}this.resizeExcessDiv(a,h)}this.pdfViewerBase.releaseCanvas(s)}else a.parentElement.removeChild(a);this.pdfViewer.textSearch&&(r||this.pdfViewer.textSearch.resizeSearchElements(e))},e.prototype.applyTextRotation=function(e,t,i,n,o){var r="scaleX("+e+")";if(this.pdfViewerBase.clientSideRendering){if(0===i)0===n?t.style.transform=r:90===n?(t.style.left=(o.X+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=o.Y*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+n+"deg) "+r):180===n?(t.style.left=(o.X+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y+o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+n+"deg) "+r):270===n?(t.style.left=o.X*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y+o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+n+"deg) "+r):t.style.transform=r;else if(1===i){(a=n+90)>=360&&(a-=360),0===n?t.style.transform="rotate(90deg) "+r:90===n?(t.style.left=o.X*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+a+"deg) "+r):180===n?(t.style.left=(o.X-o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+a+"deg) "+r):270===n?(t.style.left=(o.X-o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=o.Y*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+a+"deg) "+r):t.style.transform="rotate(90deg) "+r}else if(2===i){(a=n+180)>=360&&(a-=360),0===n?t.style.transform="rotate(180deg) "+r:90===n?(t.style.left=(o.X-o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=o.Y*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+a+"deg) "+r):180===n?(t.style.left=(o.X-o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y-o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+a+"deg) "+r):270===n?(t.style.left=o.X*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y-o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+a+"deg) "+r):t.style.transform="rotate(180deg) "+r}else if(3===i){var a;(a=n+270)>=360&&(a-=360),0===n?t.style.transform="rotate(270deg) "+r:90===n?(t.style.left=o.X*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y-o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+a+"deg) "+r):180===n?(t.style.left=(o.X+o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y-o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+a+"deg) "+r):270===n?(t.style.left=(o.X+o.Height)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=o.Y*this.pdfViewerBase.getZoomFactor()+"px",t.style.transform="rotate("+a+"deg) "+r):t.style.transform="rotate(270deg) "+r}}else 0===i?n>=0&&n<90?t.style.transform=r:90===n||270===n?(270===n?(t.style.left=o.X*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=(o.Y+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.height=o.Height*this.pdfViewerBase.getZoomFactor()+"px",t.style.fontSize=o.Height*this.pdfViewerBase.getZoomFactor()+"px"):(t.style.left=(o.X+o.Width)*this.pdfViewerBase.getZoomFactor()+"px",t.style.top=o.Y*this.pdfViewerBase.getZoomFactor()+"px",t.style.height=o.Width*this.pdfViewerBase.getZoomFactor()+"px",t.style.fontSize=o.Width*this.pdfViewerBase.getZoomFactor()+"px",t.style.transformOrigin="0% 0%"),t.style.transform="rotate("+n+"deg) "+r):t.style.transform="rotate("+n+"deg) "+r:1===i?0===n?t.style.transform="rotate(90deg) "+r:-90===n?t.style.transform=r:(n+=90,t.style.transform="rotate("+n+"deg) "+r):2===i?t.style.transform=0===n?"rotate(180deg) "+r:180===n?r:"rotate("+n+"deg) "+r:3===i&&(t.style.transform=0===n?"rotate(-90deg) "+r:90===n?r:"rotate("+n+"deg) "+r)},e.prototype.setTextElementProperties=function(e){e.style.fontFamily="serif",e.style.transformOrigin=this.pdfViewerBase.clientSideRendering?"0% 0%":"0%"},e.prototype.resizeTextContentsOnZoom=function(e){var t,i=sd.sessionStorageManager.getItem(this.pdfViewerBase.getDocumentId()+"_"+e+"_"+this.getPreviousZoomFactor()),n=[],o=[];if(i){var r=JSON.parse(i);n=r.textBounds,o=r.textContent,t=r.rotation}if(0!==n.length)this.textBoundsArray.push({pageNumber:e,textBounds:n}),this.resizeTextContents(e,o,n,t);else{var a=this.textBoundsArray.filter((function(t){return t.pageNumber===e}));a&&0!==a.length&&(n=a[0].textBounds,this.resizeTextContents(e,null,n,t))}},e.prototype.resizeExcessDiv=function(e,t){},e.prototype.clearTextLayers=function(e){var t=this.pdfViewerBase.currentPageNumber-3;t=t>0?t:0;var i=this.pdfViewerBase.currentPageNumber+1;i=i<this.pdfViewerBase.pageCount?i:this.pdfViewerBase.pageCount-1;for(var n=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_textLayer_"]'),o=0;o<n.length;o++)if(n[parseInt(o.toString(),10)].style.display="block",this.pdfViewerBase.getMagnified()&&(this.getTextSelectionStatus()||this.getTextSearchStatus())){var r=parseInt(n[parseInt(o.toString(),10)].id.split("_textLayer_")[1],10);t+1<=r&&r<=i-1||this.removeElement(n[parseInt(o.toString(),10)],e)}else this.pdfViewerBase.getPinchZoomed(),this.removeElement(n[parseInt(o.toString(),10)],e)},e.prototype.removeElement=function(e,i){i?this.removeForeignObjects(e):t.Browser.isIE?e.parentElement?e.parentElement.removeChild(e):e.parentNode&&e.parentNode.removeChild(e):e.remove()},e.prototype.removeForeignObjects=function(e){var i=e.getElementsByClassName("foreign-object");if(i)for(var n=0;n<i.length;n++){var o=i[parseInt(n.toString(),10)],r=o.parentElement;if(t.Browser.isDevice){if(r.classList.contains("e-pv-text-layer")&&"e-pv-checkbox-outer-div"!==r.className)e.removeChild(o),n--;else if("e-pv-checkbox-outer-div"===r.className){var a=document.getElementById(o.id);a&&(a.remove(),n--)}}else"e-pv-text-layer"===r.className&&(e.removeChild(o),n--)}},e.prototype.convertToSpan=function(e,i,n,o,r,a,s){var l=this.pdfViewerBase.getElement("_text_"+e+"_"+i),d=r.substring(n,o),h=document.createTextNode(d);if(a){var A=(0,t.createElement)("span");if(A.className=a+" e-pv-text",this.pdfViewerBase.clientSideRendering&&s)if(o===r.length)A.style.left="0px",A.style.top="0px";else if("rtl"===l.style.direction){var p=l.textContent;l.textContent=r.substring(o,r.length);var c=l.getBoundingClientRect();A.style.left=c.width+"px",A.style.top="0px",l.textContent=p}A.style.height=l.style.height,A.appendChild(h),l.appendChild(A)}else l.appendChild(h)},e.prototype.applySpanForSelection=function(e,t,i,n,o,r){if(this.pdfViewer.textSelectionModule)for(var a=e;a<=t;a++){var s=void 0;if(this.pdfViewerBase.clientSideRendering){var l=JSON.parse(this.pdfViewerBase.pageTextDetails[this.pdfViewerBase.documentId+"_"+a+"_textDetails"]).pageText;s=this.pdfViewerBase.checkIsRtlText(l)}var d=void 0,h=void 0,A=this.pdfViewerBase.getElement("_textLayer_"+a).childNodes;a===e?(d=i,h=A.length-1):a===t?(d=0,h=n):(d=0,h=A.length-1),e===t&&(d=i,h=n);for(var p=d;p<=h;p++){var c=this.pdfViewerBase.getElement("_text_"+a+"_"+p),g=void 0,u=void 0,f=void 0;if(c&&c.textContent){f=c.textContent.length;var m=c.textContent;c.textContent="",p===d?(g=a===e?o:0,u=f,this.convertToSpan(a,p,0,g,m,null,s)):p===h&&a===t?(g=0,u=r):(g=0,u=f),d===h&&e===t&&(g=o,u=r),this.convertToSpan(a,p,g,u,m,"e-pv-maintaincontent",s),p===h&&a===t&&this.convertToSpan(a,p,u,m.length,m,null,s)}}}},e.prototype.clearDivSelection=function(){for(var e=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_textLayer_"]'),t=0;t<e.length;t++)for(var i=e[parseInt(t.toString(),10)].childNodes,n=0;n<i.length;n++){var o=i[parseInt(n.toString(),10)];if("e-pdfviewer-formFields"!==o.className&&"e-pdfviewer-signatureformfields"!==o.className&&"e-pdfviewer-signatureformfields-signature"!==o.className){var r=o.textContent;(o.childNodes.length>1||1===o.childNodes.length&&"SPAN"===o.childNodes[0].tagName)&&(o.textContent="",o.textContent=r)}}},e.prototype.setStyleToTextDiv=function(e,t,i,n,o,r,a){var s;e.style.left=t*this.pdfViewerBase.getZoomFactor()+"px",e.style.top=i*this.pdfViewerBase.getZoomFactor()+"px",s=90===a||this.pdfViewerBase.clientSideRendering&&270===a?o*this.pdfViewerBase.getZoomFactor():r*this.pdfViewerBase.getZoomFactor(),e.style.height=s+"px",e.style.fontSize=s+"px"},e.prototype.getTextSelectionStatus=function(){return!!this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.isTextSelection},e.prototype.modifyTextCursor=function(e){for(var t=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_textLayer_"]'),i=0;i<t.length;i++)for(var n=t[parseInt(i.toString(),10)].childNodes,o=0;o<n.length;o++){var r=n[parseInt(o.toString(),10)];e&&"e-pdfviewer-formFields"!==r.className&&"e-pdfviewer-signatureformfields"!==r.className&&"e-pdfviewer-signatureformfields-signature"!==r.className?r.classList.add("e-pv-cursor"):r.classList.remove("e-pv-cursor")}},e.prototype.isBackWardSelection=function(e){var t=e.anchorNode.compareDocumentPosition(e.focusNode),i=!1;return(!t&&e.anchorOffset>e.focusOffset||t===Node.DOCUMENT_POSITION_PRECEDING)&&(i=!0),i},e.prototype.getPageIndex=function(e){var t=e.parentElement;return t||(t=e.parentNode),"e-pv-text-layer"===t.className?parseInt(e.id.split("_text_")[1],10):parseInt(t.id.split("_text_")[1],10)},e.prototype.getTextIndex=function(e,t){var i=e.parentElement;return i||(i=e.parentNode),"e-pv-text-layer"===i.className?parseInt(e.id.split("_text_"+t+"_")[1],10):parseInt(i.id.split("_text_"+t+"_")[1],10)},e.prototype.getPreviousZoomFactor=function(){return this.pdfViewer.magnificationModule?this.pdfViewer.magnificationModule.previousZoomFactor:1},e.prototype.getTextSearchStatus=function(){return!!this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.isTextSearch},e}(),dd=function(){function e(e,t){this.copyContextMenu=[],this.contextMenuList=[],this.customMenuItems=[],this.filteredCustomItemsIds=[],this.defaultContextMenuItems=[],this.pdfViewer=e,this.pdfViewerBase=t,this.defaultCutId=this.pdfViewer.element.id+"_contextmenu_cut",this.defaultCopyId=this.pdfViewer.element.id+"_contextmenu_copy",this.defaultPasteId=this.pdfViewer.element.id+"_contextmenu_paste",this.defaultDeleteId=this.pdfViewer.element.id+"_contextmenu_delete",this.defaultCommentId=this.pdfViewer.element.id+"_contextmenu_comment",this.defaultUnderlineId=this.pdfViewer.element.id+"_contextmenu_underline",this.defaultHighlightId=this.pdfViewer.element.id+"_contextmenu_highlight",this.defaultStrikethroughId=this.pdfViewer.element.id+"_contextmenu_strikethrough",this.defaultScaleratioId=this.pdfViewer.element.id+"_contextmenu_scaleratio",this.defaultPropertiesId=this.pdfViewer.element.id+"_contextmenu_properties",this.copyContextMenu=[{text:this.pdfViewer.localeObj.getConstant("Cut"),iconCss:"e-pv-cut-icon",id:this.defaultCutId},{text:this.pdfViewer.localeObj.getConstant("Copy"),iconCss:"e-pv-copy-icon",id:this.defaultCopyId},{text:this.pdfViewer.localeObj.getConstant("Highlight context"),iconCss:"e-pv-highlight-icon",id:this.defaultHighlightId},{text:this.pdfViewer.localeObj.getConstant("Underline context"),iconCss:"e-pv-underline-icon",id:this.defaultUnderlineId},{text:this.pdfViewer.localeObj.getConstant("Strikethrough context"),iconCss:"e-pv-strikethrough-icon",id:this.defaultStrikethroughId},{text:this.pdfViewer.localeObj.getConstant("Paste"),iconCss:"e-pv-paste-icon",id:this.defaultPasteId},{text:this.pdfViewer.localeObj.getConstant("Delete Context"),iconCss:"e-pv-delete-icon",id:this.defaultDeleteId},{text:this.pdfViewer.localeObj.getConstant("Scale Ratio"),iconCss:"e-pv-scale-ratio-icon",id:this.defaultScaleratioId},{separator:!0,id:this.pdfViewer.element.id+"_context_menu_comment_separator"},{text:this.pdfViewer.localeObj.getConstant("Comment"),iconCss:"e-pv-comment-icon",id:this.defaultCommentId},{separator:!0,id:this.pdfViewer.element.id+"_context_menu_separator"},{text:this.pdfViewer.localeObj.getConstant("Properties"),iconCss:"e-pv-property-icon",id:this.defaultPropertiesId}],this.defaultLength=this.copyContextMenu.length}return e.prototype.createContextMenu=function(){this.contextMenuElement=(0,t.createElement)("ul",{id:this.pdfViewer.element.id+"_context_menu",className:"e-pv-context-menu"}),this.pdfViewer.element.appendChild(this.contextMenuElement),this.contextMenuObj=new ai.ContextMenu({target:"#"+this.pdfViewerBase.viewerContainer.id,items:this.copyContextMenu,beforeOpen:this.contextMenuOnBeforeOpen.bind(this),select:this.onMenuItemSelect.bind(this),created:this.contextMenuOnCreated.bind(this)}),this.pdfViewer.enableRtl&&(this.contextMenuObj.enableRtl=!0),this.contextMenuObj.appendTo(this.contextMenuElement),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.contextMenuObj.animationSettings.effect="ZoomIn":this.contextMenuObj.animationSettings.effect="SlideDown"},e.prototype.contextMenuOnCreated=function(e){var t=[this.defaultHighlightId,this.defaultUnderlineId,this.defaultStrikethroughId];this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule||this.contextMenuObj.enableItems(t,!1,!0)},e.prototype.setTarget=function(e){var t=null;return e.event&&e.event.target&&(t=e.event.target,this.currentTarget=t),t},e.prototype.contextMenuOnBeforeOpen=function(e){var i,n=this;this.pdfViewerBase.preventContextmenu&&(e.cancel=!0),this.copyContextMenu.length===this.defaultLength?((i=this.customMenuItems).push.apply(i,this.pdfViewer.customContextMenuItems),this.addCustomContextMenuItems()):this.copyContextMenu.length!==this.defaultLength&&this.copyShowCustomContextMenuBottom!==this.pdfViewer.showCustomContextMenuBottom&&(this.customMenuItems.forEach((function(e){var t=n.copyContextMenu.findIndex((function(t){return t.id===e.id}));-1!==t&&n.copyContextMenu.splice(t,1)})),this.addCustomContextMenuItems());var o=this.setTarget(e),r=0!==this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.selectedItems.annotations[0].annotationSettings:null;this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus&&o&&"free-text-input"===o.className&&"TEXTAREA"===o.tagName&&(this.pdfViewerBase.isFreeTextContextMenu=!0),this.defaultContextMenuItems=[this.pdfViewer.localeObj.getConstant("Cut"),this.pdfViewer.localeObj.getConstant("Copy"),this.pdfViewer.localeObj.getConstant("Highlight context"),this.pdfViewer.localeObj.getConstant("Underline context"),this.pdfViewer.localeObj.getConstant("Strikethrough context"),this.pdfViewer.localeObj.getConstant("Paste"),this.pdfViewer.localeObj.getConstant("Delete Context"),this.pdfViewer.localeObj.getConstant("Scale Ratio"),this.pdfViewer.localeObj.getConstant("Comment"),this.pdfViewer.localeObj.getConstant("Properties")];var a=this.customMenuItems.length>0?this.contextMenuObj.items.slice(this.pdfViewer.showCustomContextMenuBottom?-this.customMenuItems.length:0,this.pdfViewer.showCustomContextMenuBottom?this.contextMenuObj.items.length:this.customMenuItems.length).map((function(e){return e.text})):[];if(this.contextMenuObj.showItems(this.pdfViewer.showCustomContextMenuBottom?this.defaultContextMenuItems.concat(a):a.concat(this.defaultContextMenuItems)),this.pdfViewerBase.getElement("_context_menu_separator").classList.remove("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.remove("e-menu-hide"),this.contextMenuObj.enableItems([this.defaultCutId,this.defaultCopyId,this.defaultPasteId,this.defaultDeleteId],!0,!0),!(0,t.isNullOrUndefined)(a)&&0!==this.customMenuItems.length){var s=[];s=e.items.length<this.defaultLength?e.items.map((function(e){return e.id})):this.customMenuItems.map((function(e){return e.id})),this.filteredCustomItemsIds=s.filter((function(e){return!(0,t.isNullOrUndefined)(e)})),this.pdfViewer.firecustomContextMenuBeforeOpen(this.filteredCustomItemsIds)}if(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.checkContextMenuDeleteItem(this.contextMenuObj),this.pdfViewer.textSelectionModule||this.pdfViewerBase.isShapeBasedAnnotationsEnabled()){if(e.event||this.pdfViewerBase.isTouchDesignerMode){var l=this.pdfViewerBase.isClickWithinSelectionBounds(e.event);if(this.pdfViewerBase.isFreeTextContextMenu)this.contextMenuObj.hideItems([this.defaultHighlightId,this.defaultUnderlineId,this.defaultStrikethroughId,this.defaultPropertiesId,this.defaultCommentId,this.defaultScaleratioId,this.defaultDeleteId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide"),this.pdfViewer.annotation.freeTextAnnotationModule&&this.pdfViewer.annotation.freeTextAnnotationModule.isTextSelected?(this.contextMenuObj.enableItems([this.defaultCopyId],!0,!0),this.contextMenuObj.enableItems([this.defaultCutId],!0,!0)):(this.contextMenuObj.enableItems([this.defaultCopyId],!1,!0),this.contextMenuObj.enableItems([this.defaultCutId],!1,!0),window.getSelection().removeAllRanges()),this.pdfViewer.annotation.freeTextAnnotationModule&&""!==this.pdfViewer.annotation.freeTextAnnotationModule.selectedText?this.contextMenuObj.enableItems([this.defaultPasteId],!0,!0):this.contextMenuObj.enableItems([this.defaultPasteId],!1,!0);else if(l&&this.pdfViewer.textSelectionModule||this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.selectionRangeArray.length>0&&"MouseUp"===this.pdfViewer.contextMenuSettings.contextMenuAction)!e.event.target.classList.contains("e-pv-maintaincontent")&&e.event.target.classList.contains("e-pv-text")||e.event.target.classList.contains("e-pv-text-layer")?this.pdfViewerBase.checkIsNormalText()&&(e.cancel=!0):(t.Browser.isIE||"edge"===t.Browser.info.name)&&e.event.target.classList.contains("e-pv-page-container")&&(e.cancel=!0),this.contextMenuObj.hideItems([this.defaultCutId,this.defaultPasteId,this.defaultDeleteId,this.defaultScaleratioId,this.defaultCommentId,this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide");else if(0===this.pdfViewer.selectedItems.annotations.length||"HandWrittenSignature"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"SignatureImage"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Path"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType)if(0===this.pdfViewer.selectedItems.annotations.length||"Path"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||r.isLock)if(0!==this.pdfViewer.selectedItems.annotations.length&&"Path"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&r.isLock)this.hideDefaultContextMenu();else if(0!==this.pdfViewer.selectedItems.formFields.length&&this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&this.pdfViewer.designerMode)this.onOpeningForShape(!0),(0,t.isNullOrUndefined)(this.pdfViewer.toolbar)||(0,t.isNullOrUndefined)(this.pdfViewer.toolbar.formDesignerToolbarModule)||this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(!0);else{var d=this.pdfViewerBase.designerModetarget,h=this.pdfViewer.annotationModule;e.event&&e.event.target&&(d=e.event.target),this.pdfViewer.annotation&&this.pdfViewer.annotation.isShapeCopied&&(d.classList.contains("e-pv-text-layer")||d.classList.contains("e-pv-text"))&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation||this.pdfViewer.formDesigner&&this.pdfViewer.formDesigner.isShapeCopied&&(d.classList.contains("e-pv-text-layer")||d.classList.contains("e-pv-text"))?this.onOpeningForShape(!1):this.pdfViewerBase.isCalibrateAnnotationModule()&&this.pdfViewer.annotationModule.measureAnnotationModule.currentAnnotationMode&&!r?(this.contextMenuObj.hideItems([this.defaultHighlightId,this.defaultUnderlineId,this.defaultStrikethroughId,this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.remove("e-menu-hide"),this.contextMenuObj.enableItems([this.defaultCutId,this.defaultCopyId,this.defaultPasteId,this.defaultDeleteId,this.defaultCommentId],!1,!0)):h&&h.textMarkupAnnotationModule&&h.textMarkupAnnotationModule.currentTextMarkupAnnotation&&!h.textMarkupAnnotationModule.currentTextMarkupAnnotation.annotationSettings.isLock?(this.contextMenuObj.hideItems([this.defaultHighlightId,this.defaultUnderlineId,this.defaultStrikethroughId,this.defaultPropertiesId,this.defaultCutId,this.defaultCopyId,this.defaultPasteId,this.defaultScaleratioId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.remove("e-menu-hide"),this.contextMenuObj.showItems([this.defaultDeleteId,this.defaultCommentId],!0)):e.items&&e.items.length>0&&this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.isTextSelection&&l?(this.contextMenuObj.hideItems([this.defaultCutId,this.defaultPasteId,this.defaultDeleteId,this.defaultScaleratioId,this.defaultCommentId,this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide")):e.cancel=!0}else this.onOpeningForShape(!0);else this.onOpeningForShape(!1,!0)}else this.pdfViewer.textSelectionModule&&"MouseUp"===this.pdfViewer.contextMenuOption?(this.contextMenuObj.hideItems([this.defaultCutId,this.defaultPasteId,this.defaultDeleteId,this.defaultScaleratioId,this.defaultCommentId,this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide")):this.hideContextItems();this.enableCommentPanelItem()}else e.cancel=!0;"None"===this.pdfViewer.contextMenuOption?e.cancel=!0:this.contextMenuItems(e),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.restrictContextMenu()&&(e.cancel=!0),!0===this.pdfViewer.disableDefaultContextMenu&&this.hideDefaultContextMenu(),this.pdfViewerBase.isTouchDesignerMode=!1},e.prototype.contextMenuItems=function(e){if(this.pdfViewer.contextMenuSettings.contextMenuItems.length){for(var t=[],i=(this.contextMenuCollection(),this.contextMenuObj.getRootElement()),n=0;n<this.pdfViewer.contextMenuSettings.contextMenuItems.length;n++)for(var o=0;o<this.contextMenuList.length;o++){var r=this.contextMenuList[parseInt(o.toString(),10)].text;switch(r){case"Highlight":r="Highlight context";break;case"Underline":r="Underline context";break;case"Strikethrough":r="Strikethrough context";break;case"Delete":r="Delete Context";break;case"Scale Ratio":r="Scale Ratio";break;case"Comment":this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide");break;case"Properties":this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide")}var a=this.contextMenuList[parseInt(o.toString(),10)].text;if(0===n&&a!==Ie[this.pdfViewer.contextMenuSettings.contextMenuItems[parseInt(n.toString(),10)]]&&t.push(a),n>0&&a===Ie[this.pdfViewer.contextMenuSettings.contextMenuItems[parseInt(n.toString(),10)]])for(var s=0;s<t.length;s++)if(t[parseInt(s.toString(),10)]===a)if(this.pdfViewer.disableContextMenuItems&&this.pdfViewer.disableContextMenuItems.length>0){for(var l=!1,d=0;d<this.pdfViewer.disableContextMenuItems.length;d++)t[parseInt(s.toString(),10)]===Ie[this.pdfViewer.disableContextMenuItems[parseInt(d.toString(),10)]]&&(l=!0);l||t.splice(s,1)}else t.splice(s,1)}var h=this.processLocaleContent(t);this.contextMenuObj.hideItems(h),0===this.getEnabledItemCount(i)&&(e.cancel=!0)}},e.prototype.processLocaleContent=function(e){var t=[];if(e.length>0)for(var i=0;i<e.length;i++){var n=e[parseInt(i.toString(),10)];switch(n){case"Highlight":n="Highlight context";break;case"Underline":n="Underline context";break;case"Strikethrough":n="Strikethrough context";break;case"Delete":n="Delete Context";break;case"ScaleRatio":n="Scale Ratio"}t.push(this.pdfViewer.localeObj.getConstant(n))}return t},e.prototype.contextMenuCollection=function(){return this.contextMenuList=[{text:"Cut"},{text:"Copy"},{text:"Highlight"},{text:"Underline"},{text:"Strikethrough"},{text:"Paste"},{text:"Delete"},{text:"ScaleRatio"},{text:"Comment"},{text:"Properties"}]},e.prototype.getEnabledItemCount=function(e){for(var t=this.copyContextMenu.length,i=e.children,n=0;n<i.length;n++){var o=i[parseInt(n.toString(),10)];(o.classList.contains("e-menu-hide")||o.classList.contains("e-disabled"))&&(t-=1)}return t},e.prototype.hideContextItems=function(){0===this.pdfViewer.selectedItems.annotations.length&&(this.contextMenuObj.hideItems([this.defaultCutId,this.defaultPasteId,this.defaultDeleteId,this.defaultScaleratioId,this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"))},e.prototype.enableCommentPanelItem=function(){this.pdfViewer.enableCommentPanel?this.contextMenuObj.enableItems([this.defaultCommentId],!0,!0):this.contextMenuObj.enableItems([this.defaultCommentId],!1,!0),0!==this.pdfViewer.selectedItems.formFields.length&&this.contextMenuObj.enableItems([this.defaultCommentId],!1,!0)},e.prototype.onOpeningForShape=function(e,i){this.pdfViewer.annotation&&this.pdfViewer.annotation.isShapeCopied||this.pdfViewer.formDesigner&&this.pdfViewer.formDesigner.isShapeCopied?this.contextMenuObj.enableItems([this.defaultPasteId],!0,!0):this.contextMenuObj.enableItems([this.defaultPasteId],!1,!0),this.contextMenuObj.hideItems([this.defaultHighlightId,this.defaultUnderlineId,this.defaultStrikethroughId,this.defaultScaleratioId],!0),e?0===this.pdfViewer.selectedItems.annotations.length||"Line"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"LineWidthArrowHead"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Distance"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?0!==this.pdfViewer.selectedItems.formFields.length&&this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?(this.contextMenuObj.hideItems([this.defaultCommentId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.contextMenuObj.showItems([this.defaultPropertiesId],!0)):(0,t.isNullOrUndefined)(i)&&"Image"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&!this.pdfViewer.selectedItems.annotations[0].id.startsWith("stamp")?(this.contextMenuObj.hideItems([this.defaultPropertiesId,this.defaultCommentId,this.defaultCutId,this.defaultCopyId,this.defaultPasteId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide")):(this.contextMenuObj.hideItems([this.defaultPropertiesId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide")):this.contextMenuObj.showItems([this.defaultPropertiesId],!0):i?"SignatureField"===this.pdfViewer.selectedItems.annotations[0].annotName||"InitialField"===this.pdfViewer.selectedItems.annotations[0].annotName||"SignatureText"===this.pdfViewer.selectedItems.annotations[0].annotName?(this.contextMenuObj.hideItems([this.defaultPropertiesId,this.defaultCommentId,this.defaultCutId,this.defaultCopyId,this.defaultPasteId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide")):(this.contextMenuObj.hideItems([this.defaultPropertiesId,this.defaultCommentId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide")):(this.contextMenuObj.hideItems([this.defaultCutId,this.defaultCopyId,this.defaultDeleteId,this.defaultPropertiesId,this.defaultCommentId],!0),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide"))},e.prototype.OnItemSelected=function(e){this.pdfViewerBase.OnItemSelected(e)},e.prototype.onMenuItemSelect=function(e){var i=this.filteredCustomItemsIds.find((function(t){return t===e.item.id})),n=(0,t.isNullOrUndefined)(i)?void 0:i.toString();n?this.pdfViewer.firecustomContextMenuSelect(n):this.pdfViewerBase.OnItemSelected(e.item.text)},e.prototype.destroy=function(){this.contextMenuObj&&(this.previousAction="",this.contextMenuObj.destroy())},e.prototype.close=function(){this.contextMenuObj.close()},e.prototype.open=function(e,t,i){this.contextMenuObj.open(e,t,i)},e.prototype.addCustomContextMenuItems=function(){var e=new Set;this.customMenuItems=this.customMenuItems.reverse().filter((function(t){return!e.has(t.id)&&e.add(t.id)})).reverse();var t=this.customMenuItems.length;if(t>0){if(!0===this.pdfViewer.showCustomContextMenuBottom)for(var i=0;i<t;i++)this.copyContextMenu.push(this.customMenuItems[parseInt(i.toString(),10)]);else for(i=t-1;i>=0;i--)this.copyContextMenu.unshift(this.customMenuItems[parseInt(i.toString(),10)]);this.contextMenuObj.items=this.copyContextMenu,this.contextMenuObj.dataBind()}this.copyShowCustomContextMenuBottom=this.pdfViewer.showCustomContextMenuBottom},e.prototype.hideDefaultContextMenu=function(){this.contextMenuObj.hideItems(this.defaultContextMenuItems),this.pdfViewerBase.getElement("_context_menu_separator").classList.add("e-menu-hide"),this.pdfViewerBase.getElement("_context_menu_comment_separator").classList.add("e-menu-hide")},e}(),hd=function(){function e(e){this.type="POST",this.mode=!0,this.contentType="application/json;charset=UTF-8",this.retryTimeout=0,this.pdfViewer=e,this.retryCount=e.retryCount,this.retryStatusCodes=e.retryStatusCodes,this.retryTimeout=1e3*e.retryTimeout}return e.prototype.send=function(e){var t=this;this.httpRequest=new XMLHttpRequest,this.httpRequest.timeout=this.retryTimeout,this.mode?this.sendRequest(e):setTimeout((function(){t.sendRequest(e)})),this.httpRequest.onreadystatechange=function(){var i=!1,n=t.pdfViewer.viewerBase;n&&n.isPasswordAvailable&&""===n.passwordData&&(i=!0,t.retryCount=0),t.retryCount>0&&(i=t.resendRequest(t,e,!1)),i||t.stateChange(t)},this.httpRequest.ontimeout=function(){var i=!1,n=t.pdfViewer.viewerBase;n&&n.isPasswordAvailable&&""===n.passwordData&&(i=!0,t.retryCount=0),t.retryCount>0&&(i=t.resendRequest(t,e,!0)),i||t.stateChange(t)},this.httpRequest.onerror=function(){t.error(t)}},e.prototype.clear=function(){this.httpRequest&&this.httpRequest.abort(),this.onSuccess=null,this.onFailure=null,this.onError=null},e.prototype.resendRequest=function(e,t,i){var n=!1,o=e.httpRequest.status,r=-1!==this.retryStatusCodes.indexOf(o);if(4===e.httpRequest.readyState&&200===o){var a=void 0;if((a=null!==this.responseType?e.httpRequest.response:e.httpRequest.responseText)&&"object"!=typeof a)try{a=JSON.parse(a)}catch(e){"Document stream does not exist in the cache"!==a&&"Document Reference pointer does not exist in the cache"!==a||(n=!0)}}return(r||n||i)&&(n=!0,this.retryCount--,e.pdfViewer.fireAjaxRequestFailed(o,e.httpRequest.statusText,t.action,!0),e.send(t)),n},e.prototype.sendRequest=function(e){this.httpRequest.open(this.type,this.url,this.mode),this.httpRequest.withCredentials=this.pdfViewer.ajaxRequestSettings.withCredentials,this.httpRequest.setRequestHeader("Content-Type",this.contentType),e=this.addExtraData(e),this.setCustomAjaxHeaders(),null!==this.responseType&&(this.httpRequest.responseType=this.responseType),this.httpRequest.send(JSON.stringify(e))},e.prototype.addExtraData=function(e){return this.pdfViewer.viewerBase.ajaxData="",this.pdfViewer.fireAjaxRequestInitiate(e),this.pdfViewer.viewerBase.ajaxData&&""!==this.pdfViewer.viewerBase.ajaxData&&(e=this.pdfViewer.viewerBase.ajaxData),e},e.prototype.stateChange=function(e){var t=e.httpRequest.status,i=t.toString().split("")[0];if(4===e.httpRequest.readyState&&200===t){var n={name:"onSuccess",data:null!==this.responseType?e.httpRequest.response:e.httpRequest.responseText,readyState:e.httpRequest.readyState,status:e.httpRequest.status};e.successHandler(n)}else if(4===e.httpRequest.readyState&&("4"===i||"5"===i)){n={name:"onFailure",status:e.httpRequest.status,statusText:e.httpRequest.statusText};e.failureHandler(n)}},e.prototype.error=function(e){var t={name:"onError",status:this.httpRequest.status,statusText:this.httpRequest.statusText};e.errorHandler(t)},e.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e),e},e.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(e),e},e.prototype.errorHandler=function(e){return this.onError&&this.onError(e),e},e.prototype.setCustomAjaxHeaders=function(){if(!(0,t.isNullOrUndefined)(this.pdfViewer.ajaxRequestSettings)&&!(0,t.isNullOrUndefined)(this.pdfViewer.ajaxRequestSettings.ajaxHeaders))for(var e=0;e<this.pdfViewer.ajaxRequestSettings.ajaxHeaders.length;e++)this.httpRequest.setRequestHeader(this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(e.toString(),10)].headerName,this.pdfViewer.ajaxRequestSettings.ajaxHeaders[parseInt(e.toString(),10)].headerValue)},e}(),Ad=f(741),pd=function(){function e(e,t){var i=this;this.mouseMoving=!0,this.canvasTouched=!1,this.imageSignatureDataUrl="",this.drawSignatureDataUrl="",this.newObject=[],this.outputString="",this.drawOutputString="",this.imageOutputString="",this.signaturecollection=[],this.outputcollection=[],this.signAnnotationIndex=[],this.fontsign=[],this.signfontStyle=[],this.isSaveSignature=!1,this.isSaveInitial=!1,this.isInitialFiledSaveSignature=!1,this.isSignatureFieldsSaveSignature=!1,this.issaveTypeSignature=!1,this.issaveImageSignature=!1,this.issaveTypeInitial=!1,this.issaveImageInitial=!1,this.saveSignatureTypeString="",this.saveInitialTypeString="",this.saveTypeString="",this.signatureTypeString="",this.initialTypeString="",this.saveUploadString="",this.saveSignatureUploadString="",this.saveInitialUploadString="",this.signatureUploadString="",this.initialUploadString="",this.clearUploadString=!1,this.textValue="",this.signatureDrawString="",this.initialDrawString="",this.signatureTextContentTop=.2,this.signatureTextContentLeft=.7,this.saveSignatureString="",this.saveInitialString="",this.saveImageString="",this.signatureFieldCollection=[],this.signatureImageString="",this.initialImageString="",this.maxSaveLimit=5,this.select=function(e){this.canvasTouched&&(this.mouseMoving=!0,this.canvasTouched=!1),e.isSwiped&&"Draw"===this.signaturetype&&this.mouseMoving&&(e.cancel=!0,this.mouseMoving=!1)},this.addStampImage=function(e){var t=e.target.files;if(null!==e.target.files[0]){var n=t[0];if("image"===n.type.split("/")[0]){var o=new FileReader;o.onload=function(e){var t=document.getElementById(i.pdfViewer.element.id+"_signatureuploadCanvas_"),n=t.getContext("2d"),o=new Image,r=i;o.onload=function(){document.getElementById(i.pdfViewer.element.id+"_e-pv-upload-button").style.visibility="hidden",n.drawImage(o,0,0,t.width,t.height),r.enableCreateButton(!1),r.outputString=o.src,r.signatureImageHeight=o.naturalHeight,r.signatureImageWidth=o.naturalWidth},o.src=e.currentTarget.result,r.outputString=e.currentTarget.result,r.switchTabImageSignature=e.currentTarget.result},o.readAsDataURL(n)}}e.target.value="",e.currentTarget.value=""},this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.createSignaturePanel=function(){var e=this;if(this.imageSignatureDataUrl="",this.drawSignatureDataUrl="",(0,t.isBlazor)()){var i=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");if(i){if(!this.pdfViewerBase.pageContainer.querySelector(".e-pv-signature-window")){o=this.pdfViewer.element.id;(n=(0,t.createElement)("div",{id:o+"_signature_window",className:"e-pv-signature-window"})).style.display="block",this.pdfViewerBase.pageContainer.appendChild(n)}i.addEventListener("mousedown",this.signaturePanelMouseDown.bind(this)),i.addEventListener("mousemove",this.signaturePanelMouseMove.bind(this)),i.addEventListener("mouseup",this.signaturePanelMouseUp.bind(this)),i.addEventListener("mouseleave",this.signaturePanelMouseUp.bind(this)),i.addEventListener("touchstart",this.signaturePanelMouseDown.bind(this)),i.addEventListener("touchmove",this.signaturePanelMouseMove.bind(this)),i.addEventListener("touchend",this.signaturePanelMouseUp.bind(this)),this.clearSignatureCanvas()}this.pdfViewer._dotnetInstance.invokeMethodAsync("OpenSignaturePanel",this.pdfViewerBase.isToolbarSignClicked)}else{var n,o=this.pdfViewer.element.id;(n=(0,t.createElement)("div",{id:o+"_signature_window",className:"e-pv-signature-window"})).style.display="block",this.pdfViewerBase.pageContainer.appendChild(n);var r=this.createSignatureCanvas(),a=void 0;a=this.pdfViewerBase.isToolbarSignClicked?this.pdfViewerBase.isInitialField?this.pdfViewer.localeObj.getConstant("InitialFieldDialogHeaderText"):this.pdfViewer.localeObj.getConstant("SignatureFieldDialogHeaderText"):this.pdfViewerBase.isInitialField?this.pdfViewer.localeObj.getConstant("HandwrittenInitialDialogHeaderText"):this.pdfViewer.localeObj.getConstant("HandwrittenSignatureDialogHeaderText"),this.signatureDialog?this.signatureDialog.content=r:(this.signatureDialog=new Ne.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:a,cssClass:"e-pv-signature-dialog-height",target:this.pdfViewerBase.mainContainer,content:r,width:"750px",visible:!0,allowDragging:!0,beforeClose:function(){e.clearSignatureCanvas(),e.signatureDialog.destroy(),e.signatureDialog=null,e.tabObj&&e.tabObj.destroy();var i=document.getElementById(e.pdfViewer.element.id+"_signature_window");i&&(i.parentNode?i.parentNode.removeChild(i):i.parentElement.removeChild(i)),e.pdfViewerBase.isToolbarSignClicked||e.pdfViewerBase.drawSignatureWithTool||(0,t.isNullOrUndefined)(e.pdfViewer.formFieldsModule.currentTarget)||e.pdfViewer.fireFocusOutFormField(e.pdfViewer.formFieldsModule.currentTarget.name,""),e.pdfViewerBase.isToolbarSignClicked=!1,e.setFocus()}}),this.signatureDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Clear"),disabled:!0,cssClass:"e-pv-clearbtn"},click:this.clearSignatureCanvas.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel"),cssClass:"e-pv-cancelbtn"},click:this.closeSignaturePanel.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Create"),isPrimary:!0,disabled:!0,cssClass:"e-pv-createbtn"},click:this.addSignatureInPage.bind(this)}],this.signatureDialog.appendTo(n)),this.pdfViewer.element.offsetWidth<750&&this.updateCanvasSize(),this.pdfViewer.enableRtl&&(this.signatureDialog.enableRtl=this.pdfViewer.enableRtl);var s=this.signatureDialog.content.ej2_instances[0].items[0];if("DRAW"===s.header.label){var l=document.getElementById("checkbox");this.hideSignatureCheckbox(l)}else if("TYPE"===s.header.label){var d=document.getElementById("checkbox1");this.hideSignatureCheckbox(d)}else{var h=document.getElementById("checkbox2");this.hideSignatureCheckbox(h)}this.setSignatureCanvasWidth()}this.drawSavedSignature()},e.prototype.setSignatureCanvasWidth=function(){var e=document.getElementById(this.pdfViewer.element.id+"Signature_appearance");if(e){var t=e.clientWidth,i=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");i&&(i.width=t,i.style.width=t+"px");var n=document.getElementById(this.pdfViewer.element.id+"_signatureuploadCanvas_");n&&(n.width=t,n.style.width=t+"px");var o=document.getElementById(this.pdfViewer.element.id+"_font_appearance");o&&(o.width=t,o.style.width=t+"px")}},e.prototype.drawSavedSignature=function(){if(!this.pdfViewerBase.isToolbarSignClicked&&(this.isSaveSignature||this.isSaveInitial)){!this.pdfViewerBase.isInitialField&&this.isSaveSignature?this.outputString=this.saveSignatureString:this.pdfViewerBase.isInitialField&&this.isSaveInitial&&(this.outputString=this.saveInitialString);var e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_").getContext("2d"),t=new Image;t.onload=function(){e.drawImage(t,0,0)},!this.pdfViewerBase.isInitialField&&this.isSaveSignature?t.src=this.signatureDrawString:this.pdfViewerBase.isInitialField&&this.isSaveInitial&&(t.src=this.initialDrawString);var i=document.getElementById(this.pdfViewer.element.id+"_signatureCheckBox");i&&(i.checked=!0),this.enableCreateButton(!1),this.enableClearbutton(!1)}},e.prototype.drawSavedTypeSignature=function(){var e="";return this.pdfViewerBase.isToolbarSignClicked||!this.issaveTypeSignature&&!this.issaveTypeInitial||(e=!this.pdfViewerBase.isInitialField&&this.issaveTypeSignature?this.saveSignatureTypeString:this.saveInitialTypeString),e},e.prototype.drawSavedImageSignature=function(){var e="";return this.pdfViewerBase.isToolbarSignClicked||!this.issaveImageSignature&&!this.issaveImageInitial||(e=!this.pdfViewerBase.isInitialField&&this.issaveImageSignature?this.saveSignatureUploadString:this.saveInitialUploadString),e},e.prototype.hideSignatureCheckbox=function(e){this.pdfViewerBase.isToolbarSignClicked?this.pdfViewerBase.isInitialField?this.pdfViewer.handWrittenSignatureSettings.initialDialogSettings&&this.pdfViewer.handWrittenSignatureSettings.initialDialogSettings.hideSaveSignature&&this.hideCheckboxParent(e):this.pdfViewer.handWrittenSignatureSettings.signatureDialogSettings&&this.pdfViewer.handWrittenSignatureSettings.signatureDialogSettings.hideSaveSignature&&this.hideCheckboxParent(e):this.pdfViewerBase.isInitialField?this.pdfViewer.initialFieldSettings.initialDialogSettings&&this.pdfViewer.initialFieldSettings.initialDialogSettings.hideSaveSignature&&this.hideCheckboxParent(e):this.pdfViewer.signatureFieldSettings.signatureDialogSettings&&this.pdfViewer.signatureFieldSettings.signatureDialogSettings.hideSaveSignature&&this.hideCheckboxParent(e)},e.prototype.saveSignatureCheckbox=function(){return!this.pdfViewerBase.isToolbarSignClicked&&(this.pdfViewerBase.isInitialField?(!this.pdfViewer.initialFieldSettings.initialDialogSettings||!this.pdfViewer.initialFieldSettings.initialDialogSettings.hideSaveSignature)&&this.isInitialFiledSaveSignature:(!this.pdfViewer.signatureFieldSettings.signatureDialogSettings||!this.pdfViewer.signatureFieldSettings.signatureDialogSettings.hideSaveSignature)&&this.isSignatureFieldsSaveSignature)},e.prototype.hideCheckboxParent=function(e){e&&(e.parentElement.style.display="none")},e.prototype.saveSignatureImage=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signatureCheckBox");if(e&&e.checked){if(""!==this.outputString){this.pdfViewerBase.isInitialField?(this.isSaveInitial=!0,this.saveInitialString=this.outputString):(this.isSaveSignature=!0,this.saveSignatureString=this.outputString);var t=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");this.saveImageString=t.toDataURL(),this.pdfViewerBase.isInitialField?this.initialImageString=this.saveImageString:this.signatureImageString=this.saveImageString}}else this.isSaveSignature&&!this.pdfViewerBase.isInitialField?(this.isSaveSignature=!1,this.saveSignatureString="",this.saveImageString="",this.signatureImageString=""):this.isSaveInitial&&this.pdfViewerBase.isInitialField&&(this.isSaveInitial=!1,this.saveInitialString="",this.saveImageString="",this.initialImageString=""),this.clearSignatureCanvas()},e.prototype.addSignature=function(e){var i;if(this.pdfViewerBase.isToolbarSignClicked){var n=this.pdfViewer.annotation.createGUID();this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.isSignatureAdded=!0;var o=this.pdfViewerBase.currentPageNumber-1,r=this.pdfViewer.handWrittenSignatureSettings.thickness?this.pdfViewer.handWrittenSignatureSettings.thickness:1,a=this.pdfViewer.handWrittenSignatureSettings.opacity?this.pdfViewer.handWrittenSignatureSettings.opacity:1,s=this.pdfViewer.handWrittenSignatureSettings.strokeColor?this.pdfViewer.handWrittenSignatureSettings.strokeColor:"#000000",l=this.updateSignatureAspectRatio(this.outputString,!0),d=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");this.saveImageString=d.toDataURL(),this.pdfViewerBase.isInitialField?this.initialImageString=this.saveImageString:this.signatureImageString=this.saveImageString,i={id:"sign"+this.pdfViewerBase.signatureCount,bounds:l,pageIndex:o,data:this.outputString,fontFamily:"Helvetica",fontSize:16,shapeAnnotationType:"HandWrittenSignature",opacity:a,strokeColor:s,thickness:r,signatureName:n},this.pdfViewerBase.currentSignatureAnnot=i;var h=void 0;(h=(0,t.isBlazor)()?document.getElementById(this.pdfViewer.element.id+"_signatureCheckBox"):document.getElementById("checkbox"))&&h.checked&&this.addSignatureCollection(),this.hideSignaturePanel(),this.pdfViewerBase.isToolbarSignClicked=!1}else{h=document.getElementById("checkbox");var A=document.getElementById("checkbox1"),p=document.getElementById("checkbox2"),c=!1;if(!c){d=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");this.saveImageString=d.toDataURL(),h&&(h.checked?(this.pdfViewerBase.isInitialField?(this.isSaveInitial=!0,this.initialDrawString=this.saveImageString,this.saveInitialString=this.outputString):(this.isSaveSignature=!0,this.signatureDrawString=this.saveImageString,this.saveSignatureString=this.outputString),this.checkSaveFiledSign(this.pdfViewerBase.isInitialField,!0)):(this.pdfViewerBase.isInitialField?(this.isSaveInitial=!1,this.saveInitialString=""):(this.isSaveSignature=!1,this.saveSignatureString=""),this.checkSaveFiledSign(this.pdfViewerBase.isInitialField,!1))),this.saveTypeSignature(A),this.saveUploadSignature(p),this.pdfViewerBase.isInitialField?this.initialImageString=this.saveImageString:this.signatureImageString=this.saveImageString,this.pdfViewer.formFieldsModule.drawSignature(null,null,this.pdfViewerBase.currentTarget,null),c=!0}}},e.prototype.updateSignatureAspectRatio=function(e,t,n,o){for(var r,a,s=(0,i.processPathData)(e),l=(0,i.splitArrayCollection)(s),d=-1,h=-1,A=-1,p=-1,c=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"),g=0;g<l.length;g++){var u=l[parseInt(g.toString(),10)];if(-1===d)d=parseFloat(u.x.toString()),A=parseFloat(u.x.toString()),h=parseFloat(u.y.toString()),p=parseFloat(u.y.toString());else{var f=parseFloat(u.x.toString()),m=parseFloat(u.y.toString());d>=f&&(d=f),h>=m&&(h=m),A<=f&&(A=f),p<=m&&(p=m)}}r=c?c.clientWidth:650,a=c?c.clientHeight:300;var w=A-d,y=p-h,S=this.calculateSignatureBounds(r,a,w,y,t,n,o);if(t){var C=this.pdfViewerBase.getZoomFactor(),B=this.pdfViewerBase.currentPageNumber-1,I=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+B);return{x:(parseFloat(I.style.width)/2-S.currentWidth/2)/C,y:(parseFloat(I.style.height)/2-S.currentHeight/2)/C,width:S.currentWidth,height:S.currentHeight}}return{left:S.currentLeftDiff,top:S.currentTopDiff,width:S.currentWidth,height:S.currentHeight}},e.prototype.calculateSignatureBounds=function(e,t,i,n,o,r,a){var s=i/e,l=n/t,d=this.pdfViewerBase.getZoomFactor(),h=0,A=0,p=!1,c=!1,g=0,u=0;if(o)h=this.pdfViewer.handWrittenSignatureSettings.width?this.pdfViewer.handWrittenSignatureSettings.width:150,A=this.pdfViewer.handWrittenSignatureSettings.height?this.pdfViewer.handWrittenSignatureSettings.height:100;else{var f=r?"100%"===r.style.width?r.clientWidth:parseFloat(r.style.width):this.ConvertPointToPixel(a.LineBounds.Width),m=r?"100%"===r.style.height?r.clientHeight:parseFloat(r.style.height):this.ConvertPointToPixel(a.LineBounds.Height),w=f/m,y=m/f,S=e/t,C=t/e,B=r?r.offsetParent.offsetParent.style.transform?r.offsetParent.offsetParent.style.transform:r.style.transform:a.RotationAngle;if(w>S||y>S||Math.abs(w-y)<=1){var I=0;y>S||Math.abs(w-y)<=1?(c=!0,I=y/C):(p=!0,I=w/S),"rotate(90deg)"===B||"rotate(270deg)"===B?(h=m/d,A=f/d):(p&&(g=f/d,h=f/I/d,A=m/d),c&&(u=m/d,h=f/d,A=m/I/d))}else"rotate(90deg)"===B||"rotate(270deg)"===B?(h=m/d,A=f/d):(h=f/d,A=m/d)}var b=(e-i)/2,v=(t-n)/2;if(p)b=b/e*g,b+=(g*s-h*s)/2,v=v/t*A;else if(c){b=b/e*h,v=v/t*u,v+=(u*l-A*l)/2}else b=b/e*h,v=v/t*A;return"Stretch"!==this.pdfViewer.signatureFitMode&&(h*=s,A*=l),{currentLeftDiff:b,currentTopDiff:v,currentWidth:h,currentHeight:A}},e.prototype.setFocus=function(e){e?(this.removeFocus(),document.getElementById(e).classList.add("e-pv-signature-focus")):this.currentTarget&&document.getElementById(this.currentTarget.id).focus()},e.prototype.removeFocus=function(){if(this.signatureFieldCollection){var e=this.signatureFieldCollection;0===e.length&&(e=this.getSignField());for(var t=0;t<this.signatureFieldCollection.length;t++){var i=this.pdfViewer.formDesignerModule?this.signatureFieldCollection[parseInt(t.toString(),10)].FormField.uniqueID:this.signatureFieldCollection[parseInt(t.toString(),10)].uniqueID,n=document.getElementById(i);n&&n.classList.remove("e-pv-signature-focus")}this.pdfViewer.formFieldsModule.currentTarget&&this.pdfViewer.formFieldsModule.currentTarget.classList.remove("e-pv-signature-focus")}},e.prototype.getSignField=function(){return this.pdfViewer.formDesignerModule?this.signatureFieldCollection=this.pdfViewer.formDesignerModule.getFormDesignerSignField(this.signatureFieldCollection):this.signatureFieldCollection=this.getFormFieldSignField(),this.signatureFieldCollection},e.prototype.getFormFieldSignField=function(){var e,t=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(t)for(var i=JSON.parse(t),n=0;n<i.length;n++)"SignatureField"!==(e=i[parseInt(n.toString(),10)]).Name&&"InitialField"!==e.Name||(e.uniqueID=this.pdfViewer.element.id+"input_"+e.PageIndex+"_"+n,this.signatureFieldCollection.push(i[parseInt(n.toString(),10)]));return this.signatureFieldCollection},e.prototype.checkSaveFiledSign=function(e,t){e?this.isInitialFiledSaveSignature=t:this.isSignatureFieldsSaveSignature=t},e.prototype.addSignatureInPage=function(){"Draw"===this.signaturetype?this.addSignature():"Type"===this.signaturetype?this.typeAddSignature():this.imageAddSignature(),this.drawOutputString="",this.imageOutputString=""},e.prototype.typeAddSignature=function(e){if(this.pdfViewerBase.isToolbarSignClicked){var i,n=this.pdfViewerBase.getZoomFactor(),o=this.pdfViewer.annotation.createGUID();this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.isSignatureAdded=!0;var r,a,s=this.pdfViewerBase.currentPageNumber-1,l=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+s),d=this.pdfViewer.handWrittenSignatureSettings.thickness?this.pdfViewer.handWrittenSignatureSettings.thickness:1,h=this.pdfViewer.handWrittenSignatureSettings.opacity?this.pdfViewer.handWrittenSignatureSettings.opacity:1,A=this.pdfViewer.handWrittenSignatureSettings.strokeColor?this.pdfViewer.handWrittenSignatureSettings.strokeColor:"#000000",p=65,c=200;(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.height)||"Stretch"!==this.pdfViewer.signatureFitMode||(p=this.pdfViewer.handWrittenSignatureSettings.height),(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.width)||"Stretch"!==this.pdfViewer.signatureFitMode||(c=this.pdfViewer.handWrittenSignatureSettings.width),r=(parseFloat(l.style.width)/2-c/2)/n,a=(parseFloat(l.style.height)/2-p/2)/n;var g=this.pdfViewerBase.getZoomFactor();this.signtypevalue||this.updateSignatureTypeValue(!0);var u=this.signtypevalue;this.pdfViewer.enableHtmlSanitizer&&this.outputString&&(this.outputString=t.SanitizeHtmlHelper.sanitize(this.outputString)),i={id:"Typesign"+this.pdfViewerBase.signatureCount,bounds:{left:r/g,top:a/g,x:r/g,y:a/g,width:c,height:p},pageIndex:s,dynamicText:u,data:this.pdfViewerBase.signatureModule.outputString,shapeAnnotationType:"SignatureText",opacity:h,strokeColor:A,thickness:d,fontSize:16,fontFamily:this.fontName,signatureName:o},this.pdfViewerBase.currentSignatureAnnot=i;var f=void 0;(f=(0,t.isBlazor)()?document.getElementById(this.pdfViewer.element.id+"_signatureCheckBox"):document.getElementById("checkbox1"))&&f.checked&&this.addSignatureCollection(),this.signtypevalue="",this.hideSignaturePanel(),this.pdfViewerBase.isToolbarSignClicked=!1}else{f=document.getElementById("checkbox");var m=document.getElementById("checkbox1"),w=document.getElementById("checkbox2"),y=!1;if(!y){this.saveDrawSignature(f),this.saveUploadSignature(w);var S=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");S&&(this.saveTypeString=S.toDataURL()),this.updateSignatureTypeValue(),this.pdfViewer.enableHtmlSanitizer&&this.textValue&&(this.textValue=t.SanitizeHtmlHelper.sanitize(this.textValue)),m&&m.checked?this.pdfViewerBase.isInitialField?(this.isSaveInitial=!0,this.initialImageString=this.saveTypeString,this.saveInitialTypeString=this.textValue,this.issaveTypeInitial=!0):(this.isSaveSignature=!0,this.signatureImageString=this.saveTypeString,this.saveSignatureTypeString=this.textValue,this.issaveTypeSignature=!0):this.pdfViewerBase.isInitialField?(this.isSaveInitial=!1,this.saveInitialTypeString="",this.issaveTypeInitial=!1):(this.isSaveSignature=!1,this.saveSignatureTypeString="",this.issaveTypeSignature=!1),this.pdfViewerBase.isInitialField?this.initialTypeString=this.saveTypeString:this.signatureTypeString=this.saveTypeString,this.pdfViewer.formFieldsModule.drawSignature("Type",this.textValue,this.pdfViewerBase.currentTarget),y=!0,this.hideSignaturePanel()}}},e.prototype.imageAddSignature=function(e){if(this.pdfViewerBase.isToolbarSignClicked){var i,n=this.pdfViewerBase.getZoomFactor(),o=this.pdfViewer.annotation.createGUID();this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.isSignatureAdded=!0;var r,a,s=this.pdfViewerBase.currentPageNumber-1,l=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+s),d=this.pdfViewer.handWrittenSignatureSettings.thickness?this.pdfViewer.handWrittenSignatureSettings.thickness:1,h=this.pdfViewer.handWrittenSignatureSettings.opacity?this.pdfViewer.handWrittenSignatureSettings.opacity:1,A=this.pdfViewer.handWrittenSignatureSettings.strokeColor?this.pdfViewer.handWrittenSignatureSettings.strokeColor:"#000000",p=100,c=0,g=0;this.pdfViewer.enableHtmlSanitizer&&this.outputString&&(this.outputString=t.SanitizeHtmlHelper.sanitize(this.outputString)),c=(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.height)||"Stretch"!==this.pdfViewer.signatureFitMode?this.signatureImageHeight>=this.signatureImageWidth?this.signatureImageHeight/this.signatureImageHeight*p:this.signatureImageHeight/this.signatureImageWidth*p:this.pdfViewer.handWrittenSignatureSettings.height,g=(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.width)||"Stretch"!==this.pdfViewer.signatureFitMode?this.signatureImageHeight>=this.signatureImageWidth?this.signatureImageWidth/this.signatureImageHeight*p:this.signatureImageWidth/this.signatureImageWidth*p:this.pdfViewer.handWrittenSignatureSettings.width,r=(parseFloat(l.style.width)/2-g/2)/n,a=(parseFloat(l.style.height)/2-c/2)/n;var u=this.pdfViewerBase.getZoomFactor(),f=this.signtypevalue;i={id:"Typesign"+this.pdfViewerBase.signatureCount,bounds:{left:r/u,top:a/u,x:r/u,y:a/u,width:g,height:c},pageIndex:s,dynamicText:f,data:this.pdfViewerBase.signatureModule.outputString,shapeAnnotationType:"SignatureImage",opacity:h,strokeColor:A,thickness:d,fontSize:16,fontFamily:this.fontName,signatureName:o},this.pdfViewerBase.currentSignatureAnnot=i;var m=void 0;(m=(0,t.isBlazor)()?document.getElementById(this.pdfViewer.element.id+"_signatureCheckBox"):document.getElementById("checkbox2"))&&m.checked&&this.addSignatureCollection(),this.hideSignaturePanel(),this.pdfViewerBase.isToolbarSignClicked=!1}else{m=document.getElementById("checkbox");var w=document.getElementById("checkbox1"),y=document.getElementById("checkbox2"),S=!1;if(!S){this.saveDrawSignature(m),this.saveTypeSignature(w);var C=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");C&&(this.saveUploadString=C.toDataURL()),this.pdfViewer.enableHtmlSanitizer&&this.outputString&&(this.outputString=t.SanitizeHtmlHelper.sanitize(this.outputString)),y&&y.checked?this.pdfViewerBase.isInitialField?(this.isSaveInitial=!0,this.initialImageString=this.saveUploadString,this.saveInitialUploadString=this.outputString,this.issaveImageInitial=!0):(this.isSaveSignature=!0,this.signatureImageString=this.saveUploadString,this.saveSignatureUploadString=this.outputString,this.issaveImageSignature=!0):this.pdfViewerBase.isInitialField?(this.isSaveInitial=!1,this.saveInitialUploadString="",this.issaveImageInitial=!1):(this.isSaveSignature=!1,this.saveSignatureUploadString="",this.issaveImageSignature=!1),this.pdfViewerBase.isInitialField?this.initialUploadString=this.saveUploadString:this.signatureUploadString=this.saveUploadString,this.pdfViewer.formFieldsModule.drawSignature("Image","",this.pdfViewerBase.currentTarget),S=!0,this.hideSignaturePanel()}}},e.prototype.saveDrawSignature=function(e){if(e)if(e.checked){if(""!==this.drawOutputString){var t=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");this.saveImageString=t.toDataURL(),this.pdfViewerBase.isInitialField?(this.saveInitialString=this.drawOutputString,this.initialDrawString=this.saveImageString):(this.saveSignatureString=this.drawOutputString,this.signatureDrawString=this.saveImageString),this.checkSaveFiledSign(this.pdfViewerBase.isInitialField,!0)}}else this.pdfViewerBase.isInitialField?this.saveInitialString="":this.saveSignatureString="",this.checkSaveFiledSign(this.pdfViewerBase.isInitialField,!1)},e.prototype.saveTypeSignature=function(e){e&&(e.checked?(this.updateSignatureTypeValue(),""!==this.textValue&&(this.pdfViewerBase.isInitialField?(this.issaveTypeInitial=!0,this.saveInitialTypeString=this.textValue):(this.issaveTypeSignature=!0,this.saveSignatureTypeString=this.textValue))):this.pdfViewerBase.isInitialField?(this.saveInitialTypeString="",this.issaveTypeInitial=!1):(this.saveSignatureTypeString="",this.issaveTypeSignature=!1))},e.prototype.saveUploadSignature=function(e){if(e)if(e.checked){var t=document.getElementById(this.pdfViewer.element.id+"_signatureuploadCanvas_").toDataURL(),i="hidden"===document.getElementById(this.pdfViewer.element.id+"_e-pv-upload-button").style.visibility?t:"";""!==i&&(this.pdfViewerBase.isInitialField?(this.issaveImageInitial=!0,this.saveInitialUploadString=i):(this.issaveImageSignature=!0,this.saveSignatureUploadString=i))}else this.pdfViewerBase.isInitialField?(this.saveInitialUploadString="",this.issaveImageInitial=!1):(this.saveSignatureUploadString="",this.issaveImageSignature=!1)},e.prototype.updateSignatureTypeValue=function(e){var t=document.querySelectorAll(".e-pv-font-sign");if(t)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)]&&"red"===t[parseInt(i.toString(),10)].style.borderColor){this.pdfViewerBase.isToolbarSignClicked?e?(this.signtypevalue=t[parseInt(i.toString(),10)].textContent,this.outputString=t[parseInt(i.toString(),10)].textContent):this.outputString=t[parseInt(i.toString(),10)].textContent:e?(this.signtypevalue=t[parseInt(i.toString(),10)].textContent,this.textValue=t[parseInt(i.toString(),10)].textContent):this.textValue=t[parseInt(i.toString(),10)].textContent;try{this.fontName=JSON.parse(t[parseInt(i.toString(),10)].style.fontFamily)}catch(e){this.fontName=t[parseInt(i.toString(),10)].style.fontFamily}}},e.prototype.hideSignaturePanel=function(){this.signatureDialog&&this.signatureDialog.hide()},e.prototype.bindTypeSignatureClickEvent=function(){if((0,t.isBlazor)())for(var e=0;e<4;e++){var i=document.querySelector("#"+this.pdfViewer.element.id+"_font_signature"+e);i&&i.addEventListener("click",this.typeSignatureclicked.bind(this))}},e.prototype.bindDrawSignatureClickEvent=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");e&&(e.addEventListener("mousedown",this.signaturePanelMouseDown.bind(this)),e.addEventListener("mousemove",this.signaturePanelMouseMove.bind(this)),e.addEventListener("mouseup",this.signaturePanelMouseUp.bind(this)),e.addEventListener("mouseleave",this.signaturePanelMouseUp.bind(this)),e.addEventListener("touchstart",this.signaturePanelMouseDown.bind(this)),e.addEventListener("touchmove",this.signaturePanelMouseMove.bind(this)),e.addEventListener("touchend",this.signaturePanelMouseUp.bind(this)))},e.prototype.typeSignatureclicked=function(e){var t=e.target;if(t){for(var i=0;i<4;i++){var n=document.querySelector("#"+this.pdfViewer.element.id+"_font_signature"+i);n&&(n.style.borderColor="")}t.style.borderColor="red",this.outputString=t.textContent;try{this.fontName=JSON.parse(t.style.fontFamily)}catch(e){this.fontName=t.style.fontFamily}this.enableCreateButton(!1)}},e.prototype.createSignatureCanvas=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"),i=document.getElementById(this.pdfViewer.element.id+"Signature_appearance");e&&e.remove(),i&&i.remove();var n=305,o=this.pdfViewer.element.clientHeight;o<=500?n=250:o>500&&o<=750&&(n=275);var r,a,s,l=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"Signature_appearance",className:"e-pv-signature-apperance",styles:"margin-top:30px"}),d=(0,t.createElement)("canvas",{id:this.pdfViewer.element.id+"_signatureCanvas_",className:"e-pv-signature-canvas"});d.classList.add("e-pv-canvas-signature"),d.height=n,d.style.height=n+"px",d.style.border="1px dotted #bdbdbd",d.style.backgroundColor="white",d.style.boxSizing="border-box",d.style.borderRadius="2px",d.addEventListener("mousedown",this.signaturePanelMouseDown.bind(this)),d.addEventListener("mousemove",this.signaturePanelMouseMove.bind(this)),d.addEventListener("mouseup",this.signaturePanelMouseUp.bind(this)),d.addEventListener("mouseleave",this.signaturePanelMouseLeave.bind(this)),d.addEventListener("touchstart",this.signaturePanelMouseDown.bind(this)),d.addEventListener("touchmove",this.signaturePanelMouseMove.bind(this)),d.addEventListener("touchend",this.signaturePanelMouseUp.bind(this)),l.appendChild(d),s=this.pdfViewerBase.isToolbarSignClicked&&!this.pdfViewerBase.isInitialField?this.pdfViewer.localeObj.getConstant("Save Signature"):this.pdfViewerBase.isInitialField?this.pdfViewer.localeObj.getConstant("Save Initial"):this.pdfViewer.localeObj.getConstant("Save Signature"),this.pdfViewer.hideSaveSignature||((a=document.createElement("input")).type="checkbox",a.id="checkbox",l.appendChild(a),(r=new Ad.CheckBox({label:s,disabled:!1,checked:!1})).appendTo(a)),this.pdfViewerBase.isInitialField?this.isSaveInitial=this.saveSignatureCheckbox():this.isSaveSignature=this.saveSignatureCheckbox(),(this.isSaveSignature&&!this.pdfViewerBase.isInitialField||this.isSaveInitial&&this.pdfViewerBase.isInitialField)&&(r.checked=!0);var h=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"type_appearance",className:"e-pv-signature-apperance",styles:"margin-top:6px"}),A=document.createElement("input");this.pdfViewerBase.isInitialField||!this.issaveTypeSignature||this.pdfViewerBase.isToolbarSignClicked?this.pdfViewerBase.isInitialField&&this.issaveTypeInitial&&!this.pdfViewerBase.isToolbarSignClicked&&(A.value=this.drawSavedTypeSignature()):A.value=this.drawSavedTypeSignature(),A.type="text",A.id=this.pdfViewer.element.id+"_e-pv-Signtext-box",h.appendChild(A);var p=new Pe.TextBox({placeholder:this.pdfViewer.localeObj.getConstant("Enter Signature as Name"),floatLabelType:"Auto"});p.appendTo(A);var c=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_font_appearance",className:"e-pv-font-appearance-style"});c.classList.add("e-pv-canvas-signature"),c.style.height=n-35+"px",c.style.border="1px dotted #bdbdbd",c.style.boxSizing="border-box",c.style.borderRadius="2px",c.style.backgroundColor="white",c.style.color="black",c.style.marginTop="8px",c.style.paddingRight="0px",h.appendChild(c),(a=document.createElement("input")).type="checkbox",a.id="checkbox1",h.appendChild(a),(r=new Ad.CheckBox({label:s,disabled:!1,checked:!1})).appendTo(a),!this.issaveTypeSignature||this.pdfViewerBase.isInitialField||this.pdfViewerBase.isToolbarSignClicked?this.issaveTypeInitial&&this.pdfViewerBase.isInitialField&&!this.pdfViewerBase.isToolbarSignClicked&&(r.checked=!0):r.checked=!0,p.addEventListener("input",this.renderSignatureText.bind(this)),this.enableCreateButton(!0);var g=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"Signature_tab"}),u=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"upload_appearance",className:"e-pv-signature-apperance",styles:"padding-top:30px"}),f=document.createElement("div");f.id=this.pdfViewer.element.id+"_e-pv-upload-button",u.appendChild(f);var m=new Ad.Button({cssClass:"e-pv-sign-upload",content:this.pdfViewer.localeObj.getConstant("Browse Signature Image")});m.appendTo(f),m.element.style.position="absolute";var w=(0,t.createElement)("canvas",{id:this.pdfViewer.element.id+"_signatureuploadCanvas_",className:"e-pv-signature-uploadcanvas"});this.pdfViewer.element.offsetWidth>750?w.width=714:w.width=this.pdfViewer.element.offsetWidth-35,w.classList.add("e-pv-canvas-signature"),w.height=n,w.style.height=n+"px",m.element.style.left=w.width/2-50+"px",m.element.style.top=parseFloat(w.style.height)/2+20+"px",w.style.border="1px dotted #bdbdbd",w.style.backgroundColor="transparent",w.style.boxSizing="border-box",w.style.borderRadius="2px",w.style.zIndex="0";var y="";if(this.pdfViewerBase.isInitialField||!this.issaveImageSignature||this.pdfViewerBase.isToolbarSignClicked?this.pdfViewerBase.isInitialField&&this.issaveImageInitial&&!this.pdfViewerBase.isToolbarSignClicked&&(y=this.drawSavedImageSignature()):y=this.drawSavedImageSignature(),""!==y&&!this.pdfViewerBase.isToolbarSignClicked){this.clearUploadString=!1;var S=w.getContext("2d"),C=new Image;C.src=y,C.onload=function(){S.drawImage(C,0,0,w.width,w.height)},m.element.style.display="hidden"}u.appendChild(w),(a=document.createElement("input")).type="checkbox",a.id="checkbox2",u.appendChild(a),(r=new Ad.CheckBox({label:s,disabled:!1,checked:!1})).appendTo(a),!this.issaveImageSignature||this.pdfViewerBase.isInitialField||this.pdfViewerBase.isToolbarSignClicked?this.issaveImageInitial&&this.pdfViewerBase.isInitialField&&!this.pdfViewerBase.isToolbarSignClicked&&(r.checked=!0):r.checked=!0,f.addEventListener("click",this.uploadSignatureImage.bind(this)),this.signfontStyle=[{FontName:"Helvetica"},{FontName:"Times New Roman"},{FontName:"Courier"},{FontName:"Symbol"}];var B=[];if(this.pdfViewerBase.isToolbarSignClicked&&!(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.typeSignatureFonts))for(var I=0;I<4;I++)(0,t.isNullOrUndefined)(this.pdfViewer.handWrittenSignatureSettings.typeSignatureFonts[parseInt(I.toString(),10)])||(this.signfontStyle[parseInt(I.toString(),10)].FontName=this.pdfViewer.handWrittenSignatureSettings.typeSignatureFonts[parseInt(I.toString(),10)]);this.setCustomFonts();for(var b=0;b<this.signfontStyle.length;b++)B[parseInt(b.toString(),10)]=document.createElement("div"),B[parseInt(b.toString(),10)].id="_font_signature"+b,B[parseInt(b.toString(),10)].classList.add("e-pv-font-sign"),275===n?(B[parseInt(b.toString(),10)].style.fontSize="13px",B[parseInt(b.toString(),10)].style.paddingTop="30px",B[parseInt(b.toString(),10)].style.height="78px"):250===n&&(B[parseInt(b.toString(),10)].style.fontSize="12px",B[parseInt(b.toString(),10)].style.paddingTop="25px",B[parseInt(b.toString(),10)].style.height="68px");this.fontsign=B;var v=this,E=[];return E=this.pdfViewerBase.isToolbarSignClicked?this.pdfViewerBase.isInitialField?this.showHideSignatureTab((this.pdfViewer.handWrittenSignatureSettings.initialDialogSettings?this.pdfViewer.handWrittenSignatureSettings.initialDialogSettings:this.pdfViewer.initialDialogSettings)&&(this.pdfViewer.handWrittenSignatureSettings.initialDialogSettings?this.pdfViewer.handWrittenSignatureSettings.initialDialogSettings.displayMode:this.pdfViewer.initialDialogSettings.displayMode),l,h,u):this.showHideSignatureTab((this.pdfViewer.handWrittenSignatureSettings.signatureDialogSettings?this.pdfViewer.handWrittenSignatureSettings.signatureDialogSettings:this.pdfViewer.signatureDialogSettings)&&(this.pdfViewer.handWrittenSignatureSettings.signatureDialogSettings?this.pdfViewer.handWrittenSignatureSettings.signatureDialogSettings.displayMode:this.pdfViewer.signatureDialogSettings.displayMode),l,h,u):this.pdfViewerBase.isInitialField?this.showHideSignatureTab(this.pdfViewer.initialFieldSettings.initialDialogSettings?this.pdfViewer.initialFieldSettings.initialDialogSettings.displayMode:7,l,h,u):this.showHideSignatureTab(this.pdfViewer.signatureFieldSettings.signatureDialogSettings?this.pdfViewer.signatureFieldSettings.signatureDialogSettings.displayMode:7,l,h,u),this.tabObj=new ai.Tab({selected:function(e){v.handleSelectEvent(e)},selecting:function(e){v.select(e)},items:E}),this.tabObj.appendTo(g),"DRAW"===E[0].header.label?this.signaturetype="Draw":"TYPE"===E[0].header.label?this.signaturetype="Type":this.signaturetype="Image",g},e.prototype.setCustomFonts=function(){if(!this.pdfViewerBase.isToolbarSignClicked&&!(0,t.isNullOrUndefined)(this.pdfViewer.signatureFieldSettings.typeSignatureFonts)&&!this.pdfViewerBase.isInitialField)for(var e=0;e<4;e++)(0,t.isNullOrUndefined)(this.pdfViewer.signatureFieldSettings.typeSignatureFonts[parseInt(e.toString(),10)])||(this.signfontStyle[parseInt(e.toString(),10)].FontName=this.pdfViewer.signatureFieldSettings.typeSignatureFonts[parseInt(e.toString(),10)]);if(!this.pdfViewerBase.isToolbarSignClicked&&!(0,t.isNullOrUndefined)(this.pdfViewer.initialFieldSettings.typeInitialFonts)&&this.pdfViewerBase.isInitialField)for(e=0;e<4;e++)(0,t.isNullOrUndefined)(this.pdfViewer.initialFieldSettings.typeInitialFonts[parseInt(e.toString(),10)])||(this.signfontStyle[parseInt(e.toString(),10)].FontName=this.pdfViewer.initialFieldSettings.typeInitialFonts[parseInt(e.toString(),10)])},e.prototype.handleSelectEvent=function(e){var t="",i=document.getElementById(this.pdfViewer.element.id+"Signature_tab").ej2_instances[0];if(i&&i.items.length>0)for(var n=0;n<i.items.length;n++){i.items[parseInt(n.toString(),10)].header.text===e.selectedItem.textContent&&(t=i.items[parseInt(n.toString(),10)].header.label)}if(this.clearSignatureCanvas(e),"draw"===t.toLocaleLowerCase()){this.signaturetype="Draw",this.enableCreateSignatureButton();var o=document.getElementById("checkbox");this.hideSignatureCheckbox(o)}else if("type"===t.toLocaleLowerCase()){(s=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"))&&(this.drawSignatureDataUrl=s.toDataURL()),this.updateSignatureTypeValue(),this.signaturetype="Type",this.enableCreateSignatureButton();var r=document.getElementById("checkbox1");this.hideSignatureCheckbox(r);var a=document.getElementById(this.pdfViewer.element.id+"_e-pv-Signtext-box");this.pdfViewerBase.isInitialField||""===this.saveSignatureTypeString||""===a.value||this.pdfViewerBase.isToolbarSignClicked?this.pdfViewerBase.isInitialField&&""!==this.saveInitialTypeString&&""!==a.value&&!this.pdfViewerBase.isToolbarSignClicked&&this.renderSignatureText():this.renderSignatureText()}else if("upload"===t.toLocaleLowerCase()){var s;(s=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_"))&&(this.drawSignatureDataUrl=s.toDataURL()),this.signaturetype="Image",this.enableCreateSignatureButton();var l=document.getElementById("checkbox2");this.hideSignatureCheckbox(l);var d=document.getElementById(this.pdfViewer.element.id+"_e-pv-upload-button");""===this.saveSignatureUploadString||this.pdfViewerBase.isInitialField||this.clearUploadString||this.pdfViewerBase.isToolbarSignClicked||(this.enableCreateButton(!1),d.style.visibility="hidden",this.outputString=this.saveSignatureUploadString),""===this.saveInitialUploadString||!this.pdfViewerBase.isInitialField||this.clearUploadString||this.pdfViewerBase.isToolbarSignClicked||(this.enableCreateButton(!1),d.style.visibility="hidden",this.outputString=this.saveInitialUploadString)}this.pdfViewer.element.offsetWidth<750&&this.updateCanvasSize(),this.drawSignOnTabSwitch(),"upload"===t.toLocaleLowerCase()&&this.imageSignatureDataUrl&&this.imageSignOnTabSwitch()},e.prototype.enableCreateSignatureButton=function(){this.pdfViewerBase.isToolbarSignClicked||"Type"!==this.signaturetype?""!==this.outputString?this.enableCreateButton(!1):this.enableCreateButton(!0):""!==this.textValue?this.enableCreateButton(!1):this.enableCreateButton(!0)},e.prototype.showHideSignatureTab=function(e,t,i,n){var o=[];return e&Ee.Draw&&o.push({header:{text:this.pdfViewer.localeObj.getConstant("Draw-hand Signature"),label:"DRAW"},content:t}),e&Ee.Text&&o.push({header:{text:this.pdfViewer.localeObj.getConstant("Type Signature"),label:"TYPE"},content:i}),e&Ee.Upload&&o.push({header:{text:this.pdfViewer.localeObj.getConstant("Upload Signature"),label:"UPLOAD"},content:n}),o},e.prototype.createSignatureFileElement=function(){var e=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_signElement",attrs:{type:"file"}});e.setAttribute("accept",".jpg,.jpeg,.png"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.visibility="hidden",document.body.appendChild(e),e.addEventListener("change",this.addStampImage)},e.prototype.uploadSignatureImage=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signElement");(0,t.isNullOrUndefined)(e)&&(this.createSignatureFileElement(),e=document.getElementById(this.pdfViewer.element.id+"_signElement")),e&&e.click()},e.prototype.renderSignatureText=function(){for(var e,i=document.getElementById(this.pdfViewer.element.id+"_font_appearance"),n=document.getElementById(this.pdfViewer.element.id+"_e-pv-Signtext-box"),o=0;o<this.signfontStyle.length;o++)this.fontsign[parseInt(o.toString(),10)].innerHTML=n.value,this.fontsign[parseInt(o.toString(),10)].style.fontFamily=this.signfontStyle[parseInt(o.toString(),10)].FontName,(""!==this.fontName&&this.signfontStyle[parseInt(o.toString(),10)].FontName===this.fontName||(0,t.isNullOrUndefined)(this.fontName)&&!(0,t.isNullOrUndefined)(this.signfontStyle[parseInt(o.toString(),10)].FontName)&&0===o)&&(this.fontsign[parseInt(o.toString(),10)].classList.add("e-pv-selected-fontdiv"),this.fontsign[parseInt(o.toString(),10)].style.borderColor="red"),i.appendChild(this.fontsign[parseInt(o.toString(),10)]);for(o=0;o<this.signfontStyle.length;o++){document.getElementById("_font_signature"+o).addEventListener("click",this.typeSignatureclick.bind(this))}e=""===n.value.trim(),this.enableCreateButton(e),this.enableClearbutton(e),this.pdfViewer.element.offsetWidth<750&&this.updateCanvasSize(),this.drawSignOnTabSwitch()},e.prototype.typeSignatureclick=function(){var e=event.target;if(""!==e.textContent.trim()){document.getElementsByClassName("e-pv-createbtn")[0].disabled=!1;for(var t=0;t<4;t++){var i=document.getElementById("_font_signature"+t);i&&(i.style.borderColor="",i.classList.remove("e-pv-selected-fontdiv"))}e.classList.add("e-pv-selected-fontdiv"),e.style.borderColor="red",this.outputString=e.textContent;try{this.fontName=JSON.parse(e.style.fontFamily)}catch(t){this.fontName=e.style.fontFamily}}},e.prototype.addSignatureCollection=function(e,t){var n,o=-1,r=-1,a=-1,s=-1,l=(0,i.processPathData)(this.outputString),d=document.createElement("canvas"),h=d.getContext("2d"),A=this.pdfViewerBase.currentSignatureAnnot.shapeAnnotationType;if("HandWrittenSignature"===A){if(0!==l.length){for(var p=0;p<l.length;p++){var c=l[parseInt(p.toString(),10)];if(-1===o)o=c.x,a=c.x,r=c.y,s=c.y;else o>=(C=c.x)&&(o=C),r>=(B=c.y)&&(r=B),a<=C&&(a=C),s<=B&&(s=B)}var g=a-o,u=s-r,f=g/100,m=u/100,w=0,y=0;e?(d.width=t.currentWidth,d.height=t.currentHeight,f=g/e.width,m=u/e.height,w=e.x-t.currentLeft,y=e.y-t.currentTop):(d.width=100,d.height=100),h.beginPath();for(var S=0;S<l.length;S++){var C=((c=l[parseInt(S.toString(),10)]).x-o)/f+w,B=(c.y-r)/m+y;"M"===c.command?h.moveTo(C,B):"L"===c.command&&h.lineTo(C,B)}h.stroke(),h.closePath(),n=d.toDataURL()}}else n=this.outputString;if(e)this.saveImageString=n;else{var I={};I["sign_"+this.pdfViewerBase.imageCount]=this.outputString,this.outputcollection.push(I);var b={};b.height=this.pdfViewerBase.currentSignatureAnnot.bounds.height,b.width=this.pdfViewerBase.currentSignatureAnnot.bounds.width;var v=[];v.push({id:"sign_"+this.pdfViewerBase.imageCount,imageData:n,signatureType:A,fontFamily:this.pdfViewerBase.currentSignatureAnnot.fontFamily,bounds:b}),this.signaturecollection.push({image:v,isInitial:this.pdfViewerBase.isInitialField}),this.pdfViewerBase.imageCount++}},e.prototype.getSaveLimit=function(e){return e>this.maxSaveLimit?e=this.maxSaveLimit:e<1&&(e=1),e},e.prototype.RenderSavedSignature=function(){this.pdfViewerBase.signatureCount++;var e,t=this.pdfViewerBase.getZoomFactor();if(this.pdfViewerBase.isAddedSignClicked){var i=this.pdfViewer.annotation.createGUID();this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.isSignatureAdded=!0;var n,o,r=this.pdfViewerBase.currentPageNumber-1,a=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+r),s=this.pdfViewer.handWrittenSignatureSettings.width?this.pdfViewer.handWrittenSignatureSettings.width:100,l=this.pdfViewer.handWrittenSignatureSettings.height?this.pdfViewer.handWrittenSignatureSettings.height:100,d=this.pdfViewer.handWrittenSignatureSettings.thickness?this.pdfViewer.handWrittenSignatureSettings.thickness:1,h=this.pdfViewer.handWrittenSignatureSettings.opacity?this.pdfViewer.handWrittenSignatureSettings.opacity:1,A=this.pdfViewer.handWrittenSignatureSettings.strokeColor?this.pdfViewer.handWrittenSignatureSettings.strokeColor:"#000000";n=(parseFloat(a.style.width)/2-s/2)/t,o=(parseFloat(a.style.height)/2-l/2)/t;for(var p="",c=void 0,g=void 0,u=void 0,f=0;f<this.outputcollection.length;f++){var m=this.outputcollection[parseInt(f.toString(),10)];if((y=event.target)&&y.id==="sign_"+f||y&&y.id==="sign_border"+f){p=m["sign_"+f];break}}for(var w=0;w<this.signaturecollection.length;w++){var y=event.target,S=this.signaturecollection[parseInt(w.toString(),10)].image[0].id.split("_")[1];if(y&&y.id==="sign_"+S||y&&y.id==="sign_border"+S){c=this.signaturecollection[parseInt(w.toString(),10)].image[0].signatureType,g=this.signaturecollection[parseInt(w.toString(),10)].image[0].fontFamily,u=this.signaturecollection[parseInt(w.toString(),10)].image[0].bounds;break}}if("HandWrittenSignature"===c){var C=this.updateSignatureAspectRatio(p,!0);u.width!==C.width&&u.height!==C.height?(s=u.width,l=u.height):(s=C.width?C.width:s,l=C.height?C.height:l)}else s=u.width,l=u.height;e={id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:n,y:o,width:s,height:l},pageIndex:r,data:p,shapeAnnotationType:c,opacity:h,fontFamily:g,strokeColor:A,thickness:d,signatureName:i},this.pdfViewerBase.currentSignatureAnnot=e,this.pdfViewerBase.isAddedSignClicked=!1}else this.pdfViewer.formFieldsModule.drawSignature()},e.prototype.updateCanvasSize=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");this.setTabItemWidth(e);var t=document.getElementById(this.pdfViewer.element.id+"_signatureuploadCanvas_");this.setTabItemWidth(t);var i=document.getElementById(this.pdfViewer.element.id+"_font_appearance");this.setTabItemWidth(i)},e.prototype.setTabItemWidth=function(e){var t=2,i=document.querySelector(".e-dlg-content");if(i){var n=getComputedStyle(i);t=t+parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10)}if(e&&this.signatureDialog&&this.signatureDialog.visible){if("DIV"!==e.tagName){var o=e.getContext("2d"),r=e.toDataURL(),a=new Image;a.src=r,a.onload=function(){o.drawImage(a,0,0,e.width,e.height)}}this.pdfViewer.element.parentElement.clientWidth>750?(e.width=714,e.style.width="714px"):(e.width=this.pdfViewer.element.parentElement.clientWidth-t,e.style.width=e.width+"px")}var s=document.getElementsByClassName("e-pv-font-sign");if(e&&s&&s.length>0)for(var l=0;l<s.length;l++){s[parseInt(l.toString(),10)].style.width=e.width/2-50+"px"}},e.prototype.drawSignOnTabSwitch=function(){var e=this,t=new Image;t.onload=function(){var i=document.getElementById(e.pdfViewer.element.id+"_signatureCanvas_");i&&i.getContext("2d").drawImage(t,0,0)},t.src=this.drawSignatureDataUrl},e.prototype.imageSignOnTabSwitch=function(){var e=this,t=new Image;t.onload=function(){var i=document.getElementById(e.pdfViewer.element.id+"_signatureuploadCanvas_");if(i){var n=i.getContext("2d");document.getElementById(e.pdfViewer.element.id+"_e-pv-upload-button").style.visibility="hidden",n.drawImage(t,0,0,i.width,i.height),e.enableCreateButton(!1),e.signatureImageHeight=t.naturalHeight,e.signatureImageWidth=t.naturalWidth}},t.src=this.imageSignatureDataUrl},e.prototype.signaturePanelMouseDown=function(e){"contextmenu"!==e.type&&(e.preventDefault(),this.findMousePosition(e),this.mouseDetection=!0,this.oldX=this.mouseX,this.oldY=this.mouseY,this.newObject=[],this.drawMousePosition(e),this.mouseMoving=!0)},e.prototype.enableCreateButton=function(e){var t=document.getElementsByClassName("e-pv-createbtn")[0];t&&(t.disabled=e),this.enableClearbutton(e)},e.prototype.enableClearbutton=function(e){var t=document.getElementsByClassName("e-pv-clearbtn")[0];t&&(t.disabled=e)},e.prototype.signaturePanelMouseMove=function(e){this.mouseDetection&&"Draw"===this.signaturetype&&(this.findMousePosition(e),this.enableCreateButton(!1),this.drawMousePosition(e))},e.prototype.findMousePosition=function(e){if(-1!==e.type.indexOf("touch")){var t=e.target.getBoundingClientRect();this.mouseX=e.changedTouches[0].clientX-t.left,this.mouseY=e.changedTouches[0].clientY-t.top}else this.mouseX=e.offsetX,this.mouseY=e.offsetY},e.prototype.drawMousePosition=function(e){this.mouseDetection&&(this.drawSignatureInCanvas(),this.oldX=this.mouseX,this.oldY=this.mouseY)},e.prototype.drawSignatureInCanvas=function(){var e=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_").getContext("2d");e.beginPath(),e.moveTo(this.oldX,this.oldY),e.lineTo(this.mouseX,this.mouseY),e.stroke(),e.lineWidth=2,e.arc(this.oldX,this.oldY,1,0,2*Math.PI,!0),e.closePath(),this.newObject.push(this.mouseX,this.mouseY)},e.prototype.signaturePanelMouseUp=function(){this.mouseDetection&&this.convertToPath(this.newObject),this.mouseDetection=!1,"touchend"===event.type&&(this.canvasTouched=!0)},e.prototype.signaturePanelMouseLeave=function(){this.mouseDetection&&this.convertToPath(this.newObject),this.mouseDetection=!1,this.mouseMoving=!1},e.prototype.convertToPath=function(e){this.movePath(e[0],e[1]),this.linePath(e[0],e[1]);for(var t=2;t<e.length;t+=2)this.linePath(e[parseInt(t.toString(),10)],e[t+1])},e.prototype.linePath=function(e,t){this.outputString+="L"+e+","+t+" "},e.prototype.movePath=function(e,t){this.outputString+="M"+e+","+t+" "},e.prototype.clearSignatureCanvas=function(e){var i=!0,n=[];!e||(0,t.isNullOrUndefined)(e.previousIndex)||(0,t.isNullOrUndefined)(e.selectedIndex)?(this.outputString="",this.newObject=[]):(i=!1,0===e.previousIndex?(this.drawOutputString=this.outputString,n=this.newObject):2===e.previousIndex&&(this.imageOutputString=this.outputString),this.outputString="",this.newObject=[],0===e.selectedIndex?(this.outputString=this.drawOutputString,this.newObject=n):2===e.selectedIndex&&(this.outputString=this.imageOutputString));var o=!1,r=!1,a=!1;if(e&&e.currentTarget&&e.currentTarget.classList.contains("e-pv-clearbtn"))if(i=!1,"Draw"===this.signaturetype){o=!0;var s=document.getElementById("checkbox"),l=document.getElementById("checkbox");s&&l.nextElementSibling&&(l.nextElementSibling.classList.remove("e-check"),s.checked=!1)}else if("Type"===this.signaturetype){r=!0;s=document.getElementById("checkbox1"),l=document.getElementById("checkbox1");s&&l.nextElementSibling&&(l.nextElementSibling.classList.remove("e-check"),s.checked=!1,this.textValue="")}else{a=!0,this.clearUploadString=!0;s=document.getElementById("checkbox2"),l=document.getElementById("checkbox2");s&&l.nextElementSibling&&(l.nextElementSibling.classList.remove("e-check"),s.checked=!1)}var d=document.getElementById(this.pdfViewer.element.id+"_signatureCanvas_");(d&&i||o)&&d.getContext("2d").clearRect(0,0,d.width,d.height);var h=document.getElementById(this.pdfViewer.element.id+"_signatureuploadCanvas_");if(h&&i||a){h.getContext("2d").clearRect(0,0,h.width,h.height);var A=document.getElementById(this.pdfViewer.element.id+"_e-pv-upload-button");A&&(A.style.visibility="")}var p=document.getElementById(this.pdfViewer.element.id+"_font_appearance"),c=document.getElementById(this.pdfViewer.element.id+"_e-pv-Signtext-box");(p&&c&&i||r)&&(c.value="",(0,t.isBlazor)()||(p.innerHTML="")),this.enableCreateButton(!0)},e.prototype.closeSignaturePanel=function(){this.pdfViewerBase.currentTarget&&(this.pdfViewerBase.drawSignatureWithTool=!0),this.clearSignatureCanvas(),(0,t.isBlazor)()||this.signatureDialog.hide(),this.pdfViewerBase.isToolbarSignClicked=!1,this.pdfViewerBase.drawSignatureWithTool=!1,this.drawOutputString="",this.imageOutputString=""},e.prototype.saveSignature=function(){var e=null;e=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]:sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sign");for(var n=[],o=0;o<this.pdfViewerBase.pageCount;o++)n[parseInt(o.toString(),10)]=[];if(e)for(var r=JSON.parse(e),a=0;a<r.length;a++){var s=[],l=r[parseInt(a.toString(),10)];if(l){for(var d=0;l.annotations.length>d;d++){if(this.pdfViewer.isSignatureEditable){var h=this.pdfViewer.handWrittenSignatureSettings,A=this.pdfViewer.annotationSettings,p="Guest"!==h.author?h.author:A.author?A.author:"Guest";l.annotations[parseInt(d.toString(),10)].author=p}var c=l.annotations[parseInt(d.toString(),10)].strokeColor?l.annotations[parseInt(d.toString(),10)].strokeColor:"black";if(l.annotations[parseInt(d.toString(),10)].strokeColor=JSON.stringify(this.getRgbCode(c)),l.annotations[parseInt(d.toString(),10)].bounds=JSON.stringify(this.pdfViewer.annotation.getBounds(l.annotations[parseInt(d.toString(),10)].bounds,l.pageIndex)),"HandWrittenSignature"===l.annotations[parseInt(d.toString(),10)].shapeAnnotationType||"ink"===l.annotations[parseInt(d.toString(),10)].signatureName){var g=(0,i.processPathData)(l.annotations[parseInt(d.toString(),10)].data),u=(0,i.splitArrayCollection)(g);l.annotations[parseInt(d.toString(),10)].data=JSON.stringify(u)}else if("SignatureText"!==l.annotations[parseInt(d.toString(),10)].shapeAnnotationType||this.checkDefaultFont(l.annotations[parseInt(d.toString(),10)].fontFamily))l.annotations[parseInt(d.toString(),10)].data=JSON.stringify(l.annotations[parseInt(d.toString(),10)].data);else{var f=(0,t.createElement)("canvas"),m=JSON.parse(l.annotations[parseInt(d.toString(),10)].bounds);f.width=m&&m.width||150,f.height=m&&m.height||2*l.annotations[parseInt(d.toString(),10)].fontSize;var w=f.getContext("2d"),y=f.width/2,S=f.height/2+l.annotations[parseInt(d.toString(),10)].fontSize/2-10;w.textAlign="center",w.font=l.annotations[parseInt(d.toString(),10)].fontSize+"px "+l.annotations[parseInt(d.toString(),10)].fontFamily,w.fillText(l.annotations[parseInt(d.toString(),10)].data,y,S),l.annotations[parseInt(d.toString(),10)].data=JSON.stringify(f.toDataURL("image/png")),l.annotations[parseInt(d.toString(),10)].shapeAnnotationType="SignatureImage"}}s=l.annotations}n[l.pageIndex]=s}return JSON.stringify(n)},e.prototype.checkDefaultFont=function(e){return"Helvetica"===e||"Times New Roman"===e||"Courier"===e||"Symbol"===e},e.prototype.getRgbCode=function(e){e.match(/#([a-z0-9]+)/gi)||e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||(e=this.pdfViewer.annotationModule.nameToHash(e));var i=e.split(",");return(0,t.isNullOrUndefined)(i[1])&&(i=(e=this.pdfViewer.annotationModule.getValue(e,"rgba")).split(",")),{r:parseInt(i[0].split("(")[1],10),g:parseInt(i[1],10),b:parseInt(i[2],10),a:parseInt(i[3],10)}},e.prototype.renderSignature=function(e,i){var n,o="",r=this.pdfViewerBase.currentSignatureAnnot,a=r.signatureName;if((""===a||(0,t.isNullOrUndefined)(a))&&(a=this.pdfViewer.annotation.createGUID()),r){"HandWrittenSignature"===this.pdfViewerBase.currentSignatureAnnot.shapeAnnotationType&&(n={id:r.id,bounds:{x:e,y:i,width:r.bounds.width,height:r.bounds.height},pageIndex:r.pageIndex,data:r.data,shapeAnnotationType:"HandWrittenSignature",opacity:r.opacity,fontFamily:r.fontFamily,fontSize:r.fontSize,strokeColor:r.strokeColor,thickness:r.thickness,signatureName:a}),"SignatureText"===this.pdfViewerBase.currentSignatureAnnot.shapeAnnotationType?n={id:r.id,bounds:{x:e,y:i,width:r.bounds.width,height:r.bounds.height},pageIndex:r.pageIndex,data:r.data,shapeAnnotationType:"SignatureText",opacity:r.opacity,fontFamily:r.fontFamily,fontSize:r.fontSize,strokeColor:r.strokeColor,thickness:r.thickness,signatureName:a}:"SignatureImage"===this.pdfViewerBase.currentSignatureAnnot.shapeAnnotationType&&(n={id:r.id,bounds:{x:e,y:i,width:r.bounds.width,height:r.bounds.height},pageIndex:r.pageIndex,data:r.data,shapeAnnotationType:"SignatureImage",opacity:r.opacity,fontFamily:r.fontFamily,fontSize:r.fontSize,strokeColor:r.strokeColor,thickness:r.thickness,signatureName:a});var s=this.pdfViewer.add(n),l=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+r.pageIndex);this.pdfViewer.renderDrawing(l,r.pageIndex),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.select([s.id]),this.pdfViewerBase.signatureAdded=!0,this.storeSignatureData(r.pageIndex,n),o="Draw"===this.signaturetype?this.saveImageString:r.data,this.pdfViewer.fireSignatureAdd(r.pageIndex,a,r.shapeAnnotationType,r.bounds,r.opacity,r.strokeColor,r.thickness,o),this.pdfViewer.annotation&&this.pdfViewer.annotation.onAnnotationMouseDown(),this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.signatureCount++}},e.prototype.renderExistingSignature=function(e,n,o){var r,a=!1;if(!o)for(var s=0;s<this.signAnnotationIndex.length;s++)if(this.signAnnotationIndex[parseInt(s.toString(),10)]===n){a=!0;break}if(e&&!a){e.length>0&&-1===this.signAnnotationIndex.indexOf(n)&&this.signAnnotationIndex.push(n);for(var l=0;l<e.length;l++){var d=e[parseInt(l.toString(),10)];if(d){var h=d.PathData;o&&(h=d.IsSignature?d.PathData:"SignatureImage"===d.AnnotationType||"SignatureText"===d.AnnotationType?JSON.parse(JSON.stringify(d.PathData)):h.includes("command")?(0,i.getPathString)(JSON.parse(d.PathData)):d.PathData),this.outputString=h;var A=this.pdfViewer.annotationModule.inkAnnotationModule.calculateInkSize(this.outputString);this.outputString="";var p=0,c=1,g=d.Bounds;!A||"Ink"!==d.AnnotationType&&"signature"!==d.AnnotationType&&"Signature"!==d.AnnotationType||(A.height<1?(p=g.Height?g.Height:g.height,c=g.Height?g.Height:g.height):A.width<1&&(p=g.Width?g.Width:g.width,c=g.Width?g.Width:g.width));var u=(0,t.isNullOrUndefined)(g.X)?g.x+p/2:g.X+p/2,f=(0,t.isNullOrUndefined)(g.Y)?g.y+p/2:g.Y+p/2,m=g.Width?g.Width-(c-1):g.width-(c-1),w=g.Height?g.Height-(c-1):g.height-(c-1);r="SignatureText"===d.AnnotationType?{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:u,y:f,width:m,height:w},pageIndex:n,data:h,fontFamily:d.FontFamily,fontSize:d.FontSize,shapeAnnotationType:"SignatureText",opacity:d.Opacity,strokeColor:d.StrokeColor,thickness:d.Thickness,signatureName:d.SignatureName}:"SignatureImage"===d.AnnotationType?{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:u,y:f,width:m,height:w},pageIndex:n,data:h,shapeAnnotationType:"SignatureImage",opacity:d.Opacity,strokeColor:d.StrokeColor,thickness:d.Thickness,signatureName:d.SignatureName}:{id:"sign"+this.pdfViewerBase.signatureCount,bounds:{x:u,y:f,width:m,height:w},pageIndex:n,data:h,shapeAnnotationType:"HandWrittenSignature",opacity:d.Opacity,strokeColor:d.StrokeColor,thickness:d.Thickness,signatureName:d.SignatureName?d.SignatureName:"ink"}}this.pdfViewer.add(r),this.isAddAnnotationProgramatically&&this.pdfViewer.fireSignatureAdd(r.pageIndex,r.signatureName,r.shapeAnnotationType,r.bounds,r.opacity,r.strokeColor,r.thickness,r.data);var y=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+d.pageIndex);this.pdfViewer.renderDrawing(y,r.pageIndex),this.storeSignatureData(r.pageIndex,r),this.pdfViewerBase.currentSignatureAnnot=null,this.pdfViewerBase.signatureCount++}}},e.prototype.storeSignatureData=function(e,i){this.pdfViewer.annotation.addAction((0,t.isNullOrUndefined)(i.pageIndex)?i.PageIndex:i.pageIndex,null,i,"Addition","",i,i);var n,o,r,a,s,l,d=this.pdfViewerBase.getZoomFactor();i.bounds?(o=i.bounds.left?i.bounds.left:i.bounds.x,r=i.bounds.top?i.bounds.top:i.bounds.y,a=i.bounds.width,s=i.bounds.height,l=i.pageIndex):(o=i.Bounds.left?i.Bounds.left:i.Bounds.x,r=i.Bounds.top?i.Bounds.top:i.Bounds.y,a=i.LineBounds.Width,s=i.LineBounds.Height,l=i.PageIndex),i.wrapper&&i.wrapper.bounds&&(o=i.wrapper.bounds.left,r=i.wrapper.bounds.top),"SignatureText"===i.shapeAnnotationType&&i.wrapper&&i.wrapper.children&&i.wrapper.children.length>1&&i.wrapper.children[1]&&(o=o+i.wrapper.pivot.x+(this.signatureTextContentLeft-this.signatureTextContentTop*(d-d/this.signatureTextContentLeft)),r=r+(i.wrapper.children[1].bounds.y-r-(i.wrapper.children[1].bounds.y-r)/3)+i.wrapper.pivot.y+this.signatureTextContentTop*d),n={id:i.id?i.id:null,bounds:{left:o,top:r,width:a,height:s},shapeAnnotationType:i.shapeAnnotationType?i.shapeAnnotationType:"ink",opacity:i.opacity?i.opacity:1,thickness:i.thickness?i.thickness:1,strokeColor:i.strokeColor?i.strokeColor:null,pageIndex:l,data:i.data?i.data:i.Value,fontSize:i.fontSize?i.fontSize:null,fontFamily:i.fontFamily?i.fontFamily:null,signatureName:i.signatureName?i.signatureName:i.Name},sd.sessionStorageManager.getWindowSessionStorageSize()+Math.round(JSON.stringify(n).length/1024)>4500&&(this.pdfViewerBase.isStorageExceed=!0,this.pdfViewer.annotationModule.clearAnnotationStorage(),this.pdfViewerBase.isFormStorageExceed||this.pdfViewer.formFieldsModule.clearFormFieldStorage());var h=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sign");if(h){this.storeSignatureCollections(n,e);var A=JSON.parse(h);sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_sign");var p=this.pdfViewer.annotationModule.getPageCollection(A,e);if(!(0,t.isNullOrUndefined)(p)&&A[parseInt(p.toString(),10)])A[parseInt(p.toString(),10)].annotations.push(n),A[parseInt(p.toString(),10)].annotations.indexOf(n);else{var c={pageIndex:e,annotations:[]};c.annotations.push(n),c.annotations.indexOf(n),A.push(c)}f=JSON.stringify(A);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]=f:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_sign",f)}else{this.storeSignatureCollections(n,e);var g={pageIndex:e,annotations:[]};g.annotations.push(n),g.annotations.indexOf(n);var u=[];u.push(g);var f=JSON.stringify(u);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]=f:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_sign",f)}},e.prototype.modifySignatureCollection=function(e,t,i,n){this.pdfViewerBase.updateDocumentEditedProperty(!0);var o=null,r=this.getAnnotations(t,null),a=this.pdfViewerBase.getZoomFactor();if(null!=r&&i){for(var s=0;s<r.length;s++)if(i.id===r[parseInt(s.toString(),10)].id){if("bounds"===e){var l=void 0,d=void 0;"SignatureText"===i.shapeAnnotationType&&i.wrapper&&i.wrapper.children[1]?(l=i.wrapper.children[0].bounds.y,d=i.wrapper.children[0].bounds.x+i.wrapper.pivot.x+(this.signatureTextContentLeft-this.signatureTextContentTop*(a-a/this.signatureTextContentLeft)),l=l+(i.wrapper.children[1].bounds.y-l-(i.wrapper.children[1].bounds.y-l)/3)+i.wrapper.pivot.y+this.signatureTextContentTop*a,r[parseInt(s.toString(),10)].bounds={left:d,top:l,width:i.bounds.width,height:i.bounds.height}):r[parseInt(s.toString(),10)].bounds={left:i.wrapper.bounds.left,top:i.wrapper.bounds.top,width:i.bounds.width,height:i.bounds.height},r[parseInt(s.toString(),10)].fontSize=i.fontSize}else if("stroke"===e)r[parseInt(s.toString(),10)].strokeColor=i.wrapper.children[0].style.strokeColor;else if("opacity"===e)r[parseInt(s.toString(),10)].opacity=i.wrapper.children[0].style.opacity;else if("thickness"===e)r[parseInt(s.toString(),10)].thickness=i.wrapper.children[0].style.strokeWidth;else if("delete"===e){this.updateSignatureCollection(r[parseInt(s.toString(),10)]),o=r.splice(s,1)[0];break}if(e&&"delete"!==e&&this.storeSignatureCollections(r[parseInt(s.toString(),10)],t),n){r[parseInt(s.toString(),10)].opacity=i.wrapper.children[0].style.opacity,r[parseInt(s.toString(),10)].strokeColor=i.wrapper.children[0].style.strokeColor,r[parseInt(s.toString(),10)].thickness=i.wrapper.children[0].style.strokeWidth,this.storeSignatureCollections(r[parseInt(s.toString(),10)],t);break}}this.manageAnnotations(r,t)}return o},e.prototype.storeSignatureCollections=function(e,t){var i=this.checkSignatureCollection(e),n=C(e);n.annotationId=e.signatureName,n.pageNumber=t,delete n.annotName,e.id&&(n.uniqueKey=e.id,delete n.id),i.isExisting?this.pdfViewer.signatureCollection.splice(i.position,0,n):this.pdfViewer.signatureCollection.push(n)},e.prototype.checkSignatureCollection=function(e){var t=this.pdfViewer.signatureCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId===e.signatureName)return this.pdfViewer.signatureCollection.splice(i,1),{isExisting:!0,position:i};return{isExisting:!1,position:null}},e.prototype.updateSignatureCollection=function(e){var t=this.pdfViewer.signatureCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].annotationId===e.signatureName){this.pdfViewer.signatureCollection.splice(i,1);break}},e.prototype.addInCollection=function(e,t){if(t){this.storeSignatureCollections(t,e);var i=this.getAnnotations(e,null);i&&i.push(t),this.manageAnnotations(i,e)}},e.prototype.getAnnotations=function(e,i){var n,o=null;if(o=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]:sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sign")){var r=JSON.parse(o),a=this.pdfViewer.annotationModule.getPageCollection(r,e);n=!(0,t.isNullOrUndefined)(a)&&r[parseInt(a.toString(),10)]?r[parseInt(a.toString(),10)].annotations:i}else n=i;return n},e.prototype.manageAnnotations=function(e,t){var i=null;if(i=this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]:sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_sign")){var n=JSON.parse(i);sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_annotations_sign");var o=this.pdfViewer.annotationModule.getPageCollection(n,t);n[parseInt(o.toString(),10)]&&(n[parseInt(o.toString(),10)].annotations=e);var r=JSON.stringify(n);this.pdfViewerBase.isStorageExceed?this.pdfViewerBase.annotationStorage[this.pdfViewerBase.documentId+"_annotations_sign"]=r:sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_sign",r)}},e.prototype.showSignatureDialog=function(e){e&&this.createSignaturePanel()},e.prototype.setAnnotationMode=function(){this.pdfViewerBase.isToolbarSignClicked=!0,this.pdfViewerBase.isInitialField=!1,this.showSignatureDialog(!0)},e.prototype.setInitialMode=function(){this.pdfViewerBase.isToolbarSignClicked=!0,this.pdfViewerBase.isInitialField=!0,this.showSignatureDialog(!0)},e.prototype.ConvertPointToPixel=function(e){return e*(96/72)},e.prototype.updateSignatureCollections=function(e,t,n){if(e){var o=e.Bounds,r=o.X,a=o.Y,s=o.Width,l=o.Height,d=e.PathData;return n&&(d=(0,i.getPathString)(JSON.parse(e.PathData))),{id:"sign"+e.SignatureName,bounds:{x:r,y:a,width:s,height:l},pageIndex:t,data:d,shapeAnnotationType:"HandWrittenSignature",opacity:e.Opacity,strokeColor:e.StrokeColor,thickness:e.Thickness,signatureName:e.SignatureName}}},e.prototype.destroy=function(){sd.sessionStorageManager.removeItem("_annotations_sign");var e=document.getElementById(this.pdfViewer.element.id+"_signElement");e&&(e.removeEventListener("change",this.addStampImage),e.parentElement&&e.parentElement.removeChild(e)),this.signatureDialog&&this.signatureDialog.destroy()},e.prototype.updateSignatureDetails=function(e,n,o){n=e?e.offset?e.offset:{x:10,y:10}:(e={offset:{x:10,y:10},pageNumber:0,width:void 0,height:void 0}).offset;var r,a,s,l=this.pdfViewer.annotation.createGUID(),d=this.pdfViewer.annotation.updateSettings(this.pdfViewer.handWrittenSignatureSettings),h=this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings;this.pdfViewerBase.updateSelectorSettings(h),e.width=e.width?e.width:this.pdfViewer.handWrittenSignatureSettings.width?this.pdfViewer.handWrittenSignatureSettings.width:150,e.height=e.height?e.height:this.pdfViewer.handWrittenSignatureSettings.height?this.pdfViewer.handWrittenSignatureSettings.height:100,e.thickness=e.thickness?e.thickness:this.pdfViewer.handWrittenSignatureSettings.thickness?this.pdfViewer.handWrittenSignatureSettings.thickness:1,e.opacity=e.opacity?e.opacity:this.pdfViewer.handWrittenSignatureSettings.opacity?this.pdfViewer.handWrittenSignatureSettings.opacity:1,e.strokeColor=e.strokeColor?e.strokeColor:this.pdfViewer.handWrittenSignatureSettings.strokeColor?this.pdfViewer.handWrittenSignatureSettings.strokeColor:"#000000",e.path=e.path?e.path:this.pdfViewer.handWrittenSignatureSettings.path?this.pdfViewer.handWrittenSignatureSettings.path:"",e.canSave=!!e.canSave&&e.canSave,e.signatureItem=e.signatureItem?e.signatureItem:["Signature"],e.fontFamily=e.fontFamily?e.fontFamily:"Helvetica","Initial"===e.signatureItem[0]?(r=e.initialDialogSettings.displayMode?e.initialDialogSettings.displayMode:1,s=e.saveInitialLimit?e.saveInitialLimit:this.pdfViewer.handWrittenSignatureSettings.saveInitialLimit,this.pdfViewer.handWrittenSignatureSettings.saveInitialLimit=this.pdfViewer.handWrittenSignatureSettings.saveInitialLimit<s?s:this.pdfViewer.handWrittenSignatureSettings.saveInitialLimit):(r=e.signatureDialogSettings.displayMode?e.signatureDialogSettings.displayMode:1,a=e.saveSignatureLimit?e.saveSignatureLimit:this.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit,this.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit=this.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit<a?a:this.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit);var A,p=[];if(1===r){A="signature";var c=e.path?e.path:"";if(!(0,t.isNullOrUndefined)(c))if("M"===c[0]||"L"===c[0]){var g=(0,i.processPathData)(c),u=(0,i.splitArrayCollection)(g);c=JSON.stringify(u)}else c=(0,i.getPathString)(JSON.parse(c));e.path=c}2===r&&(e.height=65,A="SignatureText"),4===r&&(A="SignatureImage");var f={SignatureName:l,AnnotationSettings:d,AnnotationType:A,AnnotationSelectorSettings:e.annotationSelectorSettings?e.annotationSelectorSettings:h,Opacity:e.opacity,PathData:e.path,PageNumber:o,FontFamily:e.fontFamily,FontSize:32,StrokeColor:e.strokeColor,Thickness:e.thickness,Bounds:{x:n.x,y:n.y,width:e.width,height:e.height}};if(p[0]=f,e.canSave){var m={x:n.x,y:n.y,width:e.width,height:e.height};this.pdfViewerBase.currentSignatureAnnot=null,this.outputString=e.path,this.pdfViewerBase.isInitialField="Initial"===e.signatureItem[0];var w=void 0;1===r?w={id:"sign"+this.pdfViewerBase.signatureCount,bounds:m,pageIndex:e.pageNumber,data:this.outputString,shapeAnnotationType:"HandWrittenSignature",opacity:e.opacity,strokeColor:e.strokeColor,thickness:e.thickness,signatureName:l}:2===r?w={id:"sign"+this.pdfViewerBase.signatureCount,bounds:m,pageIndex:e.pageNumber,data:this.outputString,fontFamily:e.fontFamily,fontSize:32,shapeAnnotationType:"SignatureText",signatureName:l}:4===r&&(w={id:"sign"+this.pdfViewerBase.signatureCount,bounds:m,pageIndex:e.pageNumber,data:this.outputString,shapeAnnotationType:"SignatureImage",signatureName:l}),this.pdfViewerBase.currentSignatureAnnot=w,this.addSignatureCollection(),this.outputString=""}return{signatureAnnotation:p}},e}(),cd=function(){function e(e,t){this.zoomFactor=1,this.previousZoomFactor=1,this.scrollWidth=25,this.zoomPercentages=[10,25,50,75,100,125,150,200,400],this.isNotPredefinedZoom=!1,this.pinchStep=0,this.reRenderPageNumber=0,this.magnifyPageRerenderTimer=null,this.rerenderOnScrollTimer=null,this.rerenderInterval=null,this.touchCenterX=0,this.touchCenterY=0,this.mouseCenterX=0,this.mouseCenterY=0,this.pageRerenderCount=0,this.imageObjects=[],this.topValue=0,this.isTapToFitZoom=!1,this.isWaitingPopupUpdated=!1,this.isInitialCustomZoomValues=!0,this.fitType=null,this.isPinchZoomed=!1,this.isPagePinchZoomed=!1,this.isRerenderCanvasCreated=!1,this.isMagnified=!1,this.isPagesZoomed=!1,this.isPinchScrolled=!1,this.isAutoZoom=!1,this.isDoubleTapZoom=!1,this.isFormFieldPageZoomed=!1,this.isWebkitMobile=!1,this.isFitToPageMode=!0,this.pdfViewer=e,this.pdfViewerBase=t,this.zoomLevel=2}return e.prototype.zoomTo=function(e){var t=400,i=10,n=this.pdfViewer.minZoom,o=this.pdfViewer.maxZoom;if(null!=n&&null!=o&&n>o){var r=o;o=n,n=r}null!=n||null!=o?(null!=n&&void 0!==n&&(i=n),null!=o&&void 0!==o&&(t=o)):(t=400,i=10),e<i?e=i:e>t&&(e=t),this.fitType=null,this.isNotPredefinedZoom=!1,this.isAutoZoom&&this.isInitialLoading?this.pdfViewerBase.onWindowResize():(this.isAutoZoom=!1,this.onZoomChanged(e)),this.isInitialLoading=!1},e.prototype.zoomIn=function(){if((this.fitType||this.isNotPredefinedZoom)&&((0,t.isNullOrUndefined)(this.lowerZoomLevel)||(this.zoomLevel=this.lowerZoomLevel),this.fitType=null),this.isNotPredefinedZoom=!1,null!=this.pdfViewer.minZoom||null!=this.pdfViewer.maxZoom){var e=this.pdfViewerBase.customZoomValues.length,i=this.zoomLevel;i>=e?i=e:i++,this.zoomLevel=i}else this.zoomLevel>=8?this.zoomLevel=8:this.zoomLevel++;this.isAutoZoom=!1,null!=this.pdfViewer.minZoom||null!=this.pdfViewer.maxZoom?this.onZoomChanged(this.pdfViewerBase.customZoomValues[this.zoomLevel]):this.onZoomChanged(this.zoomPercentages[this.zoomLevel])},e.prototype.zoomOut=function(){(this.fitType||this.isNotPredefinedZoom)&&((0,t.isNullOrUndefined)(this.higherZoomLevel)||(this.zoomLevel=this.higherZoomLevel),this.fitType=null),this.isNotPredefinedZoom=!1,this.zoomLevel<=0?this.zoomLevel=0:this.zoomLevel--,this.isAutoZoom=!1,null!=this.pdfViewer.minZoom||null!=this.pdfViewer.maxZoom?this.onZoomChanged(this.pdfViewerBase.customZoomValues[this.zoomLevel]):this.onZoomChanged(this.zoomPercentages[this.zoomLevel])},e.prototype.fitToWidth=function(){this.isAutoZoom=!1;var e=this.calculateFitZoomFactor("fitToWidth");this.onZoomChanged(e)},e.prototype.fitToAuto=function(){this.isAutoZoom=!0;var e=this.calculateFitZoomFactor("fitToWidth");this.onZoomChanged(e)},e.prototype.fitToPage=function(){var e=this.calculateFitZoomFactor("fitToPage");null!==e&&(this.isAutoZoom=!1,this.onZoomChanged(e),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.pdfViewerBase.isWebkitMobile?this.pdfViewerBase.viewerContainer.style.overflowY="auto":this.pdfViewerBase.viewerContainer.style.overflowY="hidden":this.pdfViewerBase.viewerContainer.style.overflowY="auto",this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber-1]&&(this.pdfViewerBase.viewerContainer.scrollTop=this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber-1].top*this.zoomFactor))},e.prototype.calculateFitZoomFactor=function(e){var i=this.pdfViewerBase.viewerContainer.getBoundingClientRect().width,n=this.pdfViewerBase.viewerContainer.getBoundingClientRect().height;if(0===i&&0===n&&(i=parseFloat(this.pdfViewer.width.toString()),n=parseFloat(this.pdfViewer.height.toString())),isNaN(n)||isNaN(i))return null;if(this.fitType=e,"fitToWidth"===this.fitType){var o=(i-this.scrollWidth)/this.pdfViewerBase.highestWidth;return this.isAutoZoom&&(this.fitType=null,1===(o=Math.min(1,o))&&(this.zoomLevel=2)),parseInt((100*o).toString(),10)}this.isFitToPageMode=!0;o=(i-this.scrollWidth-10)/this.pdfViewerBase.highestWidth;var r=0;return(r=!this.pdfViewerBase.pageSize||1!==this.pdfViewerBase.pageSize.length||(0,t.isNullOrUndefined)(this.pdfViewerBase.pageSize[0].top)||this.isPinchZoomed?n/this.pdfViewerBase.highestHeight:(n-this.pdfViewerBase.pageSize[0].top)/this.pdfViewerBase.highestHeight)>o&&(r=o,this.isFitToPageMode=!1),parseInt((100*r).toString(),10)},e.prototype.initiateMouseZoom=function(e,t,i){var n=this.positionInViewer(e,t);this.mouseCenterX=n.x,this.mouseCenterY=n.y,this.zoomTo(i)},e.prototype.pinchIn=function(){this.fitType=null;var e=this.zoomFactor-this.pinchStep;if(e<4&&e>2&&(e=this.zoomFactor-this.pinchStep),e<=1.5&&(e=this.zoomFactor-this.pinchStep/1.5),null!=this.pdfViewer.minZoom&&e<this.pdfViewer.minZoom/100?e=this.pdfViewer.minZoom/100:e<.25&&(e=.25),this.isPinchZoomed=!0,this.onZoomChanged(100*e),this.isTapToFitZoom=!0,t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&100*this.zoomFactor==50){var i=this.calculateFitZoomFactor("fitToWidth");this.fitType=null,i<=50&&this.fitToWidth()}},e.prototype.pinchOut=function(){this.fitType=null;var e=this.zoomFactor+this.pinchStep;t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||e>2&&(e-=this.pinchStep),null!=this.pdfViewer.maxZoom&&e>this.pdfViewer.maxZoom/100?e=this.pdfViewer.maxZoom/100:e>4&&(e=4),this.isTapToFitZoom=!0,this.isPinchZoomed=!0,this.onZoomChanged(100*e)},e.prototype.getZoomLevel=function(e){if(null!=this.pdfViewer.minZoom||null!=this.pdfViewer.maxZoom){for(var t=0,i=this.pdfViewerBase.customZoomValues,n=i.length-1;t<=n;){var o=Math.floor((t+n)/2);if(i[parseInt(o.toString(),10)]===e)return o;i[parseInt(o.toString(),10)]<e?t=o+1:n=o-1}return this.higherZoomLevel=t,this.lowerZoomLevel=n,n}for(t=0,n=this.zoomPercentages.length-1;t<=n&&(0!==t||0!==n);){o=Math.round((t+n)/2);this.zoomPercentages[parseInt(o.toString(),10)]<=e?t=o+1:this.zoomPercentages[parseInt(o.toString(),10)]>=e&&(n=o-1)}return this.higherZoomLevel=t,this.lowerZoomLevel=n,n},e.prototype.checkZoomFactor=function(){return this.zoomPercentages.indexOf(100*this.zoomFactor)>-1},e.prototype.onZoomChanged=function(e){if(this.isInitialCustomZoomValues&&this.pdfViewerBase.getCustomZoomValues(),e&&(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.closePopupMenu(),this.previousZoomFactor=this.zoomFactor,this.zoomLevel=this.getZoomLevel(e),this.zoomFactor=this.getZoomFactor(e),this.zoomFactor<=.25?this.pdfViewerBase.isMinimumZoom=!0:this.pdfViewerBase.isMinimumZoom=!1,(0,t.isNullOrUndefined)(this.pdfViewerBase.viewerContainer)||(t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.pdfViewerBase.isWebkitMobile?this.pdfViewerBase.viewerContainer.style.overflowY="auto":this.pdfViewerBase.viewerContainer.style.overflowY="hidden":this.pdfViewerBase.viewerContainer.style.overflowY="auto"),this.pdfViewerBase.pageCount>0&&((this.previousZoomFactor!==this.zoomFactor||this.pdfViewerBase.isInitialPageMode)&&(this.isPinchZoomed?(t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.pdfViewerBase.mobilePageNoContainer.style.left=this.pdfViewer.element.clientWidth/2-parseFloat(this.pdfViewerBase.mobilePageNoContainer.style.width)/2+"px"),this.responsivePages()):this.magnifyPages()),(0,t.isBlazor)()||this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateZoomButtons(),this.isInitialLoading||this.previousZoomFactor!==this.zoomFactor&&(this.pdfViewer.zoomValue=parseInt((100*this.zoomFactor).toString(),10),this.pdfViewer.fireZoomChange())),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.updateZoomPercentage(this.zoomFactor),this.isInitialLoading||this.previousZoomFactor!==this.zoomFactor&&(this.pdfViewer.zoomValue=parseInt((100*this.zoomFactor).toString(),10),this.pdfViewer.fireZoomChange()),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.isPinchZoomed)){var i=parseInt((100*this.zoomFactor).toString(),10)+"%";this.pdfViewerBase.navigationPane.createTooltipMobile(i)}},e.prototype.setTouchPoints=function(e,t){var i=this.positionInViewer(e,t);this.touchCenterX=i.x,this.touchCenterY=i.y},e.prototype.initiatePinchMove=function(e,t,i,n){this.isPinchScrolled=!1,this.isMagnified=!1,this.reRenderPageNumber=this.pdfViewerBase.currentPageNumber;var o=this.positionInViewer((e+i)/2,(t+n)/2);this.touchCenterX=o.x,this.touchCenterY=o.y,this.zoomOverPages(e,t,i,n)},e.prototype.magnifyPages=function(){var e=this;this.clearRerenderTimer();var t=document.querySelectorAll(".e-pv-page-div"),i=t[0].id.split("_pageDiv_")[1],n=t[t.length-1].id.split("_pageDiv_")[1];if(this.previousZoomFactor!==this.zoomFactor||this.pdfViewerBase.isInitialPageMode)for(var o=i;o<=n;o++)this.pdfViewerBase.showPageLoadingIndicator(o,!1);for(o=i;o<=n;o++)this.pdfViewerBase.showPageLoadingIndicator(o,!0);this.isWaitingPopupUpdated=!0,this.isPagesZoomed||(this.reRenderPageNumber=this.pdfViewerBase.currentPageNumber),this.pdfViewerBase.documentLoaded||this.pdfViewerBase.isInitialPageMode||(this.isPagesZoomed=!0);var r=this.pdfViewerBase.viewerContainer.scrollTop;this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.maintainSelectionOnZoom(!1,!0),!this.pdfViewer.formDesignerModule||this.pdfViewerBase.documentLoaded||this.pdfViewerBase.isDocumentLoaded||(this.isFormFieldPageZoomed=!0),this.isInitialLoading||(this.isMagnified=!0),this.updatePageLocation(),this.resizeCanvas(this.reRenderPageNumber),this.calculateScrollValuesOnMouse(r),this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.resizeTouchElements();var a=this.pdfViewer.annotationModule;if(a&&a.textMarkupAnnotationModule&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.updateCurrentResizerPosition(),this.pdfViewerBase.pageSize.length>0){this.pdfViewerBase.pageContainer.style.height=this.topValue+this.pdfViewerBase.getPageHeight(this.pdfViewerBase.pageSize.length-1)+"px";var s=this;this.pdfViewerBase.renderedPagesList=[],this.pdfViewerBase.pinchZoomStorage=[],this.pdfViewerBase.documentLoaded||(this.magnifyPageRerenderTimer=setTimeout((function(){s.rerenderMagnifiedPages(),e.pdfViewerBase.showPageLoadingIndicator(e.pdfViewerBase.currentPageNumber-1,!1)}),800))}},e.prototype.updatePageLocation=function(){this.topValue=0;for(var e=1;e<this.pdfViewerBase.pageSize.length;e++)this.topValue+=(this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height+this.pdfViewerBase.pageGap)*this.zoomFactor;var t;t=this.pdfViewer.initialRenderPages>10?this.pdfViewer.initialRenderPages<=this.pdfViewerBase.pageCount?this.pdfViewer.initialRenderPages:this.pdfViewerBase.pageCount:this.pdfViewerBase.pageCount<10?this.pdfViewerBase.pageCount:10;for(e=0;e<t;e++)this.updatePageContainer(e,this.pdfViewerBase.getPageWidth(e),this.pdfViewerBase.getPageHeight(e),this.pdfViewerBase.getPageTop(e),!0)},e.prototype.updatePageContainer=function(e,t,i,n,o){var r=this.pdfViewerBase.getElement("_pageDiv_"+e);if(r){r.style.width=t+"px",r.style.height=i+"px";var a=this.pdfViewerBase.getElement("_textLayer_"+e);a&&(a.style.width=t+"px",a.style.height=i+"px"),r.style.width=t+"px",r.style.height=i+"px",this.pdfViewer.enableRtl?r.style.right=this.pdfViewerBase.updateLeftPosition(e)+"px":r.style.left=this.pdfViewerBase.updateLeftPosition(e)+"px",r.style.top=n+"px",this.pdfViewerBase.pageContainer.style.width=this.pdfViewerBase.viewerContainer.clientWidth+"px",this.pdfViewerBase.renderPageCanvas(r,t,i,e,"block")}},e.prototype.clearRerenderTimer=function(){clearTimeout(this.rerenderOnScrollTimer),clearTimeout(this.magnifyPageRerenderTimer),this.clearIntervalTimer(),this.isPinchScrolled=!1},e.prototype.clearIntervalTimer=function(){clearInterval(this.rerenderInterval),this.rerenderInterval=null,this.clearRendering();for(var e=document.querySelectorAll('canvas[id*="'+this.pdfViewer.element.id+'_oldCanvas_"]'),t=0;t<e.length;t++){var i=parseInt(e[parseInt(t.toString(),10)].id.split("_oldCanvas_")[1],10),n=this.pdfViewerBase.getElement("_pageCanvas_"+i);n?(e[parseInt(t.toString(),10)].id=n.id,n.parentElement.removeChild(n)):e[parseInt(t.toString(),10)].id=this.pdfViewer.element.id+"_pageCanvas_"+i,this.pdfViewerBase.isTextMarkupAnnotationModule()&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotationsPinch(t)}this.isRerenderCanvasCreated=!1},e.prototype.pushImageObjects=function(e){(0,t.isNullOrUndefined)(this.imageObjects)||this.imageObjects&&this.imageObjects.push(e)},e.prototype.clearRendering=function(){if(this.imageObjects){for(var e=0;e<this.imageObjects.length;e++)this.imageObjects[parseInt(e.toString(),10)]&&(this.imageObjects[parseInt(e.toString(),10)].onload=null,this.imageObjects[parseInt(e.toString(),10)].onerror=null);this.imageObjects=[]}},e.prototype.rerenderMagnifiedPages=function(){!this.pdfViewerBase.isInitialLoaded&&!this.pdfViewerBase.isDocumentLoaded||this.pdfViewerBase.isInitialPageMode?this.pdfViewerBase.isInitialPageMode&&(this.pageRerenderCount=0,this.pdfViewerBase.renderedPagesList=[],this.pdfViewerBase.pinchZoomStorage=[],this.isMagnified=!1,this.pdfViewerBase.pageViewScrollChanged(this.reRenderPageNumber),this.pdfViewerBase.isInitialPageMode=!1):(this.renderInSeparateThread(this.reRenderPageNumber),this.isPagesZoomed=!1)},e.prototype.renderInSeparateThread=function(e){var t=this;this.designNewCanvas(e),this.pageRerenderCount=0,this.pdfViewerBase.renderedPagesList=[],this.pdfViewerBase.pinchZoomStorage=[],this.isMagnified=!1,this.pdfViewerBase.pageViewScrollChanged(this.pdfViewerBase.currentPageNumber);var i=this;this.rerenderInterval=setInterval((function(){t.initiateRerender(i)}),1)},e.prototype.responsivePages=function(){this.isPagesZoomed=!0,this.clearRerenderTimer(),this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.clearTextSelection(),this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.clearAllOccurrences();var e=this.pdfViewerBase.viewerContainer.scrollTop;if(this.isAutoZoom=!1,this.updatePageLocation(),this.pdfViewerBase.pageContainer.style.height=this.topValue+this.pdfViewerBase.pageSize[this.pdfViewerBase.pageSize.length-1].height*this.zoomFactor+"px",this.resizeCanvas(this.pdfViewerBase.currentPageNumber),this.pdfViewerBase.textLayer&&this.pdfViewer.formDesignerModule&&this.pdfViewerBase.textLayer.clearTextLayers(!0),this.isPinchZoomed&&this.calculateScrollValues(e),this.pdfViewerBase.renderedPagesList=[],this.pdfViewerBase.pinchZoomStorage=[],this.pdfViewer.formFieldsModule&&!this.pdfViewer.formDesignerModule){var t=this;this.pdfViewerBase.documentLoaded||(this.magnifyPageRerenderTimer=setTimeout((function(){t.rerenderMagnifiedPages()}),800))}},e.prototype.calculateScrollValues=function(e){var t=this.pdfViewerBase.currentPageNumber-1,i=this.pdfViewerBase.getElement("_pageDiv_"+t);if(i){var n=void 0,o=i.getBoundingClientRect(),r=(n=this.pdfViewer.enableRtl&&!this.isDoubleTapZoom?this.positionInViewer(o.right,o.top):this.positionInViewer(o.left,o.top)).x,a=n.y,s=a*this.previousZoomFactor,l=e+this.touchCenterY,d=a*this.zoomFactor+(l-s<0?l-s:(l-s)*(this.zoomFactor/this.previousZoomFactor)),h=this.zoomFactor-this.previousZoomFactor>0?-this.pdfViewerBase.pageGap*(this.zoomFactor/this.previousZoomFactor):this.pdfViewerBase.pageGap*(this.previousZoomFactor/this.zoomFactor);this.pdfViewerBase.viewerContainer.scrollTop=d-this.touchCenterY+h/this.pdfViewerBase.zoomInterval;var A=o.width*this.previousZoomFactor/o.width,p=this.zoomFactor/A-1,c=this.touchCenterX-r;this.pdfViewerBase.isMixedSizeDocument&&this.pdfViewerBase.highestWidth*this.pdfViewerBase.getZoomFactor()>this.pdfViewerBase.viewerContainer.clientWidth?this.pdfViewerBase.viewerContainer.scrollLeft=(this.pdfViewerBase.pageContainer.offsetWidth-this.pdfViewerBase.viewerContainer.clientWidth)/2:this.pdfViewerBase.viewerContainer.scrollLeft+=c*p}},e.prototype.calculateScrollValuesOnMouse=function(e){var t=this.pdfViewerBase.currentPageNumber-1,i=this.pdfViewerBase.getElement("_pageDiv_"+t);if(i){var n=void 0,o=i.getBoundingClientRect(),r=(n=this.pdfViewer.enableRtl?this.positionInViewer(o.right,o.top):this.positionInViewer(o.left,o.top)).x,a=n.y,s=a*this.previousZoomFactor,l=e+this.mouseCenterY,d=a*this.zoomFactor+(l-s)*(this.zoomFactor/this.previousZoomFactor),h=this.pdfViewerBase.pageGap*(this.zoomFactor/this.previousZoomFactor);this.pdfViewerBase.isTouchPad&&!this.pdfViewerBase.isMacSafari&&(h/=this.pdfViewerBase.zoomInterval),0===d&&(h=0),this.pdfViewerBase.viewerContainer.scrollTop=d-this.mouseCenterY+h;var A=o.width*this.previousZoomFactor/o.width,p=this.zoomFactor/A-1,c=this.mouseCenterX-r;if(this.pdfViewerBase.isMixedSizeDocument&&this.pdfViewerBase.highestWidth*this.pdfViewerBase.getZoomFactor()>this.pdfViewerBase.viewerContainer.clientWidth)this.pdfViewerBase.viewerContainer.scrollLeft=(this.pdfViewerBase.pageContainer.offsetWidth-this.pdfViewerBase.viewerContainer.clientWidth)/2;else{var g=document.getElementById(this.pdfViewerBase.pageContainer.id);g&&g.children&&g.children[0].clientWidth>this.pdfViewer.viewerBase.viewerContainer.clientWidth?this.pdfViewerBase.viewerContainer.scrollLeft+=c*p:this.pdfViewerBase.viewerContainer.scrollLeft=(this.pdfViewerBase.pageContainer.offsetWidth-this.pdfViewerBase.viewerContainer.clientWidth)/2}}},e.prototype.rerenderOnScroll=function(){var e=this;if(this.isPinchZoomed=!1,this.isPinchScrolled){this.rerenderOnScrollTimer=null,this.isPinchScrolled=!1,this.reRenderPageNumber=this.pdfViewerBase.currentPageNumber,this.pdfViewerBase.renderedPagesList=[],this.pdfViewerBase.pinchZoomStorage=[];for(var i=document.querySelectorAll('img[id*="'+this.pdfViewer.element.id+'_pageCanvas_"]'),n=0;n<i.length;n++){var o=parseInt(i[parseInt(n.toString(),10)].id.split("_pageCanvas_")[1],10),r=this.pdfViewerBase.pageSize[parseInt(o.toString(),10)].width;816<r&&this.pdfViewer.tileRenderingSettings.enableTileRendering&&(this.pdfViewer.restrictZoomRequest,i[parseInt(n.toString(),10)].style.width=r*this.pdfViewerBase.getZoomFactor()+"px",i[parseInt(n.toString(),10)].style.height=this.pdfViewerBase.pageSize[parseInt(o.toString(),10)].height*this.pdfViewerBase.getZoomFactor()+"px")}if(this.pdfViewerBase.textLayer){var a=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_textLayer_"]');for(n=0;n<a.length;n++)a[parseInt(n.toString(),10)].style.display="none"}if(this.pdfViewerBase.isTextMarkupAnnotationModule())for(var s=document.querySelectorAll('canvas[id*="'+this.pdfViewer.element.id+'_annotationCanvas_"]'),l=0;l<s.length;l++){o=s[parseInt(l.toString(),10)].id.split("_annotationCanvas_")[1];this.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotationsPinch(parseInt(o,10))}if(t.Browser.isDevice)if(this.pdfViewer.formDesignerModule){var d=this.pdfViewer.currentPageNumber,h=this.pdfViewer.formFieldCollection.filter((function(e){return e.pageNumber===d}));for(n=0;n<h.length;n++)document.querySelectorAll("[id^="+h[parseInt(n.toString(),10)].id+"]").forEach((function(e){return e.style.display="none"}))}else document.querySelectorAll('[id^="pdfViewerinput_"]').forEach((function(e){return e.parentElement.style.display="none"}));if(this.pdfViewerBase.pageViewScrollChanged(this.reRenderPageNumber),this.isPagePinchZoomed=!1,this.rerenderOnScrollTimer=setTimeout((function(){e.pdfViewerBase.pageViewScrollChanged(e.reRenderPageNumber)}),300),this.pdfViewerBase.textLayer)for(a=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_textLayer_"]'),n=0;n<a.length;n++)a[parseInt(n.toString(),10)].style.display="block"}},e.prototype.pinchMoveScroll=function(){var e=this;this.isRerenderCanvasCreated&&this.clearIntervalTimer(),(this.isPagesZoomed||!this.isRerenderCanvasCreated&&this.isPagePinchZoomed)&&(this.clearRendering(),this.isPagesZoomed=!1,clearTimeout(this.magnifyPageRerenderTimer),this.isPinchScrolled=!0,this.isFormFieldPageZoomed=!0,this.rerenderOnScrollTimer=setTimeout((function(){e.rerenderOnScroll()}),100))},e.prototype.initiateRerender=function(e){var t=!1;(this.previousZoomFactor<.4||this.pdfViewerBase.isMinimumZoom)&&(t=!0),e.pageRerenderCount!==e.pdfViewerBase.reRenderedCount&&!t||0===e.pageRerenderCount||0===e.pdfViewerBase.reRenderedCount||(e.reRenderAfterPinch(this.reRenderPageNumber),e.isFormFieldPageZoomed=!1)},e.prototype.reRenderAfterPinch=function(e){this.pageRerenderCount=0;var t=e-3,i=e+1;this.pdfViewerBase.isMinimumZoom&&(t=e-4,i=e+4),t=t>0?t:0,i=i<this.pdfViewerBase.pageCount?i:this.pdfViewerBase.pageCount-1;for(var n=t;n<=i;n++){var o=this.pdfViewerBase.getElement("_pageDiv_"+n),r=this.pdfViewerBase.getElement("_oldCanvas_"+n);r&&(r.onload=null,r.onerror=null,r.parentNode.removeChild(r)),this.pdfViewerBase.isTextMarkupAnnotationModule()?this.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotations(n):this.pdfViewer.formDesignerModule&&(this.rerenderAnnotations(n),this.pdfViewer.renderDrawing(void 0,e)),o&&(o.style.visibility="visible")}this.isRerenderCanvasCreated=!1,this.isPagePinchZoomed=!1,0!==this.pdfViewerBase.reRenderedCount&&(this.pdfViewerBase.reRenderedCount=0,this.pageRerenderCount=0,clearInterval(this.rerenderInterval),this.rerenderInterval=null),this.imageObjects=[]},e.prototype.rerenderAnnotations=function(e){for(var t=document.querySelectorAll("#"+this.pdfViewer.element.id+"_old_annotationCanvas_"+e),i=0;i<t.length;i++)t[parseInt(i.toString(),10)]&&t[parseInt(i.toString(),10)].parentElement.removeChild(t[parseInt(i.toString(),10)]);var n=this.pdfViewerBase.getElement("_annotationCanvas_"+e);n&&(n.style.display="block")},e.prototype.designNewCanvas=function(e){this.pdfViewerBase.textLayer&&this.pdfViewerBase.textLayer.clearTextLayers();var t=e-3,i=e+1;this.pdfViewerBase.isMinimumZoom&&(t=e-4,i=e+4),t=t>0?t:0,i=i<this.pdfViewerBase.pageCount?i:this.pdfViewerBase.pageCount-1;for(var n=t;n<=i;n++)if(this.pdfViewerBase.pageSize[parseInt(n.toString(),10)]){var o=this.pdfViewerBase.getElement("_pageCanvas_"+n),r=this.pdfViewerBase.pageSize[parseInt(n.toString(),10)].width*this.zoomFactor,a=this.pdfViewerBase.pageSize[parseInt(n.toString(),10)].height*this.zoomFactor;o&&!this.pdfViewer.restrictZoomRequest?this.pdfViewerBase.renderPageCanvas(this.pdfViewerBase.getElement("_pageDiv_"+n),r,a,n,"none"):this.pdfViewer.restrictZoomRequest||this.pdfViewerBase.renderPageCanvas(this.pdfViewerBase.getElement("_pageDiv_"+n),r,a,n,"none")}this.isRerenderCanvasCreated=!0},e.prototype.pageRerenderOnMouseWheel=function(){var e=this;this.isRerenderCanvasCreated&&(this.clearIntervalTimer(),clearTimeout(this.magnifyPageRerenderTimer),this.isPinchScrolled||(this.isPinchScrolled=!0,this.rerenderOnScrollTimer=setTimeout((function(){e.rerenderOnScroll()}),100)))},e.prototype.renderCountIncrement=function(){this.isRerenderCanvasCreated&&this.pageRerenderCount++},e.prototype.rerenderCountIncrement=function(){this.pageRerenderCount>0&&this.pdfViewerBase.reRenderedCount++},e.prototype.resizeCanvas=function(e){var n=this.pdfViewer.annotationModule;if(n&&n.inkAnnotationModule&&""!==n.inkAnnotationModule.outputString&&(n.inkAnnotationModule.inkPathDataCollection.push({pathData:n.inkAnnotationModule.outputString,zoomFactor:n.inkAnnotationModule.inkAnnotationInitialZoom}),n.inkAnnotationModule.outputString=""),n&&n.freeTextAnnotationModule){var o={x:n.freeTextAnnotationModule.currentPosition[0],y:n.freeTextAnnotationModule.currentPosition[1],width:n.freeTextAnnotationModule.currentPosition[2],height:n.freeTextAnnotationModule.currentPosition[3]};n.freeTextAnnotationModule.addInputInZoom(o)}var r=e-3,a=e+3;this.pdfViewerBase.isMinimumZoom&&(r=e-4,a=e+4),this.pdfViewer.initialRenderPages>this.pdfViewerBase.pageRenderCount?(r=0,a=a<this.pdfViewer.initialRenderPages?this.pdfViewer.initialRenderPages<=this.pdfViewerBase.pageCount?this.pdfViewer.initialRenderPages:this.pdfViewerBase.pageCount:a<this.pdfViewerBase.pageCount?a:this.pdfViewerBase.pageCount-1):(r=r>0?r:0,a=a<this.pdfViewerBase.pageCount?a:this.pdfViewerBase.pageCount-1);for(var s=r;s<=a;s++){var l=this.pdfViewerBase.getElement("_pageDiv_"+s);document.getElementById(this.pdfViewer.element.id+"_textLayer_"+s);if(l&&r<=s&&s<=a){if(this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.isSelectionAvailableOnScroll(s),null!=this.pdfViewerBase.pageSize[parseInt(s.toString(),10)]){var d=this.pdfViewerBase.pageSize[parseInt(s.toString(),10)].width*this.zoomFactor,h=this.pdfViewerBase.pageSize[parseInt(s.toString(),10)].height*this.zoomFactor;l.style.width=d+"px",l.style.height=h+"px",l.style.top=this.pdfViewerBase.pageSize[parseInt(s.toString(),10)].top*this.zoomFactor+"px",this.pdfViewer.enableRtl?l.style.right=this.pdfViewerBase.updateLeftPosition(s)+"px":l.style.left=this.pdfViewerBase.updateLeftPosition(s)+"px";var A=this.pdfViewerBase.getElement("_pageCanvas_"+s);A&&(A.style.width=d+"px",A.style.height=h+"px",this.pdfViewer.annotation?this.pdfViewer.annotationModule.resizeAnnotations(d,h,s):this.pdfViewer.formDesignerModule&&this.pdfViewer.formDesignerModule.resizeAnnotations(d,h,s));var p=this.pdfViewerBase.retrieveCurrentZoomFactor(),c=void 0,g=void 0;c=g=this.pdfViewerBase.getTileCount(this.pdfViewerBase.pageSize[parseInt(s.toString(),10)].width,this.pdfViewerBase.pageSize[parseInt(s.toString(),10)].height);var u=this.pdfViewer.tileRenderingSettings;if(u.enableTileRendering&&u.x>0&&u.y>0&&(1200<this.pdfViewerBase.pageSize[parseInt(s.toString(),10)].width||this.pdfViewerBase.getZoomFactor()>2)&&(c=u.x,g=u.y),1===c*g){var f=void 0;if(f=this.pdfViewerBase.clientSideRendering?this.pdfViewerBase.getWindowSessionStorage(s,p)?this.pdfViewerBase.getWindowSessionStorage(s,p):this.pdfViewerBase.getPinchZoomPage(s):this.pdfViewerBase.getLinkInformation(s)?this.pdfViewerBase.getLinkInformation(s):this.pdfViewerBase.getWindowSessionStorage(s,p)){if(D=(f=this.pdfViewerBase.clientSideRendering&&"object"==typeof f?f:JSON.parse(f)).image){A.src=D,A.style.display="block";for(var m=document.querySelectorAll('img[id*="'+this.pdfViewer.element.id+"_tileimg_"+s+'_"]'),w=this.pdfViewerBase.getElement("_pageDiv_"+s),y=0;y<m.length;y++){var S=m[parseInt(y.toString(),10)].id.split("_");parseFloat(S[S.length-3])!==this.pdfViewerBase.getZoomFactor()&&(m[parseInt(y.toString(),10)].onload=null,m[parseInt(y.toString(),10)].onerror=null,w.removeChild(m[parseInt(y.toString(),10)]))}for(var C=document.querySelectorAll('img[id*="'+this.pdfViewer.element.id+'_oldCanvas"]'),B=0;B<C.length;B++)C[parseInt(B.toString(),10)].onload=null,C[parseInt(B.toString(),10)].onerror=null,l.removeChild(C[parseInt(B.toString(),10)])}this.pdfViewerBase.isReRenderRequired=!1}else this.pdfViewerBase.isReRenderRequired=!0}else{m=document.querySelectorAll('img[id*="'+this.pdfViewer.element.id+"_tileimg_"+s+'_"]');for(var I=0;I<m.length;I++){S=m[parseInt(I.toString(),10)].id.split("_");var b=parseFloat(S[S.length-2]),v=parseFloat(S[S.length-1]),E=this.pdfViewerBase.clientSideRendering?JSON.parse(this.pdfViewerBase.getStoredTileImageDetails(s,b,v,p)):JSON.parse(this.pdfViewerBase.getWindowSessionStorageTile(s,b,v,p));if(E&&E.zoomFactor&&(p=E.zoomFactor),parseFloat(S[S.length-4])===s){A.style.display="none";var x=m[parseInt(I.toString(),10)];if(x.nodeType===Node.ELEMENT_NODE){var _=1.5;(0,t.isNullOrUndefined)(E)||(_=(0,t.isNullOrUndefined)(E.scaleFactor)?1.5:E.scaleFactor);var D,M=this.pdfViewerBase.pageSize[parseInt(s.toString(),10)].width*p*_/c,V=this.pdfViewerBase.pageSize[parseInt(s.toString(),10)].height*p*_/g,Q=M,F=parseFloat(S[S.length-2])*M,T=parseFloat(S[S.length-1])*V;if(x.width=Q*this.pdfViewerBase.getZoomFactor()/p/_,x.style.width=Q*this.pdfViewerBase.getZoomFactor()/p/_+"px",x.style.left=F*this.pdfViewerBase.getZoomFactor()/p/_+"px",x.style.top=T*this.pdfViewerBase.getZoomFactor()/p/_+"px",x.id=this.pdfViewer.element.id+"_tileimg_"+s+"_"+this.pdfViewerBase.getZoomFactor()+"_"+b+"_"+v,E)(D=E.image)&&(x.src=D),this.pdfViewerBase.isReRenderRequired=!1;else this.pdfViewerBase.isReRenderRequired=!0}}}0===m.length&&(this.pdfViewerBase.isReRenderRequired=!0)}var k=(0,i.getDiagramElement)(this.pdfViewer.element.id+"_textLayer_"+s);if(k){var P=(0,i.getDiagramElement)(this.pdfViewer.element.id+s+"_diagramAdorner_svg");P&&(P.style.width=d+"px",P.style.height=h+"px");var N=(0,i.getDiagramElement)(this.pdfViewer.element.id+s+"_diagramAdornerLayer");N&&(N.style.width=d+"px",N.style.height=h+"px"),k.style.width=d+"px",k.style.height=h+"px",this.pdfViewer.renderSelector(s,this.pdfViewer.annotationSelectorSettings),this.pdfViewerBase.applyElementStyles(N,s)}}}}},e.prototype.zoomOverPages=function(e,t,i,n){var o=Math.sqrt(Math.pow(e-i,2)+Math.pow(t-n,2));this.previousTouchDifference>-1&&(o>this.previousTouchDifference?(this.pinchStep=this.getPinchStep(o,this.previousTouchDifference),this.pinchOut()):o<this.previousTouchDifference&&(this.pinchStep=this.getPinchStep(this.previousTouchDifference,o),this.pinchIn())),this.previousTouchDifference=o},e.prototype.pinchMoveEnd=function(){this.touchCenterX=0,this.touchCenterY=0,this.previousTouchDifference=-1,this.isPinchZoomed&&(this.isPinchScrolled=!1,this.isPagePinchZoomed=!0,this.pinchMoveScroll())},e.prototype.fitPageScrollMouseWheel=function(e){"fitToPage"===this.fitType&&(this.isMagnified=!1,e.preventDefault(),e.deltaY>0?this.downwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1):this.upwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1))},e.prototype.magnifyBehaviorKeyDown=function(e){var t=!!!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)&&e.metaKey;switch((e.ctrlKey||t)&&"Equal"===e.code&&(e.preventDefault(),this.zoomIn()),(e.ctrlKey||t)&&"Minus"===e.code&&(e.preventDefault(),this.zoomOut()),e.keyCode){case 37:e.ctrlKey||t?(e.preventDefault(),this.pdfViewerBase.updateScrollTop(0)):this.focusOnViewerContainer()&&this.formElementcheck()&&(e.preventDefault(),this.upwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1));break;case 38:case 33:e.ctrlKey||t?(e.preventDefault(),this.pdfViewerBase.updateScrollTop(0)):"fitToPage"!==this.fitType||(e.ctrlKey||t)&&e.shiftKey||(e.preventDefault(),this.upwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1));break;case 39:e.ctrlKey||t?(e.preventDefault(),this.pdfViewerBase.updateScrollTop(this.pdfViewerBase.pageCount-1)):this.focusOnViewerContainer()&&this.formElementcheck()&&(e.preventDefault(),this.downwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1));break;case 40:case 34:e.ctrlKey||t?(e.preventDefault(),this.pdfViewerBase.updateScrollTop(this.pdfViewerBase.pageCount-1)):"fitToPage"!==this.fitType||(e.ctrlKey||t)&&e.shiftKey||(e.preventDefault(),this.downwardScrollFitPage(this.pdfViewerBase.currentPageNumber-1));break;case 48:!e.ctrlKey&&!t||e.shiftKey||e.altKey||(e.preventDefault(),this.fitToPage());break;case 49:!e.ctrlKey&&!t||e.shiftKey||e.altKey||(e.preventDefault(),this.zoomTo(100))}},e.prototype.formElementcheck=function(){var e=event.target;return e.offsetParent&&e.offsetParent.classList.length>0&&!e.offsetParent.classList.contains("foreign-object")},e.prototype.focusOnViewerContainer=function(){var e=document.activeElement;return document.querySelector(".e-pv-viewer-container").contains(e)},e.prototype.upwardScrollFitPage=function(e){if(e>0){var t=this.pdfViewerBase.getElement("_pageDiv_"+(e-1));if(t&&(t.style.visibility="visible",this.pdfViewerBase.viewerContainer.scrollTop=this.pdfViewerBase.pageSize[e-1].top*this.zoomFactor,this.isFitToPageMode)){var i=this.pdfViewerBase.getElement("_pageDiv_"+e);i&&(i.style.visibility="hidden")}}},e.prototype.updatePagesForFitPage=function(e){"fitToPage"===this.fitType&&this.isFitToPageMode&&(e>0&&this.pdfViewerBase.getElement("_pageDiv_"+(e-1))&&(this.pdfViewerBase.getElement("_pageDiv_"+(e-1)).style.visibility="hidden"),e<this.pdfViewerBase.pageCount-1&&this.pdfViewerBase.getElement("_pageDiv_"+(e+1))&&(this.pdfViewerBase.getElement("_pageDiv_"+(e+1)).style.visibility="hidden"))},e.prototype.onDoubleTapMagnification=function(){var e=this;this.pdfViewer.toolbarModule&&(0,t.isBlazor)()&&this.pdfViewer.toolbarModule.showToolbar(!0);var i=this.pdfViewerBase.viewerContainer.scrollTop;if(this.pdfViewer.selectedItems.annotations[0]){if((0,t.isBlazor)()&&this.pdfViewer.selectedItems.annotations[0]&&"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType){var n={};n.x=this.pdfViewer.selectedItems.annotations[0].bounds.x,n.y=this.pdfViewer.selectedItems.annotations[0].bounds.y,this.pdfViewer.annotation.freeTextAnnotationModule.addInuptElemet(n,this.pdfViewer.selectedItems.annotations[0])}}else this.isDoubleTapZoom=!0,this.isTapToFitZoom?this.fitToWidth():this.zoomFactor<2?this.zoomTo(200):this.fitToWidth(),this.calculateScrollValues(i),this.isTapToFitZoom=!this.isTapToFitZoom,setTimeout((function(){e.isMagnified=!1}),500),this.isDoubleTapZoom=!1},e.prototype.downwardScrollFitPage=function(e){if(e!==this.pdfViewerBase.pageCount-1){var t=this.pdfViewerBase.getElement("_pageDiv_"+(e+1));if(t&&(t.style.visibility="visible"),this.pdfViewerBase.viewerContainer.scrollTop=this.pdfViewerBase.pageSize[e+1].top*this.zoomFactor,this.isFitToPageMode){var i=this.pdfViewerBase.getElement("_pageDiv_"+e),n=this.pdfViewerBase.getElement("_pageDiv_"+(e+2));e+1===this.pdfViewerBase.pageCount-1?i&&(i.style.visibility="hidden"):n&&(n.style.visibility="hidden")}}},e.prototype.getMagnifiedValue=function(e){return e/this.previousZoomFactor*this.zoomFactor},e.prototype.destroy=function(){this.imageObjects=void 0},e.prototype.getZoomFactor=function(e){return e/100},e.prototype.getModuleName=function(){return"Magnification"},e.prototype.getPinchStep=function(e,t){var i=(e-t)/100;return i<.02?i=.02:i>1&&(i=.1),i},e.prototype.zoomToRect=function(e){var t,i=this.pdfViewerBase,n=i.viewerContainer,o=this.pdfViewer;if(e.width>0&&e.height>0){var r={x:e.x,y:e.y},a=o.getPageNumberFromClientPoint(r);if(a>0){var s=n.getBoundingClientRect().width/e.width,l=n.getBoundingClientRect().height/e.height;t=s<l?s:l;var d;d=100*i.getZoomFactor()*t;var h=n.scrollTop,A=n.scrollLeft;this.zoomTo(d),n.scrollTop=h,n.scrollLeft=A;var p=i.getZoomFactor(),c={x:e.x,y:e.y};c=o.convertClientPointToPagePoint(c,a),i.updateScrollTop(a-1),n.scrollLeft=(c.x-A)*p,n.scrollTop=(c.y+i.pageSize[a-1].top-h)*p}}},e.prototype.positionInViewer=function(e,t){var i=this.pdfViewerBase.mainContainer.getBoundingClientRect();return{x:e-i.left,y:t-i.top}},e}(),gd=function(){function e(e,t){this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.goToNextPage=function(){this.pageNumber=this.pdfViewerBase.currentPageNumber,this.pageNumber++,this.pageNumber<=this.pdfViewerBase.pageCount&&this.pdfViewerBase.updateScrollTop(this.pageNumber-1)},e.prototype.goToPreviousPage=function(){this.pageNumber=this.pdfViewerBase.currentPageNumber,this.pageNumber--,this.pageNumber>0&&this.pdfViewerBase.updateScrollTop(this.pageNumber-1)},e.prototype.goToPage=function(e){e>0&&e<=this.pdfViewerBase.pageCount&&this.pdfViewerBase.currentPageNumber!==e&&(this.pdfViewerBase.updateScrollTop(e-1),this.pdfViewer.enableThumbnail&&this.pdfViewer.thumbnailViewModule.updateScrollTopForThumbnail(e-1)),this.pdfViewer.magnificationModule&&this.pdfViewer.magnificationModule.resizeCanvas(e);var t=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(e-1));t&&(t.style.display="block")},e.prototype.goToFirstPage=function(){this.pageNumber=0,this.pdfViewerBase.updateScrollTop(this.pageNumber)},e.prototype.goToLastPage=function(){this.pageNumber=this.pdfViewerBase.pageCount-1,this.pdfViewerBase.updateScrollTop(this.pageNumber)},e.prototype.destroy=function(){this.pageNumber=0},e.prototype.getModuleName=function(){return"Navigation"},e}(),ud=function(){function e(e,t){var i=this;this.thumbnailLimit=30,this.thumbnailThreshold=5,this.thumbnailRequestsBatch=5,this.thumbnailTopMargin=10,this.thumbnailTop=8,this.isRendered=!1,this.list=[],this.thumbnailPageSize=[],this.isThubmnailOpen=!1,this.isThumbnailClicked=!1,this.thumbnailOnScroll=function(e){for(var t=function(e){var t=i.pdfViewerBase.navigationPane.sideBarContent.scrollTop,n=i.thumbnailPageSize.findIndex((function(e){return e.top>=t}));if(-1!==n){var o=Math.floor(n/i.thumbnailRequestsBatch)*i.thumbnailRequestsBatch;return i.updateScrollTopForThumbnail(o),"break"}},n=0;n<i.thumbnailPageSize.length;n++){if("break"===t())break}},this.thumbnailClick=function(e,t){var n=i,o=e.target,r=n.getPageNumberFromID(o.id);if(n.previousElement&&(n.previousElement.classList.remove("e-pv-thumbnail-selection"),n.previousElement.classList.remove("e-pv-thumbnail-focus"),n.previousElement.classList.add("e-pv-thumbnail-selection-ring")),o.parentElement.id===n.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+r?(n.setSelectionStyle(o.parentElement),n.previousElement=o.parentElement):o.id===n.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+r&&(n.setSelectionStyle(o),n.previousElement=o),n.pdfViewer.fireThumbnailClick(r+1),n.isThumbnailClicked=!0,n.goToThumbnailPage(r+1),t||n.pdfViewerBase.focusViewerContainer(),i.pdfViewer.annotationModule&&i.pdfViewer.annotationModule.inkAnnotationModule){var a=parseInt(i.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10);i.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(a)}},this.thumbnailKeydown=function(e){(e&&"Enter"===e.key||" "===e.key)&&(i.thumbnailClick(e,!0),e.preventDefault(),e.stopPropagation())},this.thumbnailMouseOver=function(e){var t=i,n=e.target,o=t.getPageNumberFromID(n.id);n.id===t.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+o?t.setMouseOverStyle(n):n.id===t.pdfViewer.element.id+"_thumbnail_image_"+o&&t.setMouseOverStyle(n.parentElement)},this.thumbnailMouseLeave=function(e){var t=i,n=e.target,o=t.getPageNumberFromID(n.id);n.parentElement.id===t.pdfViewer.element.id+"_thumbnail_view"?t.setMouseLeaveStyle(n.children[0].children[0]):n.parentElement.id===t.pdfViewer.element.id+"_thumbnail_"+o&&t.setMouseLeaveStyle(n.parentElement.children[0])},this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.createThumbnailContainer=function(){this.thumbnailView=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_thumbnail_view",className:"e-pv-thumbnail-view e-pv-thumbnail-row"}),this.pdfViewerBase.navigationPane.sideBarContent.appendChild(this.thumbnailView),this.pdfViewerBase.navigationPane.sideBarContent.addEventListener("scrollend",this.thumbnailOnScroll)},e.prototype.openThumbnailPane=function(){this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.openThumbnailPane()},e.prototype.closeThumbnailPane=function(){this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.closeThumbnailPane()},e.prototype.createRequestForThumbnails=function(){var e=this;e.thumbnailLimit=0;for(var t=0;t<e.pdfViewer.pageCount;t++)e.renderThumbnailEmptyPage(t);if(e.pdfViewer.isThumbnailViewOpen){this.isThubmnailOpen=!0,e.pdfViewerBase.navigationPane&&e.pdfViewerBase.navigationPane.sideBarTitle&&(e.pdfViewerBase.navigationPane.sideBarTitle.textContent=e.pdfViewer.localeObj.getConstant("Page Thumbnails")),document.getElementById(e.pdfViewer.element.id+"_thumbnail_view")&&(document.getElementById(e.pdfViewer.element.id+"_thumbnail_view").style.display="flex");var i=e.pdfViewer.element.querySelector(".e-pv-bookmark-view");i&&(i.style.display="none"),e.pdfViewerBase.navigationPane.updateViewerContainerOnExpand(),this.isThubmnailOpen=!1,e.pdfViewerBase.navigationPane.isBookmarkOpen=!1}this.createRequestForThumbnailImages()},e.prototype.isThumbnailViewOpen=function(){var e=this;e.pdfViewer.isThumbnailViewOpen&&(e.pdfViewerBase.navigationPane.setThumbnailSelectionIconTheme(),e.pdfViewerBase.navigationPane.isThumbnailOpen=!0,this.pdfViewerBase.navigationPane.sideBarContentContainer.style.display="block",this.pdfViewer.enableRtl?e.pdfViewerBase.viewerContainer.style.right=this.pdfViewerBase.navigationPane.getViewerContainerLeft()+"px":e.pdfViewerBase.viewerContainer.style.left=this.pdfViewerBase.navigationPane.getViewerContainerLeft()+"px",e.pdfViewerBase.viewerContainer.style.width=e.pdfViewer.element.clientWidth-this.pdfViewerBase.navigationPane.getViewerContainerLeft()-this.pdfViewerBase.navigationPane.getViewerContainerRight()+"px",e.pdfViewerBase.pageContainer.style.width=e.pdfViewerBase.viewerContainer.clientWidth+"px",e.pdfViewerBase.updateZoomValue())},e.prototype.thumbnailsRequestedForPage=function(e){for(var t=0,i=this.list;t<i.length;t++){if(e===i[t])return!0}return!1},e.prototype.updateScrollTopForThumbnail=function(e){var t=this,i=this.thumbnailRequestsBatch,n=Math.floor((e+1)/i)*i;[n,n-i,n+i,this.pdfViewer.thumbnailViewModule.thumbnailLimit].forEach((function(e){e<0||t.thumbnailsRequestedForPage(e)||t.renderThumbnailImage(null,e)}))},e.prototype.renderThumbnailEmptyPage=function(e){if(this.thumbnailView){var i=(0,t.createElement)("a",{id:"page_"+e,attrs:{"aria-label":"Thumbnail of Page"+(e+1),tabindex:"-1",role:"link"},className:"e-pv-thumbnail-anchor-node"}),n=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_thumbnail_"+e,className:"e-pv-thumbnail e-pv-thumbnail-column"});this.thumbnailSelectionRing=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+e,className:"e-pv-thumbnail-selection-ring"}),n.appendChild(this.thumbnailSelectionRing);var o=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_thumbnail_pagenumber_"+e,className:"e-pv-thumbnail-number"});o.textContent=(e+1).toString(),n.appendChild(o);var r=180;if(this.thumbnailImage=(0,t.createElement)("img",{id:this.pdfViewer.element.id+"_thumbnail_image_"+e,className:"e-pv-thumbnail-image"}),this.pdfViewerBase.pageSize[parseInt(e.toString(),10)]&&this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height<this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width&&(this.thumbnailImage.style.height="86px",this.thumbnailImage.style.width="126px",n.style.height="100px",n.style.width="140px",o.style.left="18px",i.style.marginRight="41px",n.style.marginLeft="-5px",n.style.marginRight="0px",r=140),0!==e){this.thumbnailTop=this.thumbnailPageSize[e-1].top+this.thumbnailPageSize[e-1].height;var a={height:r,top:this.thumbnailTop};this.thumbnailPageSize[parseInt(e.toString(),10)]=a}else{a={height:r,top:this.thumbnailTop};this.thumbnailPageSize[parseInt(e.toString(),10)]=a}this.thumbnailSelectionRing.appendChild(this.thumbnailImage),i.appendChild(n),this.thumbnailView.appendChild(i),this.wireUpEvents(),0===e&&this.setMouseFocusToFirstPage(),this.pdfViewerBase.navigationPane.enableThumbnailButton()}},e.prototype.renderViewPortThumbnailImage=function(e){var i=e||this;if(i.startIndex=i.thumbnailLimit,this.list.push(i.startIndex),this.pdfViewerBase.pageSize.length!==this.pdfViewerBase.pageCount||this.isRendered||this.renderDiv(),i.thumbnailLimit=i.startIndex+i.thumbnailThreshold<i.pdfViewer.pageCount?i.startIndex+i.thumbnailThreshold:i.pdfViewer.pageCount,this.pdfViewerBase.clientSideRendering){for(var n=i.startIndex;n<i.thumbnailLimit;n++){var o=this.getThumbnailImageElement(n);(o&&""===o.src||(0,t.isNullOrUndefined)(o)&&!(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer))&&this.pdfViewerBase.pdfViewerRunner.postMessage({pageIndex:n,message:"renderThumbnail"})}this.isThumbnailViewOpen()}else{for(var r=!1,a=i.startIndex;a<i.thumbnailLimit;a++)i.pdfViewerBase.digitalSignaturePresent(a)&&(r=!0);var s="";r&&(s=i.pdfViewerBase.digitalSignaturePages.toString());var l={startPage:i.startIndex.toString(),endPage:i.thumbnailLimit.toString(),sizeX:"99.7",sizeY:"141",hashId:i.pdfViewerBase.hashId,action:"RenderThumbnailImages",elementId:i.pdfViewer.element.id,uniqueId:i.pdfViewerBase.documentId,digitalSignaturePresent:r,digitalSignaturePageList:s};this.pdfViewerBase.jsonDocumentId&&(l.documentId=this.pdfViewerBase.jsonDocumentId),this.thumbnailRequestHandler=new hd(this.pdfViewer),this.thumbnailRequestHandler.url=i.pdfViewer.serviceUrl+"/"+i.pdfViewer.serverActionSettings.renderThumbnail,this.thumbnailRequestHandler.responseType="json",i.startIndex.toString()!==i.thumbnailLimit.toString()&&i.thumbnailLimit>0&&!(0,t.isNullOrUndefined)(i.pdfViewerBase.hashId)&&(this.pdfViewerBase.requestCollection.push(this.thumbnailRequestHandler),this.thumbnailRequestHandler.send(l)),this.thumbnailRequestHandler.onSuccess=function(e){var t=e.data;i.pdfViewerBase.checkRedirection(t)||i.updateThumbnailCollection(t)},this.thumbnailRequestHandler.onFailure=function(e){i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,i.pdfViewer.serverActionSettings.renderThumbnail)},this.thumbnailRequestHandler.onError=function(e){i.pdfViewerBase.openNotificationPopup(),i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,i.pdfViewer.serverActionSettings.renderThumbnail)}}},e.prototype.thumbnailOnMessage=function(e){if("renderThumbnail"===e.data.message){var i=document.createElement("canvas"),n=e.data,o=n.value,r=n.width,a=n.height,s=n.pageIndex;i.width=r,i.height=a;var l=i.getContext("2d"),d=l.createImageData(r,a);d.data.set(o),l.putImageData(d,0,0);var h=i.toDataURL();this.pdfViewerBase.releaseCanvas(i);var A=this.getThumbnailImageElement(s);if(A&&(A.src=h),this.pdfViewer.pageOrganizerModule){var p={thumbnailImage:h,startPage:this.startIndex,endPage:this.thumbnailLimit,uniqueId:this.pdfViewerBase.documentId,pageIndex:s};!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.updateThumbnailCollection(p):(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer)||this.pdfViewer.pageOrganizer.updatePreviewCollection(p)}}},e.prototype.updateThumbnailCollection=function(e){if(e){var t=this;if("object"!=typeof e)try{e=JSON.parse(e)}catch(i){t.pdfViewerBase.onControlError(500,e,t.pdfViewer.serverActionSettings.renderThumbnail),e=null}e&&e.uniqueId===t.pdfViewerBase.documentId&&(t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.renderThumbnail,e),t.renderThumbnailImage(e))}},e.prototype.renderDiv=function(e){if(!(this.pdfViewerBase.pageSize.length!==this.pdfViewerBase.pageCount&&(0,t.isNullOrUndefined)(e)||this.isRendered)){for(var i=100;i<this.pdfViewer.pageCount;i++){var n=document.getElementById(this.pdfViewer.element.id+"_thumbnail_"+i),o=document.getElementById("page_"+i),r=document.getElementById(this.pdfViewer.element.id+"_thumbnail_pagenumber_"+i),a=this.getThumbnailImageElement(i),s=180;if((this.pdfViewerBase.pageSize[parseInt(i.toString(),10)]&&this.pdfViewerBase.pageSize[parseInt(i.toString(),10)].height<this.pdfViewerBase.pageSize[parseInt(i.toString(),10)].width||e&&(1===e.pageRotation[parseInt(i.toString(),10)]||3===e.pageRotation[parseInt(i.toString(),10)]))&&(a.style.height="86px",a.style.width="126px",n.style.height="100px",n.style.width="140px",r.style.left="18px",o.style.marginRight="41px",n.style.marginLeft="-5px",n.style.marginRight="0px",s=140),this.thumbnailPageSize.length>0){this.thumbnailTop=this.thumbnailPageSize[i-1].top+this.thumbnailPageSize[i-1].height;var l={height:s,top:this.thumbnailTop};this.thumbnailPageSize[parseInt(i.toString(),10)]=l}}this.isRendered=!0}},e.prototype.gotoThumbnailImage=function(e){var t=this.checkThumbnailScroll(e);if(this.thumbnailView){var i=this.thumbnailView.children[parseInt(e.toString(),10)];if(i){var n=i.children[0],o=void 0;t&&(this.pdfViewerBase.pageSize.length!==this.pdfViewerBase.pageCount||this.isRendered||this.renderDiv(),o=n.offsetTop<=0?n.parentElement.offsetTop+n.clientTop-this.thumbnailTopMargin:n.offsetTop+n.clientTop-this.thumbnailTopMargin,this.pdfViewerBase.navigationPane.sideBarContent.scrollTop=o),this.isThumbnailClicked||(this.previousElement&&(this.previousElement.classList.remove("e-pv-thumbnail-selection"),this.previousElement.classList.remove("e-pv-thumbnail-focus"),this.previousElement.classList.remove("e-pv-thumbnail-hover"),this.previousElement.classList.add("e-pv-thumbnail-selection-ring")),this.setFocusStyle(n,e)),this.previousElement=n.children[0]}}},e.prototype.determineThumbnailsRequest=function(e){var t=this.pdfViewer.pageCount,i=this.thumbnailRequestsBatch,n=Math.ceil(t/i);if(this.list.length===n)return t;for(var o=0;o<this.list.length;o++)e===this.list[parseInt(o.toString(),10)]&&(e+=i,o=-1);return void 0!==e&&e<t?e:t},e.prototype.checkThumbnailScroll=function(e){var t=!1;if(this.thumbnailView){var i=this.getVisibleThumbs(),n=i.views.length;if(n>0){var o=this.getPageNumberFromID(i.first.id),r=n>1?this.getPageNumberFromID(i.last.id):o;e<=o||e>=r?t=!0:i.views.some((function(i){var n=i.id.split("_"),o=n[n.length-1];return parseInt(o,10)===e&&(t=i.percent<100&&i.view.offsetWidth>i.view.offsetHeight&&i.percent<97,!0)}))}}return t},e.prototype.getPageNumberFromID=function(e){var t=e.split("_"),i=t[t.length-1];return parseInt(i,10)},e.prototype.setFocusStyle=function(e,t){e.children[0].id===this.pdfViewer.element.id+"_thumbnail_Selection_Ring_"+t&&this.setMouseFocusStyle(e.children[0])},e.prototype.renderThumbnailImage=function(e,i){(this.thumbnailView&&e&&(this.pdfViewerBase.clientSideRendering?this.renderClientThumbnailImage(e):this.renderServerThumbnailImage(e)),(0,t.isNullOrUndefined)(e)||(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer)||this.pdfViewer.pageOrganizer.getData(e,this.pdfViewerBase.clientSideRendering),this.thumbnailLimit=this.determineThumbnailsRequest((0,t.isNullOrUndefined)(i)?this.thumbnailLimit:i),this.thumbnailLimit===this.pdfViewerBase.pageCount||!this.thumbnailView&&(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer))||(!!document.documentMode?this.createRequestForThumbnailImages():Promise.all([this.createRequestForThumbnailImages()]))},e.prototype.createRequestForThumbnailImages=function(){var e=this;return!!document.documentMode?(this.renderViewPortThumbnailImage(e),null):new Promise((function(t,i){e.renderViewPortThumbnailImage(e)}))},e.prototype.renderServerThumbnailImage=function(e){for(var i=(0,t.isNullOrUndefined)(e&&e.startPage)?this.startIndex:e.startPage,n=(0,t.isNullOrUndefined)(e&&e.endPage)?this.thumbnailLimit:e.endPage,o=i;o<n;o++)this.thumbnailImageRender(o,e);this.isThumbnailViewOpen()},e.prototype.renderClientThumbnailImage=function(e){var t=e.pageIndex;this.thumbnailImageRender(t,e)},e.prototype.thumbnailImageRender=function(e,i){!(0,t.isNullOrUndefined)(i.pageRotation)&&Object.keys(i.pageRotation).length>0&&!this.isRendered&&this.renderDiv(i);var n=document.getElementById(this.pdfViewer.element.id+"_thumbnail_"+e),o=document.getElementById("page_"+e),r=document.getElementById(this.pdfViewer.element.id+"_thumbnail_pagenumber_"+e),a=this.getThumbnailImageElement(e);(0,t.isNullOrUndefined)(n)||(0,t.isNullOrUndefined)(a)||(a.src=this.pdfViewerBase.clientSideRendering||"string"==typeof i.thumbnailImage||i.thumbnailImage instanceof String?i.thumbnailImage:i.thumbnailImage[parseInt(e.toString(),10)],a.alt=this.pdfViewer.element.id+"_thumbnail_page_"+e,o.setAttribute("aria-label","Thumbnail of Page "+(e+1)),this.pdfViewerBase.pageSize[parseInt(e.toString(),10)]&&this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height<this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width&&(a.style.height="86px",a.style.width="126px",n.style.height="100px",n.style.width="140px",r.style.left="18px",o.style.marginRight="41px",n.style.marginLeft="-5px",n.style.marginRight="0px"),0===e&&(this.pdfViewerBase.navigationPane.enableThumbnailButton(),this.isThumbnailViewOpen()))},e.prototype.wireUpEvents=function(){this.thumbnailSelectionRing&&(this.thumbnailSelectionRing.addEventListener("click",this.thumbnailClick),this.thumbnailImage.addEventListener("keydown",this.thumbnailKeydown),this.thumbnailSelectionRing.addEventListener("mouseover",this.thumbnailMouseOver),this.thumbnailSelectionRing.addEventListener("mouseleave",this.thumbnailMouseLeave))},e.prototype.unwireUpEvents=function(){this.thumbnailSelectionRing&&this.thumbnailImage&&(this.thumbnailSelectionRing.removeEventListener("click",this.thumbnailClick),this.thumbnailImage.removeEventListener("keydown",this.thumbnailKeydown),this.thumbnailSelectionRing.removeEventListener("mouseover",this.thumbnailMouseOver),this.thumbnailSelectionRing.removeEventListener("mouseleave",this.thumbnailMouseLeave))},e.prototype.goToThumbnailPage=function(e){e>0&&e<=this.pdfViewerBase.pageCount&&this.pdfViewerBase.currentPageNumber!==e?this.pdfViewerBase.updateScrollTop(e-1):this.isThumbnailClicked=!1},e.prototype.setSelectionStyle=function(e){e.classList.remove("e-pv-thumbnail-selection-ring"),e.classList.remove("e-pv-thumbnail-hover"),e.classList.remove("e-pv-thumbnail-focus"),e.classList.add("e-pv-thumbnail-selection")},e.prototype.setMouseOverStyle=function(e){e.classList.contains("e-pv-thumbnail-selection")||(e.classList.remove("e-pv-thumbnail-selection-ring"),e.classList.contains("e-pv-thumbnail-focus")||e.classList.add("e-pv-thumbnail-hover"))},e.prototype.setMouseLeaveStyle=function(e){e.classList.contains("e-pv-thumbnail-selection")?e.classList.contains("e-pv-thumbnail-selection")||(e.classList.remove("e-pv-thumbnail-selection"),e.classList.add("e-pv-thumbnail-focus")):(e.classList.contains("e-pv-thumbnail-focus")||e.classList.add("e-pv-thumbnail-selection-ring"),e.classList.remove("e-pv-thumbnail-hover"))},e.prototype.setMouseFocusStyle=function(e){e.classList.remove("e-pv-thumbnail-selection"),e.classList.remove("e-pv-thumbnail-hover"),e.classList.add("e-pv-thumbnail-focus")},e.prototype.setMouseFocusToFirstPage=function(){var e=this.thumbnailView.children[0];if(e){var t=e.children[0].children[0];this.setMouseFocusStyle(t),this.previousElement=t}},e.prototype.clear=function(){if(this.startIndex=0,this.thumbnailLimit=0,this.list=[],this.thumbnailPageSize=[],this.thumbnailTop=0,this.isRendered=!1,this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.sideBarContentContainer&&(this.pdfViewerBase.navigationPane.sideBarContentContainer.style.display="block",this.pdfViewerBase.navigationPane.sideBarContent.scrollTop=0,this.pdfViewerBase.navigationPane.sideBarContentContainer.style.display="none"),this.thumbnailView)for(;this.thumbnailView.hasChildNodes();)this.thumbnailView.removeChild(this.thumbnailView.lastChild);this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.resetThumbnailView(),this.thumbnailRequestHandler&&this.thumbnailRequestHandler.clear(),this.unwireUpEvents()},e.prototype.getVisibleThumbs=function(){return this.getVisibleElements(this.pdfViewerBase.navigationPane.sideBarContent,this.thumbnailView.children)},e.prototype.getVisibleElements=function(e,t){var i=e.scrollTop,n=i+e.clientHeight,o=e.scrollLeft,r=o+e.clientWidth;var a,s,l,d,h,A,p,c,g,u=[],f=0===t.length?0:this.binarySearchFirstItem(t,(function(e){return e.offsetTop+e.clientTop+e.clientHeight>i}));t.length>0&&(f=this.backtrackBeforeAllVisibleElements(f,t,i));for(var m=-1,w=f,y=t.length;w<y;w++){if(A=(s=a=this.getThumbnailElement(w)).offsetLeft+s.clientLeft,l=s.offsetTop+s.clientTop,c=A+(p=s.clientWidth),h=l+(d=s.clientHeight),-1===m)h>=n&&(m=h);else if(l>m)break;h<=i||l>=n||c<=o||A>=r||(g=(d-(Math.max(0,i-l)+Math.max(0,h-n)))*(p-(Math.max(0,o-A)+Math.max(0,c-r)))*100/d/p|0,u.push({id:a.id,x:A,y:l,view:a,percent:g}))}return{first:u[0],last:u[u.length-1],views:u}},e.prototype.binarySearchFirstItem=function(e,t){var i=0,n=e.length-1;if(0===e.length||!t(this.getThumbnailElement(n)))return e.length-1;if(t(this.getThumbnailElement(i)))return i;for(;i<n;){var o=i+n>>1;t(this.getThumbnailElement(o))?n=o:i=o+1}return i},e.prototype.backtrackBeforeAllVisibleElements=function(e,t,i){if(e<2)return e;var n=this.getThumbnailElement(e),o=n.offsetTop+n.clientTop;o>=i&&(o=(n=this.getThumbnailElement(e-1)).offsetTop+n.clientTop);for(var r=e-2;r>=0&&!((n=this.getThumbnailElement(r)).offsetTop+n.clientTop+n.clientHeight<=o);--r)e=r;return e},e.prototype.getThumbnailElement=function(e){return this.thumbnailView.children[parseInt(e.toString(),10)].children[0]},e.prototype.getThumbnailLinkElement=function(e){return this.thumbnailView.children[parseInt(e.toString(),10)]},e.prototype.getThumbnailImageElement=function(e){if((0,t.isNullOrUndefined)(this.thumbnailView))return null;var i=this.thumbnailView.children[parseInt(e.toString(),10)];return i?i.children[0].children[0].children[0]:null},e.prototype.destroy=function(){this.clear()},e.prototype.getModuleName=function(){return"ThumbnailView"},e}(),fd=f(778),md=function(){function e(e,t,i){this.isToolbarHidden=!1,this.isTextboxBtnVisible=!0,this.isPasswordBtnVisible=!0,this.isCheckboxBtnVisible=!0,this.isRadiobuttonBtnVisible=!0,this.isDropdownBtnVisible=!0,this.isListboxBtnVisible=!0,this.isSignatureBtnVisible=!0,this.isDeleteBtnVisible=!0,this.toolbarBorderHeight=1,this.pdfViewer=e,this.pdfViewerBase=t,this.primaryToolbar=i}return e.prototype.initializeFormDesignerToolbar=function(){this.toolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_formdesigner_toolbar",className:"e-pv-formdesigner-toolbar"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement),this.toolbar=new ai.Toolbar({width:"",height:"",overflowMode:"Popup",items:this.createToolbarItems(),clicked:this.onToolbarClicked.bind(this)}),this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.toolbar.appendTo(this.toolbarElement),this.afterToolbarCreation(),this.createSignContainer(),this.applyFormDesignerToolbarSettings(),this.showFormDesignerToolbar(null,!0)},e.prototype.resetFormDesignerToolbar=function(){this.pdfViewer.isFormDesignerToolbarVisible?(this.pdfViewer.designerMode=!0,this.pdfViewer.formDesignerModule.setMode("designer"),this.adjustViewer(!1),this.toolbarElement.style.display="",this.isToolbarHidden=!1,this.adjustViewer(!0),this.primaryToolbar.selectItem(this.primaryToolbar.formDesignerItem),this.pdfViewer.isFormDesignerToolbarVisible=!0):(this.toolbarElement.style.display="none",this.isToolbarHidden=!0,this.pdfViewer.isAnnotationToolbarVisible||this.adjustViewer(!0),this.primaryToolbar.deSelectItem(this.primaryToolbar.formDesignerItem),this.pdfViewer.isFormDesignerToolbarVisible=!1)},e.prototype.showFormDesignerToolbar=function(e,t){if(this.isToolbarHidden){var i=this.toolbarElement.style.display;if(this.toolbarElement.style.display="block",this.pdfViewer.designerMode=!0,this.pdfViewer.formDesignerModule.setMode("designer"),t||(this.pdfViewer.isFormDesignerToolbarVisible=!0),e?this.primaryToolbar.selectItem(e):this.pdfViewer.enableToolbar&&this.primaryToolbar.selectItem(this.primaryToolbar.formDesignerItem),"none"===i&&this.adjustViewer(!0),this.pdfViewer.formFieldCollection)this.pdfViewer.formFieldCollection.filter((function(e){return"Textbox"===e.formFieldAnnotationType&&e.isMultiline})).forEach((function(e){var t=document.getElementById(e.id);t&&(t.style.pointerEvents="auto",t.style.resize="auto")}))}else{if(e?this.primaryToolbar.deSelectItem(e):this.pdfViewer.enableToolbar&&this.primaryToolbar.deSelectItem(this.primaryToolbar.formDesignerItem),this.adjustViewer(!1),this.pdfViewer.formFieldCollection)this.pdfViewer.formFieldCollection.filter((function(e){return"Textbox"===e.formFieldAnnotationType&&e.isMultiline})).forEach((function(e){var t=document.getElementById(e.id);t&&(t.style.pointerEvents="none",t.style.resize="none")}));this.toolbarElement.style.display="none",this.pdfViewer.formDesignerModule.setMode("edit"),this.pdfViewer.designerMode=!1,t||(this.pdfViewer.isFormDesignerToolbarVisible=!1)}this.pdfViewer.magnification&&"fitToPage"===this.pdfViewer.magnification.fitType&&this.pdfViewer.magnification.fitToPage(),this.isToolbarHidden=!this.isToolbarHidden},e.prototype.adjustViewer=function(e){var i,n,o;if((0,t.isBlazor)()){i=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar-splitter"),n=this.pdfViewer.element.querySelector(".e-pv-toolbar");var r=this.pdfViewer.element.querySelector(".e-pv-formDesigner-toolbar");o=this.getToolbarHeight(r)}else i=this.pdfViewerBase.getElement("_sideBarToolbarSplitter"),n=this.pdfViewerBase.getElement("_toolbarContainer"),o=this.getToolbarHeight(this.toolbarElement);var a=this.getToolbarHeight(n),s=this.pdfViewerBase.navigationPane.sideBarToolbar,l=this.pdfViewerBase.navigationPane.sideBarContentContainer,d=this.pdfViewerBase.navigationPane.commentPanelContainer,h=this.pdfViewerBase.navigationPane.commentPanelResizer,A="";e?(this.pdfViewer.enableToolbar?(s.style.top=a+o+"px",l.style.top=a+o+"px",i.style.top=a+o+"px",d.style.top=a+o+"px",h.style.top=a+o+"px"):(s.style.top=o+"px",l.style.top=o+"px",i.style.top=o+"px",d.style.top=o+"px",h.style.top=a+o+"px"),this.pdfViewer.enableToolbar||(a=0),this.pdfViewerBase.viewerContainer.style.height=this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),o+a)+"px",A=this.getNavigationToolbarHeight(o+a),s.style.height=A,i.style.height=A,h.style.height=A,l.style.height=A):(this.pdfViewer.enableToolbar?(s.style.top=a+"px",l.style.top=a+"px",i.style.top=a+"px",d.style.top=a+"px",h.style.top=a+"px"):(s.style.top="1px",s.style.height="100%",l.style.top="1px",l.style.height="100%",i.style.top="1px",i.style.height="100%",d.style.top="1px",d.style.height="100%",h.style.top="1px",h.style.height="100%"),this.pdfViewer.enableToolbar||(a=0),this.pdfViewerBase.viewerContainer.style.height=this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),o)+"px",A=this.getNavigationToolbarHeight(a),s.style.height=A,i.style.height=A,h.style.height=A,l.style.height=A,"0px"===this.pdfViewerBase.viewerContainer.style.height&&(this.pdfViewerBase.viewerContainer.style.height=parseInt(this.pdfViewer.element.style.height,10)-parseInt(s.style.top,10)+"px"))},e.prototype.getElementHeight=function(e){try{return e.getBoundingClientRect().height}catch(e){return 0}},e.prototype.updateViewerHeight=function(e,t){return this.getElementHeight(this.pdfViewer.element)-t},e.prototype.resetViewerHeight=function(e,t){return e+t},e.prototype.getNavigationToolbarHeight=function(e){var t=this.pdfViewer.element.getBoundingClientRect().height;return 0!==t?t-e+"px":""},e.prototype.updateContentContainerHeight=function(e,t){var i;if(t){var n=this.pdfViewer.element.querySelector(".e-pv-formDesigner-toolbar");i=this.getToolbarHeight(n)}else i=this.getToolbarHeight(this.toolbarElement);var o=this.pdfViewerBase.navigationPane.sideBarContentContainer.getBoundingClientRect();0!==o.height&&(this.pdfViewerBase.navigationPane.sideBarContentContainer.style.height=e?o.height-i+"px":o.height+i+"px")},e.prototype.getToolbarHeight=function(e){var t=e.getBoundingClientRect().height;return 0===t&&e===this.pdfViewerBase.getElement("_toolbarContainer")&&(t=parseFloat(window.getComputedStyle(e).height)+this.toolbarBorderHeight),t},e.prototype.createToolbarItems=function(){var e=this.getTemplate("button","_formfield_signature","e-pv-annotation-handwritten-container"),t=[];return t.push({prefixIcon:"e-pv-textbox-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_textbox",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-password-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_passwordfield",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-checkbox-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_checkbox",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-radiobutton-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_radiobutton",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-dropdown-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_dropdown",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-listbox-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_formdesigner_listbox",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({template:e,align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({type:"Separator",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-annotation-delete-icon e-pv-icon",className:"e-pv-annotation-delete-container",id:this.pdfViewer.element.id+"_formdesigner_delete",align:"Left",attr:{tabindex:0,"data-tabindex":0}}),t.push({prefixIcon:"e-pv-annotation-tools-close-icon e-pv-icon",className:"e-pv-annotation-tools-close-container",id:this.pdfViewer.element.id+"_formdesigner_close",align:"Right",attr:{tabindex:0,"data-tabindex":0}}),t},e.prototype.createSignContainer=function(){var e=this;this.handWrittenSignatureItem=this.pdfViewerBase.getElement("_formfield_signature"),this.handWrittenSignatureItem.setAttribute("tabindex","0"),this.handWrittenSignatureItem.setAttribute("data-tabindex","0"),this.primaryToolbar.createTooltip(this.pdfViewerBase.getElement("_formfield_signature"),this.pdfViewer.localeObj.getConstant("HandwrittenSignatureDialogHeaderText"));var i={items:[{text:"ADD SIGNATURE"},{separator:!0},{text:"ADD INITIAL"}],iconCss:"e-pv-handwritten-icon e-pv-icon",cssClass:"e-pv-handwritten-popup",beforeItemRender:function(i){var n;(e.pdfViewer.clearSelection(e.pdfViewerBase.currentPageNumber-1),i.element&&-1!==i.element.className.indexOf("e-separator")&&(i.element.style.margin="8px 0",i.element.setAttribute("role","menuitem"),i.element.setAttribute("aria-label","separator")),"ADD SIGNATURE"===i.item.text)&&(i.element.innerHTML="",(n=(0,t.createElement)("button")).classList.add("e-control","e-btn","e-lib","e-outline","e-primary"),n.textContent=e.pdfViewer.localeObj.getConstant("SignatureFieldDialogHeaderText"),"en-US"===e.pdfViewer.locale?n.style.width="130px":n.style.width="auto",n.style.height="36px",n.addEventListener("click",e.clickSignature.bind(e)),i.element.appendChild(n),i.element.addEventListener("mouseover",e.hoverInitialBtn.bind(e)),i.element.style.width="206px",i.element.style.display="flex",i.element.style.flexDirection="column",i.element.style.height="auto",i.element.style.alignItems="center",i.element.setAttribute("role","menuitem"));"ADD INITIAL"===i.item.text&&(i.element.innerHTML="",(n=(0,t.createElement)("button")).classList.add("e-control","e-btn","e-lib","e-outline","e-primary"),n.textContent=e.pdfViewer.localeObj.getConstant("InitialFieldDialogHeaderText"),"en-US"===e.pdfViewer.locale?n.style.width="130px":n.style.width="auto",n.style.height="36px",n.addEventListener("click",e.clickInitial.bind(e)),i.element.appendChild(n),i.element.addEventListener("mouseover",e.hoverInitialBtn.bind(e)),i.element.style.width="206px",i.element.style.display="flex",i.element.style.flexDirection="column",i.element.style.height="auto",i.element.style.alignItems="center",i.element.setAttribute("role","menuitem"))}},n=new Re.DropDownButton(i);this.pdfViewer.enableRtl&&(n.enableRtl=this.pdfViewer.enableRtl),n.appendTo(this.handWrittenSignatureItem)},e.prototype.hoverInitialBtn=function(e){var i=e.target,n=(0,t.isNullOrUndefined)(e.path)?e.composedPath()[0].id:e.path[0].id;if(n!=="sign_"+n.split("_")[1]&&n!=="delete_"+n.split("_")[1]){var o=document.getElementById(i.id);(0,t.isNullOrUndefined)(o)&&(o=document.getElementById(i.parentElement.id)),null==o||i.id==="sign_"+i.id.split("_")[1]&&i.id==="sign_border_"+i.id.split("_")[2]?null==o.parentElement||i.id==="sign_"+i.id.split("_")[1]&&i.id==="sign_border_"+i.id.split("_")[2]||(o.parentElement.style.background="transparent",o.parentElement.style.cursor="default"):(o.style.background="transparent",o.style.cursor="default")}},e.prototype.getTemplate=function(e,i,n){var o=(0,t.createElement)(e,{id:this.pdfViewer.element.id+i});return n&&(o.className=n),o.outerHTML},e.prototype.onToolbarClicked=function(e){e&&e.item&&(-1!==e.item.id.indexOf("textbox")?this.pdfViewer.formDesignerModule.setFormFieldMode("Textbox"):-1!==e.item.id.indexOf("passwordfield")?this.pdfViewer.formDesignerModule.setFormFieldMode("Password"):-1!==e.item.id.indexOf("checkbox")?this.pdfViewer.formDesignerModule.setFormFieldMode("CheckBox"):-1!==e.item.id.indexOf("radiobutton")?this.pdfViewer.formDesignerModule.setFormFieldMode("RadioButton"):-1!==e.item.id.indexOf("dropdown")?this.pdfViewer.formDesignerModule.setFormFieldMode("DropDown"):-1!==e.item.id.indexOf("listbox")?this.pdfViewer.formDesignerModule.setFormFieldMode("ListBox"):-1!==e.item.id.indexOf("signature")?this.pdfViewer.formDesignerModule.setFormFieldMode("SignatureField"):-1!==e.item.id.indexOf("close")?this.pdfViewer.toolbarModule.formDesignerToolbarModule.showFormDesignerToolbar(this.pdfViewer.toolbarModule.formDesignerItem):-1!==e.item.id.indexOf("delete")&&(this.pdfViewer.formDesignerModule.deleteFormField(this.pdfViewer.selectedItems.formFields[0]),this.showHideDeleteIcon(!1)),this.pdfViewer.selectedItems.formFields.length>0&&this.pdfViewer.clearSelection(this.pdfViewer.selectedItems.formFields[0].pageIndex))},e.prototype.clickSignature=function(e){this.pdfViewer.formDesignerModule.setFormFieldMode("SignatureField")},e.prototype.clickInitial=function(e){this.pdfViewer.isInitialFieldToolbarSelection=!0,this.pdfViewer.formDesignerModule.setFormFieldMode("InitialField"),this.pdfViewer.isInitialFieldToolbarSelection=!1},e.prototype.afterToolbarCreation=function(){this.textboxItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_textbox","e-pv-formdesigner-textbox",this.pdfViewer.localeObj.getConstant("Textbox")),this.textboxItem.setAttribute("tabindex","0"),this.textboxItem.setAttribute("data-tabindex","0"),this.passwordItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_passwordfield","e-pv-formdesigner-passwordfield",this.pdfViewer.localeObj.getConstant("Password")),this.passwordItem.setAttribute("tabindex","0"),this.passwordItem.setAttribute("data-tabindex","0"),this.checkboxItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_checkbox","e-pv-formdesigner-checkbox",this.pdfViewer.localeObj.getConstant("Check Box")),this.checkboxItem.setAttribute("tabindex","0"),this.checkboxItem.setAttribute("data-tabindex","0"),this.radioButtonItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_radiobutton","e-pv-formdesigner-radiobutton",this.pdfViewer.localeObj.getConstant("Radio Button")),this.radioButtonItem.setAttribute("tabindex","0"),this.radioButtonItem.setAttribute("data-tabindex","0"),this.dropdownItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_dropdown","e-pv-formdesigner-dropdown",this.pdfViewer.localeObj.getConstant("Dropdown")),this.dropdownItem.setAttribute("tabindex","0"),this.dropdownItem.setAttribute("data-tabindex","0"),this.listboxItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_listbox","e-pv-formdesigner-listbox",this.pdfViewer.localeObj.getConstant("List Box")),this.listboxItem.setAttribute("tabindex","0"),this.listboxItem.setAttribute("data-tabindex","0"),this.deleteItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_delete","e-pv-formdesigner-delete",this.pdfViewer.localeObj.getConstant("Delete FormField")),this.closeItem=this.primaryToolbar.addClassToolbarItem("_formdesigner_close","e-pv-annotation-tools-close",null),this.closeItem.setAttribute("tabindex","0"),this.closeItem.setAttribute("data-tabindex","0"),this.showHideDeleteIcon(!1)},e.prototype.showHideDeleteIcon=function(e){this.toolbar&&(this.toolbar.enableItems(this.deleteItem.parentElement,e),this.deleteItem.setAttribute("tabindex",e?"0":"-1"),this.deleteItem.setAttribute("data-tabindex",e?"0":"-1"))},e.prototype.applyFormDesignerToolbarSettings=function(){this.pdfViewer.toolbarSettings.formDesignerToolbarItems&&(-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("TextboxTool")?this.showTextboxTool(!0):this.showTextboxTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("PasswordTool")?this.showPasswordTool(!0):this.showPasswordTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("CheckBoxTool")?this.showCheckboxTool(!0):this.showCheckboxTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("RadioButtonTool")?this.showRadioButtonTool(!0):this.showRadioButtonTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("DropdownTool")?this.showDropdownTool(!0):this.showDropdownTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("ListboxTool")?this.showListboxTool(!0):this.showListboxTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("DrawSignatureTool")?this.showDrawSignatureTool(!0):this.showDrawSignatureTool(!1),-1!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.indexOf("DeleteTool")?this.showDeleteTool(!0):this.showDeleteTool(!1),this.showSeparator())},e.prototype.showTextboxTool=function(e){this.isTextboxBtnVisible=e,this.applyHideToToolbar(e,0,0)},e.prototype.showPasswordTool=function(e){this.isPasswordBtnVisible=e,this.applyHideToToolbar(e,1,1)},e.prototype.showCheckboxTool=function(e){this.isCheckboxBtnVisible=e,this.applyHideToToolbar(e,2,2)},e.prototype.showRadioButtonTool=function(e){this.isRadiobuttonBtnVisible=e,this.applyHideToToolbar(e,3,3)},e.prototype.showDropdownTool=function(e){this.isDropdownBtnVisible=e,this.applyHideToToolbar(e,4,4)},e.prototype.showListboxTool=function(e){this.isListboxBtnVisible=e,this.applyHideToToolbar(e,5,5)},e.prototype.showDrawSignatureTool=function(e){this.isSignatureBtnVisible=e,this.applyHideToToolbar(e,6,6)},e.prototype.showDeleteTool=function(e){this.isDeleteBtnVisible=e,this.applyHideToToolbar(e,8,8)},e.prototype.showSeparator=function(){this.isSignatureBtnVisible||this.isDeleteBtnVisible||this.applyHideToToolbar(!1,7,7)},e.prototype.applyHideToToolbar=function(e,t,i){for(var n=!e,o=t;o<=i;o++)this.toolbar.hideItem(o,n)},e.prototype.destroy=function(){for(var e=[this.textboxItem,this.passwordItem,this.checkboxItem,this.radioButtonItem,this.listboxItem,this.dropdownItem,this.handWrittenSignatureItem,this.deleteItem],t=0;t<e.length;t++)e[parseInt(t.toString(),10)]&&this.destroyDependentComponent(e[parseInt(t.toString(),10)])},e.prototype.destroyDependentComponent=function(e){if(e.ej2_instances)for(var t=e.ej2_instances.length-1;t>=0;t--)e.ej2_instances[parseInt(t.toString(),10)].destroy()},e}(),wd=function(){function e(e,i){var n=this;this.isPageNavigationToolDisabled=!1,this.isMagnificationToolDisabled=!1,this.isSelectionToolDisabled=!1,this.isScrollingToolDisabled=!1,this.isOpenBtnVisible=!0,this.isNavigationToolVisible=!0,this.isMagnificationToolVisible=!0,this.isSelectionBtnVisible=!0,this.isScrollingBtnVisible=!0,this.isDownloadBtnVisible=!0,this.isPrintBtnVisible=!0,this.isSearchBtnVisible=!0,this.isTextSearchBoxDisplayed=!1,this.isUndoRedoBtnsVisible=!0,this.isAnnotationEditBtnVisible=!0,this.isFormDesignerEditBtnVisible=!0,this.isCommentBtnVisible=!0,this.isSubmitbtnvisible=!0,this.toolItems=[],this.itemsIndexArray=[],this.onToolbarKeydown=function(e){var t="Tab"===e.key||!0===e.shiftKey||"Enter"===e.key||" "===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key,i=e.target.id,o=n.toolItems.filter((function(e){return e.id===i}));i===n.pdfViewer.element.id+"_currentPageInput"||i===n.pdfViewer.element.id+"_zoomDropDown"||o.length>0||t||(e.preventDefault(),e.stopPropagation())},this.toolbarClickHandler=function(e){var i=e.originalEvent&&"mouse"!==e.originalEvent.pointerType&&"touch"!==e.originalEvent.pointerType;if(!t.Browser.isDevice||n.pdfViewer.enableDesktopMode)if(e.originalEvent.target===n.zoomDropdownItem.parentElement.childNodes[1]||e.originalEvent.target===n.zoomDropdownItem.parentElement.childNodes[2])e.cancel=!0;else if(e.originalEvent.target.id===n.pdfViewer.element.id+"_openIcon"){var o=e.originalEvent.target.parentElement.dataset;if(o&&o.tooltipId){var r=document.getElementById(o.tooltipId);r&&(r.style.display="none")}}n.handleToolbarBtnClick(e,i);var a=e.originalEvent.target,s=[];(0,t.isNullOrUndefined)(e.item)||(s=n.toolItems.filter((function(t){return t.id===e.item.id}))),(!t.Browser.isDevice||n.pdfViewer.enableDesktopMode)&&(e.originalEvent.target===n.zoomDropdownItem.parentElement.childNodes[1]||e.originalEvent.target===n.zoomDropdownItem.parentElement.childNodes[2]||e.originalEvent.target===n.currentPageBoxElement||e.originalEvent.target===n.textSearchItem.childNodes[0]||s.length>0||i||a.parentElement.id===n.pdfViewer.element.id+"_toolbarContainer_nav"||a.id===n.pdfViewer.element.id+"_toolbarContainer_nav")||(e.originalEvent.target.blur(),n.pdfViewerBase.focusViewerContainer())},this.loadDocument=function(e){var i=e.target.files;if(null!==e.target.files[0]){var o=i[0];if(o){n.uploadedDocumentName=o.name;var r=new FileReader;n.pdfViewerBase.clientSideRendering?r.readAsArrayBuffer(o):r.readAsDataURL(o),r.onload=function(i){e.target.value=null;var o=i.currentTarget.result;n.pdfViewer.uploadedFileByteArray=new Uint8Array(o),(0,t.isBlazor)()?n.pdfViewer._dotnetInstance.invokeMethodAsync("LoadDocumentFromClient",o):n.pdfViewerBase.clientSideRendering?(n.uploadedFile=n.pdfViewer.uploadedFileByteArray,n.pdfViewer.load(n.pdfViewer.uploadedFileByteArray,null),n.pdfViewerBase.isSkipDocumentPath=!0,n.pdfViewer.documentPath=n.pdfViewer.uploadedFileByteArray,n.pdfViewerBase.documentPathByteArray=n.pdfViewer.documentPath):(n.uploadedFile=o,n.pdfViewer.load(o,null),n.pdfViewerBase.isSkipDocumentPath=!0,n.pdfViewer.documentPath=o,n.pdfViewerBase.documentPathByteArray=n.pdfViewer.documentPath),(0,t.isNullOrUndefined)(n.fileInputElement)||(n.fileInputElement.value="")}}}},this.navigateToPage=function(e){if(13===e.which){var t=parseInt(n.currentPageBoxElement.value,10);null!==t&&t>0&&t<=n.pdfViewerBase.pageCount?n.pdfViewer.navigationModule&&n.pdfViewer.navigationModule.goToPage(t):n.updateCurrentPage(n.pdfViewerBase.currentPageNumber),n.currentPageBoxElement.blur(),n.pdfViewerBase.focusViewerContainer()}},this.textBoxFocusOut=function(){(null===n.currentPageBox.value||n.currentPageBox.value>=n.pdfViewerBase.pageCount||n.currentPageBox.value!==n.pdfViewerBase.currentPageNumber)&&n.updateCurrentPage(n.pdfViewerBase.currentPageNumber)},this.pdfViewer=e,this.pdfViewerBase=i}return e.prototype.intializeToolbar=function(e){var i;return(0,t.isBlazor)()?t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(i=this.pdfViewer.element.querySelector(".e-pv-toolbar"),this.toolbarElement=i):i=this.createToolbar(e),!!document.documentMode&&((0,t.isBlazor)()?this.pdfViewerBase.blazorUIAdaptor.totalPageElement.classList.add("e-pv-total-page-ms"):t.Browser.isDevice||this.totalPageItem.classList.add("e-pv-total-page-ms")),this.createFileElement(i),this.wireEvent(),(0,t.isBlazor)()?(t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.initialEnableItems(),this.pdfViewerBase.navigationPane.adjustPane(),this.pdfViewer.enableToolbar&&this.bindOpenIconEvent()),this.PanElement=document.getElementById(this.pdfViewer.element.id+"_handTool").children[0],this.PanElement.classList.add("e-pv-tbar-btn"),this.SelectToolElement=document.getElementById(this.pdfViewer.element.id+"_selectTool").children[0],this.SelectToolElement.classList.add("e-pv-tbar-btn"),this.CommentElement=document.getElementById(this.pdfViewer.element.id+"_comment").children[0],this.CommentElement.classList.add("e-pv-tbar-btn"),this.annotationToolbarModule=new Sd(this.pdfViewer,this.pdfViewerBase,this),(this.pdfViewer.enableToolbar&&this.pdfViewer.enableAnnotationToolbar||this.pdfViewer.enableDesktopMode&&t.Browser.isDevice)&&this.annotationToolbarModule.afterAnnotationToolbarCreationInBlazor()):(this.updateToolbarItems(),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?(this.applyToolbarSettings(),this.initialEnableItems(),this.pdfViewerBase.navigationPane.adjustPane()):this.initialEnableItems(),this.pdfViewer.annotationModule&&(this.annotationToolbarModule=new Sd(this.pdfViewer,this.pdfViewerBase,this),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||this.annotationToolbarModule.initializeAnnotationToolbar()),this.pdfViewer.formDesignerModule&&(this.formDesignerToolbarModule=new md(this.pdfViewer,this.pdfViewerBase,this),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||this.formDesignerToolbarModule.initializeFormDesignerToolbar())),i},e.prototype.bindOpenIconEvent=function(){var e=document.getElementById(this.pdfViewer.element.id+"_open");e&&e.addEventListener("click",this.openFileDialogBox.bind(this))},e.prototype.InitializeMobileToolbarInBlazor=function(){var e=this.pdfViewer.element.querySelector(".e-pv-mobile-toolbar");this.createFileElement(e),this.wireEvent()},e.prototype.showToolbar=function(e){var i;if((0,t.isNullOrUndefined)(this.toolbarElement)||(i=this.toolbarElement),e){(0,t.isNullOrUndefined)(i)||this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.isNavigationToolbarVisible||(i.style.display="block");var n=this.pdfViewerBase.getElement("_toolbarContainer");if(n){var o=n.clientHeight;0===o&&(o=parseFloat(window.getComputedStyle(n).height)+1),this.pdfViewerBase.toolbarHeight=o}t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar()}else this.pdfViewerBase.toolbarHeight=0,e&&(t.Browser.isDevice&&this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar&&(this.annotationToolbarModule.toolbarCreated=!1,this.annotationToolbarModule.adjustMobileViewer(),this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.element.style.display="none"),t.Browser.isDevice&&this.annotationToolbarModule.propertyToolbar&&(this.annotationToolbarModule.propertyToolbar.element.style.display="none")),(0,t.isNullOrUndefined)(i)||(i.style.display="none")},e.prototype.showNavigationToolbar=function(e){if(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode){var i=this.pdfViewerBase.navigationPane.sideBarToolbar,n=this.pdfViewerBase.navigationPane.sideBarToolbarSplitter;e?((0,t.isNullOrUndefined)(i)||(i.style.display="block"),(0,t.isNullOrUndefined)(n)||(n.style.display="block"),(this.pdfViewerBase.navigationPane.isBookmarkOpen||this.pdfViewerBase.navigationPane.isThumbnailOpen)&&this.pdfViewerBase.navigationPane.clear()):((0,t.isNullOrUndefined)(i)||(i.style.display="none"),(0,t.isNullOrUndefined)(n)||(n.style.display="none"),(this.pdfViewerBase.navigationPane.isBookmarkOpen||this.pdfViewerBase.navigationPane.isThumbnailOpen)&&this.pdfViewerBase.navigationPane.updateViewerContainerOnClose())}},e.prototype.showAnnotationToolbar=function(e){e?(this.annotationToolbarModule.isToolbarHidden=!0,this.annotationToolbarModule.showAnnotationToolbar(null,!1,!0)):(this.annotationToolbarModule.isToolbarHidden=!1,this.annotationToolbarModule.showAnnotationToolbar(null,!1,!1))},e.prototype.showToolbarItem=function(e,i){for(var n=0;n<e.length;n++)switch(e[parseInt(n.toString(),10)]){case"OpenOption":this.showOpenOption(i);break;case"PageNavigationTool":this.showPageNavigationTool(i);break;case"MagnificationTool":this.showMagnificationTool(i);break;case"SelectionTool":this.showSelectionTool(i);break;case"PanTool":this.showScrollingTool(i);break;case"DownloadOption":this.showDownloadOption(i);break;case"PrintOption":this.showPrintOption(i);break;case"SearchOption":this.showSearchOption(i);break;case"UndoRedoTool":this.showUndoRedoTool(i);break;case"AnnotationEditTool":this.showAnnotationEditTool(i);break;case"FormDesignerEditTool":this.showFormDesignerEditTool(i);break;case"CommentTool":this.showCommentOption(i);break;case"SubmitForm":this.showSubmitForm(i)}!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?(this.applyHideToToolbar(!0,this.itemsIndexArray[0].endIndex+1,this.itemsIndexArray[0].endIndex+1),this.applyHideToToolbar(!0,this.itemsIndexArray[1].endIndex+1,this.itemsIndexArray[1].endIndex+1),this.applyHideToToolbar(!0,this.itemsIndexArray[2].endIndex+1,this.itemsIndexArray[2].endIndex+1),this.applyHideToToolbar(!0,this.itemsIndexArray[4].endIndex+1,this.itemsIndexArray[4].endIndex+1),this.applyHideToToolbar(!0,this.itemsIndexArray[5].endIndex+1,this.itemsIndexArray[5].endIndex+1)):(this.applyHideToToolbar(!0,1,1),this.applyHideToToolbar(!0,8,8),this.applyHideToToolbar(!0,12,12),this.applyHideToToolbar(!0,15,15)),this.showSeparator(e)},e.prototype.enableToolbarItem=function(e,t){for(var i=0;i<e.length;i++)switch(e[parseInt(i.toString(),10)]){case"OpenOption":this.enableOpenOption(t);break;case"PageNavigationTool":this.isPageNavigationToolDisabled=t,this.enablePageNavigationTool(t);break;case"MagnificationTool":this.isMagnificationToolDisabled=t,this.enableMagnificationTool(t);break;case"SelectionTool":this.isSelectionToolDisabled=t,this.enableSelectionTool(t);break;case"PanTool":this.isScrollingToolDisabled=t,this.enableScrollingTool(t);break;case"DownloadOption":this.enableDownloadOption(t);break;case"PrintOption":this.enablePrintOption(t);break;case"SearchOption":this.enableSearchOption(t);break;case"UndoRedoTool":this.enableUndoRedoTool(t);break;case"AnnotationEditTool":this.enableAnnotationEditTool(t);break;case"FormDesignerEditTool":this.enableFormDesignerEditTool(t);break;case"CommentTool":this.enableCommentsTool(t);break;case"OrganizePagesTool":this.enableOrganizePagesButton(t)}},e.prototype.DisableToolbarItems=function(e,t){switch(e){case"Print":this.enablePrintOption(t);break;case"CopyContent":this.isSelectionToolDisabled=t,this.enableSelectionTool(t),t?(this.pdfViewerBase.initiateTextSelectMode(),this.updateInteractionTools(t)):(this.pdfViewerBase.initiatePanning(),this.updateInteractionTools(t));break;case"EditAnnotations":this.enableAnnotationEditTool(t),this.annotationToolbarModule&&!this.annotationToolbarModule.isToolbarHidden&&this.annotationToolbarModule.showAnnotationToolbar()}},e.prototype.showOpenOption=function(e){this.isOpenBtnVisible=e,this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[0])?0:this.itemsIndexArray[0].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[0])?0:this.itemsIndexArray[0].endIndex)},e.prototype.showPageNavigationTool=function(e){this.isNavigationToolVisible=e,this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[1])?2:this.itemsIndexArray[1].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[1])?7:this.itemsIndexArray[1].endIndex)},e.prototype.showMagnificationTool=function(e){this.isMagnificationToolVisible=e,this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[2])?9:this.itemsIndexArray[2].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[2])?11:this.itemsIndexArray[2].endIndex)},e.prototype.showSelectionTool=function(e){this.isSelectionBtnVisible=e,this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[3])?13:this.itemsIndexArray[3].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[3])?13:this.itemsIndexArray[3].endIndex)},e.prototype.showScrollingTool=function(e){this.isScrollingBtnVisible=e,this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[4])?14:this.itemsIndexArray[4].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[4])?14:this.itemsIndexArray[4].endIndex)},e.prototype.showDownloadOption=function(e){this.isDownloadBtnVisible=e,!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[12])?26:this.itemsIndexArray[12].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[12])?26:this.itemsIndexArray[12].endIndex):this.applyHideToToolbar(e,6,6)},e.prototype.showPageOrganizerToolbar=function(e){t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&this.applyHideToToolbar(e,4,4)},e.prototype.showPrintOption=function(e){this.isPrintBtnVisible=e,this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[11])?25:this.itemsIndexArray[11].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[11])?25:this.itemsIndexArray[11].endIndex)},e.prototype.showSearchOption=function(e){this.isSearchBtnVisible=e,!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[8])?22:this.itemsIndexArray[8].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[8])?22:this.itemsIndexArray[8].endIndex):this.applyHideToToolbar(e,6,6)},e.prototype.showUndoRedoTool=function(e){this.isUndoRedoBtnsVisible=e,!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[5])?16:this.itemsIndexArray[5].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[5])?17:this.itemsIndexArray[5].endIndex):this.applyHideToToolbar(e,2,3)},e.prototype.showCommentOption=function(e){this.pdfViewer.enableStickyNotesAnnotation?(this.isCommentBtnVisible=e,this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[6])?18:this.itemsIndexArray[6].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[6])?19:this.itemsIndexArray[6].endIndex)):(this.isCommentBtnVisible=e,this.applyHideToToolbar(this.pdfViewer.enableStickyNotesAnnotation,(0,t.isNullOrUndefined)(this.itemsIndexArray[6])?18:this.itemsIndexArray[6].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[6])?19:this.itemsIndexArray[6].endIndex))},e.prototype.showAnnotationEditTool=function(e){this.isAnnotationEditBtnVisible=e,!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[9])?23:this.itemsIndexArray[9].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[9])?23:this.itemsIndexArray[9].endIndex):this.applyHideToToolbar(e,5,5)},e.prototype.showFormDesignerEditTool=function(e){this.isFormDesignerEditBtnVisible=e,this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[10])?24:this.itemsIndexArray[10].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[10])?24:this.itemsIndexArray[10].endIndex)},e.prototype.showSubmitForm=function(e){this.isSubmitbtnvisible=e,this.applyHideToToolbar(e,(0,t.isNullOrUndefined)(this.itemsIndexArray[7])?20:this.itemsIndexArray[7].startIndex,(0,t.isNullOrUndefined)(this.itemsIndexArray[7])?21:this.itemsIndexArray[7].endIndex)},e.prototype.enableOpenOption=function(e){this.enableItems(this.openDocumentItem.parentElement,e)},e.prototype.enablePageNavigationTool=function(e){this.enableItems(this.firstPageItem.parentElement,e),this.enableItems(this.previousPageItem.parentElement,e),this.enableItems(this.nextPageItem.parentElement,e),this.enableItems(this.lastPageItem.parentElement,e),this.currentPageBox.readonly=!e},e.prototype.enableMagnificationTool=function(e){this.enableItems(this.zoomInItem.parentElement,e),this.enableItems(this.zoomOutItem.parentElement,e),this.zoomDropDown.readonly=!e},e.prototype.enableSelectionTool=function(e){this.textSelectItem&&this.textSelectItem.parentElement&&this.enableItems(this.textSelectItem.parentElement,e)},e.prototype.enableScrollingTool=function(e){this.enableItems(this.panItem.parentElement,e)},e.prototype.enableDownloadOption=function(e){this.enableItems(this.downloadItem.parentElement,e)},e.prototype.enablePrintOption=function(e){this.enableItems(this.printItem.parentElement,e)},e.prototype.enableSearchOption=function(e){this.enableItems(this.textSearchItem.parentElement,e)},e.prototype.enableUndoRedoTool=function(e){this.enableItems(this.undoItem.parentElement,e),this.enableItems(this.redoItem.parentElement,e)},e.prototype.enableAnnotationEditTool=function(e){this.enableItems(this.annotationItem.parentElement,e)},e.prototype.enableFormDesignerEditTool=function(e){this.enableItems(this.formDesignerItem.parentElement,e)},e.prototype.enableCommentsTool=function(e){this.pdfViewer.enableStickyNotesAnnotation&&this.enableItems(this.annotationItem.parentElement,e)},e.prototype.enableOrganizePagesButton=function(e){(0,t.isNullOrUndefined)(this.organizePageItem)||(0,t.isNullOrUndefined)(this.organizePageItem.parentElement)||!this.pdfViewer.enablePageOrganizer||this.enableItems(this.organizePageItem.parentElement,e)},e.prototype.resetToolbar=function(){if(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode)if((0,t.isNullOrUndefined)(this.currentPageBox)||(this.currentPageBox.min=0,this.currentPageBox.value=0),this.updateTotalPage(),this.updateToolbarItems(),this.annotationToolbarModule)this.annotationToolbarModule.clear();else if(this.annotationToolbarModule){this.annotationToolbarModule.propertyToolbar&&this.annotationToolbarModule.propertyToolbar.destroy();var e=document.getElementById(this.pdfViewer.element.id+"_commentscontentcontainer");e&&(e.innerHTML="")}},e.prototype.updateToolbarItems=function(){if(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode){if(this.toolbar){if(0===this.pdfViewerBase.pageCount)this.enableItems(this.downloadItem.parentElement,!1),this.enableItems(this.printItem.parentElement,!1),this.enableItems(this.commentItem.parentElement,!1),this.updateUndoRedoButtons(),this.updateNavigationButtons(),this.enableItems(this.zoomInItem.parentElement,!1),this.enableItems(this.zoomOutItem.parentElement,!1),this.pdfViewer.magnificationModule&&(this.zoomDropDown.readonly=!0),this.enableItems(this.submitItem.parentElement,!1),this.toolbar.enableItems(this.pdfViewerBase.getElement("_currentPageInputContainer"),!1),this.enableItems(this.pdfViewerBase.getElement("_zoomDropDownContainer"),!1),this.enableItems(this.textSelectItem.parentElement,!1),this.enableItems(this.annotationItem.parentElement,!1),this.enableItems(this.formDesignerItem.parentElement,!1),this.enableItems(this.panItem.parentElement,!1),this.enableItems(this.textSearchItem.parentElement,!1),this.deSelectItem(this.annotationItem),this.annotationToolbarModule&&this.annotationToolbarModule.resetToolbar(),this.deSelectItem(this.formDesignerItem),this.formDesignerToolbarModule&&this.formDesignerToolbarModule.resetFormDesignerToolbar();else if(this.pdfViewerBase.pageCount>0){this.pdfViewerBase.getElement("_currentPageInputContainer")&&(this.enableItems(this.downloadItem.parentElement,!0),this.enableItems(this.printItem.parentElement,!0),this.toolbar.enableItems(this.pdfViewerBase.getElement("_currentPageInputContainer"),!0),this.enableItems(this.pdfViewerBase.getElement("_zoomDropDownContainer"),!0),this.updateUndoRedoButtons(),this.updateNavigationButtons(),this.updateZoomButtons(),this.pdfViewer.magnificationModule&&(this.zoomDropDown.readonly=!1),this.updateInteractionItems(),this.pdfViewer.annotationModule&&this.pdfViewer.enableAnnotation&&this.enableItems(this.annotationItem.parentElement,!0),this.pdfViewer.formDesignerModule&&this.pdfViewer.enableFormDesigner&&this.enableItems(this.formDesignerItem.parentElement,!0),this.pdfViewer.textSearchModule&&this.pdfViewer.enableTextSearch&&this.enableItems(this.textSearchItem.parentElement,!0),this.pdfViewer.annotationModule&&this.pdfViewer.enableStickyNotesAnnotation&&this.enableItems(this.commentItem.parentElement,!0))}this.pdfViewer.toolbarSettings.annotationToolbarItems&&(0!==this.pdfViewer.toolbarSettings.annotationToolbarItems.length&&this.pdfViewer.annotationModule&&this.pdfViewer.enableAnnotationToolbar||this.enableToolbarItem(["AnnotationEditTool"],!1)),this.pdfViewer.toolbarSettings.formDesignerToolbarItems&&(0!==this.pdfViewer.toolbarSettings.formDesignerToolbarItems.length&&this.pdfViewer.formDesignerModule&&this.pdfViewer.enableFormDesignerToolbar||this.enableToolbarItem(["FormDesignerEditTool"],!1)),this.pdfViewer.enableDownload||this.enableDownloadOption(!1),this.pdfViewer.enablePrint||this.enablePrintOption(!1)}}else if(0===this.pdfViewerBase.pageCount)this.enableItems(this.textSearchItem.parentElement,!1),this.enableItems(this.moreOptionItem.parentElement,!1),this.enableItems(this.annotationItem.parentElement,!1);else if(this.pdfViewerBase.pageCount>0&&(this.enableItems(this.textSearchItem.parentElement,!0),this.enableItems(this.moreOptionItem.parentElement,!0),this.pdfViewer.annotationModule&&this.pdfViewer.enableAnnotation&&this.enableItems(this.annotationItem.parentElement,!0),this.pdfViewer.annotationModule&&this.pdfViewer.enableAnnotationToolbar||this.enableToolbarItem(["AnnotationEditTool"],!1),this.updateUndoRedoButtons(),this.pdfViewer&&this.pdfViewer.element&&this.pdfViewer.element.id&&this.pdfViewer.isAnnotationToolbarOpen)){var e=this.pdfViewer.element.id+"_annotationIcon";this.annotationToolbarModule.createAnnotationToolbarForMobile(e)}},e.prototype.updateNavigationButtons=function(){this.pdfViewer.navigationModule&&!this.isPageNavigationToolDisabled?0===this.pdfViewerBase.pageCount||1===this.pdfViewerBase.currentPageNumber&&1===this.pdfViewerBase.pageCount?(this.enableItems(this.firstPageItem.parentElement,!1),this.enableItems(this.previousPageItem.parentElement,!1),this.enableItems(this.nextPageItem.parentElement,!1),this.enableItems(this.lastPageItem.parentElement,!1)):1===this.pdfViewerBase.currentPageNumber&&this.pdfViewerBase.pageCount>0?(this.enableItems(this.firstPageItem.parentElement,!1),this.enableItems(this.previousPageItem.parentElement,!1),this.enableItems(this.nextPageItem.parentElement,!0),this.enableItems(this.lastPageItem.parentElement,!0)):this.pdfViewerBase.currentPageNumber===this.pdfViewerBase.pageCount&&this.pdfViewerBase.pageCount>0?(this.enableItems(this.firstPageItem.parentElement,!0),this.enableItems(this.previousPageItem.parentElement,!0),this.enableItems(this.nextPageItem.parentElement,!1),this.enableItems(this.lastPageItem.parentElement,!1)):this.pdfViewerBase.currentPageNumber>1&&this.pdfViewerBase.currentPageNumber<this.pdfViewerBase.pageCount&&(this.enableItems(this.firstPageItem.parentElement,!0),this.enableItems(this.previousPageItem.parentElement,!0),this.enableItems(this.nextPageItem.parentElement,!0),this.enableItems(this.lastPageItem.parentElement,!0)):(this.enableItems(this.firstPageItem.parentElement,!1),this.enableItems(this.previousPageItem.parentElement,!1),this.enableItems(this.nextPageItem.parentElement,!1),this.enableItems(this.lastPageItem.parentElement,!1),this.currentPageBox.readonly=!0)},e.prototype.updateZoomButtons=function(){!this.pdfViewer.magnificationModule||this.isMagnificationToolDisabled||t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(null!=this.pdfViewer.minZoom||null!=this.pdfViewer.maxZoom?this.pdfViewer.magnificationModule.zoomFactor<=this.pdfViewer.minZoom/100?(this.enableItems(this.zoomInItem.parentElement,!0),this.enableItems(this.zoomOutItem.parentElement,!1)):this.pdfViewer.magnificationModule.zoomFactor>=this.pdfViewer.maxZoom/100?(this.enableItems(this.zoomInItem.parentElement,!1),this.enableItems(this.zoomOutItem.parentElement,!0)):(this.enableItems(this.zoomInItem.parentElement,!0),this.enableItems(this.zoomOutItem.parentElement,!0)):this.pdfViewer.magnificationModule.zoomFactor<=.1?(this.enableItems(this.zoomInItem.parentElement,!0),this.enableItems(this.zoomOutItem.parentElement,!1)):this.pdfViewer.magnificationModule.zoomFactor>=4?(this.enableItems(this.zoomInItem.parentElement,!1),this.enableItems(this.zoomOutItem.parentElement,!0)):(this.enableItems(this.zoomInItem.parentElement,!0),this.enableItems(this.zoomOutItem.parentElement,!0)))},e.prototype.updateUndoRedoButtons=function(){this.pdfViewer.annotationModule&&this.pdfViewerBase.pageCount>0?(0,t.isBlazor)()?(this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.actionCollection,"undo"),this.enableCollectionAvailableInBlazor(this.pdfViewer.annotationModule.redoCollection,"redo")):((0,t.isNullOrUndefined)(this.undoItem)||(0,t.isNullOrUndefined)(this.undoItem.parentElement)||this.enableCollectionAvailable(this.pdfViewer.annotationModule.actionCollection,this.undoItem.parentElement),(0,t.isNullOrUndefined)(this.redoItem)||(0,t.isNullOrUndefined)(this.redoItem.parentElement)||this.enableCollectionAvailable(this.pdfViewer.annotationModule.redoCollection,this.redoItem.parentElement)):(0,t.isBlazor)()?this.pdfViewerBase.blazorUIAdaptor.disableUndoRedoButton():this.disableUndoRedoButtons()},e.prototype.enableCollectionAvailable=function(e,t){e.length>0?this.toolbar.enableItems(t,!0):this.toolbar.enableItems(t,!1)},e.prototype.enableCollectionAvailableInBlazor=function(e,t){e.length>0?this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(t,!0):this.pdfViewerBase.blazorUIAdaptor.updateUndoRedoButton(t,!1)},e.prototype.disableUndoRedoButtons=function(){this.enableItems(this.undoItem.parentElement,!1),this.enableItems(this.redoItem.parentElement,!1)},e.prototype.destroy=function(){(0,t.isBlazor)()||(this.unWireEvent(),this.destroyComponent(),this.moreDropDown&&this.moreDropDown.destroy(),this.annotationToolbarModule&&this.annotationToolbarModule.destroy(),this.formDesignerToolbarModule&&this.formDesignerToolbarModule.destroy(),this.toolbar&&this.toolbar.destroy(),this.toolbarElement&&this.toolbarElement.parentElement.removeChild(this.toolbarElement))},e.prototype.destroyComponent=function(){for(var e=[this.openDocumentItem,this.firstPageItem,this.previousPageItem,this.nextPageItem,this.lastPageItem,this.currentPageBoxElement,this.zoomOutItem,this.zoomInItem,this.zoomDropdownItem,this.textSelectItem,this.panItem,this.submitItem,this.undoItem,this.redoItem,this.commentItem,this.textSearchItem,this.annotationItem,this.formDesignerItem,this.printItem,this.downloadItem],t=0;t<e.length;t++)e[parseInt(t.toString(),10)]&&this.destroyDependentComponent(e[parseInt(t.toString(),10)])},e.prototype.destroyDependentComponent=function(e){if(e.ej2_instances)for(var t=e.ej2_instances.length-1;t>=0;t--)e.ej2_instances[parseInt(t.toString(),10)].destroy()},e.prototype.updateCurrentPage=function(e){!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?((0,t.isBlazor)()?this.pdfViewerBase.blazorUIAdaptor.pageChanged(e):(0,t.isNullOrUndefined)(this.currentPageBox)||(this.currentPageBox.value===e&&(this.currentPageBoxElement.value=e.toString()),this.currentPageBox.value=e),this.pdfViewerBase.currentPageNumber=e,this.pdfViewer.currentPageNumber=e):(this.pdfViewerBase.mobileSpanContainer.innerHTML=e.toString(),this.pdfViewerBase.mobilecurrentPageContainer.innerHTML=e.toString())},e.prototype.updateTotalPage=function(){t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.pdfViewerBase.pageCount>0&&((0,t.isNullOrUndefined)(this.currentPageBox)||(this.currentPageBox.min=1)),(0,t.isNullOrUndefined)(this.totalPageItem)||(this.totalPageItem.textContent=this.pdfViewer.localeObj.getConstant("of")+this.pdfViewerBase.pageCount.toString()))},e.prototype.openFileDialogBox=function(e){e.preventDefault(),this.fileInputElement.click()},e.prototype.createToolbar=function(e){var i=this;return this.toolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_toolbarContainer",className:"e-pv-toolbar"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?(this.toolbar=new ai.Toolbar({clicked:this.toolbarClickHandler,width:"",height:"",overflowMode:"Popup",cssClass:"e-pv-toolbar-scroll",items:this.createToolbarItems(),created:function(){i.createZoomDropdown(),i.createNumericTextBox(),i.toolbar.refreshOverflow()}}),this.toolbar.isStringTemplate=!0,this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.toolbar.appendTo(this.toolbarElement),this.applyToolbarSettings(),this.afterToolbarCreation(),this.updateTotalPage(),this.toolbarElement.addEventListener("keydown",this.onToolbarKeydown),this.toolbarElement.setAttribute("aria-label","Toolbar")):(this.createToolbarItemsForMobile(),this.afterToolbarCreationInMobile(),this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.applyToolbarSettingsForMobile(),this.disableUndoRedoButtons()),this.toolbarElement},e.prototype.createCustomItem=function(e){for(var i=e;i<this.pdfViewer.toolbarSettings.toolbarItems.length&&"object"==typeof this.pdfViewer.toolbarSettings.toolbarItems[parseInt(i.toString(),10)];i++){var n=this.pdfViewer.toolbarSettings.toolbarItems[parseInt(i.toString(),10)];if((0,t.isNullOrUndefined)(n.prefixIcon)||""===n.prefixIcon||(n.prefixIcon+=" e-pv-icon"),((0,t.isNullOrUndefined)(n.prefixIcon)||""===n.prefixIcon)&&(0,t.isNullOrUndefined)(n.template)){var o=(0,t.isNullOrUndefined)(n.text)?"Custom Toolbar Item":n.text;n.template='<button id="Custom" class="e-tbar-btn" style="font-size:14px"><span>'+o+"</span></button>"}this.toolItems.push(n),((0,t.isNullOrUndefined)(n.align)||"left"===n.align||"Left"===n.align)&&this.toolItems.push({type:"Separator",align:"Left"})}},e.prototype.createToolbarItems=function(){for(var e=this.createCurrentPageInputTemplate(),t=this.createTotalPageTemplate(),i=this.createZoomDropdownElement(),n='<button id="'+this.pdfViewer.element.id+'_submitForm" class="e-tbar-btn" style="font-size:15px"><span id="'+this.pdfViewer.element.id+'_submitFormSpan" class="e-tbar-btn-text e-pv-submitform-text">'+this.pdfViewer.localeObj.getConstant("SubmitForm")+"</span></button>",o=["OpenOption","PageNavigationTool","MagnificationTool","SelectionTool","PanTool","UndoRedoTool","CommentTool","SubmitForm","SearchOption","AnnotationEditTool","FormDesignerEditTool","PrintOption","DownloadOption"],r=0;r<o.length;r++){switch(0===r&&this.createCustomItem(r),r){case 0:this.itemsIndexArray.push({item:"OpenOption",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-open-document-icon e-pv-icon",cssClass:"e-pv-open-document-container",id:this.pdfViewer.element.id+"_open",text:this.pdfViewer.localeObj.getConstant("Open text"),align:"Left"}),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-open-separator-container"});break;case 1:this.pdfViewer.enableRtl?(this.toolItems.push({prefixIcon:"e-pv-last-page-navigation-icon e-pv-icon",cssClass:"e-pv-last-page-navigation-container",id:this.pdfViewer.element.id+"_firstPage",text:this.pdfViewer.localeObj.getConstant("First text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-next-page-navigation-icon e-pv-icon",cssClass:"e-pv-next-page-navigation-container",id:this.pdfViewer.element.id+"_previousPage",text:this.pdfViewer.localeObj.getConstant("Previous text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-previous-page-navigation-icon e-pv-icon",cssClass:"e-pv-previous-page-navigation-container",id:this.pdfViewer.element.id+"_nextPage",text:this.pdfViewer.localeObj.getConstant("Next text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-first-page-navigation-icon e-pv-icon",cssClass:"e-pv-first-page-navigation-container",id:this.pdfViewer.element.id+"_lastPage",text:this.pdfViewer.localeObj.getConstant("Last text"),align:"Left"}),this.toolItems.push({template:t,align:"Left",cssClass:"e-pv-total-page-container"}),this.toolItems.push({template:e,align:"Left",cssClass:"e-pv-current-page-container"})):(this.itemsIndexArray.push({item:"PageNavigationTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length+5}),this.toolItems.push({prefixIcon:"e-pv-first-page-navigation-icon e-pv-icon",cssClass:"e-pv-first-page-navigation-container",id:this.pdfViewer.element.id+"_firstPage",text:this.pdfViewer.localeObj.getConstant("First text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-previous-page-navigation-icon e-pv-icon",cssClass:"e-pv-previous-page-navigation-container",id:this.pdfViewer.element.id+"_previousPage",text:this.pdfViewer.localeObj.getConstant("Previous text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-next-page-navigation-icon e-pv-icon",cssClass:"e-pv-next-page-navigation-container",id:this.pdfViewer.element.id+"_nextPage",text:this.pdfViewer.localeObj.getConstant("Next text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-last-page-navigation-icon e-pv-icon",cssClass:"e-pv-last-page-navigation-container",id:this.pdfViewer.element.id+"_lastPage",text:this.pdfViewer.localeObj.getConstant("Last text"),align:"Left"}),this.toolItems.push({template:e,align:"Left",cssClass:"e-pv-current-page-container"}),this.toolItems.push({template:t,align:"Left",cssClass:"e-pv-total-page-container"})),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-navigation-separator-container"});break;case 2:this.itemsIndexArray.push({item:"MagnificationTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length+2}),this.toolItems.push({prefixIcon:"e-pv-zoom-out-icon e-pv-icon",cssClass:"e-pv-zoom-out-container",id:this.pdfViewer.element.id+"_zoomOut",text:this.pdfViewer.localeObj.getConstant("Zoom out text"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-zoom-in-icon e-pv-icon",cssClass:"e-pv-zoom-in-container",id:this.pdfViewer.element.id+"_zoomIn",text:this.pdfViewer.localeObj.getConstant("Zoom in text"),align:"Left"}),this.toolItems.push({template:i,cssClass:"e-pv-zoom-drop-down-container",align:"Left"}),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-magnification-separator-container"});break;case 3:this.itemsIndexArray.push({item:"SelectionTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-text-select-tool-icon e-pv-icon",cssClass:"e-pv-text-select-tool-container",id:this.pdfViewer.element.id+"_selectTool",text:this.pdfViewer.localeObj.getConstant("Selection text")});break;case 4:this.itemsIndexArray.push({item:"PanTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-pan-tool-icon e-pv-icon",cssClass:"e-pv-pan-tool-container",id:this.pdfViewer.element.id+"_handTool",text:this.pdfViewer.localeObj.getConstant("Pan text")}),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-pan-separator-container"});break;case 5:this.itemsIndexArray.push({item:"UndoRedoTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length+1}),this.toolItems.push({prefixIcon:"e-pv-undo-icon e-pv-icon",cssClass:"e-pv-undo-container",id:this.pdfViewer.element.id+"_undo",text:this.pdfViewer.localeObj.getConstant("Undo"),align:"Left"}),this.toolItems.push({prefixIcon:"e-pv-redo-icon e-pv-icon",cssClass:"e-pv-redo-container",id:this.pdfViewer.element.id+"_redo",text:this.pdfViewer.localeObj.getConstant("Redo"),align:"Left"}),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-undo-separator-container"});break;case 6:this.itemsIndexArray.push({item:"CommentTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length+1}),this.toolItems.push({prefixIcon:"e-pv-comment-icon e-pv-icon",cssClass:"e-pv-comment-container",id:this.pdfViewer.element.id+"_comment",text:this.pdfViewer.localeObj.getConstant("Add Comments"),align:"Left"}),this.toolItems.push({type:"Separator",align:"Left",cssClass:"e-pv-comment-separator-container"});break;case 7:this.itemsIndexArray.push({item:"SubmitForm",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({template:n,cssClass:"e-pv-submit",align:"Left"});break;case 8:this.itemsIndexArray.push({item:"SearchOption",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-text-search-icon e-pv-icon",cssClass:"e-pv-text-search-container",id:this.pdfViewer.element.id+"_search",text:this.pdfViewer.localeObj.getConstant("Search text"),align:"Right"});break;case 9:this.itemsIndexArray.push({item:"AnnotationEditTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-annotation-icon e-pv-icon",cssClass:"e-pv-annotation-container",id:this.pdfViewer.element.id+"_annotation",text:this.pdfViewer.localeObj.getConstant("Annotation Edit text"),align:"Right"});break;case 10:this.itemsIndexArray.push({item:"FormDesignerEditTool",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-formdesigner-icon e-pv-icon",cssClass:"e-pv-formdesigner-container",id:this.pdfViewer.element.id+"_formdesigner",text:this.pdfViewer.localeObj.getConstant("FormDesigner Edit text"),align:"Right"});break;case 11:this.itemsIndexArray.push({item:"PrintOption",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-print-document-icon e-pv-icon",cssClass:"e-pv-print-document-container",id:this.pdfViewer.element.id+"_print",text:this.pdfViewer.localeObj.getConstant("Print text"),align:"Right"});break;case 12:this.itemsIndexArray.push({item:"DownloadOption",startIndex:this.toolItems.length,endIndex:this.toolItems.length}),this.toolItems.push({prefixIcon:"e-pv-download-document-icon e-pv-icon",cssClass:"e-pv-download-document-container",id:this.pdfViewer.element.id+"_download",text:this.pdfViewer.localeObj.getConstant("Download"),align:"Right"})}for(var a=0;a<this.pdfViewer.toolbarSettings.toolbarItems.length;a++)if(o[parseInt(r.toString(),10)]===this.pdfViewer.toolbarSettings.toolbarItems[parseInt(a.toString(),10)]){if("object"!=typeof this.pdfViewer.toolbarSettings.toolbarItems[a+1])break;this.createCustomItem(a+1)}}return this.toolItems},e.prototype.afterToolbarCreationInMobile=function(){this.itemsContainer=this.toolbar.element.childNodes[0],this.itemsContainer.id=this.pdfViewer.element.id+"_toolbarItemsContainer",this.openDocumentItem=this.addClassToolbarItem("_open","e-pv-open-document",this.pdfViewer.localeObj.getConstant("Open")),this.undoItem=this.addClassToolbarItem("_undo","e-pv-undo",this.pdfViewer.localeObj.getConstant("Undo")),this.redoItem=this.addClassToolbarItem("_redo","e-pv-redo",this.pdfViewer.localeObj.getConstant("Redo")),this.annotationItem=this.addClassToolbarItem("_annotation","e-pv-annotation",this.pdfViewer.localeObj.getConstant("Annotation")),this.textSearchItem=this.addClassToolbarItem("_search","e-pv-text-search",this.pdfViewer.localeObj.getConstant("Text Search"))},e.prototype.afterToolbarCreation=function(){var e=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);this.itemsContainer=this.toolbar.element.childNodes[0],this.itemsContainer.id=this.pdfViewer.element.id+"_toolbarItemsContainer",this.openDocumentItem=this.addClassToolbarItem("_open","e-pv-open-document",this.pdfViewer.localeObj.getConstant("Open")+(e?" (+O)":" (Ctrl+O)")),this.undoItem=this.addClassToolbarItem("_undo","e-pv-undo",this.pdfViewer.localeObj.getConstant("Undo")+(e?" (+Z)":" (Ctrl+Z)")),this.redoItem=this.addClassToolbarItem("_redo","e-pv-redo",this.pdfViewer.localeObj.getConstant("Redo")+(e?" (+Y)":" (Ctrl+Y)")),this.pdfViewer.enableRtl?(this.firstPageItem=this.addClassToolbarItem("_firstPage","e-pv-last-page-navigation",this.pdfViewer.localeObj.getConstant("Go To First Page")+(e?" (+ or +)":" (Ctrl+ or Ctrl+)")),this.previousPageItem=this.addClassToolbarItem("_previousPage","e-pv-next-page-navigation",this.pdfViewer.localeObj.getConstant("Previous Page")+" ()"),this.nextPageItem=this.addClassToolbarItem("_nextPage","e-pv-previous-page-navigation",this.pdfViewer.localeObj.getConstant("Next Page")+" ()"),this.lastPageItem=this.addClassToolbarItem("_lastPage","e-pv-first-page-navigation",this.pdfViewer.localeObj.getConstant("Go To Last Page")+(e?" (+ or +)":" (Ctrl+ or Ctrl+)"))):(this.firstPageItem=this.addClassToolbarItem("_firstPage","e-pv-first-page-navigation",this.pdfViewer.localeObj.getConstant("Go To First Page")+(e?" (+ or +)":" (Ctrl+ or Ctrl+)")),this.previousPageItem=this.addClassToolbarItem("_previousPage","e-pv-previous-page-navigation",this.pdfViewer.localeObj.getConstant("Previous Page")+" ()"),this.nextPageItem=this.addClassToolbarItem("_nextPage","e-pv-next-page-navigation",this.pdfViewer.localeObj.getConstant("Next Page")+" ()"),this.lastPageItem=this.addClassToolbarItem("_lastPage","e-pv-last-page-navigation",this.pdfViewer.localeObj.getConstant("Go To Last Page")+(e?" (+ or +)":" (Ctrl+ or Ctrl+)"))),this.zoomOutItem=this.addClassToolbarItem("_zoomOut","e-pv-zoom-out",this.pdfViewer.localeObj.getConstant("Zoom Out")+(e?" (+Minus)":" (Ctrl+Minus)")),this.zoomInItem=this.addClassToolbarItem("_zoomIn","e-pv-zoom-in",this.pdfViewer.localeObj.getConstant("Zoom In")+(e?" (+Plus)":" (Ctrl+Plus)")),this.textSelectItem=this.addClassToolbarItem("_selectTool","e-pv-text-select-tool",this.pdfViewer.localeObj.getConstant("Text Selection")+(e?" (+V)":" (Shift+V)")),this.panItem=this.addClassToolbarItem("_handTool","e-pv-pan-tool",this.pdfViewer.localeObj.getConstant("Panning")+(e?" (+H)":" (Shift+H)")),this.commentItem=this.addClassToolbarItem("_comment","e-pv-comment",this.pdfViewer.localeObj.getConstant("Add Comments")),this.textSearchItem=this.addClassToolbarItem("_search","e-pv-text-search",this.pdfViewer.localeObj.getConstant("Text Search")+(e?" (+F)":" (Ctrl+F)")),this.textSearchItem.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Search text")),this.annotationItem=this.addClassToolbarItem("_annotation","e-pv-annotation",this.pdfViewer.localeObj.getConstant("Annotation")+(e?" (++A)":" (Ctrl+Shift+A)")),this.annotationItem.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Annotation Edit text")),this.formDesignerItem=this.addClassToolbarItem("_formdesigner","e-pv-formdesigner",this.pdfViewer.localeObj.getConstant("FormDesigner")),this.printItem=this.addClassToolbarItem("_print","e-pv-print-document",this.pdfViewer.localeObj.getConstant("Print")+(e?" (+P)":" (Ctrl+P)")),this.downloadItem=this.addClassToolbarItem("_download","e-pv-download-document",this.pdfViewer.localeObj.getConstant("Download file")+(e?" (+S)":" (Ctrl+S)")),this.zoomDropdownItem=this.pdfViewerBase.getElement("_zoomDropDown"),this.createTooltip(this.zoomDropdownItem,this.pdfViewer.localeObj.getConstant("Zoom")),this.zoomDropdownItem.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Zoom")),this.addPropertiesToolItemContainer(this.zoomDropdownItem.parentElement.parentElement,null,"_zoomDropDownContainer"),this.createTooltip(this.currentPageBoxElement,this.pdfViewer.localeObj.getConstant("Page Number")+(e?" (+G)":" (Ctrl+G)")),this.currentPageBoxElement.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Page Number")),this.submitItem=this.pdfViewerBase.getElement("_submitForm"),this.addPropertiesToolItemContainer(this.submitItem.parentElement,"e-pv-submit","_submitFormContainer"),this.createTooltip(this.submitItem,this.pdfViewer.localeObj.getConstant("SubmitForm")),this.submitItem.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("SubmitForm")),this.addPropertiesToolItemContainer(this.currentPageBoxElement.parentElement.parentElement,"e-pv-current-page-container","_currentPageInputContainer"),this.pdfViewerBase.getElement("_currentPageInputContainer").style.minWidth="20px",this.totalPageItem=this.pdfViewerBase.getElement("_totalPage"),this.addPropertiesToolItemContainer(this.totalPageItem.parentElement,"e-pv-total-page-container","_totalPageContainer")},e.prototype.addClassToolbarItem=function(e,t,i){var n=this.pdfViewerBase.getElement(e);if(n.classList.add(t),n.classList.add("e-pv-tbar-btn"),n.setAttribute("aria-label",i),n.parentElement.classList.add(t+"-container"),n.parentElement.classList.add("e-popup-text"),n.parentElement.id=this.pdfViewer.element.id+e+"Container",n.childNodes.length>0){var o=n.childNodes[0];o.id=this.pdfViewer.element.id+e+"Icon",o.classList.remove("e-icons"),o.classList.remove("e-btn-icon"),this.pdfViewer.enableRtl&&o.classList.add("e-right");var r=n.childNodes[1];r&&r.classList.contains("e-tbar-btn-text")&&(r.id=this.pdfViewer.element.id+e+"Text")}return n.style.width="",this.createTooltip(n,i),n},e.prototype.addPropertiesToolItemContainer=function(e,t,i){null!==t&&e.classList.add(t),e.classList.add("e-popup-text"),e.id=this.pdfViewer.element.id+i},e.prototype.createZoomDropdownElement=function(){return this.createToolbarItem("input",this.pdfViewer.element.id+"_zoomDropDown",null).outerHTML},e.prototype.createZoomDropdown=function(){var e=this,t=e.pdfViewer.minZoom,i=e.pdfViewer.maxZoom,n=[],o=[10,25,50,75,100,125,150,200,400];if(null!=t&&null!=i&&t>i){var r=i;i=t,t=r}if(null!=t||null!=i){var a=function(e){return(null==t||e>=t)&&(null==i||e<=i)},s=0;null==t||n.some((function(e){return parseInt(e.id,10)===t}))||(n.push({percent:t+"%",id:s.toString()}),s++);for(var l=0;l<o.length;l++){var d=o[parseInt(l.toString(),10)];a(d)&&d!==t&&d!==i&&(n.push({percent:d+"%",id:s.toString()}),s++)}null==i||n.some((function(e){return parseInt(e.id,10)===i}))||i===t||(n.push({percent:i+"%",id:s.toString()}),s++),n.sort((function(e,t){return parseInt(e.id,10)-parseInt(t.id,10)}))}else n.push({percent:"10%",id:"0"},{percent:"35%",id:"1"},{percent:"50%",id:"2"},{percent:"75%",id:"3"},{percent:"100%",id:"4"},{percent:"125%",id:"5"},{percent:"150%",id:"6"},{percent:"200%",id:"7"},{percent:"400%",id:"8"});n.push({percent:e.pdfViewer.localeObj.getConstant("Fit Page"),id:"fitPage"},{percent:e.pdfViewer.localeObj.getConstant("Fit Width"),id:"fitWidth"},{percent:e.pdfViewer.localeObj.getConstant("Automatic"),id:"automatic"}),e.pdfViewer.enableRtl?e.zoomDropDown=new fd.ComboBox({dataSource:n,text:"100%",enableRtl:!0,fields:{text:"percent",value:"id"},readonly:!0,cssClass:"e-pv-zoom-drop-down-rtl",popupHeight:"450px",showClearButton:!1,open:e.openZoomDropdown.bind(e),select:function(t){"keydown"===t.e.type&&t.itemData.percent!==e.zoomDropDown.element.value&&(e.zoomDropDownChange(e.zoomDropDown.element.value),t.cancel=!0)}}):e.zoomDropDown=new fd.ComboBox({dataSource:n,text:"100%",fields:{text:"percent",value:"id"},readonly:!0,cssClass:"e-pv-zoom-drop-down",popupHeight:"450px",showClearButton:!1,open:e.openZoomDropdown.bind(e),select:function(t){"keydown"===t.e.type&&t.itemData.percent!==e.zoomDropDown.element.value&&(e.zoomDropDownChange(e.zoomDropDown.element.value),t.cancel=!0)}}),e.zoomDropDown.appendTo(e.pdfViewerBase.getElement("_zoomDropDown"))},e.prototype.createCurrentPageInputTemplate=function(){return this.createToolbarItem("input",this.pdfViewer.element.id+"_currentPageInput",null).outerHTML},e.prototype.createTotalPageTemplate=function(){return this.createToolbarItem("span",this.pdfViewer.element.id+"_totalPage","e-pv-total-page").outerHTML},e.prototype.createNumericTextBox=function(){this.currentPageBox=new Pe.NumericTextBox({value:0,format:"##",cssClass:"e-pv-current-page-box",showSpinButton:!1}),this.currentPageBoxElement=this.pdfViewerBase.getElement("_currentPageInput"),this.currentPageBox.appendTo(this.currentPageBoxElement)},e.prototype.createToolbarItemsForMobile=function(){this.toolbarElement.classList.add("e-pv-mobile-toolbar");var e='<button id="'+this.pdfViewer.element.id+'_more_option" class="e-tbar-btn"></button>';this.toolbar=new ai.Toolbar({items:[{prefixIcon:"e-pv-open-document-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Open"),id:this.pdfViewer.element.id+"_open"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-undo-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Undo"),id:this.pdfViewer.element.id+"_undo"},{prefixIcon:"e-pv-redo-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Redo"),id:this.pdfViewer.element.id+"_redo"},{tooltipText:"Organize PDF",id:this.pdfViewer.element.id+"_menu_organize",prefixIcon:"e-pv-organize-view-icon e-pv-icon",align:"Right",disabled:!0},{prefixIcon:"e-pv-annotation-icon e-pv-icon",cssClass:"e-pv-annotation-container",tooltipText:this.pdfViewer.localeObj.getConstant("Annotation"),id:this.pdfViewer.element.id+"_annotation",align:"Right"},{prefixIcon:"e-pv-text-search-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Text Search"),id:this.pdfViewer.element.id+"_search",align:"Right"},{template:e,align:"Right"}],clicked:this.toolbarClickHandler,width:"",height:"",overflowMode:"Popup"}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.toolbarElement),this.openDocumentItem=this.pdfViewerBase.getElement("_open"),this.openDocumentItem.classList.add("e-pv-open-document"),this.openDocumentItem.firstElementChild.id=this.pdfViewer.element.id+"_openIcon",this.annotationItem=this.pdfViewerBase.getElement("_annotation"),this.annotationItem.classList.add("e-pv-annotation"),this.annotationItem.firstElementChild.id=this.pdfViewer.element.id+"_annotationIcon",this.organizePageItem=this.pdfViewerBase.getElement("_menu_organize"),this.organizePageItem.classList.add("e-pv-organize-view"),this.annotationItem.firstElementChild.id=this.pdfViewer.element.id+"_organize-view_icon",this.textSearchItem=this.pdfViewerBase.getElement("_search"),this.textSearchItem.classList.add("e-pv-text-search"),this.textSearchItem.firstElementChild.id=this.pdfViewer.element.id+"_searchIcon",this.undoItem=this.pdfViewerBase.getElement("_undo"),this.undoItem.classList.add("e-pv-undo"),this.redoItem=this.pdfViewerBase.getElement("_redo"),this.redoItem.classList.add("e-pv-redo"),this.redoItem.firstElementChild.id=this.pdfViewer.element.id+"_redoIcon",this.undoItem.firstElementChild.id=this.pdfViewer.element.id+"_undoIcon",this.createMoreOption(this.pdfViewer.element.id+"_more_option")},e.prototype.createMoreOption=function(e){var t=this;this.moreOptionItem=document.getElementById(e);var i=[{text:this.pdfViewer.localeObj.getConstant("Download"),id:this.pdfViewer.element.id+"_menu_download",iconCss:"e-icons e-pv-download-document-icon e-pv-icon"},{text:this.pdfViewer.localeObj.getConstant("Bookmarks"),id:this.pdfViewer.element.id+"_menu_bookmarks",iconCss:"e-icons e-pv-bookmark-icon e-pv-icon"}];this.moreDropDown=new Re.DropDownButton({items:i,iconCss:"e-pv-more-icon e-pv-icon",cssClass:"e-caret-hide",open:function(e){var i=t.moreDropDown.element.getBoundingClientRect();t.pdfViewer.enableRtl||(e.element.parentElement.style.left=i.left+i.width-e.element.parentElement.offsetWidth+"px")},select:function(e){switch(e.item.id){case t.pdfViewer.element.id+"_menu_download":t.pdfViewerBase.download();break;case t.pdfViewer.element.id+"_menu_bookmarks":t.showToolbar(!1),t.pdfViewerBase.navigationPane.createNavigationPaneMobile("bookmarks")}},beforeItemRender:function(e){e.item.id===t.pdfViewer.element.id+"_menu_bookmarks"?t.pdfViewer.bookmarkViewModule&&t.pdfViewer.bookmarkViewModule.bookmarks?e.element.classList.remove("e-disabled"):e.element.classList.add("e-disabled"):e.item.id===t.pdfViewer.element.id+"_menu_download"&&(t.pdfViewer.enableDownload?e.element.classList.remove("e-disabled"):e.element.classList.add("e-disabled"))},close:function(e){t.moreOptionItem.blur(),t.pdfViewerBase.focusViewerContainer()}}),this.moreDropDown.appendTo("#"+e)},e.prototype.createToolbarItem=function(e,i,n){var o=(0,t.createElement)(e,{id:i});return null!==n&&(o.className=n),"input"===e&&i!==this.pdfViewer.element.id+"_zoomDropDown"&&(o.type="text"),o},e.prototype.createTooltip=function(e,i){null!==i&&new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return i})),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(e)},e.prototype.onTooltipBeforeOpen=function(e){!this.pdfViewer.toolbarSettings.showTooltip&&this.toolbarElement.contains(e.target)&&(e.cancel=!0),this.annotationToolbarModule&&!this.pdfViewer.toolbarSettings.showTooltip&&(this.annotationToolbarModule.toolbarElement&&this.annotationToolbarModule.toolbarElement.contains(e.target)||this.annotationToolbarModule.shapeToolbarElement&&this.annotationToolbarModule.shapeToolbarElement.contains(e.target))&&(e.cancel=!0),this.formDesignerToolbarModule&&!this.pdfViewer.toolbarSettings.showTooltip&&this.formDesignerToolbarModule.toolbarElement&&this.formDesignerToolbarModule.toolbarElement.contains(e.target)&&(e.cancel=!0)},e.prototype.createFileElement=function(e){e&&((0,t.isBlazor)()?this.fileInputElement=this.pdfViewer.element.querySelector(".e-pv-fileupload-element"):(this.fileInputElement=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_fileUploadElement",styles:"position:fixed; left:-100em",attrs:{type:"file"}}),this.fileInputElement.setAttribute("accept",".pdf"),this.fileInputElement.setAttribute("aria-label","file upload element"),this.fileInputElement.setAttribute("tabindex","-1")),e&&e.appendChild(this.fileInputElement))},e.prototype.wireEvent=function(){this.fileInputElement&&this.fileInputElement.addEventListener("change",this.loadDocument),(0,t.isBlazor)()||t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.toolbarElement.addEventListener("mouseup",this.toolbarOnMouseup.bind(this)),this.currentPageBoxElement.addEventListener("focusout",this.textBoxFocusOut),this.currentPageBoxElement.addEventListener("keypress",this.navigateToPage),this.zoomDropDown.change=this.zoomPercentSelect.bind(this),this.zoomDropDown.element.addEventListener("keypress",this.onZoomDropDownInput.bind(this)),this.zoomDropDown.element.addEventListener("click",this.onZoomDropDownInputClick.bind(this)))},e.prototype.unWireEvent=function(){this.fileInputElement&&this.fileInputElement.removeEventListener("change",this.loadDocument),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(0,t.isBlazor)()||((0,t.isNullOrUndefined)(this.toolbarElement)||this.toolbarElement.removeEventListener("mouseup",this.toolbarOnMouseup.bind(this)),(0,t.isNullOrUndefined)(this.currentPageBoxElement)||(this.currentPageBoxElement.removeEventListener("focusout",this.textBoxFocusOut),this.currentPageBoxElement.removeEventListener("keypress",this.navigateToPage)),(0,t.isNullOrUndefined)(this.zoomDropDown)||(this.zoomDropDown.removeEventListener("change",this.zoomPercentSelect),this.zoomDropDown.element.removeEventListener("keypress",this.onZoomDropDownInput),this.zoomDropDown.element.removeEventListener("click",this.onZoomDropDownInputClick)))},e.prototype.onToolbarResize=function(e){t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.pdfViewerBase.navigationPane.toolbarResize():(0,t.isNullOrUndefined)(this.toolbar)||this.toolbar.refreshOverflow()},e.prototype.toolbarOnMouseup=function(e){e.target!==this.itemsContainer&&e.target!==this.toolbarElement||this.pdfViewerBase.focusViewerContainer()},e.prototype.applyHideToToolbar=function(e,i,n){for(var o=!e,r=i;r<=n;r++)if(!(0,t.isNullOrUndefined)(this.toolbar)&&this.toolbar.items[parseInt(r.toString(),10)]){var a=this.toolbar.items[parseInt(r.toString(),10)].cssClass;if(a&&""!==a){var s=this.toolbar.element.querySelector("."+a);s&&this.toolbar.hideItem(s,o)}else this.toolbar.hideItem(r,o)}},e.prototype.handleOpenIconClick=function(e,i){this.fileInputElement.click(),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode||i||((0,t.isBlazor)()||e.originalEvent.target.blur(),this.pdfViewerBase.focusViewerContainer())},e.prototype.handleToolbarBtnClick=function(e,i){switch(this.addInkAnnotation(),this.deSelectCommentAnnotation(),e.originalEvent.target.id||!(0,t.isNullOrUndefined)(e.item)&&e.item.id){case this.pdfViewer.element.id+"_open":case this.pdfViewer.element.id+"_openIcon":case this.pdfViewer.element.id+"_openText":this.handleOpenIconClick(e,i);break;case this.pdfViewer.element.id+"_download":case this.pdfViewer.element.id+"_downloadIcon":case this.pdfViewer.element.id+"_downloadText":this.pdfViewerBase.download();break;case this.pdfViewer.element.id+"_print":case this.pdfViewer.element.id+"_printIcon":case this.pdfViewer.element.id+"_printText":this.pdfViewer.printModule&&this.pdfViewer.firePrintStart();break;case this.pdfViewer.element.id+"_undo":case this.pdfViewer.element.id+"_undoIcon":case this.pdfViewer.element.id+"_undoText":this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.undo();break;case this.pdfViewer.element.id+"_redo":case this.pdfViewer.element.id+"_redoIcon":case this.pdfViewer.element.id+"_redoText":this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.redo();break;case this.pdfViewer.element.id+"_firstPage":case this.pdfViewer.element.id+"_firstPageIcon":case this.pdfViewer.element.id+"_firstPageText":this.pdfViewer.navigationModule&&this.pdfViewer.navigationModule.goToFirstPage();break;case this.pdfViewer.element.id+"_previousPage":case this.pdfViewer.element.id+"_previousPageIcon":case this.pdfViewer.element.id+"_previousPageText":this.pdfViewer.navigationModule&&this.pdfViewer.navigationModule.goToPreviousPage();break;case this.pdfViewer.element.id+"_nextPage":case this.pdfViewer.element.id+"_nextPageIcon":case this.pdfViewer.element.id+"_nextPageText":this.pdfViewer.navigationModule&&this.pdfViewer.navigationModule.goToNextPage();break;case this.pdfViewer.element.id+"_lastPage":case this.pdfViewer.element.id+"_lastPageIcon":case this.pdfViewer.element.id+"_lastPageText":this.pdfViewer.navigationModule&&this.pdfViewer.navigationModule.goToLastPage();break;case this.pdfViewer.element.id+"_zoomIn":case this.pdfViewer.element.id+"_zoomInIcon":case this.pdfViewer.element.id+"_zoomInText":this.pdfViewer.magnificationModule.zoomIn();break;case this.pdfViewer.element.id+"_zoomOut":case this.pdfViewer.element.id+"_zoomOutIcon":case this.pdfViewer.element.id+"_zoomOutText":this.pdfViewer.magnificationModule.zoomOut();break;case this.pdfViewer.element.id+"_selectTool":case this.pdfViewer.element.id+"_selectToolIcon":case this.pdfViewer.element.id+"_selectToolText":this.isSelectionToolDisabled||(this.pdfViewerBase.initiateTextSelectMode(),this.updateInteractionTools(!0));break;case this.pdfViewer.element.id+"_handTool":case this.pdfViewer.element.id+"_handToolIcon":case this.pdfViewer.element.id+"_handToolText":this.isScrollingToolDisabled||this.getStampMode()||(this.pdfViewerBase.initiatePanning(),this.updateInteractionTools(!1));break;case this.pdfViewer.element.id+"_search":case this.pdfViewer.element.id+"_searchIcon":case this.pdfViewer.element.id+"_searchText":this.textSearchButtonHandler();break;case this.pdfViewer.element.id+"_annotation":case this.pdfViewer.element.id+"_annotationIcon":case this.pdfViewer.element.id+"_annotationText":this.initiateAnnotationMode(e.originalEvent.target.id,i);break;case this.pdfViewer.element.id+"_formdesigner":case this.pdfViewer.element.id+"_formdesignerIcon":case this.pdfViewer.element.id+"_formdesignerText":this.initiateFormDesignerMode(i),this.formDesignerToolbarModule.showHideDeleteIcon(!1);break;case this.pdfViewer.element.id+"_comment":case this.pdfViewer.element.id+"_commentIcon":case this.pdfViewer.element.id+"_commentText":this.pdfViewerBase.isAddComment=!0,this.pdfViewerBase.isCommentIconAdded=!0,this.annotationToolbarModule.deselectAllItems(),this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent(),this.addComments(e.originalEvent.target);break;case this.pdfViewer.element.id+"_submitForm":case this.pdfViewer.element.id+"_submitFormSpan":this.pdfViewerBase.exportFormFields(void 0,Fe.Json);break;case this.pdfViewer.element.id+"_menu_organize":(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer)||this.pdfViewer.pageOrganizer.createOrganizeWindowForMobile();break;default:this.pdfViewer.fireCustomToolbarClickEvent(e)}},e.prototype.addInkAnnotation=function(){if(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.inkAnnotationModule){var e=parseInt(this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10);this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(e)}this.annotationToolbarModule&&(this.pdfViewer.toolbar.annotationToolbarModule.deselectInkAnnotation(),this.annotationToolbarModule.inkAnnotationSelected=!1)},e.prototype.deSelectCommentAnnotation=function(){(0,t.isBlazor)()?this.pdfViewer.toolbar.deSelectItem(this.CommentElement):this.pdfViewer.toolbar.deSelectItem(this.commentItem),this.pdfViewerBase.isCommentIconAdded=!1},e.prototype.addComments=function(e){(0,t.isBlazor)()?(this.pdfViewerBase.isCommentIconAdded=!0,this.pdfViewerBase.isAddComment=!0,this.annotationToolbarModule.deselectAllItemsInBlazor(),this.CommentElement.classList.add("e-pv-select")):e.id===this.pdfViewer.element.id+"_comment"||e.id===this.pdfViewer.element.id+"_commentIcon"||e.id===this.pdfViewer.element.id+"_commentText"?e.id!==this.pdfViewer.element.id+"_commentIcon"&&e.id!==this.pdfViewer.element.id+"_commentText"||!e.parentElement?e.classList.add("e-pv-select"):e.parentElement.classList.add("e-pv-select"):this.pdfViewer.enableRtl?e.className="e-pv-comment-selection-icon e-pv-icon e-icon-left e-right":e.className="e-pv-comment-selection-icon e-pv-icon e-icon-left";this.updateStampItems(),document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+(this.pdfViewerBase.currentPageNumber-1)).addEventListener("mousedown",this.pdfViewer.annotationModule.stickyNotesAnnotationModule.drawIcons.bind(this))},e.prototype.openZoomDropdown=function(){var e=this;if(document.fullscreen)if((0,t.isBlazor)()){var i=document.fullscreenElement;i&&"BODY"!==i.tagName&&"HTML"!==i.tagName&&setTimeout((function(){var t=document.getElementById(e.pdfViewer.element.id+"_zoomCombo_popup"),i=document.getElementById(e.toolbarElement.id);t&&i&&t.ej2_instances&&(i.appendChild(t),t.ej2_instances[0].refreshPosition())}),100)}else{var n=document.getElementById(this.pdfViewer.element.id+"_zoomDropDown_popup"),o=document.getElementById(this.toolbarElement.id);n&&o.appendChild(n)}},e.prototype.onZoomDropDownInput=function(e){if((e.which<48||e.which>57)&&8!==e.which&&13!==e.which&&32!==e.which)return e.preventDefault(),!1;if(13===e.which){e.preventDefault();var t=this.zoomDropDown.element.value.trim();this.zoomDropDownChange(t)}return!0},e.prototype.onZoomDropDownInputClick=function(){this.zoomDropDown.element.select()},e.prototype.zoomPercentSelect=function(e){if(this.pdfViewerBase.pageCount>0)if(e.isInteracted){if(e.itemData){var t=e.itemData.percent;this.zoomDropDownChange(t)}}else this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor)},e.prototype.zoomDropDownChange=function(e){e!==this.pdfViewer.localeObj.getConstant("Fit Width")&&e!==this.pdfViewer.localeObj.getConstant("Fit Page")&&e!==this.pdfViewer.localeObj.getConstant("Automatic")?(this.pdfViewer.magnificationModule.isAutoZoom=!1,this.pdfViewerBase.previousScrollbarWidth=this.pdfViewerBase.navigationPane.getViewerContainerScrollbarWidth(),this.pdfViewer.magnificationModule.zoomTo(parseFloat(e)),this.updateZoomPercentage(this.pdfViewer.magnificationModule.zoomFactor),this.zoomDropDown.focusOut()):e===this.pdfViewer.localeObj.getConstant("Fit Width")?(this.pdfViewer.magnificationModule.isAutoZoom=!1,this.pdfViewer.magnificationModule.fitToWidth(),this.zoomDropDown.focusOut()):e===this.pdfViewer.localeObj.getConstant("Fit Page")?(this.pdfViewer.magnificationModule.fitToPage(),this.zoomDropDown.focusOut()):e===this.pdfViewer.localeObj.getConstant("Automatic")&&(this.pdfViewer.magnificationModule.isAutoZoom=!0,this.pdfViewer.magnificationModule.fitToAuto(),this.zoomDropDown.focusOut())},e.prototype.updateZoomPercentage=function(e){if(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode){var i=parseInt((100*e).toString(),10)+"%";if((0,t.isBlazor)()){var n=this.pdfViewerBase.getElement("_zoomDropDown");n&&n.children.length>0&&(n.children[0].children[0].value=i)}else(0,t.isNullOrUndefined)(this.zoomDropDown)||(this.zoomDropDown.text===i&&(this.zoomDropDown.element.value=i),11===this.zoomDropDown.index&&(this.zoomDropDown.value=4),this.pdfViewerBase.isMinimumZoom=e<=.25,this.zoomDropDown.text=i)}},e.prototype.updateInteractionItems=function(){this.pdfViewer.textSelectionModule&&this.pdfViewer.enableTextSelection?this.enableItems(this.textSelectItem.parentElement,!0):this.enableItems(this.textSelectItem.parentElement,!1),this.enableItems(this.panItem.parentElement,!0),"TextSelection"===this.pdfViewer.interactionMode&&this.pdfViewer.enableTextSelection?(this.selectItem(this.textSelectItem),this.textSelectItem.setAttribute("tabindex","-1"),this.deSelectItem(this.panItem),this.panItem.setAttribute("tabindex","0")):(this.selectItem(this.panItem),this.panItem.setAttribute("tabindex","-1"),this.deSelectItem(this.textSelectItem),this.textSelectItem.setAttribute("tabindex","0"),this.pdfViewerBase.initiatePanning())},e.prototype.textSearchButtonHandler=function(e){if(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode){if(this.pdfViewer.textSearchModule&&this.pdfViewerBase.pageCount>0)if(this.isTextSearchBoxDisplayed=!this.isTextSearchBoxDisplayed,this.pdfViewer.textSearchModule.showSearchBox(this.isTextSearchBoxDisplayed),this.isTextSearchBoxDisplayed){(0,t.isBlazor)()||(this.selectItem(this.textSearchItem),this.textSearchItem.setAttribute("tabindex","0"));var i=document.getElementById(this.pdfViewer.element.id+"_search_input");i.select(),i.focus()}else if((0,t.isBlazor)()){var n=this.pdfViewerBase.getElement("_search");e?n.firstElementChild.focus():(n.firstElementChild.blur(),this.pdfViewerBase.focusViewerContainer())}else this.deSelectItem(this.textSearchItem),this.textSearchItem.blur()}else this.showToolbar(!1),this.pdfViewerBase.navigationPane.createNavigationPaneMobile("search")},e.prototype.initiateAnnotationMode=function(e,i){!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.annotationToolbarModule&&this.pdfViewer.enableAnnotationToolbar&&(this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem),this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.refreshOverflow(),(i||this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.items.length>0)&&document.getElementById(this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.items[0].id).focus(),this.pdfViewer.isAnnotationToolbarVisible&&this.pdfViewer.isFormDesignerToolbarVisible&&(document.getElementById(this.pdfViewer.element.id+"_formdesigner_toolbar").style.display="none",this.formDesignerToolbarModule.isToolbarHidden=!1,this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem),this.annotationToolbarModule.adjustViewer(!0))):(0,t.isBlazor)()||(e===this.pdfViewer.element.id+"_annotation"&&(e=this.pdfViewer.element.id+"_annotationIcon"),this.annotationToolbarModule.createAnnotationToolbarForMobile(e))},e.prototype.initiateFormDesignerMode=function(e){if(this.formDesignerToolbarModule&&this.pdfViewer.enableFormDesignerToolbar){if(this.formDesignerToolbarModule.showFormDesignerToolbar(this.formDesignerItem),this.pdfViewer.isAnnotationToolbarVisible&&this.pdfViewer.isFormDesignerToolbarVisible){document.getElementById(this.pdfViewer.element.id+"_annotation_toolbar").style.display="none";var i=document.getElementById(this.pdfViewer.element.id+"_commantPanel");(0,t.isNullOrUndefined)(i)||(0,t.isNullOrUndefined)(this.pdfViewerBase.navigationPane)||"block"===i.style.display&&this.pdfViewerBase.navigationPane.closeCommentPanelContainer(),this.annotationToolbarModule.isToolbarHidden=!1,this.annotationToolbarModule.showAnnotationToolbar(this.annotationItem),this.formDesignerToolbarModule.adjustViewer(!0)}e&&this.pdfViewer.toolbarModule.formDesignerToolbarModule.toolbar.items.length>0&&document.getElementById(this.pdfViewer.toolbarModule.formDesignerToolbarModule.toolbar.items[0].id).focus()}},e.prototype.DisableInteractionTools=function(){this.deSelectItem(this.textSelectItem),this.deSelectItem(this.panItem)},e.prototype.selectItem=function(e){e&&e.classList.add("e-pv-select")},e.prototype.deSelectItem=function(e){e&&e.classList.remove("e-pv-select")},e.prototype.updateInteractionTools=function(e){var i=(0,t.isBlazor)();e?i?(this.selectItem(this.SelectToolElement),this.deSelectItem(this.PanElement)):(this.selectItem(this.textSelectItem),(0,t.isNullOrUndefined)(this.textSelectItem)||this.textSelectItem.setAttribute("tabindex","-1"),this.deSelectItem(this.panItem),(0,t.isNullOrUndefined)(this.panItem)||this.panItem.setAttribute("tabindex","0")):i?(this.selectItem(this.PanElement),this.deSelectItem(this.SelectToolElement)):(this.selectItem(this.panItem),(0,t.isNullOrUndefined)(this.panItem)||this.panItem.setAttribute("tabindex","-1"),this.deSelectItem(this.textSelectItem),(0,t.isNullOrUndefined)(this.textSelectItem)||this.textSelectItem.setAttribute("tabindex","0"))},e.prototype.initialEnableItems=function(){this.pdfViewer.enableToolbar?this.showToolbar(!0):this.showToolbar(!1),this.pdfViewer.enableNavigationToolbar?this.showNavigationToolbar(!0):this.showNavigationToolbar(!1),this.pdfViewer.pageOrganizer?this.showPageOrganizerToolbar(!0):this.showPageOrganizerToolbar(!1),(0,t.isBlazor)()||(this.isPrintBtnVisible?this.showPrintOption(!0):this.showPrintOption(!1),this.isDownloadBtnVisible?this.showDownloadOption(!0):this.showDownloadOption(!1),this.isSearchBtnVisible?this.showSearchOption(!0):this.showSearchOption(!1),this.isCommentBtnVisible?this.showCommentOption(!0):this.showCommentOption(!1))},e.prototype.showSeparator=function(e){this.isOpenBtnVisible&&(this.isNavigationToolVisible||this.isMagnificationToolVisible||this.isSelectionBtnVisible||this.isScrollingBtnVisible||this.isUndoRedoBtnsVisible)||this.applyHideToToolbar(!1,(0,t.isNullOrUndefined)(this.itemsIndexArray[0])?1:this.itemsIndexArray[0].endIndex+1,(0,t.isNullOrUndefined)(this.itemsIndexArray[0])?1:this.itemsIndexArray[0].endIndex+1),(this.isNavigationToolVisible||this.isMagnificationToolVisible||this.isOpenBtnVisible)&&(!this.isOpenBtnVisible||this.isNavigationToolVisible)&&(this.isOpenBtnVisible||this.isNavigationToolVisible)&&(this.isMagnificationToolVisible||this.isScrollingBtnVisible||this.isSelectionBtnVisible)||this.applyHideToToolbar(!1,(0,t.isNullOrUndefined)(this.itemsIndexArray[1])?8:this.itemsIndexArray[1].endIndex+1,(0,t.isNullOrUndefined)(this.itemsIndexArray[1])?8:this.itemsIndexArray[1].endIndex+1),(!this.isMagnificationToolVisible&&!this.isSelectionBtnVisible&&!this.isScrollingBtnVisible||this.isMagnificationToolVisible&&!this.isSelectionBtnVisible&&!this.isScrollingBtnVisible||!this.isMagnificationToolVisible&&(this.isSelectionBtnVisible||this.isScrollingBtnVisible))&&this.applyHideToToolbar(!1,(0,t.isNullOrUndefined)(this.itemsIndexArray[2])?12:this.itemsIndexArray[2].endIndex+1,(0,t.isNullOrUndefined)(this.itemsIndexArray[2])?12:this.itemsIndexArray[2].endIndex+1),(this.isMagnificationToolVisible||this.isNavigationToolVisible||this.isScrollingBtnVisible||this.isSelectionBtnVisible||!this.isUndoRedoBtnsVisible)&&this.isUndoRedoBtnsVisible||this.applyHideToToolbar(!1,(0,t.isNullOrUndefined)(this.itemsIndexArray[4])?15:this.itemsIndexArray[4].endIndex+1,(0,t.isNullOrUndefined)(this.itemsIndexArray[4])?15:this.itemsIndexArray[4].endIndex+1),this.isUndoRedoBtnsVisible&&(!this.isUndoRedoBtnsVisible||this.isCommentBtnVisible||this.isSubmitbtnvisible)||(0,t.isNullOrUndefined)(this.itemsIndexArray[5])||this.applyHideToToolbar(!1,this.itemsIndexArray[5].endIndex+1,this.itemsIndexArray[5].endIndex+1)},e.prototype.applyToolbarSettings=function(){var e=this.pdfViewer.toolbarSettings.toolbarItems;e&&(-1!==e.indexOf("OpenOption")?this.showOpenOption(!0):this.showOpenOption(!1),-1!==e.indexOf("PageNavigationTool")?this.showPageNavigationTool(!0):this.showPageNavigationTool(!1),-1!==e.indexOf("MagnificationTool")?this.showMagnificationTool(!0):this.showMagnificationTool(!1),-1!==e.indexOf("SelectionTool")?this.showSelectionTool(!0):this.showSelectionTool(!1),-1!==e.indexOf("PanTool")?this.showScrollingTool(!0):this.showScrollingTool(!1),-1!==e.indexOf("PrintOption")?this.showPrintOption(!0):this.showPrintOption(!1),-1!==e.indexOf("DownloadOption")?this.showDownloadOption(!0):this.showDownloadOption(!1),-1!==e.indexOf("SearchOption")?this.showSearchOption(!0):this.showSearchOption(!1),-1!==e.indexOf("UndoRedoTool")?this.showUndoRedoTool(!0):this.showUndoRedoTool(!1),-1!==e.indexOf("AnnotationEditTool")?this.showAnnotationEditTool(!0):this.showAnnotationEditTool(!1),-1!==e.indexOf("FormDesignerEditTool")?this.showFormDesignerEditTool(!0):this.showFormDesignerEditTool(!1),-1!==e.indexOf("CommentTool")?this.showCommentOption(!0):this.showCommentOption(!1),-1!==e.indexOf("SubmitForm")?this.showSubmitForm(!0):this.showSubmitForm(!1),this.showSeparator(e))},e.prototype.applyToolbarSettingsForMobile=function(){var e=this.pdfViewer.toolbarSettings.toolbarItems;e&&(-1!==e.indexOf("OpenOption")?this.showOpenOption(!0):this.showOpenOption(!1),-1!==e.indexOf("UndoRedoTool")?this.showUndoRedoTool(!0):this.showUndoRedoTool(!1),-1!==e.indexOf("AnnotationEditTool")?this.showAnnotationEditTool(!0):this.showAnnotationEditTool(!1),-1!==e.indexOf("SearchOption")?this.showSearchOption(!0):this.showSearchOption(!1))},e.prototype.getStampMode=function(){return!(!this.pdfViewer.annotation||!this.pdfViewer.annotation.stampAnnotationModule)&&this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode},e.prototype.stampBeforeOpen=function(e){if(this.annotationToolbarModule.resetFreeTextAnnot(),""===e.ParentItem.Text&&this.pdfViewer.customStampSettings.isAddToMenu&&e.Items.length>0){for(var t=null,i=0;i<e.Items.length;i++)if("Custom Stamp"===e.Items[parseInt(i.toString(),10)].Text){e.Items[parseInt(i.toString(),10)].Items=[],t=e.Items[parseInt(i.toString(),10)];break}var n=this.pdfViewerBase.customStampCollection,o=this.pdfViewer.customStampSettings.customStamps;if(0===n.length&&o&&o.length>0)for(var r=0;r<o.length;r++)n.push({customStampName:o[parseInt(r.toString(),10)].customStampName,customStampImageSource:o[parseInt(r.toString(),10)].customStampImageSource});for(var a=0;a<n.length;a++)null!=t&&t.Items.push({text:n[parseInt(a.toString(),10)].customStampName})}},e.prototype.stampBeforeClose=function(e,t){(e.ParentItem&&"Custom Stamp"!==e.ParentItem.Text&&"Standard Business"!==e.ParentItem.Text&&"Dynamic"!==e.ParentItem.Text&&"Sign Here"!==e.ParentItem.Text||!e.ParentItem)&&!0},e.prototype.updateStampItems=function(){this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.stampAnnotationModule&&this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot&&(this.pdfViewer.selectedItems.annotations[0]&&(this.pdfViewer.remove(this.pdfViewer.selectedItems.annotations[0]),this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber-1),this.pdfViewer.renderDrawing(),this.pdfViewerBase.tool=null),this.pdfViewerBase.isAlreadyAdded=!1,this.pdfViewer.annotationModule.stampAnnotationModule.isNewStampAnnot=!1)},e.prototype.stampSelect=function(e,i){if(this.pdfViewerBase.isAlreadyAdded=!1,this.updateStampItems(),"Custom Stamp"===e.Item.Text){this.annotationToolbarModule.checkStampAnnotations(),this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0;var n=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_stampElement",attrs:{type:"file"}});n.setAttribute("accept",".jpg,.jpeg,.png"),n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.visibility="hidden",document.body.appendChild(n),n.click(),n.addEventListener("change",this.annotationToolbarModule.addStampImage),document.body.removeChild(n)}else if("Custom Stamp"===i&&""!==e.Item.Text)for(var o=this.pdfViewerBase.customStampCollection,r=0;r<o.length;r++)o[parseInt(r.toString(),10)].customStampName===e.Item.Text&&(this.pdfViewer.annotationModule.stampAnnotationModule.customStampName=e.Item.Text,this.annotationToolbarModule.checkStampAnnotations(),this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,this.pdfViewerBase.stampAdded=!0,this.pdfViewerBase.isAlreadyAdded=!0,this.pdfViewer.annotationModule.stampAnnotationModule.createCustomStampAnnotation(o[parseInt(r.toString(),10)].customStampImageSource),this.pdfViewerBase.stampAdded=!1);else"Dynamic"===e.Item.Text||""===e.Item.Text||"Standard Business"===e.Item.Text||"Sign Here"!==i&&"Sign Here"===e.Item.Text||(this.annotationToolbarModule.checkStampAnnotations(),this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,this.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,this.pdfViewerBase.stampAdded=!0,"Dynamic"===i?(this.pdfViewerBase.isDynamicStamp=!0,this.pdfViewer.annotationModule.stampAnnotationModule.retrieveDynamicStampAnnotation(e.Item.Text)):(this.pdfViewerBase.isDynamicStamp=!1,this.pdfViewer.annotationModule.stampAnnotationModule.retrievestampAnnotation(e.Item.Text)))},e.prototype.enableItems=function(e,t){this.toolbar.enableItems(e,t),e&&e.id===this.pdfViewer.element.id+"_zoomDropDownContainer"?(this.pdfViewerBase.getElement("_zoomDropDown").setAttribute("tabindex",t?"0":"-1"),this.pdfViewerBase.getElement("_zoomDropDown").setAttribute("data-tabindex",t?"0":"-1")):e.firstElementChild&&e.id!==this.pdfViewer.element.id+"_zoomDropDownContainer"&&(e.firstElementChild.setAttribute("tabindex",t?"0":"-1"),e.firstElementChild.setAttribute("data-tabindex",t?"0":"-1"))},e.prototype.getModuleName=function(){return"Toolbar"},e}(),yd=f(74),Sd=function(){function e(e,i,n){var o=this;this.toolbarBorderHeight=1,this.isToolbarHidden=!1,this.isMobileAnnotEnabled=!1,this.isHighlightEnabled=!1,this.isMobileHighlightEnabled=!1,this.isUnderlineEnabled=!1,this.isMobileUnderlineEnabled=!1,this.isStrikethroughEnabled=!1,this.isMobileStrikethroughEnabled=!1,this.isHighlightBtnVisible=!0,this.isCommentBtnVisible=!0,this.isUnderlineBtnVisible=!0,this.isStrikethroughBtnVisible=!0,this.isColorToolVisible=!0,this.isOpacityToolVisible=!0,this.isDeleteAnnotationToolVisible=!0,this.isCurrentAnnotationOpacitySet=!1,this.isStampBtnVisible=!1,this.isShapeBtnVisible=!1,this.isSignatureBtnVisible=!1,this.isInkBtnVisible=!1,this.isFontFamilyToolVisible=!1,this.isFontSizeToolVisible=!1,this.isFontAlignToolVisible=!1,this.isFontColorToolVisible=!1,this.isFontStylesToolVisible=!1,this.isCommentPanelBtnVisible=!1,this.isFreeTextBtnVisible=!1,this.isCalibrateBtnVisible=!1,this.isStrokeColorToolVisible=!1,this.isThicknessToolVisible=!1,this.stampMenu=[],this.stampParentID="",this.inkAnnotationSelected=!1,this.openSignaturePopup=!1,this.isSavedSignatureClicked=!1,this.saveSignatureCount=0,this.saveInitialCount=0,this.isToolbarCreated=!1,this.addStampImage=function(e){var t=o,i=e.target.files;if(null!==e.target.files[0]){var n=i[0];if(o.pdfViewer.annotationModule.stampAnnotationModule.customStampName=n.name.split(".")[0],"image"===n.type.split("/")[0]){var r=new FileReader;r.onload=function(e){var i=e.currentTarget.result;t.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,t.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,t.pdfViewerBase.stampAdded=!0,o.pdfViewer.annotationModule.stampAnnotationModule.createCustomStampAnnotation(i),t.pdfViewerBase.stampAdded=!1},r.readAsDataURL(n)}}e.target.value="",e.currentTarget.value=""},this.popupPosition=function(e,t){if(e&&e.element){var i=t.getBoundingClientRect(),n=e.element.getElementsByClassName("e-container e-color-palette")[0].getElementsByClassName("e-palette")[0].getBoundingClientRect(),o=this.pdfViewerBase.mainContainer.getBoundingClientRect();n.left+n.width>o.width&&(e.element.parentElement.style.left=n.left-n.width+i.width+"px")}},this.onShapeToolbarClicked=function(e){var i=o.pdfViewer.element.id,n=o.pdfViewer.annotation.shapeAnnotationModule;if(!t.Browser.isDevice&&o.pdfViewer.enableDesktopMode||"Polygon"===o.pdfViewerBase.action&&o.pdfViewerBase.tool.mouseUp(e,!0,!0),t.Browser.isDevice){var r=e.originalEvent.target;o.pdfViewer.toolbarModule.selectItem(r.parentElement),o.deselectAllItemsForMobile()}else o.deselectAllItems(),o.resetFreeTextAnnot();switch(e.originalEvent.target.id){case i+"_shape_line":case i+"_shape_lineIcon":n.setAnnotationType("Line"),o.onShapeDrawSelection(!0),o.updateColorInIcon(o.colorDropDownElement,n.lineFillColor),o.updateColorInIcon(o.strokeDropDownElement,n.lineStrokeColor),o.handleShapeTool(i+"_shape_line");break;case i+"_shape_arrow":case i+"_shape_arrowIcon":n.setAnnotationType("Arrow"),o.onShapeDrawSelection(!0),o.updateColorInIcon(o.colorDropDownElement,n.arrowFillColor),o.updateColorInIcon(o.strokeDropDownElement,n.arrowStrokeColor),o.handleShapeTool(i+"_shape_arrow");break;case i+"_shape_rectangle":case i+"_shape_rectangleIcon":n.setAnnotationType("Rectangle"),o.onShapeDrawSelection(!0),o.updateColorInIcon(o.colorDropDownElement,n.rectangleFillColor),o.updateColorInIcon(o.strokeDropDownElement,n.rectangleStrokeColor),o.handleShapeTool(i+"_shape_rectangle");break;case i+"_shape_circle":case i+"_shape_circleIcon":n.setAnnotationType("Circle"),o.onShapeDrawSelection(!0),o.updateColorInIcon(o.colorDropDownElement,n.circleFillColor),o.updateColorInIcon(o.strokeDropDownElement,n.circleStrokeColor),o.handleShapeTool(i+"_shape_circle");break;case i+"_shape_pentagon":case i+"_shape_pentagonIcon":n.setAnnotationType("Polygon"),o.onShapeDrawSelection(!0),o.updateColorInIcon(o.colorDropDownElement,n.polygonFillColor),o.updateColorInIcon(o.strokeDropDownElement,n.polygonStrokeColor),o.handleShapeTool(i+"_shape_pentagon")}},this.pdfViewer=e,this.pdfViewerBase=i,this.primaryToolbar=n}return e.prototype.initializeAnnotationToolbar=function(){var e=this;this.toolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_annotation_toolbar",className:"e-pv-annotation-toolbar"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement),this.toolbar=new ai.Toolbar({width:"",height:"",overflowMode:"Popup",cssClass:"e-pv-toolbar-scroll",items:this.createToolbarItems(),clicked:this.onToolbarClicked.bind(this),created:function(){e.createDropDowns()}}),this.toolbar.isStringTemplate=!0,this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.toolbar.appendTo(this.toolbarElement),this.afterToolbarCreation(),this.createStampContainer(),this.createSignContainer(),this.applyAnnotationToolbarSettings(),this.updateToolbarItems(),this.showAnnotationToolbar(null,!0),this.toolbarElement.setAttribute("aria-label","Annotation Toolbar")},e.prototype.createMobileAnnotationToolbar=function(e,i){var n=this;t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?null==this.toolbarElement&&e?(this.isMobileAnnotEnabled=!0,this.toolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_annotation_toolbar",className:"e-pv-annotation-toolbar"}),this.pdfViewerBase.viewerMainContainer.insertBefore(this.toolbarElement,this.pdfViewerBase.viewerContainer),this.toolbar=new ai.Toolbar({width:"",height:"",overflowMode:"Popup",items:this.createMobileToolbarItems(i),clicked:this.onToolbarClicked.bind(this),created:function(){n.createDropDowns(i)}}),this.toolbar.isStringTemplate=!0,this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.pdfViewerBase.navigationPane.goBackToToolbar(),this.pdfViewer.toolbarModule.showToolbar(!1),this.toolbar.appendTo(this.toolbarElement),this.deleteItem=this.pdfViewerBase.getElement("_annotation_delete"),this.deleteItem.firstElementChild.id=this.pdfViewer.element.id+"_annotation_delete"):null!=this.toolbarElement&&(e?(this.isMobileAnnotEnabled=!0,this.pdfViewerBase.navigationPane.goBackToToolbar(),this.pdfViewer.toolbarModule.showToolbar(!1),this.toolbarElement.style.display="block"):e||(this.isMobileAnnotEnabled=!1,this.pdfViewer.toolbarModule.showToolbar(!0),this.hideMobileAnnotationToolbar())):this.isMobileAnnotEnabled=!0},e.prototype.hideMobileAnnotationToolbar=function(){if(null!=this.toolbarElement){if(this.pdfViewer.selectedItems.annotations.length>0||!(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.textMarkupAnnotationModule)&&this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)this.propertyToolbar&&this.propertyToolbar.element.children.length>0&&(this.propertyToolbar.element.style.display="block",this.toolbarCreated=!0);else if(this.toolbar.element.children.length>0?this.toolbarCreated=!0:this.toolbarCreated=!1,this.propertyToolbar&&"none"!==this.propertyToolbar.element.style.display&&(this.propertyToolbar.element.style.display="none",!this.toolbarCreated)){var e=document.getElementById(this.pdfViewer.element.id+"_annotationIcon");e&&e.parentElement.classList.contains("e-pv-select")&&this.createAnnotationToolbarForMobile()}this.toolbarElement.children.length>0&&(this.toolbarElement.style.display="block"),this.adjustMobileViewer()}else this.toolbarCreated&&this.propertyToolbar&&this.propertyToolbar.element.children.length>0&&(this.propertyToolbar.element.style.display="none",this.adjustMobileViewer(),this.toolbarCreated=!1)},e.prototype.FreeTextForMobile=function(){var e=this;this.hideExistingTool(),this.freetextToolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_freeTextToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.freetextToolbarElement);var i=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_color","e-pv-annotation-color-container"),n=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_stroke","e-pv-annotation-stroke-container"),o=this.getTemplate("span","_annotation_thickness","e-pv-annotation-thickness-container"),r=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),a=this.getTemplate("input","_annotation_fontname","e-pv-annotation-fontname-container"),s=this.getTemplate("input","_annotation_fontsize","e-pv-annotation-fontsize-container"),l=this.getTemplate("span","_annotation_textcolor","e-pv-annotation-textcolor-container"),d=this.getTemplate("span","_annotation_textalign","e-pv-annotation-textalign-container"),h=this.getTemplate("span","_annotation_textproperties","e-pv-annotation-textprop-container"),A=[{prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)},{type:"Separator",align:"Left",cssClass:"e-pv-hightlight-separator-container"},{template:a},{template:s},{template:l},{template:d},{template:h},{template:i},{template:n},{template:o},{template:r}];this.toolbar=new ai.Toolbar({items:A,width:"",height:"",overflowMode:"Scrollable",created:function(){e.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e.pdfViewer.element.id+"_annotation_freeTextEdit")}}),this.toolbar.appendTo(this.freetextToolbarElement),this.showFreeTextPropertiesTool()},e.prototype.createPropertyTools=function(e){var i=this;if(""!==e){this.propertyToolbar&&this.propertyToolbar.destroy(),this.toolbar&&this.toolbar.destroy();var n,o=void 0;(o=document.getElementById(this.pdfViewer.element.id+"_propertyToolbar"))&&o.parentElement.removeChild(o),o=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_propertyToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(o);var r=new ai.Toolbar({items:this.createPropertyToolbarForMobile(e),width:"",height:"",overflowMode:"Scrollable",created:function(){n=!(0,t.isNullOrUndefined)(i.pdfViewer.annotationModule.textMarkupAnnotationModule)&&i.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?i.pdfViewer.element.id+"_underlineIcon":(0,t.isNullOrUndefined)(i.pdfViewer.selectedItems.annotations[0])?"Highlight"===e||"Underline"===e||"Strikethrough"===e?i.pdfViewer.element.id+"_highlightIcon":i.pdfViewer.element.id+"_annotation_shapesIcon":"FreeText"===i.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?i.pdfViewer.element.id+"_annotation_freeTextEdit":"Stamp"===i.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"StickyNotes"===i.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"Image"===i.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?i.pdfViewer.element.id+"_annotation_stamp":"HandWrittenSignature"===i.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"SignatureText"===i.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?i.pdfViewer.element.id+"_annotation_handwrittenSign":"SignatureImage"===i.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?i.pdfViewer.element.id+"_annotation_handwrittenImage":"Ink"===i.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||"Path"===i.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?i.pdfViewer.element.id+"_annotation_inkIcon":"Highlight"===e||"Underline"===e||"Strikethrough"===e?i.pdfViewer.element.id+"_highlightIcon":i.pdfViewer.element.id+"_annotation_shapesIcon",i.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(n)}});if(r.isStringTemplate=!0,r.appendTo(o),!(0,t.isNullOrUndefined)(this.pdfViewer.annotationModule.textMarkupAnnotationModule)&&!this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation&&("Line"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&this.enableItems(this.colorDropDownElement.parentElement,!1),"HandWrittenSignature"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType)){var a=document.getElementById(this.pdfViewer.element.id+"_annotation_commentPanel");this.enableItems(a.parentElement,!1)}this.showPropertyTool(r,n)}},e.prototype.showPropertyTool=function(e,t){if(this.toolbar&&this.toolbar.destroy(),this.propertyToolbar=e,this.applyProperiesToolSettings(t),this.pdfViewer.selectedItems.annotations[0]){var i=this.pdfViewer.selectedItems.annotations[0];if("SignatureText"!==i.shapeAnnotationType&&"HandWrittenSignature"!==i.shapeAnnotationType&&"Stamp"!==i.shapeAnnotationType&&"Image"!==i.shapeAnnotationType&&"Ink"!==i.shapeAnnotationType&&"Path"!==i.shapeAnnotationType&&"StickyNotes"!==i.shapeAnnotationType){if(this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.selectedItems.annotations[0].fillColor),this.updateColorInIcon(this.strokeDropDownElement,this.pdfViewer.selectedItems.annotations[0].strokeColor),"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType)this.fontFamilyElement.ej2_instances[0].value=this.pdfViewer.selectedItems.annotations[0].fontFamily,this.fontColorElement.children[0].style.borderBottomColor=this.pdfViewer.selectedItems.annotations[0].fontColor,this.pdfViewer.annotation.modifyTextAlignment(this.pdfViewer.selectedItems.annotations[0].textAlign),this.updateTextAlignInIcon(this.pdfViewer.selectedItems.annotations[0].textAlign)}else this.strokeDropDownElement&&this.updateColorInIcon(this.strokeDropDownElement,this.pdfViewer.selectedItems.annotations[0].strokeColor)}this.toolbarCreated=!0,this.adjustMobileViewer()},e.prototype.stampToolMobileForMobile=function(e){var i=this;this.hideExistingTool(),this.stampToolbarElement&&this.stampToolbarElement.parentElement.removeChild(this.stampToolbarElement),this.stampToolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_stampToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.stampToolbarElement),this.toolbar=new ai.Toolbar({items:this.createStampToolbarItemsForMobile(),width:"",height:"",overflowMode:"Scrollable",clicked:this.onShapeToolbarClicked.bind(this),created:function(){i.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.stampToolbarElement),this.showStampPropertiesTool()},e.prototype.shapeToolMobile=function(e){var i=this;this.hideExistingTool(),this.shapeToolbarElement&&this.shapeToolbarElement.parentElement.removeChild(this.shapeToolbarElement),this.shapeToolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_shapeToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.shapeToolbarElement),this.toolbar=new ai.Toolbar({items:this.createShapeToolbarItemsForMobile(),width:"",height:"",overflowMode:"Scrollable",clicked:this.onShapeToolbarClicked.bind(this),created:function(){i.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e.originalEvent.target.id)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.shapeToolbarElement),this.afterShapeToolbarCreationForMobile(),this.showShapeTool()},e.prototype.calibrateToolMobile=function(e){var i=this;this.hideExistingTool(),this.calibrateToolbarElement&&this.calibrateToolbarElement.parentElement.removeChild(this.calibrateToolbarElement),this.calibrateToolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_calibrateToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.calibrateToolbarElement),this.toolbar=new ai.Toolbar({items:this.createCalibrateToolbarItemsForMobile(),width:"",height:"",overflowMode:"Scrollable",clicked:this.onCalibrateToolbarClicked.bind(this),created:function(){i.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e.originalEvent.target.id)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.calibrateToolbarElement),this.afterCalibrateToolbarCreationForMobile(),this.showShapeTool()},e.prototype.textMarkupForMobile=function(e){var i=this;this.hideExistingTool(),this.textMarkupToolbarElement&&this.textMarkupToolbarElement.parentElement.removeChild(this.textMarkupToolbarElement),this.textMarkupToolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_mobileAnnotationToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.textMarkupToolbarElement);var n=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_color","e-pv-annotation-color-container"),o=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),r=[{prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)},{type:"Separator",align:"Left",cssClass:"e-pv-hightlight-separator-container"},{template:n,align:"left"},{template:o,align:"left"}];this.propertyToolbar=new ai.Toolbar({items:r,width:"",height:"",overflowMode:"Scrollable",created:function(){i.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e.originalEvent.target.id)}}),this.propertyToolbar.isStringTemplate=!0,this.propertyToolbar.appendTo(this.textMarkupToolbarElement),this.showTextMarkupPropertiesTool()},e.prototype.showShapeTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("ColorEditTool")?this.showColorEditTool(!0,7,7):this.showColorEditTool(!1,7,7),-1!==e.indexOf("StrokeColorEditTool")?this.showStrokeColorEditTool(!0,8,8):this.showStrokeColorEditTool(!1,8,8),-1!==e.indexOf("ThicknessEditTool")?this.showThicknessEditTool(!0,9,9):this.showThicknessEditTool(!1,9,9),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,10,10):this.showOpacityEditTool(!1,10,10))},e.prototype.signatureInkForMobile=function(){var e=this;this.hideExistingTool(),this.signatureInkToolbarElement&&this.signatureInkToolbarElement.parentElement.removeChild(this.signatureInkToolbarElement),this.signatureInkToolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_mobileAnnotationToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.signatureInkToolbarElement);var i=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),n=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_stroke","e-pv-annotation-stroke-container"),o=this.getTemplate("span","_annotation_thickness","e-pv-annotation-thickness-container"),r=[{prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)},{template:i,align:"left"},{template:n,aign:"left"},{template:o,align:"left"}];this.toolbar=new ai.Toolbar({items:r,width:"",height:"",overflowMode:"Scrollable",created:function(){e.pdfViewer.toolbarModule.annotationToolbarModule.mobileColorpicker(e.pdfViewer.element.id+"_annotation_inkIcon")}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.signatureInkToolbarElement)},e.prototype.hideExistingTool=function(){this.toolbar&&!this.pdfViewer.enableDesktopMode&&this.toolbar.destroy(),this.propertyToolbar&&!this.pdfViewer.enableDesktopMode&&this.propertyToolbar.destroy();var e=document.getElementById(this.pdfViewer.element.id+"_mobileAnnotationToolbar");e&&(e.style.display="none")},e.prototype.applyProperiesToolSettings=function(e){switch(e){case this.pdfViewer.element.id+"_underlineIcon":case this.pdfViewer.element.id+"_highlightIcon":this.showTextMarkupPropertiesTool();break;case this.pdfViewer.element.id+"_annotation_freeTextEdit":this.showFreeTextPropertiesTool();break;case this.pdfViewer.element.id+"_annotation_shapesIcon":this.shapePropertiesTool();break;case"stampTool":case this.pdfViewer.element.id+"_annotation_stamp":this.showStampPropertiesTool();break;case this.pdfViewer.element.id+"_annotation_handwrittenSign":case this.pdfViewer.element.id+"_annotation_inkIcon":this.showInkPropertiesTool();break;case this.pdfViewer.element.id+"_annotation_handwrittenImage":this.showImagePropertyTool()}},e.prototype.showImagePropertyTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,0,0):this.showOpacityEditTool(!1,0,0),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,1,1):this.showCommentPanelTool(!1,1,1),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,2,2):this.showAnnotationDeleteTool(!1,2,2))},e.prototype.showFreeTextPropertiesTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("FontFamilyAnnotationTool")?this.showFontFamilyAnnotationTool(!0,2,2):this.showFontFamilyAnnotationTool(!1,2,2),-1!==e.indexOf("FontSizeAnnotationTool")?this.showFontSizeAnnotationTool(!0,3,3):this.showFontSizeAnnotationTool(!1,3,3),-1!==e.indexOf("FontColorAnnotationTool")?this.showFontColorAnnotationTool(!0,4,4):this.showFontColorAnnotationTool(!1,4,4),-1!==e.indexOf("FontAlignAnnotationTool")?this.showFontAlignAnnotationTool(!0,5,5):this.showFontAlignAnnotationTool(!1,5,5),-1!==e.indexOf("FontStylesAnnotationTool")?this.showFontStylesAnnotationTool(!0,6,6):this.showFontStylesAnnotationTool(!1,6,6),-1!==e.indexOf("ColorEditTool")?this.showColorEditTool(!0,7,7):this.showColorEditTool(!1,7,7),-1!==e.indexOf("StrokeColorEditTool")?this.showStrokeColorEditTool(!0,8,8):this.showStrokeColorEditTool(!1,8,8),-1!==e.indexOf("ThicknessEditTool")?this.showThicknessEditTool(!0,9,9):this.showThicknessEditTool(!1,9,9),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,10,10):this.showOpacityEditTool(!1,10,10),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,11,11):this.showCommentPanelTool(!1,11,11),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,12,12):this.showAnnotationDeleteTool(!1,12,12),-1!==e.indexOf("FreeTextAnnotationTool")?this.showFreeTextAnnotationTool(!0,0,0):(this.showFreeTextAnnotationTool(!1,0,0),this.applyHideToToolbar(!1,1,1)))},e.prototype.shapePropertiesTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("ColorEditTool")?this.showColorEditTool(!0,2,2):this.showColorEditTool(!1,2,2),-1!==e.indexOf("StrokeColorEditTool")?this.showStrokeColorEditTool(!0,3,3):this.showStrokeColorEditTool(!1,3,3),-1!==e.indexOf("ThicknessEditTool")?this.showThicknessEditTool(!0,4,4):this.showThicknessEditTool(!1,4,4),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,5,5):this.showOpacityEditTool(!1,5,5),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,6,6):this.showCommentPanelTool(!1,6,6),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,7,7):this.showAnnotationDeleteTool(!1,7,7),-1!==e.indexOf("ShapeTool")?this.showShapeAnnotationTool(!0,0,0):(this.showShapeAnnotationTool(!1,0,0),this.applyHideToToolbar(!1,1,1)))},e.prototype.showStampPropertiesTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,2,2):this.showOpacityEditTool(!1,2,2),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,3,3):this.showCommentPanelTool(!1,3,3),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,4,4):this.showAnnotationDeleteTool(!1,4,4),-1!==e.indexOf("StampAnnotationTool")?this.showStampAnnotationTool(!0,0,0):(this.showStampAnnotationTool(!1,0,0),this.applyHideToToolbar(!1,1,1)))},e.prototype.showTextMarkupPropertiesTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("ColorEditTool")?this.showColorEditTool(!0,2,2):this.showColorEditTool(!1,2,2),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,3,3):this.showOpacityEditTool(!1,3,3),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,4,4):this.showCommentPanelTool(!1,4,4),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,5,5):this.showAnnotationDeleteTool(!1,5,5),e.includes("HighlightTool")||e.includes("UnderlineTool")||e.includes("StrikethroughTool")?this.applyHideToToolbar(!0,0,0):(this.applyHideToToolbar(!1,0,0),this.applyHideToToolbar(!1,1,1)))},e.prototype.showInkPropertiesTool=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("StrokeColorEditTool")?this.showStrokeColorEditTool(!0,2,2):this.showStrokeColorEditTool(!1,2,2),-1!==e.indexOf("ThicknessEditTool")?this.showThicknessEditTool(!0,3,3):this.showThicknessEditTool(!1,3,3),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,4,4):this.showOpacityEditTool(!1,4,4),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,5,5):this.showCommentPanelTool(!1,5,5),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,6,6):this.showAnnotationDeleteTool(!1,6,6),-1!==e.indexOf("HandWrittenSignatureTool")?this.showSignatureTool(!0,0,0):(this.showSignatureTool(!1,0,0),this.applyHideToToolbar(!1,1,1)))},e.prototype.createAnnotationToolbarForMobile=function(e){var i;if(e){var n=document.getElementById(e);n.parentElement.classList.contains("e-pv-select")?(i=!0,n.parentElement.classList.remove("e-pv-select")):(i=!1,this.pdfViewer.toolbarModule.selectItem(n.parentElement))}if(i){this.toolbarCreated=!1,this.adjustMobileViewer(),this.toolbar&&(this.toolbar.destroy(),this.deselectAllItemsForMobile()),this.propertyToolbar&&this.propertyToolbar.destroy();var o=document.getElementById(this.pdfViewer.element.id+"_mobileAnnotationToolbar");return o&&(o.style.display="none"),this.pdfViewer.isAnnotationToolbarVisible=!i,[]}this.isToolbarCreated=!0,this.propertyToolbar&&this.propertyToolbar.destroy(),this.toolbarElement&&this.toolbarElement.parentElement.removeChild(this.toolbarElement),this.toolbarElement=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_mobileAnnotationToolbar",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left;"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement);var r=this.getTemplate("span","_annotation_stamp","e-pv-annotation-stamp-container"),a=this.getTemplate("span","_annotation_signature","e-pv-annotation-handwritten-container"),s=[{prefixIcon:"e-pv-comment-icon e-pv-icon",className:"e-pv-comment-container",id:this.pdfViewer.element.id+"_comment"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-highlight-icon e-pv-icon",className:"e-pv-highlight-container",id:this.pdfViewer.element.id+"_highlight"},{prefixIcon:"e-pv-underline-icon e-pv-icon",className:"e-pv-underline-container",id:this.pdfViewer.element.id+"_underline"},{prefixIcon:"e-pv-strikethrough-icon e-pv-icon",className:"e-pv-strikethrough-container",id:this.pdfViewer.element.id+"_strikethrough"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-annotation-shape-icon e-pv-icon",className:"e-pv-annotation-shapes-container",id:this.pdfViewer.element.id+"_annotation_shapes"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-annotation-calibrate-icon e-pv-icon",className:"e-pv-annotation-calibrate-container",id:this.pdfViewer.element.id+"_annotation_calibrate"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-freetext-icon e-pv-icon",className:"e-pv-annotation-freetextedit-container",id:this.pdfViewer.element.id+"_annotation_freeTextEdit"},{type:"Separator",align:"Left"},{template:r},{type:"Separator",align:"Left"},{template:a,align:"Left"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-inkannotation-icon e-pv-icon",className:"e-pv-annotation-ink-container",id:this.pdfViewer.element.id+"_annotation_ink",align:"Left"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-comment-panel-icon e-pv-icon",className:"e-pv-comment-panel-icon-container",id:this.pdfViewer.element.id+"_annotation_commentPanel",align:"Right"}];return this.toolbarCreated&&this.toolbar?(this.toolbar.destroy(),this.toolbarCreated=!1,this.adjustMobileViewer()):(this.toolbar=new ai.Toolbar({items:s,width:"",height:"",overflowMode:"Scrollable",clicked:this.onToolbarClicked.bind(this)}),this.pdfViewer.enableRtl&&(this.toolbar.enableRtl=!0),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(this.toolbarElement),this.afterMobileToolbarCreation(),this.createStampContainer(),this.createSignContainer(),this.applyMobileAnnotationToolbarSettings(),this.toolbarCreated=!0,this.adjustMobileViewer()),this.pdfViewerBase.isTextSelectionDisabled||(this.isMobileHighlightEnabled?(this.primaryToolbar.selectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem)):this.isMobileUnderlineEnabled?(this.primaryToolbar.selectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem)):this.isMobileStrikethroughEnabled&&(this.primaryToolbar.selectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem))),this.pdfViewer.isAnnotationToolbarVisible=!i,s},e.prototype.adjustMobileViewer=function(){var e;this.toolbarElement&&(e=this.toolbarElement.clientHeight);var t=!1;this.toolbarElement&&0===this.toolbarElement.children.length&&this.propertyToolbar&&this.propertyToolbar.element.children.length>0?(e=this.propertyToolbar.element.clientHeight,"none"!==this.pdfViewer.toolbarModule.toolbarElement.style.display||this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.isNavigationToolbarVisible||(this.pdfViewer.toolbarModule.toolbarElement.style.display="block")):this.freetextToolbarElement&&this.freetextToolbarElement.children.length>0?e=this.freetextToolbarElement.clientHeight:0===e&&this.pdfViewer.toolbarModule.toolbar?(e=this.pdfViewer.toolbarModule.toolbarElement.clientHeight,t=!0):!e&&this.propertyToolbar&&this.propertyToolbar.element.children.length>0&&(e=this.propertyToolbar.element.clientHeight),this.pdfViewer.enableToolbar&&this.toolbarCreated?this.pdfViewerBase.viewerContainer.style.height=this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),e+e)+"px":t||(this.pdfViewerBase.viewerContainer.style.height.split("%").length>1?this.pdfViewerBase.viewerContainer.style.height=this.resetViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),-e)+"px":this.pdfViewerBase.viewerContainer.style.height=this.resetViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),e)+"px")},e.prototype.showToolbar=function(e){var i=this.toolbarElement;e?(i.style.display="block",t.Browser.isDevice&&this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.hideMobileAnnotationToolbar()):i.style.display="none"},e.prototype.createMobileToolbarItems=function(e){var t=this.getTemplate("span","_annotation_color","e-pv-annotation-color-container"),i=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),n=[];return n.push({prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)}),e||(n.push({template:t,align:"right"}),n.push({template:i,align:"right"}),n.push({type:"Separator",align:"right"})),n.push({prefixIcon:"e-pv-annotation-delete-icon e-pv-icon",className:"e-pv-annotation-delete-container",id:this.pdfViewer.element.id+"_annotation_delete",align:"right"}),n},e.prototype.goBackToToolbar=function(e){this.isMobileAnnotEnabled=!1,!t.Browser.isDevice&&this.pdfViewer.enableDesktopMode||"Polygon"===this.pdfViewerBase.action&&this.pdfViewerBase.tool.mouseUp(e,!0,!0),this.toolbarElement.children.length>0?this.toolbarElement.style.display="block":(this.toolbarCreated=!1,this.toolbar.destroy(),this.createAnnotationToolbarForMobile());var i=this.pdfViewerBase.getSelectTextMarkupCurrentPage();i&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage=null,this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearAnnotationSelection(i))},e.prototype.createToolbarItems=function(){var e=this.getTemplate("button","_annotation_color","e-pv-annotation-color-container"),t=this.getTemplate("button","_annotation_stroke","e-pv-annotation-stroke-container"),i=this.getTemplate("button","_annotation_thickness","e-pv-annotation-thickness-container"),n=this.getTemplate("button","_annotation_opacity","e-pv-annotation-opacity-container"),o=this.getTemplate("button","_annotation_shapes","e-pv-annotation-shapes-container"),r=this.getTemplate("button","_annotation_calibrate","e-pv-annotation-calibrate-container"),a=this.getTemplate("span","_annotation_stamp","e-pv-annotation-stamp-container"),s=this.getTemplate("button","_annotation_fontname","e-pv-annotation-fontname-container"),l=this.getTemplate("button","_annotation_fontsize","e-pv-annotation-fontsize-container"),d=this.getTemplate("button","_annotation_textcolor","e-pv-annotation-textcolor-container"),h=this.getTemplate("button","_annotation_textalign","e-pv-annotation-textalign-container"),A=this.getTemplate("button","_annotation_textproperties","e-pv-annotation-textprop-container"),p=this.getTemplate("button","_annotation_signature","e-pv-annotation-handwritten-container"),c=[];return c.push({prefixIcon:"e-pv-highlight-icon e-pv-icon",className:"e-pv-highlight-container",id:this.pdfViewer.element.id+"_highlight",align:"Left"}),c.push({prefixIcon:"e-pv-underline-icon e-pv-icon",className:"e-pv-underline-container",id:this.pdfViewer.element.id+"_underline",align:"Left"}),c.push({prefixIcon:"e-pv-strikethrough-icon e-pv-icon",className:"e-pv-strikethrough-container",id:this.pdfViewer.element.id+"_strikethrough",align:"Left"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-hightlight-separator-container"}),c.push({template:o,align:"Left",cssClass:"e-pv-shape-template-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-shape-separator-container"}),c.push({template:r,align:"Left",cssClass:"e-pv-calibrate-template-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-calibrate-separator-container"}),c.push({prefixIcon:"e-pv-freetext-icon e-pv-icon",className:"e-pv-annotation-freetextedit-container",id:this.pdfViewer.element.id+"_annotation_freeTextEdit",align:"Left"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-freetext-separator-container"}),c.push({template:a,align:"Left",cssClass:"e-pv-stamp-template-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-stamp-separator-container"}),c.push({template:p,align:"Left",cssClass:"e-pv-sign-template-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-sign-separator-container"}),c.push({prefixIcon:"e-pv-inkannotation-icon e-pv-icon",className:"e-pv-annotation-ink-container",id:this.pdfViewer.element.id+"_annotation_ink",align:"Left"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-ink-separator-container"}),c.push({template:s,align:"Left",cssClass:"e-pv-fontfamily-container"}),c.push({template:l,align:"Left",cssClass:"e-pv-fontsize-container"}),c.push({template:d,align:"Left",cssClass:"e-pv-text-color-container"}),c.push({template:h,align:"Left",cssClass:"e-pv-alignment-container"}),c.push({template:A,align:"Left",cssClass:"e-pv-text-properties-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-text-separator-container"}),c.push({template:e,align:"Left",cssClass:"e-pv-color-template-container"}),c.push({template:t,align:"Left",cssClass:"e-pv-stroke-template-container"}),c.push({template:i,align:"Left",cssClass:"e-pv-thickness-template-container"}),c.push({template:n,align:"Left",cssClass:"e-pv-opacity-template-container"}),c.push({type:"Separator",align:"Left",cssClass:"e-pv-opacity-separator-container"}),c.push({prefixIcon:"e-pv-annotation-delete-icon e-pv-icon",className:"e-pv-annotation-delete-container",id:this.pdfViewer.element.id+"_annotation_delete",align:"Left"}),c.push({prefixIcon:"e-pv-comment-panel-icon e-pv-icon",className:"e-pv-comment-panel-icon-container",id:this.pdfViewer.element.id+"_annotation_commentPanel",align:"Right"}),c.push({prefixIcon:"e-pv-annotation-tools-close-icon e-pv-icon",className:"e-pv-annotation-tools-close-container",id:this.pdfViewer.element.id+"_annotation_close",align:"Right"}),c},e.prototype.createSignContainer=function(){var e=this;this.handWrittenSignatureItem=this.pdfViewerBase.getElement("_annotation_signature"),this.primaryToolbar.createTooltip(this.pdfViewerBase.getElement("_annotation_signature"),this.pdfViewer.localeObj.getConstant("SignatureFieldDialogHeaderText")),this.handWrittenSignatureItem.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("SignatureFieldDialogHeaderText"));var i=this,n={items:this.pdfViewer.handWrittenSignatureSettings||0===this.pdfViewer.handWrittenSignatureSettings.signatureItem.length||2===this.pdfViewer.handWrittenSignatureSettings.signatureItem.length?[{text:"ADD SIGNATURE"},{separator:!0},{text:"ADD INITIAL"}]:"Signature"===this.pdfViewer.handWrittenSignatureSettings.signatureItem[0]?[{text:"ADD SIGNATURE"}]:[{text:"ADD INITIAL"}],iconCss:"e-pv-handwritten-icon e-pv-icon",cssClass:"e-pv-handwritten-popup",open:function(e){i.openSignature()},beforeItemRender:function(i){if(e.pdfViewer.annotation.triggerAnnotationUnselectEvent(),e.pdfViewer.annotation.triggerSignatureUnselectEvent(),e.pdfViewer.clearSelection(e.pdfViewerBase.currentPageNumber-1),i.element&&-1!==i.element.className.indexOf("e-separator")&&(i.element.style.margin="8px 0",i.element.setAttribute("role","menuitem"),i.element.setAttribute("aria-label","separator")),"ADD SIGNATURE"===i.item.text){i.element.innerHTML="",e.saveSignatureCount=0;for(var n=e.pdfViewerBase.signatureModule.signaturecollection.length;n>0;n--)if(e.saveSignatureCount<e.pdfViewerBase.signatureModule.getSaveLimit(e.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit)){i.element.style.display="block";var o=(s=e.pdfViewerBase.signatureModule.signaturecollection[n-1]).image[0].imageData,r=s.image[0].id.split("_")[1];if(!s.isInitial&&""!==o){(l=(0,t.createElement)("div")).id="s"+r,l.style.display="block",l.style.paddingBottom="10px",(d=(0,t.createElement)("span")).id="sign_border_"+r,d.classList.add("e-pv-align-border");var a=void 0;"SignatureText"===s.image[0].signatureType?((a=(0,t.createElement)("div")).classList.add("e-pv-align-border-div"),a.innerText=o,a.style.fontFamily=s.image[0].fontFamily,a.style.fontSize="15px",a.style.display="inline-flex",a.style.alignItems="center",a.style.position="relative",a.id="sign_"+r,a.style.width="80px",a.style.height="53px",a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.style.paddingLeft="11px"):((a=(0,t.createElement)("img")).id="sign_"+r,a.src=o,a.width=80,a.height=32,a.classList.add("e-pv-signatureimage"),a.style.paddingLeft="20px",a.style.paddingRight="18px",a.style.paddingTop="12px",a.style.paddingBottom="12px",a.style.boxSizing="content-box",a.setAttribute("alt","Saved Signature")),a.addEventListener("mouseover",e.hoverSignatureImage.bind(e)),a.addEventListener("mouseleave",e.leaveSignatureImage.bind(e)),(h=(0,t.createElement)("span")).id="delete_"+r,h.classList.add("e-pv-delete"),h.classList.add("e-pv-align"),d.append(a),d.append(h),l.append(d),i.element.appendChild(l),i.element.style.pointerEvents="auto",i.element.style.background="none",e.pdfViewerBase.getElement("_annotation_signature-popup").style.width="206px",e.saveSignatureCount++}}(A=(0,t.createElement)("button")).classList.add("e-control","e-btn","e-lib","e-outline","e-primary"),A.textContent=e.pdfViewer.localeObj.getConstant("HandwrittenSignatureDialogHeaderText"),"en-US"===e.pdfViewer.locale?(A.style.minWidth="130px",A.style.width="auto"):A.style.width="auto",A.style.height="36px",A.addEventListener("click",e.clickSignature.bind(e)),i.element.appendChild(A),i.element.addEventListener("mouseover",e.hoverInitialBtn.bind(e)),i.element.style.minWidth="206px",i.element.style.width="auto",i.element.style.display="flex",i.element.style.flexDirection="column",i.element.style.height="auto",i.element.style.alignItems="center",i.element.setAttribute("role","menuitem")}if("ADD INITIAL"===i.item.text){e.saveInitialCount=0,i.element.innerHTML="";for(n=e.pdfViewerBase.signatureModule.signaturecollection.length;n>0;n--)if(e.saveInitialCount<e.pdfViewerBase.signatureModule.getSaveLimit(e.pdfViewer.handWrittenSignatureSettings.saveInitialLimit)){var s;o=(s=e.pdfViewerBase.signatureModule.signaturecollection[n-1]).image[0].imageData,r=s.image[0].id.split("_")[1];if(s.isInitial&&""!==o){var l,d;(l=(0,t.createElement)("div")).id="s"+r,l.style.display="block",l.style.paddingBottom="10px",(d=(0,t.createElement)("span")).id="sign_border_"+r,d.classList.add("e-pv-align-border");var h;a=void 0;"SignatureText"===s.image[0].signatureType?((a=(0,t.createElement)("div")).classList.add("e-pv-align-border-div"),a.innerText=o,a.style.fontFamily=s.image[0].fontFamily,a.style.fontSize="15px",a.style.display="inline-flex",a.style.alignItems="center",a.style.position="relative",a.id="sign_"+r,a.style.width="80px",a.style.height="53px",a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.style.paddingLeft="11px"):((a=(0,t.createElement)("img")).id="sign_"+r,a.src=o,a.width=80,a.height=32,a.classList.add("e-pv-signatureimage"),a.style.paddingLeft="20px",a.style.paddingRight="18px",a.style.paddingTop="12px",a.style.paddingBottom="12px",a.style.boxSizing="content-box",a.setAttribute("alt","Saved Initial")),a.addEventListener("mouseover",e.hoverSignatureImage.bind(e)),a.addEventListener("mouseleave",e.leaveSignatureImage.bind(e)),a.width=80,a.height=32,(h=(0,t.createElement)("span")).id="delete_"+r,h.classList.add("e-pv-delete"),h.classList.add("e-pv-align"),d.append(a),d.append(h),l.append(d),i.element.appendChild(l),i.element.style.pointerEvents="auto",i.element.style.background="none",e.pdfViewerBase.getElement("_annotation_signature-popup").style.width="206px",e.saveInitialCount++}}var A;e.isSignatureIteam=!1,(A=(0,t.createElement)("button")).classList.add("e-control","e-btn","e-lib","e-outline","e-primary"),A.textContent=e.pdfViewer.localeObj.getConstant("HandwrittenInitialDialogHeaderText"),"en-US"===e.pdfViewer.locale?(A.style.minWidth="130px",A.style.width="auto"):A.style.width="auto",A.style.height="36px",A.addEventListener("click",e.clickInitial.bind(e)),i.element.appendChild(A),i.element.addEventListener("mouseover",e.hoverInitialBtn.bind(e)),i.element.style.minWidth="206px",i.element.style.width="auto",i.element.style.display="flex",i.element.style.flexDirection="column",i.element.style.height="auto",i.element.style.alignItems="center",i.element.setAttribute("role","menuitem")}},select:function(t){e.pdfViewer.clearSelection(e.pdfViewerBase.currentPageNumber-1)}},o=new Re.DropDownButton(n);this.pdfViewer.enableRtl&&(o.enableRtl=this.pdfViewer.enableRtl),o.appendTo(this.handWrittenSignatureItem)},e.prototype.updateSignatureCount=function(){this.openSignaturePopup=!1;for(var e=this.pdfViewerBase.signatureModule.signaturecollection,t=0;t<e.length;t++){""===e[parseInt(t.toString(),10)].image[0].imageData&&0}},e.prototype.openSignature=function(){this.saveInitialCount=0,this.saveSignatureCount=0;for(var e=this.pdfViewerBase.signatureModule.signaturecollection.length;e>0;e--){if(this.saveSignatureCount<this.pdfViewerBase.signatureModule.getSaveLimit(this.pdfViewer.handWrittenSignatureSettings.saveSignatureLimit))if(""!==(i=this.pdfViewerBase.signatureModule.signaturecollection[e-1]).image[0].imageData&&!i.isInitial){this.saveSignatureCount++;var t=document.getElementById("sign_border_"+i.image[0].id.split("_")[1]);(n=document.getElementById("delete_"+i.image[0].id.split("_")[1])).style.backgroundClip="content-box",t.addEventListener("click",this.renderAddedSignature.bind(this)),n.addEventListener("click",this.deleteSavedSign.bind(this)),n.addEventListener("mouseover",this.hoverSignatureDelete.bind(this)),n.addEventListener("mouseleave",this.leaveSignatureDelete.bind(this)),t.addEventListener("mouseover",this.hoverSignatureDelete.bind(this)),t.addEventListener("mouseleave",this.leaveSignatureDelete.bind(this))}}for(e=this.pdfViewerBase.signatureModule.signaturecollection.length;e>0;e--){var i;if(this.saveInitialCount<this.pdfViewerBase.signatureModule.getSaveLimit(this.pdfViewer.handWrittenSignatureSettings.saveInitialLimit))if(""!==(i=this.pdfViewerBase.signatureModule.signaturecollection[e-1]).image[0].imageData&&i.isInitial){this.saveInitialCount++;var n;t=document.getElementById("sign_border_"+i.image[0].id.split("_")[1]);(n=document.getElementById("delete_"+i.image[0].id.split("_")[1])).style.backgroundClip="content-box",t.addEventListener("click",this.renderAddedSignature.bind(this)),n.addEventListener("click",this.deleteSavedSign.bind(this)),n.addEventListener("mouseover",this.hoverSignatureDelete.bind(this)),n.addEventListener("mouseleave",this.leaveSignatureDelete.bind(this)),t.addEventListener("mouseover",this.hoverSignatureDelete.bind(this)),t.addEventListener("mouseleave",this.leaveSignatureDelete.bind(this))}}},e.prototype.hoverSignatureDelete=function(){var e=event.target;(e.id==="sign_"+e.id.split("_")[1]||e.classList.contains("e-pv-delete"))&&(e.classList.add("e-pv-signaturehover"),e.style.cursor="pointer")},e.prototype.hoverInitialBtn=function(e){var i=e.target,n="";if((n=-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")?i.id:(0,t.isNullOrUndefined)(e.path)?e.composedPath()[0].id:e.path[0].id)!=="sign_"+n.split("_")[1]&&n!=="delete_"+n.split("_")[1]){var o=document.getElementById(i.id);(0,t.isNullOrUndefined)(o)&&(o=document.getElementById(i.parentElement.id)),null==o||i.id==="sign_"+i.id.split("_")[1]&&i.id==="sign_border_"+i.id.split("_")[2]?null==o.parentElement||i.id==="sign_"+i.id.split("_")[1]&&i.id==="sign_border_"+i.id.split("_")[2]||(o.parentElement.style.background="transparent",o.parentElement.style.cursor="default"):(o.style.background="transparent",o.style.cursor="default")}},e.prototype.hoverSignatureImage=function(){var e=event.target;(e.id==="sign_"+e.id.split("_")[1]||e.classList.contains("e-pv-delete"))&&(e.classList.add("e-pv-signaturehover"),e.classList.remove("e-pv-signatureimage"),e.style.cursor="pointer")},e.prototype.leaveSignatureDelete=function(){var e=event.target;(e.id==="sign_"+e.id.split("_")[1]||e.classList.contains("e-pv-delete"))&&(e.classList.remove("e-pv-signaturehover"),e.children[0]&&"IMG"===e.children[0].tagName&&e.children[0].classList.remove("e-pv-signaturehover"),e.style.cursor="default")},e.prototype.clickSignature=function(){this.pdfViewerBase.isInitialField=!1,this.addSignature()},e.prototype.clickInitial=function(){this.pdfViewerBase.isInitialField=!0,this.addSignature()},e.prototype.leaveSignatureImage=function(){var e=event.target;(e.id==="sign_"+e.id.split("_")[1]||e.classList.contains("e-pv-delete"))&&(e.classList.remove("e-pv-signaturehover"),"IMG"===e.tagName&&e.classList.add("e-pv-signatureimage"),e.children[0]&&"IMG"===e.children[0].tagName&&(e.children[0].classList.remove("e-pv-signaturehover"),e.children[0].classList.add("e-pv-signatureimage")),e.style.cursor="default")},e.prototype.addSignature=function(){this.deselectAllItems(),this.deselectAllItemsForMobile(),this.showSignaturepanel()},e.prototype.renderAddedSignature=function(){this.pdfViewerBase.isAddedSignClicked=!0,this.isSavedSignatureClicked=!0,this.pdfViewerBase.signatureModule.RenderSavedSignature()},e.prototype.deleteSavedSign=function(e){e.stopPropagation();for(var t=this.pdfViewerBase.signatureModule.signaturecollection,i=t.length;i>0;i--)if(e.target.parentElement.children[0].id==="sign_"+t[i-1].image[0].id.split("_")[1]){t[i-1].image[0].imageData="",this.pdfViewerBase.signatureModule.signaturecollection.splice(i-1,1);break}e.target.parentElement.remove()},e.prototype.getTemplate=function(e,i,n){var o=(0,t.createElement)(e,{id:this.pdfViewer.element.id+i});return n&&(o.className=n),o.outerHTML},e.prototype.createStampContainer=function(){var e=this;this.stampElement=this.pdfViewerBase.getElement("_annotation_stamp"),this.primaryToolbar.createTooltip(this.pdfViewerBase.getElement("_annotation_stamp"),this.pdfViewer.localeObj.getConstant("Add Stamp")),this.stampElement.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Add Stamp")),this.stampElement.setAttribute("role","combobox"),this.stampElement.setAttribute("aria-expanded","false");var i=(0,t.createElement)("ul",{id:this.pdfViewer.element.id+"contextMenuElement"});this.pdfViewerBase.getElement("_annotation_stamp").appendChild(i);var n=[];if(this.pdfViewer.stampSettings){if(((0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.dynamicStamps)||0===this.pdfViewer.stampSettings.dynamicStamps.length)&&(this.pdfViewer.stampSettings.dynamicStamps=[_e.Revised,_e.Reviewed,_e.Received,_e.Confidential,_e.Approved,_e.NotApproved]),this.pdfViewer.stampSettings.dynamicStamps&&this.pdfViewer.stampSettings.dynamicStamps.length>0){var o=[];n.push({text:this.pdfViewer.localeObj.getConstant("Dynamic"),label:"Dynamic",items:o}),this.pdfViewer.stampSettings.dynamicStamps.forEach((function(t,i){var n=_e[t];if("NotApproved"===n)n="Not Approved";o.push({text:e.pdfViewer.localeObj.getConstant(n),label:n})}))}if(((0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.signStamps)||0===this.pdfViewer.stampSettings.signStamps.length)&&(this.pdfViewer.stampSettings.signStamps=[De.Witness,De.InitialHere,De.SignHere,De.Accepted,De.Rejected]),this.pdfViewer.stampSettings.signStamps&&this.pdfViewer.stampSettings.signStamps.length>0){var r=[];n.push({text:this.pdfViewer.localeObj.getConstant("Sign Here"),label:"Sign Here",items:r}),this.pdfViewer.stampSettings.signStamps.forEach((function(t,i){var n=De[t];switch(n){case"InitialHere":n="Initial Here";break;case"SignHere":n="Sign Here"}r.push({text:e.pdfViewer.localeObj.getConstant(n),label:n})}))}if(((0,t.isNullOrUndefined)(this.pdfViewer.stampSettings.standardBusinessStamps)||0===this.pdfViewer.stampSettings.standardBusinessStamps.length)&&(this.pdfViewer.stampSettings.standardBusinessStamps=[Me.Approved,Me.NotApproved,Me.Draft,Me.Final,Me.Completed,Me.Confidential,Me.ForPublicRelease,Me.NotForPublicRelease,Me.ForComment,Me.Void,Me.PreliminaryResults,Me.InformationOnly]),this.pdfViewer.stampSettings.standardBusinessStamps&&this.pdfViewer.stampSettings.standardBusinessStamps.length>0){var a=[];n.push({text:this.pdfViewer.localeObj.getConstant("Standard Business"),label:"Standard Business",items:a}),this.pdfViewer.stampSettings.standardBusinessStamps.forEach((function(t,i){var n=Me[t];switch(n){case"NotApproved":n="Not Approved";break;case"ForPublicRelease":n="For Public Release";break;case"NotForPublicRelease":n="Not For Public Release";break;case"ForComment":n="For Comment";break;case"PreliminaryResults":n="Preliminary Results";break;case"InformationOnly":n="Information Only"}a.push({text:e.pdfViewer.localeObj.getConstant(n),label:n})}))}}(0,t.isNullOrUndefined)(this.pdfViewer.customStampSettings)||!this.pdfViewer.customStampSettings.enableCustomStamp&&!(0,t.isNullOrUndefined)(this.pdfViewer.customStampSettings.enableCustomStamp)||(n.length>0&&n.push({separator:!0}),n.push({text:this.pdfViewer.localeObj.getConstant("Custom Stamp"),label:"Custom Stamp",items:[]}),this.pdfViewerBase.customStampCollection=this.pdfViewer.customStampSettings.customStamps?this.pdfViewer.customStampSettings.customStamps:[]),this.stampMenu=[{iconCss:"e-pv-stamp-icon e-pv-icon",items:n}];var s={items:this.stampMenu,cssClass:"e-custom-scroll",showItemOnClick:!0,enableScrolling:!0,beforeOpen:function(i){if(e.resetFreeTextAnnot(),""===i.parentItem.text&&e.pdfViewer.customStampSettings.isAddToMenu&&i.items.length>0){for(var n=null,o=0;o<i.items.length;o++)if(i.items[parseInt(o.toString(),10)].text===e.pdfViewer.localeObj.getConstant("Custom Stamp")){i.items[parseInt(o.toString(),10)].items=[],n=i.items[parseInt(o.toString(),10)];break}var r=e.pdfViewerBase.customStampCollection,a=e.pdfViewer.customStampSettings.customStamps;if(0===r.length&&a&&a.length>0)for(var s=0;s<a.length;s++)r.push({customStampName:a[parseInt(s.toString(),10)].customStampName,customStampImageSource:a[parseInt(s.toString(),10)].customStampImageSource});for(var l=0;l<r.length;l++)if(null!=n){n.items.push({text:r[parseInt(l.toString(),10)].customStampName});for(o=0;o<i.items.length;o++)if(i.items[parseInt(o.toString(),10)].text===e.pdfViewer.localeObj.getConstant("Custom Stamp")){var d=i.element.children[parseInt(o.toString(),10)];if(d&&!d.childElementCount){var h=document.createElement("span");h.className="e-icons e-caret e-menu-caret-icon",d.appendChild(h),d.setAttribute("aria-haspopup","true"),d.setAttribute("aria-expanded","false")}}}}i.parentItem.text===e.pdfViewer.localeObj.getConstant("Custom Stamp")&&((a=e.pdfViewer.customStampSettings.customStamps)&&a.length>10&&((0,t.closest)(i.element,".e-menu-wrapper").style.height="350px"));e.stampParentID=i.parentItem.text,e.menuItems.showItemOnClick=!1},beforeClose:function(t){(t.parentItem&&t.parentItem.text!==e.pdfViewer.localeObj.getConstant("Custom Stamp")&&"Standard Business"!==t.parentItem.text&&"Dynamic"!==t.parentItem.text&&"Sign Here"!==t.parentItem.text||!t.parentItem)&&(e.menuItems.showItemOnClick=!0)},select:function(i){if(e.pdfViewerBase.isAlreadyAdded=!1,i.item.text===e.pdfViewer.localeObj.getConstant("Custom Stamp")){e.updateInteractionTools(),e.checkStampAnnotations(),e.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0;var n=document.getElementById(e.pdfViewer.element.id+"_stampElement");n&&n.click(),e.pdfViewer.annotation.triggerAnnotationUnselectEvent(),e.pdfViewer.annotation.triggerSignatureUnselectEvent()}else if(e.stampParentID===e.pdfViewer.localeObj.getConstant("Custom Stamp")&&""!==i.item.text)for(var o=e.pdfViewerBase.customStampCollection,r=0;r<o.length;r++)o[parseInt(r.toString(),10)].customStampName===i.item.text&&(e.pdfViewer.annotationModule.stampAnnotationModule.customStampName=i.item.text,e.checkStampAnnotations(),e.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,e.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,e.pdfViewerBase.stampAdded=!0,e.pdfViewerBase.isAlreadyAdded=!0,e.pdfViewer.annotationModule.stampAnnotationModule.createCustomStampAnnotation(o[parseInt(r.toString(),10)].customStampImageSource),e.pdfViewerBase.stampAdded=!1);else i.item.text===e.pdfViewer.localeObj.getConstant("Dynamic")||""===i.item.text||"Standard Business"===i.item.text||"Sign Here"!==e.stampParentID&&"Sign Here"===i.item.text||(e.updateInteractionTools(),e.checkStampAnnotations(),e.pdfViewer.annotation.stampAnnotationModule.isStampAddMode=!0,e.pdfViewer.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,e.pdfViewerBase.stampAdded=!0,e.pdfViewer.annotation.triggerAnnotationUnselectEvent(),e.pdfViewer.annotation.triggerSignatureUnselectEvent(),e.stampParentID===e.pdfViewer.localeObj.getConstant("Dynamic")?(e.pdfViewerBase.isDynamicStamp=!0,e.pdfViewer.annotationModule.stampAnnotationModule.retrieveDynamicStampAnnotation(i.item.label)):(e.pdfViewerBase.isDynamicStamp=!1,e.pdfViewer.annotationModule.stampAnnotationModule.retrievestampAnnotation(i.item.label)),t.Browser.isDevice&&e.stampToolMobileForMobile(e.pdfViewer.element.id+"_annotation_stamp"))}};return this.menuItems=new ai.Menu(s,"#"+this.pdfViewer.element.id+"contextMenuElement"),i.parentElement.classList.add("e-pv-stamp"),this.pdfViewer.enableRtl&&(this.menuItems.enableRtl=!0),i},e.prototype.createCustomStampElement=function(){var e=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_stampElement",attrs:{type:"file"}});e.setAttribute("accept",".jpg,.jpeg,.png"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.visibility="hidden",document.body.appendChild(e),e.addEventListener("change",this.addStampImage)},e.prototype.checkStampAnnotations=function(){if(this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode&&this.pdfViewer.selectedItems&&this.pdfViewer.selectedItems.annotations)for(var e=0;e<this.pdfViewer.selectedItems.annotations.length;e++){var t=this.pdfViewer.selectedItems.annotations[parseInt(e.toString(),10)];!t||t.annotName||t.author||"Shape"===t.shapeAnnotationType&&"Image"===t.shapeAnnotationType||(this.pdfViewer.remove(t),this.pdfViewer.annotation.renderAnnotations(t.pageIndex,null,null,null),this.pdfViewer.clearSelection(t.pageIndex))}},e.prototype.createDropDowns=function(e){var i=this;if(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode){this.shapeElement=this.pdfViewerBase.getElement("_annotation_shapes");var n=this.createShapeOptions(this.shapeElement.id,!0);this.shapeDropDown=this.createDropDownButton(this.shapeElement,"e-pv-annotation-shape-icon",n.element,this.pdfViewer.localeObj.getConstant("Add Shapes")),this.calibrateElement=this.pdfViewerBase.getElement("_annotation_calibrate");var o=this.createShapeOptions(this.calibrateElement.id,!1);this.calibrateDropDown=this.createDropDownButton(this.calibrateElement,"e-pv-annotation-calibrate-icon",o.element,this.pdfViewer.localeObj.getConstant("Calibrate"))}if(e||(this.colorDropDownElement=this.pdfViewerBase.getElement("_annotation_color"),this.colorPalette=this.createColorPicker(this.colorDropDownElement.id),this.colorPalette.change=this.onColorPickerChange.bind(this),this.colorDropDown=this.createDropDownButton(this.colorDropDownElement,"e-pv-annotation-color-icon",this.colorPalette.element.parentElement,this.pdfViewer.localeObj.getConstant("Color edit")),this.colorDropDown.beforeOpen=this.colorDropDownBeforeOpen.bind(this),this.colorDropDown.open=this.colorDropDownOpen.bind(this),this.pdfViewerBase.getElement("_annotation_color-popup").addEventListener("click",this.onColorPickerCancelClick.bind(this))),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode){this.strokeDropDownElement=this.pdfViewerBase.getElement("_annotation_stroke"),this.strokeColorPicker=this.createColorPicker(this.strokeDropDownElement.id),this.strokeColorPicker.change=this.onStrokePickerChange.bind(this),this.strokeDropDown=this.createDropDownButton(this.strokeDropDownElement,"e-pv-annotation-stroke-icon",this.strokeColorPicker.element.parentElement,this.pdfViewer.localeObj.getConstant("Stroke edit")),this.strokeDropDown.beforeOpen=this.strokeDropDownBeforeOpen.bind(this),this.strokeDropDown.open=this.strokeDropDownOpen.bind(this),this.pdfViewerBase.getElement("_annotation_stroke-popup").addEventListener("click",this.onStrokePickerCancelClick.bind(this)),this.thicknessElement=this.pdfViewerBase.getElement("_annotation_thickness");var r=this.createThicknessSlider(this.thicknessElement.id);this.thicknessDropDown=this.createDropDownButton(this.thicknessElement,"e-pv-annotation-thickness-icon",r,this.pdfViewer.localeObj.getConstant("Change thickness")),this.thicknessDropDown.beforeOpen=this.thicknessDropDownBeforeOpen.bind(this),this.thicknessSlider.change=this.thicknessChange.bind(this),this.thicknessSlider.changed=this.thicknessChange.bind(this),this.pdfViewer.enableRtl||(this.thicknessDropDown.open=this.thicknessDropDownOpen.bind(this))}if(!e){this.opacityDropDownElement=this.pdfViewerBase.getElement("_annotation_opacity");var a=this.createSlider(this.opacityDropDownElement.id);this.opacityDropDown=this.createDropDownButton(this.opacityDropDownElement,"e-pv-annotation-opacity-icon",a,this.pdfViewer.localeObj.getConstant("Opacity edit")),this.opacityDropDown.beforeOpen=this.opacityDropDownBeforeOpen.bind(this),this.opacitySlider.change=this.opacityChange.bind(this),this.opacitySlider.changed=this.opacityChange.bind(this),this.pdfViewer.enableRtl||(this.opacityDropDown.open=this.opacityDropDownOpen.bind(this))}t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.fontFamilyElement=this.pdfViewerBase.getElement("_annotation_fontname"),this.createDropDownListForFamily(this.fontFamilyElement),this.fontFamilyElement.addEventListener("change",(function(){i.onFontFamilyChange.bind(i)})),this.fontSizeElement=this.pdfViewerBase.getElement("_annotation_fontsize"),this.createDropDownListForSize(this.fontSizeElement),this.fontColorElement=this.pdfViewerBase.getElement("_annotation_textcolor"),this.fontColorPalette=this.createColorPicker(this.fontColorElement.id),this.fontColorPalette.change=this.onFontColorChange.bind(this),this.fontColorDropDown=this.createDropDownButton(this.fontColorElement,"e-pv-annotation-textcolor-icon",this.fontColorPalette.element.parentElement,this.pdfViewer.localeObj.getConstant("Font color")),this.textAlignElement=this.pdfViewerBase.getElement("_annotation_textalign"),this.alignmentToolbar=this.createShapeOptions(this.textAlignElement.id,void 0,!0),this.textAlignDropDown=this.createDropDownButton(this.textAlignElement,"e-pv-annotation-textalign-icon",this.alignmentToolbar.element,this.pdfViewer.localeObj.getConstant("Text Align")),this.textAlignDropDown.beforeOpen=this.textAlignDropDownBeforeOpen.bind(this),this.textPropElement=this.pdfViewerBase.getElement("_annotation_textproperties"),this.propertiesToolbar=this.createShapeOptions(this.textPropElement.id,void 0,!1,!0),this.textPropertiesDropDown=this.createPropDropDownButton(this.textPropElement,"e-pv-annotation-textprop-icon",this.propertiesToolbar.element,this.pdfViewer.localeObj.getConstant("Text Properties")),this.textPropertiesDropDown.beforeOpen=this.textPropertiesDropDownBeforeOpen.bind(this))},e.prototype.mobileColorpicker=function(e){var t=this;this.opacityDropDownElement=this.pdfViewerBase.getElement("_annotation_opacity");var i=this.createSlider(this.opacityDropDownElement.id);if(this.opacityDropDown=this.createDropDownButton(this.opacityDropDownElement,"e-pv-annotation-opacity-icon",i,this.pdfViewer.localeObj.getConstant("Opacity edit")),this.opacityDropDown.beforeOpen=this.opacityDropDownBeforeOpen.bind(this),this.opacitySlider.change=this.opacityChange.bind(this),this.opacitySlider.changed=this.opacityChange.bind(this),this.pdfViewer.enableRtl||(this.opacityDropDown.open=this.opacityDropDownOpen.bind(this)),e===this.pdfViewer.element.id+"_annotation_shapes"?e=this.pdfViewer.element.id+"_annotation_shapesIcon":e===this.pdfViewer.element.id+"_annotation_calibrate"?e=this.pdfViewer.element.id+"_annotation_calibrateIcon":e===this.pdfViewer.element.id+"_highlight"?e=this.pdfViewer.element.id+"_highlightIcon":e===this.pdfViewer.element.id+"_underline"?e=this.pdfViewer.element.id+"_underlineIcon":e===this.pdfViewer.element.id+"_strikethrough"&&(e=this.pdfViewer.element.id+"_strikethroughIcon"),(e===this.pdfViewer.element.id+"_annotation_shapesIcon"||e===this.pdfViewer.element.id+"_annotation_calibrateIcon"||e===this.pdfViewer.element.id+"_annotation_freeTextEdit"||e===this.pdfViewer.element.id+"_highlightIcon"||e===this.pdfViewer.element.id+"_underlineIcon"||e===this.pdfViewer.element.id+"_strikethroughIcon"||e===this.pdfViewer.element.id+"_annotation_inkIcon"||e===this.pdfViewer.element.id+"_annotation_handwrittenSign")&&(e!==this.pdfViewer.element.id+"_annotation_handwrittenSign"&&e!==this.pdfViewer.element.id+"_annotation_inkIcon"&&(this.colorDropDownElement=this.pdfViewerBase.getElement("_annotation_color"),this.colorPalette=this.createColorPicker(this.colorDropDownElement.id),this.colorPalette.change=this.onColorPickerChange.bind(this),this.colorDropDown=this.createDropDownButton(this.colorDropDownElement,"e-pv-annotation-color-icon",this.colorPalette.element.parentElement,this.pdfViewer.localeObj.getConstant("Color edit")),this.colorDropDown.beforeOpen=this.colorDropDownBeforeOpen.bind(this),this.colorDropDown.open=this.colorDropDownOpen.bind(this),this.pdfViewerBase.getElement("_annotation_color-popup").addEventListener("click",this.onColorPickerCancelClick.bind(this))),e===this.pdfViewer.element.id+"_annotation_freeTextEdit"&&(this.fontFamilyElement=this.pdfViewerBase.getElement("_annotation_fontname"),this.createDropDownListForFamily(this.fontFamilyElement),this.fontFamilyElement.style.textAlign="left",this.fontFamilyElement.addEventListener("change",(function(){t.onFontFamilyChange.bind(t)})),this.fontSizeElement=this.pdfViewerBase.getElement("_annotation_fontsize"),this.createDropDownListForSize(this.fontSizeElement),this.fontColorElement=this.pdfViewerBase.getElement("_annotation_textcolor"),this.fontColorPalette=this.createColorPicker(this.fontColorElement.id),this.fontColorPalette.change=this.onFontColorChange.bind(this),this.fontColorDropDown=this.createDropDownButton(this.fontColorElement,"e-pv-annotation-textcolor-icon",this.fontColorPalette.element.parentElement,this.pdfViewer.localeObj.getConstant("Font color")),this.textAlignElement=this.pdfViewerBase.getElement("_annotation_textalign"),this.alignmentToolbar=this.createShapeOptions(this.textAlignElement.id,void 0,!0),this.textAlignDropDown=this.createDropDownButton(this.textAlignElement,"e-pv-annotation-textalign-icon",this.alignmentToolbar.element,this.pdfViewer.localeObj.getConstant("Text Align")),this.textAlignDropDown.beforeOpen=this.textAlignDropDownBeforeOpen.bind(this),this.textPropElement=this.pdfViewerBase.getElement("_annotation_textproperties"),this.propertiesToolbar=this.createShapeOptions(this.textPropElement.id,void 0,!1,!0),this.textPropertiesDropDown=this.createPropDropDownButton(this.textPropElement,"e-pv-annotation-textprop-icon",this.propertiesToolbar.element,this.pdfViewer.localeObj.getConstant("Text Properties")),this.textPropertiesDropDown.beforeOpen=this.textPropertiesDropDownBeforeOpen.bind(this)),e===this.pdfViewer.element.id+"_annotation_shapesIcon"||e===this.pdfViewer.element.id+"_annotation_calibrateIcon"||e===this.pdfViewer.element.id+"_annotation_freeTextEdit"||e===this.pdfViewer.element.id+"_annotation_inkIcon"||e===this.pdfViewer.element.id+"_annotation_handwrittenSign")){this.thicknessElement=this.pdfViewerBase.getElement("_annotation_thickness");var n=this.createThicknessSlider(this.thicknessElement.id);this.thicknessDropDown=this.createDropDownButton(this.thicknessElement,"e-pv-annotation-thickness-icon",n,this.pdfViewer.localeObj.getConstant("Change thickness")),this.thicknessDropDown.beforeOpen=this.thicknessDropDownBeforeOpen.bind(this),this.thicknessSlider.change=this.thicknessChange.bind(this),this.thicknessSlider.changed=this.thicknessChange.bind(this),this.pdfViewer.enableRtl||(this.thicknessDropDown.open=this.thicknessDropDownOpen.bind(this)),this.strokeDropDownElement=this.pdfViewerBase.getElement("_annotation_stroke"),this.strokeColorPicker=this.createColorPicker(this.strokeDropDownElement.id),this.strokeColorPicker.change=this.onStrokePickerChange.bind(this),this.strokeDropDown=this.createDropDownButton(this.strokeDropDownElement,"e-pv-annotation-stroke-icon",this.strokeColorPicker.element.parentElement,this.pdfViewer.localeObj.getConstant("Stroke edit")),this.strokeDropDown.beforeOpen=this.strokeDropDownBeforeOpen.bind(this),this.strokeDropDown.open=this.strokeDropDownOpen.bind(this),this.pdfViewerBase.getElement("_annotation_stroke-popup").addEventListener("click",this.onStrokePickerCancelClick.bind(this))}},e.prototype.opacityDropDownOpen=function(e){t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?(e.element.parentElement.style.left="0px",e.element.parentElement.style.top=this.pdfViewerBase.viewerContainer.clientHeight+"px"):this.calculateToolbarPosition(e)},e.prototype.onColorPickerCancelClick=function(e){e.target.classList.contains("e-cancel")&&this.colorDropDown.toggle()},e.prototype.onStrokePickerCancelClick=function(e){e.target.classList.contains("e-cancel")&&this.strokeDropDown.toggle()},e.prototype.colorDropDownBeforeOpen=function(e){this.colorPalette.noColor=!1,this.pdfViewer.annotationModule.textMarkupAnnotationModule&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.colorPalette.value=this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation.color:this.setCurrentColorInPicker()),1===this.pdfViewer.selectedItems.annotations.length?(this.colorPalette.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.fill,this.colorPalette.noColor=!0):this.setCurrentColorInPicker(),this.colorPalette.refresh(),this.updateColorInIcon(this.colorDropDownElement,this.colorPalette.value)},e.prototype.setCurrentColorInPicker=function(){if(!(0,t.isBlazor)()){if(this.pdfViewer.annotationModule.textMarkupAnnotationModule)switch(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode){case"Highlight":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor);break;case"Underline":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor);break;case"Strikethrough":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor)}if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotationModule.shapeAnnotationModule.currentAnnotationMode){case"Line":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.shapeAnnotationModule.lineFillColor);break;case"Arrow":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.shapeAnnotationModule.arrowFillColor);break;case"Rectangle":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.shapeAnnotationModule.rectangleFillColor);break;case"Circle":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.shapeAnnotationModule.circleFillColor);break;case"Polygon":this.setColorInPicker(this.colorPalette,this.pdfViewer.annotationModule.shapeAnnotationModule.polygonFillColor)}this.colorDropDownElement&&this.updateColorInIcon(this.colorDropDownElement,this.colorPalette.value)}},e.prototype.colorDropDownOpen=function(e){t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(e.element.parentElement.style.top=this.pdfViewerBase.viewerContainer.clientHeight/2+"px"),this.popupPosition(e,this.colorDropDownElement),this.colorPalette.refresh()},e.prototype.strokeDropDownBeforeOpen=function(e){1===this.pdfViewer.selectedItems.annotations.length?this.strokeColorPicker.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor:this.setCurrentStrokeColorInPicker(),this.strokeColorPicker.refresh(),this.updateColorInIcon(this.strokeDropDownElement,this.strokeColorPicker.value),this.updateInkannotationItems()},e.prototype.setCurrentStrokeColorInPicker=function(){if(!(0,t.isBlazor)()&&this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotationModule.shapeAnnotationModule.currentAnnotationMode){case"Line":this.setColorInPicker(this.strokeColorPicker,this.pdfViewer.annotationModule.shapeAnnotationModule.lineStrokeColor);break;case"Arrow":this.setColorInPicker(this.strokeColorPicker,this.pdfViewer.annotationModule.shapeAnnotationModule.arrowStrokeColor);break;case"Rectangle":this.setColorInPicker(this.strokeColorPicker,this.pdfViewer.annotationModule.shapeAnnotationModule.rectangleStrokeColor);break;case"Circle":this.setColorInPicker(this.strokeColorPicker,this.pdfViewer.annotationModule.shapeAnnotationModule.circleStrokeColor);break;case"Polygon":this.setColorInPicker(this.strokeColorPicker,this.pdfViewer.annotationModule.shapeAnnotationModule.polygonStrokeColor)}},e.prototype.strokeDropDownOpen=function(e){t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(e.element.parentElement.style.top=this.pdfViewerBase.viewerContainer.clientHeight/2+"px"),this.popupPosition(e,this.strokeDropDownElement),this.strokeColorPicker.refresh()},e.prototype.onFontColorChange=function(e){var i;i=(0,t.isBlazor)()?e[0]:""===e.currentValue.hex?"#ffffff00":e.currentValue.hex,1===this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.annotation.modifyFontColor(i):(this.pdfViewer.freeTextSettings.fontColor=i,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()),(0,t.isBlazor)()?(this.fontColorElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-textcolor-container"),this.updateColorInIcon(this.fontColorElementInBlazor,i)):(this.updateColorInIcon(this.fontColorElement,i),this.fontColorDropDown.toggle())},e.prototype.onFontFamilyChange=function(e){var i;i=(0,t.isBlazor)()?e:e&&e.fontFamily&&e.fontFamily.value?e.fontFamily.value:"",1===this.pdfViewer.selectedItems.annotations.length&&i?this.pdfViewer.annotation.modifyFontFamily(i):(this.pdfViewer.freeTextSettings.fontFamily=i,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties())},e.prototype.onFontSizeChange=function(e,i){var n;n=(0,t.isBlazor)()?e:e&&e.fontSize&&e.fontSize.value?e.fontSize.value:"";var o=parseFloat(n);1===this.pdfViewer.selectedItems.annotations.length&&n?this.pdfViewer.annotation.modifyFontSize(o,i):(this.pdfViewer.freeTextSettings.fontSize=o,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties())},e.prototype.textAlignDropDownBeforeOpen=function(e){if(1===this.pdfViewer.selectedItems.annotations.length&&e.element.getElementsByTagName("button")&&e.element.getElementsByTagName("button").length>0)for(var t=e.element.getElementsByTagName("button"),i=this.pdfViewer.selectedItems.annotations[0],n=0;n<t.length;n++)t[parseInt(n.toString(),10)]&&(t[parseInt(n.toString(),10)].classList.remove("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_left_align"&&"Left"===i.textAlign&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_right_align"&&"Right"===i.textAlign&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_center_align"&&"Center"===i.textAlign&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_justify_align"&&"Justify"===i.textAlign&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"))},e.prototype.textPropertiesDropDownBeforeOpen=function(e){if(1===this.pdfViewer.selectedItems.annotations.length&&e.element.getElementsByTagName("button")&&e.element.getElementsByTagName("button").length>0)for(var t=e.element.getElementsByTagName("button"),i=this.pdfViewer.selectedItems.annotations[0],n=0;n<t.length;n++)t[parseInt(n.toString(),10)]&&(t[parseInt(n.toString(),10)].classList.remove("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_bold"&&i.font.isBold&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_italic"&&i.font.isItalic&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_strikeout"&&i.font.isStrikeout&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"),t[parseInt(n.toString(),10)].id===this.pdfViewer.element.id+"_underline_textinput"&&i.font.isUnderline&&t[parseInt(n.toString(),10)].classList.add("textprop-option-active"))},e.prototype.onClickTextAlignment=function(e){var i;i=(0,t.isBlazor)()?e[0]:e&&e.item&&e.item.value?e.item.value:"",1===this.pdfViewer.selectedItems.annotations.length&&i?this.pdfViewer.annotation.modifyTextAlignment(i):(this.pdfViewer.freeTextSettings.textAlignment=e.item.value,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()),this.updateTextAlignInIcon(i)},e.prototype.onClickTextProperties=function(e){var i;if(i=(0,t.isBlazor)()?e[0]:e&&e.item&&e.item.value?e.item.value:"",1===this.pdfViewer.selectedItems.annotations.length&&i){var n={isBold:void 0,isItalic:void 0,isStrikeout:void 0,isUnderline:void 0};"bold"===i?n.isBold=!this.pdfViewer.selectedItems.annotations[0].font.isBold:"italic"===i?n.isItalic=!this.pdfViewer.selectedItems.annotations[0].font.isItalic:"underline"===i?n.isUnderline=!this.pdfViewer.selectedItems.annotations[0].font.isUnderline:"strikeout"===i&&(n.isStrikeout=!this.pdfViewer.selectedItems.annotations[0].font.isStrikeout),this.pdfViewer.annotation.modifyTextProperties(n,i)}else"bold"===i?this.pdfViewer.annotationModule.freeTextAnnotationModule.isBold?this.pdfViewer.annotationModule.freeTextAnnotationModule.isBold=!1:(this.pdfViewer.freeTextSettings.fontStyle=1,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()):"italic"===i?this.pdfViewer.annotationModule.freeTextAnnotationModule.isItalic?this.pdfViewer.annotationModule.freeTextAnnotationModule.isItalic=!1:(this.pdfViewer.freeTextSettings.fontStyle=2,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()):"underline"===i?this.pdfViewer.annotationModule.freeTextAnnotationModule.isUnderline?this.pdfViewer.annotationModule.freeTextAnnotationModule.isUnderline=!1:(this.pdfViewer.freeTextSettings.fontStyle=4,this.pdfViewer.annotationModule.freeTextAnnotationModule.isStrikethrough=!1,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()):"strikeout"===i&&(this.pdfViewer.annotationModule.freeTextAnnotationModule.isStrikethrough?this.pdfViewer.annotationModule.freeTextAnnotationModule.isStrikethrough=!1:(this.pdfViewer.freeTextSettings.fontStyle=8,this.pdfViewer.annotationModule.freeTextAnnotationModule.isUnderline=!1,this.pdfViewer.annotationModule.freeTextAnnotationModule.updateTextProperties()));this.updateTextPropertySelection(i)},e.prototype.opacityChange=function(e){var i=1;if(i=e&&1===e.length?e[0]:e.value,this.pdfViewer.annotationModule.textMarkupAnnotationModule)if(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)(0,t.isBlazor)()?this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyOpacityProperty(null,i):this.isCurrentAnnotationOpacitySet&&"changed"===e.name?this.isCurrentAnnotationOpacitySet=!1:this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyOpacityProperty(e);else switch(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode){case"Highlight":this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightOpacity=i/100;break;case"Underline":this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineOpacity=i/100;break;case"Strikethrough":this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughOpacity=i/100}if(1===this.pdfViewer.selectedItems.annotations.length){var n=this.pdfViewer.selectedItems.annotations[0];if(null==n||"Stamp"!==n.shapeAnnotationType&&"Image"!==n.shapeAnnotationType)(0,t.isBlazor)()?this.pdfViewer.annotation.modifyOpacity(i,!0):"changed"===e.name&&e.value!==e.previousValue&&this.pdfViewer.annotation.modifyOpacity(e);else{var o=C(n),r=C(n);r.opacity=i/100,this.pdfViewer.nodePropertyChange(n,{opacity:i/100}),this.pdfViewer.annotation.triggerAnnotationPropChange(n,!1,!1,!1,!0),this.pdfViewer.annotation.addAction(this.pdfViewer.selectedItems.annotations[0].pageIndex,null,this.pdfViewer.selectedItems.annotations[0],"stampOpacity","",o,r),this.pdfViewer.annotation.stampAnnotationModule.updateSessionStorage(this.pdfViewer.selectedItems.annotations[0],null,"opacity")}}else{if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.pdfViewer.annotation.shapeAnnotationModule.lineOpacity=i/100;break;case"Arrow":this.pdfViewer.annotation.shapeAnnotationModule.arrowOpacity=i/100;break;case"Rectangle":this.pdfViewer.annotation.shapeAnnotationModule.rectangleOpacity=i/100;break;case"Circle":this.pdfViewer.annotation.shapeAnnotationModule.circleOpacity=i/100;break;case"Polygon":this.pdfViewer.annotation.shapeAnnotationModule.polygonOpacity=i/100}var a=this.pdfViewer.annotation;a&&a.inkAnnotationModule&&(this.pdfViewer.inkAnnotationSettings.opacity=i/100),this.pdfViewer.drawingObject&&(this.pdfViewer.drawingObject.opacity=i/100,"FreeText"===this.pdfViewer.drawingObject.shapeAnnotationType&&(this.pdfViewer.annotation.freeTextAnnotationModule.opacity=i/100))}(0,t.isBlazor)()||this.updateOpacityIndicator()},e.prototype.opacityDropDownBeforeOpen=function(e){if(this.pdfViewer.annotationModule.textMarkupAnnotationModule)if(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)this.isCurrentAnnotationOpacitySet=!0,this.opacitySlider.value=100*this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation.opacity;else switch(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode){case"Highlight":this.opacitySlider.value=100*this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightOpacity;break;case"Underline":this.opacitySlider.value=100*this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineOpacity;break;case"Strikethrough":this.opacitySlider.value=100*this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughOpacity}if(1===this.pdfViewer.selectedItems.annotations.length)this.opacitySlider.value=100*this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.opacity;else if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.opacitySlider.value=100*this.pdfViewer.annotation.shapeAnnotationModule.lineOpacity;break;case"Arrow":this.opacitySlider.value=100*this.pdfViewer.annotation.shapeAnnotationModule.arrowOpacity;break;case"Rectangle":this.opacitySlider.value=100*this.pdfViewer.annotation.shapeAnnotationModule.rectangleOpacity;break;case"Circle":this.opacitySlider.value=100*this.pdfViewer.annotation.shapeAnnotationModule.circleOpacity;break;case"Polygon":this.opacitySlider.value=100*this.pdfViewer.annotation.shapeAnnotationModule.polygonOpacity}this.updateOpacityIndicator(),this.updateInkannotationItems()},e.prototype.thicknessDropDownBeforeOpen=function(){if(1===this.pdfViewer.selectedItems.annotations.length)this.thicknessSlider.value=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeWidth;else if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.thicknessSlider.value=this.pdfViewer.annotation.shapeAnnotationModule.lineThickness;break;case"Arrow":this.thicknessSlider.value=this.pdfViewer.annotation.shapeAnnotationModule.arrowThickness;break;case"Rectangle":this.thicknessSlider.value=this.pdfViewer.annotation.shapeAnnotationModule.rectangleThickness;break;case"Circle":this.thicknessSlider.value=this.pdfViewer.annotation.shapeAnnotationModule.circleThickness;break;case"Polygon":this.thicknessSlider.value=this.pdfViewer.annotation.shapeAnnotationModule.polygonThickness}this.updateThicknessIndicator(),this.updateInkannotationItems()},e.prototype.thicknessDropDownOpen=function(e){t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?(e.element.parentElement.style.left="0px",e.element.parentElement.style.top=this.pdfViewerBase.viewerContainer.clientHeight+"px"):this.calculateToolbarPosition(e)},e.prototype.calculateToolbarPosition=function(e){if(e.element&&e.element.parentElement){var t=parseFloat(e.element.parentElement.style.left),i=e.element.parentElement.offsetWidth;t+i<this.pdfViewer.element.offsetWidth+10&&(e.element.parentElement.style.left=t-i+"px")}},e.prototype.thicknessChangeInBlazor=function(e){1===this.pdfViewer.selectedItems.annotations.length?this.pdfViewer.annotation.modifyThickness(e[0]):this.ShapeThickness(e[0])},e.prototype.thicknessChange=function(e){if(1===this.pdfViewer.selectedItems.annotations.length){if("changed"===e.name){this.pdfViewer.annotation.modifyThickness(e.value),(0,t.isBlazor)()||this.updateThicknessIndicator();var i=this.pdfViewer.annotation,n=this.pdfViewer.selectedItems.annotations[0];i&&i.inkAnnotationModule&&n&&"Ink"===n.shapeAnnotationType&&(this.pdfViewer.inkAnnotationSettings.thickness=e.value)}}else this.ShapeThickness(e.value)},e.prototype.ShapeThickness=function(e){if(this.pdfViewer.annotation.shapeAnnotationModule){switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.pdfViewer.annotation.shapeAnnotationModule.lineThickness=e;break;case"Arrow":this.pdfViewer.annotation.shapeAnnotationModule.arrowThickness=e;break;case"Rectangle":this.pdfViewer.annotation.shapeAnnotationModule.rectangleThickness=e;break;case"Circle":this.pdfViewer.annotation.shapeAnnotationModule.circleThickness=e;break;case"Polygon":this.pdfViewer.annotation.shapeAnnotationModule.polygonThickness=e}var i=this.pdfViewer.annotation;i&&i.inkAnnotationModule&&(this.pdfViewer.inkAnnotationSettings.thickness=e.value),this.pdfViewer.drawingObject&&(this.pdfViewer.drawingObject.thickness=e.value),this.pdfViewer.drawingObject&&"FreeText"===this.pdfViewer.drawingObject.shapeAnnotationType&&(this.pdfViewer.annotation.freeTextAnnotationModule.borderWidth=e.value)}var n=this.pdfViewer.annotation;n&&n.inkAnnotationModule&&(this.pdfViewer.inkAnnotationSettings.thickness=e),this.pdfViewer.drawingObject&&(this.pdfViewer.drawingObject.thickness=e),this.pdfViewer.drawingObject&&"FreeText"===this.pdfViewer.drawingObject.shapeAnnotationType&&(this.pdfViewer.annotation.freeTextAnnotationModule.borderWidth=e),(0,t.isBlazor)()||this.updateThicknessIndicator()},e.prototype.createDropDownButton=function(e,t,i,n){var o=new Re.DropDownButton({iconCss:t+" e-pv-icon",target:i});return this.pdfViewer.enableRtl&&(o.enableRtl=!0),o.appendTo(e),this.primaryToolbar.createTooltip(e,n),e.setAttribute("aria-label",n),o},e.prototype.createShapeOptions=function(e,i,n,o){var r,a=(0,t.createElement)("div",{id:e+"_target",className:"e-pv-shapes-toolbar"});return document.body.appendChild(a),n?((r=new ai.Toolbar({items:this.textAlignmentToolbarItems(),overflowMode:"MultiRow"},a)).isStringTemplate=!0,this.afterAlignmentToolbarCreation()):o?((r=new ai.Toolbar({items:this.textPropertiesToolbarItems(),overflowMode:"MultiRow"},a)).isStringTemplate=!0,this.afterPropertiesToolbarCreation()):i?!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?((r=new ai.Toolbar({items:this.createShapeToolbarItems(),overflowMode:"MultiRow",clicked:this.onShapeToolbarClicked.bind(this)},a)).isStringTemplate=!0,this.afterShapeToolbarCreation()):(this.toolbarElement=(0,t.createElement)("div",{id:e+"_target",className:"e-pv-mobile-annotation-toolbar",styles:"bottom: 0px; position: absolute; width: 100%; float: left"}),this.pdfViewerBase.viewerMainContainer.appendChild(this.toolbarElement),(r=new ai.Toolbar({items:this.createShapeToolbarItemsForMobile(),overflowMode:"Scrollable",clicked:this.onShapeToolbarClicked.bind(this)},this.toolbarElement)).isStringTemplate=!0,this.afterShapeToolbarCreationForMobile()):((r=new ai.Toolbar({items:this.createCalibrateToolbarItems(),overflowMode:"MultiRow",clicked:this.onCalibrateToolbarClicked.bind(this)},a)).isStringTemplate=!0,this.afterCalibrateToolbarCreation()),r},e.prototype.createPropertyToolbarForMobile=function(e){var t=this,i=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_color","e-pv-annotation-color-container"),n=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_stroke","e-pv-annotation-stroke-container"),o=this.getTemplate("span","_annotation_thickness","e-pv-annotation-thickness-container"),r=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),a=this.getTemplate("input","_annotation_fontname","e-pv-annotation-fontname-container"),s=this.getTemplate("input","_annotation_fontsize","e-pv-annotation-fontsize-container"),l=this.getTemplate("span","_annotation_textcolor","e-pv-annotation-textcolor-container"),d=this.getTemplate("span","_annotation_textalign","e-pv-annotation-textalign-container"),h=this.getTemplate("span","_annotation_textproperties","e-pv-annotation-textprop-container"),A=[];return"Polygon"===e||"Rectangle"===e||"Ellipse"===e||"Line"===e||"LineWidthArrowHead"===e||"Distance"===e||"Perimeter"===e||"Radius"===e||"FreeText"===e?("FreeText"===e&&(A.push({prefixIcon:"e-pv-freetext-icon e-pv-icon",className:"e-pv-annotation-freetextedit-container"}),A.push({type:"Separator",align:"Left"}),A.push({template:a}),A.push({template:s}),A.push({template:l}),A.push({template:d}),A.push({template:h})),"Polygon"===e?"Area"===this.pdfViewer.selectedItems.annotations[0].measureType?(A.push({prefixIcon:"e-pv-calibrate-area-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"Volume"===this.pdfViewer.selectedItems.annotations[0].measureType?(A.push({prefixIcon:"e-pv-calibrate-volume-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):(A.push({prefixIcon:"e-pv-shape-pentagon-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"Rectangle"===e?(A.push({prefixIcon:"e-pv-shape-rectangle-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"Ellipse"===e?(A.push({prefixIcon:"e-pv-shape-circle-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"Line"===e?"Perimeter"===this.pdfViewer.selectedItems.annotations[0].measureType?(A.push({prefixIcon:"e-pv-calibrate-perimeter-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):(A.push({prefixIcon:"e-pv-shape-line-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"LineWidthArrowHead"===e?(A.push({prefixIcon:"e-pv-shape-arrow-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"Distance"===e?(A.push({prefixIcon:"e-pv-calibrate-distance-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"Perimeter"===e?(A.push({prefixIcon:"e-pv-calibrate-perimeter-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"Radius"===e&&(A.push({prefixIcon:"e-pv-calibrate-radius-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})),A.push({template:i}),A.push({template:n}),A.push({template:o})):"Path"===e||"Ink"===e||"HandWrittenSignature"===e||"SignatureText"===e?("Path"===e||"Ink"===e?(A.push({prefixIcon:"e-pv-inkannotation-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"HandWrittenSignature"!==e&&"SignatureText"!==e||(A.push({prefixIcon:"e-pv-handwritten-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})),A.push({template:n}),A.push({template:o})):"Underline"===e||"Highlight"===e||"Strikethrough"===e?("Highlight"===e?(A.push({prefixIcon:"e-pv-highlight-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"Underline"===e?(A.push({prefixIcon:"e-pv-underline-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"Strikethrough"===e&&(A.push({prefixIcon:"e-pv-strikethrough-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})),A.push({template:i})):"Stamp"===e||"Image"===e?(A.push({prefixIcon:"e-pv-stamp-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})):"StickyNotes"===e&&(A.push({prefixIcon:"e-pv-comment-icon e-pv-icon"}),A.push({type:"Separator",align:"Left"})),A.push({template:r}),A.push({prefixIcon:"e-pv-comment-panel-icon e-pv-icon",className:"e-pv-comment-panel-icon-container",id:this.pdfViewer.element.id+"_annotation_commentPanel",align:"Right",click:function(e){t.pdfViewer.annotationModule.showCommentsPanel()}}),A.push({prefixIcon:"e-pv-annotation-delete-icon e-pv-icon",className:"e-pv-annotation-delete-container",id:this.pdfViewer.element.id+"_annotation_delete",align:"Right",click:function(e){t.pdfViewer.annotationModule.deleteAnnotation(),t.propertyToolbar.destroy(),t.toolbarCreated=!1,t.createAnnotationToolbarForMobile(),t.adjustMobileViewer()}}),A},e.prototype.createStampToolbarItemsForMobile=function(){var e=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),t=[];return t.push({prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)}),t.push({type:"Separator",align:"Left"}),t.push({template:e}),t},e.prototype.createShapeToolbarItemsForMobile=function(){var e=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_color","e-pv-annotation-color-container"),t=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_stroke","e-pv-annotation-stroke-container"),i=this.getTemplate("span","_annotation_thickness","e-pv-annotation-thickness-container"),n=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),o=[];return o.push({prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)}),o.push({prefixIcon:"e-pv-shape-line-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_line",text:this.pdfViewer.localeObj.getConstant("Line Shape"),align:"Left"}),o.push({prefixIcon:"e-pv-shape-arrow-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_arrow",text:this.pdfViewer.localeObj.getConstant("Arrow Shape"),align:"Left"}),o.push({prefixIcon:"e-pv-shape-rectangle-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_rectangle",text:this.pdfViewer.localeObj.getConstant("Rectangle Shape"),align:"Left"}),o.push({prefixIcon:"e-pv-shape-circle-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_circle",text:this.pdfViewer.localeObj.getConstant("Circle Shape"),align:"Left"}),o.push({prefixIcon:"e-pv-shape-pentagon-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_pentagon",text:this.pdfViewer.localeObj.getConstant("Pentagon Shape"),align:"Left"}),o.push({type:"Separator",align:"Left"}),o.push({template:e}),o.push({template:t}),o.push({template:i}),o.push({template:n}),o},e.prototype.createCalibrateToolbarItemsForMobile=function(){var e=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_color","e-pv-annotation-color-container"),t=this.pdfViewer.toolbarModule.annotationToolbarModule.getTemplate("span","_annotation_stroke","e-pv-annotation-stroke-container"),i=this.getTemplate("span","_annotation_thickness","e-pv-annotation-thickness-container"),n=this.getTemplate("span","_annotation_opacity","e-pv-annotation-opacity-container"),o=[];return o.push({prefixIcon:"e-pv-backward-icon e-pv-icon",tooltipText:this.pdfViewer.localeObj.getConstant("Go Back"),id:this.pdfViewer.element.id+"_backward",click:this.goBackToToolbar.bind(this)}),o.push({prefixIcon:"e-pv-calibrate-distance-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_distance",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),o.push({prefixIcon:"e-pv-calibrate-perimeter-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_perimeter",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),o.push({prefixIcon:"e-pv-calibrate-area-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_area",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),o.push({prefixIcon:"e-pv-calibrate-radius-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_radius",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),o.push({prefixIcon:"e-pv-calibrate-volume-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_volume",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),o.push({type:"Separator",align:"Left"}),o.push({template:e}),o.push({template:t}),o.push({template:i}),o.push({template:n}),o},e.prototype.handleShapeTool=function(e){if(!(0,t.isBlazor)()&&t.Browser.isDevice)for(var i=document.querySelectorAll(".e-pv-select"),n=0;n<i.length;n++)i[parseInt(n.toString(),10)].id!==e&&i[parseInt(n.toString(),10)].id!==this.pdfViewer.element.id+"_annotation"&&i[parseInt(n.toString(),10)].classList.remove("e-pv-select")},e.prototype.createPropDropDownButton=function(e,t,i,n){var o=new Re.DropDownButton({iconCss:t+" e-pv-icon",target:i,cssClass:"e-caret-hide"});return this.pdfViewer.enableRtl&&(o.enableRtl=!0),o.appendTo(e),this.primaryToolbar.createTooltip(e,n),e.setAttribute("aria-label",n),o},e.prototype.textAlignmentToolbarItems=function(){var e=[];return e.push({prefixIcon:"e-pv-left-align-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_left_align",align:"Left",value:"Left",click:this.onClickTextAlignment.bind(this)}),e.push({prefixIcon:"e-pv-center-align-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_center_align",align:"Left",value:"Center",click:this.onClickTextAlignment.bind(this)}),e.push({prefixIcon:"e-pv-right-align-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_right_align",align:"Left",value:"Right",click:this.onClickTextAlignment.bind(this)}),e.push({prefixIcon:"e-pv-justfiy-align-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_justify_align",align:"Left",value:"Justify",click:this.onClickTextAlignment.bind(this)}),e},e.prototype.afterAlignmentToolbarCreation=function(){this.alignLeftElement=this.primaryToolbar.addClassToolbarItem("_left_align","e-pv-left-align",this.pdfViewer.localeObj.getConstant("Align left")),this.alignRightElement=this.primaryToolbar.addClassToolbarItem("_right_align","e-pv-right-align",this.pdfViewer.localeObj.getConstant("Align right")),this.alignCenterElement=this.primaryToolbar.addClassToolbarItem("_center_align","e-pv-center-align",this.pdfViewer.localeObj.getConstant("Center")),this.alignJustifyElement=this.primaryToolbar.addClassToolbarItem("_justify_align","e-pv-justfiy-align",this.pdfViewer.localeObj.getConstant("Justify"))},e.prototype.afterPropertiesToolbarCreation=function(){this.boldElement=this.primaryToolbar.addClassToolbarItem("_bold","e-pv-bold",this.pdfViewer.localeObj.getConstant("Bold")),this.italicElement=this.primaryToolbar.addClassToolbarItem("_italic","e-pv-italic",this.pdfViewer.localeObj.getConstant("Italic")),this.fontStyleStrikethroughItem=this.primaryToolbar.addClassToolbarItem("_strikeout","e-pv-strikeout",this.pdfViewer.localeObj.getConstant("Strikethroughs")),this.fontStyleUnderlineItem=this.primaryToolbar.addClassToolbarItem("_underline_textinput","e-pv-underlinetext",this.pdfViewer.localeObj.getConstant("Underlines"))},e.prototype.createDropDownListForSize=function(e){var i=this,n=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","26px","28px","36px","48px","72px","96px"];if(this.pdfViewer.enableRtl?this.fontSize=new fd.ComboBox({dataSource:n,cssClass:"e-pv-prop-dropdown-rtl",allowCustom:!0,showClearButton:!1,width:"80px",popupWidth:"100px",enableRtl:!0}):this.fontSize=new fd.ComboBox({dataSource:n,cssClass:"e-pv-prop-dropdown",allowCustom:!0,showClearButton:!1,width:"80px",popupWidth:"100px"}),this.fontSize.value="16px",!(0,t.isNullOrUndefined)(e)){this.fontSize.appendTo(e);var o=e.parentElement?e.parentElement:e;this.primaryToolbar.createTooltip(o,this.pdfViewer.localeObj.getConstant("Font size")),e.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Font size"))}this.fontSize.addEventListener("change",(function(e){var t=e.isInteracted;i.onFontSizeChange(i,t)}))},e.prototype.createDropDownListForFamily=function(e){var i=this,n=[{FontName:"Helvetica"},{FontName:"Courier"},{FontName:"Symbol"},{FontName:"Times New Roman"}];if(this.pdfViewer.enableRtl?this.fontFamily=new fd.ComboBox({dataSource:n,query:(new yd.Query).select(["FontName"]),fields:{text:"FontName",value:"FontName"},cssClass:"e-pv-prop-dropdown-rtl",itemTemplate:(0,t.initializeCSPTemplate)((function(e){return'<span style="font-family: '+e.FontName+';">'+e.FontName+"</span>"})),allowCustom:!0,showClearButton:!1,width:"110px",popupWidth:"190px",enableRtl:!0}):this.fontFamily=new fd.ComboBox({dataSource:n,query:(new yd.Query).select(["FontName"]),fields:{text:"FontName",value:"FontName"},cssClass:"e-pv-prop-dropdown",itemTemplate:(0,t.initializeCSPTemplate)((function(e){return'<span style="font-family: '+e.FontName+';">'+e.FontName+"</span>"})),allowCustom:!0,showClearButton:!1,width:"110px",popupWidth:"190px"}),this.fontFamily.isStringTemplate=!0,this.fontFamily.value="Helvetica",!(0,t.isNullOrUndefined)(e)){this.fontFamily.appendTo(e);var o=e.parentElement?e.parentElement:e;this.primaryToolbar.createTooltip(o,this.pdfViewer.localeObj.getConstant("Font family")),e.setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Font family"))}this.fontFamily.addEventListener("change",(function(){i.onFontFamilyChange(i)}))},e.prototype.textPropertiesToolbarItems=function(){var e=[];return e.push({prefixIcon:"e-pv-bold-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_bold",align:"Left",value:"bold",click:this.onClickTextProperties.bind(this)}),e.push({prefixIcon:"e-pv-italic-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_italic",align:"Left",value:"italic",click:this.onClickTextProperties.bind(this)}),e.push({prefixIcon:"e-pv-strikeout-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_strikeout",align:"Left",value:"strikeout",click:this.onClickTextProperties.bind(this)}),e.push({prefixIcon:"e-pv-underlinetext-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_underline_textinput",align:"Left",value:"underline",click:this.onClickTextProperties.bind(this)}),e},e.prototype.createShapeToolbarItems=function(){var e=[];return e.push({prefixIcon:"e-pv-shape-line-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_line",text:this.pdfViewer.localeObj.getConstant("Line Shape"),align:"Left"}),e.push({prefixIcon:"e-pv-shape-arrow-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_arrow",text:this.pdfViewer.localeObj.getConstant("Arrow Shape"),align:"Left"}),e.push({prefixIcon:"e-pv-shape-rectangle-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_rectangle",text:this.pdfViewer.localeObj.getConstant("Rectangle Shape"),align:"Left"}),e.push({prefixIcon:"e-pv-shape-circle-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_circle",text:this.pdfViewer.localeObj.getConstant("Circle Shape"),align:"Left"}),e.push({prefixIcon:"e-pv-shape-pentagon-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_shape_pentagon",text:this.pdfViewer.localeObj.getConstant("Pentagon Shape"),align:"Left"}),e},e.prototype.createCalibrateToolbarItems=function(){var e=[];return e.push({prefixIcon:"e-pv-calibrate-distance-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_distance",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),e.push({prefixIcon:"e-pv-calibrate-perimeter-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_perimeter",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),e.push({prefixIcon:"e-pv-calibrate-area-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_area",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),e.push({prefixIcon:"e-pv-calibrate-radius-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_radius",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),e.push({prefixIcon:"e-pv-calibrate-volume-icon e-pv-icon",cssClass:"",id:this.pdfViewer.element.id+"_calibrate_volume",text:this.pdfViewer.localeObj.getConstant(""),align:"Left"}),e},e.prototype.onCalibrateToolbarClicked=function(e){var i=this.pdfViewer.element.id,n=this.pdfViewer.annotation.measureAnnotationModule;if(this.deselectAllItems(),this.deselectAllItemsForMobile(),this.resetFreeTextAnnot(),t.Browser.isDevice&&!(0,t.isBlazor)()){var o=e.originalEvent.target;this.pdfViewer.toolbarModule.selectItem(o.parentElement)}switch(e.originalEvent.target.id){case i+"_calibrate_distance":case i+"_calibrate_distanceIcon":n.setAnnotationType("Distance"),this.onShapeDrawSelection(!1),this.updateColorInIcon(this.colorDropDownElement,n.distanceFillColor),this.updateColorInIcon(this.strokeDropDownElement,n.distanceStrokeColor),this.handleShapeTool(i+"_calibrate_distance");break;case i+"_calibrate_perimeter":case i+"_calibrate_perimeterIcon":n.setAnnotationType("Perimeter"),this.onShapeDrawSelection(!1),this.updateColorInIcon(this.colorDropDownElement,n.perimeterFillColor),this.updateColorInIcon(this.strokeDropDownElement,n.perimeterStrokeColor),this.handleShapeTool(i+"_calibrate_perimeter");break;case i+"_calibrate_area":case i+"_calibrate_areaIcon":n.setAnnotationType("Area"),this.onShapeDrawSelection(!1),this.updateColorInIcon(this.colorDropDownElement,n.areaFillColor),this.updateColorInIcon(this.strokeDropDownElement,n.areaStrokeColor),this.handleShapeTool(i+"_calibrate_area");break;case i+"_calibrate_radius":case i+"_calibrate_radiusIcon":n.setAnnotationType("Radius"),this.onShapeDrawSelection(!1),this.updateColorInIcon(this.colorDropDownElement,n.radiusFillColor),this.updateColorInIcon(this.strokeDropDownElement,n.radiusStrokeColor),this.handleShapeTool(i+"_calibrate_radius");break;case i+"_calibrate_volume":case i+"_calibrate_volumeIcon":n.setAnnotationType("Volume"),this.onShapeDrawSelection(!1),this.updateColorInIcon(this.colorDropDownElement,n.volumeFillColor),this.updateColorInIcon(this.strokeDropDownElement,n.volumeStrokeColor),this.handleShapeTool(i+"_calibrate_volume")}},e.prototype.onShapeDrawSelection=function(e){t.Browser.isDevice||(this.updateInteractionTools(),this.enableAnnotationPropertiesTools(!0),e?this.shapeDropDown.toggle():this.calibrateDropDown.toggle()),this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent()},e.prototype.afterCalibrateToolbarCreationForMobile=function(){this.primaryToolbar.addClassToolbarItem("_calibrate_distance","e-pv-calibrate-distance",this.pdfViewer.localeObj.getConstant("Calibrate Distance")),this.primaryToolbar.addClassToolbarItem("_calibrate_perimeter","e-pv-calibrate-perimeter",this.pdfViewer.localeObj.getConstant("Calibrate Perimeter")),this.primaryToolbar.addClassToolbarItem("_calibrate_area","e-pv-calibrate-area",this.pdfViewer.localeObj.getConstant("Calibrate Area")),this.primaryToolbar.addClassToolbarItem("_calibrate_radius","e-pv-calibrate-radius",this.pdfViewer.localeObj.getConstant("Calibrate Radius")),this.primaryToolbar.addClassToolbarItem("_calibrate_volume","e-pv-calibrate-volume",this.pdfViewer.localeObj.getConstant("Calibrate Volume"))},e.prototype.afterShapeToolbarCreationForMobile=function(){this.primaryToolbar.addClassToolbarItem("_annotation_color","e-pv-annotation-color-container",this.pdfViewer.localeObj.getConstant("Change Color")),this.primaryToolbar.addClassToolbarItem("_annotation_stroke","e-pv-annotation-stroke-container",this.pdfViewer.localeObj.getConstant("Change Stroke Color")),this.primaryToolbar.addClassToolbarItem("_annotation_thickness","e-pv-annotation-thickness-container",this.pdfViewer.localeObj.getConstant("Chnage Border Thickness")),this.primaryToolbar.addClassToolbarItem("_annotation_opacity","e-annotation-opacity-container",this.pdfViewer.localeObj.getConstant("Change Opacity")),this.primaryToolbar.addClassToolbarItem("_shape_line","e-pv-shape-line",this.pdfViewer.localeObj.getConstant("Add line")),this.primaryToolbar.addClassToolbarItem("_shape_arrow","e-pv-shape-arrow",this.pdfViewer.localeObj.getConstant("Add arrow")),this.primaryToolbar.addClassToolbarItem("_shape_rectangle","e-pv-shape-rectangle",this.pdfViewer.localeObj.getConstant("Add rectangle")),this.primaryToolbar.addClassToolbarItem("_shape_circle","e-pv-shape-circle",this.pdfViewer.localeObj.getConstant("Add circle")),this.primaryToolbar.addClassToolbarItem("_shape_pentagon","e-pv-shape-pentagon",this.pdfViewer.localeObj.getConstant("Add polygon"))},e.prototype.afterShapeToolbarCreation=function(){this.lineElement=this.primaryToolbar.addClassToolbarItem("_shape_line","e-pv-shape-line",this.pdfViewer.localeObj.getConstant("Add line")),this.arrowElement=this.primaryToolbar.addClassToolbarItem("_shape_arrow","e-pv-shape-arrow",this.pdfViewer.localeObj.getConstant("Add arrow")),this.rectangleElement=this.primaryToolbar.addClassToolbarItem("_shape_rectangle","e-pv-shape-rectangle",this.pdfViewer.localeObj.getConstant("Add rectangle")),this.circleElement=this.primaryToolbar.addClassToolbarItem("_shape_circle","e-pv-shape-circle",this.pdfViewer.localeObj.getConstant("Add circle")),this.polygonElement=this.primaryToolbar.addClassToolbarItem("_shape_pentagon","e-pv-shape-pentagon",this.pdfViewer.localeObj.getConstant("Add polygon"))},e.prototype.afterCalibrateToolbarCreation=function(){this.calibrateDistance=this.primaryToolbar.addClassToolbarItem("_calibrate_distance","e-pv-calibrate-distance",this.pdfViewer.localeObj.getConstant("Calibrate Distance")),this.calibratePerimeter=this.primaryToolbar.addClassToolbarItem("_calibrate_perimeter","e-pv-calibrate-perimeter",this.pdfViewer.localeObj.getConstant("Calibrate Perimeter")),this.calibrateArea=this.primaryToolbar.addClassToolbarItem("_calibrate_area","e-pv-calibrate-area",this.pdfViewer.localeObj.getConstant("Calibrate Area")),this.calibrateRadius=this.primaryToolbar.addClassToolbarItem("_calibrate_radius","e-pv-calibrate-radius",this.pdfViewer.localeObj.getConstant("Calibrate Radius")),this.calibrateVolume=this.primaryToolbar.addClassToolbarItem("_calibrate_volume","e-pv-calibrate-volume",this.pdfViewer.localeObj.getConstant("Calibrate Volume"))},e.prototype.afterMobileToolbarCreation=function(){var e=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);this.highlightItem=this.primaryToolbar.addClassToolbarItem("_highlight","e-pv-highlight",this.pdfViewer.localeObj.getConstant("Highlight")),this.underlineItem=this.primaryToolbar.addClassToolbarItem("_underline","e-pv-underline",this.pdfViewer.localeObj.getConstant("Underline")),this.strikethroughItem=this.primaryToolbar.addClassToolbarItem("_strikethrough","e-pv-strikethrough",this.pdfViewer.localeObj.getConstant("Strikethrough")),this.shapesItem=this.primaryToolbar.addClassToolbarItem("_annotation_shapes","e-pv-annotation-shapes",this.pdfViewer.localeObj.getConstant("Add Shapes")),this.calibrateItem=this.primaryToolbar.addClassToolbarItem("_annotation_calibrate","e-pv-annotation-calibrate",this.pdfViewer.localeObj.getConstant("Calibrate")),this.freeTextEditItem=this.primaryToolbar.addClassToolbarItem("_annotation_freeTextEdit","e-pv-annotation-freeTextEdit",this.pdfViewer.localeObj.getConstant("Free Text")),this.commentItem=this.primaryToolbar.addClassToolbarItem("_comment","e-pv-comment",this.pdfViewer.localeObj.getConstant("Add Comments")),this.commentItem=this.primaryToolbar.addClassToolbarItem("_annotation_commentPanel","e-pv-annotation-comment-panel",this.pdfViewer.localeObj.getConstant("Comment Panel")+(e?" (++0)":" (Ctrl+Alt+0)")),this.inkAnnotationItem=this.primaryToolbar.addClassToolbarItem("_annotation_ink","e-pv-annotation-ink",this.pdfViewer.localeObj.getConstant("Draw Ink")),this.selectAnnotationDeleteItem(!1),this.enableCommentPanelTool(this.pdfViewer.enableCommentPanel)},e.prototype.createColorPicker=function(e){var i,n=document.getElementById(e+"_target");i=n||(0,t.createElement)("input",{id:e+"_target"}),document.body.appendChild(i);var o=new Pe.ColorPicker({inline:!0,mode:"Palette",cssClass:"e-show-value",enableOpacity:!1,value:"#000000",showButtons:!1,modeSwitcher:!1});return this.pdfViewer.enableRtl&&(o.enableRtl=!0),o.appendTo(i),o},e.prototype.onColorPickerChange=function(e){var i;if(i=(0,t.isBlazor)()?e[0]:""===e.currentValue.hex?"#ffffff00":e.currentValue.hex,this.pdfViewer.annotationModule.textMarkupAnnotationModule)if(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)this.pdfViewer.annotationModule.textMarkupAnnotationModule.modifyColorProperty(i);else switch(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode){case"Highlight":this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor=i;break;case"Underline":this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor=i;break;case"Strikethrough":this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor=i}if(1===this.pdfViewer.selectedItems.annotations.length)(0,t.isBlazor)()?e[0]!==e[1]&&this.pdfViewer.annotation.modifyFillColor(i):e.currentValue.hex!==e.previousValue.hex&&this.pdfViewer.annotation.modifyFillColor(i);else{if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.pdfViewer.annotation.shapeAnnotationModule.lineFillColor=i;break;case"Arrow":this.pdfViewer.annotation.shapeAnnotationModule.arrowFillColor=i;break;case"Rectangle":this.pdfViewer.annotation.shapeAnnotationModule.rectangleFillColor=i;break;case"Circle":this.pdfViewer.annotation.shapeAnnotationModule.circleFillColor=i;break;case"Polygon":this.pdfViewer.annotation.shapeAnnotationModule.polygonFillColor=i}this.pdfViewer.drawingObject&&(this.pdfViewer.drawingObject.fillColor=i,"FreeText"===this.pdfViewer.drawingObject.shapeAnnotationType&&(this.pdfViewer.annotation.freeTextAnnotationModule.fillColor=i))}(0,t.isBlazor)()?(this.colorDropDownElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-color-container"),this.updateColorInIcon(this.colorDropDownElementInBlazor,i)):(this.updateColorInIcon(this.colorDropDownElement,i),this.colorDropDown.toggle())},e.prototype.onStrokePickerChange=function(e){var i;if(i=(0,t.isBlazor)()?e[0]:""===e.currentValue.hex?"#ffffff00":e.currentValue.hex,1===this.pdfViewer.selectedItems.annotations.length)(0,t.isBlazor)()?e[0]!==e[1]&&this.pdfViewer.annotation.modifyStrokeColor(i):e.currentValue.hex!==e.previousValue.hex&&this.pdfViewer.annotation.modifyStrokeColor(i);else{if(this.pdfViewer.annotation.shapeAnnotationModule)switch(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode){case"Line":this.pdfViewer.annotation.shapeAnnotationModule.lineStrokeColor=i;break;case"Arrow":this.pdfViewer.annotation.shapeAnnotationModule.arrowStrokeColor=i;break;case"Rectangle":this.pdfViewer.annotation.shapeAnnotationModule.rectangleStrokeColor=i;break;case"Circle":this.pdfViewer.annotation.shapeAnnotationModule.circleStrokeColor=i;break;case"Polygon":this.pdfViewer.annotation.shapeAnnotationModule.polygonStrokeColor=i}var n=this.pdfViewer.annotation;n&&n.inkAnnotationModule&&(this.pdfViewer.inkAnnotationSettings.strokeColor=i),this.pdfViewer.drawingObject&&(this.pdfViewer.drawingObject.strokeColor=i),this.pdfViewer.drawingObject&&"FreeText"===this.pdfViewer.drawingObject.shapeAnnotationType&&(this.pdfViewer.annotation.freeTextAnnotationModule.borderColor=i)}(0,t.isBlazor)()?(this.strokeDropDownElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-stroke-container"),this.updateColorInIcon(this.strokeDropDownElementInBlazor,i)):(this.updateColorInIcon(this.strokeDropDownElement,i),this.strokeDropDown.toggle())},e.prototype.updateColorInIcon=function(e,i){(0,t.isBlazor)()?e&&(e.children[0].style.borderBottomColor=i):e&&e.childNodes[0]&&(e.childNodes[0].style.borderBottomColor=i)},e.prototype.updateTextPropertySelection=function(e){"bold"===e?document.getElementById(this.pdfViewer.element.id+"_bold").classList.toggle("textprop-option-active"):"italic"===e?document.getElementById(this.pdfViewer.element.id+"_italic").classList.toggle("textprop-option-active"):"underline"===e?(document.getElementById(this.pdfViewer.element.id+"_underline_textinput").classList.toggle("textprop-option-active"),document.getElementById(this.pdfViewer.element.id+"_strikeout").classList.remove("textprop-option-active")):"strikeout"===e&&(document.getElementById(this.pdfViewer.element.id+"_strikeout").classList.toggle("textprop-option-active"),document.getElementById(this.pdfViewer.element.id+"_underline_textinput").classList.remove("textprop-option-active"))},e.prototype.updateFontFamilyInIcon=function(e){this.fontFamily.value=e},e.prototype.updateTextAlignInIcon=function(e){var i="e-btn-icon e-pv-left-align-icon e-pv-icon",n=document.getElementById(this.pdfViewer.element.id+"_left_align"),o=document.getElementById(this.pdfViewer.element.id+"_right_align"),r=document.getElementById(this.pdfViewer.element.id+"_center_align"),a=document.getElementById(this.pdfViewer.element.id+"_justify_align");(0,t.isBlazor)()||(n.classList.remove("textprop-option-active"),o.classList.remove("textprop-option-active"),r.classList.remove("textprop-option-active"),a.classList.remove("textprop-option-active")),"Left"===e?n.classList.add("textprop-option-active"):"Right"===e?(i="e-btn-icon e-pv-right-align-icon e-pv-icon",o.classList.add("textprop-option-active")):"Center"===e?(i="e-btn-icon e-pv-center-align-icon e-pv-icon",r.classList.add("textprop-option-active")):"Justify"===e&&(i="e-btn-icon e-pv-justfiy-align-icon e-pv-icon",a.classList.add("textprop-option-active")),document.getElementById(this.pdfViewer.element.id+"_annotation_textalign").children[0].className=i},e.prototype.updateFontSizeInIcon=function(e){(0,t.isNullOrUndefined)(this.fontSize)&&this.pdfViewer.annotationModule?this.pdfViewer.annotationModule.handleFontSizeUpdate(e):this.fontSize.value=e+"px"},e.prototype.updateOpacityIndicator=function(){this.opacityIndicator.textContent=parseInt(Math.round(this.opacitySlider.value).toString(),10)+"%"},e.prototype.updateThicknessIndicator=function(){this.thicknessIndicator.textContent=this.thicknessSlider.value+" pt"},e.prototype.createSlider=function(e){var i=(0,t.createElement)("div",{className:"e-pv-annotation-opacity-popup-container"});document.body.appendChild(i);var n=(0,t.createElement)("span",{id:e+"_label",className:"e-pv-annotation-opacity-label"});n.textContent=this.pdfViewer.localeObj.getConstant("Opacity");var o=(0,t.createElement)("div",{id:e+"_slider"});return this.opacitySlider=new Pe.Slider({type:"MinRange",cssClass:"e-pv-annotation-opacity-slider",max:100,min:0}),this.opacityIndicator=(0,t.createElement)("div",{id:e+"_opacity_indicator",className:"e-pv-annotation-opacity-indicator"}),this.opacityIndicator.textContent="100%",this.pdfViewer.enableRtl?(i.appendChild(this.opacityIndicator),i.appendChild(o),this.opacitySlider.enableRtl=!0,this.opacitySlider.appendTo(o),this.opacitySlider.element.parentElement.classList.add("e-pv-annotation-opacity-slider-container"),i.appendChild(n)):(i.appendChild(n),i.appendChild(o),this.opacitySlider.appendTo(o),this.opacitySlider.element.parentElement.classList.add("e-pv-annotation-opacity-slider-container"),i.appendChild(this.opacityIndicator)),i},e.prototype.createThicknessSlider=function(e){var i=(0,t.createElement)("div",{className:"e-pv-annotation-thickness-popup-container"});document.body.appendChild(i);var n=(0,t.createElement)("span",{id:e+"_label",className:"e-pv-annotation-thickness-label"});n.textContent=this.pdfViewer.localeObj.getConstant("Line Thickness");var o=(0,t.createElement)("div",{id:e+"_slider"});return this.thicknessSlider=new Pe.Slider({type:"MinRange",cssClass:"e-pv-annotation-thickness-slider",max:12,min:0}),this.thicknessIndicator=(0,t.createElement)("div",{id:e+"_thickness_indicator",className:"e-pv-annotation-thickness-indicator"}),this.thicknessIndicator.textContent="0 pt",this.pdfViewer.enableRtl?(i.appendChild(this.thicknessIndicator),i.appendChild(o),this.thicknessSlider.enableRtl=!0,this.thicknessSlider.appendTo(o),i.appendChild(n)):(i.appendChild(n),i.appendChild(o),this.thicknessSlider.appendTo(o),i.appendChild(this.thicknessIndicator)),this.thicknessSlider.element.parentElement.classList.add("e-pv-annotation-thickness-slider-container"),i},e.prototype.afterToolbarCreation=function(){var e=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);this.highlightItem=this.primaryToolbar.addClassToolbarItem("_highlight","e-pv-highlight",this.pdfViewer.localeObj.getConstant("Highlight")),this.underlineItem=this.primaryToolbar.addClassToolbarItem("_underline","e-pv-underline",this.pdfViewer.localeObj.getConstant("Underline")),this.strikethroughItem=this.primaryToolbar.addClassToolbarItem("_strikethrough","e-pv-strikethrough",this.pdfViewer.localeObj.getConstant("Strikethrough")),this.deleteItem=this.primaryToolbar.addClassToolbarItem("_annotation_delete","e-pv-annotation-delete",this.pdfViewer.localeObj.getConstant("Delete")+" (delete)"),this.freeTextEditItem=this.primaryToolbar.addClassToolbarItem("_annotation_freeTextEdit","e-pv-annotation-freeTextEdit",this.pdfViewer.localeObj.getConstant("Free Text")),this.inkAnnotationItem=this.primaryToolbar.addClassToolbarItem("_annotation_ink","e-pv-annotation-ink",this.pdfViewer.localeObj.getConstant("Draw Ink")),this.pdfViewerBase.getElement("_annotation_shapes").setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Add Shapes")),this.pdfViewerBase.getElement("_annotation_calibrate").setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Calibrate")),this.pdfViewerBase.getElement("_comment").setAttribute("aria-label",this.pdfViewer.localeObj.getConstant("Add Comments")),this.commentItem=this.primaryToolbar.addClassToolbarItem("_annotation_commentPanel","e-pv-annotation-comment-panel",this.pdfViewer.localeObj.getConstant("Comment Panel")+(e?" (++0)":" (Ctrl+Alt+0)")),this.closeItem=this.primaryToolbar.addClassToolbarItem("_annotation_close","e-pv-annotation-tools-close",null),this.pdfViewerBase.getElement("_annotation_close").setAttribute("aria-label","Close Annotation Toolbar"),this.selectAnnotationDeleteItem(!1),this.enableTextMarkupAnnotationPropertiesTools(!1),this.enableCommentPanelTool(this.pdfViewer.enableCommentPanel)},e.prototype.onToolbarClicked=function(e){var i=this.pdfViewer.selectedItems.annotations[0];e.originalEvent.target.id&&this.pdfViewer.toolbarModule.updateStampItems();var n=e.originalEvent&&"mouse"!==e.originalEvent.pointerType&&"touch"!==e.originalEvent.pointerType;switch(this.pdfViewer.toolbarModule.deSelectCommentAnnotation(),e.originalEvent.target.id){case this.pdfViewer.element.id+"_highlight":case this.pdfViewer.element.id+"_highlightIcon":this.pdfViewer.tool="",t.Browser.isDevice?this.isMobileHighlightEnabled?(this.deselectAllItemsForMobile(),this.pdfViewer.annotationModule.setAnnotationMode("None")):(this.pdfViewer.annotationModule.setAnnotationMode("Highlight"),this.primaryToolbar.selectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.textMarkupForMobile(e),this.isMobileHighlightEnabled=!0,this.isMobileUnderlineEnabled=!1,this.isMobileStrikethroughEnabled=!1):(this.pdfViewer.tool="",this.resetFreeTextAnnot(),this.handleHighlight()),this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent();break;case this.pdfViewer.element.id+"_underline":case this.pdfViewer.element.id+"_underlineIcon":this.pdfViewer.tool="",t.Browser.isDevice?this.isMobileUnderlineEnabled?(this.deselectAllItemsForMobile(),this.pdfViewer.annotationModule.setAnnotationMode("None")):(this.pdfViewer.annotationModule.setAnnotationMode("Underline"),this.primaryToolbar.selectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.textMarkupForMobile(e),this.isMobileUnderlineEnabled=!0,this.isMobileHighlightEnabled=!1,this.isMobileStrikethroughEnabled=!1):(this.pdfViewer.tool="",this.resetFreeTextAnnot(),this.handleUnderline()),this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent();break;case this.pdfViewer.element.id+"_strikethrough":case this.pdfViewer.element.id+"_strikethroughIcon":this.pdfViewer.tool="",t.Browser.isDevice?this.isMobileStrikethroughEnabled?(this.deselectAllItemsForMobile(),this.pdfViewer.annotationModule.setAnnotationMode("None")):(this.pdfViewer.annotationModule.setAnnotationMode("Strikethrough"),this.primaryToolbar.selectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.textMarkupForMobile(e),this.isMobileStrikethroughEnabled=!0,this.isMobileUnderlineEnabled=!1,this.isMobileHighlightEnabled=!1):(this.pdfViewer.tool="",this.resetFreeTextAnnot(),this.handleStrikethrough()),this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent();break;case this.pdfViewer.element.id+"_annotation_delete":case this.pdfViewer.element.id+"_annotation_deleteIcon":this.pdfViewer.annotationModule.deleteAnnotation(),this.resetFreeTextAnnot();break;case this.pdfViewer.element.id+"_annotation_commentPanel":case this.pdfViewer.element.id+"_annotation_commentPanelIcon":this.inkAnnotationSelected=!1;var o=document.getElementById(this.pdfViewer.element.id+"_commantPanel");this.pdfViewer.annotation&&this.pdfViewer.annotation.textMarkupAnnotationModule&&this.pdfViewer.annotation.textMarkupAnnotationModule.showHideDropletDiv(!0),"block"===o.style.display?this.pdfViewerBase.navigationPane.closeCommentPanelContainer():(this.pdfViewer.annotationModule.showCommentsPanel(),n&&!(0,t.isNullOrUndefined)(o.firstElementChild)&&!(0,t.isNullOrUndefined)(o.firstElementChild.lastElementChild)&&o.firstElementChild.lastElementChild instanceof HTMLButtonElement&&o.firstElementChild.lastElementChild.focus());break;case this.pdfViewer.element.id+"_annotation_close":case this.pdfViewer.element.id+"_annotation_closeIcon":this.inkAnnotationSelected=!1,"block"===document.getElementById(this.pdfViewer.element.id+"_commantPanel").style.display&&this.pdfViewerBase.navigationPane.closeCommentPanelContainer(),this.showAnnotationToolbar(this.primaryToolbar.annotationItem);break;case this.pdfViewer.element.id+"_annotation_freeTextEdit":case this.pdfViewer.element.id+"_annotation_freeTextEditIcon":t.Browser.isDevice?(this.pdfViewer.annotationModule.setAnnotationMode("FreeText"),this.FreeTextForMobile()):(this.resetFreeTextAnnot(),this.handleFreeTextEditor());break;case this.pdfViewer.element.id+"_annotation_signature":case this.pdfViewer.element.id+"_annotation_signatureIcon":this.inkAnnotationSelected=!1,this.updateSignatureCount();break;case this.pdfViewer.element.id+"_annotation_ink":case this.pdfViewer.element.id+"_annotation_inkIcon":if(i&&(this.pdfViewer.annotation.triggerAnnotationUnselectEvent(),this.pdfViewer.annotation.triggerSignatureUnselectEvent()),this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber-1),this.pdfViewer.annotationModule.inkAnnotationModule){var r=this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber;r&&""!==r&&(this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(parseInt(r,10)),this.primaryToolbar.deSelectItem(this.inkAnnotationItem))}this.inkAnnotationSelected?this.inkAnnotationSelected=!1:(this.deselectAllItems(),this.deselectAllItemsForMobile(),this.drawInkAnnotation());break;case this.pdfViewer.element.id+"_annotation_shapesIcon":case this.pdfViewer.element.id+"_annotation_shapes":t.Browser.isDevice&&this.shapeToolMobile(e);break;case this.pdfViewer.element.id+"_annotation_calibrateIcon":case this.pdfViewer.element.id+"_annotation_calibrate":t.Browser.isDevice&&this.calibrateToolMobile(e);break;case this.pdfViewer.element.id+"_commentIcon":case this.pdfViewer.element.id+"_comment":this.pdfViewerBase.isAddComment=!0,this.pdfViewerBase.isCommentIconAdded=!0;var a=document.getElementById(this.pdfViewer.element.id+"_comment");this.deselectAllItemsForMobile(),a.classList.add("e-pv-select"),this.pdfViewer.toolbarModule.addComments(e)}},e.prototype.addInkAnnotation=function(){if(this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber-1),this.pdfViewer.annotationModule.inkAnnotationModule){var e=this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber;e&&""!==e&&(this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(parseInt(e,10)),(0,t.isBlazor)()?(this.primaryToolbar.deSelectItem(this.InkAnnotationElement),this.pdfViewerBase.focusViewerContainer()):this.primaryToolbar.deSelectItem(this.inkAnnotationItem))}this.inkAnnotationSelected?this.inkAnnotationSelected=!1:(this.deselectAllItemsInBlazor(),this.drawInkAnnotation())},e.prototype.deselectInkAnnotation=function(){(0,t.isBlazor)()?(this.primaryToolbar.deSelectItem(this.InkAnnotationElement),this.pdfViewerBase.focusViewerContainer()):this.primaryToolbar.deSelectItem(this.inkAnnotationItem)},e.prototype.drawInkAnnotation=function(){this.inkAnnotationSelected=!0,(0,t.isBlazor)()?this.primaryToolbar.selectItem(this.InkAnnotationElement):this.primaryToolbar.selectItem(this.inkAnnotationItem),this.enableSignaturePropertiesTools(!0),this.pdfViewerBase.isToolbarInkClicked=!0,this.pdfViewer.annotationModule.inkAnnotationModule.drawInk()},e.prototype.resetFreeTextAnnot=function(){if(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.freeTextAnnotationModule&&(this.pdfViewer.annotation.freeTextAnnotationModule.isNewFreeTextAnnot=!1,this.pdfViewer.annotation.freeTextAnnotationModule.isNewAddedAnnot=!1,t.Browser.isDevice||(this.freeTextEditItem&&!(0,t.isBlazor)()?this.primaryToolbar.deSelectItem(this.freeTextEditItem):(0,t.isBlazor)()&&this.primaryToolbar.deSelectItem(this.FreeTextElement),this.enableFreeTextAnnotationPropertiesTools(!1))),this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.inkAnnotationModule){var e=this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber;e&&""!==e&&(this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(parseInt(e,10)),(0,t.isBlazor)()?this.primaryToolbar.deSelectItem(this.InkAnnotationElement):this.primaryToolbar.deSelectItem(this.inkAnnotationItem))}this.inkAnnotationSelected=!1},e.prototype.updateInkannotationItems=function(){if(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.inkAnnotationModule&&this.inkAnnotationSelected){var e=this.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber;e&&""!==e&&(this.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(parseInt(e,10)),this.pdfViewerBase.isToolbarInkClicked=!0,this.pdfViewer.tool="Ink",this.pdfViewer.clearSelection(e))}},e.prototype.showSignaturepanel=function(){this.pdfViewerBase.isToolbarSignClicked=!0,this.pdfViewerBase.signatureModule.showSignatureDialog(!0)},e.prototype.handleFreeTextEditor=function(){var e=this.pdfViewer.selectedItems.annotations[0];this.enableFreeTextAnnotationPropertiesTools(!0),e&&(this.pdfViewer.fireAnnotationUnSelect(e.annotName,e.pageIndex,e),this.pdfViewer.fireSignatureUnselect(e.annotName,e.pageIndex,e)),this.pdfViewer.clearSelection(this.pdfViewer.currentPageNumber-1),this.pdfViewer.annotationModule.textMarkupAnnotationModule&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1),this.isStrikethroughEnabled=!1,this.isHighlightEnabled=!1,this.isUnderlineEnabled=!1;var t=this.pdfViewer.annotation.freeTextAnnotationModule;t.setAnnotationType("FreeText"),t.isNewFreeTextAnnot=!0,t.isNewAddedAnnot=!0,this.updateInteractionTools(),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.selectItem(this.freeTextEditItem),this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.annotationModule.freeTextAnnotationModule.fillColor),this.updateColorInIcon(this.strokeDropDownElement,this.pdfViewer.annotationModule.freeTextAnnotationModule.borderColor),this.updateColorInIcon(this.fontColorElement,this.pdfViewer.annotationModule.freeTextAnnotationModule.fontColor),this.updateFontFamilyInIcon(this.pdfViewer.annotationModule.freeTextAnnotationModule.fontFamily),this.updateFontSizeInIcon(this.pdfViewer.annotationModule.freeTextAnnotationModule.fontSize),this.updateTextAlignInIcon(this.pdfViewer.annotationModule.freeTextAnnotationModule.textAlign),this.updateFontFamily()},e.prototype.updateFontFamily=function(){this.pdfViewer.annotationModule.freeTextAnnotationModule.isBold?this.updateFontFamilyIcon("_bold",!0):this.updateFontFamilyIcon("_bold",!1),this.pdfViewer.annotationModule.freeTextAnnotationModule.isItalic?this.updateFontFamilyIcon("_italic",!0):this.updateFontFamilyIcon("_italic",!1),this.pdfViewer.annotationModule.freeTextAnnotationModule.isUnderline?(this.updateFontFamilyIcon("_underline_textinput",!0),this.updateFontFamilyIcon("_strikeout",!1)):this.updateFontFamilyIcon("_underline_textinput",!1),this.pdfViewer.annotationModule.freeTextAnnotationModule.isStrikethrough?(this.updateFontFamilyIcon("_strikeout",!0),this.updateFontFamilyIcon("_underline_textinput",!1)):this.updateFontFamilyIcon("_strikeout",!1)},e.prototype.updateFontFamilyIcon=function(e,t){var i=document.getElementById(this.pdfViewer.element.id+e);t?i.classList.add("textprop-option-active"):i.classList.remove("textprop-option-active")},e.prototype.showAnnotationToolbar=function(e,i,n){if(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode){if(this.isToolbarHidden){var o=void 0;this.toolbarElement&&(o=this.toolbarElement.style.display,this.toolbarElement.style.display="block"),i||(this.pdfViewer.isAnnotationToolbarVisible=!0),e?this.primaryToolbar.selectItem(e):this.pdfViewer.enableToolbar&&this.primaryToolbar.selectItem(this.primaryToolbar.annotationItem),"none"===o&&this.adjustViewer(!0)}else{var r=this.pdfViewer.annotationModule;e?this.primaryToolbar.deSelectItem(e):this.pdfViewer.enableToolbar&&this.primaryToolbar.deSelectItem(this.primaryToolbar.annotationItem),this.adjustViewer(!1),r&&r.textMarkupAnnotationModule&&r.textMarkupAnnotationModule.currentTextMarkupAnnotation?this.enablePropertiesTool(r):(this.deselectAllItems(),this.deselectAllItemsForMobile()),this.toolbarElement.style.display="none",i||(this.pdfViewer.isAnnotationToolbarVisible=!1),this.pdfViewerBase.isPanMode?this.primaryToolbar.updateInteractionTools(!1):this.primaryToolbar.updateInteractionTools(!0)}this.pdfViewer.magnification&&"fitToPage"===this.pdfViewer.magnification.fitType&&this.pdfViewer.magnification.fitToPage(),this.enableAnnotationAddTools(!0),this.isToolbarHidden=!this.isToolbarHidden}else{var a=this.pdfViewer.element.id+"_annotationIcon",s=document.getElementById(a);(s.parentElement.classList.contains("e-pv-select")&&!n||!s.parentElement.classList.contains("e-pv-select")&&n)&&(this.createAnnotationToolbarForMobile(a),this.pdfViewer.isAnnotationToolbarVisible=n)}},e.prototype.enablePropertiesTool=function(e){this.isHighlightEnabled=!1,this.isUnderlineEnabled=!1,this.isStrikethroughEnabled=!1,this.pdfViewerBase.isTextMarkupAnnotationModule()&&(e.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.enableTextMarkupAnnotationPropertiesTools(!0),this.updateColorInIcon(this.colorDropDownElement,e.textMarkupAnnotationModule.currentTextMarkupAnnotation.color),this.selectAnnotationDeleteItem(!0)},e.prototype.applyAnnotationToolbarSettings=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;e&&(-1!==e.indexOf("HighlightTool")?this.showHighlightTool(!0,0,0):this.showHighlightTool(!1,0,0),-1!==e.indexOf("UnderlineTool")?this.showUnderlineTool(!0,1,1):this.showUnderlineTool(!1,1,1),-1!==e.indexOf("StrikethroughTool")?this.showStrikethroughTool(!0,2,2):this.showStrikethroughTool(!1,2,2),-1!==e.indexOf("ShapeTool")?this.showShapeAnnotationTool(!0,4,4):this.showShapeAnnotationTool(!1,4,4),-1!==e.indexOf("CalibrateTool")?this.showCalibrateAnnotationTool(!0,6,6):this.showCalibrateAnnotationTool(!1,6,6),-1!==e.indexOf("ColorEditTool")?this.showColorEditTool(!0,22,22):this.showColorEditTool(!1,22,22),-1!==e.indexOf("StrokeColorEditTool")?this.showStrokeColorEditTool(!0,23,23):this.showStrokeColorEditTool(!1,23,23),-1!==e.indexOf("ThicknessEditTool")?this.showThicknessEditTool(!0,24,24):this.showThicknessEditTool(!1,24,24),-1!==e.indexOf("OpacityEditTool")?this.showOpacityEditTool(!0,25,25):this.showOpacityEditTool(!1,25,25),-1!==e.indexOf("AnnotationDeleteTool")?this.showAnnotationDeleteTool(!0,27,27):this.showAnnotationDeleteTool(!1,27,27),-1!==e.indexOf("StampAnnotationTool")?this.showStampAnnotationTool(!0,10,10):this.showStampAnnotationTool(!1,10,10),-1!==e.indexOf("HandWrittenSignatureTool")?this.showSignatureTool(!0,12,12):this.showSignatureTool(!1,12,12),-1!==e.indexOf("FreeTextAnnotationTool")?this.showFreeTextAnnotationTool(!0,8,8):this.showFreeTextAnnotationTool(!1,8,8),-1!==e.indexOf("FontFamilyAnnotationTool")?this.showFontFamilyAnnotationTool(!0,16,16):this.showFontFamilyAnnotationTool(!1,16,16),-1!==e.indexOf("FontSizeAnnotationTool")?this.showFontSizeAnnotationTool(!0,17,17):this.showFontSizeAnnotationTool(!1,17,17),-1!==e.indexOf("FontStylesAnnotationTool")?this.showFontStylesAnnotationTool(!0,20,20):this.showFontStylesAnnotationTool(!1,20,20),-1!==e.indexOf("FontAlignAnnotationTool")?this.showFontAlignAnnotationTool(!0,19,19):this.showFontAlignAnnotationTool(!1,19,19),-1!==e.indexOf("FontColorAnnotationTool")?this.showFontColorAnnotationTool(!0,18,18):this.showFontColorAnnotationTool(!1,18,18),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,28,28):this.showCommentPanelTool(!1,28,28),this.showInkAnnotationTool(),this.showSeparator())},e.prototype.applyMobileAnnotationToolbarSettings=function(){var e=this.pdfViewer.toolbarSettings.annotationToolbarItems;if(e){-1!==e.indexOf("HighlightTool")?this.showHighlightTool(!0,2,2):this.showHighlightTool(!1,2,2),-1!==e.indexOf("UnderlineTool")?this.showUnderlineTool(!0,3,3):this.showUnderlineTool(!1,3,3),-1!==e.indexOf("StrikethroughTool")?this.showStrikethroughTool(!0,4,4):this.showStrikethroughTool(!1,4,4),-1!==e.indexOf("ShapeTool")?this.showShapeAnnotationTool(!0,6,6):this.showShapeAnnotationTool(!1,6,6),-1!==e.indexOf("CalibrateTool")?this.showCalibrateAnnotationTool(!0,8,8):this.showCalibrateAnnotationTool(!1,8,8);var t=this.pdfViewer.toolbarSettings.toolbarItems;t&&-1!==t.indexOf("CommentTool")?this.showStickyNoteToolInMobile(!0):this.showStickyNoteToolInMobile(!1),-1!==e.indexOf("StampAnnotationTool")?this.showStampAnnotationTool(!0,12,12):this.showStampAnnotationTool(!1,12,12),-1!==e.indexOf("HandWrittenSignatureTool")?this.showSignatureTool(!0,14,14):this.showSignatureTool(!1,14,14),-1!==e.indexOf("FreeTextAnnotationTool")?this.showFreeTextAnnotationTool(!0,10,10):this.showFreeTextAnnotationTool(!1,10,10),-1!==e.indexOf("CommentPanelTool")?this.showCommentPanelTool(!0,18,18):this.showCommentPanelTool(!1,18,18),-1!==e.indexOf("InkAnnotationTool")?this.showInkTool(!0,16,16):this.showInkTool(!1,16,16),this.showSeparatorInMobile()}},e.prototype.showStickyNoteToolInMobile=function(e){this.isCommentBtnVisible=e,this.applyHideToToolbar(e,0,0)},e.prototype.showSeparatorInMobile=function(){this.isCommentBtnVisible||this.applyHideToToolbar(!1,1,1),this.isHighlightBtnVisible||this.isUnderlineBtnVisible||this.isStrikethroughBtnVisible||this.applyHideToToolbar(!1,5,5),this.isShapeBtnVisible||this.applyHideToToolbar(!1,7,7),this.isCalibrateBtnVisible||this.applyHideToToolbar(!1,9,9),this.isFreeTextBtnVisible||this.applyHideToToolbar(!1,11,11),this.isStampBtnVisible||this.applyHideToToolbar(!1,13,13),this.isSignatureBtnVisible||this.applyHideToToolbar(!1,15,15),this.isInkBtnVisible||this.applyHideToToolbar(!1,17,17)},e.prototype.showInkAnnotationTool=function(){-1!==this.pdfViewer.toolbarSettings.annotationToolbarItems.indexOf("InkAnnotationTool")?this.showInkTool(!0,14,14):this.showInkTool(!1,14,14)},e.prototype.showSeparator=function(){this.isHighlightBtnVisible||this.isUnderlineBtnVisible||this.isStrikethroughBtnVisible||this.applyHideToToolbar(!1,3,3),this.isShapeBtnVisible||this.applyHideToToolbar(!1,5,5),this.isCalibrateBtnVisible||this.applyHideToToolbar(!1,7,7),this.isFreeTextBtnVisible||this.applyHideToToolbar(!1,9,9),this.isStampBtnVisible||this.applyHideToToolbar(!1,11,11),this.isSignatureBtnVisible||this.applyHideToToolbar(!1,13,13),this.isInkBtnVisible||this.applyHideToToolbar(!1,15,15),this.isFontFamilyToolVisible||this.isFontSizeToolVisible||this.isFontColorToolVisible||this.isFontAlignToolVisible||this.isFontStylesToolVisible||this.applyHideToToolbar(!1,21,21),(this.isColorToolVisible||this.isStrokeColorToolVisible||this.isThicknessToolVisible||this.isOpacityToolVisible)&&this.isDeleteAnnotationToolVisible||this.applyHideToToolbar(!1,26,26)},e.prototype.showHighlightTool=function(e,t,i){this.isHighlightBtnVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showUnderlineTool=function(e,t,i){this.isUnderlineBtnVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showStrikethroughTool=function(e,t,i){this.isStrikethroughBtnVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showShapeAnnotationTool=function(e,t,i){this.isShapeBtnVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showCalibrateAnnotationTool=function(e,t,i){this.isCalibrateBtnVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showFreeTextAnnotationTool=function(e,t,i){this.isFreeTextBtnVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showStampAnnotationTool=function(e,t,i){this.isStampBtnVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showSignatureTool=function(e,t,i){this.isSignatureBtnVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showInkTool=function(e,t,i){this.isInkBtnVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showFontFamilyAnnotationTool=function(e,t,i){this.isFontFamilyToolVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showFontSizeAnnotationTool=function(e,t,i){this.isFontSizeToolVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showFontAlignAnnotationTool=function(e,t,i){this.isFontAlignToolVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showFontColorAnnotationTool=function(e,t,i){this.isFontColorToolVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showFontStylesAnnotationTool=function(e,t,i){this.isFontStylesToolVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showColorEditTool=function(e,t,i){this.isColorToolVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showStrokeColorEditTool=function(e,t,i){this.isStrokeColorToolVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showThicknessEditTool=function(e,t,i){this.isThicknessToolVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showOpacityEditTool=function(e,t,i){this.isOpacityToolVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showAnnotationDeleteTool=function(e,t,i){this.isDeleteAnnotationToolVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.showCommentPanelTool=function(e,t,i){this.isCommentPanelBtnVisible=e,this.applyHideToToolbar(e,t,i)},e.prototype.applyHideToToolbar=function(e,i,n){for(var o=!e,r=i;r<=n;r++){var a=void 0,s=this.propertyToolbar&&this.propertyToolbar.element?this.propertyToolbar.element:null,l=this.toolbar&&this.toolbar.element?this.toolbar.element:null;if(l&&l.children&&l.children.length>0?a=this.toolbar:t.Browser.isDevice&&s&&s.children&&s.children.length>0&&(a=this.propertyToolbar),a&&a.items[parseInt(r.toString(),10)]){var d=a.items[parseInt(r.toString(),10)].cssClass;if(d&&""!==d){var h=a.element.querySelector("."+d);h&&this.toolbar.hideItem(h,o)}else a.hideItem(r,o)}}},e.prototype.adjustViewer=function(e){var i,n,o;if((0,t.isBlazor)()){i=this.pdfViewer.element.querySelector(".e-pv-sidebar-toolbar-splitter"),n=this.pdfViewer.element.querySelector(".e-pv-toolbar");var r=this.pdfViewer.element.querySelector(".e-pv-annotation-toolbar");o=this.getToolbarHeight(r)}else i=this.pdfViewerBase.getElement("_sideBarToolbarSplitter"),n=this.pdfViewerBase.getElement("_toolbarContainer"),o=this.getToolbarHeight(this.toolbarElement);var a=this.getToolbarHeight(n),s=this.pdfViewerBase.navigationPane.sideBarToolbar,l=this.pdfViewerBase.navigationPane.sideBarContentContainer,d=this.pdfViewerBase.navigationPane.commentPanelContainer,h=this.pdfViewerBase.navigationPane.commentPanelResizer,A="";e?(this.pdfViewer.enableToolbar?((0,t.isNullOrUndefined)(s)||(s.style.top=a+o+"px"),(0,t.isNullOrUndefined)(l)||(l.style.top=a+o+"px"),(0,t.isNullOrUndefined)(i)||(i.style.top=a+o+"px"),(0,t.isNullOrUndefined)(d)||(d.style.top=a+o+"px"),(0,t.isNullOrUndefined)(h)||(h.style.top=a+o+"px")):(s.style.top=o+"px",l.style.top=o+"px",i.style.top=o+"px",d.style.top=o+"px",h.style.top=a+o+"px"),this.pdfViewer.enableToolbar||(a=0),this.pdfViewerBase.viewerContainer.style.height=this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),o+a)+"px",A=this.getNavigationToolbarHeight(o+a),(0,t.isNullOrUndefined)(s)||(s.style.height=A),(0,t.isNullOrUndefined)(i)||(i.style.height=A),(0,t.isNullOrUndefined)(h)||(h.style.height=A),(0,t.isNullOrUndefined)(l)||(l.style.height=A)):(this.pdfViewer.enableToolbar?(s.style.top=a+"px",l.style.top=a+"px",i.style.top=a+"px",d.style.top=a+"px",h.style.top=a+"px"):(s.style.top="1px",s.style.height="100%",l.style.top="1px",l.style.height="100%",i.style.top="1px",i.style.height="100%",d.style.top="1px",d.style.height="100%",h.style.top="1px",h.style.height="100%"),this.pdfViewer.enableToolbar||(a=0),this.pdfViewerBase.viewerContainer.style.height=this.updateViewerHeight(this.getElementHeight(this.pdfViewerBase.viewerContainer),o)+"px",A=this.getNavigationToolbarHeight(a),(0,t.isNullOrUndefined)(s)||(s.style.height=A),(0,t.isNullOrUndefined)(i)||(i.style.height=A),(0,t.isNullOrUndefined)(h)||(h.style.height=A),(0,t.isNullOrUndefined)(l)||(l.style.height=A),"0px"===this.pdfViewerBase.viewerContainer.style.height&&(this.pdfViewerBase.viewerContainer.style.height=parseInt(this.pdfViewer.element.style.height,10)-parseInt(s.style.top,10)+"px"))},e.prototype.updateContentContainerHeight=function(e,t){var i;if(t){var n=this.pdfViewer.element.querySelector(".e-pv-annotation-toolbar");i=this.getToolbarHeight(n)}else i=this.getToolbarHeight(this.toolbarElement);var o=this.pdfViewerBase.navigationPane.sideBarContentContainer.getBoundingClientRect();0!==o.height&&(this.pdfViewerBase.navigationPane.sideBarContentContainer.style.height=e?o.height-i+"px":o.height+i+"px")},e.prototype.getToolbarHeight=function(e){if(!(0,t.isNullOrUndefined)(e)){var i=e.getBoundingClientRect().height;return 0===i&&e===this.pdfViewerBase.getElement("_toolbarContainer")&&(i=parseFloat(window.getComputedStyle(e).height)+this.toolbarBorderHeight),i}return null},e.prototype.getNavigationToolbarHeight=function(e){var t=this.pdfViewer.element.getBoundingClientRect().height;return 0!==t?t-e+"px":""},e.prototype.handleHighlight=function(){this.isHighlightEnabled?this.deselectAllItems():(this.updateInteractionTools(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations("Highlight"),this.primaryToolbar.selectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.enableTextMarkupAnnotationPropertiesTools(!0),this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor=null,this.setCurrentColorInPicker(),this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.annotationModule.textMarkupAnnotationModule.highlightColor),this.isHighlightEnabled=!0,this.isUnderlineEnabled=!1,this.isStrikethroughEnabled=!1)},e.prototype.handleUnderline=function(){this.isUnderlineEnabled?this.deselectAllItems():(this.updateInteractionTools(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations("Underline"),this.primaryToolbar.selectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.enableTextMarkupAnnotationPropertiesTools(!0),this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor=null,this.setCurrentColorInPicker(),this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.annotationModule.textMarkupAnnotationModule.underlineColor),this.isUnderlineEnabled=!0,this.isHighlightEnabled=!1,this.isStrikethroughEnabled=!1)},e.prototype.handleStrikethrough=function(){this.isStrikethroughEnabled?this.deselectAllItems():(this.updateInteractionTools(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations("Strikethrough"),this.primaryToolbar.selectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.enableTextMarkupAnnotationPropertiesTools(!0),this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor=null,this.setCurrentColorInPicker(),this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.annotationModule.textMarkupAnnotationModule.strikethroughColor),this.isStrikethroughEnabled=!0,this.isHighlightEnabled=!1,this.isUnderlineEnabled=!1)},e.prototype.deselectAllItemsInBlazor=function(){this.pdfViewerBase.isTextMarkupAnnotationModule()&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1,this.pdfViewer.annotationModule.textMarkupAnnotationModule.showHideDropletDiv(!0)),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.primaryToolbar.deSelectItem(this.HighlightElement),this.primaryToolbar.deSelectItem(this.UnderlineElement),this.primaryToolbar.deSelectItem(this.StrikethroughElement),this.primaryToolbar.deSelectItem(this.FreeTextElement),this.primaryToolbar.deSelectItem(this.InkAnnotationElement),this.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateTextMarkupButtons",!1,!1,!1)),this.resetFreeTextAnnot(),this.clearTextMarkupMode(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.tool="",t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.enableTextMarkupAnnotationPropertiesTools(!1),this.enableFreeTextAnnotationPropertiesTools(!1),this.updateColorInIcon(this.colorDropDownElement,"#000000"),this.updateColorInIcon(this.strokeDropDownElement,"#000000"),this.updateColorInIcon(this.fontColorElement,"#000000"),this.selectAnnotationDeleteItem(!1)),this.pdfViewer.annotationModule&&(this.pdfViewer.annotationModule.freeTextAnnotationModule.isNewFreeTextAnnot=!1)},e.prototype.deselectAllItemsForMobile=function(){if(t.Browser.isDevice||!this.pdfViewer.enableDesktopMode){(0,t.isBlazor)();this.isMobileHighlightEnabled=!1,this.isMobileUnderlineEnabled=!1,this.isMobileStrikethroughEnabled=!1,this.pdfViewerBase.isTextMarkupAnnotationModule()&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1,this.pdfViewer.annotationModule.textMarkupAnnotationModule.showHideDropletDiv(!0)),this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem),this.resetFreeTextAnnot(),this.clearTextMarkupMode(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.tool="",this.selectAnnotationDeleteItem(!1),this.pdfViewer.annotationModule&&(this.pdfViewer.annotationModule.freeTextAnnotationModule.isNewFreeTextAnnot=!1)}},e.prototype.deselectAllItems=function(){var e=(0,t.isBlazor)();this.isHighlightEnabled=!1,this.isUnderlineEnabled=!1,this.isStrikethroughEnabled=!1,this.pdfViewerBase.isTextMarkupAnnotationModule()&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1,this.pdfViewer.annotationModule.textMarkupAnnotationModule.showHideDropletDiv(!0)),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(e?(this.primaryToolbar.deSelectItem(this.pdfViewer.toolbar.SelectToolElement),this.primaryToolbar.selectItem(this.pdfViewer.toolbar.PanElement),this.primaryToolbar.deSelectItem(this.HighlightElement),this.primaryToolbar.deSelectItem(this.UnderlineElement),this.primaryToolbar.deSelectItem(this.StrikethroughElement),this.primaryToolbar.deSelectItem(this.FreeTextElement),this.primaryToolbar.deSelectItem(this.InkAnnotationElement)):(this.primaryToolbar.deSelectItem(this.highlightItem),this.primaryToolbar.deSelectItem(this.underlineItem),this.primaryToolbar.deSelectItem(this.strikethroughItem),this.primaryToolbar.deSelectItem(this.freeTextEditItem),this.primaryToolbar.deSelectItem(this.inkAnnotationItem))),this.resetFreeTextAnnot(),this.clearTextMarkupMode(),this.clearShapeMode(),this.clearMeasureMode(),this.pdfViewer.tool="",t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.enableTextMarkupAnnotationPropertiesTools(!1),this.enableFreeTextAnnotationPropertiesTools(!1),this.updateColorInIcon(this.colorDropDownElement,"#000000"),this.updateColorInIcon(this.strokeDropDownElement,"#000000"),this.updateColorInIcon(this.fontColorElement,"#000000"),this.selectAnnotationDeleteItem(!1)),this.pdfViewer.annotationModule&&(this.pdfViewer.annotationModule.freeTextAnnotationModule.isNewFreeTextAnnot=!1)},e.prototype.updateInteractionTools=function(){this.pdfViewer.enableTextSelection?(this.pdfViewerBase.initiateTextSelectMode(),t.Browser.isDevice||this.pdfViewer.toolbar.updateInteractionTools(!0)):t.Browser.isDevice||this.pdfViewer.toolbar.updateInteractionTools(!1)},e.prototype.selectAnnotationDeleteItem=function(e,i){if((0,t.isBlazor)()||t.Browser.isDevice){if(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode){var n;if(e)(n=this.pdfViewer.annotationModule.findCurrentAnnotation())&&(n.annotationSettings&&n.annotationSettings.isLock?this.pdfViewer.annotationModule.checkAllowedInteractions("Delete",n)?this.pdfViewerBase.blazorUIAdaptor.EnableDeleteOption(e):this.pdfViewerBase.blazorUIAdaptor.EnableDeleteOption(!1):this.pdfViewerBase.blazorUIAdaptor&&this.pdfViewerBase.blazorUIAdaptor.EnableDeleteOption(e));else this.pdfViewerBase.blazorUIAdaptor&&this.pdfViewerBase.blazorUIAdaptor.EnableDeleteOption(e);i&&this.pdfViewerBase.focusViewerContainer()}}else this.toolbar&&(e?(n=this.pdfViewer.annotationModule.findCurrentAnnotation())&&(n.annotationSettings&&n.annotationSettings.isLock?this.pdfViewer.annotationModule.checkAllowedInteractions("Delete",n)?this.enableItems(this.deleteItem.parentElement,e):this.enableItems(this.deleteItem.parentElement,!1):this.enableItems(this.deleteItem.parentElement,e)):this.enableItems(this.deleteItem.parentElement,e))},e.prototype.enableTextMarkupAnnotationPropertiesTools=function(e){t.Browser.isDevice||((0,t.isBlazor)()?this.pdfViewerBase.blazorUIAdaptor.enableTextMarkupAnnotationPropertiesTools(e):(this.enableItems(this.colorDropDownElement.parentElement,e),this.enableItems(this.opacityDropDownElement.parentElement,e),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(this.enableItems(this.strokeDropDownElement.parentElement,!1),this.enableItems(this.thicknessElement.parentElement,!1),this.enableItems(this.fontFamilyElement.parentElement,!1),this.enableItems(this.fontSizeElement.parentElement,!1),this.enableItems(this.fontColorElement.parentElement,!1),this.enableItems(this.textAlignElement.parentElement,!1),this.enableItems(this.textPropElement.parentElement,!1))))},e.prototype.checkAnnotationPropertiesChange=function(){var e=this.pdfViewer.selectedItems.annotations[0];if(e&&e.annotationSettings&&e.annotationSettings.isLock)return!!this.pdfViewer.annotationModule.checkAllowedInteractions("PropertyChange",e);return!0},e.prototype.enableAnnotationPropertiesTools=function(e){if(!t.Browser.isDevice){var i=this.checkAnnotationPropertiesChange();e||(i=!0),(0,t.isBlazor)()?this.pdfViewerBase.blazorUIAdaptor.enableAnnotationPropertiesTool(e,i):i&&(this.pdfViewer.selectedItems.annotations[0]&&"Line"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType?this.enableItems(this.colorDropDownElement.parentElement,!1):this.enableItems(this.colorDropDownElement.parentElement,e),this.enableItems(this.opacityDropDownElement.parentElement,e),this.enableItems(this.strokeDropDownElement.parentElement,e),this.enableItems(this.thicknessElement.parentElement,e),this.pdfViewer.enableShapeLabel&&(this.enableItems(this.fontFamilyElement.parentElement,e),this.enableItems(this.fontSizeElement.parentElement,e),this.enableItems(this.fontColorElement.parentElement,e)),this.enableItems(this.textAlignElement.parentElement,!1),this.enableItems(this.textPropElement.parentElement,!1))}},e.prototype.enableSignaturePropertiesTools=function(e){if(!t.Browser.isDevice){var i=this.checkAnnotationPropertiesChange();e||(i=!0),(0,t.isBlazor)()?this.pdfViewerBase.blazorUIAdaptor.enableSignaturePropertiesTools(e,i):i&&(this.enableItems(this.colorDropDownElement.parentElement,!1),this.enableItems(this.opacityDropDownElement.parentElement,e),this.enableItems(this.strokeDropDownElement.parentElement,e),this.enableItems(this.thicknessElement.parentElement,e),this.enableItems(this.textAlignElement.parentElement,!1),this.enableItems(this.textPropElement.parentElement,!1),this.enableItems(this.fontFamilyElement.parentElement,!1),this.enableItems(this.fontSizeElement.parentElement,!1),this.enableItems(this.fontColorElement.parentElement,!1),this.enableItems(this.textAlignElement.parentElement,!1))}},e.prototype.enableStampAnnotationPropertiesTools=function(e){var i=this.checkAnnotationPropertiesChange();e||(i=!0),(0,t.isBlazor)()?this.pdfViewerBase.blazorUIAdaptor.enableStampAnnotationPropertiesTools(e,i):i&&(this.enableItems(this.opacityDropDownElement.parentElement,e),this.enableItems(this.colorDropDownElement.parentElement,!1),this.enableItems(this.strokeDropDownElement.parentElement,!1),this.enableItems(this.thicknessElement.parentElement,!1),this.enableItems(this.fontFamilyElement.parentElement,!1),this.enableItems(this.fontSizeElement.parentElement,!1),this.enableItems(this.fontColorElement.parentElement,!1),this.enableItems(this.textAlignElement.parentElement,!1),this.enableItems(this.textPropElement.parentElement,!1))},e.prototype.enableFreeTextAnnotationPropertiesTools=function(e){var i=this.checkAnnotationPropertiesChange();e||(i=!0),(0,t.isBlazor)()?this.pdfViewerBase.blazorUIAdaptor.enableFreeTextAnnotationPropertiesTools(e,i):i&&(this.enableItems(this.opacityDropDownElement.parentElement,e),this.enableItems(this.colorDropDownElement.parentElement,e),this.enableItems(this.strokeDropDownElement.parentElement,e),this.enableItems(this.thicknessElement.parentElement,e),this.enableItems(this.fontFamilyElement.parentElement,e),this.enableItems(this.fontSizeElement.parentElement,e),this.enableItems(this.fontColorElement.parentElement,e),this.enableItems(this.textAlignElement.parentElement,e),this.enableItems(this.textPropElement.parentElement,e))},e.prototype.enableAnnotationAddTools=function(e){this.toolbar&&!t.Browser.isDevice&&(this.pdfViewer.enableTextMarkupAnnotation&&(this.enableItems(this.highlightItem.parentElement,e),this.enableItems(this.underlineItem.parentElement,e),this.enableItems(this.strikethroughItem.parentElement,e)),this.pdfViewer.enableShapeAnnotation&&this.enableItems(this.shapeElement.parentElement,e),this.pdfViewer.enableStampAnnotations&&this.toolbar.enableItems(this.stampElement.parentElement,e),this.pdfViewer.enableMeasureAnnotation&&this.pdfViewerBase.isCalibrateAnnotationModule()&&this.enableItems(this.calibrateElement.parentElement,e),this.pdfViewer.enableFreeText&&this.enableItems(this.freeTextEditItem.parentElement,e),this.pdfViewer.enableHandwrittenSignature&&this.enableItems(this.handWrittenSignatureItem.parentElement,e),this.pdfViewer.enableInkAnnotation&&this.enableItems(this.inkAnnotationItem.parentElement,e),this.pdfViewer.enableCommentPanel&&this.enableCommentPanelTool(e))},e.prototype.isAnnotationButtonsEnabled=function(){var e=!1;return(this.isHighlightEnabled||this.isUnderlineEnabled||this.isStrikethroughEnabled)&&(e=!0),e},e.prototype.enableCommentPanelTool=function(e){this.toolbar&&this.enableItems(this.commentItem.parentElement,e)},e.prototype.updateToolbarItems=function(){this.pdfViewer.enableTextMarkupAnnotation?this.enableTextMarkupAddTools(!0):this.enableTextMarkupAddTools(!1),this.enableItems(this.shapeElement.parentElement,this.pdfViewer.enableShapeAnnotation),this.toolbar.enableItems(this.stampElement.parentElement,this.pdfViewer.enableStampAnnotations),this.enableItems(this.calibrateElement.parentElement,this.pdfViewer.enableMeasureAnnotation),this.enableItems(this.freeTextEditItem.parentElement,this.pdfViewer.enableFreeText),this.enableItems(this.handWrittenSignatureItem.parentElement,this.pdfViewer.enableHandwrittenSignature),this.enableItems(this.inkAnnotationItem.parentElement,this.pdfViewer.enableInkAnnotation),this.closeItem.setAttribute("tabindex","0")},e.prototype.enableTextMarkupAddTools=function(e){this.enableItems(this.highlightItem.parentElement,e),this.enableItems(this.underlineItem.parentElement,e),this.enableItems(this.strikethroughItem.parentElement,e)},e.prototype.updateAnnnotationPropertyItems=function(){(0,t.isBlazor)()?(this.colorDropDownElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-color-container"),this.strokeDropDownElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-stroke-container"),this.fontColorElementInBlazor=this.pdfViewer.element.querySelector(".e-pv-annotation-textcolor-container"),1===this.pdfViewer.selectedItems.annotations.length?(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.colorDropDownElementInBlazor,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.fill,"fillColor")),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.strokeDropDownElementInBlazor,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor,"strokeColor")),"FreeText"===this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.fontColorElementInBlazor,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].fontColor,"fontColor")),this.pdfViewerBase.blazorUIAdaptor.updateFontFamilyInIcon(this.pdfViewer.selectedItems.annotations[0].fontFamily),this.pdfViewerBase.blazorUIAdaptor.updateFontSizeInIcon(this.pdfViewer.selectedItems.annotations[0].fontSize))):(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.colorDropDownElementInBlazor,"#000000"),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.strokeDropDownElementInBlazor,"#000000"),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.fontColorElementInBlazor,"#000000"))):1===this.pdfViewer.selectedItems.annotations.length?(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.colorDropDownElement,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.fill,"fillColor")),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.strokeDropDownElement,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeColor,"strokeColor")),"FreeText"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||this.pdfViewer.selectedItems.annotations[0].isLock||(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.fontColorElement,this.getColorHexValue(this.pdfViewer.selectedItems.annotations[0].fontColor,"fontColor")),this.pdfViewer.toolbar.annotationToolbarModule.updateFontFamilyInIcon(this.pdfViewer.selectedItems.annotations[0].fontFamily),this.pdfViewer.toolbar.annotationToolbarModule.updateFontSizeInIcon(this.pdfViewer.selectedItems.annotations[0].fontSize),this.pdfViewer.toolbar.annotationToolbarModule.updateTextAlignInIcon(this.pdfViewer.selectedItems.annotations[0].textAlign))):(this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.colorDropDownElement,"#000000"),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.strokeDropDownElement,"#000000"),this.pdfViewer.toolbar.annotationToolbarModule.updateColorInIcon(this.fontColorElement,"#000000"))},e.prototype.getColorHexValue=function(e,i){return"#ffffff00"===e&&(e="#ffffff"),"red"===e.toLowerCase()&&(e="#FF0000"),"transparent"!==e?(0,t.isBlazor)()?e:this.colorPalette.getValue(e,"hex"):"fontColor"===i||"strokeColor"===i?"#000000":"#ffffff"},e.prototype.setColorInPicker=function(e,t){e&&e.setProperties({value:t},!0)},e.prototype.resetToolbar=function(){this.updateToolbarItems(),(this.pdfViewer.isAnnotationToolbarOpen||this.pdfViewer.isAnnotationToolbarVisible)&&this.pdfViewer.enableAnnotationToolbar?(this.adjustViewer(!1),this.toolbarElement.style.display="",this.isToolbarHidden=!1,this.adjustViewer(!0),this.primaryToolbar.selectItem(this.primaryToolbar.annotationItem),this.pdfViewer.toolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule&&this.pdfViewer.toolbarModule.annotationToolbarModule.toolbar.refreshOverflow(),this.pdfViewer.isAnnotationToolbarVisible=!0):(this.toolbarElement.style.display="none",this.isToolbarHidden=!0,this.pdfViewer.isAnnotationToolbarVisible=!1)},e.prototype.clearTextMarkupMode=function(){this.pdfViewerBase.isTextMarkupAnnotationModule()&&((0,t.isBlazor)()&&(this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode=!1),this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAddMode="")},e.prototype.clearShapeMode=function(){this.pdfViewerBase.isShapeAnnotationModule()&&(this.pdfViewer.annotation.shapeAnnotationModule.currentAnnotationMode="")},e.prototype.clearMeasureMode=function(){this.pdfViewerBase.isCalibrateAnnotationModule()&&(this.pdfViewer.annotation.measureAnnotationModule.currentAnnotationMode="")},e.prototype.clear=function(){this.deselectAllItems(),this.deselectAllItemsForMobile()},e.prototype.destroy=function(){this.destroyComponent(),this.shapeDropDown&&this.shapeDropDown.destroy(),this.calibrateDropDown&&this.calibrateDropDown.destroy(),this.fontColorDropDown&&this.fontColorDropDown.destroy(),this.textAlignDropDown&&this.textAlignDropDown.destroy(),this.colorDropDown&&this.colorDropDown.destroy(),this.strokeDropDown&&this.strokeDropDown.destroy(),this.thicknessDropDown&&this.thicknessDropDown.destroy(),this.opacityDropDown&&this.opacityDropDown.destroy(),this.textPropertiesDropDown&&this.textPropertiesDropDown.destroy(),this.toolbar&&this.toolbar.destroy();var e=document.getElementById(this.pdfViewer.element.id+"_stampElement");e&&e.parentElement.removeChild(e)},e.prototype.destroyComponent=function(){for(var e=[this.highlightItem,this.underlineItem,this.strikethroughItem,this.lineElement,this.arrowElement,this.rectangleElement,this.circleElement,this.polygonElement,this.calibrateDistance,this.calibrateArea,this.calibrateRadius,this.calibrateVolume,this.calibratePerimeter,this.freeTextEditItem,this.stampElement,this.handWrittenSignatureItem,this.inkAnnotationItem,this.fontFamilyElement,this.fontSizeElement,this.alignLeftElement,this.alignRightElement,this.alignCenterElement,this.alignJustifyElement,this.boldElement,this.italicElement,this.fontStyleStrikethroughItem,this.fontStyleUnderlineItem,this.deleteItem,this.commentItem,this.shapeDropDown?this.shapeDropDown.activeElem[0]:null,this.calibrateDropDown?this.calibrateDropDown.activeElem[0]:null,this.fontColorDropDown?this.fontColorDropDown.activeElem[0]:null,this.textAlignDropDown?this.textAlignDropDown.activeElem[0]:null,this.colorDropDown?this.colorDropDown.activeElem[0]:null,this.strokeDropDown?this.strokeDropDown.activeElem[0]:null,this.thicknessDropDown?this.thicknessDropDown.activeElem[0]:null,this.opacityDropDown?this.opacityDropDown.activeElem[0]:null,this.textPropertiesDropDown?this.textPropertiesDropDown.activeElem[0]:null],t=0;t<e.length;t++)e[parseInt(t.toString(),10)]&&this.destroyDependentComponent(e[parseInt(t.toString(),10)])},e.prototype.destroyDependentComponent=function(e){if(e.ej2_instances)for(var t=e.ej2_instances.length-1;t>=0;t--)e.ej2_instances[parseInt(t.toString(),10)].destroy()},e.prototype.getElementHeight=function(e){try{return e.getBoundingClientRect().height}catch(e){return 0}},e.prototype.updateViewerHeight=function(e,t){return this.getElementHeight(this.pdfViewer.element)-t},e.prototype.resetViewerHeight=function(e,t){return e+t},e.prototype.afterAnnotationToolbarCreationInBlazor=function(){this.HighlightElement=document.getElementById(this.pdfViewer.element.id+"_highLight").children[0],this.UnderlineElement=document.getElementById(this.pdfViewer.element.id+"_underline").children[0],this.StrikethroughElement=document.getElementById(this.pdfViewer.element.id+"_strikethrough").children[0],this.InkAnnotationElement=document.getElementById(this.pdfViewer.element.id+"_annotation_ink").children[0],this.InkAnnotationElement.classList.add("e-pv-tbar-btn"),this.FreeTextElement=document.getElementById(this.pdfViewer.element.id+"_annotation_freeTextEdit").children[0],this.HighlightElement=this.addClassToToolbarInBlazor(this.HighlightElement,"e-pv-highlight","_highLight"),this.UnderlineElement=this.addClassToToolbarInBlazor(this.UnderlineElement,"e-pv-underline","_underline"),this.StrikethroughElement=this.addClassToToolbarInBlazor(this.StrikethroughElement,"e-pv-strikethrough","_strikethrough")},e.prototype.addClassToToolbarInBlazor=function(e,t,i){if(e.classList.add(t),e.classList.add("e-pv-tbar-btn"),e.childNodes.length>0){var n=e.childNodes[0];n&&n.classList&&(n.id=this.pdfViewer.element.id+i+"Icon",n.classList.remove("e-icons"),n.classList.remove("e-btn-icon"),this.pdfViewer.enableRtl&&n.classList.add("e-right"))}return e},e.prototype.handleHighlightInBlazor=function(){this.HighlightElement.classList.contains("e-pv-select")?this.primaryToolbar.deSelectItem(this.HighlightElement):this.HighlightElement.classList.contains("e-pv-select")||this.primaryToolbar.selectItem(this.HighlightElement),this.StrikethroughElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.StrikethroughElement),this.UnderlineElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.UnderlineElement)},e.prototype.handleUnderlineInBlazor=function(){this.UnderlineElement.classList.contains("e-pv-select")?this.primaryToolbar.deSelectItem(this.UnderlineElement):this.UnderlineElement.classList.contains("e-pv-select")||this.primaryToolbar.selectItem(this.UnderlineElement),this.StrikethroughElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.StrikethroughElement),this.HighlightElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.HighlightElement)},e.prototype.handleStrikethroughInBlazor=function(){this.StrikethroughElement.classList.contains("e-pv-select")?this.primaryToolbar.deSelectItem(this.StrikethroughElement):this.StrikethroughElement.classList.contains("e-pv-select")||this.primaryToolbar.selectItem(this.StrikethroughElement),this.HighlightElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.HighlightElement),this.UnderlineElement.classList.contains("e-pv-select")&&this.primaryToolbar.deSelectItem(this.UnderlineElement)},e.prototype.AnnotationSliderOpened=function(){if(this.pdfViewer.selectedItems.annotations&&this.pdfViewer.selectedItems.annotations.length>0&&this.pdfViewer.selectedItems.annotations[0]&&this.pdfViewer.selectedItems.annotations[0].wrapper&&this.pdfViewer.selectedItems.annotations[0].wrapper.children[0]){var e=100*this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.opacity,t=this.pdfViewer.selectedItems.annotations[0].wrapper.children[0].style.strokeWidth;this.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateAnnotationSlider",e,t)}},e.prototype.DropDownOpened=function(e){if(e&&e[0].element){var t=e[0].element.getBoundingClientRect(),i=this.pdfViewerBase.navigationPane.sideBarToolbar,n=i?i.getBoundingClientRect().width:0;t.left>this.pdfViewerBase.viewerContainer.clientWidth+t.width+n&&(e[0].element.style.left=t.left-this.pdfViewerBase.viewerContainer.clientHeight/2+"px")}},e.prototype.enableItems=function(e,t){this.toolbar.enableItems(e,t),e.firstElementChild&&(e.firstElementChild.setAttribute("tabindex",t?"0":"-1"),e.firstElementChild.setAttribute("data-tabindex",t?"0":"-1"))},e}(),Cd=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Bd=function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},Id=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new i((function(t){t(e.value)})).then(a,s)}l((n=n.apply(e,t||[])).next())}))},bd=function(e,t){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},vd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(!0)],i.prototype,"showTooltip",void 0),Bd([(0,t.Property)()],i.prototype,"toolbarItems",void 0),Bd([(0,t.Property)()],i.prototype,"annotationToolbarItems",void 0),Bd([(0,t.Property)()],i.prototype,"formDesignerToolbarItems",void 0),i}(t.ChildProperty),Ed=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)("")],i.prototype,"prefixIcon",void 0),Bd([(0,t.Property)("")],i.prototype,"tooltipText",void 0),Bd([(0,t.Property)("")],i.prototype,"id",void 0),Bd([(0,t.Property)("")],i.prototype,"text",void 0),Bd([(0,t.Property)("")],i.prototype,"cssClass",void 0),Bd([(0,t.Property)("left")],i.prototype,"align",void 0),Bd([(0,t.Property)("")],i.prototype,"template",void 0),Bd([(0,t.Property)("Button")],i.prototype,"type",void 0),i}(t.ChildProperty),xd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)()],i.prototype,"ajaxHeaders",void 0),Bd([(0,t.Property)(!1)],i.prototype,"withCredentials",void 0),i}(t.ChildProperty),_d=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)("")],i.prototype,"customStampName",void 0),Bd([(0,t.Property)("")],i.prototype,"customStampImageSource",void 0),i}(t.ChildProperty),Dd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(!0)],i.prototype,"showTooltip",void 0),Bd([(0,t.Property)()],i.prototype,"annotationToolbarItem",void 0),i}(t.ChildProperty),Md=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(!0)],i.prototype,"showTooltip",void 0),Bd([(0,t.Property)()],i.prototype,"formDesignerToolbarItem",void 0),i}(t.ChildProperty),Vd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0,width:0,height:0})],i.prototype,"bounds",void 0),Bd([(0,t.Property)("")],i.prototype,"name",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isReadOnly",void 0),Bd([(0,t.Property)("visible")],i.prototype,"visibility",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isRequired",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"tooltip",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)(0)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)()],i.prototype,"signatureDialogSettings",void 0),Bd([(0,t.Property)()],i.prototype,"signatureIndicatorSettings",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)()],i.prototype,"typeSignatureFonts",void 0),i}(t.ChildProperty),Qd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0,width:0,height:0})],i.prototype,"bounds",void 0),Bd([(0,t.Property)("")],i.prototype,"name",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isReadOnly",void 0),Bd([(0,t.Property)("visible")],i.prototype,"visibility",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isRequired",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"tooltip",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)(0)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isInitialField",void 0),Bd([(0,t.Property)()],i.prototype,"initialDialogSettings",void 0),Bd([(0,t.Property)()],i.prototype,"initialIndicatorSettings",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)()],i.prototype,"typeInitialFonts",void 0),i}(t.ChildProperty),Fd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("orange")],i.prototype,"backgroundColor",void 0),Bd([(0,t.Property)(19)],i.prototype,"width",void 0),Bd([(0,t.Property)(10)],i.prototype,"height",void 0),Bd([(0,t.Property)(10)],i.prototype,"fontSize",void 0),Bd([(0,t.Property)(null)],i.prototype,"text",void 0),Bd([(0,t.Property)("black")],i.prototype,"color",void 0),i}(t.ChildProperty),Td=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(Ee.Draw|Ee.Text|Ee.Upload)],i.prototype,"displayMode",void 0),Bd([(0,t.Property)(!1)],i.prototype,"hideSaveSignature",void 0),i}(t.ChildProperty),kd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)("Load")],i.prototype,"load",void 0),Bd([(0,t.Property)("Unload")],i.prototype,"unload",void 0),Bd([(0,t.Property)("RenderPdfPages")],i.prototype,"renderPages",void 0),Bd([(0,t.Property)("RenderPdfPages")],i.prototype,"print",void 0),Bd([(0,t.Property)("Download")],i.prototype,"download",void 0),Bd([(0,t.Property)("RenderThumbnailImages")],i.prototype,"renderThumbnail",void 0),Bd([(0,t.Property)("RenderAnnotationComments")],i.prototype,"renderComments",void 0),Bd([(0,t.Property)("ImportAnnotations")],i.prototype,"importAnnotations",void 0),Bd([(0,t.Property)("ExportAnnotations")],i.prototype,"exportAnnotations",void 0),Bd([(0,t.Property)("ImportFormFields")],i.prototype,"importFormFields",void 0),Bd([(0,t.Property)("ExportFormFields")],i.prototype,"exportFormFields",void 0),Bd([(0,t.Property)("RenderPdfTexts")],i.prototype,"renderTexts",void 0),Bd([(0,t.Property)("ValidatePassword")],i.prototype,"validatePassword",void 0),i}(t.ChildProperty),Pd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"color",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(!1)],i.prototype,"enableMultiPageAnnotation",void 0),Bd([(0,t.Property)(!1)],i.prototype,"enableTextMarkupResizer",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Nd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#00ff00")],i.prototype,"color",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(!1)],i.prototype,"enableMultiPageAnnotation",void 0),Bd([(0,t.Property)(!1)],i.prototype,"enableTextMarkupResizer",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Rd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffff00")],i.prototype,"color",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(!1)],i.prototype,"enableMultiPageAnnotation",void 0),Bd([(0,t.Property)(!1)],i.prototype,"enableTextMarkupResizer",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Ld=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("1")],i.prototype,"thickness",void 0),Bd([(0,t.Property)("None")],i.prototype,"lineHeadStartStyle",void 0),Bd([(0,t.Property)("None")],i.prototype,"lineHeadEndStyle",void 0),Bd([(0,t.Property)(0)],i.prototype,"borderDashArray",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Od=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("1")],i.prototype,"thickness",void 0),Bd([(0,t.Property)("None")],i.prototype,"lineHeadStartStyle",void 0),Bd([(0,t.Property)("None")],i.prototype,"lineHeadEndStyle",void 0),Bd([(0,t.Property)(0)],i.prototype,"borderDashArray",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Ud=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(100)],i.prototype,"width",void 0),Bd([(0,t.Property)(50)],i.prototype,"height",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("1")],i.prototype,"thickness",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),zd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(100)],i.prototype,"width",void 0),Bd([(0,t.Property)(100)],i.prototype,"height",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("1")],i.prototype,"thickness",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Hd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#000")],i.prototype,"fontColor",void 0),Bd([(0,t.Property)(16)],i.prototype,"fontSize",void 0),Bd([(0,t.Property)("Helvetica")],i.prototype,"fontFamily",void 0),Bd([(0,t.Property)("Label")],i.prototype,"labelContent",void 0),Bd([(0,t.Property)("")],i.prototype,"notes",void 0),i}(t.ChildProperty),Yd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("1")],i.prototype,"thickness",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),jd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(150)],i.prototype,"width",void 0),Bd([(0,t.Property)(50)],i.prototype,"height",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)([])],i.prototype,"dynamicStamps",void 0),Bd([(0,t.Property)([])],i.prototype,"signStamps",void 0),Bd([(0,t.Property)([])],i.prototype,"standardBusinessStamps",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Gd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)(0)],i.prototype,"width",void 0),Bd([(0,t.Property)(0)],i.prototype,"height",void 0),Bd([(0,t.Property)(0)],i.prototype,"left",void 0),Bd([(0,t.Property)(0)],i.prototype,"top",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isAddToMenu",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)("")],i.prototype,"customStamps",void 0),Bd([(0,t.Property)(!0)],i.prototype,"enableCustomStamp",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Jd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("1")],i.prototype,"thickness",void 0),Bd([(0,t.Property)("None")],i.prototype,"lineHeadStartStyle",void 0),Bd([(0,t.Property)("None")],i.prototype,"lineHeadEndStyle",void 0),Bd([(0,t.Property)(0)],i.prototype,"borderDashArray",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(40)],i.prototype,"leaderLength",void 0),Bd([(0,t.Property)(xe.move)],i.prototype,"resizeCursorType",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Kd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("1")],i.prototype,"thickness",void 0),Bd([(0,t.Property)("None")],i.prototype,"lineHeadStartStyle",void 0),Bd([(0,t.Property)("None")],i.prototype,"lineHeadEndStyle",void 0),Bd([(0,t.Property)(0)],i.prototype,"borderDashArray",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Wd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("1")],i.prototype,"thickness",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Xd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(100)],i.prototype,"width",void 0),Bd([(0,t.Property)(90)],i.prototype,"height",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("1")],i.prototype,"thickness",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),Zd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("1")],i.prototype,"thickness",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),qd=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(0)],i.prototype,"width",void 0),Bd([(0,t.Property)(0)],i.prototype,"height",void 0),Bd([(0,t.Property)(0)],i.prototype,"path",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ff0000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),$d=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),eh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(1)],i.prototype,"scaleRatio",void 0),Bd([(0,t.Property)("in")],i.prototype,"conversionUnit",void 0),Bd([(0,t.Property)("in")],i.prototype,"displayUnit",void 0),Bd([(0,t.Property)(96)],i.prototype,"depth",void 0),i}(t.ChildProperty),th=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"borderColor",void 0),Bd([(0,t.Property)(1)],i.prototype,"borderWidth",void 0),Bd([(0,t.Property)("solid")],i.prototype,"borderStyle",void 0),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)("#ffffff00")],i.prototype,"fillColor",void 0),Bd([(0,t.Property)(16)],i.prototype,"fontSize",void 0),Bd([(0,t.Property)(151)],i.prototype,"width",void 0),Bd([(0,t.Property)(24.6)],i.prototype,"height",void 0),Bd([(0,t.Property)("#000")],i.prototype,"fontColor",void 0),Bd([(0,t.Property)("Helvetica")],i.prototype,"fontFamily",void 0),Bd([(0,t.Property)("TypeHere")],i.prototype,"defaultText",void 0),Bd([(0,t.Property)("None")],i.prototype,"fontStyle",void 0),Bd([(0,t.Property)("Left")],i.prototype,"textAlignment",void 0),Bd([(0,t.Property)(!1)],i.prototype,"allowEditTextOnly",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)(!0)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isReadonly",void 0),Bd([(0,t.Property)(!1)],i.prototype,"enableAutoFit",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),ih=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)("")],i.prototype,"selectionBorderColor",void 0),Bd([(0,t.Property)("black")],i.prototype,"resizerBorderColor",void 0),Bd([(0,t.Property)("#FF4081")],i.prototype,"resizerFillColor",void 0),Bd([(0,t.Property)(8)],i.prototype,"resizerSize",void 0),Bd([(0,t.Property)(1)],i.prototype,"selectionBorderThickness",void 0),Bd([(0,t.Property)("Square")],i.prototype,"resizerShape",void 0),Bd([(0,t.Property)("")],i.prototype,"selectorLineDashArray",void 0),Bd([(0,t.Property)(ve.Corners|ve.Edges)],i.prototype,"resizerLocation",void 0),Bd([(0,t.Property)(null)],i.prototype,"resizerCursorType",void 0),i}(t.ChildProperty),nh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)("#fdd835")],i.prototype,"searchHighlightColor",void 0),Bd([(0,t.Property)("#8b4c12")],i.prototype,"searchColor",void 0),i}(t.ChildProperty),oh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(0)],i.prototype,"pageIndex",void 0),Bd([(0,t.Property)(0)],i.prototype,"width",void 0),Bd([(0,t.Property)(0)],i.prototype,"height",void 0),Bd([(0,t.Property)(0)],i.prototype,"rotation",void 0),i}(t.ChildProperty),rh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(1)],i.prototype,"opacity",void 0),Bd([(0,t.Property)("#000000")],i.prototype,"strokeColor",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)(150)],i.prototype,"width",void 0),Bd([(0,t.Property)(100)],i.prototype,"height",void 0),Bd([(0,t.Property)(1)],i.prototype,"saveSignatureLimit",void 0),Bd([(0,t.Property)(1)],i.prototype,"saveInitialLimit",void 0),Bd([(0,t.Property)([])],i.prototype,"signatureItem",void 0),Bd([(0,t.Property)()],i.prototype,"typeSignatureFonts",void 0),Bd([(0,t.Property)("")],i.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)()],i.prototype,"signatureDialogSettings",void 0),Bd([(0,t.Property)()],i.prototype,"initialDialogSettings",void 0),Bd([(0,t.Property)({x:0,y:0})],i.prototype,"offset",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)("")],i.prototype,"path",void 0),Bd([(0,t.Property)("Helvetica")],i.prototype,"fontFamily",void 0),Bd([(0,t.Property)(!1)],i.prototype,"canSave",void 0),i}(t.ChildProperty),ah=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)("Guest")],i.prototype,"author",void 0),Bd([(0,t.Property)(0)],i.prototype,"minHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"minWidth",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxHeight",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxWidth",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isLock",void 0),Bd([(0,t.Property)(!1)],i.prototype,"skipPrint",void 0),Bd([(0,t.Property)(!1)],i.prototype,"skipDownload",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),Bd([(0,t.Property)(["None"])],i.prototype,"allowedInteractions",void 0),Bd([(0,t.Property)("")],i.prototype,"subject",void 0),i}(t.ChildProperty),sh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)()],i.prototype,"textData",void 0),Bd([(0,t.Property)()],i.prototype,"pageText",void 0),Bd([(0,t.Property)()],i.prototype,"pageSize",void 0),i}(t.ChildProperty),lh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)()],i.prototype,"bounds",void 0),Bd([(0,t.Property)()],i.prototype,"text",void 0),i}(t.ChildProperty),dh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)()],i.prototype,"size",void 0),Bd([(0,t.Property)()],i.prototype,"x",void 0),Bd([(0,t.Property)()],i.prototype,"y",void 0),Bd([(0,t.Property)()],i.prototype,"width",void 0),Bd([(0,t.Property)()],i.prototype,"height",void 0),Bd([(0,t.Property)()],i.prototype,"left",void 0),Bd([(0,t.Property)()],i.prototype,"top",void 0),Bd([(0,t.Property)()],i.prototype,"right",void 0),Bd([(0,t.Property)()],i.prototype,"bottom",void 0),Bd([(0,t.Property)()],i.prototype,"isEmpty",void 0),i}(t.ChildProperty),hh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(!0)],i.prototype,"enableTileRendering",void 0),Bd([(0,t.Property)(0)],i.prototype,"x",void 0),Bd([(0,t.Property)(0)],i.prototype,"y",void 0),i}(t.ChildProperty),Ah=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(100)],i.prototype,"delayPageRequestTimeOnScroll",void 0),i}(t.ChildProperty),ph=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)("")],i.prototype,"name",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isChecked",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isSelected",void 0),Bd([(0,t.Property)("")],i.prototype,"id",void 0),Bd([(0,t.Property)("")],i.prototype,"value",void 0),Bd([(0,t.Property)("")],i.prototype,"type",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isReadOnly",void 0),Bd([(0,t.Property)([""])],i.prototype,"signatureType",void 0),Bd([(0,t.Property)("")],i.prototype,"fontName",void 0),Bd([(0,t.Property)({x:0,y:0,width:0,height:0})],i.prototype,"bounds",void 0),Bd([(0,t.Property)("Helvetica")],i.prototype,"fontFamily",void 0),Bd([(0,t.Property)(10)],i.prototype,"fontSize",void 0),Bd([(0,t.Property)("None")],i.prototype,"fontStyle",void 0),Bd([(0,t.Property)("black")],i.prototype,"color",void 0),Bd([(0,t.Property)("white")],i.prototype,"backgroundColor",void 0),Bd([(0,t.Property)("Left")],i.prototype,"alignment",void 0),Bd([(0,t.Property)("visible")],i.prototype,"visibility",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxLength",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isRequired",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"tooltip",void 0),Bd([(0,t.Property)("")],i.prototype,"options",void 0),Bd([(0,t.Property)()],i.prototype,"signatureIndicatorSettings",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)("#303030")],i.prototype,"borderColor",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isMultiline",void 0),Bd([(0,t.Property)(!1)],i.prototype,"insertSpaces",void 0),Bd([(0,t.Property)(-1)],i.prototype,"pageIndex",void 0),Bd([(0,t.Property)(1)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isTransparent",void 0),Bd([(0,t.Property)(0)],i.prototype,"rotateAngle",void 0),Bd([(0,t.Property)("")],i.prototype,"selectedIndex",void 0),Bd([(0,t.Property)(0)],i.prototype,"zIndex",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),i}(t.ChildProperty),ch=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)("RightClick")],i.prototype,"contextMenuAction",void 0),Bd([(0,t.Property)([])],i.prototype,"contextMenuItems",void 0),i}(t.ChildProperty),gh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0,width:0,height:0})],i.prototype,"bounds",void 0),Bd([(0,t.Property)("")],i.prototype,"name",void 0),Bd([(0,t.Property)("")],i.prototype,"value",void 0),Bd([(0,t.Property)("Helvetica")],i.prototype,"fontFamily",void 0),Bd([(0,t.Property)(10)],i.prototype,"fontSize",void 0),Bd([(0,t.Property)(0)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)("None")],i.prototype,"fontStyle",void 0),Bd([(0,t.Property)("black")],i.prototype,"color",void 0),Bd([(0,t.Property)("white")],i.prototype,"backgroundColor",void 0),Bd([(0,t.Property)("Left")],i.prototype,"alignment",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isReadOnly",void 0),Bd([(0,t.Property)("visible")],i.prototype,"visibility",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxLength",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isRequired",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"tooltip",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)("#303030")],i.prototype,"borderColor",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isMultiline",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),i}(t.ChildProperty),uh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0,width:0,height:0})],i.prototype,"bounds",void 0),Bd([(0,t.Property)("")],i.prototype,"name",void 0),Bd([(0,t.Property)("")],i.prototype,"value",void 0),Bd([(0,t.Property)(0)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)("Helvetica")],i.prototype,"fontFamily",void 0),Bd([(0,t.Property)(10)],i.prototype,"fontSize",void 0),Bd([(0,t.Property)("None")],i.prototype,"fontStyle",void 0),Bd([(0,t.Property)("black")],i.prototype,"color",void 0),Bd([(0,t.Property)("white")],i.prototype,"backgroundColor",void 0),Bd([(0,t.Property)("Left")],i.prototype,"alignment",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isReadOnly",void 0),Bd([(0,t.Property)("visible")],i.prototype,"visibility",void 0),Bd([(0,t.Property)(0)],i.prototype,"maxLength",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isRequired",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"tooltip",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)("#303030")],i.prototype,"borderColor",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),i}(t.ChildProperty),fh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0,width:0,height:0})],i.prototype,"bounds",void 0),Bd([(0,t.Property)("")],i.prototype,"name",void 0),Bd([(0,t.Property)("")],i.prototype,"value",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isChecked",void 0),Bd([(0,t.Property)("white")],i.prototype,"backgroundColor",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isReadOnly",void 0),Bd([(0,t.Property)("visible")],i.prototype,"visibility",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)(0)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)("")],i.prototype,"tooltip",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isRequired",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)("#303030")],i.prototype,"borderColor",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),i}(t.ChildProperty),mh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0,width:0,height:0})],i.prototype,"bounds",void 0),Bd([(0,t.Property)("")],i.prototype,"name",void 0),Bd([(0,t.Property)("")],i.prototype,"value",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isSelected",void 0),Bd([(0,t.Property)("white")],i.prototype,"backgroundColor",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isReadOnly",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isRequired",void 0),Bd([(0,t.Property)(0)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)("visible")],i.prototype,"visibility",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"tooltip",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)("#303030")],i.prototype,"borderColor",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),i}(t.ChildProperty),wh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0,width:0,height:0})],i.prototype,"bounds",void 0),Bd([(0,t.Property)("")],i.prototype,"name",void 0),Bd([(0,t.Property)("")],i.prototype,"value",void 0),Bd([(0,t.Property)("Helvetica")],i.prototype,"fontFamily",void 0),Bd([(0,t.Property)(10)],i.prototype,"fontSize",void 0),Bd([(0,t.Property)(0)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)("None")],i.prototype,"fontStyle",void 0),Bd([(0,t.Property)("black")],i.prototype,"color",void 0),Bd([(0,t.Property)("white")],i.prototype,"backgroundColor",void 0),Bd([(0,t.Property)("Left")],i.prototype,"alignment",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isReadOnly",void 0),Bd([(0,t.Property)("visible")],i.prototype,"visibility",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isRequired",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"tooltip",void 0),Bd([(0,t.Property)("")],i.prototype,"options",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)("#303030")],i.prototype,"borderColor",void 0),Bd([(0,t.Property)(null)],i.prototype,"customData",void 0),i}(t.ChildProperty),yh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)({x:0,y:0,width:0,height:0})],i.prototype,"bounds",void 0),Bd([(0,t.Property)("")],i.prototype,"name",void 0),Bd([(0,t.Property)("")],i.prototype,"value",void 0),Bd([(0,t.Property)("Helvetica")],i.prototype,"fontFamily",void 0),Bd([(0,t.Property)(10)],i.prototype,"fontSize",void 0),Bd([(0,t.Property)(0)],i.prototype,"pageNumber",void 0),Bd([(0,t.Property)("None")],i.prototype,"fontStyle",void 0),Bd([(0,t.Property)("black")],i.prototype,"color",void 0),Bd([(0,t.Property)("white")],i.prototype,"backgroundColor",void 0),Bd([(0,t.Property)("Left")],i.prototype,"alignment",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isReadOnly",void 0),Bd([(0,t.Property)("visible")],i.prototype,"visibility",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isRequired",void 0),Bd([(0,t.Property)(!1)],i.prototype,"isPrint",void 0),Bd([(0,t.Property)("")],i.prototype,"tooltip",void 0),Bd([(0,t.Property)([])],i.prototype,"options",void 0),Bd([(0,t.Property)(1)],i.prototype,"thickness",void 0),Bd([(0,t.Property)("#303030")],i.prototype,"borderColor",void 0),i}(t.ChildProperty),Sh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)("")],i.prototype,"itemName",void 0),Bd([(0,t.Property)("")],i.prototype,"itemValue",void 0),i}(t.ChildProperty),Ch=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)()],i.prototype,"pdfKeys",void 0),Bd([(0,t.Property)()],i.prototype,"modifierKeys",void 0),i}(t.ChildProperty),Bh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)("")],i.prototype,"name",void 0),Bd([(0,t.Complex)({},Ch)],i.prototype,"gesture",void 0),i}(t.ChildProperty),Ih=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Collection)([],Bh)],i.prototype,"keyboardCommand",void 0),i}(t.ChildProperty),bh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(!0)],i.prototype,"canDelete",void 0),Bd([(0,t.Property)(!0)],i.prototype,"canInsert",void 0),Bd([(0,t.Property)(!0)],i.prototype,"canRotate",void 0),Bd([(0,t.Property)(!0)],i.prototype,"canCopy",void 0),Bd([(0,t.Property)(!0)],i.prototype,"canRearrange",void 0),Bd([(0,t.Property)(!0)],i.prototype,"canImport",void 0),i}(t.ChildProperty),vh=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Cd(i,e),Bd([(0,t.Property)(0)],i.prototype,"pageIndex",void 0),Bd([(0,t.Property)([])],i.prototype,"bounds",void 0),i}(t.ChildProperty),Eh=function(e){function n(t,i){var n=e.call(this,t,i)||this;return n.isFormFieldsLoaded=!1,n.signatureCollection=[],n.fileName=null,n.zIndex=-1,n.nameTable={},n.clipboardData={},n.zIndexTable=[],n.isTextSelectionStarted=!1,n.touchPadding=10,n.paddingDifferenceValue=10,n.defaultLocale={PdfViewer:"PDF Viewer",Cancel:"Cancel","Download file":"Download file",Download:"Download","Enter Password":"This document is password protected. Please enter a password.","File Corrupted":"File Corrupted","File Corrupted Content":"The file is corrupted and cannot be opened.","Fit Page":"Fit Page","Fit Width":"Fit Width",Automatic:"Automatic","Go To First Page":"Show first page","Invalid Password":"Incorrect Password. Please try again.","Next Page":"Show next page",OK:"OK",Open:"Open file","Page Number":"Current page number","Previous Page":"Show previous page","Go To Last Page":"Show last page",Zoom:"Zoom","Zoom In":"Zoom in","Zoom Out":"Zoom out","Page Thumbnails":"Page Thumbnails",Bookmarks:"Bookmarks",Print:"Print file","Organize Pages":"Organize Pages","Insert Right":"Insert Right","Insert Left":"Insert Left",Total:"Total",Pages:"Pages","Rotate Right":"Rotate Right","Rotate Left":"Rotate Left","Delete Page":"Delete Page","Delete Pages":"Delete Pages","Copy Page":"Copy Page","Copy Pages":"Copy Pages",Save:"Save","Save As":"Save As","Select All":"Select All","Import Document":"Import Document","Password Protected":"Password Required",Copy:"Copy","Text Selection":"Text selection tool",Panning:"Pan mode","Text Search":"Find text","Find in document":"Find in document","Match case":"Match case","Match any word":"Match any word",Apply:"Apply",GoToPage:"Go to Page","No Matches":"PDF Viewer has finished searching the document. No matches were found.","No More Matches":"PDF Viewer has finished searching the document. No more matches were found.","No Search Matches":"No matches found","No More Search Matches":"No more matches found","Exact Matches":"EXACT MATCHES","Total Matches":"TOTAL MATCHES",Undo:"Undo",Redo:"Redo",Annotation:"Add or Edit annotations",FormDesigner:"Add and Edit Form Fields",Highlight:"Highlight Text",Underline:"Underline Text",Strikethrough:"Strikethrough Text",Delete:"Delete annotation",Opacity:"Opacity","Color edit":"Change Color","Opacity edit":"Change Opacity","Highlight context":"Highlight","Underline context":"Underline","Strikethrough context":"Strikethrough","Server error":"Web-service is not listening. PDF Viewer depends on web-service for all it's features. Please start the web service to continue.","Client error":"Client-side error is found. Please check the custom headers provided in the AjaxRequestSettings property and web action methods in the ServerActionSettings property.","Open text":"Open","First text":"First Page","Previous text":"Previous Page","Next text":"Next Page","Last text":"Last Page","Zoom in text":"Zoom In","Zoom out text":"Zoom Out","Selection text":"Selection","Pan text":"Pan","Print text":"Print","Search text":"Search","Annotation Edit text":"Edit Annotation","FormDesigner Edit text":"Add and Edit Form Fields","Line Thickness":"Line Thickness","Line Properties":"Line Properties","Start Arrow":"Start Arrow","End Arrow":"End Arrow","Line Style":"Line Style","Fill Color":"Fill Color","Line Color":"Line Color",None:"None","Open Arrow":"Open","Closed Arrow":"Closed","Round Arrow":"Round","Square Arrow":"Square","Diamond Arrow":"Diamond",Butt:"Butt",Cut:"Cut",Paste:"Paste","Delete Context":"Delete",Properties:"Properties","Add Stamp":"Add Stamp","Add Shapes":"Add Shapes","Stroke edit":"Change Stroke Color","Change thickness":"Change Border Thickness","Add line":"Add Line","Add arrow":"Add Arrow","Add rectangle":"Add Rectangle","Add circle":"Add Circle","Add polygon":"Add Polygon","Add Comments":"Add Comments",Comments:"Comments",SubmitForm:"Submit Form","No Comments Yet":"No Comments Yet",Accepted:"Accepted",Completed:"Completed",Cancelled:"Cancelled",Rejected:"Rejected","Leader Length":"Leader Length","Scale Ratio":"Scale Ratio",Calibrate:"Calibrate","Calibrate Distance":"Calibrate Distance","Calibrate Perimeter":"Calibrate Perimeter","Calibrate Area":"Calibrate Area","Calibrate Radius":"Calibrate Radius","Calibrate Volume":"Calibrate Volume",Depth:"Depth",Closed:"Closed",Round:"Round",Square:"Square",Diamond:"Diamond",Edit:"Edit",Comment:"Comment","Comment Panel":"Comment Panel","Set Status":"Set Status",Post:"Post",Page:"Page","Add a comment":"Add a comment","Add a reply":"Add a reply","Import Annotations":"Import annotations from JSON file","Export Annotations":"Export annotation to JSON file","Export XFDF":"Export annotation to XFDF file","Import XFDF":"Import annotations from XFDF file",Add:"Add",Clear:"Clear",Bold:"Bold",Italic:"Italic",Strikethroughs:"Strikethrough",Underlines:"Underline",Superscript:"Superscript",Subscript:"Subscript","Align left":"Align Left","Align right":"Align Right",Center:"Center",Justify:"Justify","Font color":"Font Color","Text Align":"Text Align","Text Properties":"Font Style",SignatureFieldDialogHeaderText:"Add Signature",HandwrittenSignatureDialogHeaderText:"Add Signature",InitialFieldDialogHeaderText:"Add Initial",HandwrittenInitialDialogHeaderText:"Add Initial","Draw Ink":"Draw Ink",Create:"Create","Font family":"Font Family","Font size":"Font Size","Free Text":"Free Text","Import Failed":"Invalid JSON file type or file name; please select a valid JSON file","Import PDF Failed":"Invalid PDF file type or PDF file not found. Please select a valid PDF file","File not found":"Imported JSON file is not found in the desired location","Export Failed":"Export annotations action has failed; please ensure annotations are added properly",of:"of ",Dynamic:"Dynamic","Standard Business":"Standard Business","Sign Here":"Sign Here","Custom Stamp":"Custom Stamp","Enter Signature as Name":"Enter your name","Draw-hand Signature":"DRAW","Type Signature":"TYPE","Upload Signature":"UPLOAD","Browse Signature Image":"BROWSE","Save Signature":"Save Signature","Save Initial":"Save Initial",Textbox:"Textbox",Password:"Password","Check Box":"Checkbox","Radio Button":"Radio Button",Dropdown:"Drop Down","List Box":"List Box",Signature:"Signature","Delete FormField":"Delete Form Field","Textbox Properties":"Textbox Properties",Name:"Name",Tooltip:"Tooltip",Value:"Value","Form Field Visibility":"Form Field Visibility","Read Only":"Read Only",Required:"Required",Checked:"Checked","Show Printing":"Show Printing",Formatting:"Format",Fill:"Fill",Border:"Border","Border Color":"Border Color",Thickness:"Thickness","Max Length":"Max Length","List Item":"Item Name","Export Value":"Item Value","Dropdown Item List":"Dropdown Item List","List Box Item List":"List Box Item List",General:"GENERAL",Appearance:"APPEARANCE",Options:"OPTIONS","Delete Item":"Delete",Up:"Up",Down:"Down",Multiline:"Multiline",Revised:"Revised",Reviewed:"Reviewed",Received:"Received",Confidential:"Confidential",Approved:"Approved","Not Approved":"Not Approved",Witness:"Witness","Initial Here":"Initial Here",Draft:"Draft",Final:"Final","For Public Release":"For Public Release","Not For Public Release":"Not For Public Release","For Comment":"For Comment",Void:"Void","Preliminary Results":"Preliminary Results","Information Only":"Information Only",in:"in",m:"m",ft_in:"ft_in",ft:"ft",p:"p",cm:"cm",mm:"mm",pt:"pt",cu:"cu",sq:"sq",Initial:"Initial"},n.viewerBase=new sd(n),n.drawing=new X(n),n.pdfRendererModule=new Oh(n,n.viewerBase),n}return Cd(n,e),Object.defineProperty(n.prototype,"zoomPercentage",{get:function(){return 100*this.magnificationModule.zoomFactor},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bookmark",{get:function(){return this.bookmarkViewModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"print",{get:function(){return this.printModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"magnification",{get:function(){return this.magnificationModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"navigation",{get:function(){return this.navigationModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textSearch",{get:function(){return this.textSearchModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"toolbar",{get:function(){return this.toolbarModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thumbnailView",{get:function(){return this.thumbnailViewModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"annotation",{get:function(){return this.annotationModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formDesigner",{get:function(){return this.formDesignerModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textSelection",{get:function(){return this.textSelectionModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"accessibilityTags",{get:function(){return this.accessibilityTagsModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pdfRenderer",{get:function(){return this.pdfRendererModule},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageOrganizer",{get:function(){return this.pageOrganizerModule},enumerable:!0,configurable:!0}),n.prototype.preRender=function(){this.localeObj=new t.L10n(this.getModuleName(),this.defaultLocale,this.locale),(0,t.isNullOrUndefined)(this.element)||""!==this.element.id||(this.element.id=this.getUniqueElementId()),t.Browser.isDevice&&(this.touchPadding=16),this.updateLocalStorage(this.enableLocalStorage)},n.prototype.getUniqueElementId=function(){return"pdfViewer_"+Date.now().toString(36)+Math.random().toString(36).substring(2)},n.prototype.initializePdfiumModule=function(e){this.viewerBase.pdfViewerRunner.postMessage({url:this.getScriptPathForPlatform(),fonts:e,message:"initialLoading"})},n.prototype.render=function(){var e=this;if(this.enableHtmlSanitizer&&this.serviceUrl&&(this.serviceUrl=t.SanitizeHtmlHelper.sanitize(this.serviceUrl)),((0,t.isNullOrUndefined)(this.serviceUrl)||""===this.serviceUrl)&&(this.viewerBase.clientSideRendering=!0),this.viewerBase.clientSideRendering){var i=this,n=new Blob([Nh.toString().replace(/^[^{]*{([\s\S]*)}$/m,"$1")],{type:"text/javascript"}),o=URL.createObjectURL(n);window["pdfViewerRunner_"+this.element.id]=this.viewerBase.pdfViewerRunner=new Worker(o),this.customFonts&&this.customFonts.length>0?nd.fetchCustomFonts(this.customFonts,this.getScriptPathForPlatform()).then((function(t){e.pdfRenderer.FallbackFontCollection=t,e.initializePdfiumModule(t)})):this.initializePdfiumModule({}),this.viewerBase.pdfViewerRunner.onmessage=function(e){"loaded"===e.data.message&&i.renderComponent()}}else this.renderComponent()},n.prototype.exportAsImage=function(e,i){return(0,t.isNullOrUndefined)(i)?this.pdfRendererModule.exportAsImage(e):this.pdfRendererModule.exportAsImagewithSize(e,i)},n.prototype.exportAsImages=function(e,i,n){return(0,t.isNullOrUndefined)(n)?this.pdfRendererModule.exportAsImages(e,i):this.pdfRendererModule.exportAsImagesWithSize(e,i,n)},n.prototype.getScriptPathForPlatform=function(){if(this.enableHtmlSanitizer&&this.resourceUrl&&(this.resourceUrl=t.SanitizeHtmlHelper.sanitize(this.resourceUrl)),!(0,t.isNullOrUndefined)(this.resourceUrl)&&""!==this.resourceUrl)return-1!==this.resourceUrl.indexOf("/ej2-pdfviewer-lib")?this.resourceUrl:this.resourceUrl+"/ej2-pdfviewer-lib";var e=document.location,i=e.protocol+"//"+e.host+e.pathname.replace(/\/+$/,"");if(this.isAngular||this.parent&&this.parent.isAngular)return i+"/assets/ej2-pdfviewer-lib";if(this.isReact||this.parent&&this.parent.isReact)return i+"/ej2-pdfviewer-lib";if(this.isVue||this.parent&&this.parent.isVue||this.isVue3||this.parent&&this.parent.isVue3)return i+"/public/js/ej2-pdfviewer-lib";window.getRunningScript=function(){return function(){var e=(new Error).stack,t=e&&e.match(/(?:http[s]?:\/\/(?:[^\/\s]+\/))(.*\.js)/);return t?t[0]:"src/pdfviewer/pdfviewer.js"}};var n=window.getRunningScript()(),o=n.split("/");return n.replace("/"+o[o.length-1],"")+"/ej2-pdfviewer-lib"},n.prototype.renderComponent=function(){this.viewerBase.initializeComponent(),this.enableFormFields||(this.formFieldsModule=new Fh(this,this.viewerBase),this.formFieldsModule.formFieldsReadOnly(this.enableFormFields)),this.enableTextSelection&&this.textSelectionModule?this.textSelectionModule.enableTextSelectionMode():this.viewerBase.disableTextSelectionMode(),this.drawing.renderLabels(this),this.renderComplete()},n.prototype.getModuleName=function(){return"PdfViewer"},n.prototype.getLocaleConstants=function(){return this.defaultLocale},n.prototype.setJsonData=function(e){this.viewerBase.ajaxData=e},n.prototype.updateLocalStorage=function(e){e&&!sd.sessionStorageManager.enableLocalStorage?sd.sessionStorageManager.migrateToLocalStorage(!0):this.enableLocalStorage=sd.sessionStorageManager.enableLocalStorage},n.prototype.onPropertyChanged=function(i,n){if(!this.isDestroyed)for(var o=0,r=Object.keys(i);o<r.length;o++){var a=r[o];switch(a){case"locale":if(this.viewerBase.loadedData){var s=null;if(this.formFieldsModule&&(s=this.viewerBase.getItemFromSessionStorage("_formfields")),s){this.viewerBase.formfieldvalue=JSON.parse(s);var l=this.annotationCollection,d=this.viewerBase.jsonDocumentId;e.prototype.refresh.call(this),this.load(this.viewerBase.loadedData,null),this.addAnnotation(l),this.viewerBase.loadedData=null,this.downloadFileName=d,this.fileName=d}}break;case"toolbarSettings":!t.Browser.isDevice||this.enableDesktopMode?(this.toolbar.applyToolbarSettings(),(0,t.isNullOrUndefined)(this.toolbar.annotationToolbarModule)||this.toolbar.annotationToolbarModule.applyAnnotationToolbarSettings(),(0,t.isNullOrUndefined)(this.toolbar.formDesignerToolbarModule)||this.toolbar.formDesignerToolbarModule.applyFormDesignerToolbarSettings()):(this.toolbar.applyToolbarSettingsForMobile(),this.toolbar.annotationToolbarModule.applyMobileAnnotationToolbarSettings());break;case"enableToolbar":this.notify("",{module:"toolbar",enable:this.enableToolbar});break;case"enableLocalStorage":this.updateLocalStorage(this.enableLocalStorage);break;case"enableCommentPanel":this.notify("",{module:"annotation",enable:this.enableCommentPanel}),this.toolbarModule&&this.toolbarModule.annotationToolbarModule&&this.toolbarModule.annotationToolbarModule.enableCommentPanelTool(this.enableCommentPanel),this.enableCommentPanel||this.viewerBase.navigationPane&&this.viewerBase.navigationPane.closeCommentPanelContainer();break;case"documentPath":this.viewerBase.isSkipDocumentPath?this.viewerBase.isSkipDocumentPath=!1:(0,t.isBlazor)()?this._dotnetInstance.invokeMethodAsync("LoadDocumentFromClient",i.documentPath):this.load(i.documentPath,null);break;case"interactionMode":this.interactionMode=i.interactionMode,"Pan"===i.interactionMode?(this.viewerBase.initiatePanning(),this.toolbar&&this.toolbar.updateInteractionTools(!1)):"TextSelection"===i.interactionMode&&(this.viewerBase.initiateTextSelectMode(),this.toolbar&&this.toolbar.updateInteractionTools(!0));break;case"height":this.height=i.height,this.viewerBase.updateHeight(),this.viewerBase.onWindowResize(),this.toolbar&&this.toolbar.annotationToolbarModule&&(this.toolbar.annotationToolbarModule.isToolbarHidden?this.toolbar.annotationToolbarModule.adjustViewer(!1):this.toolbar.annotationToolbarModule.adjustViewer(!0));break;case"width":this.width=i.width,this.viewerBase.updateWidth(),this.viewerBase.onWindowResize();break;case"customStamp":this.renderCustomerStamp(this.customStamp[0]);break;case"customStampSettings":if(i.customStampSettings.customStamps)for(var h=0;h<i.customStampSettings.customStamps.length;h++)this.viewerBase.customStampCollection.push({customStampName:this.customStampSettings.customStamps[parseInt(h.toString(),10)].customStampName,customStampImageSource:this.customStampSettings.customStamps[parseInt(h.toString(),10)].customStampImageSource});break;case"enableFormFields":if(this.enableFormFields&&this.formFieldsModule)for(var A=0;A<this.pageCount;A++)this.formFieldsModule.renderFormFields(A,!1);else this.formFieldsModule=new Fh(this,this.viewerBase),this.formFieldsModule.formFieldsReadOnly(this.enableFormFields);break;case"designerMode":this.designerMode?this.formDesignerModule.setMode("designer"):this.formDesignerModule.setMode("edit");break;case"highlightSettings":case"underlineSettings":case"strikethroughSettings":this.annotationModule&&this.annotationModule.textMarkupAnnotationModule&&this.annotationModule.textMarkupAnnotationModule.updateTextMarkupSettings(a);break;case"signatureFieldSettings":case"initialFieldSettings":if(this.formDesignerModule){var p="initialFieldSettings"===a;this.formDesignerModule.updateSignatureSettings(i[a],p)}break;case"textFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateTextFieldSettings(i[a]);break;case"passwordFieldSettings":this.formDesignerModule&&this.formDesignerModule.updatePasswordFieldSettings(i[a]);break;case"checkBoxFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateCheckBoxFieldSettings(i[a]);break;case"radioButtonFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateRadioButtonFieldSettings(i[a]);break;case"DropdownFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateDropDownFieldSettings(i[a]);break;case"listBoxFieldSettings":this.formDesignerModule&&this.formDesignerModule.updateListBoxFieldSettings(i[a]);break;case"isFormDesignerToolbarVisible":t.Browser.isDevice&&!this.enableDesktopMode||(this.toolbarModule&&this.formDesignerModule&&!n.isFormDesignerToolbarVisible&&i.isFormDesignerToolbarVisible?(this.toolbarModule.annotationToolbarModule&&this.isAnnotationToolbarVisible&&(this.isAnnotationToolbarVisible=!1,this.toolbarModule.annotationToolbarModule.showAnnotationToolbar()),this.toolbarModule.formDesignerToolbarModule.resetFormDesignerToolbar()):(0,t.isNullOrUndefined)(this.toolbarModule)||(0,t.isNullOrUndefined)(this.formDesignerModule)||!this.toolbarModule.formDesignerToolbarModule||this.isFormDesignerToolbarVisible||(this.isFormDesignerToolbarVisible=!1,this.formDesignerModule.setMode("edit"),this.toolbarModule.formDesignerToolbarModule.resetFormDesignerToolbar()));break;case"isAnnotationToolbarVisible":!t.Browser.isDevice||this.enableDesktopMode?this.toolbarModule&&this.annotationModule&&!n.isAnnotationToolbarVisible&&i.isAnnotationToolbarVisible&&(this.toolbarModule.formDesignerToolbarModule&&this.isFormDesignerToolbarVisible&&(this.isFormDesignerToolbarVisible=!1,this.toolbarModule.formDesignerToolbarModule.showFormDesignerToolbar()),this.toolbarModule.annotationToolbarModule.resetToolbar()):this.toolbarModule&&this.toolbar.showAnnotationToolbar(i.isAnnotationToolbarVisible);break;case"serviceUrl":(0,t.isNullOrUndefined)(i.serviceUrl)||""===i.serviceUrl?this.viewerBase.clientSideRendering=!0:this.viewerBase.clientSideRendering=!1;break;case"pageOrganizerSettings":(0,t.isNullOrUndefined)(i.pageOrganizerSettings)||((0,t.isNullOrUndefined)(i.pageOrganizerSettings.canDelete)&&(this.pageOrganizerSettings.canDelete=!0),(0,t.isNullOrUndefined)(i.pageOrganizerSettings.canRotate)&&(this.pageOrganizerSettings.canRotate=!0),(0,t.isNullOrUndefined)(i.pageOrganizerSettings.canInsert)&&(this.pageOrganizerSettings.canInsert=!0),(0,t.isNullOrUndefined)(i.pageOrganizerSettings.canCopy)&&(this.pageOrganizerSettings.canCopy=!0),(0,t.isNullOrUndefined)(i.pageOrganizerSettings.canRearrange)&&(this.pageOrganizerSettings.canRearrange=!0),(0,t.isNullOrUndefined)(i.pageOrganizerSettings.canImport)&&(this.pageOrganizerSettings.canImport=!0))}}},n.prototype.renderCustomerStamp=function(e){this.annotation.stampAnnotationModule.isStampAddMode=!0,this.annotationModule.stampAnnotationModule.isStampAnnotSelected=!0,this.viewerBase.stampAdded=!0,this.viewerBase.isAlreadyAdded=!1,this.annotation.stampAnnotationModule.createCustomStampAnnotation(e.customStampImageSource,e.customStampName)},n.prototype.getPersistData=function(){return"PdfViewer"},n.prototype.requiredModules=function(){var e=[];return this.enableMagnification&&e.push({member:"Magnification",args:[this,this.viewerBase]}),this.enableNavigation&&e.push({member:"Navigation",args:[this,this.viewerBase]}),(this.enableToolbar||this.enableNavigationToolbar||this.enableAnnotationToolbar||this.enableFormDesignerToolbar)&&e.push({member:"Toolbar",args:[this,this.viewerBase]}),this.enableHyperlink&&e.push({member:"LinkAnnotation",args:[this,this.viewerBase]}),this.enableThumbnail&&e.push({member:"ThumbnailView",args:[this,this.viewerBase]}),this.enableBookmark&&e.push({member:"BookmarkView",args:[this,this.viewerBase]}),this.enableTextSelection&&e.push({member:"TextSelection",args:[this,this.viewerBase]}),this.enableTextSearch&&e.push({member:"TextSearch",args:[this,this.viewerBase]}),this.enablePrint&&e.push({member:"Print",args:[this,this.viewerBase]}),this.enableAnnotation&&e.push({member:"Annotation",args:[this,this.viewerBase]}),this.enableFormFields&&e.push({member:"FormFields",args:[this,this.viewerBase]}),this.enableFormDesigner&&!(0,t.isBlazor)()&&e.push({member:"FormDesigner",args:[this,this.viewerBase]}),this.enableAccessibilityTags&&e.push({member:"AccessibilityTags",args:[this,this.viewerBase]}),((0,t.isNullOrUndefined)(this.serviceUrl)||""===this.serviceUrl)&&e.push({member:"PdfRenderer",args:[this,this.viewerBase]}),this.enablePageOrganizer&&e.push({member:"PageOrganizer",args:[this,this.viewerBase]}),e},n.prototype.load=function(e,t){this.loadDocInternally(e,t)},n.prototype.loadDocInternally=function(e,i,n){if(void 0===n&&(n=!0),0!==this.pageCount?this.viewerBase.clear(!0):this.viewerBase.clear(!1),this.pageCount=0,this.currentPageNumber=0,(0,t.isBlazor)()?this.viewerBase.blazorUIAdaptor.resetToolbar():this.toolbarModule&&this.toolbarModule.resetToolbar(),this.isFormFieldsLoaded=!0,this.viewerBase.documentPathByteArray instanceof Uint8Array&&!this.viewerBase.clientSideRendering){var o=this.convertByteArrayToBase64(this.viewerBase.documentPathByteArray);this.viewerBase.initiatePageRender(o,i)}else this.viewerBase.initiatePageRender(e,i,n)},n.prototype.convertByteArrayToBase64=function(e){for(var t="",i=e.byteLength,n=0;n<i;n++)t+=String.fromCharCode(e[parseInt(n.toString(),10)]);return btoa(t)},n.prototype.loadDocument=function(e,i,n){0!==this.pageCount?this.viewerBase.clear(!0):this.viewerBase.clear(!1),this.viewerBase.clear(!(0,t.isNullOrUndefined)(this.customContextMenuItems)),this.pageCount=0,this.currentPageNumber=0,this.viewerBase.blazorUIAdaptor.resetToolbar(),this.fileName=n,this.viewerBase.initiateLoadDocument(e,i,n)},n.prototype.loadSuccess=function(e,t){this.viewerBase.loadSuccess(e,t)},n.prototype.focusElement=function(e){var t=document.getElementById(e);null!=t&&t.focus()},n.prototype.download=function(){this.enableDownload&&this.viewerBase.download()},n.prototype.saveAsBlob=function(){var e=this;return this.enableDownload?new Promise((function(t,i){t(e.viewerBase.saveAsBlob())})):null},n.prototype.updateViewerContainer=function(){this.viewerBase.updateViewerContainer()},n.prototype.getPageInfo=function(e){var i={};if(!(0,t.isNullOrUndefined)(e)&&"number"==typeof e&&!(0,t.isNullOrUndefined)(this.viewerBase.pageSize)&&0!==this.viewerBase.pageSize.length&&e>=0&&e<this.viewerBase.pageSize.length){var n=parseInt(e.toString(),10),o=this.viewerBase.pageSize[n];i.pageIndex=n,i.height=this.viewerBase.ConvertPixelToPoint(o.height),i.width=this.viewerBase.ConvertPixelToPoint(o.width),i.rotation=this.viewerBase.getAngle(o.rotation)}return i},n.prototype.showNotificationPopup=function(e){this.viewerBase.showNotificationPopup(e)},n.prototype.focusFormField=function(e){var t=this;if("string"==typeof e)for(var i=this.retrieveFormFields(),n=0;n<i.length;n++)i[parseInt(n.toString(),10)].name===e&&(e=i[parseInt(n.toString(),10)]);if(e){if(this.viewerBase.isFocusField=!0,this.viewerBase.focusField=e,this.formDesignerModule)this.navigationModule.goToPage(e.pageIndex+1);else{var o=parseFloat(e.id.split("_")[1]);this.navigationModule.goToPage(o+1)}setTimeout((function(){var i=document.getElementById(e.id);t.formDesignerModule&&"Checkbox"===e.type&&(i=document.getElementById(e.id+"_input")),i&&(!t.formDesignerModule||"SignatureField"!==e.type&&"InitialField"!==e.type?(i.focus(),t.viewerBase.isFocusField=!1,t.viewerBase.focusField=[]):i.parentElement.focus())}),100)}},n.prototype.updateFormFieldsValue=function(e){var n=document.getElementById(e.id),o=!1;if(n){if((n=n||document.getElementById(e.id+"_content_html_element").children[0].children[0])&&"Textbox"===e.type||"Password"===e.type||"PasswordField"===e.type)n.value=e.value,n.multiline=e.isMultiline;else if("Checkbox"===e.type||"RadioButton"===e.type||"CheckBox"===e.type){if("CheckBox"===e.type&&(n.style.appearance="auto"),this.formDesignerModule)if("RadioButton"===e.type){var r={isSelected:e.isSelected};this.formDesignerModule.updateFormField(e,r)}else{var a={isChecked:e.isChecked};this.formDesignerModule.updateFormField(e,a)}else"RadioButton"===e.type?n.selected=e.isSelected:n.checked=e.isChecked;n.value!=e.value&&(n.value=e.value)}else if("DropDown"===e.type||"ListBox"===e.type||"DropdownList"===e.type)if(this.formDesignerModule){o=!0;var s={options:e.value};this.formDesignerModule.updateFormField(e,s)}else n.value=e.value,n.selectedIndex=e.selectedIndex;if("SignatureField"===e.type||"InitialField"===e.type){(e.signatureType||e.initialType)&&"string"!=typeof e.signatureType&&(e.signatureType=e.initialType),e.fontName=e.fontName?e.fontName:e.fontFamily;var l=e.value,d=this.getFormFieldByID(e.id),h=this.formDesignerModule?d.value===e.value:d.Value===e.value;n.classList.contains("e-pdfviewer-signatureformfields-signature")&&!h&&(this.formDesignerModule?this.annotation.deleteAnnotationById(e.id.split("_")[0]+"_content"):this.annotation.deleteAnnotationById(e.id)),e.signatureType&&e.value||(e.value=l,this.viewerBase.isSignaturePathData(e.value)?(e.signatureType="Path",n.signatureType="Path"):this.viewerBase.isSignatureImageData(e.value)?(e.signatureType="Image",n.signatureType="Image"):(e.signatureType="Type",n.signatureType="Type")),e.tooltip&&(n.tooltip=e.tooltip),n.Required=!!e.isRequired&&e.isRequired,h||this.formFieldsModule.drawSignature(e.signatureType,e.value,n,e.fontName,e.signatureBounds)}else o||this.formFieldsModule.updateDataInSession(n)}else{var A=this.viewerBase.getItemFromSessionStorage("_formDesigner");if(!(0,t.isNullOrUndefined)(A)){var p,c=JSON.parse(A),g=this.viewerBase.formFieldCollection.filter((function(t){return t.FormField.id.split("_")[0]===e.id}));if("Path"===e.signatureType){var u=(0,i.processPathData)(e.value);p=(0,i.splitArrayCollection)(u)}g.forEach((function(t){t.FormField.signatureType=e.signatureType,"Path"===e.signatureType?t.FormField.value=JSON.stringify(p):t.FormField.value=e.value}));for(var f=0;f<c.length;f++){if(c[parseInt(f.toString(),10)].FormField.id.split("_")[0]===e.id){"Path"===e.signatureType?c[parseInt(f.toString(),10)].FormField.value=JSON.stringify(p):c[parseInt(f.toString(),10)].FormField.value=e.value,c[parseInt(f.toString(),10)].FormField.signatureType=e.signatureType,this.viewerBase.setItemInSessionStorage(c,"_formDesigner");break}}}var m=this.viewerBase.getItemFromSessionStorage("_formfields");if(!(0,t.isNullOrUndefined)(m)){c=JSON.parse(m);var w=function(i){var n,o=c[parseInt(i.toString(),10)];n="Checkbox"===e.type||"RadioButton"===e.type||"CheckBox"===e.type?o.FieldName:"DropDown"===e.type||"ListBox"===e.type||"DropdownList"===e.type?o.Text:o.FieldName;var r=c.filter((function(e){return e.FieldName===o.FieldName.split("_")[0]}));if((0,t.isNullOrUndefined)(r)||(0,t.isNullOrUndefined)(r[0])||"SignatureField"!==r[0].Name&&"InitialField"!==r[0].Name||(n=o.FieldName.split("_")[0],o.LineBounds=c.filter((function(e){return e.FieldName===n}))[0].LineBounds),n===e.name){if("Textbox"===e.type||"Password"===e.type||"PasswordField"===e.type)e.value&&(o.Text=e.value,o.Value=e.value);else if("Checkbox"===e.type||"RadioButton"===e.type||"CheckBox"===e.type)e.isSelected||e.isChecked?o.Selected=!0:o.Selected=!1,o.Value=e.value;else if("DropDown"===e.type||"ListBox"===e.type||"DropdownList"===e.type){o.SelectedValue=e.value;var a=o.TextList?o.TextList.indexOf(e.value):0;o.selectedIndex=a>-1?a:0,"ListBox"===e.type?o.SelectedListed=[o.selectedIndex]:o.SelectedListed=[]}else"SignatureField"!==e.type&&"InitialField"!==e.type||e.value&&(o.Value=e.value,o=y.updateSignatureValue(o,e,e.signatureBounds));y.formFieldsModule.updateFormFieldsCollection(o)}},y=this;for(f=0;f<c.length;f++)w(f);sd.sessionStorageManager.removeItem(this.viewerBase.documentId+"_formfields"),this.viewerBase.setItemInSessionStorage(c,"_formfields")}}},n.prototype.getFormFieldByID=function(e){if(this.formDesignerModule)return this.nameTable[e.split("_")[0]];var t=sd.sessionStorageManager.getItem(this.viewerBase.documentId+"_formfields"),i=JSON.parse(t);return i[i.findIndex((function(t){return t.uniqueID===e}))]},n.prototype.ConvertPointToPixel=function(e){return e*(96/72)},n.prototype.updateSignatureValue=function(e,i,n){i.signatureType||(i.signatureType=this.viewerBase.isSignatureImageData(i.value)?"Image":this.viewerBase.isSignaturePathData(i.value)?"Path":"Type");var o,r=e.LineBounds,a=this.ConvertPointToPixel(r.X),s=this.ConvertPointToPixel(r.Y),l=this.ConvertPointToPixel(r.Width),d=this.ConvertPointToPixel(r.Height);if("Type"===i.signatureType){e.FontFamily||(e.FontFamily="Helvetica"),o=this.formFieldsModule.getSignBounds(e.pageIndex,e.RotationAngle,e.pageIndex,this.viewerBase.getZoomFactor(),a,s,l,d),"Default"===this.signatureFitMode&&(o=this.formFieldsModule.getDefaultBoundsforSign(o)),e.Bounds=o;var h=o.height/1.35,A=this.formFieldsModule.getTextWidth(e.value,h,e.FontFamily),p=1;A>o.width&&(p=o.width/A),e.FontSize=this.formFieldsModule.getFontSize(Math.floor(h*p))}else if("Image"===i.signatureType){o=this.formFieldsModule.getSignBounds(e.pageIndex,e.RotationAngle,e.pageIndex,this.viewerBase.getZoomFactor(),a,s,l,d);var c=new Image;c.src=e.Value;var g=this;c.onload=function(){g.imageOnLoad(o,c,e)}}else{if(-1!==e.Value.indexOf("base64"))o=this.formFieldsModule.getSignBounds(e.pageIndex,e.RotationAngle,e.pageIndex,this.viewerBase.getZoomFactor(),a,s,l,d),"Default"===this.signatureFitMode&&(o=this.formFieldsModule.getDefaultBoundsforSign(o));else if((0,t.isNullOrUndefined)(n))if("Default"===this.signatureFitMode){var u=this.viewerBase.signatureModule.updateSignatureAspectRatio(e.Value,!1,null,e);(o=this.formFieldsModule.getSignBounds(e.pageIndex,e.RotationAngle,e.pageIndex,this.viewerBase.getZoomFactor(),a,s,u.width,u.height,!0)).x=o.x+u.left,o.y=o.y+u.top}else o=this.formFieldsModule.getSignBounds(e.pageIndex,e.RotationAngle,e.pageIndex,this.viewerBase.getZoomFactor(),a,s,l,d);else o=n;e.Bounds=o}return e},n.prototype.imageOnLoad=function(e,t,i){if("Default"===this.signatureFitMode){var n=Math.min(e.height/this.paddingDifferenceValue,e.width/this.paddingDifferenceValue),o=e.height-n,r=e.width-n,a=t.width,s=t.height,l=e.width,d=e.height,h=Math.min(r/a,o/s);e.width=a*h,e.height=s*h,e.x=e.x+(l-e.width)/2,e.y=e.y+(d-e.height)/2;var A=this.viewerBase.getItemFromSessionStorage("_formfields");if(A){for(var p=JSON.parse(A),c=0;c<p.length;c++)p[parseInt(c.toString(),10)].FieldName===i.FieldName&&(p[parseInt(c.toString(),10)].Bounds=e,this.formFieldsModule.updateFormFieldsCollection(p[parseInt(c.toString(),10)]));sd.sessionStorageManager.removeItem(this.viewerBase.documentId+"_formfields"),this.viewerBase.setItemInSessionStorage(p,"_formfields")}}},n.prototype.undo=function(){this.annotationModule?this.annotationModule.undo():this.viewerBase.getModuleWarningMessage("Annotation")},n.prototype.redo=function(){this.annotationModule?this.annotationModule.redo():this.viewerBase.getModuleWarningMessage("Annotation")},n.prototype.unload=function(){(0,t.isNullOrUndefined)(this.viewerBase.pdfViewerRunner)||this.viewerBase.isPasswordProtected||this.viewerBase.pdfViewerRunner.postMessage({message:"unloadFPDF"}),this.viewerBase.clear(!0),this.pageCount=0,(0,t.isBlazor)()?this.viewerBase.blazorUIAdaptor.resetToolbar():this.toolbarModule&&(this.viewerBase.pageCount=0,this.toolbarModule.resetToolbar()),this.fileByteArray&&(this.fileByteArray=null),this.magnificationModule&&this.magnificationModule.zoomTo(100),this.viewerBase.hyperlinkAndLinkAnnotation&&(this.viewerBase.hyperlinkAndLinkAnnotation={}),this.viewerBase.pageTextDetails&&(this.viewerBase.pageTextDetails={}),this.textSearchModule&&this.textSearchModule.showSearchBox(!1)},n.prototype.destroy=function(){e.prototype.destroy.call(this),(0,t.isNullOrUndefined)(this.element)||(this.refreshing||this.element.classList.remove("e-pdfviewer"),this.element.innerHTML=""),this.viewerBase.navigationPane&&(this.viewerBase.navigationPane.restrictUpdateZoomValue=!1),this.viewerBase.destroy(),this.viewerBase.navigationPane&&(this.viewerBase.navigationPane.restrictUpdateZoomValue=!0)},n.prototype.importAnnotation=function(e,i){if(this.annotationModule)if("string"==typeof e){var n=e.indexOf(".xfdf")>-1||i.indexOf("Xfdf")>-1;if(i)e.indexOf("</xfdf>")>-1?this.viewerBase.importAnnotations(e,i,!1):"Json"==i?e.includes("pdfAnnotation")?this.importAnnotationsAsJson(e):"json"===e.split(".")[1]?(this.viewerBase.isPDFViewerJson=!0,this.viewerBase.importAnnotations(e,i,n)):this.importAnnotationsAsJson(e):this.viewerBase.importAnnotations(e,i,n);else if("json"===e.split(".")[1])if(e.includes("pdfAnnotation"))this.importAnnotationsAsJson(e);else{var o=e.split(",")[1]?e.split(",")[1]:e.split(",")[0];e=decodeURIComponent(escape(atob(o))),this.importAnnotationsAsJson(e)}else this.viewerBase.importAnnotations(e,Qe.Xfdf,n)}else{var r=e.pdfAnnotation;if("object"==typeof e&&!(0,t.isNullOrUndefined)(r)&&!(0,t.isNullOrUndefined)(Object.keys(r))&&!(0,t.isNullOrUndefined)(Object.keys(r)[0])&&Object.keys(r[Object.keys(r)[0]]).length>1)this.viewerBase.importAnnotations(e);else if(e=JSON.stringify(e),this.viewerBase.isPDFViewerJson=!1,this.viewerBase.clientSideRendering){for(var a=(new TextEncoder).encode(e),s="",l=0;l<a.length;l+=65536)s+=String.fromCharCode.apply(String,Array.from(a.subarray(l,l+65536)));this.viewerBase.importAnnotations(btoa(s),Qe.Json)}else this.viewerBase.importAnnotations(btoa(e),Qe.Json)}else this.viewerBase.getModuleWarningMessage("Annotation")},n.prototype.importAnnotationsAsJson=function(e){var t=JSON.parse(e),i=t.pdfAnnotation[Object.keys(t.pdfAnnotation)[0]];Object.keys(t.pdfAnnotation).length>=1&&(i.textMarkupAnnotation||i.measureShapeAnnotation||i.freeTextAnnotation||i.stampAnnotations||i.signatureInkAnnotation||i.shapeAnnotation&&i.shapeAnnotation[0].Bounds)?(this.viewerBase.isPDFViewerJson=!0,this.viewerBase.importAnnotations(t,Qe.Json)):(this.viewerBase.isPDFViewerJson=!1,this.viewerBase.importAnnotations(btoa(e),Qe.Json))},n.prototype.exportAnnotation=function(e){this.annotationModule?e&&"Xfdf"===e?this.viewerBase.exportAnnotations(Qe.Xfdf):this.viewerBase.exportAnnotations(Qe.Json):this.viewerBase.getModuleWarningMessage("Annotation")},n.prototype.exportAnnotationsAsObject=function(e){var t=this;void 0===e&&(e=Qe.Json);var i=this.viewerBase.updateExportItem();return this.annotationModule&&i?new Promise((function(i,n){t.viewerBase.exportAnnotationsAsObject(e).then((function(e){i(e)}))})):new Promise((function(e){e(null)}))},n.prototype.exportAnnotationsAsBase64String=function(e){var t=this;return this.annotationModule?new Promise((function(i,n){t.viewerBase.createRequestForExportAnnotations(!1,e,!0).then((function(e){i(e)}))})):null},n.prototype.addAnnotation=function(e){this.viewerBase&&this.viewerBase.addAnnotation(e)},n.prototype.importFormFields=function(e,i){this.formFieldsModule?((0,t.isNullOrUndefined)(i)&&(i=Fe.Json),this.viewerBase.importFormFields(e,i)):this.viewerBase.getModuleWarningMessage("FormFields")},n.prototype.exportFormFields=function(e,t){this.formFieldsModule?this.viewerBase.exportFormFields(e,t):this.viewerBase.getModuleWarningMessage("FormFields")},n.prototype.exportFormFieldsAsObject=function(e){var t=this;return void 0===e&&(e=Fe.Json),this.formFieldsModule?new Promise((function(i,n){t.viewerBase.exportFormFieldsAsObject(e).then((function(e){i(e)}))})):null},n.prototype.resetFormFields=function(){this.formFieldsModule.resetFormFields()},n.prototype.clearFormFields=function(e){this.formFieldsModule.clearFormFields(e)},n.prototype.deleteAnnotations=function(){this.annotationModule?this.viewerBase.deleteAnnotations():this.viewerBase.getModuleWarningMessage("Annotation")},n.prototype.retrieveFormFields=function(){return this.formFieldCollections},n.prototype.updateFormFields=function(e){this.updateFormFieldsValue(e),this.formFieldsModule.updateFormFieldValues(e)},n.prototype.fireAjaxRequestInitiate=function(e){var t={name:"ajaxRequestInitiate",JsonData:e};this.trigger("ajaxRequestInitiate",t)},n.prototype.firePageRenderInitiate=function(e){var t={name:"pageRenderInitiate",jsonData:e};this.trigger("pageRenderInitiate",t)},n.prototype.fireButtonFieldClickEvent=function(e,t,i){var n={name:"buttonFieldClicked",buttonFieldValue:e,buttonFieldName:t,id:i};this.trigger("buttonFieldClick",n)},n.prototype.fireFormFieldClickEvent=function(e,i,n,o){return Id(this,void 0,void 0,(function(){var r,a,s,l;return bd(this,(function(d){switch(d.label){case 0:return r={name:e,field:i,cancel:n},(0,t.isBlazor)()?[4,this.triggerEvent("formFieldClick",r)]:[3,2];case 1:return(r=d.sent()||r).field.type=i.type,[3,3];case 2:this.triggerEvent("formFieldClick",r),d.label=3;case 3:return"SignatureField"!==i.type&&"InitialField"!==i.type||("InitialField"===i.type?this.viewerBase.isInitialField=!0:this.viewerBase.isInitialField=!1,"hidden"===(a=document.getElementById(i.id)).style.visibility&&(a.disabled=!0),a=a||(document.getElementById(i.id+"_content_html_element")?document.getElementById(i.id+"_content_html_element").children[0].children[0]:null),(s=this.formFieldCollections.filter((function(e){return e.id===i.id})))&&((l=s[0].isReadOnly)||r.cancel||!a||a.disabled||!a.classList.contains("e-pdfviewer-signatureformfields")||!o&&!(0,t.isNullOrUndefined)(o)?l&&(a.disabled=!0):this.viewerBase.signatureModule.showSignatureDialog(!0))),[2]}}))}))},n.prototype.fireFormFieldAddEvent=function(e,t,i){var n={name:e,field:t,pageIndex:i};this.viewerBase.isFormFieldSelect=!1,this.trigger("formFieldAdd",n)},n.prototype.fireFormFieldRemoveEvent=function(e,t,i){var n={name:e,field:t,pageIndex:i};this.trigger("formFieldRemove",n)},n.prototype.fireFormFieldDoubleClickEvent=function(e){return this.trigger("formFieldDoubleClick",e),e},n.prototype.fireFormFieldPropertiesChangeEvent=function(e,i,n,o,r,a,s,l,d,h,A,p,c,g,u,f,m,w,y,S,C,B){var I={name:e,field:i,pageIndex:n,isValueChanged:o,isFontFamilyChanged:r,isFontSizeChanged:a,isFontStyleChanged:s,isColorChanged:l,isBackgroundColorChanged:d,isBorderColorChanged:h,isBorderWidthChanged:A,isAlignmentChanged:p,isReadOnlyChanged:c,isVisibilityChanged:g,isMaxLengthChanged:u,isRequiredChanged:f,isPrintChanged:m,isToolTipChanged:w,oldValue:S,newValue:C,isNameChanged:!(0,t.isNullOrUndefined)(B)&&B,isCustomDataChanged:y};this.trigger("formFieldPropertiesChange",I)},n.prototype.fireFormFieldMouseLeaveEvent=function(e,t,i){var n={name:e,field:t,pageIndex:i};this.trigger("formFieldMouseLeave",n)},n.prototype.fireFormFieldMouseoverEvent=function(e,t,i,n,o,r,a){var s={name:e,field:t,pageIndex:i,pageX:n,pageY:o,X:r,Y:a};this.trigger("formFieldMouseover",s)},n.prototype.fireFormFieldMoveEvent=function(e,t,i,n,o){var r={name:e,field:t,pageIndex:i,previousPosition:n,currentPosition:o};this.trigger("formFieldMove",r)},n.prototype.fireFormFieldResizeEvent=function(e,t,i,n,o){var r={name:e,field:t,pageIndex:i,previousPosition:n,currentPosition:o};this.trigger("formFieldResize",r)},n.prototype.fireFormFieldSelectEvent=function(e,t,i,n){var o={name:e,field:t,pageIndex:i,isProgrammaticSelection:n};this.trigger("formFieldSelect",o)},n.prototype.fireFormFieldUnselectEvent=function(e,t,i){var n={name:e,field:t,pageIndex:i};this.trigger("formFieldUnselect",n)},n.prototype.fireDocumentLoad=function(e){var i={name:"documentLoad",documentName:this.fileName,pageData:e};this.trigger("documentLoad",i),(0,t.isBlazor)()&&(this._dotnetInstance.invokeMethodAsync("LoadDocument",null),this.viewerBase.blazorUIAdaptor.loadDocument())},n.prototype.fireDocumentUnload=function(e){var t={name:"documentUnload",documentName:e};this.trigger("documentUnload",t)},n.prototype.fireDocumentLoadFailed=function(e,t){var i={name:"documentLoadFailed",documentName:this.fileName,isPasswordRequired:e,password:t};this.trigger("documentLoadFailed",i)},n.prototype.fireAjaxRequestFailed=function(e,t,i,n){var o={name:"ajaxRequestFailed",documentName:this.fileName,errorStatusCode:e,errorMessage:t,action:i};n&&(o.retryCount=!0),this.trigger("ajaxRequestFailed",o)},n.prototype.fireAjaxRequestSuccess=function(e,t){var i={name:"ajaxRequestSuccess",documentName:this.fileName,action:e,data:t,cancel:!1};return this.trigger("ajaxRequestSuccess",i),!!i.cancel},n.prototype.firePageRenderComplete=function(e){var t={name:"pageRenderComplete",documentName:this.fileName,data:e};this.trigger("pageRenderComplete",t)},n.prototype.fireValidatedFailed=function(e){if((0,t.isBlazor)()){(i={}).documentName=this.fileName,i.formFields=this.formFieldCollections,i.nonFillableFields=this.viewerBase.nonFillableFields,this.trigger("validateFormFields",i)}else{var i={formField:this.formFieldCollections,documentName:this.fileName,nonFillableFields:this.viewerBase.nonFillableFields};this.trigger("validateFormFields",i)}},n.prototype.firePageClick=function(e,t,i){var n={name:"pageClick",documentName:this.fileName,x:e,y:t,pageNumber:i};this.trigger("pageClick",n)},n.prototype.firePageChange=function(e){var i={name:"pageChange",documentName:this.fileName,currentPageNumber:this.currentPageNumber,previousPageNumber:e};this.trigger("pageChange",i),(0,t.isBlazor)()&&this.viewerBase.blazorUIAdaptor.pageChanged(this.currentPageNumber)},n.prototype.fireZoomChange=function(){var e={name:"zoomChange",zoomValue:100*this.magnificationModule.zoomFactor,previousZoomValue:100*this.magnificationModule.previousZoomFactor};this.trigger("zoomChange",e)},n.prototype.fireHyperlinkClick=function(e,i){return Id(this,void 0,void 0,(function(){var n;return bd(this,(function(o){switch(o.label){case 0:return n={name:"hyperlinkClick",hyperlink:e,hyperlinkElement:i,cancel:!1},(0,t.isBlazor)()?[4,this.triggerEvent("hyperlinkClick",n)]:[3,2];case 1:return n=o.sent()||n,[3,3];case 2:this.triggerEvent("hyperlinkClick",n),o.label=3;case 3:return n.hyperlinkElement.href!==n.hyperlink&&(i.href=n.hyperlink),n.cancel?[2,!1]:[2,!0]}}))}))},n.prototype.fireHyperlinkHover=function(e){var t={name:"hyperlinkMouseOver",hyperlinkElement:e};this.trigger("hyperlinkMouseOver",t)},n.prototype.fireFocusOutFormField=function(e,t){var i={name:"formFieldFocusOut",fieldName:e,value:t};this.trigger("formFieldFocusOut",i)},n.prototype.fireAnnotationAdd=function(e,i,n,o,r,a,s,l,d,h,A){var p={name:"annotationAdd",pageIndex:e,annotationId:i,annotationType:n,annotationBound:o,annotationSettings:r};a&&((0,t.isBlazor)()?(p.annotationSettings.textMarkupContent=a,p.annotationSettings.textMarkupStartIndex=s,p.annotationSettings.textMarkupEndIndex=l):(p.textMarkupContent=a,p.textMarkupStartIndex=s,p.textMarkupEndIndex=l)),d&&(p.labelSettings=d),h&&(p.multiplePageCollection=h),"Image"===n&&(p.customStampName=A),this.viewerBase.isAnnotationSelect=!1,this.trigger("annotationAdd",p),(0,t.isBlazor)()&&this.viewerBase.blazorUIAdaptor.annotationAdd()},n.prototype.fireAnnotationRemove=function(e,t,i,n,o,r,a,s){var l={name:"annotationRemove",pageIndex:e,annotationId:t,annotationType:i,annotationBounds:n};o&&(l.textMarkupContent=o,l.textMarkupStartIndex=r,l.textMarkupEndIndex=a),s&&(l.multiplePageCollection=s),this.trigger("annotationRemove",l)},n.prototype.fireBeforeAddFreeTextAnnotation=function(e){var t={name:"beforeAddFreeText",value:e};this.trigger("beforeAddFreeText",t)},n.prototype.fireCommentAdd=function(e,t,i){var n={name:"CommentAdd",id:e,text:t,annotation:i};this.trigger("commentAdd",n)},n.prototype.fireCommentEdit=function(e,t,i){var n={name:"CommentEdit",id:e,text:t,annotation:i};this.trigger("commentEdit",n)},n.prototype.fireCommentDelete=function(e,t,i){var n={name:"CommentDelete",id:e,text:t,annotation:i};this.trigger("commentDelete",n)},n.prototype.fireCommentSelect=function(e,t,i){var n={name:"CommentSelect",id:e,text:t,annotation:i};this.trigger("commentSelect",n)},n.prototype.fireCommentStatusChanged=function(e,t,i,n){var o={name:"CommentStatusChanged",id:e,text:t,annotation:i,status:n};this.trigger("commentStatusChanged",o)},n.prototype.fireAnnotationPropertiesChange=function(e,t,i,n,o,r,a,s,l,d,h){var A={name:"annotationPropertiesChange",pageIndex:e,annotationId:t,annotationType:i,isColorChanged:n,isOpacityChanged:o,isTextChanged:r,isCommentsChanged:a};s&&(A.textMarkupContent=s,A.textMarkupStartIndex=l,A.textMarkupEndIndex=d),h&&(A.multiplePageCollection=h),this.trigger("annotationPropertiesChange",A)},n.prototype.fireSignatureAdd=function(e,t,i,n,o,r,a,s){var l={pageIndex:e,id:t,type:i,bounds:n,opacity:o};a&&(l.thickness=a),r&&(l.strokeColor=r),s&&(l.data=s),this.trigger("addSignature",l)},n.prototype.fireSignatureRemove=function(e,t,i,n){var o={pageIndex:e,id:t,type:i,bounds:n};this.trigger("removeSignature",o)},n.prototype.fireSignatureMove=function(e,t,i,n,o,r,a,s){var l={pageIndex:e,id:t,type:i,opacity:n,strokeColor:o,thickness:r,previousPosition:a,currentPosition:s};this.trigger("moveSignature",l)},n.prototype.fireSignaturePropertiesChange=function(e,t,i,n,o,r,a,s){var l={pageIndex:e,id:t,type:i,isStrokeColorChanged:n,isOpacityChanged:o,isThicknessChanged:r,oldValue:a,newValue:s};this.trigger("signaturePropertiesChange",l)},n.prototype.fireSignatureResize=function(e,t,i,n,o,r,a,s){var l={pageIndex:e,id:t,type:i,opacity:n,strokeColor:o,thickness:r,currentPosition:a,previousPosition:s};this.trigger("resizeSignature",l)},n.prototype.fireSignatureSelect=function(e,t,i){var n={id:e,pageIndex:t,signature:i};this.trigger("signatureSelect",n)},n.prototype.fireSignatureUnselect=function(e,t,i){var n={id:e,pageIndex:t,signature:i};this.trigger("signatureUnselect",n)},n.prototype.fireAnnotationSelect=function(e,i,n,o,r,a,s){var l={name:"annotationSelect",annotationId:e,pageIndex:i,annotation:n};if(o&&(l={name:"annotationSelect",annotationId:e,pageIndex:i,annotation:n,annotationCollection:o}),r&&(l.multiplePageCollection=r),a&&(l.isProgrammaticSelection=a),s&&(l.annotationAddMode=s),(0,t.isBlazor)()){if("FreeText"===n.type){var d={isBold:!1,isItalic:!1,isStrikeout:!1,isUnderline:!1};1===n.fontStyle?d.isBold=!0:2===n.fontStyle?d.isItalic=!0:3===n.fontStyle?d.isStrikeout=!0:4===n.fontStyle&&(d.isUnderline=!0),n.fontStyle=d}this.viewerBase.blazorUIAdaptor.annotationSelect(n.type)}this.trigger("annotationSelect",l)},n.prototype.fireAnnotationUnSelect=function(e,i,n){(0,t.isBlazor)()&&this.viewerBase.blazorUIAdaptor.annotationUnSelect();var o={name:"annotationUnSelect",annotationId:e,pageIndex:i,annotation:n};this.trigger("annotationUnSelect",o)},n.prototype.fireAnnotationDoubleClick=function(e,t,i){var n={name:"annotationDblClick",annotationId:e,pageIndex:t,annotation:i};this.trigger("annotationDoubleClick",n)},n.prototype.fireTextSelectionStart=function(e){this.isTextSelectionStarted=!0;var t={pageIndex:e};this.trigger("textSelectionStart",t)},n.prototype.fireTextSelectionEnd=function(e,t,i){if(this.isTextSelectionStarted){var n={pageIndex:e,textContent:t,textBounds:i};this.trigger("textSelectionEnd",n),this.isTextSelectionStarted=!1}},n.prototype.renderDrawing=function(e,i){(0,t.isNullOrUndefined)(i)&&this.viewerBase.activeElements.activePageID&&!this.viewerBase.isPrint&&(i=this.viewerBase.activeElements.activePageID),this.annotation?this.annotation.renderAnnotations(i,null,null,null,e):this.formDesignerModule&&this.formDesignerModule.updateCanvas(i,e)},n.prototype.fireAnnotationResize=function(e,t,i,n,o,r,a,s,l,d){var h={name:"annotationResize",pageIndex:e,annotationId:t,annotationType:i,annotationBound:n,annotationSettings:o};r&&(h.textMarkupContent=r,h.textMarkupStartIndex=a,h.textMarkupEndIndex=s),l&&(h.labelSettings=l),d&&(h.multiplePageCollection=d),this.trigger("annotationResize",h)},n.prototype.fireAnnotationMoving=function(e,t,i,n,o,r){var a={name:"annotationMoving",pageIndex:e,annotationId:t,annotationType:i,annotationSettings:n,previousPosition:o,currentPosition:r};this.trigger("annotationMoving",a)},n.prototype.fireAnnotationMove=function(e,t,i,n,o,r){var a={name:"annotationMove",pageIndex:e,annotationId:t,annotationType:i,annotationSettings:n,previousPosition:o,currentPosition:r};this.trigger("annotationMove",a)},n.prototype.fireAnnotationMouseover=function(e,i,n,o,r,a,s){var l={name:"annotationMouseover",annotationId:e,pageIndex:i,annotationType:n,annotationBounds:o,annotation:r,pageX:a.left,pageY:a.top,X:s.left,Y:s.top};(0,t.isBlazor)()&&("Perimeter calculation"===r.subject?l.annotationType="Perimeter":"Area calculation"===r.subject?l.annotationType="Area":"Volume calculation"===r.subject?l.annotationType="Volume":"Arrow"===r.subject?l.annotationType="Arrow":"Circle"===r.subject&&(l.annotationType="Circle")),this.trigger("annotationMouseover",l)},n.prototype.fireAnnotationMouseLeave=function(e){var t={name:"annotationMouseLeave",pageIndex:e};this.trigger("annotationMouseLeave",t)},n.prototype.firePageMouseover=function(e,t){var i={pageX:e,pageY:t};this.trigger("pageMouseover",i)},n.prototype.fireDownloadStart=function(e){var t={fileName:e,cancel:!1};return this.trigger("downloadStart",t),!t.cancel},n.prototype.fireDownloadEnd=function(e,t){var i={fileName:e,downloadDocument:t};this.trigger("downloadEnd",i)},n.prototype.firePrintStart=function(){return Id(this,void 0,void 0,(function(){var e;return bd(this,(function(i){switch(i.label){case 0:return e={fileName:this.downloadFileName,cancel:!1},t.isBlazor?[4,this.triggerEvent("printStart",e)]:[3,2];case 1:return e=i.sent()||e,[3,3];case 2:this.triggerEvent("printStart",e),i.label=3;case 3:return e.cancel||this.printModule.print(),[2]}}))}))},n.prototype.triggerEvent=function(e,i){return Id(this,void 0,void 0,(function(){var n;return bd(this,(function(o){switch(o.label){case 0:return[4,this.trigger(e,i)];case 1:return n=o.sent(),t.isBlazor&&"string"==typeof n&&(n=JSON.parse(n)),[2,n]}}))}))},n.prototype.firePrintEnd=function(e){var t={fileName:e};this.trigger("printEnd",t)},n.prototype.fireThumbnailClick=function(e){var t={name:"thumbnailClick",pageNumber:e};this.trigger("thumbnailClick",t)},n.prototype.fireCustomToolbarClickEvent=function(e){return Id(this,void 0,void 0,(function(){return bd(this,(function(t){return this.trigger("toolbarClick",e),[2]}))}))},n.prototype.fireBookmarkClick=function(e,t,i,n){var o={name:"bookmarkClick",pageNumber:e,position:t,text:i,fileName:n};this.trigger("bookmarkClick",o)},n.prototype.fireImportStart=function(e){var t={name:"importAnnotationsStart",importData:e,formFieldData:null};this.trigger("importStart",t)},n.prototype.fireExportStart=function(e){var t={name:"exportAnnotationsStart",exportData:e,formFieldData:null,cancel:!1};return this.trigger("exportStart",t),!t.cancel},n.prototype.fireImportSuccess=function(e){var t={name:"importAnnotationsSuccess",importData:e,formFieldData:null};this.trigger("importSuccess",t)},n.prototype.fireExportSuccess=function(e,t){var i={name:"exportAnnotationsSuccess",exportData:e,fileName:t,formFieldData:null};this.trigger("exportSuccess",i)},n.prototype.fireImportFailed=function(e,t){var i={name:"importAnnotationsFailed",importData:e,errorDetails:t,formFieldData:null};this.trigger("importFailed",i)},n.prototype.fireExportFailed=function(e,t){var i={name:"exportAnnotationsFailed",exportData:e,errorDetails:t,formFieldData:null};this.trigger("exportFailed",i)},n.prototype.fireFormImportStarted=function(e){var t={name:"importFormFieldsStart",importData:null,formFieldData:e};this.trigger("importStart",t)},n.prototype.fireFormExportStarted=function(e){var t={name:"exportFormFieldsStart",exportData:null,formFieldData:e,cancel:!1};return this.trigger("exportStart",t),!t.cancel},n.prototype.fireFormImportSuccess=function(e){var t={name:"importFormFieldsSuccess",importData:e,formFieldData:e};this.trigger("importSuccess",t)},n.prototype.fireFormExportSuccess=function(e,t){var i={name:"exportFormFieldsSuccess",exportData:e,fileName:t,formFieldData:e};this.trigger("exportSuccess",i)},n.prototype.fireFormImportFailed=function(e,t){var i={name:"importFormFieldsfailed",importData:e,errorDetails:t,formFieldData:e};this.trigger("importFailed",i)},n.prototype.fireFormExportFailed=function(e,t){var i={name:"exportFormFieldsFailed",exportData:e,errorDetails:t,formFieldData:e};this.trigger("exportFailed",i)},n.prototype.fireTextExtractionCompleted=function(e){var t={documentTextCollection:e};this.trigger("extractTextCompleted",t)},n.prototype.fireTextSearchStart=function(e,t){var i={name:"textSearchStart",searchText:e,matchCase:t};this.trigger("textSearchStart",i)},n.prototype.fireTextSearchComplete=function(e,t){var i={name:"textSearchComplete",searchText:e,matchCase:t};this.trigger("textSearchComplete",i)},n.prototype.fireTextSearchHighlight=function(e,t,i,n){var o={name:"textSearchHighlight",searchText:e,matchCase:t,bounds:i,pageNumber:n};this.trigger("textSearchHighlight",o)},n.prototype.firecustomContextMenuSelect=function(e){var t={id:e};this.trigger("customContextMenuSelect",t)},n.prototype.firecustomContextMenuBeforeOpen=function(e){var t={ids:e};this.trigger("customContextMenuBeforeOpen",t)},n.prototype.fireKeyboardCustomCommands=function(e){var t={keyboardCommand:e};this.trigger("keyboardCustomCommands",t)},n.prototype.firePageOrganizerSaveAsEventArgs=function(e,t){var i={fileName:e,downloadDocument:t,cancel:!1};return this.trigger("pageOrganizerSaveAs",i),!i.cancel},n.prototype.renderAdornerLayer=function(e,t,i,n){ye(e,t,i,n,this)},n.prototype.renderSelector=function(e,t){this.drawing.renderSelector(e,t)},n.prototype.select=function(e,t,i,n){var o=this.allowServerDataBinding;if(this.enableServerDataBinding(!1),this.annotationModule){var r=this.annotationModule.textMarkupAnnotationModule,a=r&&r.selectTextMarkupCurrentPage,s=this.selectedItems.annotations[0];if(a){var l=this.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation;this.annotationModule.textMarkupAnnotationModule.clearCurrentAnnotationSelection(a,!0),this.fireAnnotationUnSelect(l.annotName,l.pageNumber,l)}i||this.viewerBase.activeElements&&this.viewerBase.activeElements.activePageID>=0&&!this.viewerBase.isNewStamp&&s&&"HandWrittenSignature"!==s.shapeAnnotationType&&"SignatureText"!==s.shapeAnnotationType&&"SignatureImage"!==s.shapeAnnotationType&&this.fireAnnotationUnSelect(s.annotName,s.pageIndex,s)}if(this.viewerBase.signatureModule){s=this.selectedItems.annotations[0];if(!i){var d=this.selectedItems;if(d.annotations.length)for(var h=0;h<d.annotations.length;h++){var A=d.annotations[parseInt(h.toString(),10)];this.viewerBase.activeElements&&this.viewerBase.activeElements.activePageID>=0&&(this.viewerBase.isNewSignatureAdded||"HandWrittenSignature"!==s.shapeAnnotationType&&"SignatureText"!==s.shapeAnnotationType&&"SignatureImage"!==s.shapeAnnotationType||this.annotationModule.unselectSignature(A.signatureName,A.pageIndex,A))}}}if(this.formDesignerModule){var p=this.selectedItems.formFields[0];if(p&&this.formDesignerModule&&p&&p.formFieldAnnotationType){var c={name:p.name,id:p.id,value:p.value,fontFamily:p.fontFamily,fontSize:p.fontSize,fontStyle:p.fontStyle,color:p.color,backgroundColor:p.backgroundColor,borderColor:p.borderColor,thickness:p.thickness,alignment:p.alignment,isReadonly:p.isReadonly,visibility:p.visibility,maxLength:p.maxLength,isRequired:p.isRequired,isPrint:p.isPrint,rotation:p.rotateAngle,tooltip:p.tooltip,options:p.options,isChecked:p.isChecked,isSelected:p.isSelected};this.fireFormFieldUnselectEvent("formFieldUnselect",c,p.pageIndex)}}var g=this;this.viewerBase.renderedPagesList.forEach((function(e){g.clearSelection(e)})),this.drawing.select(e,t,i,n),this.enableServerDataBinding(o,!0)},n.prototype.getPageTable=function(e){return this.drawing.getPageTable(e)},n.prototype.dragSelectedObjects=function(e,t,i,n,o){return this.drawing.dragSelectedObjects(e,t,i,n,o)},n.prototype.scaleSelectedItems=function(e,t,i){return this.drawing.scaleSelectedItems(e,t,i)},n.prototype.dragConnectorEnds=function(e,t,i,n,o,r,a){return this.drawing.dragConnectorEnds(e,t,i,n,o,null,a)},n.prototype.clearSelection=function(e){var t=this.allowServerDataBinding;this.enableServerDataBinding(!1);var i=this.selectedItems;i.annotations.length>0?this.selectedItems.annotations[0]:this.selectedItems.formFields[0];if(i.annotations.length>0?(i.offsetX=0,i.offsetY=0,i.width=0,i.height=0,i.rotateAngle=0,i.annotations=[],i.wrapper=null):i.formFields.length>0&&(i.offsetX=0,i.offsetY=0,i.width=0,i.height=0,i.rotateAngle=0,i.formFields=[],i.wrapper=null),this.drawing.clearSelectorLayer(e),this.viewerBase.isAnnotationSelect=!1,this.viewerBase.isFormFieldSelect=!1,this.annotationModule){var n=this.annotationModule.textMarkupAnnotationModule;if(n){var o=n.selectTextMarkupCurrentPage;this.annotationModule.textMarkupAnnotationModule.clearCurrentSelectedAnnotation(),this.annotationModule.textMarkupAnnotationModule.clearCurrentAnnotationSelection(o)}}this.enableServerDataBinding(t,!0)},n.prototype.getPageNumberFromClientPoint=function(e){return this.viewerBase.getPageNumberFromClientPoint(e)},n.prototype.convertClientPointToPagePoint=function(e,t){return this.viewerBase.convertClientPointToPagePoint(e,t)},n.prototype.convertPagePointToClientPoint=function(e,t){return this.viewerBase.convertPagePointToClientPoint(e,t)},n.prototype.convertPagePointToScrollingPoint=function(e,t){return this.viewerBase.convertPagePointToScrollingPoint(e,t)},n.prototype.zoomToRect=function(e){this.magnificationModule.zoomToRect(e)},n.prototype.add=function(e){return this.drawing.add(e)},n.prototype.remove=function(e){return this.drawing.remove(e)},n.prototype.copy=function(){return this.annotation?this.annotation.isShapeCopied=!0:this.formDesigner&&this.designerMode&&(this.formDesigner.isShapeCopied=!0),this.drawing.copy()},n.prototype.rotate=function(e,t){return this.drawing.rotate(this.selectedItems,e,null,t)},n.prototype.paste=function(e){var t;return this.viewerBase.activeElements.activePageID&&(t=this.viewerBase.activeElements.activePageID),this.drawing.paste(e,t||0)},n.prototype.refresh=function(){for(var e=0;e<this.annotations.length;e++){if(void 0!==this.zIndexTable.length){for(var t=0;t<this.zIndexTable.length;t++){for(var i=this.zIndexTable[parseInt(t.toString(),10)].objects,n=0;n<i.length;n++)i.splice(n,1);delete this.zIndexTable[parseInt(t.toString(),10)]}this.annotations[parseInt(e.toString(),10)]&&delete this.annotations[parseInt(e.toString(),10)],this.selectedItems.annotations&&this.selectedItems.annotations[parseInt(e.toString(),10)]&&delete this.selectedItems.annotations[parseInt(e.toString(),10)],this.zIndexTable=[],this.renderDrawing()}this.annotations&&0!==this.annotations.length&&(this.annotations.length=0,this.selectedItems.annotations.length=0)}},n.prototype.cut=function(){var e;return this.viewerBase.activeElements.activePageID&&(e=this.viewerBase.activeElements.activePageID),this.annotation?this.annotation.isShapeCopied=!0:this.formDesigner&&this.designerMode&&(this.formDesigner.isShapeCopied=!0),this.drawing.cut(e||0)},n.prototype.nodePropertyChange=function(e,t){this.drawing.nodePropertyChange(e,t)},n.prototype.enableServerDataBinding=function(e,i){void 0===i&&(i=!1),(0,t.isBlazor)()&&(this.allowServerDataBinding=e,i&&(this.bulkChanges={}))},n.prototype.checkBoundaryConstraints=function(e,t,i,n,o,r){return this.drawing.checkBoundaryConstraints(e,t,i,n,o,r)},n.prototype.addCustomMenu=function(e,i,n){var o;(0,t.isNullOrUndefined)(e)||((o=this.customContextMenuItems).push.apply(o,e),this.showCustomContextMenuBottom=n),this.disableDefaultContextMenu=i},Bd([(0,t.Property)()],n.prototype,"serviceUrl",void 0),Bd([(0,t.Property)(0)],n.prototype,"pageCount",void 0),Bd([(0,t.Property)(1)],n.prototype,"printScaleFactor",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isDocumentEdited",void 0),Bd([(0,t.Property)(0)],n.prototype,"currentPageNumber",void 0),Bd([(0,t.Property)()],n.prototype,"documentPath",void 0),Bd([(0,t.Property)(null)],n.prototype,"exportAnnotationFileName",void 0),Bd([(0,t.Property)()],n.prototype,"downloadFileName",void 0),Bd([(0,t.Property)("auto")],n.prototype,"height",void 0),Bd([(0,t.Property)("auto")],n.prototype,"width",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableToolbar",void 0),Bd([(0,t.Property)(1)],n.prototype,"retryCount",void 0),Bd([(0,t.Property)([500])],n.prototype,"retryStatusCodes",void 0),Bd([(0,t.Property)(0)],n.prototype,"retryTimeout",void 0),Bd([(0,t.Property)(2)],n.prototype,"initialRenderPages",void 0),Bd([(0,t.Property)(!0)],n.prototype,"showNotificationDialog",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableNavigationToolbar",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableCommentPanel",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isCommandPanelOpen",void 0),Bd([(0,t.Property)(!1)],n.prototype,"enableTextMarkupResizer",void 0),Bd([(0,t.Property)(!1)],n.prototype,"enableMultiLineOverlap",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isValidFreeText",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isAnnotationToolbarOpen",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isAnnotationToolbarVisible",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isFormDesignerToolbarVisible",void 0),Bd([(0,t.Property)(!1)],n.prototype,"enableMultiPageAnnotation",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableDownload",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enablePrint",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enablePrintRotation",void 0),Bd([(0,t.Property)([])],n.prototype,"customFonts",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableThumbnail",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enablePageOrganizer",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isPageOrganizerOpen",void 0),Bd([(0,t.Property)({canDelete:!0,canInsert:!0,canRotate:!0,canCopy:!0,canRearrange:!0,canImport:!0})],n.prototype,"pageOrganizerSettings",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isThumbnailViewOpen",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isSignatureEditable",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableBookmark",void 0),Bd([(0,t.Property)(!1)],n.prototype,"enableLocalStorage",void 0),Bd([(0,t.Property)(!1)],n.prototype,"enableBookmarkStyles",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableHyperlink",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableHandwrittenSignature",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableInkAnnotation",void 0),Bd([(0,t.Property)(!1)],n.prototype,"restrictZoomRequest",void 0),Bd([(0,t.Property)("CurrentTab")],n.prototype,"hyperlinkOpenState",void 0),Bd([(0,t.Property)("RightClick")],n.prototype,"contextMenuOption",void 0),Bd([(0,t.Property)([])],n.prototype,"disableContextMenuItems",void 0),Bd([(0,t.Property)({name:"",id:"",type:"",isReadOnly:!1,isSelected:!1,isChecked:!1,value:"",signatureType:[""],fontName:"",fontFamily:"Helvetica",fontSize:10,fontStyle:"None",color:"black",backgroundColor:"white",alignment:"Left",visibility:"visible",maxLength:0,isRequired:!1,isPrint:!1,tooltip:"",pageIndex:-1,options:[],signatureIndicatorSettings:{opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black",customData:""}})],n.prototype,"formFieldCollections",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableNavigation",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableAutoComplete",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableMagnification",void 0),Bd([(0,t.Property)(!1)],n.prototype,"enableShapeLabel",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableImportAnnotationMeasurement",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enablePinchZoom",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableTextSelection",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableTextSearch",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableAnnotation",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableFormFields",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableFormDesigner",void 0),Bd([(0,t.Property)(!1)],n.prototype,"designerMode",void 0),Bd([(0,t.Property)(!1)],n.prototype,"enableFormFieldsValidation",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isFormFieldDocument",void 0),Bd([(0,t.Property)(!1)],n.prototype,"enableDesktopMode",void 0),Bd([(0,t.Property)(!1)],n.prototype,"hideSaveSignature",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableFreeText",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableTextMarkupAnnotation",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableShapeAnnotation",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableMeasureAnnotation",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableStampAnnotations",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableStickyNotesAnnotation",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableAnnotationToolbar",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableFormDesignerToolbar",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isBookmarkPanelOpen",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isInitialFieldToolbarSelection",void 0),Bd([(0,t.Property)("TextSelection")],n.prototype,"interactionMode",void 0),Bd([(0,t.Property)("Default")],n.prototype,"zoomMode",void 0),Bd([(0,t.Property)("Default")],n.prototype,"signatureFitMode",void 0),Bd([(0,t.Property)("Default")],n.prototype,"printMode",void 0),Bd([(0,t.Property)(0)],n.prototype,"zoomValue",void 0),Bd([(0,t.Property)(10)],n.prototype,"minZoom",void 0),Bd([(0,t.Property)(400)],n.prototype,"maxZoom",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableZoomOptimization",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isExtractText",void 0),Bd([(0,t.Property)(!1)],n.prototype,"isMaintainSelection",void 0),Bd([(0,t.Property)(!1)],n.prototype,"hideEmptyDigitalSignatureFields",void 0),Bd([(0,t.Property)(!0)],n.prototype,"showDigitalSignatureAppearance",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableAccessibilityTags",void 0),Bd([(0,t.Property)(!0)],n.prototype,"enableHtmlSanitizer",void 0),Bd([(0,t.Property)("M/d/yyyy h:mm:ss a")],n.prototype,"dateTimeFormat",void 0),Bd([(0,t.Property)("")],n.prototype,"resourceUrl",void 0),Bd([(0,t.Property)({showTooltip:!0,toolbarItems:["OpenOption","UndoRedoTool","PageNavigationTool","MagnificationTool","PanTool","SelectionTool","CommentTool","SubmitForm","AnnotationEditTool","FormDesignerEditTool","FreeTextAnnotationOption","InkAnnotationOption","ShapeAnnotationOption","StampAnnotation","SignatureOption","SearchOption","PrintOption","DownloadOption"],annotationToolbarItems:["HighlightTool","UnderlineTool","StrikethroughTool","ColorEditTool","OpacityEditTool","AnnotationDeleteTool","StampAnnotationTool","HandWrittenSignatureTool","InkAnnotationTool","ShapeTool","CalibrateTool","StrokeColorEditTool","ThicknessEditTool","FreeTextAnnotationTool","FontFamilyAnnotationTool","FontSizeAnnotationTool","FontStylesAnnotationTool","FontAlignAnnotationTool","FontColorAnnotationTool","CommentPanelTool"],formDesignerToolbarItems:["TextboxTool","PasswordTool","CheckBoxTool","RadioButtonTool","DropdownTool","ListboxTool","DrawSignatureTool","DeleteTool"]})],n.prototype,"toolbarSettings",void 0),Bd([(0,t.Property)({ajaxHeaders:[],withCredentials:!1})],n.prototype,"ajaxRequestSettings",void 0),Bd([(0,t.Property)({customStampName:"",customStampImageSource:""})],n.prototype,"customStamp",void 0),Bd([(0,t.Property)({load:"Load",renderPages:"RenderPdfPages",unload:"Unload",download:"Download",renderThumbnail:"RenderThumbnailImages",print:"PrintImages",renderComments:"RenderAnnotationComments",importAnnotations:"ImportAnnotations",exportAnnotations:"ExportAnnotations",importFormFields:"ImportFormFields",exportFormFields:"ExportFormFields",renderTexts:"RenderPdfTexts",validatePassword:"ValidatePassword"})],n.prototype,"serverActionSettings",void 0),Bd([(0,t.Property)({name:"",isReadOnly:!1,visibility:"visible",isRequired:!1,isPrint:!0,tooltip:"",thickness:1,signatureIndicatorSettings:{opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black"},signatureDialogSettings:{displayMode:Ee.Draw|Ee.Text|Ee.Upload,hideSaveSignature:!1}})],n.prototype,"signatureFieldSettings",void 0),Bd([(0,t.Property)({name:"",isReadOnly:!1,visibility:"visible",isRequired:!1,isPrint:!0,tooltip:"",thickness:1,initialIndicatorSettings:{opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black"},initialDialogSettings:{displayMode:Ee.Draw|Ee.Text|Ee.Upload,hideSaveSignature:!1}})],n.prototype,"initialFieldSettings",void 0),Bd([(0,t.Property)({opacity:1,color:"#FFDF56",author:"Guest",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges},isLock:!1,enableMultiPageAnnotation:!1,enableTextMarkupResizer:!1,allowedInteractions:["None"],isPrint:!0,subject:"Highlight"})],n.prototype,"highlightSettings",void 0),Bd([(0,t.Property)({opacity:1,color:"#ff0000",author:"Guest",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges},isLock:!1,enableMultiPageAnnotation:!1,enableTextMarkupResizer:!1,allowedInteractions:["None"],isPrint:!0,subject:"Strikethrough"})],n.prototype,"strikethroughSettings",void 0),Bd([(0,t.Property)({opacity:1,color:"#00ff00",author:"Guest",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges},isLock:!1,enableMultiPageAnnotation:!1,enableTextMarkupResizer:!1,allowedInteractions:["None"],isPrint:!0,subject:"Underline"})],n.prototype,"underlineSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,borderDashArray:0,lineHeadStartStyle:"None",lineHeadEndStyle:"None",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Line"})],n.prototype,"lineSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,borderDashArray:0,lineHeadStartStyle:"Closed",lineHeadEndStyle:"Closed",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Arrow"})],n.prototype,"arrowSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Rectangle"})],n.prototype,"rectangleSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",borderColor:"#ff0000",fontColor:"#000",fontSize:16,labelHeight:24.6,labelMaxWidth:151,labelContent:"Label"})],n.prototype,"shapeLabelSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Circle"})],n.prototype,"circleSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Polygon"})],n.prototype,"polygonSettings",void 0),Bd([(0,t.Property)({opacity:1,author:"Guest",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,dynamicStamps:[_e.Revised,_e.Reviewed,_e.Received,_e.Confidential,_e.Approved,_e.NotApproved],signStamps:[De.Witness,De.InitialHere,De.SignHere,De.Accepted,De.Rejected],standardBusinessStamps:[Me.Approved,Me.NotApproved,Me.Draft,Me.Final,Me.Completed,Me.Confidential,Me.ForPublicRelease,Me.NotForPublicRelease,Me.ForComment,Me.Void,Me.PreliminaryResults,Me.InformationOnly],allowedInteractions:["None"],isPrint:!0,subject:""})],n.prototype,"stampSettings",void 0),Bd([(0,t.Property)({opacity:1,author:"Guest",width:0,height:0,left:0,top:0,minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,enableCustomStamp:!0,allowedInteractions:["None"],isPrint:!0,subject:""})],n.prototype,"customStampSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,borderDashArray:0,lineHeadStartStyle:"Closed",lineHeadEndStyle:"Closed",annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,leaderLength:40,resizeCursorType:xe.move,allowedInteractions:["None"],isPrint:!0,subject:"Distance calculation"})],n.prototype,"distanceSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,borderDashArray:0,lineHeadStartStyle:"Open",lineHeadEndStyle:"Open",minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},allowedInteractions:["None"],isPrint:!0,subject:"Perimeter calculation"})],n.prototype,"perimeterSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},allowedInteractions:["None"],isPrint:!0,subject:"Area calculation"})],n.prototype,"areaSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Radius calculation"})],n.prototype,"radiusSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",strokeColor:"#ff0000",author:"Guest",thickness:1,minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},allowedInteractions:["None"],isPrint:!0,subject:"Volume calculation"})],n.prototype,"volumeSettings",void 0),Bd([(0,t.Property)({author:"Guest",opacity:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Sticky Note"})],n.prototype,"stickyNotesSettings",void 0),Bd([(0,t.Property)({opacity:1,fillColor:"#ffffff00",borderColor:"#ffffff00",author:"Guest",borderWidth:1,width:151,fontSize:16,height:24.6,fontColor:"#000",fontFamily:"Helvetica",defaultText:"Type Here",textAlignment:"Left",fontStyle:Be.None,allowTextOnly:!1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,allowedInteractions:["None"],isPrint:!0,isReadonly:!1,enableAutoFit:!1,subject:"Text Box"})],n.prototype,"freeTextSettings",void 0),Bd([(0,t.Property)({conversionUnit:"in",displayUnit:"in",scaleRatio:1,depth:96})],n.prototype,"measurementSettings",void 0),Bd([(0,t.Property)({selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null})],n.prototype,"annotationSelectorSettings",void 0),Bd([(0,t.Property)({searchHighlightColor:"#fdd835",searchColor:"#8b4c12"})],n.prototype,"textSearchColorSettings",void 0),Bd([(0,t.Property)({displayMode:Ee.Draw|Ee.Text|Ee.Upload,hideSaveSignature:!1})],n.prototype,"signatureDialogSettings",void 0),Bd([(0,t.Property)({displayMode:Ee.Draw|Ee.Text|Ee.Upload,hideSaveSignature:!1})],n.prototype,"initialDialogSettings",void 0),Bd([(0,t.Property)({signatureItem:["Signature","Initial"],saveSignatureLimit:1,saveInitialLimit:1,opacity:1,strokeColor:"#000000",width:150,height:100,thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},allowedInteractions:["None"],signatureDialogSettings:{displayMode:Ee.Draw|Ee.Text|Ee.Upload,hideSaveSignature:!1},initialDialogSettings:{displayMode:Ee.Draw|Ee.Text|Ee.Upload,hideSaveSignature:!1}})],n.prototype,"handWrittenSignatureSettings",void 0),Bd([(0,t.Property)({author:"Guest",opacity:1,strokeColor:"#ff0000",thickness:1,annotationSelectorSettings:{selectionBorderColor:"",resizerBorderColor:"black",resizerFillColor:"#FF4081",resizerSize:8,selectionBorderThickness:1,resizerShape:"Square",selectorLineDashArray:[],resizerLocation:ve.Corners|ve.Edges,resizerCursorType:null},isLock:!1,allowedInteractions:["None"],isPrint:!0,subject:"Ink"})],n.prototype,"inkAnnotationSettings",void 0),Bd([(0,t.Property)({author:"Guest",minHeight:0,minWidth:0,maxWidth:0,maxHeight:0,isLock:!1,skipPrint:!1,skipDownload:!1,allowedInteractions:["None"],subject:""})],n.prototype,"annotationSettings",void 0),Bd([(0,t.Property)({enableTileRendering:!0,x:0,y:0})],n.prototype,"tileRenderingSettings",void 0),Bd([(0,t.Property)({delayPageRequestTimeOnScroll:100})],n.prototype,"scrollSettings",void 0),Bd([(0,t.Property)({name:"",value:"",fontFamily:"Helvetica",fontSize:10,fontStyle:"None",color:"black",borderColor:"black",backgroundColor:"white",alignment:"Left",isReadOnly:!1,visibility:"visible",maxLength:0,isRequired:!1,isPrint:!0,tooltip:"",thickness:1,isMultiline:!1,customData:""})],n.prototype,"textFieldSettings",void 0),Bd([(0,t.Property)({name:"",value:"",fontFamily:"Helvetica",fontSize:10,fontStyle:"None",color:"black",borderColor:"black",backgroundColor:"white",alignment:"Left",isReadOnly:!1,visibility:"visible",maxLength:0,isRequired:!1,isPrint:!0,tooltip:"",thickness:1,customData:""})],n.prototype,"passwordFieldSettings",void 0),Bd([(0,t.Property)({name:"",value:"",isChecked:!1,backgroundColor:"white",isReadOnly:!1,visibility:"visible",isPrint:!0,tooltip:"",isRequired:!1,thickness:1,borderColor:"black",customData:""})],n.prototype,"checkBoxFieldSettings",void 0),Bd([(0,t.Property)({name:"",value:"",isSelected:!1,backgroundColor:"white",isReadOnly:!1,visibility:"visible",isPrint:!0,tooltip:"",isRequired:!1,thickness:1,borderColor:"black",customData:""})],n.prototype,"radioButtonFieldSettings",void 0),Bd([(0,t.Property)({name:"",fontFamily:"Helvetica",fontSize:10,fontStyle:"None",color:"black",backgroundColor:"white",alignment:"Left",isReadOnly:!1,visibility:"visible",isRequired:!1,isPrint:!0,tooltip:"",options:[],thickness:1,borderColor:"black",customData:""})],n.prototype,"DropdownFieldSettings",void 0),Bd([(0,t.Property)({name:"",fontFamily:"Helvetica",fontSize:10,fontStyle:"None",color:"black",backgroundColor:"white",alignment:"Left",isReadOnly:!1,visibility:"visible",isRequired:!1,isPrint:!1,tooltip:"",options:[],thickness:1,borderColor:"black",customData:""})],n.prototype,"listBoxFieldSettings",void 0),Bd([(0,t.Property)({contextMenuAction:"RightClick",contextMenuItems:[Ie.Comment,Ie.Copy,Ie.Cut,Ie.Delete,Ie.Highlight,Ie.Paste,Ie.Properties,Ie.ScaleRatio,Ie.Strikethrough,Ie.Underline]})],n.prototype,"contextMenuSettings",void 0),Bd([(0,t.Property)([])],n.prototype,"customContextMenuItems",void 0),Bd([(0,t.Property)(!1)],n.prototype,"disableDefaultContextMenu",void 0),Bd([(0,t.Property)(!1)],n.prototype,"showCustomContextMenuBottom",void 0),Bd([(0,t.Complex)({},Ih)],n.prototype,"commandManager",void 0),Bd([(0,t.Complex)({},p)],n.prototype,"selectedItems",void 0),Bd([(0,t.Event)()],n.prototype,"created",void 0),Bd([(0,t.Event)()],n.prototype,"documentLoad",void 0),Bd([(0,t.Event)()],n.prototype,"documentUnload",void 0),Bd([(0,t.Event)()],n.prototype,"documentLoadFailed",void 0),Bd([(0,t.Event)()],n.prototype,"ajaxRequestFailed",void 0),Bd([(0,t.Event)()],n.prototype,"ajaxRequestSuccess",void 0),Bd([(0,t.Event)()],n.prototype,"pageRenderComplete",void 0),Bd([(0,t.Event)()],n.prototype,"validateFormFields",void 0),Bd([(0,t.Event)()],n.prototype,"pageClick",void 0),Bd([(0,t.Event)()],n.prototype,"pageChange",void 0),Bd([(0,t.Event)()],n.prototype,"hyperlinkClick",void 0),Bd([(0,t.Event)()],n.prototype,"hyperlinkMouseOver",void 0),Bd([(0,t.Event)()],n.prototype,"zoomChange",void 0),Bd([(0,t.Event)()],n.prototype,"annotationAdd",void 0),Bd([(0,t.Event)()],n.prototype,"annotationRemove",void 0),Bd([(0,t.Event)()],n.prototype,"annotationPropertiesChange",void 0),Bd([(0,t.Event)()],n.prototype,"annotationResize",void 0),Bd([(0,t.Event)()],n.prototype,"addSignature",void 0),Bd([(0,t.Event)()],n.prototype,"removeSignature",void 0),Bd([(0,t.Event)()],n.prototype,"moveSignature",void 0),Bd([(0,t.Event)()],n.prototype,"signaturePropertiesChange",void 0),Bd([(0,t.Event)()],n.prototype,"resizeSignature",void 0),Bd([(0,t.Event)()],n.prototype,"signatureSelect",void 0),Bd([(0,t.Event)()],n.prototype,"signatureUnselect",void 0),Bd([(0,t.Event)()],n.prototype,"annotationSelect",void 0),Bd([(0,t.Event)()],n.prototype,"annotationUnSelect",void 0),Bd([(0,t.Event)()],n.prototype,"annotationDoubleClick",void 0),Bd([(0,t.Event)()],n.prototype,"annotationMove",void 0),Bd([(0,t.Event)()],n.prototype,"annotationMoving",void 0),Bd([(0,t.Event)()],n.prototype,"annotationMouseover",void 0),Bd([(0,t.Event)()],n.prototype,"annotationMouseLeave",void 0),Bd([(0,t.Event)()],n.prototype,"pageMouseover",void 0),Bd([(0,t.Event)()],n.prototype,"importStart",void 0),Bd([(0,t.Event)()],n.prototype,"exportStart",void 0),Bd([(0,t.Event)()],n.prototype,"importSuccess",void 0),Bd([(0,t.Event)()],n.prototype,"exportSuccess",void 0),Bd([(0,t.Event)()],n.prototype,"importFailed",void 0),Bd([(0,t.Event)()],n.prototype,"exportFailed",void 0),Bd([(0,t.Event)()],n.prototype,"extractTextCompleted",void 0),Bd([(0,t.Event)()],n.prototype,"thumbnailClick",void 0),Bd([(0,t.Event)()],n.prototype,"bookmarkClick",void 0),Bd([(0,t.Event)()],n.prototype,"toolbarClick",void 0),Bd([(0,t.Event)()],n.prototype,"textSelectionStart",void 0),Bd([(0,t.Event)()],n.prototype,"textSelectionEnd",void 0),Bd([(0,t.Event)()],n.prototype,"downloadStart",void 0),Bd([(0,t.Event)()],n.prototype,"buttonFieldClick",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldClick",void 0),Bd([(0,t.Event)()],n.prototype,"downloadEnd",void 0),Bd([(0,t.Event)()],n.prototype,"printStart",void 0),Bd([(0,t.Event)()],n.prototype,"printEnd",void 0),Bd([(0,t.Event)()],n.prototype,"textSearchStart",void 0),Bd([(0,t.Event)()],n.prototype,"textSearchComplete",void 0),Bd([(0,t.Event)()],n.prototype,"textSearchHighlight",void 0),Bd([(0,t.Event)()],n.prototype,"ajaxRequestInitiate",void 0),Bd([(0,t.Event)()],n.prototype,"pageRenderInitiate",void 0),Bd([(0,t.Event)()],n.prototype,"commentAdd",void 0),Bd([(0,t.Event)()],n.prototype,"commentEdit",void 0),Bd([(0,t.Event)()],n.prototype,"commentDelete",void 0),Bd([(0,t.Event)()],n.prototype,"commentSelect",void 0),Bd([(0,t.Event)()],n.prototype,"commentStatusChanged",void 0),Bd([(0,t.Event)()],n.prototype,"beforeAddFreeText",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldFocusOut",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldAdd",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldRemove",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldPropertiesChange",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldMouseLeave",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldMouseover",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldMove",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldResize",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldSelect",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldUnselect",void 0),Bd([(0,t.Event)()],n.prototype,"formFieldDoubleClick",void 0),Bd([(0,t.Event)()],n.prototype,"customContextMenuSelect",void 0),Bd([(0,t.Event)()],n.prototype,"customContextMenuBeforeOpen",void 0),Bd([(0,t.Event)()],n.prototype,"keyboardCustomCommands",void 0),Bd([(0,t.Event)()],n.prototype,"pageOrganizerSaveAs",void 0),Bd([(0,t.Collection)([],s)],n.prototype,"annotations",void 0),Bd([(0,t.Collection)([],l)],n.prototype,"formFields",void 0),Bd([(0,t.Property)()],n.prototype,"drawingObject",void 0),n=Bd([t.NotifyPropertyChanges],n)}(t.Component),xh=f(90),_h=function(){function e(e,t){var i=this;this.isKeyboardNavigation=!1,this.childNavigateCount=0,this.bookmarkClick=function(e){if(e.event.target.classList.contains("e-icons"))i.childNavigateCount++;else{var t=e.data.Id;i.childNavigateCount=0,i.pdfViewerBase.navigationPane.goBackToToolbar();var n=i.bookmarkList.getSelectedItems();i.navigateToBookmark(t,e.text,n.data.FileName)}return!1},this.nodeClick=function(e){i.setHeight(e.node);var t=i.treeObj.getTreeData(e.node),n=Number(t[0].Id);if(i.navigateToBookmark(n,e.node.textContent,t[0].FileName),i.pdfViewer.annotationModule&&i.pdfViewer.annotationModule.inkAnnotationModule){var o=parseInt(i.pdfViewer.annotationModule.inkAnnotationModule.currentPageNumber,10);i.pdfViewer.annotationModule.inkAnnotationModule.drawInkAnnotation(o)}return!1},this.bookmarkKeypress=function(e){!e.event||"mouse"===e.event.pointerType||"touch"===e.event.pointerType||"Enter"!==e.event.key&&" "!==e.event.key||(i.isKeyboardNavigation=!0,i.nodeClick(e),i.isKeyboardNavigation=!1)},this.bookmarkPanelBeforeOpen=function(e){if(i.pdfViewer.enableBookmarkStyles)for(var t=0;t<i.bookmarkStyles.length;t++)if(e.text.trim()===i.bookmarkStyles[parseInt(t.toString(),10)].Text.trim()){var n=e.node.lastElementChild;if(n){for(var o=i.bookmarkStyles[parseInt(t.toString(),10)].FontStyle.split(","),r=0;r<o.length;r++)switch(o[parseInt(r.toString(),10)].trim()){case"Italic":n.style.fontStyle="italic";break;case"Bold":n.style.fontWeight="Bold"}var a=n.getElementsByClassName("e-pv-bookmark-title")[0];a?a.style.color=i.bookmarkStyles[parseInt(t.toString(),10)].Color:n.children[0].style.color=i.bookmarkStyles[parseInt(t.toString(),10)].Color}break}},this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.openBookmarkPane=function(){this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.openBookmarkcontentInitially()},e.prototype.closeBookmarkPane=function(){this.pdfViewerBase.navigationPane&&this.pdfViewerBase.navigationPane.closeBookmarkPane()},e.prototype.createRequestForBookmarks=function(){var e=this,t={hashId:this.pdfViewerBase.hashId,action:"Bookmarks",elementId:this.pdfViewer.element.id,uniqueId:this.pdfViewerBase.documentId};if(this.pdfViewerBase.jsonDocumentId&&(t.documentId=this.pdfViewerBase.jsonDocumentId),this.pdfViewer.enableBookmarkStyles&&(t.bookmarkStyles=this.pdfViewer.enableBookmarkStyles),this.bookmarkRequestHandler=new hd(this.pdfViewer),this.bookmarkRequestHandler.url=e.pdfViewer.serviceUrl+"/Bookmarks",this.bookmarkRequestHandler.responseType="json",this.pdfViewerBase.clientSideRendering){var i=this.pdfViewer.pdfRendererModule.getBookmarks(t);this.renderBookmarksOnSuccess(i,e)}else this.pdfViewerBase.requestCollection.push(this.bookmarkRequestHandler),this.bookmarkRequestHandler.send(t),this.bookmarkRequestHandler.onSuccess=function(t){e.pdfViewerBase.navigationPane&&e.pdfViewerBase.navigationPane.disableBookmarkButton();var i=t.data;e.pdfViewerBase.checkRedirection(i)||e.renderBookmarksOnSuccess(i,e)},this.bookmarkRequestHandler.onFailure=function(t){e.pdfViewer.fireAjaxRequestFailed(t.status,t.statusText,"Bookmarks")},this.bookmarkRequestHandler.onError=function(t){e.pdfViewerBase.openNotificationPopup(),e.pdfViewer.fireAjaxRequestFailed(t.status,t.statusText,"Bookmarks")}},e.prototype.renderBookmarksOnSuccess=function(e,i){if(e){if("object"!=typeof e)try{e=JSON.parse(e)}catch(t){i.pdfViewerBase.onControlError(500,e,"Bookmarks"),e=null}if(e&&e.uniqueId===i.pdfViewerBase.documentId&&(i.pdfViewer.fireAjaxRequestSuccess("Bookmarks",e),i.bookmarks={bookMark:e.Bookmarks},i.bookmarkStyles=e.Bookmarkstyles,i.bookmarksDestination={bookMarkDestination:e.BookmarksDestination},(0,t.isBlazor)())){var n={bookmarks:i.bookmarks,bookmarksDestination:i.bookmarksDestination};i.pdfViewer&&i.pdfViewer._dotnetInstance&&i.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateBookmarkCollection",n)}}i.pdfViewerBase.navigationPane&&(null==i.bookmarks?(i.pdfViewerBase.navigationPane.disableBookmarkButton(),(0,t.isBlazor)()&&i.pdfViewer._dotnetInstance&&i.pdfViewer._dotnetInstance.invokeMethodAsync("UpdateBookmarkCollection",null)):(i.pdfViewerBase.navigationPane.enableBookmarkButton(),i.isBookmarkViewDiv=!1,i.pdfViewer.isBookmarkPanelOpen&&i.pdfViewerBase.navigationPane.openBookmarkcontentInitially()))},e.prototype.renderBookmarkcontent=function(){var e=this;if(!this.isBookmarkViewDiv){var i=(0,t.isBlazor)();this.bookmarkView=i?this.pdfViewer.element.querySelector(".e-pv-bookmark-view"):(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_bookmark_view",className:"e-pv-bookmark-view"}),this.pdfViewerBase.navigationPane.sideBarContent.appendChild(this.bookmarkView);var n=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_bookmark_iconview",className:"e-pv-bookmark-icon-view"});if(this.pdfViewer.enableRtl){o=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_bookmark_icon",className:"e-pv-bookmark-icon e-pv-icon e-right"});n.appendChild(o)}else{var o=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_bookmark_icon",className:"e-pv-bookmark-icon e-pv-icon"});n.appendChild(o)}var r=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_bookmark_Title",className:"e-pv-bookmark-title"});this.pdfViewer.enableRtl&&(r.style.paddingRight="26px"),r.innerText="${Title}",n.appendChild(r),i||(this.treeObj=new ai.TreeView({fields:{dataSource:this.bookmarks.bookMark,id:"Id",text:"Title",child:"Child",hasChildren:"HasChild"},nodeTemplate:(0,t.initializeCSPTemplate)((function(e){return n.outerHTML.replace("${Title}",e.Title)})),nodeClicked:this.nodeClick.bind(this),keyPress:this.bookmarkKeypress.bind(this),drawNode:this.bookmarkPanelBeforeOpen.bind(this)}),this.treeObj.isStringTemplate=!0,this.pdfViewer.enableRtl&&(this.treeObj.enableRtl=!0),this.treeObj.appendTo(this.bookmarkView));for(var a=["mouseover","keydown"],s=0;s<a.length;s++)this.bookmarkView.addEventListener(a[parseInt(s.toString(),10)],(function(t){e.setHeight(t.target)}));this.isBookmarkViewDiv=!0}this.bookmarkView.style.display="block"},e.prototype.renderBookmarkContentMobile=function(){null!=this.bookmarkView&&this.bookmarkView.remove(),this.bookmarkView=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_bookmark_view",className:"e-pv-bookmark-view"}),this.pdfViewerBase.getElement("_bookmarks_container").appendChild(this.bookmarkView),this.bookmarkList=new xh.ListView({dataSource:this.bookmarks.bookMark,fields:{id:"Id",text:"Title",child:"Child"},showHeader:!1,select:this.bookmarkClick.bind(this)}),this.bookmarkList.isStringTemplate=!0,this.pdfViewer.enableRtl&&(this.bookmarkList.enableRtl=!0),this.bookmarkList.appendTo(this.bookmarkView)},e.prototype.setHeight=function(e){this.treeObj&&this.treeObj.fullRowSelect&&e.classList&&(e.classList.contains("e-treeview")&&e.classList.contains(".e-active")?e=e.querySelector(".e-active").querySelector(".e-fullrow"):e.classList.contains("e-treeview")||e.classList.contains("e-list-parent")?e=e.querySelector(".e-fullrow"):"e-fullrow"!==e.classList.value&&(e.closest&&e.closest(".e-list-item")?e=e.closest(".e-list-item").querySelector(".e-fullrow"):e.classList.contains("e-list-item")?e=e.querySelector(".e-fullrow"):e.classList.contains("e-icons")&&e.classList.contains("interaction")&&e.parentElement.parentElement.classList.contains("e-list-item")&&(e=e.parentElement.parentElement.querySelector(".e-fullrow"))),e.nextElementSibling&&(e.style.height=e.nextElementSibling.offsetHeight+"px"))},e.prototype.setBookmarkContentHeight=function(){if(this.treeObj){var e=this.treeObj.element;this.treeObj.fullRowSelect&&(e.classList.contains("e-treeview")&&e.classList.contains(".e-active")?e=e.querySelector(".e-active").querySelector(".e-fullrow"):e.classList.contains("e-treeview")&&(e=e.querySelector(".e-fullrow")),e.nextElementSibling&&(e.style.height=e.nextElementSibling.offsetHeight+"px"))}},e.prototype.navigateToBookmark=function(e,t,i){var n=this.bookmarksDestination.bookMarkDestination[parseInt(e.toString(),10)].PageIndex,o=this.bookmarksDestination.bookMarkDestination[parseInt(e.toString(),10)].Y;-1!==n&&this.goToBookmark(n,o),this.pdfViewer.fireBookmarkClick(-1!==n?n+1:n,o,t,i)},e.prototype.getBookmarks=function(){if(this.bookmarks&&this.bookmarksDestination)return{bookmarks:this.bookmarks,bookmarksDestination:this.bookmarksDestination}},e.prototype.goToBookmark=function(e,i){var n=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height,o=(0===i?this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].top*this.pdfViewerBase.getZoomFactor():this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].top*this.pdfViewerBase.getZoomFactor()+(n-i)*this.pdfViewerBase.getZoomFactor()).toString();return this.pdfViewerBase.viewerContainer.scrollTop=parseInt(o,10),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.pdfViewerBase.mobileScrollerContainer.style.display="",this.pdfViewerBase.updateMobileScrollerPosition()),this.isKeyboardNavigation||this.pdfViewerBase.focusViewerContainer(),e>0&&e<=this.pdfViewerBase.pageCount&&this.pdfViewerBase.currentPageNumber!==e+1&&this.pdfViewerBase.updateScrollTop(e,!1),this.isKeyboardNavigation=!1,!1},e.prototype.clear=function(){if(this.pdfViewerBase.navigationPane&&(this.pdfViewerBase.navigationPane.disableBookmarkButton(),this.pdfViewerBase.navigationPane.updateViewerContainerOnClose()),this.bookmarks&&(this.bookmarks.bookMark=[],this.bookmarks=null),this.bookmarksDestination&&(this.bookmarksDestination.bookMarkDestination=[]),null!=this.bookmarkView&&!(0,t.isBlazor)())for(null!==this.bookmarkView.parentElement&&this.bookmarkView.parentElement.removeChild(this.bookmarkView);this.bookmarkView.hasChildNodes();)this.bookmarkView.removeChild(this.bookmarkView.lastChild);this.bookmarkRequestHandler&&this.bookmarkRequestHandler.clear()},e.prototype.destroy=function(){this.clear()},e.prototype.getModuleName=function(){return"BookmarkView"},e}(),Dh=function(){function e(e,t){var i=this;this.isTextSelection=!1,this.selectionStartPage=null,this.isBackwardPropagatedSelection=!1,this.contextMenuHeight=144,this.backwardStart=0,this.selectionRangeArray=[],this.selectionAnchorTouch=null,this.selectionFocusTouch=null,this.scrollMoveTimer=0,this.isMouseLeaveSelection=!1,this.isTouchSelection=!1,this.previousScrollDifference=0,this.topStoreLeft=null,this.topStoreRight=null,this.isTextSearched=!1,this.isSelectionStartTriggered=!1,this.allTextContent="",this.onLeftTouchSelectElementTouchStart=function(e){i.initiateSelectionByTouch()},this.onRightTouchSelectElementTouchStart=function(e){i.initiateSelectionByTouch()},this.onLeftTouchSelectElementTouchEnd=function(e){i.terminateSelectionByTouch(e)},this.onRightTouchSelectElementTouchEnd=function(e){i.terminateSelectionByTouch(e)},this.onLeftTouchSelectElementTouchMove=function(e){var t;e.preventDefault(),e.target.style.zIndex="0";var n=i.dropDivElementRight,o=i.isTouchedWithinContainer(e);if(n&&o){var r=n.getBoundingClientRect(),a=e.changedTouches[0].clientX,s=e.changedTouches[0].clientY;if(e.target.style.zIndex="1000",t=i.getNodeElement(undefined,a,s,e,t)){var l=Math.sqrt((s-r.top)*(s-r.top)+(a-r.left)*(a-r.left)),d=i.isCloserTouchScroll(l),h=!1,A=i.pdfViewerBase.getZoomFactor(),p=Math.abs(s-r.top),c=A>1?15:A>.7?10:A>.5?8:4;if(parseInt(s.toString(),10)<=parseInt(r.top.toString(),10)&&parseInt(p.toString(),10)>=c||parseInt(a.toString(),10)<=parseInt(r.left.toString(),10)&&parseInt(p.toString(),10)<=c?(i.dropElementLeft.style.transform="rotate(0deg)",i.dropElementRight.style.transform="rotate(-90deg)",h=i.selectTextByTouch(t.parentElement,a,s,!1,"left",d)):(i.dropElementLeft.style.transform="rotate(-90deg)",i.dropElementRight.style.transform="rotate(0deg)",h=i.selectTextByTouch(t.parentElement,a,s,!0,"left",d)),h){var g=i.dropDivElementLeft.getBoundingClientRect(),u=i.pdfViewerBase.pageSize[i.pdfViewerBase.currentPageNumber-1].top,f=i.getClientValueTop(s,i.pdfViewerBase.currentPageNumber-1),m=a-i.pdfViewerBase.getElement("_pageDiv_"+(i.pdfViewerBase.currentPageNumber-1)).getBoundingClientRect().left;i.dropDivElementLeft.style.top=u*i.pdfViewerBase.getZoomFactor()+f+"px",i.topStoreLeft={pageTop:u,topClientValue:i.getMagnifiedValue(f),pageNumber:i.pdfViewerBase.currentPageNumber-1,left:i.getMagnifiedValue(m),isHeightNeeded:!1},i.dropDivElementLeft.style.left=a-i.pdfViewerBase.viewerContainer.getBoundingClientRect().left-g.width/2+i.pdfViewerBase.viewerContainer.scrollLeft+"px",i.previousScrollDifference=l}}}},this.onRightTouchSelectElementTouchMove=function(e){var t;e.preventDefault(),e.target.style.zIndex="0";var n=i.dropDivElementLeft,o=i.isTouchedWithinContainer(e);if(n&&o){var r=n.getBoundingClientRect(),a=e.changedTouches[0].clientX,s=e.changedTouches[0].clientY;if(e.target.style.zIndex="1000",t=i.getNodeElement(undefined,a,s,e,t)){var l=Math.sqrt((s-r.top)*(s-r.top)+(a-r.left)*(a-r.left)),d=i.isCloserTouchScroll(l),h=!1,A=i.pdfViewerBase.getZoomFactor(),p=Math.abs(s-r.top),c=A>1?25*A:A>.7?15:A>.5?8:7;if(parseInt(s.toString(),10)>=parseInt(r.top.toString(),10)&&parseInt(p.toString(),10)>=c||parseInt(p.toString(),10)<=c&&parseInt(a.toString(),10)>=parseInt(r.left.toString(),10)?(i.dropElementRight.style.transform="rotate(-90deg)",i.dropElementLeft.style.transform="rotate(0deg)",h=i.selectTextByTouch(t.parentElement,a,s,!0,"right",d)):(i.dropElementRight.style.transform="rotate(0deg)",i.dropElementLeft.style.transform="rotate(-90deg)",h=i.selectTextByTouch(t.parentElement,a,s,!1,"right",d)),h){var g=i.pdfViewerBase.pageSize[i.pdfViewerBase.currentPageNumber-1].top,u=i.getClientValueTop(s,i.pdfViewerBase.currentPageNumber-1),f=i.dropDivElementRight.getBoundingClientRect();i.dropDivElementRight.style.top=g*i.pdfViewerBase.getZoomFactor()+u+"px";var m=a-i.pdfViewerBase.getElement("_pageDiv_"+(i.pdfViewerBase.currentPageNumber-1)).getBoundingClientRect().left;i.topStoreRight={pageTop:g,topClientValue:i.getMagnifiedValue(u),pageNumber:i.pdfViewerBase.currentPageNumber-1,left:i.getMagnifiedValue(m),isHeightNeeded:!1},i.dropDivElementRight.style.left=a-i.pdfViewerBase.viewerContainer.getBoundingClientRect().left-f.width/2+i.pdfViewerBase.viewerContainer.scrollLeft+"px",i.previousScrollDifference=l}}}},this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.textSelectionOnMouseMove=function(e,t,i,n){var o=e;if(this.isTextSearched=!0,o.nodeType===o.TEXT_NODE){this.isSelectionStartTriggered||this.pdfViewerBase.getTextMarkupAnnotationMode()||(this.pdfViewer.fireTextSelectionStart(this.pdfViewerBase.currentPageNumber),this.isSelectionStartTriggered=!0),this.isBackwardPropagatedSelection=!1;var r=o.ownerDocument.createRange(),a=window.getSelection();if(null!==a.anchorNode){var s=a.anchorNode.compareDocumentPosition(a.focusNode);(!s&&a.anchorOffset>a.focusOffset||s===Node.DOCUMENT_POSITION_PRECEDING)&&(this.isBackwardPropagatedSelection=!0)}r.selectNodeContents(o);for(var l=0,d=r.endOffset;l<d;){r.setStart(o,l),r.setEnd(o,l+1);var h=(m=r.getBoundingClientRect()).right;if(n&&(h=parseInt(m.right.toString(),10)),m.left<=t&&h>=t&&parseInt(m.top.toString(),10)<=i&&m.bottom>=i)null!==a.anchorNode&&a.anchorNode.parentNode.classList.contains("e-pv-text")&&(a.anchorOffset>l?0!==this.backwardStart?r.setStart(a.anchorNode,this.backwardStart):r.setStart(a.anchorNode,a.anchorOffset+1):r.setStart(a.anchorNode,a.anchorOffset)),a.removeAllRanges(),a.addRange(r),this.isTextSelection||(this.selectionStartPage=this.pdfViewerBase.currentPageNumber-1),this.isTextSelection=!0,!!document.documentMode||(this.isBackwardPropagatedSelection||r.endOffset>l?(this.backwardStart!==r.startOffset&&r.startOffset>=l&&(this.backwardStart=r.endOffset),0===l&&1!==r.endOffset?a.extend(o,l):a.extend(o,l+1)):n?a.extend(o,l):a.extend(o,l+1)),r.detach();l+=1}var A=this.pdfViewer.annotationModule;if(A&&A.textMarkupAnnotationModule&&A.textMarkupAnnotationModule.isEnableTextMarkupResizer(A.textMarkupAnnotationModule.currentTextMarkupAddMode)){var p=document.getElementById(this.pdfViewer.element.id+"_droplet_left");if(this.pdfViewerBase.isSelection&&a&&a.rangeCount>0){var c=a.getRangeAt(0).getBoundingClientRect(),g=c.left,u=c.top;this.pdfViewer.annotation.textMarkupAnnotationModule.updateLeftposition(g,u),this.pdfViewerBase.isSelection=!1}else p&&"none"===p.style.display&&this.pdfViewer.annotation.textMarkupAnnotationModule.updateLeftposition(t,i);this.pdfViewer.annotation.textMarkupAnnotationModule.updatePosition(t,i)}}else for(var f=0;f<o.childNodes.length;f++){var m;if(o.childNodes[parseInt(f.toString(),10)].nodeType===o.TEXT_NODE)(m=(r=this.getSelectionRange(f,o)).getBoundingClientRect()).left<=t&&m.right>=parseInt(t.toString(),10)&&parseInt(m.top.toString(),10)<=i&&m.bottom>=i?(r.detach(),this.textSelectionOnMouseMove(o.childNodes[parseInt(f.toString(),10)],t,i,n)):r.detach()}},e.prototype.textSelectionOnDrag=function(e,t,i,n){var o=e;if(this.isTextSearched=!0,o.nodeType===o.TEXT_NODE){this.isBackwardPropagatedSelection=!1;var r=o.ownerDocument.createRange(),a=window.getSelection();if(null!==a.anchorNode){var s=a.anchorNode.compareDocumentPosition(a.focusNode);(!s&&a.anchorOffset>a.focusOffset||s===Node.DOCUMENT_POSITION_PRECEDING)&&(this.isBackwardPropagatedSelection=!0)}r.selectNodeContents(o);for(var l=0,d=r.endOffset;l<d;){if(r.setStart(o,l),r.setEnd(o,l+1),(g=r.getBoundingClientRect()).left<=t&&g.right>=t&&parseInt(g.top.toString(),10)<=i&&g.bottom>=i)return n?(null!==a.anchorNode&&a.anchorNode.parentNode.classList.contains("e-pv-text")&&r.setStart(a.anchorNode,a.anchorOffset),a.removeAllRanges(),a.addRange(r),a.extend(o,l)):a.focusNode&&(r.setEnd(a.focusNode,a.focusOffset),a.removeAllRanges(),a.addRange(r)),this.isTextSelection||(this.selectionStartPage=this.pdfViewerBase.currentPageNumber-1),this.isTextSelection=!0,r.detach(),!0;l+=1}if(this.pdfViewerBase.isSelection){var h=a.getRangeAt(0).getBoundingClientRect(),A=h.left,p=h.top;this.pdfViewer.annotation.textMarkupAnnotationModule.updateLeftposition(A,p),this.pdfViewerBase.isSelection=!1}this.pdfViewer.annotation.textMarkupAnnotationModule.updatePosition(t,i)}else for(var c=0;c<o.childNodes.length;c++){var g;if(o.childNodes[parseInt(c.toString(),10)].nodeType===o.TEXT_NODE)(g=(r=this.getSelectionRange(c,o)).getBoundingClientRect()).left<=t&&g.right>=t&&parseInt(g.top.toString(),10)<=i&&g.bottom>=i?(r.detach(),this.textSelectionOnDrag(o.childNodes[parseInt(c.toString(),10)],t,i,n)):r.detach()}return null},e.prototype.selectTextRegion=function(e,t){for(var i=null,n=e-1,o=0;o<t.length;o++){var r=t[parseInt(o.toString(),10)],a=(r.left?r.left:r.Left)*this.pdfViewerBase.getZoomFactor(),s=(r.top?r.top:r.Top)*this.pdfViewerBase.getZoomFactor(),l=(r.width?r.width:r.Width)*this.pdfViewerBase.getZoomFactor(),d=this.pdfViewerBase.getElement("_textLayer_"+n);if(d){for(var h=d.childNodes,A=0;A<h.length;A++)if(h[parseInt(A.toString(),10)]){var p=h[parseInt(A.toString(),10)].getBoundingClientRect(),c=this.getClientValueTop(p.top,n),g=p.left-this.pdfViewerBase.getElement("_pageDiv_"+n).getBoundingClientRect().left,u=g+p.width,f=parseInt(h[parseInt(A.toString(),10)].style.left,10),m=parseInt(h[parseInt(A.toString(),10)].style.top,10),w=this.checkLeftBounds(g,f,u,a),y=this.checkTopBounds(c,m,s);if(w&&y){i=h[parseInt(A.toString(),10)];break}}if(null!=i){var S=this.pdfViewerBase.getElement("_textLayer_"+n).getBoundingClientRect();this.textSelectionOnMouseMove(i,a+S.left,s+S.top,!1),t.length-1===o&&this.textSelectionOnMouseMove(i,a+S.left+l,s+S.top,!1)}}}},e.prototype.checkLeftBounds=function(e,t,i,n){var o=!1;return(e===parseInt(n.toString(),10)||parseInt(e.toString(),10)===parseInt(n.toString(),10)||e+1===parseInt(n.toString(),10)||e-1===parseInt(n.toString(),10)||t===parseInt(n.toString(),10)||t===n||i>=n&&e<=n)&&(o=!0),o},e.prototype.checkTopBounds=function(e,t,i){var n=!1;return e!==parseInt(i.toString(),10)&&parseInt(e.toString(),10)!==parseInt(i.toString(),10)&&parseInt((e+1).toString(),10)!==parseInt(i.toString(),10)&&parseInt((e-1).toString(),10)!==parseInt(i.toString(),10)&&t!==parseInt(i.toString(),10)&&t!==i||(n=!0),n},e.prototype.textSelectionOnMouseLeave=function(e){var t=this;e.preventDefault();var i=this.pdfViewerBase.viewerContainer.offsetTop;this.pdfViewer.magnificationModule&&"fitToPage"===this.pdfViewer.magnificationModule.fitType||(e.clientY>i?this.scrollMoveTimer=setInterval((function(){t.scrollForwardOnSelection()}),500):this.scrollMoveTimer=setInterval((function(){t.scrollBackwardOnSelection()}),500))},e.prototype.scrollForwardOnSelection=function(){this.pdfViewerBase.isSignInitialClick||(this.isMouseLeaveSelection=!0,this.pdfViewerBase.viewerContainer.scrollTop=this.pdfViewerBase.viewerContainer.scrollTop+200,this.stichSelectionOnScroll(this.pdfViewerBase.currentPageNumber-1))},e.prototype.scrollBackwardOnSelection=function(){this.isMouseLeaveSelection=!0,this.pdfViewerBase.viewerContainer.scrollTop=this.pdfViewerBase.viewerContainer.scrollTop-200,this.stichSelectionOnScroll(this.pdfViewerBase.currentPageNumber-1)},e.prototype.clear=function(){this.scrollMoveTimer&&(this.isMouseLeaveSelection=!1,clearInterval(this.scrollMoveTimer))},e.prototype.selectAWord=function(e,i,n,o){var r=0;if(t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(r=3),e.nodeType===e.TEXT_NODE){var a=window.getSelection();(f=e.ownerDocument.createRange()).selectNodeContents(e);for(var s=0,l=f.endOffset;s<l;){if(f.setStart(e,s),f.setEnd(e,s+1),(m=f.getBoundingClientRect()).left<=i+r&&m.right>=i-r&&m.top<=n+r&&m.bottom>=n-r){for(var d=e.textContent,h=[],A=void 0,p=void 0,c=0;c<d.length;c++)" "===d[parseInt(c.toString(),10)]&&h.push(c);for(var g=0;g<h.length;g++){if(s===h[parseInt(g.toString(),10)]&&(A=h[parseInt(g.toString(),10)],p=h[parseInt(g.toString(),10)]),h[0]>s){A=0,p=h[parseInt(g.toString(),10)];break}s>h[parseInt(g.toString(),10)]&&s<h[g+1]?(A=h[parseInt(g.toString(),10)],p=h[g+1]):s>h[parseInt(g.toString(),10)]&&(h[g+1]||(A=h[parseInt(g.toString(),10)]))}p||(p=d.length),0===A?f.setStart(e,A):f.setStart(e,A+1),f.setEnd(e,p),a.removeAllRanges(),a.addRange(f),this.isTextSelection=!0;var u=(0,t.isNullOrUndefined)(f.startContainer.parentElement)?f.startContainer.parentNode:f.startContainer.parentElement;this.selectionStartPage=parseInt(u.id.split("_text_")[1],10),o&&(this.selectionAnchorTouch={anchorNode:a.anchorNode.parentElement.id,anchorOffset:a.anchorOffset},this.selectionFocusTouch={focusNode:a.focusNode.parentElement.id,focusOffset:a.focusOffset}),t.Browser.isIE||f.detach();break}s+=1}}else for(c=0;c<e.childNodes.length;c++){var f,m;(m=(f=this.getSelectionRange(c,e)).getBoundingClientRect()).left<=i+r&&m.right>=i-r&&m.top<=n+r&&m.bottom>=n-r?(f.detach(),this.selectAWord(e.childNodes[parseInt(c.toString(),10)],i,n,o)):f.detach()}},e.prototype.getSelectionRange=function(e,t){var i=t.childNodes[parseInt(e.toString(),10)].ownerDocument.createRange();return i.selectNodeContents(t.childNodes[parseInt(e.toString(),10)]),i},e.prototype.selectEntireLine=function(e){var t=[],i=e.target,n=i.getBoundingClientRect(),o=parseInt((n.top+n.height/2).toString(),10),r=parseInt(e.target.id.split("_text_")[1],10),a=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+"_text_"+r+'"]');if(i.classList.contains("e-pv-text")){this.pdfViewer.fireTextSelectionStart(r+1);for(var s=0;s<a.length;s++){var l=a[parseInt(s.toString(),10)].getBoundingClientRect(),d=parseInt(l.top.toString(),10),h=parseInt(l.bottom.toString(),10);if(d<=o&&h>o&&n.bottom+10>h){var A=a[parseInt(s.toString(),10)].id;""!==A&&t.push(A)}}var p=window.getSelection();p.removeAllRanges();var c=document.createRange(),g=t.length-1,u=document.getElementById(t[0]),f=document.getElementById(t[parseInt(g.toString(),10)]);f.childNodes.length>0?(c.setStart(u.childNodes[0],0),c.setEnd(f.childNodes[0],f.textContent.length)):(c.setStart(u.childNodes[0],0),c.setEnd(f,1)),this.selectionStartPage=parseInt(c.startContainer.parentElement.id.split("_text_")[1],10),p.addRange(c),this.isTextSelection=!0,null!=p&&"MouseUp"===this.pdfViewer.contextMenuSettings.contextMenuAction&&this.calculateContextMenuPosition(e.clientY,e.clientY)}},e.prototype.enableTextSelectionMode=function(){this.pdfViewerBase.isTextSelectionDisabled=!1,(0,t.isNullOrUndefined)(this.pdfViewerBase.viewerContainer)||(this.pdfViewerBase.viewerContainer.classList.remove("e-disable-text-selection"),this.pdfViewerBase.viewerContainer.classList.add("e-enable-text-selection"),this.pdfViewerBase.viewerContainer.addEventListener("selectstart",(function(e){return e.preventDefault(),!0})))},e.prototype.clearTextSelection=function(){if(this.isTextSelection){if(this.pdfViewerBase.textLayer.clearDivSelection(),window.getSelection&&window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges(),this.pdfViewer.linkAnnotationModule){var e=this.pdfViewerBase.currentPageNumber-3;e=e<0?0:e;var t=this.pdfViewer.currentPageNumber+1;t=t<this.pdfViewerBase.pageCount-1?t:this.pdfViewerBase.pageCount-1;for(var i=e;i<=t;i++)this.pdfViewer.linkAnnotationModule.modifyZindexForTextSelection(i,!1)}this.pdfViewer.annotation&&this.pdfViewer.annotation.textMarkupAnnotationModule&&this.pdfViewer.annotation.textMarkupAnnotationModule.showHideDropletDiv(!0),this.selectionRangeArray=[],this.isTextSelection=!1,this.isTouchSelection=!1,this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.searchAfterSelection(),this.pdfViewerBase.contextMenuModule.close(),this.removeTouchElements()}},e.prototype.removeTouchElements=function(){this.dropDivElementLeft&&(this.dropDivElementLeft.parentElement.removeChild(this.dropDivElementLeft),this.dropDivElementLeft=null,this.dropElementLeft.style.transform="rotate(0deg)"),this.dropDivElementRight&&(this.dropDivElementRight.parentElement.removeChild(this.dropDivElementRight),this.dropDivElementRight=null,this.dropElementRight.style.transform="rotate(-90deg)")},e.prototype.resizeTouchElements=function(){var e=this.pdfViewerBase.viewerContainer.getBoundingClientRect().left;if(this.dropDivElementLeft){var t=this.dropDivElementLeft.getBoundingClientRect(),i=0,n=this.pdfViewerBase.getElement("_pageDiv_"+this.topStoreLeft.pageNumber).getBoundingClientRect();this.dropDivElementLeft.style.left=parseFloat(this.topStoreLeft.left.toString())*this.pdfViewerBase.getZoomFactor()+n.left-e-t.width/2+"px",this.topStoreLeft.isHeightNeeded&&(i=t.height/2*this.pdfViewerBase.getZoomFactor()),this.dropDivElementLeft.style.top=parseFloat(this.topStoreLeft.pageTop.toString())*this.pdfViewerBase.getZoomFactor()+parseFloat(this.topStoreLeft.topClientValue.toString())*this.pdfViewerBase.getZoomFactor()+i+"px"}if(this.dropDivElementRight){t=this.dropDivElementRight.getBoundingClientRect(),i=0;var o=this.pdfViewerBase.getElement("_pageDiv_"+this.topStoreRight.pageNumber).getBoundingClientRect();this.dropDivElementRight.style.left=parseFloat(this.topStoreRight.left.toString())*this.pdfViewerBase.getZoomFactor()+o.left-e-t.width/2+"px",this.topStoreRight.isHeightNeeded&&(i=t.height/2*this.pdfViewerBase.getZoomFactor()),this.dropDivElementRight.style.top=parseFloat(this.topStoreRight.pageTop.toString())*this.pdfViewerBase.getZoomFactor()+parseFloat(this.topStoreRight.topClientValue.toString())*this.pdfViewerBase.getZoomFactor()+i+"px"}},e.prototype.textSelectionOnMouseup=function(e){if(this.clear(),null!==window.getSelection().anchorNode){if(this.isMouseLeaveSelection=!1,this.isSelectionStartTriggered=!1,this.maintainSelectionOnZoom(!0,!1),this.fireTextSelectEnd(),this.pdfViewerBase.textLayer.getTextSearchStatus()){this.pdfViewerBase.textLayer.clearDivSelection();for(var t=this.pdfViewer.textSearchModule.getIndexes(),i=parseFloat(t.lowerPageValue.toString()),n=parseFloat(t.higherPageValue.toString()),o=i;o<n;o++)this.applySelectionRangeOnScroll(o);this.pdfViewer.textSearchModule.searchAfterSelection()}else this.applySpanForSelection();this.pdfViewer.linkAnnotationModule&&this.pdfViewer.linkAnnotationModule.modifyZindexForTextSelection(this.pdfViewerBase.currentPageNumber-1,!1),this.isTextSearched&&"MouseUp"===this.pdfViewer.contextMenuSettings.contextMenuAction&&(this.calculateContextMenuPosition(e.clientY,e.clientX),this.isTextSearched=!1)}else this.pdfViewerBase.textLayer.clearDivSelection(),this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.searchAfterSelection(),this.pdfViewerBase.contextMenuModule.close(),this.removeTouchElements()},e.prototype.fireTextSelectEnd=function(){if(0!==this.selectionRangeArray.length){for(var e=0,t="",i=[],n=0;n<this.selectionRangeArray.length;n++){t+=this.selectionRangeArray[parseInt(n.toString(),10)].textContent;for(var o=0;o<this.selectionRangeArray[parseInt(n.toString(),10)].rectangleBounds.length;o++){var r=this.selectionRangeArray[parseInt(n.toString(),10)].rectangleBounds[parseInt(o.toString(),10)];i.push({left:r.left,right:r.right,top:r.top,bottom:r.bottom,width:r.width,height:r.height,pageIndex:this.selectionRangeArray[parseInt(n.toString(),10)].pageNumber+1})}this.selectionRangeArray[parseInt(n.toString(),10)].isBackward&&0===n?e=this.selectionRangeArray[parseInt(n.toString(),10)].pageNumber+1:this.selectionRangeArray[parseInt(n.toString(),10)].isBackward||n!==this.selectionRangeArray.length-1||(e=this.selectionRangeArray[parseInt(n.toString(),10)].pageNumber+1)}this.pdfViewer.fireTextSelectionEnd(e,t,i)}},e.prototype.maintainSelectionOnZoom=function(e,t){var i=window.getSelection();if("Range"===i.type||!i.type&&!i.isCollapsed){var n=this.pdfViewerBase.textLayer.isBackWardSelection(i);if(null!=i.anchorNode){var o=parseInt(this.getNodeElementFromNode(i.anchorNode).id.split("_text_")[1],10),r=parseInt(this.getNodeElementFromNode(i.focusNode).id.split("_text_")[1],10);if(this.isTouchSelection&&isNaN(r))if(i.focusNode===this.pdfViewerBase.pageContainer){var a=this.pdfViewerBase.pageContainer.lastChild;a.classList.contains("e-pv-touch-select-drop")?r=parseInt(a.previousSibling.previousSibling.id.split("_pageDiv_")[1],10):a.classList.contains("e-pv-page-div")&&(r=parseInt(a.id.split("_pageDiv_")[1],10))}if(n)for(s=o;s>=r;s--)this.maintainSelectionOnScroll(s,t);else for(var s=o;s<=r;s++)this.maintainSelectionOnScroll(s,t)}e||i.removeAllRanges()}},e.prototype.isSelectionAvailableOnScroll=function(e){for(var t=!1,i=this.selectionRangeArray,n=0;n<i.length;n++)if(null!==i[parseInt(n.toString(),10)]&&e===i[parseInt(n.toString(),10)].pageNumber){t=!0,this.isTouchSelection&&!this.pdfViewerBase.getMagnified()&&(t=!1);break}return t},e.prototype.applySelectionRangeOnScroll=function(e){this.isMouseLeaveSelection?this.applySelectionMouseScroll(e):this.applySelectionRange(e)},e.prototype.getSelectionRangeFromArray=function(e){for(var t=!1,i=null,n=this.selectionRangeArray,o=0;o<n.length;o++)if(null!==n[parseInt(o.toString(),10)]&&e===n[parseInt(o.toString(),10)].pageNumber){i=n[parseInt(o.toString(),10)],t=!0;break}return{isSelectionAvailable:t,selectionRange:i}},e.prototype.applySelectionRange=function(e){var t=this.getSelectionRangeFromArray(e),i=t.isSelectionAvailable,n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e);if(n&&i&&0!==n.childNodes.length){var o=t.selectionRange,r=void 0,a=void 0,s=void 0,l=void 0;if(o.isBackward){var d=parseInt(o.endNode.split("_text_")[1].split("_")[1],10),h=parseInt(o.startNode.split("_text_")[1].split("_")[1],10);d<h?(r=d,s=o.endOffset,l=o.startOffset,a=h):(r=h,s=o.endOffset,a=d,l=o.startOffset)}else r=parseInt(o.startNode.split("text_")[1].split("_")[1],10),a=parseInt(o.endNode.split("text_")[1].split("_")[1],10),s=o.startOffset,l=o.endOffset;window.getSelection().removeAllRanges(),this.pdfViewerBase.textLayer.applySpanForSelection(e,e,r,a,s,l),this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.searchAfterSelection()}},e.prototype.applySelectionMouseScroll=function(e){var t=this.getSelectionRangeFromArray(e);if(t.isSelectionAvailable){var i=t.selectionRange,n=window.getSelection(),o=document.getElementById(i.startNode).childNodes[0],r=document.getElementById(i.endNode).childNodes[0],a=document.createRange();if(null===n.anchorNode)i.isBackward?(a.setStart(r,i.endOffset),a.setEnd(o,i.startOffset)):(a.setStart(o,i.startOffset),a.setEnd(r,i.endOffset));else{var s=isNaN(parseInt(n.anchorNode.parentElement.id.split("_text_")[1],10))?parseInt(n.anchorNode.id.split("_pageDiv_")[1],10):parseInt(n.anchorNode.parentElement.id.split("_text_")[1],10);isNaN(s)&&(s=parseInt(n.anchorNode.id.split("_text_")[1],10));var l=isNaN(parseInt(n.focusNode.parentElement.id.split("_text_")[1],10))?parseInt(n.focusNode.id.split("_pageDiv_")[1],10):parseInt(n.focusNode.parentElement.id.split("_text_")[1],10),d=parseInt(i.startNode.split("_text_")[1],10);if(s===l&&s===d)i.isBackward?(a.setStart(r,i.endOffset),a.setEnd(o,i.startOffset)):(a.setStart(o,i.startOffset),a.setEnd(r,i.endOffset));else if(isNaN(s))isNaN(s)&&(i.isBackward?(a.setStart(r,i.endOffset),a.setEnd(o,i.startOffset)):(a.setStart(o,i.startOffset),a.setEnd(r,i.endOffset)));else if(isNaN(s)||i.isBackward){var h=this.pdfViewerBase.textLayer.isBackWardSelection(n);if(s>d&&d>l&&s!==l)h?n.extend(n.focusNode,n.focusOffset):(a.setStart(n.anchorNode,n.anchorOffset),a.setEnd(n.focusNode,n.focusOffset));else if(s<d&&d<l&&s!==l)h?n.extend(n.focusNode,n.focusOffset):(a.setStart(n.anchorNode,n.anchorOffset),a.setEnd(n.focusNode,n.focusOffset));else if(s<d)h?d!==this.selectionRangeArray[0].pageNumber?this.extendCurrentSelection(r.parentElement,i.endOffset,n,a):this.extendCurrentSelection(o.parentElement,i.startOffset,n,a):d!==this.selectionRangeArray[0].pageNumber?(a.setStart(n.anchorNode,n.anchorOffset),a.setEnd(r,i.endOffset)):(a.setStart(n.anchorNode,n.anchorOffset),a.setEnd(o,i.startOffset));else if(s===d)d===l?(a.setStart(o,i.startOffset),a.setEnd(o,i.startOffset),n.removeAllRanges(),n.addRange(a),a=document.createRange(),n.extend(r,i.endOffset)):h?this.extendCurrentSelection(r.parentElement,i.endOffset,n,a):(a.setStart(r,i.endOffset),a.setEnd(n.focusNode,n.focusOffset));else if(l===d)h?n.extend(n.focusNode,n.focusOffset):(a.setStart(n.anchorNode,n.anchorOffset),a.setEnd(n.focusNode,n.focusOffset));else if(s>d){var A=parseInt(i.startNode.split("_"+d+"_")[1],10),p=parseInt(i.endNode.split("_"+d+"_")[1],10);h?d!==this.selectionRangeArray[0].pageNumber?A<p?this.extendCurrentSelection(o.parentElement,i.startOffset,n,a):(a.setStart(r.parentElement,i.endOffset),a.setEnd(n.anchorNode,n.anchorOffset)):this.extendCurrentSelection(r.parentElement,i.endOffset,n,a):A<p?(a.setStart(o,i.startOffset),a.setEnd(n.focusNode,n.focusOffset)):(a.setStart(r,i.endOffset),a.setEnd(n.focusNode,n.focusOffset))}}else s<d&&d<l&&s!==l?(a.setStart(n.anchorNode,n.anchorOffset),a.setEnd(n.focusNode,n.focusOffset)):s<d?(a.setStart(n.anchorNode,n.anchorOffset),a.setEnd(r,i.endOffset)):(a.setStart(o,i.startOffset),a.setEnd(n.focusNode,n.focusOffset))}""!==a.toString()&&(n.removeAllRanges(),n.addRange(a))}},e.prototype.maintainSelectionOnScroll=function(e,t){var i=this.isSelectionAvailableOnScroll(e);this.isTextSelection&&!i&&this.maintainSelection(e,t)},e.prototype.maintainSelection=function(e,t){var i=window.getSelection();if(this.isTextSelection&&("Range"===i.type||!i.type&&!i.isCollapsed)){var n=parseInt(this.getNodeElementFromNode(i.anchorNode).id.split("_text_")[1],10),o=parseInt(this.getNodeElementFromNode(i.focusNode).id.split("_text_")[1],10);if(isNaN(o)&&null!==i.anchorNode)if(this.pdfViewerBase.textLayer.isBackWardSelection(i))o=parseInt(this.pdfViewerBase.pageContainer.firstChild.id.split("_pageDiv_")[1],10);else{var r=this.pdfViewerBase.pageContainer.lastChild;o=r.classList.contains("e-pv-touch-select-drop")?parseInt(r.previousSibling.previousSibling.id.split("_pageDiv_")[1],10):parseInt(r.id.split("_pageDiv_")[1],10)}var a=this.pdfViewerBase.textLayer.isBackWardSelection(i);if(this.isTouchSelection&&e>o&&e>n)return;if(n===o){var s=null,l=this.getSelectionBounds(i.getRangeAt(0),e),d=this.getSelectionRectangleBounds(i.getRangeAt(0),e),h=1===this.getNodeElementFromNode(i.anchorNode).childNodes.length?i.anchorOffset:this.getCorrectOffset(i.anchorNode,i.anchorOffset),A=1===this.getNodeElementFromNode(i.focusNode).childNodes.length?i.focusOffset:this.getCorrectOffset(i.focusNode,i.focusOffset);s={isBackward:a,startNode:this.getNodeElementFromNode(i.anchorNode).id,startOffset:h,endNode:this.getNodeElementFromNode(i.focusNode).id,endOffset:A,textContent:this.allTextContent,pageNumber:e,bound:l,rectangleBounds:d},this.pushSelectionRangeObject(s,e)}else{(s=this.createRangeObjectOnScroll(e,n,o))&&(this.pushSelectionRangeObject(s,e),t&&this.stichSelection(a,i,e))}}},e.prototype.getCorrectOffset=function(e,t){for(var i=0,n=this.getNodeElementFromNode(e),o=0;o<n.childNodes.length;o++){if(n.childNodes[parseInt(o.toString(),10)]===e){i+=t;break}i+=n.childNodes[parseInt(o.toString(),10)].textContent.length}return i},e.prototype.pushSelectionRangeObject=function(e,t){if(this.isTouchSelection){var i=this.selectionRangeArray.filter((function(e){return e.pageNumber===t}));if(i.length>0){var n=this.selectionRangeArray.indexOf(i[0]);return void this.selectionRangeArray.splice(n,1,e)}}var o=this.selectionRangeArray.filter((function(e){return e.pageNumber===t+1}));if(0===o.length)if(this.isTouchSelection&&0!==this.selectionRangeArray.length){var r=this.selectionRangeArray.filter((function(e){return e.pageNumber===t-1}));if(0!==r.length){var a=this.selectionRangeArray.indexOf(r[0]);this.selectionRangeArray.splice(a+1,0,e)}else{var s=this.selectionRangeArray[0];t<s.pageNumber?this.selectionRangeArray.splice(0,0,e):this.selectionRangeArray.push(e)}}else this.selectionRangeArray.push(e);else{var l=this.selectionRangeArray.indexOf(o[0]);this.selectionRangeArray.splice(l,0,e)}},e.prototype.extendCurrentSelection=function(e,t,i,n){var o=i.focusOffset,r=i.focusNode.parentElement.id,a=isNaN(parseInt(r.split("_text_")[1],10))?parseInt(i.focusNode.id.split("_pageDiv_")[1],10):parseInt(r.split("_text_")[1],10);isNaN(parseInt(r.split("_text_")[1],10))&&(r=this.pdfViewerBase.getElement("_textLayer_"+(a+1)).firstChild.id),n.setStart(e.childNodes[0],t),n.setEnd(e.childNodes[0],t),i.removeAllRanges(),i.addRange(n),i.extend(document.getElementById(r).childNodes[0],o)},e.prototype.stichSelection=function(e,t,i){var n,o=document.createRange();if(e)if(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(i-1))){(r=n.lastChild)||(r=(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(i-2))).lastChild),this.extendCurrentSelection(r,this.getTextLastLength(r),t,o)}else{var r=(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(i+1))).firstChild;this.extendCurrentSelection(r,0,t,o)}else if(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(i+1))){var a=n.firstChild;a||(a=(n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(i+2))).firstChild),o.setStart(a.childNodes[0],0),o.setEnd(t.focusNode,t.focusOffset),t.removeAllRanges(),t.addRange(o)}},e.prototype.textSelectionOnMouseWheel=function(e){this.isMouseLeaveSelection=!0,this.stichSelectionOnScroll(e)},e.prototype.stichSelectionOnScroll=function(e){var t=window.getSelection();if(this.isTextSelection){var i,n=parseInt(this.getNodeElementFromNode(t.anchorNode).id.split("_text_")[1],10),o=parseInt(this.getNodeElementFromNode(t.focusNode).id.split("_text_")[1],10),r=void 0;if(n!==e&&o!==e)if(this.pdfViewerBase.textLayer.isBackWardSelection(t)){if(r=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(e-1)))(i=r.firstChild)&&this.extendSelectionStich(i.childNodes[0],0,t)}else if(r=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(e-1)))if(i=r.lastChild)i.childNodes[0]?this.extendSelectionStich(i.childNodes[0],this.getTextLastLength(i),t):this.extendSelectionStich(i,this.getTextLastLength(i),t);else{var a=(r=this.pdfViewerBase.getElement("_textLayer_"+e)).firstChild;this.extendSelectionStich(a.childNodes[0],0,t)}this.maintainSelectionArray()}},e.prototype.extendSelectionStich=function(e,t,i){i.extend&&i.extend(e,t)},e.prototype.createRangeObjectOnScroll=function(e,t,i){var n=window.getSelection();if(null!==n.anchorNode){var o=this.pdfViewerBase.textLayer.isBackWardSelection(n),r=void 0,a=void 0,s=void 0,l=void 0,d=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e);if(d.childNodes){if(o)e===t?(r=this.getNodeElementFromNode(n.anchorNode),a=d.firstChild,s=this.getCorrectOffset(n.anchorNode,n.anchorOffset),l=0):e<t&&e>i?(r=d.firstChild,a=d.lastChild,s=0,l=this.getTextLastLength(a)):e===i&&(r=this.getNodeElementFromNode(n.focusNode),a=d.lastChild,s=this.getCorrectOffset(n.focusNode,n.focusOffset),l=this.getTextLastLength(a));else if(e===t)r=this.getNodeElementFromNode(n.anchorNode),a=d.lastChild,s=this.getCorrectOffset(n.anchorNode,n.anchorOffset),l=this.getTextLastLength(a);else if(e>t&&e<i)r=d.firstChild,a=d.lastChild,s=0,l=this.getTextLastLength(a);else if(e===i){r=d.firstChild,-1!==this.getNodeElementFromNode(n.focusNode).id.indexOf(i.toString())?(a=this.getNodeElementFromNode(n.focusNode),l=this.getCorrectOffset(n.focusNode,n.focusOffset)):(a=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+i).lastChild,l=this.getTextLastLength(a)),s=0}if(r&&a){var h=this.getSelectionRangeObject(r.id,s,a.id,l,e),A=this.getSelectionBounds(h,e),p=this.getSelectionRectangleBounds(h,e);return{isBackward:o,startNode:r.id,startOffset:s,endNode:a.id,endOffset:l,textContent:this.allTextContent,pageNumber:e,bound:A,rectangleBounds:p}}return null}}return null},e.prototype.getSelectionRangeObject=function(e,t,i,n,o){var r=document.getElementById(e),a=document.getElementById(i);r.childNodes[0]&&(r=r.childNodes[0]),a.childNodes[0]&&(a=a.childNodes[0]);var s=parseInt(e.split("_"+o+"_")[1],10),l=parseInt(i.split("_"+o+"_")[1],10),d=document.createRange();return s<=l?(d.setStart(r,t),d.setEnd(a,n)):(d.setStart(a,n),d.setEnd(r,t)),d},e.prototype.getSelectionBounds=function(e,t){var i=null;if(this.getNodeElementFromNode(e.startContainer)!==this.getNodeElementFromNode(e.endContainer)){var n=document.createRange(),o=this.createRangeForSelection(e.startContainer,e.endContainer,e.startOffset,e.endOffset,n);i=this.normalizeBounds(o.getBoundingClientRect(),t)}else i=this.normalizeBounds(e.getBoundingClientRect(),t);return i},e.prototype.getSelectionRectangleBounds=function(e,t){var i=[],n=this.getNodeElementFromNode(e.startContainer),o=this.getNodeElementFromNode(e.endContainer),r=null,a=[];if(this.allTextContent="",n!==o){for(var s=0,l=0,d=this.pdfViewerBase.textLayer.getPageIndex(e.startContainer),h=this.pdfViewerBase.textLayer.getTextIndex(e.startContainer,d),A=this.pdfViewerBase.textLayer.getPageIndex(e.endContainer),p=this.pdfViewerBase.textLayer.getTextIndex(e.endContainer,A),c=this.pdfViewerBase.getElement("_textLayer_"+A).childNodes,g=t===d?h:0;g<c.length;g++){var u=c[parseInt(g.toString(),10)];if(g>p)break;if(s=g===h?e.startOffset:0,l=g===p?e.endOffset:u.textContent.length,0!==s||0!==l){for(var f=document.createRange(),m=0;m<u.childNodes.length;m++){var w=u.childNodes[parseInt(m.toString(),10)];f.setStart(w,s),f.setEnd(w,l)}var y=void 0;if(this.pdfViewerBase.clientSideRendering){y=this.normalizeBounds(f.getBoundingClientRect(),t);var S=0;u&&""!==u.style.transform&&(S=u.style.transform.startsWith("rotate(90deg)")?90:u.style.transform.startsWith("rotate(180deg)")?180:u.style.transform.startsWith("rotate(-90deg)")||u.style.transform.startsWith("rotate(270deg)")?270:0),y.rotation=S}else y=this.normalizeBounds(f.getBoundingClientRect(),t);i.push(y);var C=f.toString();if(a.push(C),f.detach(),"\r\n"===C||" "===C){if(g===p+1)break}else if(g===p)break}}for(var B=0;B<a.length;B++){var I=a[parseInt(B.toString(),10)];(0!==B&&" "===I&&a[B-1].includes("\r\n")||B!==a.length-1&&" "===a[parseInt(B.toString(),10)]&&"\r\n"===a[B+1])&&(I=""),"\r\n"!==I.slice(I.length-2)||a.length,this.allTextContent+=I}}else{if(r=this.normalizeBounds(e.getBoundingClientRect(),t),this.pdfViewerBase.clientSideRendering){S=0;n&&""!==n.style.transform&&(S=n.style.transform.startsWith("rotate(90deg)")?90:n.style.transform.startsWith("rotate(180deg)")?180:n.style.transform.startsWith("rotate(-90deg)")||n.style.transform.startsWith("rotate(270deg)")?270:0),r.rotation=S}this.allTextContent=e.toString(),i.push(r)}return i},e.prototype.getAngle=function(e){var t=0;if(e)switch(e){case 0:t=0;break;case 1:t=90;break;case 2:t=180;break;case 3:t=270}return t},e.prototype.getTextId=function(e){var t=e.lastIndexOf("_"),i=e.substring(t+1,e.length);return parseInt(i,10)},e.prototype.normalizeBounds=function(e,t){var i=this.pdfViewerBase.getElement("_pageDiv_"+t);if(this.pdfViewerBase.isMixedSizeDocument){var n=this.pdfViewerBase.getElement("_textLayer_"+t);n&&(i=n)}var o=i.getBoundingClientRect();return{bottom:this.getMagnifiedValue(e.bottom-o.top),height:this.getMagnifiedValue(e.height),left:this.getMagnifiedValue(e.left-o.left),top:this.getMagnifiedValue(e.top-o.top),right:this.getMagnifiedValue(e.right-o.left),width:this.getMagnifiedValue(e.width)}},e.prototype.getMagnifiedValue=function(e){return e/this.pdfViewerBase.getZoomFactor()},e.prototype.getCurrentSelectionBounds=function(e){for(var t=null,i=this.selectionRangeArray,n=0;n<i.length;n++)null!==i[parseInt(n.toString(),10)]&&e===i[parseInt(n.toString(),10)].pageNumber&&(t=i[parseInt(n.toString(),10)].bound);return t},e.prototype.createRangeForSelection=function(e,t,i,n,o){return o.setStart(e,i),o.setEnd(t,n),o},e.prototype.maintainSelectionArray=function(){var e=this;if(0!==this.selectionRangeArray.length){var t=window.getSelection(),i=this.pdfViewerBase.textLayer.isBackWardSelection(t),n=isNaN(parseInt(this.getNodeElementFromNode(t.anchorNode).id.split("_text_")[1],10))?parseInt(t.anchorNode.id.split("_pageDiv_")[1],10):parseInt(this.getNodeElementFromNode(t.anchorNode).id.split("_text_")[1],10);isNaN(n)&&(n=parseInt(t.anchorNode.id.split("_text_")[1],10));var o=isNaN(parseInt(this.getNodeElementFromNode(t.focusNode).id.split("_text_")[1],10))?parseInt(t.focusNode.id.split("_pageDiv_")[1],10):parseInt(this.getNodeElementFromNode(t.focusNode).id.split("_text_")[1],10);isNaN(o)&&(o=isNaN(parseInt(t.focusNode.id.split("_text_")[1],10))?parseInt(t.focusNode.id.split("_textLayer_")[1],10):parseInt(t.focusNode.id.split("_text_")[1],10));var r=[];if((r=i?this.selectionRangeArray.filter((function(t){return!(o<t.pageNumber&&t.pageNumber<=e.selectionStartPage)})):this.selectionRangeArray.filter((function(t){return!(e.selectionStartPage<=t.pageNumber&&t.pageNumber<o)}))).length>0){for(var a=0;a<r.length;a++){var s=this.selectionRangeArray.indexOf(r[parseInt(a.toString(),10)]);-1!==s&&this.selectionRangeArray.splice(s,1)}1===this.selectionRangeArray.length&&(this.selectionRangeArray[0].pageNumber!==n&&this.selectionRangeArray[0].pageNumber!==o||(r=[]))}}},e.prototype.applySpanForSelection=function(){var e=window.getSelection();if(e.anchorNode!==e.focusNode||e.anchorOffset!==e.focusOffset||e.isCollapsed||e.removeAllRanges(),null!==e.anchorNode&&this.pdfViewerBase.viewerContainer.contains(this.getNodeElementFromNode(e.anchorNode))){var t=void 0,i=void 0,n=void 0,o=void 0,r=void 0,a=void 0;if(this.pdfViewerBase.textLayer.isBackWardSelection(e))t=parseInt(this.getNodeElementFromNode(e.focusNode).id.split("_text_")[1],10),i=parseInt(this.getNodeElementFromNode(e.anchorNode).id.split("_text_")[1],10),n=parseInt(this.getNodeElementFromNode(e.focusNode).id.split("_text_")[1].split("_")[1],10),o=parseInt(this.getNodeElementFromNode(e.anchorNode).id.split("_text_")[1].split("_")[1],10),r=e.focusOffset,a=e.anchorOffset;else{var s=this.getNodeElementFromNode(e.anchorNode),l=this.getNodeElementFromNode(e.focusNode);t=-1!==s.id.indexOf("text_")?parseInt(s.id.split("text_")[1],10):parseInt(s.id.split("_textLayer_")[1],10),i=-1!==l.id.indexOf("text_")?parseInt(l.id.split("text_")[1],10):parseInt(l.id.split("_textLayer_")[1],10);var d=!1;if(this.isTouchSelection&&e.focusNode===this.pdfViewerBase.pageContainer){var h=this.pdfViewerBase.pageContainer.lastChild;if(h.classList.contains("e-pv-touch-select-drop")){var A=h.previousSibling.previousSibling;i=parseInt(A.id.split("_pageDiv_")[1],10),l=this.pdfViewerBase.getElement("_textLayer_"+i).lastChild,d=!0}else if(h.classList.contains("e-pv-page-div")){A=h;i=parseInt(A.id.split("_pageDiv_")[1],10),l=this.pdfViewerBase.getElement("_textLayer_"+i).lastChild,d=!0}}s.classList.contains("e-pv-maintaincontent")&&(s=this.getNodeElementFromNode(s),t=parseInt(s.id.split("text_")[1],10)),l.classList.contains("e-pv-maintaincontent")&&(l=this.getNodeElementFromNode(l),i=parseInt(l.id.split("text_")[1],10)),t===i&&(s.contains(l)&&(s=l),l.contains(s)&&(l=s)),n=s.id.split("text_")[1]?parseInt(s.id.split("text_")[1].split("_")[1],10):null,o=l.id.split("text_")[1]?parseInt(l.id.split("text_")[1].split("_")[1],10):null,n=isNaN(n)?o:n,o=isNaN(o)?n:o,r=e.anchorOffset,a=d?l.textContent.length:e.focusOffset}this.pdfViewerBase.checkIsNormalText()&&(e.removeAllRanges(),this.pdfViewerBase.textLayer.clearDivSelection(),this.pdfViewerBase.textLayer.applySpanForSelection(t,i,n,o,r,a)),this.pdfViewer.textSearchModule&&this.pdfViewer.textSearchModule.searchAfterSelection()}},e.prototype.initiateTouchSelection=function(e,t,i){this.pdfViewerBase.isShapeBasedAnnotationsEnabled()&&this.pdfViewer.selectedItems.annotations.length>0&&this.pdfViewer.clearSelection(this.pdfViewer.selectedItems.annotations[0].pageIndex);var n=e.target,o=document.elementsFromPoint(e.touches[0].clientX,e.touches[0].clientY);0!==o.length&&o[0].classList.contains("e-pv-hyperlink")&&o[1].classList.contains("e-pv-text")&&(n=o[1]);var r=parseFloat(n.id.split("_")[2]);this.pdfViewer.fireTextSelectionStart(r+1),this.selectAWord(n,t,i,!0),this.createTouchSelectElement(e),this.maintainSelectionOnZoom(!0,!1),this.fireTextSelectEnd(),this.applySpanForSelection()},e.prototype.selectTextByTouch=function(e,t,i,n,o,r){var a=!1;if(e.nodeType===e.TEXT_NODE){var s=e.ownerDocument.createRange(),l=window.getSelection();s.selectNodeContents(e);for(var d=0,h=s.endOffset;d<h;){if(s.setStart(e,d),s.setEnd(e,d+1),(p=s.getBoundingClientRect()).left<=t&&p.right>=t&&p.top<=i&&p.bottom>=i)return null!==l.anchorNode&&(n&&s.setStart(l.anchorNode,l.anchorOffset),s=this.setTouchSelectionStartPosition(l,s,n,o,e,d,r),n&&l.extend(e,d),a=!0),s.detach(),a;d+=1}}else for(var A=0;A<e.childNodes.length;A++){var p,c=e.childNodes[parseInt(A.toString(),10)].ownerDocument.createRange();if(c.selectNodeContents(e.childNodes[parseInt(A.toString(),10)]),(p=c.getBoundingClientRect()).left<=t&&p.right>=t&&p.top<=i&&p.bottom>=i)return c.detach(),this.selectTextByTouch(e.childNodes[parseInt(A.toString(),10)],t,i,n,o,r);c.detach()}return a},e.prototype.setTouchSelectionStartPosition=function(e,t,i,n,o,r,a){if(i){if("left"===n){var s=this.getTouchFocusElement(e,!0);t.setStart(s.focusNode,s.focusOffset),t.setEnd(o,r),this.selectionAnchorTouch={anchorNode:t.endContainer.parentElement.id,anchorOffset:t.endOffset}}else if("right"===n){s=this.getTouchAnchorElement(e,!1);t.setStart(s.anchorNode,s.anchorOffset),t.setEnd(o,r),this.selectionFocusTouch={focusNode:t.endContainer.parentElement.id,focusOffset:t.endOffset}}}else if("left"===n)if(a)t.setStart(o,r),t.setEnd(e.focusNode,e.focusOffset),this.selectionAnchorTouch={anchorNode:t.startContainer.parentElement.id,anchorOffset:t.startOffset};else{s=this.getTouchFocusElement(e,!1);t.setStart(o,r),t.setEnd(s.focusNode,s.focusOffset),""===t.toString()&&(t.setStart(o,r),t.setEnd(e.focusNode,e.focusOffset)),this.selectionAnchorTouch={anchorNode:t.startContainer.parentElement.id,anchorOffset:t.startOffset}}else if("right"===n){s=this.getTouchAnchorElement(e,!0);t.setStart(o,r),t.setEnd(s.anchorNode,s.anchorOffset),""===t.toString()&&(t.setStart(s.anchorNode,s.anchorOffset),t.setEnd(o,r)),this.selectionFocusTouch={focusNode:t.startContainer.parentElement.id,focusOffset:t.startOffset}}return e.removeAllRanges(),e.addRange(t),t},e.prototype.getTouchAnchorElement=function(e,t){var i=document.getElementById(this.selectionAnchorTouch.anchorNode.toString()),n=null,o=0;return i?(n=i.childNodes[0],o=parseInt(this.selectionAnchorTouch.anchorOffset.toString(),10)):t?(n=e.focusNode,o=e.focusOffset):(n=e.anchorNode,o=e.anchorOffset),{anchorNode:n,anchorOffset:o}},e.prototype.getTouchFocusElement=function(e,t){var i=document.getElementById(this.selectionFocusTouch.focusNode.toString()),n=null,o=0;return i?(n=i.childNodes[0],o=parseInt(this.selectionFocusTouch.focusOffset.toString(),10)):t?(n=e.anchorNode,o=e.anchorOffset):(n=e.focusNode,o=e.focusOffset),{focusNode:n,focusOffset:o}},e.prototype.createTouchSelectElement=function(e){this.isTouchSelection=!0;var i=window.getSelection();if("Range"===i.type){this.dropDivElementLeft=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_touchSelect_droplet_left",className:"e-pv-touch-select-drop"}),this.dropDivElementRight=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_touchSelect_droplet_right",className:"e-pv-touch-select-drop"}),this.dropElementLeft=(0,t.createElement)("div",{className:"e-pv-touch-ellipse"}),this.dropElementLeft.style.transform="rotate(0deg)",this.dropDivElementLeft.appendChild(this.dropElementLeft),this.dropElementRight=(0,t.createElement)("div",{className:"e-pv-touch-ellipse"}),this.dropElementRight.style.transform="rotate(-90deg)",this.dropElementRight.style.margin="0 9px 0 0",this.dropDivElementRight.appendChild(this.dropElementRight),this.pdfViewerBase.pageContainer.appendChild(this.dropDivElementLeft),this.pdfViewerBase.pageContainer.appendChild(this.dropDivElementRight);var n=i.getRangeAt(0).getBoundingClientRect(),o=this.dropDivElementLeft.getBoundingClientRect(),r=this.pdfViewerBase.pageSize[this.pdfViewerBase.currentPageNumber-1].top,a=this.pdfViewerBase.viewerContainer.getBoundingClientRect().left,s=this.getClientValueTop(n.top,this.pdfViewerBase.currentPageNumber-1),l=s-(this.pdfViewerBase.getZoomFactor()>2?8:this.pdfViewerBase.getZoomFactor()>1?4:0)+r*this.pdfViewerBase.getZoomFactor()+o.height/2*this.pdfViewerBase.getZoomFactor()+"px";this.dropDivElementLeft.style.top=l,this.dropDivElementLeft.style.left=n.left-(a+o.width)+this.pdfViewerBase.viewerContainer.scrollLeft+"px",this.dropDivElementRight.style.top=l,this.dropDivElementRight.style.left=n.left+n.width-a+this.pdfViewerBase.viewerContainer.scrollLeft+"px";var d=this.pdfViewerBase.getElement("_pageDiv_"+(this.pdfViewerBase.currentPageNumber-1)).getBoundingClientRect().left,h=n.left-d;this.topStoreLeft={pageTop:r,topClientValue:this.getMagnifiedValue(s),pageNumber:this.pdfViewerBase.currentPageNumber-1,left:this.getMagnifiedValue(h),isHeightNeeded:!0},this.topStoreRight={pageTop:r,topClientValue:this.getMagnifiedValue(s),pageNumber:this.pdfViewerBase.currentPageNumber-1,left:this.getMagnifiedValue(h+n.width),isHeightNeeded:!0},this.dropDivElementLeft.addEventListener("touchstart",this.onLeftTouchSelectElementTouchStart),this.dropDivElementLeft.addEventListener("touchmove",this.onLeftTouchSelectElementTouchMove),this.dropDivElementLeft.addEventListener("touchend",this.onLeftTouchSelectElementTouchEnd),this.dropDivElementRight.addEventListener("touchstart",this.onRightTouchSelectElementTouchStart),this.dropDivElementRight.addEventListener("touchmove",this.onRightTouchSelectElementTouchMove),this.dropDivElementRight.addEventListener("touchend",this.onRightTouchSelectElementTouchEnd),this.calculateContextMenuPosition(e.touches[0].clientY+this.dropDivElementLeft.clientHeight+10,parseInt(this.dropDivElementLeft.style.left,10)-10)}},e.prototype.calculateContextMenuPosition=function(e,i){var n=this;if(t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode){var o=e-this.contextMenuHeight;o<this.pdfViewerBase.toolbarHeight?e+=this.contextMenuHeight:e=o,e+this.contextMenuHeight>window.innerHeight&&(e-=this.contextMenuHeight)}"MouseUp"===this.pdfViewer.contextMenuSettings.contextMenuAction&&(i-=50);var r=this;setTimeout((function(){var t=document.getElementsByClassName("e-pv-maintaincontent").length,o=document.getElementsByClassName("e-pv-maintaincontent")[t-1]?document.getElementsByClassName("e-pv-maintaincontent")[t-1].getBoundingClientRect():null;if(o){e=o.bottom+r.contextMenuHeight+r.pdfViewerBase.toolbarHeight>window.innerHeight?o.top-(r.contextMenuHeight+r.pdfViewerBase.toolbarHeight-10):o.bottom,i=o.right;var a=n.pdfViewer.toolbarModule?n.pdfViewer.toolbarModule.annotationToolbarModule:"null";a&&a.textMarkupToolbarElement&&0!==a.textMarkupToolbarElement.children.length||r.pdfViewerBase.contextMenuModule.open(e,i,r.pdfViewerBase.viewerContainer)}}))},e.prototype.initiateSelectionByTouch=function(){this.pdfViewerBase.textLayer.clearDivSelection(),this.pdfViewerBase.contextMenuModule.close();var e=this.pdfViewerBase.currentPageNumber-3;e=e<0?0:e;var t=this.pdfViewer.currentPageNumber+1;t=t<this.pdfViewerBase.pageCount-1?t:this.pdfViewerBase.pageCount-1;for(var i=e;i<=t;i++){var n=this.pdfViewerBase.getElement("_textLayer_"+i);n&&null!==n.childNodes&&this.applySelectionMouseScroll(i)}this.selectionRangeArray.length>0&&this.pdfViewer.fireTextSelectionStart(this.selectionRangeArray[0].pageNumber+1)},e.prototype.terminateSelectionByTouch=function(e){if(this.maintainSelectionOnZoom(!0,!1),this.applySpanForSelection(),this.pdfViewerBase.getTextMarkupAnnotationMode())this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode);else{this.fireTextSelectEnd();var t=e.changedTouches[0].clientY+e.currentTarget.clientHeight,i=this.getSpanBounds();i&&(t=i.bottom+this.contextMenuHeight+this.pdfViewerBase.toolbarHeight>window.innerHeight?i.top-(this.contextMenuHeight+this.pdfViewerBase.toolbarHeight):i.bottom+this.pdfViewerBase.toolbarHeight-10,this.pdfViewerBase.contextMenuModule.open(t,(i.right-i.left)/2,this.pdfViewerBase.viewerContainer))}},e.prototype.getSpanBounds=function(){var e=[],t=[],i=[],n=0,o=document.getElementsByClassName("e-pv-maintaincontent");if(o.length>0){for(var r=0;r<o.length;r++){var a=o[parseInt(r.toString(),10)].getBoundingClientRect();n+=a.height,e.push(a.width),t.push(a.right),i.push(a.left)}return{top:o[0].getBoundingClientRect().top,bottom:o[o.length-1].getBoundingClientRect().bottom,left:Math.min.apply(null,i),right:Math.max.apply(null,t),width:Math.max.apply(null,e),height:n}}},e.prototype.getNodeElement=function(e,t,i,n,o){if(document.caretRangeFromPoint)e=document.caretRangeFromPoint(t,i),o=this.onTouchElementScroll(e,o,i,n);else if(document.caretPositionFromPoint){var r=document.caretPositionFromPoint(t,i),a=document.caretPositionFromPoint(t,i);(e=document.createRange()).setStart(r.offsetNode,r.offset),e.setEnd(a.offsetNode,a.offset),o=this.onTouchElementScroll(e,o,i,n)}return o},e.prototype.isTouchedWithinContainer=function(e){var t=!1;return 0!==document.elementsFromPoint(e.touches[0].clientX,e.touches[0].clientY).length&&(t=!0),t},e.prototype.onTouchElementScroll=function(e,t,i,n){var o=this.pdfViewerBase.viewerContainer.scrollTop;if(null!=e){t=e.startContainer;var r=this.isScrolledOnScrollBar(n);this.pdfViewerBase.viewerContainer.contains(t.parentElement)&&!r||(i<this.pdfViewerBase.viewerContainer.clientHeight?this.pdfViewerBase.viewerContainer.scrollTop=o-30:this.pdfViewerBase.viewerContainer.scrollTop=o+30)}else i<this.pdfViewerBase.viewerContainer.clientHeight?this.pdfViewerBase.viewerContainer.scrollTop=o-30:this.pdfViewerBase.viewerContainer.scrollTop=o+30;return t},e.prototype.isCloserTouchScroll=function(e){var t=!1;return this.previousScrollDifference>e&&(t=!0),t},e.prototype.getClientValueTop=function(e,t){return this.pdfViewerBase.getElement("_pageDiv_"+t)?e-this.pdfViewerBase.getElement("_pageDiv_"+t).getBoundingClientRect().top:e},e.prototype.isScrolledOnScrollBar=function(e){var t=!1;return e.touches&&this.pdfViewerBase.viewerContainer.clientHeight+this.pdfViewerBase.viewerContainer.offsetTop<e.touches[0].clientY&&e.touches[0].clientY<this.pdfViewerBase.viewerContainer.offsetHeight+this.pdfViewerBase.viewerContainer.offsetTop&&(t=!0),t},e.prototype.getTextLastLength=function(e){return e?e.textContent.length:0},e.prototype.getNodeElementFromNode=function(e){return e.parentElement?e.parentElement:e.parentNode},e.prototype.copyText=function(){var e="";if(this.maintainSelectionOnZoom(!0,!1),this.selectionRangeArray.length>0)for(var t=0;t<this.selectionRangeArray.length;t++)e+=this.selectionRangeArray[parseInt(t.toString(),10)].textContent;if(e.length>0){this.pdfViewer.annotation&&(this.pdfViewer.annotation.isShapeCopied=!1);var i=document.createElement("textarea");i.contentEditable="true",i.textContent=e,this.pdfViewer.annotation&&this.pdfViewer.annotation.freeTextAnnotationModule&&(this.pdfViewer.annotation.freeTextAnnotationModule.selectedText=e),i.style.position="fixed",document.body.appendChild(i),i.select();try{document.execCommand("copy")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{i&&document.body.removeChild(i)}}},e.prototype.destroy=function(){this.clear()},e.prototype.getModuleName=function(){return"TextSelection"},e}(),Mh=[],Vh=function(){function e(e,t){var i=this;this.isTextSearch=!1,this.searchCount=0,this.currentOccurrence=0,this.searchIndex=0,this.currentSearchIndex=0,this.startIndex=null,this.searchPageIndex=null,this.startSearchPageIndex=null,this.searchString=null,this.isMatchCase=!1,this.isMultiSearch=!1,this.isSingleSearch=!1,this.searchRequestHandler=null,this.textContents=[],this.searchMatches=[],this.multiSearchCounts={},this.searchedPages=[],this.isPrevSearch=!1,this.isExactMatch=!1,this.autompleteDataSource=[],this.searchedOccurrences=[],this.isSelectedFromPopup=!1,this.isDocumentTextCollectionReady=!1,this.intervalId=null,this.searchTextDivzIndex="-1",this.tempElementStorage=[],this.isMessagePopupOpened=!1,this.isTextRetrieved=!1,this.isTextSearched=!1,this.isTextSearchEventTriggered=!1,this.isSearchText=!1,this.isLastOccurrenceCompleted=!1,this.checkBoxOnChange=function(e){if(e.checked?(i.isMatchCase=!0,i.searchString="",i.searchInput.value&&""!==i.searchInput.value&&(i.isTextSearch=!0)):(i.isMatchCase=!1,i.searchString="",i.searchInput.value&&""!==i.searchInput.value&&(i.isTextSearch=!0)),i.isTextSearch){i.resetVariables(),i.clearAllOccurrences();var t=i.searchInput.value;i.searchIndex=0,i.initiateTextSearch(t),0!==i.searchCount||i.isMessagePopupOpened||i.onMessageBoxOpen()}},this.searchKeypressHandler=function(e){var t=String.fromCharCode(e.which||e.keyCode);!/[a-zA-Z0-9]/.test(t)&&!function(e){return/[!@#$%^&*(),.?":{}|<>]/.test(e)}||e.ctrlKey||e.altKey?i.resetVariables():(i.initiateTextSearch(i.searchInput.value),i.updateSearchInputIcon(!1))},this.searchClickHandler=function(e){i.searchButtonClick(i.searchBtn,i.searchAutocompleteObj)},this.nextButtonOnClick=function(e){i.nextSearch()},this.prevButtonOnClick=function(e){i.prevSearch()},this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.createTextSearchBox=function(){var e,i=this;this.searchBox=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_search_box",className:"e-pv-text-search-bar"}),(e=(0,t.isBlazor)()?document.getElementById("toolbarContainer"):this.pdfViewerBase.getElement("_toolbarContainer"))&&((0,t.isBlazor)(),this.searchBox.style.top=e.clientHeight+"px");var n=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_search_box_elements",className:"e-pv-text-search-bar-elements"});this.searchInputContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_search_input_container",className:"e-input-group e-pv-text-search-input"}),this.searchInput=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_search_input",className:"e-input e-pv-search-input-ele"});this.searchAutocompleteObj=new fd.AutoComplete({dataSource:[{SearchString:"",Count:""}],fields:{value:"SearchString"},headerTemplate:'<div class="e-pv-automplete-header"><span class="e-pv-search-exact-matches">'+this.pdfViewer.localeObj.getConstant("Exact Matches")+'</span><span class="e-pv-total-exact-matches"></span></div>',itemTemplate:'<div class="e-pv-autocomplete-item"><span class="e-pv-autocomplete-word"> ${SearchString} </span><span class="e-pv-autocomplete-count">${Count}</span></div>',placeholder:this.pdfViewer.localeObj.getConstant("Find in document"),popupHeight:"200px",beforeOpen:function(e){Array.isArray(i.autompleteDataSource)&&0===i.autompleteDataSource.length&&(e.cancel=!0)},select:function(e){i.isSelectedFromPopup=!0,i.isSingleSearch=!0,i.isMultiSearch=!1,i.isExactMatch=!0,i.initiateSearch(e.itemData.SearchString)},filtering:function(e){i.isSelectedFromPopup=!1,i.searchCountEle&&(i.searchCountEle.innerHTML="",i.adjustInputContainerWidth()),i.isSingleSearch=!1,i.isExactMatch=!1,i.isMultiSearch=i.matchAnyWordCheckBox.checked,i.initiateTextSearch(e.text),""===e.text&&(clearInterval(i.intervalId),i.showLoadingIndicator(!1)),i.searchString="";var n=setInterval((function(){if(i.documentTextCollection.length===i.pdfViewerBase.pageCount){if(e.updateData(i.autompleteDataSource,null),Array.isArray(i.autompleteDataSource)&&0!==i.autompleteDataSource.length){var o=i.autompleteDataSource.reduce((function(e,t){return e+parseInt(t.Count,10)}),0);document.querySelector(".e-pv-total-exact-matches").innerHTML=o,i.isMultiSearch?document.querySelector(".e-pv-search-exact-matches").innerHTML=i.pdfViewer.localeObj.getConstant("Total Matches"):document.querySelector(".e-pv-search-exact-matches").innerHTML=i.pdfViewer.localeObj.getConstant("Exact Matches")}else if(0===i.autompleteDataSource.length){var r=document.querySelector(".e-pv-total-exact-matches");(0,t.isNullOrUndefined)(r)||(r.innerHTML="0"),i.searchAutocompleteObj.hidePopup()}clearInterval(n),i.isDocumentTextCollectionReady=!0}}),1e3)},created:function(e){i.searchAutocompleteObj.element.addEventListener("keydown",(function(e){"Enter"===e.key&&(i.isSingleSearch=!0,i.isExactMatch=i.isSelectedFromPopup,i.isMultiSearch=!1,i.initiateTextSearch(i.searchInput.value),0!==i.searchCount||i.isMessagePopupOpened||i.documentTextCollection.length!==i.pdfViewerBase.pageCount||i.onMessageBoxOpen())})),i.searchAutocompleteObj.element.parentElement.querySelector(".e-clear-icon").addEventListener("mousedown",(function(e){i.showLoadingIndicator(!1),clearInterval(i.intervalId),i.searchInput.value="",i.resetTextSearch(),i.searchCountEle&&(i.searchCountEle.innerHTML="",i.adjustInputContainerWidth()),i.searchInput.focus(),i.searchString=""}))}}),this.searchBtn=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_search_box-icon",className:"e-input-group-icon e-input-search-group-icon e-pv-search-icon"}),this.searchBtn.setAttribute("tabindex","0"),this.searchInputContainer.appendChild(this.searchInput),this.searchAutocompleteObj.appendTo(this.searchInput),n.appendChild(this.searchInputContainer),this.searchCountEle=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_search_count",className:"e-pv-search-count",innerHTML:""}),n.appendChild(this.searchCountEle),this.pdfViewer.enableRtl?this.prevSearchBtn=this.createSearchBoxButtons("prev_occurrence","e-pv-next-search"):this.prevSearchBtn=this.createSearchBoxButtons("prev_occurrence","e-pv-prev-search"),this.prevSearchBtn.setAttribute("aria-label","Previous Search text"),n.appendChild(this.prevSearchBtn),this.pdfViewer.enableRtl?this.nextSearchBtn=this.createSearchBoxButtons("next_occurrence","e-pv-prev-search"):this.nextSearchBtn=this.createSearchBoxButtons("next_occurrence","e-pv-next-search"),this.nextSearchBtn.setAttribute("aria-label","Next Search text"),n.appendChild(this.nextSearchBtn);var o=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_match_case_container",className:"e-pv-textsearch-match-case-container"}),r=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_match_case"});r.type="checkbox",(0,t.isBlazor)()&&(r.style.height="17px",r.style.width="17px",r.addEventListener("change",this.checkBoxOnChange.bind(this))),o.appendChild(r);var a=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_match_any_word"});if(a.type="checkbox",o.appendChild(a),this.searchBox.appendChild(n),this.searchBox.appendChild(o),this.pdfViewerBase.mainContainer.appendChild(this.searchBox),(0,t.isBlazor)()){var s=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_search_box_text",styles:"position: absolute; padding-top: 3px; padding-left: 8px; padding-right: 8px; font-size: 13px"});this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_Matchcase").then((function(e){s.textContent=e})),o.appendChild(s)}else{new Ad.CheckBox({cssClass:"e-pv-match-case",label:this.pdfViewer.localeObj.getConstant("Match case"),htmlAttributes:{tabindex:"0"},change:this.checkBoxOnChange.bind(this)}).appendTo(r),this.matchAnyWordCheckBox=new Ad.CheckBox({cssClass:"e-pv-match-any-word",label:this.pdfViewer.localeObj.getConstant("Match any word"),htmlAttributes:{tabindex:"0"},change:function(){i.isMultiSearch=i.matchAnyWordCheckBox.checked}}),this.matchAnyWordCheckBox.appendTo(a)}o.firstElementChild.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.target.click(),e.preventDefault(),e.stopPropagation())})),a.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.target.click(),e.preventDefault(),e.stopPropagation())}));var l=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_textSearchLoadingIndicator"});this.searchInputContainer.appendChild(l),l.style.position="absolute",l.style.top="15px",l.style.left=this.searchInputContainer.clientWidth-46+"px",Nl({target:l,cssClass:"e-spin-center"}),this.setLoaderProperties(l),this.showSearchBox(!1),this.pdfViewer.enableRtl?(this.searchBox.classList.add("e-rtl"),this.searchBox.style.left="88.3px"):(this.searchBox.classList.remove("e-rtl"),this.searchBox.style.right="88.3px"),this.searchBtn.addEventListener("click",this.searchClickHandler.bind(this)),this.searchBtn.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(i.searchClickHandler(e),e.preventDefault(),e.stopPropagation())})),this.nextSearchBtn.addEventListener("click",this.nextButtonOnClick.bind(this)),this.prevSearchBtn.addEventListener("click",this.prevButtonOnClick.bind(this))},e.prototype.setLoaderProperties=function(e){var t=e.firstChild.firstChild.firstChild;t&&(t.style.height="18px",t.style.width="18px",t.style.transformOrigin="9px 9px 9px")},e.prototype.showLoadingIndicator=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_textSearchLoadingIndicator");t&&(e?Wl(t):Zl(t))},e.prototype.textSearchBoxOnResize=function(){if(this.pdfViewer.toolbarModule&&this.pdfViewer.enableToolbar){var e=this.pdfViewerBase.getElement("_toolbarContainer_popup");e&&e.contains(this.pdfViewerBase.getElement("_search").parentElement)&&(this.searchBox.style.right="0px")}else this.pdfViewerBase.viewerContainer.clientWidth+this.pdfViewerBase.viewerContainer.offsetLeft<this.searchBox.offsetLeft+this.searchBox.clientWidth?(this.searchBox.style.right="0px",this.searchBox.style.width=parseInt(this.searchBox.style.width,10)-(this.searchBox.offsetLeft+this.searchBox.clientWidth-this.pdfViewerBase.viewerContainer.clientWidth)+"px",this.searchInput.style.width=parseInt(this.searchInput.style.width,10)-(this.searchBox.offsetLeft+this.searchBox.clientWidth-this.pdfViewerBase.viewerContainer.clientWidth)+"px"):(this.searchBox.style.right="88.3px",this.searchBox.style.width="",this.searchInput.style.width="")},e.prototype.showSearchBox=function(e){(0,t.isNullOrUndefined)(this.searchBox)||(e?this.searchBox.style.display="block":(this.searchBox.style.display="none",this.searchInput.value="",this.searchCountEle.style.display="none",this.pdfViewer.toolbarModule&&(this.pdfViewer.toolbarModule.isTextSearchBoxDisplayed=!1)),this.onTextSearchClose())},e.prototype.searchAfterSelection=function(){0===this.currentOccurrence&&(this.searchPageIndex=this.pdfViewerBase.currentPageNumber-1,this.startSearchPageIndex=this.searchPageIndex),this.isTextSearch&&(this.initSearch(this.searchPageIndex,!0),this.highlightOthers())},e.prototype.calculateSearchCount=function(e){var i=this;if(this.searchCount=0,this.currentOccurrence=0,this.resetVariables(),this.searchIndex=0,e&&""!==e.trim())if(this.isMultiSearch){this.searchCountEle&&(this.searchCountEle.innerHTML="",this.adjustInputContainerWidth());var n=e.split(" ");this.multiSearchCounts={};for(var o=0,r=n;o<r.length;o++){var a=r[o];if(""!==(a=a.trim())){for(var s=0,l=0;l<this.documentTextCollection.length;l++){var d=(c=this.documentTextCollection[parseInt(l.toString(),10)][parseInt(l.toString(),10)]).pageText?c.pageText:c.PageText;this.isMatchCase||(d=d.toLowerCase(),a=a.toLowerCase());for(var h=d.indexOf(a);-1!==h;)s++,h=d.indexOf(a,h+1)}this.multiSearchCounts[""+a]=s}}var A=Object.keys(this.multiSearchCounts).map((function(e){return{SearchString:e,Count:i.multiSearchCounts[""+e].toString()}}));this.autompleteDataSource=A}else{var p={};for(l=0;l<this.documentTextCollection.length;l++){var c=this.documentTextCollection[parseInt(l.toString(),10)][parseInt(l.toString(),10)],g=l,u=(d=c.pageText?c.pageText:c.PageText).replace(/(\s\r\n)/gm," ").replace(/(\r\n)/gm," "),f=d.replace(/(\s\r\n)/gm,"  ").replace(/(\r\n)/gm," "),m=u.replace(/[^a-zA-Z0-9]+/g," "),w=void 0,y=e.length,S=[],C=[],B=(h=-y,-y),I=-y,b=-y,v=-y;for(this.isMatchCase||(e=e.toLowerCase(),d=d.toLowerCase(),u=u.toLowerCase(),f=f.toLowerCase(),m=m.toLowerCase());(0!==h||0===h&&S.length>0&&0===S[0])&&e&&" "!==e;){if(this.isExactMatch){var E=void 0,x=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),_=new RegExp("(?<!\\w)"+x+"(?!\\w)","g");for(E=_.exec(d);null!==E;)S.push(E.index),E=_.exec(d);break}if(h=d.indexOf(e,h+y),-1!==e.indexOf(" ")){var D=e.replace(" ","\r\n");(B=d.indexOf(D,B+y))<=-1||B<h&&S.push(B)}if(h<=-1&&B<=-1)break;h<=-1||S.push(h),B>h&&!(B<=-1)&&S.push(B)}if(0===S.length){if(I=u.indexOf(e,I+y),b=f.indexOf(e,b+y),v=m.indexOf(e,v+y),-1!==I){h=-(w=this.correctLinetext(e,h,d))[0].length;for(var M=0;M<w.length;M++)h=d.indexOf(w[parseInt(M.toString(),10)].trim(),h+(void 0===w[M-1]?w[0].length:w[M-1].length)),C.push(h),C.length>1&&(C[1]-(C[0]+w[0].length)<=3?(S.push(C),this.searchMatches[parseInt(g.toString(),10)]=S):(M=-1,h=C[0]+w[0].length,C.splice(0,C.length)))}else if(-1!==v){h=-(w=this.correctLinetext(e,h,d))[0].length;for(var V=0;V<w.length;V++)h=d.indexOf(w[parseInt(V.toString(),10)].trim(),h+(void 0===w[V-1]?w[0].length:w[V-1].length)),C.push(h),C.length>1&&(C[1]-(C[0]+w[0].length)<=3?(S.push(C),this.searchMatches[parseInt(g.toString(),10)]=S):(V=-1,h=C[0]+w[0].length,C.splice(0,C.length)))}else if(-1!==b){h=-(w=this.correctLinetext(e,h,d))[0].length;for(var Q=0;Q<w.length;Q++)h=d.indexOf(w[parseInt(Q.toString(),10)].trim(),h+(void 0===w[Q-1]?w[0].length:w[Q-1].length)),C.push(h),C.length>1&&(C[1]-(C[0]+w[0].length)<=3?(S.push(C),this.searchMatches[parseInt(g.toString(),10)]=S):(Q=-1,h=C[0]+w[0].length,C.splice(0,C.length)))}S.length>1&&S.splice(1,S.length)}var F=d.match(/[a-zA-Z]+|\d+/g);(0,t.isNullOrUndefined)(F)||F.forEach((function(t){t.startsWith(e)&&(p[""+t]?p[""+t]++:p[""+t]=1)})),S.length>0&&(this.searchCount=this.searchCount+S.length),this.searchMatches&&S.length>0&&(this.searchMatches[parseInt(g.toString(),10)]=S)}var T=Object.keys(p).map((function(e){return{SearchString:e,Count:p[""+e].toString()}}));this.isSingleSearch?(this.searchCountEle&&(-1===this.searchedOccurrences.indexOf(this.currentOccurrence+1)&&this.searchedOccurrences.push(this.currentOccurrence+1),this.adjustInputContainerWidth()),1===this.searchedOccurrences.length&&this.pdfViewer.fireTextSearchStart(this.searchString,this.isMatchCase),this.currentOccurrence+=1):this.searchAutocompleteObj&&(this.autompleteDataSource=T)}else this.searchCountEle&&(this.searchCountEle.innerHTML="",this.adjustInputContainerWidth())},e.prototype.getSearchCountText=function(){this.pdfViewer.enableRtl?this.searchCountEle.innerHTML=this.searchCount+" "+this.pdfViewer.localeObj.getConstant("of")+" "+this.currentOccurrence:this.searchCountEle.innerHTML=this.currentOccurrence+" "+this.pdfViewer.localeObj.getConstant("of")+" "+this.searchCount},e.prototype.adjustInputContainerWidth=function(){var e=this.searchCountEle.parentElement;this.searchCount>0?(t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&e&&(e.style.display="block"),this.searchCountEle.style.display="inline-block"):(this.searchCountEle.style.display="none",t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&e&&(e.style.display="none"))},e.prototype.initiateTextSearch=function(e,i){this.enableNextButton(!0),this.enablePrevButton(!0),this.autompleteDataSource=[],this.pdfViewer.enableHtmlSanitizer&&"string"==typeof e&&(e=t.SanitizeHtmlHelper.sanitize(e)),e&&e.length>0&&" "===e[e.length-1]&&(e=e.slice(0,e.length-1)),this.initiateSearch(e,i)},e.prototype.handleSearchAfterTextCollectionReady=function(e,i){if(i){var n=document.getElementById(this.pdfViewer.element.id+"_search_count");this.searchCountEle=n}this.isSingleSearch=i||this.isSingleSearch,(e!==this.searchString||this.isLastOccurrenceCompleted)&&(this.calculateSearchCount(e),this.isInitialSearch=!0,this.isLastOccurrenceCompleted=!1,0===this.currentOccurrence&&(this.startSearchPageIndex=this.searchPageIndex)),e===this.searchString&&null!==this.searchPageIndex&&null!==this.startSearchPageIndex||(this.isTextSearch=!1,this.searchPageIndex=this.pdfViewerBase.currentPageNumber-1,this.startSearchPageIndex=this.searchPageIndex),this.clearAllOccurrences(),""!==e&&!this.isMultiSearch&&this.isSingleSearch&&this.searchCount>0&&(this.searchMatches[this.searchPageIndex]&&e===this.searchString?0===this.searchMatches[this.searchPageIndex].length?this.initSearch(this.searchPageIndex,!1):this.nextSearch():(0,t.isNullOrUndefined)(this.searchMatches[this.searchPageIndex])&&e===this.searchString?this.initSearch(this.searchPageIndex,!1):this.textSearch(e)),""===e&&(this.searchString="")},e.prototype.initiateSearch=function(e,i){var n=this,o=this.pdfViewerBase.pageCount;(0,t.isNullOrUndefined)(this.intervalId)||clearInterval(this.intervalId);this.isDocumentTextCollectionReady?this.handleSearchAfterTextCollectionReady(e,i):this.intervalId=setInterval((function(){n.showLoadingIndicator(!0),n.documentTextCollection.length===o&&(clearInterval(n.intervalId),n.isDocumentTextCollectionReady=!0,n.showLoadingIndicator(!1),n.intervalId=null,n.handleSearchAfterTextCollectionReady(e,i)),i&&n.pdfViewerBase.navigationPane&&n.pdfViewerBase.navigationPane.setSearchInputWidth()}),1e3)},e.prototype.textSearch=function(e){if(""!==e||e){if(this.searchString=e,this.isTextSearch=!0,this.isSearchText=!0,this.searchPageIndex=this.pdfViewerBase.currentPageNumber-1,this.isTextSearchEventTriggered=!1,this.showLoadingIndicator(!0),this.pdfViewer.isExtractText)if(this.isTextRetrieved)for(var t=0;t<this.pdfViewerBase.pageCount;t++)this.initSearch(t,!1,!0);else{this.isTextSearched=!0;for(t=0;t<this.documentTextCollection.length;t++)this.initSearch(t,!1,!0)}this.searchPageIndex=this.findNextPageWithText(this.searchPageIndex,!0),this.initSearch(this.searchPageIndex,!1),this.highlightOthers()}},e.prototype.nextSearch=function(){this.isPrevSearch=!1,this.isTextSearch=!0,this.isSearchText=!1;var e=!1;if(this.searchString)if(this.clearAllOccurrences(),0!==this.currentOccurrence?this.searchIndex=this.searchIndex+1:(this.searchIndex=0,this.currentOccurrence+=1,e=!0,this.getSearchCountText(),-1===this.searchedOccurrences.indexOf(this.currentOccurrence)&&this.searchedOccurrences.push(this.currentOccurrence),1===this.searchedOccurrences.length&&this.pdfViewer.fireTextSearchStart(this.searchString,this.isMatchCase)),this.searchMatches[this.searchPageIndex]){if(this.searchIndex>=this.searchMatches[this.searchPageIndex].length)this.searchIndex=0,this.searchPageIndex=this.findNextPageWithText(this.searchPageIndex),this.pdfViewerBase.pageCount>1?this.initSearch(this.searchPageIndex,!1):(this.initSearch(this.searchPageIndex,!0),this.isMessagePopupOpened||this.onMessageBoxOpen(),this.pdfViewerBase.updateScrollTop(this.searchPageIndex)),this.showLoadingIndicator(!0);else{this.highlightSearchedTexts(this.searchPageIndex,!1,void 0);var i=this.pdfViewerBase.getElement("_searchtext_"+this.searchPageIndex+"_"+this.searchIndex);if(!(0,t.isNullOrUndefined)(i))this.isScrollPages(i)&&this.pdfViewerBase.updateScrollTop(this.searchPageIndex);this.showLoadingIndicator(!1)}this.highlightOthers(!0),this.areAllOccurencesSearched()&&!this.isMessagePopupOpened&&this.onMessageBoxOpen(),this.currentOccurrence<=this.searchCount&&!this.isMessagePopupOpened&&(this.currentOccurrence===this.searchCount?this.currentOccurrence=1:e||(this.currentOccurrence=this.currentOccurrence+1),this.searchCountEle&&this.isSingleSearch&&(this.getSearchCountText(),-1===this.searchedOccurrences.indexOf(this.currentOccurrence)&&this.searchedOccurrences.push(this.currentOccurrence),this.adjustInputContainerWidth()))}else this.searchMatches[this.searchPageIndex]?this.initiateTextSearch(this.searchInput.value):this.pdfViewerBase.pageCount>1&&this.initSearch(this.searchPageIndex,!1);else this.initiateTextSearch(this.searchInput.value);var n=this.pdfViewerBase.getElement("_searchtext_"+this.searchPageIndex+"_"+this.searchIndex);(0,t.isNullOrUndefined)(n)||this.scrollToSearch(n)},e.prototype.findNextPageWithText=function(e,t){if(t&&(this.isInitialSearch=!1,this.searchMatches[parseInt(e.toString(),10)]&&this.searchMatches[parseInt(e.toString(),10)].length>0))return e;for(var i=1;i<this.pdfViewerBase.pageCount;i++){var n=(e+i)%this.pdfViewerBase.pageCount;if(this.searchMatches[parseInt(n.toString(),10)]&&this.searchMatches[parseInt(n.toString(),10)].length>0)return this.searchedOccurrences.length!==this.searchCount||t?n:n=this.startSearchPageIndex}return e},e.prototype.findFirstNonEmptyPage=function(){for(var e=0;e<this.pdfViewerBase.pageCount;e++)if(this.searchMatches[parseInt(e.toString(),10)]&&this.searchMatches[parseInt(e.toString(),10)].length>0)return e;return null},e.prototype.prevSearch=function(){if(Mh.push(this.searchPageIndex),this.isPrevSearch=!0,this.isTextSearch=!0,this.isSearchText=!1,this.searchString)this.clearAllOccurrences(),this.searchIndex=this.searchIndex-1,0===this.currentOccurrence&&(this.currentOccurrence=this.searchCount+1),this.searchIndex<0?(this.searchPageIndex=this.findPreviousPageWithText(),this.initSearch(this.searchPageIndex,!1),this.showLoadingIndicator(!0)):(this.highlightSearchedTexts(this.searchPageIndex,!1,void 0),this.showLoadingIndicator(!1)),this.highlightOthers(!0),this.areAllOccurencesSearched()&&!this.isMessagePopupOpened&&this.onMessageBoxOpen(),this.currentOccurrence-1>=0&&!this.isMessagePopupOpened&&(this.currentOccurrence-1==0?this.currentOccurrence=this.searchCount:this.currentOccurrence=this.currentOccurrence-1,this.searchCountEle&&this.isSingleSearch&&(this.getSearchCountText(),-1===this.searchedOccurrences.indexOf(this.currentOccurrence)&&this.searchedOccurrences.push(this.currentOccurrence),1===this.searchedOccurrences.length&&this.pdfViewer.fireTextSearchStart(this.searchString,this.isMatchCase),this.adjustInputContainerWidth()));else{this.searchIndex=this.searchIndex-1,this.searchPageIndex=this.searchPageIndex-1<0?this.pdfViewerBase.pageCount-1:this.searchPageIndex-1;var e=this.searchInput.value;this.textSearch(e)}var i=this.pdfViewerBase.getElement("_searchtext_"+this.searchPageIndex+"_"+this.searchIndex);(0,t.isNullOrUndefined)(i)||this.scrollToSearch(i)},e.prototype.scrollToSearch=function(e){this.isScrollPages(e)&&this.scrollToSearchStr(e,{y:-100,x:-100})},e.prototype.isScrollPages=function(e){var i=this.pdfViewer.element.getBoundingClientRect(),n=e.getBoundingClientRect(),o=this.pdfViewer.enableToolbar&&!(0,t.isNullOrUndefined)(this.pdfViewer.toolbarModule)?this.pdfViewer.toolbar.toolbarElement.getBoundingClientRect().height:0;return!(n.top>=i.top+o&&n.left>=i.left&&n.bottom<=i.bottom&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=i.right)},e.prototype.findPreviousPageWithText=function(){for(var e=this.searchPageIndex,t=1;t<this.pdfViewerBase.pageCount;t++){var i=(e-t+this.pdfViewerBase.pageCount)%this.pdfViewerBase.pageCount;if(this.searchMatches[parseInt(i.toString(),10)]&&this.searchMatches[parseInt(i.toString(),10)].length>0)return this.searchedOccurrences.length===this.searchCount?i=0:i}return e},e.prototype.initSearch=function(e,i,n){var o=this.pdfViewerBase.getStoredData(e,!0),r=null,a=null,s=null;if(n){if(0!==this.documentTextCollection.length){var l=this.documentTextCollection[parseInt(e.toString(),10)][parseInt(e.toString(),10)],d=l.pageText?l.pageText:l.PageText;this.documentTextCollection[parseInt(e.toString(),10)]&&l&&this.getSearchTextContent(e,this.searchString,d,a,i,this.documentTextCollection[parseInt(e.toString(),10)])}}else o?(r=o.pageText,a=o.textContent,s=this.pdfViewerBase.textLayer.characterBound[parseInt(e.toString(),10)],this.textContents[parseInt(e.toString(),10)]=a,this.getPossibleMatches(e,this.searchString,r,a,i,s),this.getSearchCountText()):i||(0,t.isNullOrUndefined)(e)||this.createRequestForSearch(e)},e.prototype.getPossibleMatches=function(e,i,n,o,r,a){var s,l=n,d=i,h=l.replace(/(\s\r\n)/gm," ").replace(/(\r\n)/gm," "),A=n.replace(/(\s\r\n)/gm,"  ").replace(/(\r\n)/gm," "),p=h.replace(/[^a-zA-Z0-9]+/g," "),c=i.length;this.isMatchCase||(d=i.toLowerCase(),l=n.toLowerCase(),h=h.toLowerCase(),A=A.toLowerCase(),p=p.toLowerCase());for(var g=[],u=[],f=-c,m=-c,w=-c,y=-c,S=-c;(0!==f||0===f)&&""!==d&&" "!==d&&d;){if(this.isExactMatch){var C=void 0,B=i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),I=new RegExp("(?<!\\w)"+B+"(?!\\w)","g");for(C=I.exec(l);null!==C;)g.push(C.index),C=I.exec(l);break}f=l.indexOf(d,f+c);n.substring(0,f);var b=0;if(!this.isMatchCase&&/[^\u0000-\u007F]/.test(n)&&-1!==f&&(f-=b=l.substring(0,f+c).length-l.substring(0,f+c).replace(/[\u0300-\u036f]/g,"").length),-1!==d.indexOf(" ")){var v=i.replace(" ","\r\n");m=l.indexOf(v,m+c),(m=-1)<=-1||m<f&&g.push(m)}if(f<=-1&&m<=-1)break;f<=-1||g.push(f),m>f&&!(m<=-1)&&g.push(m),b>0&&(f+=b)}if(0===g.length){if(w=h.indexOf(d,w+c),y=A.indexOf(d,y+c),S=p.indexOf(d,S+c),-1!==w){f=-(s=this.correctLinetext(i,f,l))[0].length;for(var E=0;E<s.length;E++)f=l.indexOf(s[parseInt(E.toString(),10)].trim(),f+(void 0===s[E-1]?s[0].length:s[E-1].length)),u.push(f),u.length>1&&(u[1]-(u[0]+s[0].length)<=3?(g.push(u),this.searchMatches[parseInt(e.toString(),10)]=g):(E=-1,f=u[0]+s[0].length,u.splice(0,u.length)))}else if(-1!==S){f=-(s=this.correctLinetext(i,f,l))[0].length;for(E=0;E<s.length;E++)f=l.indexOf(s[parseInt(E.toString(),10)].trim(),f+(void 0===s[E-1]?s[0].length:s[E-1].length)),u.push(f),u.length>1&&(u[1]-(u[0]+s[0].length)<=3?(g.push(u),this.searchMatches[parseInt(e.toString(),10)]=g):(E=-1,f=u[0]+s[0].length,u.splice(0,u.length)))}else if(-1!==y){f=-(s=this.correctLinetext(i,f,l))[0].length;for(E=0;E<s.length;E++)f=l.indexOf(s[parseInt(E.toString(),10)].trim(),f+(void 0===s[E-1]?s[0].length:s[E-1].length)),u.push(f),u.length>1&&(u[1]-(u[0]+s[0].length)<=3?(g.push(u),this.searchMatches[parseInt(e.toString(),10)]=g):(E=-1,f=u[0]+s[0].length,u.splice(0,u.length)))}g.length>1&&g.splice(1,g.length)}if(this.searchMatches&&g.length>0&&(this.searchMatches[parseInt(e.toString(),10)]=g),r||(-1===this.searchedPages.indexOf(e)&&(this.searchedPages.push(e),this.startIndex=this.searchedPages[0]),this.updateSearchInputIcon(!1)),this.searchMatches&&this.searchMatches[parseInt(e.toString(),10)]&&0!==this.searchMatches[parseInt(e.toString(),10)].length)r||(this.isPrevSearch&&(this.searchIndex=this.searchMatches[parseInt(e.toString(),10)].length-1),this.pdfViewerBase.currentPageNumber-1!==this.searchPageIndex?this.searchMatches.length>0&&(0===this.searchIndex||-1===this.searchIndex)&&this.searchPageIndex===this.currentSearchIndex?(this.isMessagePopupOpened||this.isSearchText||this.onMessageBoxOpen(),this.searchPageIndex=this.getSearchPage(this.pdfViewerBase.currentPageNumber-1),this.searchedPages=[this.searchPageIndex]):this.isPrevSearch&&this.searchMatches&&this.searchMatches.length>0&&this.searchMatches[this.searchPageIndex]&&this.searchMatches[this.searchPageIndex].length>0&&this.searchedPages.length===this.pdfViewerBase.pageCount&&this.startIndex-1===this.searchPageIndex?(this.isMessagePopupOpened||this.onMessageBoxOpen(),this.searchedPages=[this.startIndex]):Mh[0]===this.searchPageIndex&&this.areAllOccurencesSearched()&&(this.isMessagePopupOpened||this.onMessageBoxOpen()):this.searchMatches&&this.searchMatches[this.searchPageIndex]&&this.searchMatches[this.searchPageIndex].length>0&&this.searchedPages.length===this.pdfViewerBase.pageCount&&this.startIndex===this.searchPageIndex&&this.pdfViewerBase.pageCount>1&&(this.isMessagePopupOpened||this.onMessageBoxOpen(),this.searchedPages=[this.startIndex])),this.highlightSearchedTexts(e,r,s);else if(!r)if(this.isPrevSearch?this.searchPageIndex=this.searchPageIndex-1<0?this.pdfViewerBase.pageCount-1:this.searchPageIndex-1:this.searchPageIndex=this.searchPageIndex+1<this.pdfViewerBase.pageCount?this.searchPageIndex+1:0,-1===this.searchedPages.indexOf(this.searchPageIndex)&&this.searchedPages.length!==this.pdfViewerBase.pageCount)this.showLoadingIndicator(!0),this.searchPageIndex=this.findNextPageWithText(this.searchPageIndex,!0),this.initSearch(this.searchPageIndex,!1);else{var x=this.getSearchPage(e);this.searchMatches&&(0,t.isNullOrUndefined)(this.searchMatches[this.searchPageIndex])&&this.searchedPages.length===this.pdfViewerBase.pageCount?(this.isMessagePopupOpened||this.onMessageBoxOpen(),this.pdfViewerBase.updateScrollTop(this.startIndex)):this.searchMatches&&this.searchMatches.length>0&&(0===this.searchIndex||-1===this.searchIndex)&&x===this.currentSearchIndex?(this.isPrevSearch?(this.isMessagePopupOpened||this.onMessageBoxOpen(),this.searchPageIndex=x,this.searchedPages=[x],this.searchIndex=-1):(this.isMessagePopupOpened||0===this.pdfViewerBase.currentPageNumber||this.isSearchText||this.onMessageBoxOpen(),this.searchPageIndex=x,this.searchedPages=[x],this.searchIndex=0),this.highlightSearchedTexts(this.searchPageIndex,r,void 0)):this.searchMatches&&this.searchMatches[this.searchPageIndex]&&this.searchMatches[this.searchPageIndex].length>0&&this.searchedPages.length===this.pdfViewerBase.pageCount&&(this.isMessagePopupOpened||this.onMessageBoxOpen(),this.searchPageIndex=this.startIndex,this.searchedPages=[this.searchPageIndex],this.searchIndex=0,this.pdfViewerBase.updateScrollTop(this.startIndex),this.highlightSearchedTexts(this.searchPageIndex,r,void 0))}},e.prototype.correctLinetext=function(e,i,n){var o=[],r=e.split(/[" "]+/);this.isMatchCase||(r=e.toLowerCase().split(/\s+/)),i=0;var a="",s=n.replace(/ \r\n/g," ");s=(s=s.replace(/\r\n/g," ")).replace(/[^a-zA-Z0-9 ]/g,""),e=e.replace(/[^a-zA-Z0-9 ]/g,"");var l=s.match(e);if(this.isMatchCase||(l=s.match(e.toLowerCase())),(0,t.isNullOrUndefined)(l))return o;for(var d=l=n.slice(l.index,n.length),h=0;h<r.length;h++){var A=a+r[parseInt(h.toString(),10)];i=n.indexOf(A,i),("\n"===(d=d?d.replace(r[h-1],""):n.replace(r[h-1],""))[d.indexOf(r[parseInt(h.toString(),10)])-1]&&"\n"===d[d.indexOf(r[h+1])-1]||"\n"===d[d.indexOf(r[parseInt(h.toString(),10)])-1]&&(0,t.isNullOrUndefined)(d[d.indexOf(r[h+1])-1]))&&(i=-1,""===a&&(a=r[parseInt(h.toString(),10)],h+=1)),-1!==i?(a+=r[parseInt(h.toString(),10)]+" ",h===r.length-1&&o.push(a)):(o.push(a),a=r[parseInt(h.toString(),10)]+" ","\n"===d[d.indexOf(r[parseInt(h.toString(),10)])-1]&&"\n"===d[d.indexOf(r[h+1])-1]&&(o.push(a),a=r[h+1]+" ",d=d?d.replace(r[h-1],""):n.replace(r[h-1],""),h+=1),h===r.length-1&&o.push(a))}return o},e.prototype.getSearchTextContent=function(e,t,i,n,o,r){var a=i,s=t,l=t.length;this.isMatchCase||(s=t.toLowerCase(),a=i.toLowerCase());for(var d=[],h=-l,A=-l;0!==h&&""!==s&&" "!==s&&s;){if(h=a.indexOf(s,h+l),-1!==s.indexOf(" ")){var p=t.replace(" ","\r\n");(A=a.indexOf(p,A+l))<=-1||A<h&&d.push(A)}if(h<=-1&&A<=-1)break;h<=-1||d.push(h),A>h&&!(A<=-1)&&d.push(A)}0!==d.length&&(this.searchCount=this.searchCount+d.length),this.searchMatches&&d.length>0&&(this.searchMatches[parseInt(e.toString(),10)]=d)},e.prototype.getSearchPage=function(e){var t=null;if(this.isPrevSearch){for(var i=e;i>=0;i--)if(i!==e&&this.searchMatches[parseInt(i.toString(),10)]){t=i;break}if(!t)for(var n=this.pdfViewerBase.pageCount-1;n>e;n--)if(this.searchMatches[parseInt(n.toString(),10)]){t=n;break}}else{for(i=e;i<this.pdfViewerBase.pageCount;i++)if(i!==e&&this.searchMatches[parseInt(i.toString(),10)]){t=i;break}if(!t)if(0===e)t=e;else for(n=0;n<e;n++)if(this.searchMatches[parseInt(n.toString(),10)]){t=n;break}}return t},e.prototype.areAllNonEmptyPagesSearched=function(){for(var e=[],t=0;t<this.searchMatches.length;t++)this.searchMatches[parseInt(t.toString(),10)]&&this.searchMatches[parseInt(t.toString(),10)].length>0&&e.push(t);for(var i=0,n=e;i<n.length;i++){var o=n[i];if(-1===this.searchedPages.indexOf(o))return!1}return!0},e.prototype.areAllOccurencesSearched=function(){return this.searchedOccurrences.length===this.searchCount},e.prototype.highlightSearchedTexts=function(e,i,n){var o,r=this.searchMatches[parseInt(e.toString(),10)],a={y:-100,x:-100},s=this.searchString,l=this.pdfViewerBase.textLayer.characterBound[parseInt(e.toString(),10)];if(i&&this.pdfViewerBase.currentPageNumber-1!==this.searchPageIndex&&this.searchMatches.length>0&&e===this.getSearchPage(this.pdfViewerBase.currentPageNumber-1)&&!0,l&&void 0!==r){for(var d=0;d<r.length;d++){if(void 0!==r[parseInt(d.toString(),10)].length&&void 0!==n)if(d===this.searchIndex&&e===this.searchPageIndex)for(var h=0;h<n.length;h++)o="e-pv-search-text-highlight",this.searchString=n[parseInt(h.toString(),10)].trim(),this.addDivForSearch(d,e,l,this.searchString.length,o,h);else for(h=0;h<n.length;h++)o="e-pv-search-text-highlightother",this.searchString=n[parseInt(h.toString(),10)].trim(),this.addDivForSearch(d,e,l,this.searchString.length,o,h);else o=d===this.searchIndex&&e===this.searchPageIndex?"e-pv-search-text-highlight":"e-pv-search-text-highlightother";(0,t.isNullOrUndefined)(r[parseInt(d.toString(),10)].length)&&this.addDivForSearch(d,e,l,this.searchString.length,o,void 0)}if(this.searchString=s,e===this.searchPageIndex&&!i){var A=this.pdfViewerBase.getElement("_searchtext_"+e+"_"+this.searchIndex);if(A){var p=this.getScrollElement(A);this.isScrollPages(p)&&this.scrollToSearchStr(A,a)}else{this.pdfViewerBase.updateScrollTop(e);var c=this.pdfViewerBase.getElement("_searchtext_"+e+"_"+this.searchIndex);if(c){p=this.getScrollElement(c);this.scrollToSearchStr(p,a)}}}}},e.prototype.addDivForSearch=function(e,i,n,o,r,a){var s,l=this.pdfViewerBase.getElement("_textLayer_"+i);(0,t.isNullOrUndefined)(l)&&"e-pv-search-text-highlight"===r&&this.pdfViewer.navigation&&this.pdfViewer.navigation.goToPage(i+1);for(var d=s=void 0!==this.searchMatches[parseInt(i.toString(),10)][parseInt(e.toString(),10)].length?this.searchMatches[parseInt(i.toString(),10)][parseInt(e.toString(),10)][""+a]:this.searchMatches[parseInt(i.toString(),10)][parseInt(e.toString(),10)],h=0;s<d+o;)s=this.addDivElement(s,n,o,r,e,i,d,h,a),h++;"e-pv-search-text-highlight"===r&&this.showLoadingIndicator(!1)},e.prototype.addDivElement=function(e,t,i,n,o,r,a,s,l){var d=0,h=0,A=0,p=0,c=!1;t[parseInt(e.toString(),10)]&&(p=t[parseInt(e.toString(),10)].X,A=t[parseInt(e.toString(),10)].Y);var g=0;for(e-a!=0&&(g=e-a,i+=1);g<i;g++){if(t[parseInt(e.toString(),10)])p>(f=t[parseInt(e.toString(),10)]).X+f.Width&&(c=!0),d=d>(m=(A=A<f.Y?A:f.Y)<f.Y?f.Y-A:A-f.Y)+f.Height?d:m+f.Height,e++}var u=!1;if(c){var f,m;p=(f=t[a+i-1]).X,h=t[parseInt(a.toString(),10)].X-t[a+i-1].X,d=d>(m=(A=A<f.Y?A:f.Y)<f.Y?f.Y-A:A-f.Y)+f.Height?d:m+f.Height;for(var w=t[a-1].Y-t[parseInt(a.toString(),10)].Y,y=a+i-1;y>=a;y--)0===(f=t[parseInt(y.toString(),10)]).Width&&(w=f.Y-t[y-1].Y);h+=w}else if(a+i!==e)u=!0,t[e-1]&&(h=t[e-1].X-p);else{u=!1;var S=this.pdfViewerBase.clientSideRendering?this.pdfViewerBase.getLinkInformation(r,!0):this.pdfViewerBase.getStoredData(r,!0),C=null;if(S)C=S.pageText;else if(this.pdfViewer.isExtractText&&0!==this.documentTextCollection.length){var B=this.documentTextCollection[parseInt(r.toString(),10)][parseInt(r.toString(),10)];C=B.pageText?B.pageText:B.PageText}t[parseInt(e.toString(),10)]?h=!C||""!==C[parseInt(e.toString(),10)]&&" "!==C[parseInt(e.toString(),10)]&&"\r"!==C[parseInt(e.toString(),10)]&&"\n"!==C[parseInt(e.toString(),10)]||0!==t[parseInt(e.toString(),10)].Width?t[parseInt(e.toString(),10)].X-p:t[e-1].X-p+t[e-1].Width:t[e-1]&&(h=t[e-1].X-p+t[e-1].Width)}return this.createSearchTextDiv(o,r,d,h,A,p,n,u,s,l),e},e.prototype.createSearchTextDiv=function(e,i,n,o,r,a,s,l,d,h){var A="_searchtext_"+i+"_"+e;l&&(A+="_"+d);var p=document.getElementsByClassName("e-pv-search-text-highlight");if(void 0!==h&&this.pdfViewerBase.getElement(A)&&!p[parseInt(h.toString(),10)]){var c=(0,t.createElement)("div",{id:this.pdfViewer.element.id+A+"_"+h}),g=this.pdfViewerBase.pageSize[parseInt(i.toString(),10)];if(this.calculateBounds(c,n,o,r,a,g),c.classList.add(s),"e-pv-search-text-highlight"===s){c.style.backgroundColor=""===this.pdfViewer.textSearchColorSettings.searchHighlightColor?"#fdd835":this.pdfViewer.textSearchColorSettings.searchHighlightColor;var u={left:a,top:r,width:o,height:n};this.pdfViewer.fireTextSearchHighlight(this.searchString,this.isMatchCase,u,i+1)}else"e-pv-search-text-highlightother"===s&&(c.style.backgroundColor=""===this.pdfViewer.textSearchColorSettings.searchColor?"#8b4c12":this.pdfViewer.textSearchColorSettings.searchColor);var f=this.pdfViewerBase.getElement("_textLayer_"+i);c.style.zIndex=this.searchTextDivzIndex,f&&f.appendChild(c)}if(!this.pdfViewerBase.getElement(A)){c=(0,t.createElement)("div",{id:this.pdfViewer.element.id+A}),g=this.pdfViewerBase.pageSize[parseInt(i.toString(),10)];if(this.calculateBounds(c,n,o,r,a,g),c.classList.add(s),"e-pv-search-text-highlight"===s){c.style.backgroundColor=""===this.pdfViewer.textSearchColorSettings.searchHighlightColor?"#fdd835":this.pdfViewer.textSearchColorSettings.searchHighlightColor;u={left:a,top:r,width:o,height:n};this.pdfViewer.fireTextSearchHighlight(this.searchString,this.isMatchCase,u,i+1)}else"e-pv-search-text-highlightother"===s&&(c.style.backgroundColor=""===this.pdfViewer.textSearchColorSettings.searchColor?"#8b4c12":this.pdfViewer.textSearchColorSettings.searchColor);f=this.pdfViewerBase.getElement("_textLayer_"+i);c.style.zIndex=this.searchTextDivzIndex,f&&f.appendChild(c)}},e.prototype.calculateBounds=function(e,t,i,n,o,r){0===r.rotation||2===r.rotation?(e.style.height=Math.ceil(t)*this.pdfViewerBase.getZoomFactor()+"px",e.style.width=i*this.pdfViewerBase.getZoomFactor()+"px",2===r.rotation?(e.style.top=(r.height-n-t)*this.pdfViewerBase.getZoomFactor()+"px",e.style.left=Math.ceil(r.width-o-i)*this.pdfViewerBase.getZoomFactor()+"px"):(e.style.top=n*this.pdfViewerBase.getZoomFactor()+"px",e.style.left=o*this.pdfViewerBase.getZoomFactor()+"px")):1===r.rotation?(e.style.height=i*this.pdfViewerBase.getZoomFactor()+"px",e.style.width=t*this.pdfViewerBase.getZoomFactor()+"px",e.style.top=o*this.pdfViewerBase.getZoomFactor()+"px",e.style.left=(r.height-n-t)*this.pdfViewerBase.getZoomFactor()+"px"):3===r.rotation&&(e.style.height=i*this.pdfViewerBase.getZoomFactor()+"px",e.style.width=t*this.pdfViewerBase.getZoomFactor()+"px",e.style.left=(r.width-r.height+n)*this.pdfViewerBase.getZoomFactor()+"px",e.style.top=(r.height-o-i)*this.pdfViewerBase.getZoomFactor()+"px")},e.prototype.isClassAvailable=function(){for(var e=!1,t=0;t<this.tempElementStorage.length;t++)if(this.tempElementStorage[parseInt(t.toString(),10)].classString&&("e-pv-search-text-highlight"===this.tempElementStorage[parseInt(t.toString(),10)].classString||"e-pv-search-text-highlightother"===this.tempElementStorage[parseInt(t.toString(),10)].classString)){e=!0;break}return e},e.prototype.getScrollElement=function(e){var t=e;if(e.childNodes.length>0)for(var i=0;i<e.childNodes.length;i++)e.childNodes[parseInt(i.toString(),10)].classList&&e.childNodes[parseInt(i.toString(),10)].classList.contains("e-pv-search-text-highlight")&&(t=e.childNodes[parseInt(i.toString(),10)]);return t},e.prototype.scrollToSearchStr=function(e,i){for(var n=e.offsetParent,o=e.offsetTop+e.clientTop,r=e.offsetLeft+e.clientLeft;n.id!==this.pdfViewerBase.viewerContainer.id;)o+=n.offsetTop,r+=n.offsetLeft,n=n.offsetParent;i&&(o+=i.y,r+=i.x,(t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||this.pdfViewerBase.getZoomFactor()>1.5)&&(n.scrollLeft=r)),n.scrollTop=o,this.pdfViewerBase.updateMobileScrollerPosition()},e.prototype.resizeSearchElements=function(e){for(var t=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+"_searchtext_"+e+'"]'),i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)],o=1;this.pdfViewer.magnificationModule&&(o=this.pdfViewer.magnificationModule.previousZoomFactor);var r=e+"_"+o+"_"+this.pdfViewerBase.getZoomFactor();n.getAttribute("name")!==r&&(n.style.width=parseFloat(n.style.width)/o*this.pdfViewerBase.getZoomFactor()+"px",n.style.height=parseFloat(n.style.height)/o*this.pdfViewerBase.getZoomFactor()+"px",n.style.top=parseFloat(n.style.top)/o*this.pdfViewerBase.getZoomFactor()+"px",n.style.left=parseFloat(n.style.left)/o*this.pdfViewerBase.getZoomFactor()+"px",n.setAttribute("name",r))}},e.prototype.highlightOtherOccurrences=function(e){this.initSearch(e,!0)},e.prototype.highlightOthers=function(e){for(var t=this.getIndexes(),i=parseFloat(t.lowerPageValue.toString()),n=parseFloat(t.higherPageValue.toString()),o=i;o<=n;o++)this.searchMatches[parseInt(o.toString(),10)]&&this.searchMatches[parseInt(o.toString(),10)].length>0&&this.highlightOtherOccurrences(o);e&&this.showLoadingIndicator(!1)},e.prototype.clearAllOccurrences=function(){for(var e=document.querySelectorAll('div[id*="'+this.pdfViewer.element.id+'_searchtext_"]'),t=0;t<e.length;t++)e[parseInt(t.toString(),10)].parentElement.removeChild(e[parseInt(t.toString(),10)])},e.prototype.getIndexes=function(){var e=this.pdfViewerBase.currentPageNumber-3;e=e>0?e:0;var t=this.pdfViewerBase.currentPageNumber+1;return{lowerPageValue:e,higherPageValue:t=t<this.pdfViewerBase.pageCount?t:this.pdfViewerBase.pageCount-1}},e.prototype.applyTextSelection=function(){if(this.pdfViewer.textSelectionModule&&!this.pdfViewerBase.isTextSelectionDisabled)for(var e=this.getIndexes(),t=parseFloat(e.lowerPageValue.toString()),i=parseFloat(e.higherPageValue.toString()),n=t;n<=i;n++)this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(n)},e.prototype.resetTextSearch=function(e){void 0===e&&(e=!1),this.resetVariables(),this.onTextSearchClose(),this.searchPageIndex=null,this.searchIndex=0,this.updateSearchInputIcon(!0),this.enableNextButton(!1),this.enablePrevButton(!1),e&&(this.documentTextCollection=[]),this.isTextRetrieved=!1,this.isTextSearched=!1,this.isSearchText=!1,this.searchRequestHandler&&this.searchRequestHandler.clear(),this.searchCount=0,this.searchString=""},e.prototype.onTextSearchClose=function(){this.isPrevSearch=!1,this.isTextSearch=!1,this.pdfViewerBase.pageCount>0&&this.clearAllOccurrences()},e.prototype.createRequestForSearch=function(e){var t=this,n=816,o=this.pdfViewer.element.clientHeight,r=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width,a=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height,s=this.pdfViewerBase.getTileCount(r,a),l=n>=r?1:s,d=n>=r?1:s,h=!1,A=this.pdfViewer.tileRenderingSettings;A.enableTileRendering&&A.x>0&&A.y>0&&(l=n>=r?1:A.x,d=n>=r?1:A.y),l>1&&d>1&&(h=!0);for(var p=function(a){for(var A=function(A){var p,g,u={xCoordinate:a,yCoordinate:A,pageNumber:e,viewPortWidth:n,viewPortHeight:o,documentId:t.pdfViewerBase.getDocumentId(),hashId:t.pdfViewerBase.hashId,zoomFactor:t.pdfViewerBase.getZoomFactor(),tilecount:s,action:"Search",elementId:t.pdfViewer.element.id,uniqueId:t.pdfViewerBase.documentId,tileXCount:l,tileYCount:d};c.pdfViewerBase.jsonDocumentId&&(u.documentId=c.pdfViewerBase.jsonDocumentId);var f=c.pdfViewerBase.retrieveCurrentZoomFactor();if(c.searchRequestHandler=new hd(c.pdfViewer),c.searchRequestHandler.url=c.pdfViewer.serviceUrl+"/"+c.pdfViewer.serverActionSettings.renderPages,c.searchRequestHandler.responseType="json",c.pdfViewerBase.clientSideRendering||c.searchRequestHandler.send(u),c.searchRequestHandler.onSuccess=function(i){var o=i.data;if(o){if("object"!=typeof o)try{o=JSON.parse(o)}catch(e){t.pdfViewerBase.onControlError(500,o,this.pdfViewer.serverActionSettings.renderPages),o=null}o&&t.searchRequestOnSuccess(o,t,n,r,h,e,a,A,l,d)}},c.searchRequestHandler.onFailure=function(e){t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,this.pdfViewer.serverActionSettings.renderPages)},c.searchRequestHandler.onError=function(e){t.pdfViewerBase.openNotificationPopup(),t.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,this.pdfViewer.serverActionSettings.renderPages)},c.pdfViewerBase.clientSideRendering){var m=c.pdfViewerBase.documentId+"_"+e+"_textDetails",w=!c.pdfViewerBase.pageTextDetails||!c.pdfViewerBase.pageTextDetails[""+m],y=new i.Rect(0,0,0,0),S=new i.Rect(0,0,0,0),C=c.pdfViewer.pdfRenderer.loadedDocument.getPage(e);C&&C._pageDictionary&&C._pageDictionary._map&&C._pageDictionary._map.CropBox&&(p=C._pageDictionary._map.CropBox,y.x=p[0],y.y=p[1],y.width=p[2],y.height=p[3]),C&&C._pageDictionary&&C._pageDictionary._map&&C._pageDictionary._map.MediaBox&&(g=C._pageDictionary._map.MediaBox,S.x=g[0],S.y=g[1],S.width=g[2],S.height=g[3]),n>=r||!c.pdfViewer.tileRenderingSettings.enableTileRendering?c.pdfViewerBase.pdfViewerRunner.postMessage({pageIndex:e,message:"renderPageSearch",zoomFactor:t.pdfViewerBase.getZoomFactor(),isTextNeed:w,textDetailsId:m,cropBoxRect:y,mediaBoxRect:S}):c.pdfViewerBase.pdfViewerRunner.postMessage({pageIndex:e,message:"renderImageAsTileSearch",zoomFactor:f,tileX:a,tileY:A,tileXCount:l,tileYCount:d,isTextNeed:w,textDetailsId:m,cropBoxRect:y,mediaBoxRect:S}),c.pdfViewerBase.pdfViewerRunner.onmessage=function(e){switch(e.data.message){case"imageRenderedSearch":if("imageRenderedSearch"===e.data.message){var i=document.createElement("canvas"),o=e.data,s=o.value,p=o.width,c=o.height,g=o.pageIndex;i.width=p,i.height=c,(_=(x=i.getContext("2d")).createImageData(p,c)).data.set(s),x.putImageData(_,0,0);var u=i.toDataURL();t.pdfViewerBase.releaseCanvas(i);var f=e.data.textBounds,m=e.data.textContent,w=e.data.pageText,y=e.data.rotation,S=e.data.characterBounds,C=t.pdfViewer.pdfRendererModule.getHyperlinks(g),B={image:u,pageNumber:g,uniqueId:t.pdfViewerBase.documentId,pageWidth:p,zoomFactor:e.data.zoomFactor,hyperlinks:C.hyperlinks,hyperlinkBounds:C.hyperlinkBounds,linkAnnotation:C.linkAnnotation,linkPage:C.linkPage,annotationLocation:C.annotationLocation,characterBounds:S};if(e.data.isTextNeed)B.textBounds=f,B.textContent=m,B.rotation=y,B.pageText=w,t.pdfViewerBase.storeTextDetails(g,f,m,w,y,S);else{var I=JSON.parse(t.pdfViewerBase.pageTextDetails[""+e.data.textDetailsId]);B.textBounds=I.textBounds,B.textContent=I.textContent,B.rotation=I.rotation,B.pageText=I.pageText,B.characterBounds=I.characterBounds}if(B&&B.image&&B.uniqueId===t.pdfViewerBase.documentId){t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.renderPages,B);var b=void 0!==B.pageNumber?B.pageNumber:g,v=t.pdfViewerBase.createBlobUrl(B.image.split("base64,")[1],"image/png"),E={image:(URL||webkitURL).createObjectURL(v),width:B.pageWidth,uniqueId:B.uniqueId,zoomFactor:B.zoomFactor};t.pdfViewerBase.storeImageData(b,E),t.searchRequestOnSuccess(B,t,n,r,h,g,a,A,l,d)}}break;case"renderTileImageSearch":if("renderTileImageSearch"===e.data.message){i=document.createElement("canvas");var x,_,D=e.data,M=(s=D.value,D.w),V=D.h,Q=D.noTileX,F=D.noTileY,T=D.x,k=D.y,P=D.pageIndex;i.setAttribute("height",V),i.setAttribute("width",M),i.width=M,i.height=V,(_=(x=i.getContext("2d")).createImageData(M,V)).data.set(s),x.putImageData(_,0,0);u=i.toDataURL();t.pdfViewerBase.releaseCanvas(i);var N=M,R=V,L=(f=e.data.textBounds,m=e.data.textContent,w=e.data.pageText,y=e.data.rotation,S=e.data.characterBounds,{image:u,noTileX:Q,noTileY:F,pageNumber:P,tileX:T,tileY:k,uniqueId:t.pdfViewerBase.documentId,pageWidth:r,width:N,transformationMatrix:{Values:[1,0,0,1,N*T,R*k,0,0,0]},zoomFactor:e.data.zoomFactor,characterBounds:S,isTextNeed:e.data.isTextNeed,textDetailsId:e.data.textDetailsId});if(L&&L.image&&L.uniqueId===t.pdfViewerBase.documentId){t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.renderPages,L);b=void 0!==L.pageNumber?L.pageNumber:P;if(0===T&&0===k){v=t.pdfViewerBase.createBlobUrl(L.image.split("base64,")[1],"image/png"),E={image:(URL||webkitURL).createObjectURL(v),width:L.pageWidth,uniqueId:L.uniqueId,tileX:L.tileX,tileY:L.tileY,zoomFactor:L.zoomFactor,transformationMatrix:L.transformationMatrix};if(L.isTextNeed)L.textBounds=f,L.textContent=m,L.rotation=y,L.pageText=w,t.pdfViewerBase.storeTextDetails(P,f,m,w,y,S);else{I=JSON.parse(t.pdfViewerBase.pageTextDetails[""+L.textDetailsId]);L.textBounds=I.textBounds,L.textContent=I.textContent,L.rotation=I.rotation,L.pageText=I.pageText,L.characterBounds=I.characterBounds}t.pdfViewerBase.storeImageData(b,E,L.tileX,L.tileY)}else{v=t.pdfViewerBase.createBlobUrl(L.image.split("base64,")[1],"image/png"),E={image:(URL||webkitURL).createObjectURL(v),width:L.width,uniqueId:L.uniqueId,tileX:L.tileX,tileY:L.tileY,zoomFactor:L.zoomFactor,transformationMatrix:L.transformationMatrix};t.pdfViewerBase.storeImageData(b,E,L.tileX,L.tileY)}t.searchRequestOnSuccess(L,t,n,r,h,P,T,k,Q,F)}}}}}},p=0;p<d;p++)A(p)},c=this,g=0;g<l;g++)p(g)},e.prototype.searchRequestOnSuccess=function(e,i,n,o,r,a,s,l,d,h){if((0,t.isNullOrUndefined)(e.pageText)||e.uniqueId!==i.pdfViewerBase.documentId){if(r&&e.uniqueId===i.pdfViewerBase.documentId){i.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.renderPages,e);A=void 0!==e.pageNumber?e.pageNumber:a;i.pdfViewerBase.storeWinData(e,A,e.tileX,e.tileY),s===d-1&&l===h-1&&i.initSearch(a,!1)}}else{this.getSearchCountText(),i.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.renderPages,e);var A=void 0!==e.pageNumber?e.pageNumber:a;n>=o?i.pdfViewerBase.storeWinData(e,A):i.pdfViewerBase.storeWinData(e,A,e.tileX,e.tileY),r?s===d-1&&l===h-1&&(this.isMessagePopupOpened||i.initSearch(a,!1)):this.isMessagePopupOpened||i.initSearch(a,!1)}},e.prototype.getPDFDocumentTexts=function(){var e=50,t=this.pdfViewerBase.pageCount;e>=t&&(e=t),this.createRequestForGetPdfTexts(0,e)},e.prototype.createRequestForGetPdfTexts=function(e,t){var i=this,n={pageStartIndex:e,pageEndIndex:t,documentId:i.pdfViewerBase.getDocumentId(),hashId:i.pdfViewerBase.hashId,action:"RenderPdfTexts",elementId:i.pdfViewer.element.id,uniqueId:i.pdfViewerBase.documentId};if(this.pdfViewerBase.jsonDocumentId&&(n.documentId=this.pdfViewerBase.jsonDocumentId),this.searchRequestHandler=new hd(this.pdfViewer),this.searchRequestHandler.url=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.renderTexts,this.searchRequestHandler.responseType="json",this.pdfViewerBase.clientSideRendering||this.searchRequestHandler.send(n),this.searchRequestHandler.onSuccess=function(n){var o=n.data;if(o){if("object"!=typeof o)try{o=JSON.parse(o)}catch(e){i.pdfViewerBase.onControlError(500,o,this.pdfViewer.serverActionSettings.renderTexts),o=null}o&&i.pdfTextSearchRequestOnSuccess(o,i,e,t)}},this.searchRequestHandler.onFailure=function(e){i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,this.pdfViewer.serverActionSettings.renderTexts)},this.searchRequestHandler.onError=function(e){i.pdfViewerBase.openNotificationPopup(),i.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,this.pdfViewer.serverActionSettings.renderTexts)},this.pdfViewerBase.clientSideRendering){this.pdfViewer.pdfRendererModule.getDocumentText(n,"pdfTextSearchRequest")}},e.prototype.pdfTextSearchRequestSuccess=function(e,t,i){this.pdfTextSearchRequestOnSuccess(e,this,t,i)},e.prototype.pdfTextSearchRequestOnSuccess=function(e,t,i,n){if(e.documentTextCollection&&e.uniqueId===t.pdfViewerBase.documentId){t.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.renderTexts,e),t.documentTextCollection&&t.documentTextCollection.length>0?t.pdfViewer.isVue&&!t.pdfViewer.isVue3?t.documentTextCollection=t.orderPdfTextCollections(JSON.parse("["+JSON.stringify(t.documentTextCollection).slice(1,-1)+","+JSON.stringify(e.documentTextCollection).slice(1,-1)+"]")):(t.documentTextCollection=e.documentTextCollection.concat(t.documentTextCollection),t.documentTextCollection=t.orderPdfTextCollections(t.documentTextCollection)):t.pdfViewer.isVue&&!t.pdfViewer.isVue3?t.documentTextCollection=JSON.parse("["+JSON.stringify(e.documentTextCollection).slice(1,-1)+"]"):t.documentTextCollection=e.documentTextCollection;var o=t.pdfViewerBase.pageCount;n!==o?(i=n,(n+=50)>=o&&(n=o),t.createRequestForGetPdfTexts(i,n)):(t.isTextRetrieved=!0,t.pdfViewer.fireTextExtractionCompleted(t.documentTextCollection),t.isTextSearched&&t.searchString.length>0&&(t.textSearch(t.searchString),t.isTextSearched=!1))}},e.prototype.orderPdfTextCollections=function(e){for(var t=[],i=0;i<e.length;i++)if(0===t.length)t.push(e[parseInt(i.toString(),10)]);else if(parseInt(Object.keys(e[parseInt(i.toString(),10)])[0],10)>parseInt(Object.keys(t[t.length-1])[0],10))t.push(e[parseInt(i.toString(),10)]);else for(var n=0;n<t.length;n++)if(parseInt(Object.keys(e[parseInt(i.toString(),10)])[0],10)<parseInt(Object.keys(t[parseInt(n.toString(),10)])[0],10)){t.splice(n,0,e[parseInt(i.toString(),10)]);break}return t},e.prototype.createSearchBoxButtons=function(e,i){var n=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_"+e,className:"e-btn e-icon-btn e-pv-text-search-btn "+i});n.setAttribute("type","button");var o=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_"+e+"Icon",className:"e-pv-icon-search "+i+"-icon"});return n.disabled=!0,n.appendChild(o),n},e.prototype.enablePrevButton=function(e){t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(e?this.prevSearchBtn.removeAttribute("disabled"):this.prevSearchBtn&&(this.prevSearchBtn.disabled=!0))},e.prototype.enableNextButton=function(e){t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode||(e?this.nextSearchBtn.removeAttribute("disabled"):this.nextSearchBtn&&(this.nextSearchBtn.disabled=!0))},e.prototype.resetVariables=function(){this.searchedPages=[],this.searchMatches=[],this.searchedOccurrences=[]},e.prototype.searchButtonClick=function(e,t,i){this.isMessagePopupOpened=!1,e.classList.contains("e-pv-search-icon")?this.initiateTextSearch(t.value,i):e.classList.contains("e-pv-search-close")&&(this.showLoadingIndicator(!1),t.value="",this.resetTextSearch(),this.searchCountEle&&(this.searchCountEle.innerHTML="",this.adjustInputContainerWidth()),t.focus())},e.prototype.updateSearchInputIcon=function(e){(0,t.isBlazor)()&&this.searchBtn&&t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode&&(this.searchBtn=this.pdfViewerBase.getElement("_search_box-icon").children[0].children[0]),this.searchBtn&&(e?(this.searchBtn.classList.remove("e-pv-search-close"),this.searchBtn.classList.add("e-pv-search-icon")):(this.searchBtn.classList.remove("e-pv-search-icon"),this.searchBtn.classList.add("e-pv-search-close")))},e.prototype.onMessageBoxOpen=function(){var e=this;(this.pdfViewer.fireTextSearchComplete(this.searchString,this.isMatchCase),this.showLoadingIndicator(!1),this.isMessagePopupOpened=!0,this.pdfViewer.showNotificationDialog)?!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?(0,t.isBlazor)()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_Nomatches").then((function(t){e.pdfViewerBase.createNotificationPopup(t)})):this.searchMatches.length>0?this.pdfViewerBase.createNotificationPopup(this.pdfViewer.localeObj.getConstant("No More Matches")):this.pdfViewerBase.createNotificationPopup(this.pdfViewer.localeObj.getConstant("No Matches")):(0,t.isBlazor)()?this.pdfViewer._dotnetInstance.invokeMethodAsync("GetLocaleText","PdfViewer_NoTextFound").then((function(t){e.pdfViewerBase.navigationPane.createTooltipMobile(t)})):this.searchMatches.length>0?this.pdfViewerBase.navigationPane.createTooltipMobile(this.pdfViewer.localeObj.getConstant("No More Search Matches")):this.pdfViewerBase.navigationPane.createTooltipMobile(this.pdfViewer.localeObj.getConstant("No Search Matches")):setTimeout((function(){e.isMessagePopupOpened=!1}),100);this.currentOccurrence=this.searchCount,this.isLastOccurrenceCompleted=!0,this.currentOccurrence===this.searchCount&&(this.currentOccurrence=0),this.searchCountEle&&this.isSingleSearch&&(this.getSearchCountText(),this.adjustInputContainerWidth()),this.searchedPages=[],this.searchedOccurrences=[],this.searchIndex=0,this.searchPageIndex=this.startSearchPageIndex,(0,t.isNullOrUndefined)(this.searchPageIndex)?this.pdfViewerBase.updateScrollTop(0):this.pdfViewerBase.updateScrollTop(this.searchPageIndex),this.showLoadingIndicator(!1)},e.prototype.searchText=function(e,i){e&&e.length>0&&" "===e[e.length-1]&&(e=e.slice(0,e.length-1)),this.pdfViewer.enableHtmlSanitizer&&e&&(e=t.SanitizeHtmlHelper.sanitize(e)),this.searchString=e,this.isMatchCase=i,this.searchIndex=0,this.isSingleSearch=!0,this.calculateSearchCount(e),this.textSearch(e)},e.prototype.searchNext=function(){this.nextSearch()},e.prototype.searchPrevious=function(){this.prevSearch()},e.prototype.cancelTextSearch=function(){this.resetTextSearch()},e.prototype.destroy=function(){this.searchMatches=void 0},e.prototype.findText=function(e,t,i){this.isMatchCase=t;for(var n=Array.isArray(e)?e:[e],o={},r=null!=i?i:0,a=null!=i?i+1:this.documentTextCollection.length,s=0,l=n;s<l.length;s++){var d=l[s];this.calculateSearchCount(d),o[""+d]=[];for(var h=r;h<a;h++){var A=this.searchMatches[parseInt(h.toString(),10)];if(A){var p=this.documentTextCollection[parseInt(h.toString(),10)][parseInt(h.toString(),10)],c=p.textData?p.textData:p.TextData;if(c){for(var g={pageIndex:h,bounds:[]},u=0,f=A;u<f.length;u++){var m=f[u],w=this.calculateTextBounds(d,m,c);g.bounds.push(w)}g.bounds.length>0&&o[""+d].push(g)}}}}return Array.isArray(e)?o:o[""+e]},e.prototype.calculateTextBounds=function(e,t,i){for(var n=i[parseInt(t.toString(),10)].Bounds,o=n.X,r=n.Y,a=0,s=n.Height,l=0;l<e.length;l++){var d=i[parseInt((t+l).toString(),10)].Bounds;a+=d.Width,s=Math.max(s,d.Height)}return{x:o,y:r,width:a,height:s}},e.prototype.getModuleName=function(){return"TextSearch"},e}(),Qh=function(){function e(e,t){this.printHeight=1056,this.printWidth=816,this.maximumPixels=16777216,this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.print=function(){var e,i=this;this.pdfViewerBase.pageCount>0&&(this.printViewerContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_print_viewer_container",className:"e-pv-print-viewer-container"}),"Default"===this.pdfViewer.printMode?(this.pdfViewerBase.showPrintLoadingIndicator(!0),this.iframe=document.createElement("iframe"),this.iframe.className="iframeprint",this.iframe.id="iframePrint",this.iframe.style.position="fixed",this.iframe.style.top="-100000000px",document.body.appendChild(this.iframe),this.frameDoc=this.iframe.contentWindow?this.iframe.contentWindow:this.iframe.contentDocument,this.frameDoc.document.open()):(this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight),this.createPrintLoadingIndicator(this.printWindow.document.body)),setTimeout((function(){for(e=0;e<i.pdfViewerBase.pageCount;e++){var t=i.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width,n=i.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height,o=793,r=1122;i.printWidth=816,i.printHeight=1056,t>n&&(o=1122,r=793),t>=o+10||t<=o-10||n>=r+10||n<=r-10||(i.printWidth=783,i.printHeight=1110),i.pdfViewer.printModule.createRequestForPrint(e,t,n,i.pdfViewerBase.pageCount,i.pdfViewer.printScaleFactor)}i.pdfViewer.firePrintEnd(i.pdfViewer.downloadFileName)}),100))},e.prototype.createRequestForPrint=function(e,t,i,n,o){var r=this,a={pageNumber:e.toString(),documentId:this.pdfViewerBase.documentId,hashId:this.pdfViewerBase.hashId,zoomFactor:"1",action:"PrintImages",elementId:this.pdfViewer.element.id,uniqueId:this.pdfViewerBase.documentId,digitalSignaturePresent:this.pdfViewerBase.digitalSignaturePresent(e),printScaleFactor:o>=.5&&o<=5?o:o>5?5:1};this.pdfViewerBase.jsonDocumentId&&(a.documentId=this.pdfViewerBase.jsonDocumentId),r.pdfViewerBase.createFormfieldsJsonData(),r.printRequestHandler=new hd(r.pdfViewer),r.printRequestHandler.url=r.pdfViewer.serviceUrl+"/"+r.pdfViewer.serverActionSettings.print,r.printRequestHandler.responseType=null,r.printRequestHandler.mode=!1,this.pdfViewerBase.validateForm&&this.pdfViewer.enableFormFieldsValidation?(this.pdfViewer.fireValidatedFailed(r.pdfViewer.serverActionSettings.download),this.pdfViewerBase.validateForm=!1,this.pdfViewerBase.showPrintLoadingIndicator(!1)):r.pdfViewerBase.clientSideRendering?this.pdfViewerBase.pdfViewerRunner.postMessage({pageIndex:e,message:"printImage",printScaleFactor:o>=.5&&o<=5?o:o>5?5:1}):r.printRequestHandler.send(a),r.printRequestHandler.onSuccess=function(n){r.printSuccess(n,t,i,e)},this.printRequestHandler.onFailure=function(e){r.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,r.pdfViewer.serverActionSettings.print)},this.printRequestHandler.onError=function(e){r.pdfViewerBase.openNotificationPopup(),r.pdfViewer.fireAjaxRequestFailed(e.status,e.statusText,r.pdfViewer.serverActionSettings.print)}},e.prototype.printOnMessage=function(e){var t=document.createElement("canvas"),i=e.data,n=i.value,o=i.width,r=i.height,a=i.pageIndex,s=i.pageWidth,l=i.pageHeight;t.width=o,t.height=r;var d=t.getContext("2d"),h=d.createImageData(o,r);h.data.set(n),d.putImageData(h,0,0);var A=t.toDataURL();this.pdfViewerBase.releaseCanvas(t);var p={image:A,pageNumber:a,uniqueId:this.pdfViewerBase.documentId,pageWidth:o};this.printSuccess(p,s,l,a)},e.prototype.printSuccess=function(e,n,o,r){var a=this;this.pdfViewerBase.isPrint=!0;var s=this.pdfViewerBase.clientSideRendering?e:e.data;if(this.pdfViewerBase.checkRedirection(s))this.pdfViewerBase.showPrintLoadingIndicator(!1);else{if(s&&"object"!=typeof s)try{"object"!=typeof(s=JSON.parse(s))&&(this.pdfViewerBase.onControlError(500,s,this.pdfViewer.serverActionSettings.print),s=null)}catch(e){this.pdfViewerBase.onControlError(500,s,this.pdfViewer.serverActionSettings.print),s=null}if(s&&s.uniqueId===this.pdfViewerBase.documentId){this.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.print,s);var l="";if(!this.pdfViewer.annotationSettings.skipPrint){var d=this.pdfViewerBase.documentAnnotationCollections;if(d&&d[s.pageNumber]&&this.pdfViewerBase.isTextMarkupAnnotationModule()){var h=d[s.pageNumber];if(this.pdfViewerBase.isImportAction){var A=h.textMarkupAnnotation,p=h.shapeAnnotation,c=h.measureShapeAnnotation,g=h.stampAnnotations,u=h.freeTextAnnotation,f=h.stickyNotesAnnotation;l=this.pdfViewer.annotationModule.textMarkupAnnotationModule.printTextMarkupAnnotations(A,s.pageNumber,g,p,c,f,u)}else l=this.pdfViewer.annotationModule.textMarkupAnnotationModule.printTextMarkupAnnotations(h.textMarkupAnnotation,s.pageNumber,h.stampAnnotations,h.shapeAnnotation,h.measureShapeAnnotation,h.stickyNoteAnnotation,h.freeTextAnnotation)}this.pdfViewerBase.isAnnotationCollectionRemoved&&(l=this.pdfViewer.annotationModule.textMarkupAnnotationModule.printTextMarkupAnnotations(null,s.pageNumber,null,null,null,null,null))}var m=s.pageNumber;this.printCanvas=(0,t.createElement)("canvas",{id:this.pdfViewer.element.id+"_printCanvas_"+r,className:"e-pv-print-canvas"}),this.printCanvas.style.width=n+"px",this.printCanvas.style.height=o+"px";var w=this.pdfViewer.printScaleFactor>1&&this.pdfViewer.printScaleFactor<=5?this.pdfViewer.printScaleFactor:this.pdfViewer.printScaleFactor>5?5:2;if(this.pdfViewerBase.clientSideRendering){var y=4493,S=n,C=o;"Width"===(n>o?"Width":"Height")?(S=n>y?y:n)===y&&(C=o/(n/y)):(C=o>y?y:o)===y&&(S=n/(o/y)),o<n&&this.pdfViewer.enablePrintRotation?(this.printCanvas.height=n*w*window.devicePixelRatio,this.printCanvas.width=o*w*window.devicePixelRatio):(this.printCanvas.height=C*w*window.devicePixelRatio,this.printCanvas.width=S*w*window.devicePixelRatio)}else this.printCanvas.height=this.printHeight*w*window.devicePixelRatio,this.printCanvas.width=this.printWidth*w*window.devicePixelRatio;if(this.pdfViewerBase.isDeviceiOS){var B=new i.Size(this.printCanvas.width,this.printCanvas.height),I=this.limitSize(B,this.maximumPixels);this.printCanvas.width=I.width,this.printCanvas.height=I.height}var b=this.printCanvas.getContext("2d"),v=new Image,E=new Image;v.onload=function(){o>n||!a.pdfViewer.enablePrintRotation?(b.drawImage(v,0,0,a.printCanvas.width,a.printCanvas.height),l&&b.drawImage(E,0,0,a.printCanvas.width,a.printCanvas.height)):(b.translate(.5*a.printCanvas.width,.5*a.printCanvas.height),b.rotate(-.5*Math.PI),b.translate(.5*-a.printCanvas.height,.5*-a.printCanvas.width),b.drawImage(v,0,0,a.printCanvas.height,a.printCanvas.width),l&&b.drawImage(E,0,0,a.printCanvas.height,a.printCanvas.width)),m===a.pdfViewerBase.pageCount-1&&a.printWindowOpen(),a.pdfViewer.renderDrawing(null,r)},v.src=s.image,E.src=l,this.printViewerContainer.appendChild(this.printCanvas)}}this.pdfViewerBase.isPrint=!1},e.prototype.limitSize=function(e,t){var n=e.width,o=e.height,r=n*o;if(r<=t)return new i.Size(e.width,e.height);var a=Math.sqrt(t)/Math.sqrt(r);return new i.Size(Math.floor(n*a),Math.floor(o*a))},e.prototype.renderFieldsForPrint=function(e,i,n){var o,r=null;if(o="Default"===this.pdfViewer.printMode?this.frameDoc.document.getElementById("fields_"+e):this.printWindow.document.getElementById("fields_"+e),this.pdfViewer.formFieldsModule&&(r=this.pdfViewerBase.getItemFromSessionStorage("_formfields")),this.pdfViewer.formDesignerModule){var a=null;if(this.pdfViewer.formDesignerModule&&(a=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner")),a){var s=JSON.parse(a);for(c=0;c<s.length;c++){if((g=s[parseInt(c.toString(),10)].FormField).pageNumber-1===e&&g.isPrint){var l=this.pdfViewer.nameTable[s[parseInt(c.toString(),10)].Key.split("_")[0]],d=l.wrapper.children[0],h=void 0;if(d)if("RadioButton"===g.formFieldAnnotationType){for(var A=0;A<g.radiobuttonItem.length;A++)if(l=this.pdfViewer.nameTable[g.radiobuttonItem[parseInt(A.toString(),10)].id.split("_")[0]],h=this.createFormDesignerFields(g.radiobuttonItem[parseInt(A.toString(),10)],d,l)){f=g.radiobuttonItem[parseInt(A.toString(),10)].lineBound,m=g.radiobuttonItem[parseInt(A.toString(),10)].fontFamily;this.applyPosition(h,f,m,i,n,!0,g.radiobuttonItem[parseInt(A.toString(),10)].zoomValue,g.pageNumber-1),o.appendChild(h)}}else if(h=this.createFormDesignerFields(g,d,l)){f=g.lineBound,m=g.fontFamily;this.applyPosition(h,f,m,i,n,!0,g.zoomValue,g.pageNumber-1),!(0,t.isNullOrUndefined)(f)&&f.Width>0&&f.Height>0&&o.appendChild(h)}}}}}else if(r)for(var p=JSON.parse(r),c=0;c<p.length;c++){var g=p[parseInt(c.toString(),10)];if(parseFloat(g.PageIndex)===e){var u=this.pdfViewer.formFieldsModule.createFormFields(g,e,c,o).currentField;if(u){var f=g.LineBounds,m=g.Font;if(this.applyPosition(u,f,m,i,n),u.InsertSpaces=g.InsertSpaces,u.InsertSpaces){var w=parseInt(u.style.width,10)/u.maxLength-parseFloat(u.style.fontSize)/2-.6;u.style.letterSpacing=w+"px",u.style.fontFamily="monospace"}var y=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)];if(y.width>y.height&&this.pdfViewer.enablePrintRotation){var S=this.pdfViewer.formFieldsModule.ConvertPointToPixel(f.X),C=this.pdfViewer.formFieldsModule.ConvertPointToPixel(f.Y),B=this.pdfViewer.formFieldsModule.ConvertPointToPixel(f.Width),I=this.pdfViewer.formFieldsModule.ConvertPointToPixel(f.Height),b=y.width-S-I,v=C+I;u.style.transform="rotate(-90deg)",u.style.transformOrigin="left bottom",u.style.left=v+"px",u.style.top=b+"px",u.style.height=I+"px",u.style.width=B+"px"}u.style.backgroundColor="transparent",g.IsSignatureField||(u.style.borderColor="transparent"),o.appendChild(u)}}}},e.prototype.createFormDesignerFields=function(e,t,i){var n={id:"form_field_"+t.id+"_html_element",class:"foreign-object"},o=this.pdfViewer.formDesignerModule.createHtmlElement("div",n),r={id:t.id+"_html_element",class:"foreign-object"},a=this.pdfViewer.formDesignerModule.createHtmlElement("div",r);return"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType?(this.pdfViewer.formDesignerModule.disableSignatureClickEvent=!0,t.template=a.appendChild(this.pdfViewer.formDesignerModule.createSignatureDialog(this.pdfViewer,i,null,!0)),this.pdfViewer.formDesignerModule.disableSignatureClickEvent=!1):"DropdownList"===e.formFieldAnnotationType?t.template=a.appendChild(this.pdfViewer.formDesignerModule.createDropDownList(t,i,!0)):"ListBox"===e.formFieldAnnotationType?t.template=a.appendChild(this.pdfViewer.formDesignerModule.createListBox(t,i,!0)):t.template=a.appendChild(this.pdfViewer.formDesignerModule.createInputElement(e.formFieldAnnotationType,i,null,!0)),o.appendChild(a),a},e.prototype.applyPosition=function(e,i,n,o,r,a,s,l){if(i){var d,h=void 0,A=void 0,p=void 0,c=this.pdfViewerBase.pageSize[l],g=c?c.width:0,u=c?c.height:0;a&&u<g&&this.pdfViewer.enablePrintRotation?(d=g-i.X/s-i.Height/s,h=(i.Y+i.Height)/s,A=i.Width/s,p=i.Height/s,e.style.transform="rotate(-90deg)",e.style.transformOrigin="left bottom"):(h=a?i.X/s/r:this.pdfViewer.formFieldsModule.ConvertPointToPixel(i.X)/r,d=a?i.Y/s/o:this.pdfViewer.formFieldsModule.ConvertPointToPixel(i.Y)/o,A=a?i.Width/s/r:this.pdfViewer.formFieldsModule.ConvertPointToPixel(i.Width)/r,p=a?i.Height/s/o:this.pdfViewer.formFieldsModule.ConvertPointToPixel(i.Height)/o);var f=0;null!==n&&n.Height&&(e.style.fontFamily=n.Name,n.Italic&&(e.style.fontStyle="italic"),n.Bold&&(e.style.fontWeight="Bold"),f=this.pdfViewerBase.ConvertPointToPixel(n.Size)),t.Browser.isIE&&(d-=1),this.pdfViewerBase.setStyleToTextDiv(e,h,d,f,A,p,!0)}},e.prototype.printWindowOpen=function(){var e,i=this,n=navigator.userAgent;e="Default"===this.pdfViewer.printMode?this.frameDoc.document:this.printWindow.document;for(var o=0;o<this.printViewerContainer.children.length;o++){var r=this.printViewerContainer.children[parseInt(o.toString(),10)].toDataURL("image/jpeg");if(e.write('<div style="margin:0mm;width:'+this.printWidth.toString()+"px;height:"+this.printHeight.toString()+'px;position:relative"><img src="'+r+'" id="image_'+o+'" /><div id="fields_'+o+'" style="margin:0px;top:0px;left:0px;position:absolute;width:'+this.printWidth.toString()+"px;height:"+this.printHeight.toString()+'px;z-index:2"></div></div>'),this.pdfViewer.formFieldsModule||this.pdfViewer.formDesignerModule){var a=this.pdfViewerBase.pageSize[parseInt(o.toString(),10)].width,s=this.pdfViewerBase.pageSize[parseInt(o.toString(),10)].height,l=void 0,d=void 0;s<a&&this.pdfViewer.enablePrintRotation?(l=s/this.printWidth,d=a/this.printHeight):(l=s/this.printHeight,d=a/this.printWidth),this.renderFieldsForPrint(o,l,d)}0===o&&(-1!==n.indexOf("Chrome")||-1!==n.indexOf("Safari")||-1!==n.indexOf("Firefox")?(e.write("<!DOCTYPE html>"),e.write("<html moznomarginboxes mozdisallowselectionprint><head><style>html, body { height: 100%; width:100% } img { height: 100%; width: 100%; display: block; }@media print { body { margin: 0cm; } img { width:100%; width:100%; box-sizing: border-box; }br, button { display: none; } div{ page-break-inside: avoid; }} @page{margin:0mm;  size:"+this.printWidth.toString()+"px "+this.printHeight.toString()+"px; }</style></head><body>")):(e.write("<!DOCTYPE html>"),e.write("<html><head><style>html, body { height: 100%; } img { height: 100%; width: 100%; }@media print { body { margin: 0cm; }img { width:100%; width:100%; box-sizing: border-box; }br, button { display: none; } div{ page-break-inside: avoid; }} @page{margin:0mm;  size:"+this.printWidth.toString()+"px "+this.printHeight.toString()+"px; }</style></head><body>")))}if(t.Browser.isIE||"edge"===t.Browser.info.name)try{"Default"===this.pdfViewer.printMode?(this.pdfViewerBase.showPrintLoadingIndicator(!1),this.iframe.contentWindow.document.execCommand("print",!1,null)):this.printWindow.document.execCommand("print",!1,null)}catch(e){"Default"===this.pdfViewer.printMode?(this.pdfViewerBase.showPrintLoadingIndicator(!1),this.iframe.contentWindow.print()):this.printWindow.print()}else setTimeout((function(){if("Default"===i.pdfViewer.printMode)if(i.pdfViewerBase.showPrintLoadingIndicator(!1),i.iframe.contentWindow.print(),i.iframe.contentWindow.focus(),i.pdfViewerBase.isDeviceiOS||t.Browser.isDevice){var e=i;window.onafterprint=function(){document.body.removeChild(e.iframe)}}else document.body.removeChild(i.iframe);else i.printWindow&&(i.printWindow.print(),i.printWindow.focus(),t.Browser.isDevice&&!i.pdfViewerBase.isDeviceiOS||i.printWindow.close())}),200)},e.prototype.createPrintLoadingIndicator=function(e){var i=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_printWindowcontainer"});i.style.height="100%",i.style.width="100%",i.style.position="absolute",i.style.zIndex=2e3,i.style.left=0,i.style.top=0,i.style.overflow="auto",i.style.backgroundColor="rgba(0, 0, 0, 0.3)",e.appendChild(i);var n=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_printLoadingContainer"});n.style.position="absolute",n.style.width="50px",n.style.height="50px",n.style.left="46%",n.style.top="45%",i.style.zIndex=3e3,i.appendChild(n);var o=new Image;o.src="data:image/gif;base64,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",o.style.width="50px",o.style.height="50px",n.appendChild(o);var r=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_printLabelContainer"});r.style.position="absolute",r.textContent="Loading ...",r.style.fontWeight="Bold",r.style.left="46%",r.style.top="54.5%",r.style.zIndex="3000",i.appendChild(r)},e.prototype.destroy=function(){this.printViewerContainer=void 0,this.frameDoc=void 0,this.printWindow=void 0},e.prototype.getModuleName=function(){return"Print"},e}(),Fh=function(){function e(e,t){this.maintainTabIndex={},this.maintanMinTabindex={},this.isSignatureField=!1,this.paddingDifferenceValue=10,this.indicatorPaddingValue=4,this.isKeyDownCheck=!1,this.signatureFontSizeConstent=1.35,this.readOnlyCollection=[],this.isSignatureRendered=!1,this.signatureFieldCollection=[],this.selectedIndex=[],this.renderedPageList=[],this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.renderFormFields=function(e,i){if(this.maxTabIndex=0,this.minTabIndex=-1,-1===this.renderedPageList.indexOf(e)||i?this.data=this.pdfViewerBase.getItemFromSessionStorage("_formfields"):(this.data=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),this.data&&"[]"!==this.data||(this.data=this.pdfViewerBase.getItemFromSessionStorage("_formfields"))),this.data){this.formFieldsData=JSON.parse(this.data),"["===this.formFieldsData[0]&&(this.formFieldsData=JSON.parse(this.formFieldsData));var n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e),o=document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+e),r=void 0;if(null!==this.formFieldsData&&null!==o&&null!==n){for(var a=!1,s=0;s<this.formFieldsData.length;s++){var l=this.formFieldsData[parseInt(s.toString(),10)];!a&&(0,t.isNullOrUndefined)(l.ActualFieldName)&&l.PageIndex===e&&(r=parseInt(l.FieldName.slice(l.FieldName.lastIndexOf("_")+1),10),a=!0)}-1===this.renderedPageList.indexOf(e)&&this.renderedPageList.push(e);var d=function(i){var o=h.formFieldsData[parseInt(i.toString(),10)];if(""!==o.FieldName){o.IsInitialField&&(o.Name="InitialField");var a=o.Font;if(h.pdfViewer.formDesigner){if(parseFloat(o.PageIndex)===e){var s=void 0,l=void 0,d=void 0;!(0,t.isNullOrUndefined)(a)&&a.Height&&(s=a.Name,a.Italic&&(l="Italic"),a.Bold&&(l="Bold"),a.Strikeout&&(l="Strikethrough"),a.Underline&&(l="Underline"),d=h.ConvertPointToPixel(a.Size));var A=2===o.Alignment?"right":1===o.Alignment?"center":"left",p=o.BackColor,c=o.LineBounds,g="rgba("+p.R+","+p.G+","+p.B+",1)";!0===o.IsTransparent&&(g="rgba(0,0,0,0)"),"#000000ff"===(g=h.rgbaToHex(g))&&(g="#daeaf7ff");var u=o.FontColor,f={left:h.ConvertPointToPixel(c.X),top:h.ConvertPointToPixel(c.Y),width:h.ConvertPointToPixel(c.Width),height:h.ConvertPointToPixel(c.Height)},m=!1,w=0;0!==o.Rotation?-90!==o.RotationAngle&&-270!==o.RotationAngle&&-180!==o.RotationAngle||(f=h.getBounds(f,e,0,m)):(m=!0,f=h.getBounds(f,e,0,m),w=h.getAngle(e));var y="rgba("+u.R+","+u.G+","+u.B+",1)";y=h.rgbaToHex(y);var S=o.BorderColor,C=void 0;C=o.IsTansparentBorderColor?"rgba("+S.R+","+S.G+","+S.B+",0)":"rgba("+S.R+","+S.G+","+S.B+",1)",C=h.rgbaToHex(C);var B=o.BorderWidth;h.selectedIndex=[];var I="";I="RadioButton"===o.Name||"CheckBox"===o.Name?o.Text?o.Text:o.Value:o.Text;var b="SignatureField"===o.Name?h.pdfViewer.signatureFieldSettings.signatureIndicatorSettings:h.pdfViewer.initialFieldSettings.initialIndicatorSettings,v={bounds:{X:f.left,Y:f.top,Width:f.width,Height:f.height},pageNumber:parseFloat(o.PageIndex)+1,name:o.ActualFieldName?o.ActualFieldName:o.FieldName,tooltip:o.ToolTip,value:I,insertSpaces:o.InsertSpaces,isChecked:o.Selected,isSelected:o.Selected,fontFamily:s,fontStyle:l,backgroundColor:g,color:y,borderColor:C,thickness:B,fontSize:d,isMultiline:o.Multiline,rotateAngle:w,isReadOnly:o.IsReadonly,isRequired:o.IsRequired,alignment:A,options:h.getListValues(o),selectedIndex:h.selectedIndex,maxLength:o.MaxLength,visibility:1===o.Visible?"hidden":"visible",font:{isItalic:!(0,t.isNullOrUndefined)(a)&&a.Italic,isBold:!(0,t.isNullOrUndefined)(a)&&a.Bold,isStrikeout:!(0,t.isNullOrUndefined)(a)&&a.Strikeout,isUnderline:!(0,t.isNullOrUndefined)(a)&&a.Underline},isTransparent:o.IsTransparent,customData:(0,t.isNullOrUndefined)(o.CustomData)&&(0,t.isNullOrUndefined)(o.customData)?"":h.pdfViewerBase.clientSideRendering?o.CustomData?o.CustomData:o.customData:JSON.parse(o.CustomData),signatureIndicatorSettings:b};o.id||!h.pdfViewer.formFieldCollections[parseInt(i.toString(),10)]||(0,t.isNullOrUndefined)(o.ActualFieldName)||(v.id=h.pdfViewer.formFieldCollections[parseInt(i.toString(),10)].id),"DropDown"!==o.Name&&"ListBox"!==o.Name||(v.value=o.SelectedValue);var E=h.getFormFieldType(o);if(("SignatureText"!==o.Name||"SignatureImage"!==o.Name)&&!(0,t.isNullOrUndefined)(h.getFormFieldType(o))){if(o.IsRequired){var x=v.thickness;x=x>0?x:1,v.thickness=x}var _=h.pdfViewer.formDesignerModule.addField(E,v,!1,v.id);_&&_.parentElement&&(o.id=_.parentElement.id.split("_")[0]),_&&"hidden"===_.style.visibility&&(_.childNodes[0].disabled=!0)}"SignatureField"!==E&&"InitialField"!==E||(h.addSignaturePath(o,r),(0,t.isNullOrUndefined)(o.Value)||""===o.Value||(h.renderExistingAnnnot(o,parseFloat(o.PageIndex)+1,null,m),h.isSignatureRendered=!0,r++)),null!=o.ActualFieldName||(0,t.isNullOrUndefined)(o.FieldName)||0!==h.formFieldsData.filter((function(e){return!(0,t.isNullOrUndefined)(e.FieldName)&&e.FieldName.includes(o.FieldName.replace(/_\d$/,""))})).filter((function(e){return"ink"!==e.Name})).length||(h.renderExistingAnnnot(o,parseFloat(o.PageIndex)+1,null,m),h.pdfViewerBase.signatureModule.storeSignatureData(e,o),h.isSignatureRendered=!0,r++),h.pdfViewerBase.isLoadedFormFieldAdded=!0}}else if(parseFloat(o.PageIndex)===e){var D=h.createFormFields(o,e,i,null,r),M=D.currentField,V=D.count;m=!1;if(null!==o.ActualFieldName||(0,t.isNullOrUndefined)(o.FieldName)||0!==h.formFieldsData.filter((function(e){return!(0,t.isNullOrUndefined)(e.FieldName)&&e.FieldName.includes(o.FieldName.replace(/_\d$/,""))})).filter((function(e){return"ink"!==e.Name})).length||(h.renderExistingAnnnot(o,parseFloat(o.PageIndex)+1,null,m),h.pdfViewerBase.signatureModule.storeSignatureData(e,o),h.isSignatureRendered=!0,r++),M){var Q=h.createParentElement(o,e),F=(c=o.LineBounds,o.Font),T=0;if(0===o.Rotation?(m=!0,T=h.getAngle(e),Q?Q.style.transform="rotate("+T+"deg)":M.style.transform="rotate("+T+"deg)"):Q?Q.style.transform="rotate("+T+"deg)":M.style.transform="rotate("+T+"deg)",h.applyPosition(M,c,F,e,0,m),M.InsertSpaces=o.InsertSpaces,M.InsertSpaces){var k=h.pdfViewerBase.getZoomFactor(),P=parseInt(M.style.width,10)/M.maxLength-parseFloat(M.style.fontSize)/2-.6*k;M.style.letterSpacing=P+"px",M.style.fontFamily="monospace",M.style.paddingLeft=P/2+"px"}o.uniqueID=h.pdfViewer.element.id+"input_"+e+"_"+i;for(var N=0;N<h.pdfViewer.formFieldCollections.length;N++)"text"!==M.type&&"password"!==M.type&&"textarea"!==M.type||"SignatureField"===o.Name||o.uniqueID===h.pdfViewer.formFieldCollections[parseInt(N.toString(),10)].id&&(h.pdfViewer.formFieldCollections[parseInt(N.toString(),10)].value=o.Text);(0,t.isNullOrUndefined)(o.Value)&&(o.Value=o.Text),o.ToolTip&&h.setToolTip(o.ToolTip,M),h.applyCommonProperties(M,e,i,o,m),h.checkIsReadonly(o,M),h.applyTabIndex(o,M,e),h.checkIsRequiredField(o,M),h.applyDefaultColor(M),h.updateFormFieldsCollection(o),Q?(Q.appendChild(M),n.appendChild(Q)):(M.style.position="absolute",n.appendChild(M)),M.addEventListener("focus",h.focusFormFields.bind(h)),M.addEventListener("blur",h.blurFormFields.bind(h)),M.addEventListener("click",h.updateFormFields.bind(h)),M.addEventListener("change",h.changeFormFields.bind(h)),M.addEventListener("keydown",h.updateFormFieldsValue.bind(h)),M.addEventListener("keyup",h.updateSameFieldsValue.bind(h)),r=V}}}},h=this;for(s=0;s<this.formFieldsData.length;s++)d(s);this.pdfViewer.formDesigner||(sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_formfields"),this.pdfViewerBase.setItemInSessionStorage(this.formFieldsData,"_formfields"))}}if(this.pdfViewerBase.isFocusField&&this.pdfViewerBase.focusField){var A=document.getElementById(this.pdfViewerBase.focusField.id);if(A){if("SignatureField"!==this.pdfViewerBase.focusField.type&&"InitialField"!==this.pdfViewerBase.focusField.type||!this.pdfViewer.formDesignerModule)A.focus();else{var p=this.pdfViewerBase.focusField.bounds.y,c=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height;this.pdfViewer.bookmark.goToBookmark(this.pdfViewerBase.focusField.pageIndex,c-p)}this.pdfViewerBase.isFocusField=!1,this.pdfViewerBase.focusField=[]}}},e.prototype.setToolTip=function(e,i){new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return e}))}).appendTo(i)},e.prototype.trim=function(e){return e.replace(/^\s+|\s+$/gm,"")},e.prototype.rgbaToHex=function(e){var t=e.substring(e.indexOf("(")).split(","),i=parseInt(this.trim(t[0].substring(1)),10),n=parseInt(this.trim(t[1]),10),o=parseInt(this.trim(t[2]),10),r=parseFloat(parseFloat(this.trim(t[3].substring(0,t[3].length-1))).toFixed(2)),a=[i.toString(16),n.toString(16),o.toString(16),Math.round(255*r).toString(16).substring(0,2)];return a.forEach((function(e,t){1===e.length&&(a[parseInt(t.toString(),10)]="0"+e)})),"#"+a.join("")},e.prototype.getListValues=function(e){var t=e.TextList,i=[];if("DropDown"===this.getFormFieldType(e)){t=e.ComboBoxList;for(var n=0;n<t.length;n++){var o=t[parseInt(n.toString(),10)].itemValue?t[parseInt(n.toString(),10)].itemValue:t[parseInt(n.toString(),10)].ItemValue,r=t[parseInt(n.toString(),10)].itemName?t[parseInt(n.toString(),10)].itemName:t[parseInt(n.toString(),10)].ItemName;r===e.SelectedValue&&this.selectedIndex.push(n),i.push({itemName:r,itemValue:o})}}else for(n=0;n<t.length;n++)t[parseInt(n.toString(),10)]===e.SelectedValue&&this.selectedIndex.push(n),i.push({itemName:t[parseInt(n.toString(),10)],itemValue:t[parseInt(n.toString(),10)]});return"ListBox"===this.getFormFieldType(e)&&(this.selectedIndex=e.SelectedList),i},e.prototype.createParentElement=function(e,t){var i;if("Textbox"===e.Name||"Password"===e.Name){(i=document.createElement("div")).style.background="white",e.InsertSpaces&&(i.style.background="transparent");var n=e.LineBounds,o=e.Font;i.style.position="absolute";var r=!1;0===e.Rotation&&(r=!0),this.applyPosition(i,n,o,t,0,r)}return i},e.prototype.getAngle=function(e){var t=0,i=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)];if(i&&i.rotation)switch(i.rotation){case 0:t=0;break;case 1:t=90;break;case 2:t=180;break;case 3:t=270}return t},e.prototype.nextField=function(){this.signatureFieldNavigate(!0)},e.prototype.previousField=function(){this.signatureFieldNavigate(!1)},e.prototype.signatureFieldNavigate=function(e){var t,i=e,n=this.signatureFieldCollection,o=this.pdfViewer.formFieldCollections;if(0===n.length&&(n=this.pdfViewerBase.signatureModule.getSignField()),this.currentTarget){if(this.pdfViewer.formDesignerModule){for(var r=0;r<o.length;r++)if(t=o[parseInt(r.toString(),10)],this.currentTarget.id===t.id){this.currentTarget=document.getElementById(t.id),this.getSignatureIndex(r,o.length,i);break}}else for(r=0;r<n.length;r++)if(t=this.pdfViewer.formDesignerModule?n[parseInt(r.toString(),10)].FormField:n[parseInt(r.toString(),10)],this.currentTarget.id===t.uniqueID){this.currentTarget=document.getElementById(t.uniqueID),this.getSignatureIndex(r,n.length,i);break}}else e&&(this.pdfViewer.formDesignerModule?(t=n[0]).id&&(this.currentTarget=document.getElementById(t.id),this.getSignatureIndex(0,n.length,i,!0)):(t=n[0]).uniqueID&&(this.currentTarget=document.getElementById(t.uniqueID),this.getSignatureIndex(0,n.length,i,!0)))},e.prototype.getSignatureIndex=function(e,t,i,n){var o=e;n||(i?o++:o--),1===t?this.renderSignatureField(0):o<t&&o>=0?this.renderSignatureField(o):i?o>=t&&this.renderSignatureField(0):o<=0&&this.renderSignatureField(t-1)},e.prototype.renderSignatureField=function(e){var t,i=e,n=this.signatureFieldCollection,o=this.pdfViewer.formFieldCollections;if(i<o.length){for(var r=0;r<o.length;r++){var a;if(this.pdfViewer.formDesignerModule){if(o[parseInt(i.toString(),10)].id===(a=o[parseInt(r.toString(),10)]).id){var s=a.pageIndex>=0?a.pageIndex:a.pageNumber;this.pdfViewer.annotationModule.findRenderPageList(s)||(this.pdfViewer.navigation.goToPage(s+1),this.renderFormFields(s,!1)),this.currentTarget=document.getElementById(a.id),t=a;break}}else if((this.pdfViewer.formDesignerModule?n[parseInt(i.toString(),10)].FormField.uniqueID:n[parseInt(i.toString(),10)].uniqueID)===(a=this.pdfViewer.formDesignerModule?n[parseInt(r.toString(),10)].FormField:n[parseInt(r.toString(),10)]).uniqueID){s=a.PageIndex>=0?a.PageIndex:a.pageNumber;this.pdfViewer.annotationModule.findRenderPageList(s)||(this.pdfViewer.navigation.goToPage(s+1),this.renderFormFields(s,!1)),this.currentTarget=document.getElementById(a.uniqueID),t=a;break}}if(null===this.currentTarget){s=t.PageIndex>=0?t.PageIndex:t.pageNumber;this.pdfViewer.navigation.goToPage(s),this.currentTarget=document.getElementById(t.uniqueID)}this.currentTarget&&("e-pdfviewer-signatureformfields-signature"!==this.currentTarget.className||this.pdfViewer.formDesignerModule?"e-pdfviewer-signatureformfields"!==this.currentTarget.className&&"e-pdfviewer-signatureformfields-signature"!==this.currentTarget.className||(this.pdfViewer.formDesignerModule?document.getElementById(this.currentTarget.id).parentElement.focus():document.getElementById(this.currentTarget.id).focus()):(document.getElementById(this.currentTarget.id).focus(),this.pdfViewer.select([this.currentTarget.id],null)))}},e.prototype.formFieldCollections=function(){var e=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(e)for(var i=JSON.parse(e),n=0;n<i.length;n++){var o=i[parseInt(n.toString(),10)],r=o.Name;if(this.pdfViewer.formDesignerModule)"ink"!==o.Name&&"SignatureImage"!==o.Name&&"SignatureText"!==o.Name&&this.retreiveFormFieldsData(o,!0);else if("ink"!==o.Name){var a=void 0;o.LineBounds&&(a=(0,t.isNullOrUndefined)(o.Bounds)?this.updateBoundsValue(o.LineBounds):o.Bounds);var s={name:this.retriveFieldName(o),id:this.pdfViewer.element.id+"input_"+parseFloat(o.PageIndex)+"_"+n,isReadOnly:!1,type:o.IsInitialField?"InitialField":r,value:this.retriveCurrentValue(o),fontName:"",isRequired:o.IsRequired,bounds:a};this.pdfViewer.formFieldCollections.push(s)}}},e.prototype.retreiveFormFieldsData=function(e,i){var n,o,r;if(""!==e.FieldName){e.IsInitialField&&(e.Name="InitialField");var a=e.Font;!(0,t.isNullOrUndefined)(a)&&a.Height&&(n=a.Name,a.Italic&&(o="Italic"),a.Bold&&(o="Bold"),a.Strikeout&&(o="Strikethrough"),a.Underline&&(o="Underline"),r=this.ConvertPointToPixel(a.Size));var s=2===e.Alignment?"right":1===e.Alignment?"center":"left",l=e.BackColor,d=e.LineBounds,h="rgba("+l.R+","+l.G+","+l.B+",1)";h=this.rgbaToHex(h),!0===e.IsTransparent?h="rgba(0,0,0,0)":"#000000ff"===h&&(h="#daeaf7ff");var A=e.FontColor,p={left:this.ConvertPointToPixel(d.X),top:this.ConvertPointToPixel(d.Y),width:this.ConvertPointToPixel(d.Width),height:this.ConvertPointToPixel(d.Height)},c="rgba("+A.R+","+A.G+","+A.B+",1)";c=this.rgbaToHex(c);var g=e.BorderColor,u="rgba("+g.R+","+g.G+","+g.B+",1)";u=this.rgbaToHex(u),!0===e.IsTansparentBorderColor&&(u="rgba(0,0,0,0)");var f=e.BorderWidth;this.selectedIndex=[];var m={bounds:{X:p.left,Y:p.top,Width:p.width,Height:p.height},pageNumber:parseFloat(e.PageIndex)+1,name:e.ActualFieldName,tooltip:e.ToolTip,value:e.Text,isChecked:e.Selected,isSelected:e.Selected,fontFamily:n,fontStyle:o,backgroundColor:h,color:c,borderColor:u,thickness:f,fontSize:r,isMultiline:e.Multiline,isReadOnly:e.IsReadonly,isRequired:e.IsRequired,insertSpaces:e.InsertSpaces,alignment:s,options:this.getListValues(e),selectedIndex:this.selectedIndex,maxLength:e.MaxLength,visibility:1===e.Visible?"hidden":"visible",font:{isItalic:!(0,t.isNullOrUndefined)(a)&&a.Italic,isBold:!(0,t.isNullOrUndefined)(a)&&a.Bold,isStrikeout:!(0,t.isNullOrUndefined)(a)&&a.Strikeout,isUnderline:!(0,t.isNullOrUndefined)(a)&&a.Underline},pageIndex:e.PageIndex,isTransparent:e.IsTransparent,rotationAngle:e.RotationAngle,signatureType:e.SignatureType?e.SignatureType:"",signatureIndicatorSettings:e.SignatureIndicatorSettings,zIndex:e.zIndex,customData:e.customData?e.customData:this.pdfViewerBase.clientSideRendering?e.CustomData:JSON.parse(e.CustomData)};"DropDown"!==e.Name&&"ListBox"!==e.Name||(m.value=e.SelectedValue),"RadioButton"===e.Name&&(m.value=e.Value);var w=this.getFormFieldType(e);return"SignatureField"!==w&&"InitialField"!==w||(this.addSignaturePath(e),this.isSignatureField&&(m.value=e.Value)),this.pdfViewer.formDesignerModule.addField(w,m,i)}return null},e.prototype.updateBoundsValue=function(e){return{x:this.ConvertPointToPixel(e.X),y:this.ConvertPointToPixel(e.Y),width:this.ConvertPointToPixel(e.Width),height:this.ConvertPointToPixel(e.Height)}},e.prototype.updateFormFieldsCollection=function(e){var i,n=e.Name;e.LineBounds&&(i=(0,t.isNullOrUndefined)(e.Bounds)?this.updateBoundsValue(e.LineBounds):e.Bounds);var o="DropDown"===e.Name?e.ComboBoxList:e.TextList,r={name:this.retriveFieldName(e),id:e.uniqueID,isReadOnly:e.IsReadonly,isRequired:e.IsRequired,isSelected:e.Selected,isChecked:"RadioButton"!==n&&e.Selected,type:n,value:"ListBox"===n||"DropDown"===n?e.SelectedValue:e.Value,fontName:e.FontFamily?e.FontFamily:"",pageIndex:e.PageIndex,pageNumber:e.PageIndex+1,isMultiline:e.isMultiline?e.isMultiline:e.Multiline,insertSpaces:e.insertSpaces?e.insertSpaces:e.InsertSpaces,isTransparent:e.isTransparent?e.isTransparent:e.IsTransparent,rotateAngle:e.rotateAngle?e.rotateAngle:e.RotationAngle,selectedIndex:e.selectedIndex?e.selectedIndex:e.SelectedList,options:e.options?e.options:o||[],bounds:i,signatureType:e.signatureType?e.signatureType:"",zIndex:e.zIndex,tooltip:e.tooltip?e.tooltip:e.ToolTip?e.ToolTip:"",signatureIndicatorSettings:e.signatureIndicatorSettings?e.signatureIndicatorSettings:""};this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===r.id}))]=r},e.prototype.updateFormFieldValues=function(e){if(this.readOnlyCollection.push(e.id),e){var t=document.getElementById(e.id);t&&(e.isReadOnly?(t.disabled=!0,t.style.backgroundColor="",t.style.cursor="default"):(""===t.style.backgroundColor&&(t.style.backgroundColor="rgba(0, 20, 200, 0.2)"),t.disabled=!1,t.style.cursor="")),this.updateDataInSession(t)}},e.prototype.retriveFieldName=function(e){var t;switch(e.Name){case"Textbox":case"Password":case"SignatureField":case"InitialField":t=e.FieldName;break;case"RadioButton":case"CheckBox":t=e.GroupName;break;case"DropDown":t=e.ActualFieldName;break;case"ListBox":t=e.Text}return t},e.prototype.retriveCurrentValue=function(e){var t;switch(e.Name){case"Textbox":case"Password":t=e.Text;break;case"SignatureField":t=e.Value;break;case"RadioButton":case"CheckBox":t=e.Selected;break;case"DropDown":t=e.SelectedValue;break;case"ListBox":t=e.SelectedList}return t},e.prototype.getSignatureBounds=function(e,t,i){var n=this.pdfViewerBase.pageSize[parseInt(i.toString(),10)],o=0;switch(n.rotation){case 0:o=t;break;case 1:o={x:t.x+e.Width+t.width/3.5,y:n.width-e.X+t.height/4};break;case 2:o={x:n.width-t.x-t.width,y:n.height-t.y-t.height};break;case 3:o={x:t.y-t.width/2+t.height,y:t.x+t.width/3}}return o},e.prototype.downloadFormFieldsData=function(){var e=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(e){for(var n=JSON.parse(e),o={},r=[],a=0;a<n.length;a++){var s=n[parseInt(a.toString(),10)],l=s.IsRequired;if("Textbox"===s.Name||"Password"===s.Name||s.Multiline)!l||""!==s.Text&&null!==s.Text?delete this.pdfViewerBase.nonFillableFields[s.FieldName]:(this.pdfViewerBase.validateForm=!0,this.pdfViewerBase.nonFillableFields[s.FieldName]=s.Text),r={fieldValue:s.Text,isReadOnly:s.IsReadonly},o[s.FieldName]=r;else if("RadioButton"===s.Name&&s.Selected)l&&!1===s.Selected?(this.pdfViewerBase.validateForm=!0,this.pdfViewerBase.nonFillableFields[s.GroupName]=s.Value):delete this.pdfViewerBase.nonFillableFields[s.GroupName],r={fieldValue:s.Value,isReadOnly:s.IsReadonly},o[s.GroupName]=r;else if("CheckBox"===s.Name){l&&!1===s.Selected?(this.pdfViewerBase.validateForm=!0,this.pdfViewerBase.nonFillableFields[s.GroupName]=s.Selected):delete this.pdfViewerBase.nonFillableFields[s.GroupName];var d=s.CheckBoxIndex?s.CheckBoxIndex:s.CheckboxIndex?s.CheckboxIndex:null;d&&s.Selected?(r={isSelected:d,isReadOnly:s.IsReadonly,fieldValue:(0,t.isNullOrUndefined)(s.Value)?"":s.Value},o[s.GroupName]=r):void 0!==o[s.GroupName]&&null!==o[s.GroupName]||(r={isSelected:s.Selected,isReadOnly:s.IsReadonly,fieldValue:s.Value},o[s.GroupName]=r)}else if("DropDown"===s.Name)l&&""===s.SelectedValue?(this.pdfViewerBase.validateForm=!0,this.pdfViewerBase.nonFillableFields[s.Text]=s.SelectedValue):delete this.pdfViewerBase.nonFillableFields[s.Text],r={fieldValue:s.SelectedValue,isReadOnly:s.IsReadonly},o[s.FieldName]=r;else if("ListBox"===s.Name){for(var h=s.TextList,A=[],p=0;p<s.SelectedList.length;p++){var c=s.SelectedList[parseInt(p.toString(),10)];A.push(h[""+c])}r={fieldValue:JSON.stringify(A),isReadOnly:s.IsReadonly},o[s.Text]=r}else if("SignatureField"===s.Name||"InitialField"===s.Name){var g=void 0;if(!l||null!==s.Value&&""!==s.Value||this.addSignaturePath(s),s.Value&&""!==s.Value){g=s.Value;var u=s.fontFamily?s.fontFamily:s.FontFamily;if(u)o[s.FieldName+"fontName"]=u,o[s.FieldName+"fontSize"]=s.fontSize?s.fontSize:s.FontSize;else if(s.Value.split("base64,")[1])o[s.FieldName+"ImageData"]=!0;else{var f=(0,i.processPathData)(s.Value);g=(0,i.splitArrayCollection)(f)}}if(!l||null!==s.Value&&""!==s.Value?delete this.pdfViewerBase.nonFillableFields[s.FieldName]:(this.pdfViewerBase.validateForm=!0,this.pdfViewerBase.nonFillableFields[s.FieldName]=JSON.stringify(g)),o[s.FieldName]=JSON.stringify(g),s.Bounds){var m=this.getSignatureBounds(s.LineBounds,s.Bounds,s.PageIndex);s.Bounds.x=m.x,s.Bounds.y=m.y,o[s.FieldName+"bounds"]=JSON.stringify(s.Bounds)}else{var w=s.LineBounds;m={x:this.ConvertPointToPixel(w.X),y:this.ConvertPointToPixel(w.Y),width:this.ConvertPointToPixel(w.Width),height:this.ConvertPointToPixel(w.Height)};o[s.FieldName+"bounds"]=JSON.stringify(m)}o[s.FieldName+"isReadOnly"]=s.IsReadonly}}return JSON.stringify(o)}},e.prototype.focusFormFields=function(e){var t=e.target;if(t&&"e-pdfviewer-signatureformfields"!==t.className&&"e-pdfviewer-signatureformfields e-pv-signature-focus"!==t.className){var i=t.style.backgroundColor,n=i.lastIndexOf(","),o=i.slice(0,n+1)+0+")";t.style.backgroundColor=o,"checkbox"===t.type&&(t.style.webkitAppearance=""),t.style.boxShadow="0 0 5px "+("transparent"===t.style.borderColor?"#000000":t.style.borderColor)}else t&&("e-pdfviewer-signatureformfields"!==t.className&&"e-pdfviewer-signatureformfields-signature"!==t.className&&"e-pdfviewer-signatureformfields e-pv-signature-focus"!==t.className&&"e-pdfviewer-signatureformfields-signature  e-pv-signature-focus"!==t.className||this.pdfViewerBase.signatureModule.setFocus(t.id))},e.prototype.blurFormFields=function(e){var t=e.target;if(t.InsertSpaces&&this.isKeyDownCheck){var i=parseInt(t.style.width,10)-parseInt(t.style.height,10)/2;t.style.width=i+"px",this.isKeyDownCheck=!1}"checkbox"===t.type?this.pdfViewer.fireFocusOutFormField(t.name,t.checked):this.pdfViewer.fireFocusOutFormField(t.name,t.value);var n=t.style.backgroundColor,o=n.lastIndexOf(","),r=n.slice(0,o+1)+.2+")";t.style.backgroundColor=r,t.style.boxShadow="none","checkbox"!==t.type||t.checked?t.style.webkitAppearance="":t.style.webkitAppearance="none"},e.prototype.updateFormFields=function(e){var t=e.target;this.pdfViewerBase.isDeviceiOS&&"checkbox"===t.type&&t.focus(),"e-pdfviewer-ListBox"===t.className?(t=t.parentElement,this.updateDataInSession(t)):"e-pdfviewer-signatureformfields"===t.className||"e-pdfviewer-signatureformfields e-pv-signature-focus"===t.className?this.currentTarget=t:"e-pv-buttonItem"!==t.className&&"button"!==t.type||this.pdfViewer.fireButtonFieldClickEvent(t.value,t.name,t.id);for(var i=0;i<this.pdfViewer.formFieldCollections.length;i++)t.id===this.pdfViewer.formFieldCollections[parseInt(i.toString(),10)].id&&((this.pdfViewer.formDesignerModule||this.pdfViewer.annotationModule)&&this.pdfViewer.fireFormFieldClickEvent("formFieldClicked",this.pdfViewer.formFieldCollections[parseInt(i.toString(),10)]),"e-pdfviewer-signatureformfields"!==t.className&&"e-pdfviewer-signatureformfields-signature"!==t.className&&"e-pdfviewer-signatureformfields e-pv-signature-focus"!==t.className&&"e-pdfviewer-signatureformfields-signature  e-pv-signature-focus"!==t.className||this.pdfViewerBase.signatureModule.setFocus(t.id))},e.prototype.drawSignature=function(e,n,o,r,a){var s,l,d,h,A,p=this;A=this.pdfViewer.formDesigner?this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"):this.pdfViewerBase.getItemFromSessionStorage("_formfields");var c,g=JSON.parse(A);c=this.pdfViewer.formDesignerModule&&this.currentTarget&&this.currentTarget.offsetParent?this.currentTarget.offsetParent.name:this.currentTarget?this.currentTarget.name:o.name?o.name:o.offsetParent.name;for(var u=function(A){var u=f.pdfViewer.formDesigner?g[parseInt(A.toString(),10)].FormField.name:g[parseInt(A.toString(),10)].FieldName;if(f.pdfViewer.formDesigner?u===c:u===c&&!(0,t.isNullOrUndefined)(g[parseInt(A.toString(),10)].ActualFieldName)){var m=o=f.pdfViewer.formDesigner?document.getElementById(g[parseInt(A.toString(),10)].Key.split("_")[0]):document.getElementById(g[parseInt(A.toString(),10)].uniqueID);if(f.pdfViewer.annotations.filter((function(e){(0,t.isNullOrUndefined)(m)||e.id!==o.id+"_content"||!1})),!(0,t.isNullOrUndefined)(m)){var w=m.offsetParent.offsetParent.id.split("_")[0],y=f.pdfViewer.nameTable[""+w];o&&o.offsetParent&&y&&(d=o.getBoundingClientRect(),h=o.offsetParent.offsetParent.offsetParent.getBoundingClientRect(),f.pdfViewerBase.drawSignatureWithTool=!0,o.nextSibling&&-1!==o.nextSibling.id.indexOf("initial")&&(f.pdfViewer.isInitialFieldToolbarSelection=!0));var S=n||f.pdfViewerBase.signatureModule.outputString;if("Path"===e&&!f.pdfViewer.drawing.isPasted&&n&&""===f.pdfViewerBase.signatureModule.outputString){var C=JSON.parse(S),B=(0,i.splitArrayCollection)(C);S=(0,i.getPathString)(B)}var I,b,v=r||f.pdfViewerBase.signatureModule.fontName,E=f.pdfViewerBase.getZoomFactor(),x=f.pdfViewerBase.drawSignatureWithTool?d.width/E:parseFloat(m.style.width)/E,_=f.pdfViewerBase.drawSignatureWithTool?d.height/E:parseFloat(m.style.height)/E,D=f.pdfViewerBase.drawSignatureWithTool?(d.left-h.left)/E:parseFloat(m.style.left)/E,M=f.pdfViewerBase.drawSignatureWithTool?(d.top-h.top)/E:parseFloat(m.style.top)/E,V=f.pdfViewerBase.drawSignatureWithTool&&o.nextElementSibling?parseFloat(o.nextElementSibling.id.split("_")[1]):parseFloat(m.id.split("_")[1]),Q=f.pdfViewerBase.drawSignatureWithTool&&o.nextElementSibling?parseFloat(o.nextElementSibling.id.split("_")[2]):parseFloat(m.id.split("_")[2]),F=f.pdfViewerBase.signatureModule.saveImageString,T=m.offsetParent.offsetParent.style.transform?m.offsetParent.offsetParent.style.transform:m.style.transform,k=(T=T.substring(T.indexOf("(")+1,T.indexOf("d")))?parseInt(T,10):0;if("Type"===e||"Text"===e){if(v||(v="Helvetica"),l=f.getSignBounds(Q,k,V,E,D,M,x,_),"Default"===f.pdfViewer.signatureFitMode&&(l=f.getDefaultBoundsforSign(l)),"SignatureText"===(s={id:m.id,bounds:{x:l.x,y:l.y,width:l.width,height:l.height},pageIndex:V,data:S,modifiedDate:"",shapeAnnotationType:"SignatureText",opacity:1,rotateAngle:k,annotName:"SignatureText",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""},fontFamily:v,fontSize:l.height/f.signatureFontSizeConstent}).shapeAnnotationType){var P=f.getTextWidth(s.data,s.fontSize,s.fontFamily),N=1;P>l.width&&(N=l.width/P),s.fontSize=f.getFontSize(Math.floor(s.fontSize*N))}F=s.data,I=s.fontFamily,b=s.fontSize}else if("Image"===e){l=f.getSignBounds(Q,k,V,E,D,M,x,_);var R=new Image,L=o;R.src=S,R.onload=function(){p.imageOnLoad(l,R,S,V,k,m,y,F,I,b,L)}}else if(-1!==S.indexOf("base64"))l=f.getSignBounds(Q,k,V,E,D,M,x,_),"Default"===f.pdfViewer.signatureFitMode&&(l=f.getDefaultBoundsforSign(l)),s={id:m.id,bounds:{x:l.x,y:l.y,width:l.width,height:l.height},pageIndex:V,data:S,modifiedDate:"",shapeAnnotationType:"SignatureImage",opacity:1,rotateAngle:k,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""}},F=s.data;else{if((0,t.isNullOrUndefined)(a))if("Default"===f.pdfViewer.signatureFitMode){var O=f.pdfViewerBase.signatureModule.updateSignatureAspectRatio(S,!1,m);(l=f.getSignBounds(Q,k,V,E,D,M,O.width,O.height,!0)).x=l.x+O.left,l.y=l.y+O.top}else l=f.getSignBounds(Q,k,V,E,D,M,x,_);else l=a;s={id:m.id,bounds:{x:l.x,y:l.y,width:l.width,height:l.height},pageIndex:V,data:S,modifiedDate:"",shapeAnnotationType:"Path",opacity:1,rotateAngle:k,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""}}}if(f.pdfViewerBase.drawSignatureWithTool&&y&&"Image"!==e){s.id=y.id+"_content";var U=f.pdfViewer.add(s);y.wrapper.children[1]&&U.wrapper.id===y.wrapper.children[1].id&&((0,t.isNullOrUndefined)(y.wrapper.children[1])||"Point"!==y.wrapper.children[1].relativeMode||y.wrapper.children.splice(1,1)),y.wrapper.children.push(U.wrapper)}else"Image"!==e&&f.pdfViewer.add(s);if(s&&"Path"===s.shapeAnnotationType&&""!==S){f.pdfViewerBase.currentSignatureAnnot=s;var z={currentHeight:_,currentWidth:x,currentLeft:D,currentTop:M};f.pdfViewerBase.signatureModule.addSignatureCollection(l,z),F=f.pdfViewerBase.signatureModule.saveImageString,f.pdfViewerBase.currentSignatureAnnot=null}if("Image"!==e){var H=document.getElementById(f.pdfViewer.element.id+"_annotationCanvas_"+V);if(f.pdfViewer.renderDrawing(H,V),f.pdfViewerBase.signatureModule.showSignatureDialog(!1),"e-pdfviewer-signatureformfields e-pv-signature-focus"===m.className?m.className="e-pdfviewer-signatureformfields-signature e-pv-signature-focus":m.className="e-pdfviewer-signatureformfields-signature",f.pdfViewerBase.drawSignatureWithTool&&y){var Y=o.offsetParent.offsetParent.id.split("_")[0]+"_content";s.bounds={x:l.x*E,y:l.y*E,width:l.width*E,height:l.height*E},f.updateSignatureDataInSession(s,Y)}else f.updateDataInSession(m,s.data,s.bounds,I,b);m.style.pointerEvents="none",f.pdfViewer.annotation&&f.pdfViewer.annotation.addAction(s.pageIndex,null,s,"FormField Value Change","",s,s),"Path"!==s.shapeAnnotationType&&"SignatureText"!==s.shapeAnnotationType||f.pdfViewer.fireSignatureAdd(s.pageIndex,s.id,s.shapeAnnotationType,s.bounds,s.opacity,null,null,F),f.pdfViewer.fireFocusOutFormField(m.name,S)}}}},f=this,m=0;m<g.length;m++)u(m);"Image"!==e&&(this.pdfViewerBase.signatureModule.hideSignaturePanel(),this.pdfViewerBase.drawSignatureWithTool=!1,this.pdfViewer.isInitialFieldToolbarSelection=!1)},e.prototype.imageOnLoad=function(e,i,n,o,r,a,s,l,d,h,A){if(A&&A.offsetParent&&s&&(this.pdfViewerBase.drawSignatureWithTool=!0,A.nextSibling&&-1!==A.nextSibling.id.indexOf("initial")&&(this.pdfViewer.isInitialFieldToolbarSelection=!0)),"Default"===this.pdfViewer.signatureFitMode){var p=Math.min(e.height/this.paddingDifferenceValue,e.width/this.paddingDifferenceValue),c=e.height-p,g=e.width-p,u=i.width,f=i.height,m=e.width,w=e.height,y=Math.min(g/u,c/f);e.width=u*y,e.height=f*y,e.x=e.x+(m-e.width)/2,e.y=e.y+(w-e.height)/2}var S={id:a.id,bounds:{x:e.x,y:e.y,width:e.width,height:e.height},pageIndex:o,data:n,modifiedDate:"",shapeAnnotationType:"SignatureImage",opacity:1,rotateAngle:r,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""}};if(l=S.data,this.pdfViewerBase.drawSignatureWithTool&&s){S.id=s.id+"_content";var C=this.pdfViewer.add(S);s.wrapper.children[1]&&C.wrapper.id===s.wrapper.children[1].id&&((0,t.isNullOrUndefined)(s.wrapper.children[1])||"Point"!==s.wrapper.children[1].relativeMode||s.wrapper.children.splice(1,1)),s.wrapper.children.push(C.wrapper)}else this.pdfViewer.add(S);var B=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+o);if(this.pdfViewer.renderDrawing(B,o),this.pdfViewerBase.signatureModule.showSignatureDialog(!1),"e-pdfviewer-signatureformfields e-pv-signature-focus"===a.className?a.className="e-pdfviewer-signatureformfields-signature e-pv-signature-focus":a.className="e-pdfviewer-signatureformfields-signature",this.pdfViewerBase.drawSignatureWithTool&&s){var I=this.pdfViewerBase.getZoomFactor(),b=A.offsetParent.offsetParent.id.split("_")[0]+"_content";S.bounds={x:e.x*I,y:e.y*I,width:e.width*I,height:e.height*I},this.updateSignatureDataInSession(S,b)}else this.updateDataInSession(a,S.data,S.bounds,d,h);a.style.pointerEvents="none",this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(S.pageIndex,null,S,"FormField Value Change","",S,S),"SignatureImage"===S.shapeAnnotationType&&this.pdfViewer.fireSignatureAdd(S.pageIndex,S.id,S.shapeAnnotationType,S.bounds,S.opacity,null,null,l),this.pdfViewer.fireFocusOutFormField(a.name,n),this.pdfViewerBase.signatureModule.hideSignaturePanel(),this.pdfViewerBase.drawSignatureWithTool=!1,this.pdfViewer.isInitialFieldToolbarSelection=!1},e.prototype.updateSignatureDataInSession=function(e,n){var o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),r=JSON.parse(o);if(!(0,t.isNullOrUndefined)(r))for(var a=function(t){if(r[parseInt(t.toString(),10)].Key===n){var o=s.pdfViewer.formFieldCollection.findIndex((function(e){return e.id===r[parseInt(t.toString(),10)].FormField.id.split("_")[0]}));if("SignatureText"===e.shapeAnnotationType?(r[parseInt(t.toString(),10)].FormField.signatureType="Text",s.pdfViewer.nameTable[(""+n).split("_")[0]].signatureType="Text",s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.signatureType="Text",s.pdfViewer.nameTable[""+n].signatureType="Text",r[parseInt(t.toString(),10)].FormField.fontFamily="TimesRoman"===e.fontFamily?"Times New Roman":e.fontFamily,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.fontFamily=e.fontFamily,s.pdfViewer.nameTable[""+n].fontFamily=e.fontFamily,s.pdfViewer.nameTable[(""+n).split("_")[0]].fontFamily=e.fontFamily,r[parseInt(t.toString(),10)].FormField.fontSize=e.fontSize,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.fontSize=e.fontSize,s.pdfViewer.nameTable[""+n].fontSize=e.fontSize,s.pdfViewer.nameTable[(""+n).split("_")[0]].fontSize=e.fontSize,o>-1&&(s.pdfViewer.formFieldCollection[parseInt(o.toString(),10)].signatureType="Text")):"SignatureImage"===e.shapeAnnotationType?(r[parseInt(t.toString(),10)].FormField.signatureType="Image",s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.signatureType="Image",s.pdfViewer.nameTable[""+n].signatureType="Image",o>-1&&(s.pdfViewer.formFieldCollection[parseInt(o.toString(),10)].signatureType="Image")):(r[parseInt(t.toString(),10)].FormField.signatureType="Path",s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.signatureType="Path",s.pdfViewer.nameTable[""+n].signatureType="Path",o>-1&&(s.pdfViewer.formFieldCollection[parseInt(o.toString(),10)].signatureType="Path")),r[parseInt(t.toString(),10)].FormField.signatureBound=e.bounds,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.signatureBound=e.bounds,s.pdfViewer.nameTable[""+n].signatureBound=e.bounds,o>-1&&(s.pdfViewer.formFieldCollection[parseInt(o.toString(),10)].signatureBound=e.bounds),"Path"===e.shapeAnnotationType){var a=(0,i.processPathData)(e.data),l=(0,i.splitArrayCollection)(a);r[parseInt(t.toString(),10)].FormField.value=JSON.stringify(l),s.pdfViewer.nameTable[""+n].value=e.data,s.pdfViewer.nameTable[n.split("_")[0]].value=e.data,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.value=JSON.stringify(l),o>-1&&(s.pdfViewer.formFieldCollection[parseInt(o.toString(),10)].value=JSON.stringify(l))}else r[parseInt(t.toString(),10)].FormField.value=e.data,s.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.value=e.data,s.pdfViewer.nameTable[n.split("_")[0]].value=e.data,s.pdfViewer.nameTable[""+n].value=e.data,o>-1&&(s.pdfViewer.formFieldCollection[parseInt(o.toString(),10)].value=e.data);s.pdfViewer.formDesigner.updateFormFieldCollections(r[parseInt(t.toString(),10)].FormField),s.pdfViewer.formDesigner.updateFormFieldPropertiesChanges("formFieldPropertiesChange",r[parseInt(t.toString(),10)].FormField,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,"",r[parseInt(t.toString(),10)].FormField.value)}r[parseInt(t.toString(),10)].Key===e.id&&(r[parseInt(t.toString(),10)].FormField.signatureBound=e.bounds)},s=this,l=0;l<r.length;l++)a(l);this.pdfViewerBase.setItemInSessionStorage(r,"_formDesigner")},e.prototype.getDefaultBoundsforSign=function(e){return{x:e.x+4,y:e.y+4,width:e.width-8,height:e.height-8}},e.prototype.getSignBounds=function(e,t,i,n,o,r,a,s,l){var d=this.pdfViewer.isInitialFieldToolbarSelection?"initialIcon":"signIcon",h=document.getElementById(d+"_"+i+"_"+e),A=o*n-(h?parseFloat(h.style.left)*n:0)/n;return 90===t||270===t?(this.rotateAngle=0,""!==h.style.left?l?{x:o-A/n-n,y:r+A/n+n,width:a,height:s}:{x:o-A/n-n,y:r+A/n+n,width:s,height:a}:(A=10,l?{x:o-a,y:r+a,width:s,height:a}:{x:o-a-A/2,y:r+a+A,width:s,height:a})):(this.rotateAngle=0,{x:o,y:r,width:a,height:s})},e.prototype.updateSameFieldsValue=function(e){if(this.formFieldsData)for(var t=0;t<this.formFieldsData.length;t++){var i=this.formFieldsData[parseInt(t.toString(),10)];if(e.target.name===i.FieldName&&e.target.id!==i.uniqueID){var n=document.getElementById(this.formFieldsData[parseInt(t.toString(),10)].uniqueID);n?n.value=e.target.value:(i.Text=e.target.value,this.updateDataInSession(i,null,null,null,null,!0))}}},e.prototype.updateFormFieldsValue=function(e){var t,i,n=e.target;if(n.InsertSpaces&&!this.isKeyDownCheck){var o=parseInt(n.style.width,10)+parseInt(n.style.height,10)/2;n.style.width=o+"px",this.isKeyDownCheck=!0}if(9===e.which&&n&&("e-pdfviewer-formFields"===n.className||"e-pdfviewer-signatureformfields e-pv-signature-focus"===n.className||"e-pdfviewer-signatureformfields-signature"===n.className)){var r=n.id.split("input_")[1].split("_")[0],a=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+parseInt(r,10)).getElementsByClassName("e-pdfviewer-formFields"),s=!0;t=this.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===n.id})),e.shiftKey||"Tab"!==e.key||(i=t+1<this.pdfViewer.formFieldCollections.length?this.pdfViewer.formFieldCollections[t+1]:this.pdfViewer.formFieldCollections[0]),this.pdfViewer.focusFormField(i),s=!0,e.preventDefault();for(var l=n.tabIndex+1;!s;){for(var d=0;d<a.length;d++)if(s=!1,a[parseInt(d.toString(),10)].tabIndex===l){a[parseInt(d.toString(),10)].focus(),s=!0,e.preventDefault();break}this.maintainTabIndex[""+r]===l&&(s=!0),l+=1}}if(e.shiftKey&&"Tab"===e.key){var h=this.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===n.id})),A=h>0?this.pdfViewer.formFieldCollections[h-1]:this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.length-1];this.pdfViewer.focusFormField(A),e.preventDefault()}if(e.currentTarget.classList.contains("e-pdfviewer-signatureformfields")||e.currentTarget.classList.contains("e-pdfviewer-signatureformfields-signature"))if("Enter"===e.key)for(var p=e.target,c=0;c<this.pdfViewer.formFieldCollections.length;c++)p.id===this.pdfViewer.formFieldCollections[parseInt(c.toString(),10)].id&&(this.pdfViewerBase.signatureModule.setFocus(p.id),this.pdfViewer.fireFormFieldClickEvent("formFieldClicked",this.pdfViewer.formFieldCollections[parseInt(c.toString(),10)]));else e.preventDefault()},e.prototype.changeFormFields=function(e){var t=e.target;this.updateDataInSession(t)},e.prototype.updateDataInSession=function(e,t,n,o,r,a){void 0===a&&(a=!1),this.pdfViewerBase.updateDocumentEditedProperty(!0);var s=[],l=" ",d=0,h=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(h&&!this.pdfViewer.formDesignerModule){var A=JSON.parse(h);(s=A.filter((function(t){return t.uniqueID===e.id}))).length>0&&(l=s[0].FieldName,d=A.filter((function(e){return e.FieldName===l})).length);for(var p=0;p<A.length;p++){var c=A[parseInt(p.toString(),10)];if(c.uniqueID===e.id||l===c.FieldName){if(e&&"text"===e.type||"password"===e.type||"textarea"===e.type){var g=e;g.classList.contains("e-pdfviewer-signatureformfields")||g.classList.contains("e-pdfviewer-signatureformfields-signature")?(t&&(c.Value=t),n&&(c.Bounds=n),o&&(c.FontFamily=o,c.FontSize=r)):(c.Text=e.value,c.Value=e.value,c.Multiline=e.multiline)}else if("radio"===e.type){if(c.uniqueID===e.id){for(var u=e.id,f=A.filter((function(t){return t.GroupName===e.name&&"RadioButton"===t.Name})),m=0;m<f.length;m++){(S=f[parseInt(m.toString(),10)]).uniqueID!==u&&(S.Selected=!1),(C=document.getElementById(S.uniqueID))&&u!==C.id&&(C.Selected=!1)}if(""!==c.Value&&c.Value===e.value||(c.Value=e.value),e.value===c.Value||e.id===c.uniqueID){c.Selected=!0;break}c.Selected=!1}}else if("checkbox"===e.type){var w=e.id,y=A.filter((function(t){return t.GroupName===e.name&&"CheckBox"===t.Name}));for(m=0;m<y.length;m++){var S,C;(S=y[parseInt(m.toString(),10)]).uniqueID!==w&&(S.Selected=!1,S.checked=!1),(C=document.getElementById(S.uniqueID))&&w!==C.id&&(C.Selected=!1,C.checked=!1,C.style.webkitAppearance="none")}e.checked&&e.id===c.uniqueID?c.Selected=!0:c.Selected=!1,""===c.Value&&(c.Value=e.value)}else if("select-one"===e.type&&0===e.size){e.selectedIndex<0&&(e.selectedIndex=c.selectedIndex);for(var B=e.options[e.selectedIndex].text,I=e.children,b=0;b<I.length;b++)I[parseInt(b.toString(),10)].text===B&&(c.SelectedValue=B,c.selectedIndex=e.selectedIndex)}else if("select-multiple"===e.type||e.size>0){B=e.selectedOptions;c.SelectedList=[];for(var v=0;v<B.length;v++)for(I=e.children,b=0;b<I.length;b++)I[parseInt(b.toString(),10)]===B[parseInt(v.toString(),10)]&&c.SelectedList.push(b);c.SelectedValue=e.value;var E=c.TextList?c.TextList.indexOf(e.value):0;c.selectedIndex=E>-1?E:0,c.SelectedList=[c.selectedIndex]}if(e.disabled&&(c.IsReadonly=!0),c.IsRequired=e.Required?e.Required:!!e.required&&e.required,c.ToolTip=e.tooltip?e.tooltip:"",this.updateFormFieldsCollection(c),0===--d)break}else a?a&&(c.SelectedValue=e.Text):e&&null!=e.getAttribute("list")&&"text"===e.type&&c.uniqueID===e.list.id&&(c.SelectedValue=e.value);this.updateFormFieldsCollection(c)}sd.sessionStorageManager.removeItem(this.pdfViewerBase.documentId+"_formfields"),this.pdfViewerBase.setItemInSessionStorage(A,"_formfields")}if(this.pdfViewer.formDesignerModule&&e&&e.id){var x=this.pdfViewer.nameTable[e.id.split("_")[0]];if(x&&x.wrapper&&x.wrapper.children[0]){x.value=e.value;var _=(0,i.cornersPointsBeforeRotation)(x.wrapper.children[0]).topLeft;this.pdfViewer.formDesignerModule.updateFormDesignerFieldInSessionStorage(_,x.wrapper.children[0],x.formFieldAnnotationType,x)}}},e.prototype.removeExistingFormFields=function(){var e=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),i=(0,t.isNullOrUndefined)(e)?null:JSON.parse(e);if(i)for(var n=0;n<i.length;n++){if("RadioButton"===i[parseInt(n.toString(),10)].FormField.formFieldAnnotationType){var o;o=i[parseInt(n.toString(),10)].FormField.radiobuttonItem;for(var r=i[parseInt(n.toString(),10)].FormField.id.split("_")[0],a=0;a<o.length;a++){var s=o[parseInt(a.toString(),10)];s.id.split("_")[0]!==r&&this.pdfViewer.formDesignerModule.deleteFormField(s.id.split("_")[0])}}i[parseInt(n.toString(),10)].Key&&this.pdfViewer.formDesignerModule.deleteFormField(i[parseInt(n.toString(),10)].Key.split("_")[0])}},e.prototype.applyCommonProperties=function(e,t,i,n,o){var r=document.getElementById(this.pdfViewer.element.id+"input_"+t+"_"+i);if(r){var a=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+t);"text"===e.type&&r.parentElement!==a&&r.parentElement.remove(),"e-pdfviewer-signatureformfields e-pv-signature-focus"!==r.className&&r.remove()}var s,l,d,h=document.getElementById("signIcon_"+t+"_"+i),A=parseFloat(e.style.left),p=parseInt(e.style.top,10),c=(parseFloat(e.style.width),parseFloat(e.style.height)),g=this.pdfViewerBase.getZoomFactor();h&&!o&&(s=parseFloat(h.style.width),parseFloat(h.style.height),"rotate(90deg)"===h.style.transform&&(h.style.transform="rotate(0deg)",l=c/2,d=s*g,h.style.left=A-(l-s*g)+d/2+"px"),"rotate(180deg)"===h.style.transform&&(h.style.transform="rotate(0deg)",h.style.left=A+"px",h.style.top=p+"px"),"rotate(270deg)"===h.style.transform&&(h.style.transform="rotate(0deg)",l=c/2,d=s*g,h.style.left=A-(l-d)+d/2+"px",h.style.top=p+"px")),n.IsSignatureField&&this.isSignatureField?(e.className="e-pdfviewer-signatureformfields-signature",e.style.pointerEvents="none"):n.IsSignatureField?n.Value?(e.className="e-pdfviewer-signatureformfields-signature",e.style.pointerEvents="none"):e.className="e-pdfviewer-signatureformfields":"Button"!==n.Name&&(e.className="e-pdfviewer-formFields"),e.id=this.pdfViewer.element.id+"input_"+t+"_"+i,e.ariaLabel=this.pdfViewer.element.id+"input_"+t,e.style.zIndex=1e3},e.prototype.createFormFields=function(e,t,i,n,o){var r;switch(e.Name){case"Textbox":r=this.createTextBoxField(e,t,"text");break;case"Password":r=this.createTextBoxField(e,t,"password");break;case"RadioButton":r=this.createRadioBoxField(e,t,"radio");break;case"CheckBox":r=this.createRadioBoxField(e,t,"checkbox",n);break;case"DropDown":r=this.createDropDownField(e,t,i,n);break;case"ListBox":r=this.createListBoxField(e,t);break;case"InitialField":case"SignatureField":r=this.createSignatureField(e,t,i,n,o);var a=!1;0===e.Rotation&&(a=!0),e.Value&&""!==e.Value&&(this.renderExistingAnnnot(e,i,n,a),this.isSignatureRendered=!0,o++);break;case"Button":r=this.createButtonField(e,t);break;case"ink":this.pdfViewer.formDesignerModule&&e.Value&&""!==e.Value&&!this.isSignatureRendered&&this.renderExistingAnnnot(e,i,n);break;case"SignatureText":case"SignatureImage":e.Value&&""!==e.Value&&!this.isSignatureRendered&&this.renderExistingAnnnot(e,i,n)}return{currentField:r,count:o}},e.prototype.getFormFieldType=function(e){var t;switch(e.Name){case"Textbox":t="Textbox";break;case"Password":t="Password";break;case"RadioButton":t="RadioButton";break;case"CheckBox":t="CheckBox";break;case"DropDown":t="DropDown";break;case"ListBox":t="ListBox";break;case"SignatureField":t="SignatureField",e.IsInitialField&&(t="InitialField");break;case"InitialField":t="InitialField"}return t},e.prototype.createButtonField=function(e,t){var i=document.createElement("input");return e.Value&&(this.isBase64(e.Value)||this.isURL(e.Value))?(i.type="image",i.src=e.Value):i.type="button",i.className="e-pv-buttonItem",""!==e.Text?i.value=e.Text:i.value="",i.name=e.FieldName,i},e.prototype.isBase64=function(e){return/^data:([a-zA-Z]*\/[a-zA-Z+.-]*);base64,/.test(e)},e.prototype.isURL=function(e){try{return new URL(e),!0}catch(e){return!1}},e.prototype.createTextBoxField=function(e,t,i){var n;if(1!==e.Visible)return e.Multiline?(n=document.createElement("textarea")).style.resize="none":(n=document.createElement("input")).type=i,e.MaxLength>0&&(n.maxLength=e.MaxLength),this.addAlignmentPropety(e,n),""!==e.Text?n.value=e.Text:n.value="",this.pdfViewer.enableAutoComplete||(n.autocomplete="off"),n.name=e.FieldName,n},e.prototype.checkIsReadonly=function(e,t){for(var i=!1,n=0;n<this.readOnlyCollection.length;n++)if(t.id===this.readOnlyCollection[parseInt(n.toString(),10)]){i=!0;break}if(this.pdfViewer.formDesignerModule||this.pdfViewer.annotationModule||!e.IsInitialField&&!e.IsSignatureField||(i=!0),e.IsReadonly||!this.pdfViewer.enableFormFields||i)t.disabled=!0,t.style.cursor="default",t.style.backgroundColor="transparent";else{var o=e.BackColor;if("Button"!==e.Name)t.style.backgroundColor="rgba("+o.R+","+o.G+","+o.B+",0.2)";else{var r=e.Opacity;t.style.backgroundColor=r?"rgba("+o.R+","+o.G+","+o.B+","+r+")":"rgb("+o.R+","+o.G+","+o.B+")"}var a=e.FontColor;t.style.color="rgba("+a.R+","+a.G+","+a.B+",1)"}},e.prototype.formFieldsReadOnly=function(e){var t=document.getElementsByClassName("e-pdfviewer-formFields");this.makeformFieldsReadonly(t,e);var i=document.getElementsByClassName("e-pdfviewer-signatureformfields");this.makeformFieldsReadonly(i,e)},e.prototype.makeformFieldsReadonly=function(e,t){for(var i=0;i<e.length;i++)if(e[parseInt(i.toString(),10)]){var n=e[parseInt(i.toString(),10)];t?n.disabled=!1:(n.disabled=!0,n.style.cursor="default")}},e.prototype.applyTabIndex=function(e,t,i){t.tabIndex=e.TabIndex,this.maxTabIndex=Math.max(this.maxTabIndex,t.tabIndex),-1===this.minTabIndex&&(this.minTabIndex=t.tabIndex),this.minTabIndex=Math.min(this.minTabIndex,t.tabIndex),this.maintainTabIndex[i.toString()]=this.maxTabIndex,this.maintanMinTabindex[i.toString()]=this.minTabIndex},e.prototype.checkIsRequiredField=function(e,t){if(e.IsRequired)t.required=!0,t.style.border="1px solid red";else{var i=e.BorderColor;t.style.border=e.BorderWidth,t.style.borderColor="rgba("+i.R+","+i.G+","+i.B+",1)"}if("checkbox"!==t.type&&"radio"!==t.type){var n=e.BorderStyle;this.addBorderStylePropety(n,t)}},e.prototype.applyDefaultColor=function(e){("button"===e.type||"rgba(255, 255, 255, 0.2)"!==e.style.backgroundColor&&"rgba(0, 0, 0, 0.2)"!==e.style.backgroundColor)&&"rgba(218, 234, 247, 0.2)"!==e.style.backgroundColor||(e.style.backgroundColor="rgba(0, 20, 200, 0.2)"),"rgba(255, 255, 255, 0.2)"===e.style.color&&(e.style.color="black")},e.prototype.addAlignmentPropety=function(e,t){switch(e.Alignment){case 0:t.style.textAlign="left";break;case 1:t.style.textAlign="center";break;case 2:t.style.textAlign="right";break;case 3:t.style.textAlign="justify"}},e.prototype.addBorderStylePropety=function(e,t){switch(e){case 0:t.style.borderStyle="solid";break;case 1:t.style.borderStyle="dashed";break;case 2:case 4:t.style.borderStyle="outset";break;case 3:case 6:t.style.borderStyle="inset";break;case 5:t.style.borderStyle="dotted"}},e.prototype.createRadioBoxField=function(e,t,i,n){var o=document.createElement("input");return o.type=i,e.Selected?o.checked=!0:"checkbox"!==i||n||(o.style.webkitAppearance="none"),o.name=e.GroupName,o.value=e.Value,o},e.prototype.createDropDownField=function(e,t,i,n){var o=document.createElement("select"),r="DropDown"===e.Name?e.ComboBoxList:e.TextList;if(e.Selected&&!n){var a=document.getElementById("editableDropdown"+t+"_"+i);a&&a.remove();var s=document.createElement("input");s.id="editableDropdown"+t+"_"+i,s.setAttribute("list",this.pdfViewer.element.id+"input_"+t+"_"+i);var l=e.LineBounds,d=e.Font;if(s.style.position="absolute",s.style.border="0px",this.applyPosition(s,l,d,t,e.Rotation),s.style.backgroundColor="rgba(0, 20, 200, 0.2)",s.className="e-pdfviewer-formFields",-1===e.selectedIndex&&(s.value=e.SelectedValue),n)n.appendChild(s);else document.getElementById(this.pdfViewer.element.id+"_textLayer_"+t).appendChild(s);s.addEventListener("focus",this.focusFormFields.bind(this)),s.addEventListener("blur",this.blurFormFields.bind(this)),s.addEventListener("click",this.updateFormFields.bind(this)),s.addEventListener("change",this.changeFormFields.bind(this)),s.addEventListener("keydown",this.updateFormFieldsValue.bind(this)),o=document.createElement("DATALIST")}for(var h=0;h<r.length;h++){var A=document.createElement("option");A.className="e-dropdownSelect";var p=r[parseInt(h.toString(),10)].itemName?r[parseInt(h.toString(),10)].itemName:r[parseInt(h.toString(),10)].ItemName,c=r[parseInt(h.toString(),10)].itemValue?r[parseInt(h.toString(),10)].itemValue:r[parseInt(h.toString(),10)].ItemValue;e.SelectedValue===p||e.selectedIndex===h?A.selected=!0:A.selected=!1,A.value=c,A.innerHTML=p,o.appendChild(A)}return o.name=e.Text,o},e.prototype.createListBoxField=function(e,t){var i=document.createElement("select"),n=e.TextList;e.MultiSelect?i.multiple=!0:(i.multiple=!1,i.size=n.length);for(var o=0;o<n.length;o++){var r=document.createElement("option");r.className="e-pdfviewer-ListBox";for(var a=0;a<e.SelectedList.length;a++)e.SelectedList[parseInt(a.toString(),10)]===o&&(r.selected=!0);r.innerHTML=n[parseInt(o.toString(),10)],i.appendChild(r)}return i.name=e.Text,i},e.prototype.createSignatureField=function(e,i,n,o,r){var a=document.createElement("input");a.type="text",a.name=e.FieldName;var s=this.pdfViewerBase.getZoomFactor(),l=document.getElementById("signIcon_"+i+"_"+n);l&&!o&&l.remove(),this.pdfViewerBase.isInitialField=e.IsInitialField;var d=this.pdfViewerBase.isInitialField?"Initial":"Sign",h=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings?19===this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width?this.pdfViewerBase.isInitialField?27:19:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width:19,A=document.createElement("span"),p=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+i),c=e.LineBounds,g=this.ConvertPointToPixel(c.X),u=this.ConvertPointToPixel(c.Y),f=this.ConvertPointToPixel(c.Width),m=this.ConvertPointToPixel(c.Height),w=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings?this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height>m*s/2?m*s/2:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height:m*s/2,y=h>f*s/2?f*s/2:h,S=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings?this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize>w/2?10:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize:10,C=S>y?y/2:S>w?w/2:S;A.style.position="absolute",A.id="signIcon_"+i+"_"+n;var B=this.getAngle(i),I={left:g,top:u,width:y,height:w},b=this.getBounds(I,i);return A.style.transform="rotate("+B+"deg)",A.style.left=b.left*s+"px",A.style.top=b.top*s+"px",t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?(A.style.height="5px",A.style.width="10px",A.style.fontSize="3px"):(A.style.height=w+"px",A.style.width=y+"px",A.style.fontSize=C+"px",(0,t.isBlazor)()&&(A.style.fontSize=C-1+"px")),w+this.indicatorPaddingValue>m*s||y+this.indicatorPaddingValue>f*s||(A.style.padding="2px"),A.style.textAlign="center",A.style.boxSizing="content-box",A.innerHTML=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings&&this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.text?this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.text:d,A.style.color=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings&&this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.color?this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.color:"black",A.style.backgroundColor=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings&&this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.backgroundColor?this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.backgroundColor:"orange",A.style.opacity=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings&&this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.opacity?this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.opacity:1,(0,t.isNullOrUndefined)(p)||p.appendChild(A),this.addSignaturePath(e,r),a},e.prototype.addSignaturePath=function(e,i){this.isSignatureField=!1;var n=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(n){var o=JSON.parse(n);"string"==typeof o&&(o=JSON.parse(o));for(var r=0;r<o.length;r++){var a=o[parseInt(r.toString(),10)];if(null!==a.ActualFieldName||!i||"ink"!==a.Name&&"SignatureField"!==a.Name&&"SignatureImage"!==a.Name&&"SignatureText"!==a.Name||(this.pdfViewer.formDesigner?a.FieldName.split("_")[0]!==e.ActualFieldName&&a.FieldName.split("_")[0]!==e.FieldName:a.FieldName.split("_")[0]!==e.FieldName||(0,t.isNullOrUndefined)(e.ActualFieldName)||!a.Value||""===a.Value)||e.PageIndex===a.PageIndex&&(e.Value=a.Value,e.FontFamily=a.FontFamily,e.FontSize=a.FontSize,this.isSignatureField=!0,e.Bounds=a.LineBounds),null===a.ActualFieldName&&i&&("ink"===a.Name||"SignatureField"===a.Name||"SignatureImage"===a.Name||"SignatureText"===a.Name)&&this.pdfViewer.formDesigner?a.FieldName===e.ActualFieldName+"_"+i||a.FieldName===e.FieldName+"_"+i:(a.FieldName===e.FieldName+"_"+i||a.FieldName===e.ActualFieldName+"_"+i)&&!(0,t.isNullOrUndefined)(e.ActualFieldName)&&a.Value&&""!==a.Value){e.Value=a.Value,e.FontFamily=a.FontFamily,e.FontSize=a.FontSize,this.isSignatureField=!0,e.Bounds||(e.Bounds=a.LineBounds);break}}}return this.isSignatureField},e.prototype.getBounds=function(e,t,i,n){var o=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];return i>0?this.getBoundsPosition(i,e,o,n):this.getBoundsPosition(o.rotation,e,o,n)},e.prototype.getBoundsPosition=function(e,t,i,n){var o;if(n){switch(e){case 0:o=t;break;case 1:o={left:i.width-t.top-t.height-(t.width/2-t.height/2),top:t.left+(t.width/2-t.height/2),width:t.width,height:t.height};break;case 2:o={left:i.width-t.left-t.width,top:i.height-t.top-t.height,width:t.width,height:t.height};break;case 3:o={left:t.top-(t.width/2-t.height/2),top:i.height-t.left-t.width+(t.width/2-t.height/2),width:t.width,height:t.height}}o||(o=t)}else{switch(e){case 90:case 1:o={left:i.width-t.top-t.height,top:t.left,width:t.height,height:t.width};break;case 180:case 2:o={left:i.width-t.left-t.width,top:i.height-t.top-t.height,width:t.width,height:t.height};break;case 270:case 3:o={left:t.top,top:i.height-t.left-t.width,width:t.height,height:t.width};break;case 0:o=t}o||(o=t)}return o},e.prototype.applyPosition=function(e,i,n,o,r,a){if(i){var s=0,l={left:this.ConvertPointToPixel(i.X),top:this.ConvertPointToPixel(i.Y),width:this.ConvertPointToPixel(i.Width),height:this.ConvertPointToPixel(i.Height)},d=this.getBounds(l,o,r,a);!(0,t.isNullOrUndefined)(n)&&n.Height&&(e.style.fontFamily=n.Name,n.Italic&&(e.style.fontStyle="italic"),n.Bold&&(e.style.fontWeight="Bold"),s=this.ConvertPointToPixel(n.Size)),this.pdfViewerBase.setStyleToTextDiv(e,d.left,d.top,s,d.width,d.height,!1)}},e.prototype.renderExistingAnnnot=function(e,i,n,o){if(!n){var r=void 0,a=void 0,s=void 0,l=void 0,d=void 0;(r=e.Bounds&&"ink"!==e.Name?e.Bounds:e.LineBounds).x||r.y||r.width||r.height?(a=r.x,s=r.y,l=r.width,d=r.height):(a=this.ConvertPointToPixel(r.X),s=this.ConvertPointToPixel(r.Y),l=this.ConvertPointToPixel(r.Width),d=this.ConvertPointToPixel(r.Height));var h,A=parseFloat(e.PageIndex),p={left:a,top:s,width:l,height:d},c=this.updateSignatureBounds(p,A,o),g=e.FontFamily?e.FontFamily:e.fontFamily;if(this.pdfViewerBase.isSignatureImageData(e.Value))h={id:this.pdfViewer.element.id+"input_"+A+"_"+i,bounds:c,pageIndex:A,data:e.Value,modifiedDate:"",shapeAnnotationType:"SignatureImage",opacity:1,rotateAngle:o?this.getAngle(A):0,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""}};else if(this.pdfViewerBase.isSignaturePathData(e.Value)){var u,f={left:c.x,top:c.y,width:c.width,height:c.height};u=this.updateSignatureBounds(f,A,!1),h={id:this.pdfViewer.element.id+"input_"+A+"_"+i,bounds:u,pageIndex:A,data:e.Value,modifiedDate:"",shapeAnnotationType:"Path",opacity:1,rotateAngle:0,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""}}}else(h={id:this.pdfViewer.element.id+"input_"+A+"_"+i,bounds:c,pageIndex:A,data:e.Value,modifiedDate:"",shapeAnnotationType:"SignatureText",opacity:1,rotateAngle:o?this.getAngle(A):0,annotName:"SignatureField",comments:[],review:{state:"",stateModel:"",modifiedDate:"",author:""},fontFamily:e.FontFamily,fontSize:e.FontSize}).fontFamily="TimesRoman"===g?"Times New Roman":g,h.fontSize=e.FontSize?e.FontSize:e.fontSize;if("SignatureField"!==e.Name&&"InitialField"!==e.Name||(0,t.isNullOrUndefined)(e.id)){var m=document.getElementById(h.id);m&&m.classList.contains("e-pdfviewer-signatureformfields-signature")&&this.pdfViewer.annotation.deleteAnnotationById(h.id),this.pdfViewer.add(h),m&&(this.updateDataInSession(m,h.data,h.bounds),this.pdfViewer.fireSignatureAdd(h.pageIndex,h.id,h.shapeAnnotationType,h.bounds,h.opacity,h.strokeColor,h.thickness,h.data))}else{var w=e.id,y=document.getElementById(w+"_content_html_element"),S=this.pdfViewer.nameTable[""+w];h.id=S.id+"_content";var C=this.pdfViewer.add(h);if(S.wrapper.children.push(C.wrapper),!(0,t.isNullOrUndefined)(y)&&this.isSignatureField)(B=y.children[0].children[0]).style.pointerEvents="none",B.className="e-pdfviewer-signatureformfields-signature",B.parentElement.style.pointerEvents="none";else if(!(0,t.isNullOrUndefined)(y)&&e.Value){var B;(B=y.children[0].children[0]).style.pointerEvents="none",B.className="e-pdfviewer-signatureformfields-signature",B.parentElement.style.pointerEvents="none"}}if(e.Bounds=h.bounds,this.pdfViewer.formDesignerModule){var I=this.pdfViewerBase.getZoomFactor();h.bounds={x:a*I,y:s*I,width:l*I,height:d*I},this.updateSignatureDataInSession(h,h.id)}var b=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+A),v=this.pdfViewer.formFieldCollection.filter((function(e){return h.id.split("_")[0]===e.id}));(v.length>0&&"hidden"!==v[0].visibility||!this.pdfViewer.formDesignerModule)&&this.pdfViewer.renderDrawing(b,A)}},e.prototype.updateSignatureBounds=function(e,t,i){var n=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];return n?i?1===n.rotation?{x:n.width-e.top-e.height-(e.width/2-e.height/2),y:e.left+(e.width/2-e.height/2),width:e.width,height:e.height}:2===n.rotation?{x:n.width-e.left-e.width,y:n.height-e.top-e.height,width:e.width,height:e.height}:3===n.rotation?{x:e.top-(e.width/2-e.height/2),y:n.height-e.left-e.width+(e.width/2-e.height/2),width:e.width,height:e.height}:{x:e.left,y:e.top,width:e.width,height:e.height}:1===n.rotation?{x:n.width-e.top-e.height,y:e.left,width:e.height,height:e.width}:2===n.rotation?{x:n.width-e.left-e.width,y:n.height-e.top-e.height,width:e.width,height:e.height}:3===n.rotation?{x:e.top,y:n.height-e.left-e.width,width:e.height,height:e.width}:{x:e.left,y:e.top,width:e.width,height:e.height}:{x:e.left,y:e.top,width:e.width,height:e.height}},e.prototype.resetFormFields=function(){for(var e=this.pdfViewer.formFieldCollections,t=0;t<e.length;t++){var i=e[parseInt(t.toString(),10)];if(this.currentTarget=document.getElementById(i.id),"Textbox"===i.type)this.currentTarget.value=i.value;else if("RadioButton"===i.type)this.currentTarget.checked=i.value,i.value&&this.updateDataInSession(this.currentTarget);else if("DropDown"===i.type)this.currentTarget.value=i.value;else if("CheckBox"===i.type)this.currentTarget.checked=i.value;else if("SignatureField"===i.type){var n=this.pdfViewer.nameTable[i.id];n&&(this.currentTarget&&"e-pdfviewer-signatureformfields-signature"===this.currentTarget.className&&(this.currentTarget.className="e-pdfviewer-signatureformfields",this.currentTarget.style.pointerEvents="",this.updateDataInSession(this.currentTarget,"")),this.pdfViewer.remove(n),this.pdfViewer.renderDrawing())}"RadioButton"!==i.type&&"SignatureField"!==i.type&&this.updateDataInSession(this.currentTarget)}},e.prototype.clearFormFieldStorage=function(){sd.sessionStorageManager.getWindowSessionStorageSize();if((this.pdfViewerBase.isDeviceiOS||this.pdfViewerBase.isMacSafari)&&2e3,this.pdfViewerBase.isStorageExceed){for(var e=sd.sessionStorageManager.getSessionLength(),t=[],i=0;i<e;i++)sd.sessionStorageManager.getKey(i)&&sd.sessionStorageManager.getKey(i).split("_")[3]&&("formfields"===sd.sessionStorageManager.getKey(i).split("_")[3]||"formDesigner"===sd.sessionStorageManager.getKey(i).split("_")[3])&&(this.pdfViewerBase.formFieldStorage[sd.sessionStorageManager.getKey(i)]=sd.sessionStorageManager.getItem(sd.sessionStorageManager.getKey(i)),t.push(sd.sessionStorageManager.getKey(i)));if(t)for(i=0;i<t.length;i++)sd.sessionStorageManager.removeItem(t[parseInt(i.toString(),10)])}},e.prototype.clearFormFields=function(e){var t=this.pdfViewerBase.getItemFromSessionStorage("_formfields");if(t){var i=void 0;i=e?[e]:JSON.parse(t);for(var n=!0,o=0;o<i.length;o++){var r=i[parseInt(o.toString(),10)];if(e&&(r.uniqueID=e.id,r.Name=e.type),this.currentTarget=document.getElementById(r.uniqueID),"Textbox"===r.Name)this.currentTarget.value="";else if("RadioButton"===r.Name)n&&(this.currentTarget.checked=!0,this.updateDataInSession(this.currentTarget),n=!1);else if("DropDown"===r.Name)this.currentTarget.value=r.TextList[0];else if("CheckBox"===r.Name)this.currentTarget.checked=!1;else if("SignatureField"===r.Name||"InitialField"===r.Name){var a=this.pdfViewer.nameTable[r.uniqueID];"annotations"!==a.propName&&(a=this.pdfViewer.nameTable[r.uniqueID+"_content"]),a&&(this.currentTarget&&"e-pdfviewer-signatureformfields-signature"===this.currentTarget.className&&(this.currentTarget.className="e-pdfviewer-signatureformfields",this.currentTarget.style.pointerEvents="",this.currentTarget.parentElement.style.pointerEvents="",this.updateDataInSession(this.currentTarget,""),e&&(e.value="",e.signatureType=[e.signatureType],e.signatureType[0]="")),this.pdfViewer.annotation.deleteAnnotationById(a.id))}"SignatureField"!==r.Name&&"ink"!==r.Name&&"RadioButton"!==r.Name&&this.updateDataInSession(this.currentTarget)}}},e.prototype.ConvertPointToPixel=function(e){return e*(96/72)},e.prototype.destroy=function(){this.currentTarget=null,this.readOnlyCollection=[],this.pdfViewerBase&&this.pdfViewerBase.signatureModule&&this.pdfViewerBase.signatureModule.destroy()},e.prototype.getModuleName=function(){return"FormFields"},e.prototype.getTextWidth=function(e,t,i){var n,o=document.createElement("canvas"),r=o.getContext("2d");t&&(n=t+"px "+i),r.font=n||getComputedStyle(document.body).font;var a=r.measureText(e).width;return this.pdfViewerBase.releaseCanvas(o),a},e.prototype.getFontSize=function(e){return e},e}(),Th=function(){function e(e,t){this.formFieldTooltips=[],this.isFormFieldExistingInCollection=!1,this.multilineCheckboxCheckedState=!1,this.formFieldListItemCollection=[],this.formFieldListItemDataSource=[],this.isInitialField=!1,this.isSetFormFieldMode=!1,this.isAddFormFieldProgrammatically=!1,this.isAddFormFieldUi=!1,this.increasedSize=5,this.defaultZoomValue=1,this.defaultFontSize=10,this.signIndicatorPadding=3,this.signIndicatorMinimunFontSize=1,this.signatureFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isVisibilityChanged:!1,isNameChanged:!1,isPrintChanged:!1,isTooltipChanged:!1,isThicknessChanged:!1},this.initialFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isVisibilityChanged:!1,isNameChanged:!1,isPrintChanged:!1,isTooltipChanged:!1,isThicknessChanged:!1},this.textFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isAlignmentChanged:!1,isFontSizeChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isSelected:!1,isFontFamilyChanged:!1,isFontStyle:!1,isValueChanged:!1,isMaXLength:!1,isColorChanged:!1,isMultilineChanged:!1},this.passwordFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isAlignmentChanged:!1,isFontSizeChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isSelected:!1,isFontFamilyChanged:!1,isFontStyle:!1,isValueChanged:!1,isMaXLength:!1,isColorChanged:!1},this.checkBoxFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isCheckedChanged:!1,isValueChanged:!1},this.radioButtonFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isSelectedChanged:!1,isValueChanged:!1},this.dropdownFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isAlignmentChanged:!1,isFontSizeChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isSelected:!1,isFontFamilyChanged:!1,isFontStyle:!1,isColorChanged:!1,isOptionChanged:!1},this.listBoxFieldPropertyChanged={isReadOnlyChanged:!1,isRequiredChanged:!1,isBackgroundColorChanged:!1,isBorderColorChanged:!1,isAlignmentChanged:!1,isFontSizeChanged:!1,isNameChanged:!1,isToolTipChanged:!1,isThicknessChanged:!1,isVisibilityChanged:!1,isPrintChanged:!1,isSelected:!1,isFontFamilyChanged:!1,isFontStyle:!1,isColorChanged:!1,isOptionChanged:!1},this.disableSignatureClickEvent=!1,this.formFieldIndex=0,this.formFieldIdIndex=0,this.isProgrammaticSelection=!1,this.isShapeCopied=!1,this.isFormFieldSizeUpdated=!1,this.isDrawHelper=!1,this.isFormFieldUpdated=!1,this.isPropertyDialogOpen=!1,this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.drawHelper=function(e,t,i){var n=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+this.pdfViewerBase.activeElements.activePageID);if(null!==document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+this.pdfViewerBase.activeElements.activePageID)&&null!==n){var o=this.pdfViewerBase.getZoomFactor(),r=this.updateFormFieldInitialSize(t,e),a=this.createHtmlElement("div",{id:"FormField_helper_html_element",class:"foreign-object"});if(this.isDrawHelper=!0,"SignatureField"===e||"InitialField"===e)a.appendChild(this.createSignatureDialog(this.pdfViewer,t,r));else if("DropdownList"===e){var s={id:"dropdown_helper"};a.appendChild(this.createDropDownList(s,t))}else if("ListBox"===e){s={id:"listbox_helper"};a.appendChild(this.createListBox(s,t))}else a.appendChild(this.createInputElement(e,t,r));n.appendChild(a);var l=this.pdfViewerBase.getMousePosition(i);a.setAttribute("style","height:"+r.height*o+"px; width:"+r.width*o+"px;left:"+l.x*o+"px; top:"+l.y*o+"px;position:absolute;opacity: 0.5;")}},e.prototype.drawHTMLContent=function(e,n,o,r,a,s,l){var d=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+r),h=document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+r);if(null===document.getElementById("form_field_"+n.id+"_html_element")&&null!==n&&null!==h&&d){var A=this.pdfViewerBase.getZoomFactor(),p={id:"form_field_"+n.id+"_html_element",class:"foreign-object"},c=this.createHtmlElement("div",p),g={id:n.id+"_html_element",class:"foreign-object"},u=this.createHtmlElement("div",g);n.template="SignatureField"===e||"InitialField"===e?u.appendChild(this.createSignatureDialog(a,o)):"DropdownList"===e?u.appendChild(this.createDropDownList(n,o)):"ListBox"===e?u.appendChild(this.createListBox(n,o)):u.appendChild(this.createInputElement(e,o)),this.isSetFormFieldMode=!1;var f=document.createElement("div");if(f.id=o.id+"_designer_name",f.style.fontSize=this.defaultFontSize+"px",f.className="e-pv-show-designer-name",this.pdfViewer.designerMode?(f.innerHTML=o.name,f.style.position="absolute"):(f.innerHTML="",f.style.position="initial"),"Checkbox"===e&&t.Browser.isDevice){var m=(I=o.bounds).height+this.increasedSize,w=I.width+this.increasedSize,y={id:o.id+"_outer_div",className:"e-pv-checkbox-outer-div"},S=(0,t.createElement)("div",y);S.setAttribute("style","height:"+m*A+"px; width:"+w*A+"px;left:"+I.x*A+"px; top:"+I.y*A+"px;position:absolute; opacity: 1;"),u.appendChild(f),S.addEventListener("click",this.setCheckBoxState.bind(this)),c.appendChild(u),d.appendChild(S),S.appendChild(c)}else u.appendChild(f),c.appendChild(u),d.appendChild(c);if("RadioButton"===e&&document.getElementsByClassName("e-pv-radiobtn-span").length>0)for(var C=document.getElementsByClassName("e-pv-radiobtn-span"),B=0;B<C.length;B++)if(C[parseInt(B.toString(),10)].id.split("_")[0]===o.id){var I=this.getCheckboxRadioButtonBounds(o);C[parseInt(B.toString(),10)].style.width=I.width/2+"px",C[parseInt(B.toString(),10)].style.height=I.height/2+"px",(parseInt(C[parseInt(B.toString(),10)].style.width,10)<=1||parseInt(C[parseInt(B.toString(),10)].style.height,10)<=1)&&(C[parseInt(B.toString(),10)].style.width="1px",C[parseInt(B.toString(),10)].style.height="1px",C[parseInt(B.toString(),10)].style.margin="1px")}var b=(0,i.cornersPointsBeforeRotation)(n).topLeft;if("Checkbox"===e&&t.Browser.isDevice?u.setAttribute("style","height:"+n.actualSize.height*A+"px; width:"+n.actualSize.width*A+"px;left:"+b.x*A+"px; top:"+b.y*A+"px;transform:rotate("+(n.rotateAngle+n.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(n.visible?"visible":"hidden")+";opacity:"+n.style.opacity+";"):u.setAttribute("style","height:"+n.actualSize.height*A+"px; width:"+n.actualSize.width*A+"px;left:"+b.x*A+"px; top:"+b.y*A+"px;position:absolute;transform:rotate("+(n.rotateAngle+n.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(n.visible?"visible":"hidden")+";opacity:"+n.style.opacity+";"),this.updateFormDesignerFieldInSessionStorage(b,n,e,o),("SignatureField"===e||"InitialField"===e)&&o.value){var v=this.pdfViewer.drawing.copiedElementID+"_content";if(!(0,t.isNullOrUndefined)(this.pdfViewer.nameTable[""+v])){var E=this.pdfViewer.nameTable[""+v].value,x=E.indexOf("base64")>-1?"Image":E.startsWith("M")&&E.split(",")[1].split(" ")[1].startsWith("L")?"Path":"Type";this.pdfViewer.formFieldsModule.drawSignature(x,E,n.template,o.fontFamily)}}var _={name:o.name,id:o.id,value:o.value,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,color:o.color,backgroundColor:o.backgroundColor,alignment:o.alignment,isReadonly:o.isReadonly,visibility:o.visibility,maxLength:o.maxLength,isRequired:o.isRequired,isPrint:o.isPrint,rotation:o.rotateAngle,tooltip:o.tooltip,borderColor:o.borderColor,thickness:o.thickness,options:o.options,pageNumber:o.pageNumber,isChecked:o.isChecked,isSelected:o.isSelected,customData:o.customData};this.pdfViewer.isFormFieldsLoaded&&!l||this.pdfViewerBase.updateDocumentEditedProperty(!0),this.pdfViewer.fireFormFieldAddEvent("formFieldAdd",_,this.pdfViewerBase.activeElements.activePageID)}else{b=(0,i.cornersPointsBeforeRotation)(n).topLeft;this.updateFormDesignerFieldInSessionStorage(b,n,e,o)}return n.template},e.prototype.updateFormDesignerFieldInSessionStorage=function(e,t,i,n){var o=this.pdfViewerBase.getZoomFactor(),r={id:t.id,lineBound:{X:e.x*o,Y:e.y*o,Width:t.actualSize.width*o,Height:t.actualSize.height*o},name:n.name,zoomValue:o,pageNumber:n.pageNumber,value:n.value,formFieldAnnotationType:i,isMultiline:n.isMultiline,signatureType:n.signatureType,signatureBound:n.signatureBound,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontColor:this.getRgbCode(n.color),borderColor:this.getRgbCode(n.borderColor),thickness:n.thickness,backgroundColor:this.getRgbCode(n.backgroundColor),textAlign:n.alignment,isChecked:n.isChecked,isSelected:n.isSelected,isReadonly:n.isReadonly,font:{isBold:n.font.isBold,isItalic:n.font.isItalic,isStrikeout:n.font.isStrikeout,isUnderline:n.font.isUnderline},selectedIndex:n.selectedIndex,radiobuttonItem:null,option:n.options?n.options:[],visibility:n.visibility,maxLength:n.maxLength,isRequired:n.isRequired,isPrint:n.isPrint,rotation:n.rotateAngle,tooltip:n.tooltip,insertSpaces:n.insertSpaces,customData:n.customData};if("RadioButton"===r.formFieldAnnotationType&&(r.radiobuttonItem=[],r.radiobuttonItem.push({id:t.id,lineBound:{X:e.x*o,Y:e.y*o,Width:t.actualSize.width*o,Height:t.actualSize.height*o},name:n.name,zoomValue:o,pageNumber:n.pageNumber,value:n.value,formFieldAnnotationType:i,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontColor:this.getRgbCode(n.color),borderColor:this.getRgbCode(n.borderColor),thickness:n.thickness,backgroundColor:this.getRgbCode(n.backgroundColor),textAlign:n.alignment,isChecked:n.isChecked,isSelected:n.isSelected,isReadonly:n.isReadonly,visibility:n.visibility,maxLength:n.maxLength,isRequired:n.isRequired,isPrint:n.isPrint,rotation:0,tooltip:n.tooltip})),!this.getRadioButtonItem(r,n)){for(var a=0;a<this.pdfViewerBase.formFieldCollection.length;a++){this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].Key===r.id&&(this.pdfViewerBase.formFieldCollection.splice(a,1),this.pdfViewerBase.formFieldCollection.push({Key:t.id,FormField:r}),this.isFormFieldExistingInCollection=!0)}this.isFormFieldExistingInCollection||this.pdfViewerBase.formFieldCollection.push({Key:t.id,FormField:r}),this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.isFormFieldExistingInCollection=!1,this.pdfViewerBase.formFieldCollection.length>0?this.pdfViewerBase.enableFormFieldButton(!0):this.pdfViewerBase.enableFormFieldButton(!1)}},e.prototype.getRadioButtonItem=function(e,i){var n=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),o=!1;if(n){for(var r=JSON.parse(n),a=0;a<r.length;a++){var s=r[parseInt(a.toString(),10)],l=void 0;if("RadioButton"===e.formFieldAnnotationType&&e.radiobuttonItem&&s.FormField.radiobuttonItem)for(var d=0;d<s.FormField.radiobuttonItem.length;d++){if(s.FormField.radiobuttonItem[parseInt(d.toString(),10)].id===e.id){l={lineBound:e.lineBound,id:e.id,name:e.name,zoomValue:e.zoomValue,pageNumber:e.pageNumber,value:e.value,formFieldAnnotationType:e.formFieldAnnotationType,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontColor:this.getRgbCode(i.color),borderColor:this.getRgbCode(i.borderColor),thickness:i.thickness,backgroundColor:this.getRgbCode(i.backgroundColor),textAlign:e.textAlign,isChecked:e.isChecked,isSelected:e.isSelected,isReadonly:e.isReadonly,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:0,tooltip:e.tooltip},s.FormField.radiobuttonItem.splice(d,1),s.FormField.radiobuttonItem.push(l),(0,t.isNullOrUndefined)(this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)])||this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.name===s.FormField.name&&(this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.radiobuttonItem=s.FormField.radiobuttonItem,o=!0);break}if(e.formFieldAnnotationType===s.FormField.formFieldAnnotationType&&e.name===s.FormField.name){l={lineBound:e.lineBound,id:e.id,name:e.name,zoomValue:e.zoomValue,pageNumber:e.pageNumber,value:e.value,formFieldAnnotationType:e.formFieldAnnotationType,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontColor:this.getRgbCode(i.color),borderColor:this.getRgbCode(i.borderColor),thickness:i.thickness,backgroundColor:this.getRgbCode(i.backgroundColor),textAlign:e.textAlign,isChecked:e.isChecked,isSelected:e.isSelected,isReadonly:e.isReadonly,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:0,tooltip:e.tooltip};for(var h=!1,A=0;A<s.FormField.radiobuttonItem.length;A++)if(s.FormField.radiobuttonItem[parseInt(A.toString(),10)].id===l.id){s.FormField.radiobuttonItem[parseInt(A.toString(),10)]=l,h=!0;break}if(h||s.FormField.radiobuttonItem.push(l),!(0,t.isNullOrUndefined)(this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)])){this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.radiobuttonItem=s.FormField.radiobuttonItem,o=!0;for(var p=0;p<this.pdfViewerBase.formFieldCollection.length;p++){this.pdfViewerBase.formFieldCollection[parseInt(p.toString(),10)].Key===l.id&&this.pdfViewerBase.formFieldCollection.splice(p,1)}}}}}o&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}return o},e.prototype.getRgbCode=function(e){if(!e.match(/#([a-z0-9]+)/gi)&&!e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)){var i=this.nameToHash(e);""!==i&&(e=i)}var n=e.split(",");(0,t.isNullOrUndefined)(n[1])&&(n=(e=this.getValue(e,"rgba")).split(","));var o=parseInt(n[0].split("(")[1],10),r=parseInt(n[1],10),a=parseInt(n[2],10),s=100*parseFloat(n[3]);return isNaN(s)&&(s=0),{r:o,g:r,b:a,a:s}},e.prototype.nameToHash=function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",yellow:"#ffff00",yellowgreen:"#9acd32",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkred:"#8b0000",darksalmon:"#e9967a",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",indigo:"#4b0082",ivory:"#fffff0",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",pink:"#ffc0cb",plum:"#dda0dd",steelblue:"#4682b4",violet:"#ee82ee",powderblue:"#b0e0e6",purple:"#800080",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0"};return void 0!==t[e.toLowerCase()]?t[e.toLowerCase()]:""},e.prototype.getValue=function(e,t){if(t=t?t.toLowerCase():"hex","r"===e[0]){var i=this.convertRgbToNumberArray(e);if("hex"===t||"hexa"===t){var n=this.rgbToHex(i);return"hex"===t?n.slice(0,7):n}return"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"null"}if("h"===e[0]){i=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e));if("rgba"===t)return this.convertToRgbString(i);if("hex"===t||"hexa"===t){n=this.rgbToHex(i);return"hex"===t?n.slice(0,7):n}return"rgb"===t?this.convertToRgbString(i.slice(0,3)):"null"}e=this.roundValue(e);var o=this.hexToRgb(e);return"rgb"!==t&&"hsv"!==t||(o=o.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(o):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,o)):"hex"===t?e.slice(0,7):"a"===t?o[3].toString():"null"},e.prototype.convertRgbToNumberArray=function(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map((function(e,t){return 3!==t?parseInt(e,10):parseFloat(e)}))},e.prototype.convertToRgbString=function(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""},e.prototype.convertToHsvString=function(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"},e.prototype.roundValue=function(e){if(!e)return"";"#"!==e[0]&&(e="#"+e);var t=e.length;if(4===t&&(e+="f",t=5),5===t){for(var i="",n=1,o=e.length;n<o;n++)i+=e.charAt(n)+e.charAt(n);e="#"+i,t=9}return 7===t&&(e+="ff"),e},e.prototype.hexToRgb=function(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));var t=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);var i=parseInt(e,16),n=[];return n.push(i>>16&255),n.push(i>>8&255),n.push(255&i),n.push(t),n},e.prototype.rgbToHsv=function(e,i,n,o){e/=255,i/=255,n/=255;var r,a=Math.max(e,i,n),s=Math.min(e,i,n),l=a,d=a-s,h=0===a?0:d/a;if(a===s)r=0;else{switch(a){case e:r=(i-n)/d+(i<n?6:0);break;case i:r=(n-e)/d+2;break;case n:r=(e-i)/d+4}r/=6}var A=[Math.round(360*r),Math.round(1e3*h)/10,Math.round(1e3*l)/10];return(0,t.isNullOrUndefined)(o)||A.push(o),A},e.prototype.hsvToRgb=function(e,i,n,o){var r,a,s;if(n/=100,0===(i/=100))return r=a=s=n,[Math.round(255*r),Math.round(255*a),Math.round(255*s),o];e/=60;var l=Math.floor(e),d=e-l,h=n*(1-i),A=n*(1-i*d),p=n*(1-i*(1-d));switch(l){case 0:r=n,a=p,s=h;break;case 1:r=A,a=n,s=h;break;case 2:r=h,a=n,s=p;break;case 3:r=h,a=A,s=n;break;case 4:r=p,a=h,s=n;break;default:r=n,a=h,s=A}var c=[Math.round(255*r),Math.round(255*a),Math.round(255*s)];return(0,t.isNullOrUndefined)(o)||c.push(o),c},e.prototype.rgbToHex=function(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+((0,t.isNullOrUndefined)(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""},e.prototype.updateCanvas=function(e,i){if((0,t.isNullOrUndefined)(i)){i=this.pdfViewerBase.getElement("_annotationCanvas_"+e);var n=this.pdfViewerBase.getZoomFactor(),o=this.pdfViewerBase.getZoomRatio(n);if(i){var r=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width,a=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height;i.width=r*o,i.height=a*o,i.style.width=r*n+"px",i.style.height=a*n+"px"}}this.pdfViewer.drawing.refreshCanvasDiagramLayer(i,e)},e.prototype.rerenderFormFields=function(e){var i=this,n=this.pdfViewerBase.getZoomFactor(),o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),r=!1;if(o){var a=JSON.parse(o);"["===a[0]&&(a=JSON.parse(a));var s=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e),l=document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+e);if(null!==a&&null!==l&&null!==s)for(var d=function(o){var s=a[parseInt(o.toString(),10)].FormField;if(s.pageNumber===e+1&&!document.getElementById("form_field_"+s.id+"_html_element")){var l=h.pdfViewer.nameTable[a[parseInt(o.toString(),10)].Key.split("_")[0]],d=l.wrapper.children[0],A=h.pdfViewer.formFieldCollections.filter((function(e){return s.id.split("_")[0]===e.id}));if(d&&A.length>0&&"visible"===A[0].visibility){if("RadioButton"===s.formFieldAnnotationType)for(var p=0;p<s.radiobuttonItem.length;p++)l=h.pdfViewer.nameTable[s.radiobuttonItem[parseInt(p.toString(),10)].id.split("_")[0]],d=l.wrapper.children[0],s.radiobuttonItem[parseInt(p.toString(),10)]=h.renderFormFieldsInZooming(d,s.radiobuttonItem[parseInt(p.toString(),10)],l,n),h.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.radiobuttonItem[parseInt(p.toString(),10)].lineBound=s.radiobuttonItem[parseInt(p.toString(),10)].lineBound,h.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.radiobuttonItem[parseInt(p.toString(),10)].zoomValue=n;else{var c=h.pdfViewerBase.formFieldCollection.filter((function(e){return e.FormField.id===s.id}));s&&""===s.value&&(s.value=c[0]?c[0].FormField.value:"",s.signatureType=c[0]?c[0].FormField.signatureType:""),(0,t.isNullOrUndefined)(s)||(s.visibility=A[0].visibility,c[0].FormField.visibility=A[0].visibility);var g=h.renderFormFieldsInZooming(d,s,l,n);if("SignatureField"===s.formFieldAnnotationType||"InitialField"===s.formFieldAnnotationType){var u=h;a.filter((function(e){e.FormField.name!==s.name||e.FormField.id===s.id||(0,t.isNullOrUndefined)(u.pdfViewer.nameTable[e.FormField.id])||""===u.pdfViewer.nameTable[e.FormField.id].value||(s.value=u.pdfViewer.nameTable[e.FormField.id].value,s.signatureType="Text"===e.FormField.signatureType?"Type":e.FormField.signatureType,""!==s.value&&(s.signatureBound=e.FormField.signatureBound))})),!(0,t.isNullOrUndefined)(u.pdfViewer.nameTable[s.id])&&""!==u.pdfViewer.nameTable[s.id].value||""===s.value||(h.pdfViewer.formFieldsModule.drawSignature(s.signatureType,s.value,s),r=!0)}s.lineBound=g.lineBound,s.signatureBound&&(s.signatureBound=g.signatureBound,h.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.signatureBound=s.signatureBound,"SignatureField"!==s.formFieldAnnotationType&&"InitialField"!==s.formFieldAnnotationType||"Image"!==s.signatureType||!r?(0,t.isNullOrUndefined)(h.pdfViewer.nameTable[d.id.split("_")[0]+"_content"])||(h.pdfViewer.nameTable[d.id.split("_")[0]+"_content"].signatureBound=s.signatureBound):setTimeout((function(){(0,t.isNullOrUndefined)(i.pdfViewer.nameTable[d.id.split("_")[0]+"_content"])||(i.pdfViewer.nameTable[d.id.split("_")[0]+"_content"].signatureBound=s.signatureBound)}),10)),h.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.lineBound=s.lineBound,h.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.zoomValue=n}h.pdfViewerBase.setItemInSessionStorage(h.pdfViewerBase.formFieldCollection,"_formDesigner")}}if(h.pdfViewerBase.isFocusField&&h.pdfViewerBase.focusField){var f=document.getElementById(h.pdfViewerBase.focusField.id);f&&("SignatureField"!==h.pdfViewerBase.focusField.type&&"InitialField"!==h.pdfViewerBase.focusField.type||!h.pdfViewer.formDesignerModule?f.focus():f.parentElement.focus(),h.pdfViewerBase.isFocusField=!1,h.pdfViewerBase.focusField=[])}},h=this,A=0;A<a.length;A++)d(A)}},e.prototype.renderFormFieldsInZooming=function(e,n,o,r){if(e){var a={id:"form_field_"+e.id+"_html_element",class:"foreign-object"},s=this.createHtmlElement("div",a),l={id:e.id+"_html_element",class:"foreign-object"},d=this.createHtmlElement("div",l);(0,t.isNullOrUndefined)(n)||(o.visibility=n.visibility),"SignatureField"===n.formFieldAnnotationType||"InitialField"===n.formFieldAnnotationType?(this.disableSignatureClickEvent=!0,o.value=n.value,o.signatureType=n.signatureType,o.signatureBound=n.signatureBound,e.template=d.appendChild(this.createSignatureDialog(this.pdfViewer,o)),this.disableSignatureClickEvent=!1):"DropdownList"===n.formFieldAnnotationType?e.template=d.appendChild(this.createDropDownList(e,o)):"ListBox"===n.formFieldAnnotationType?e.template=d.appendChild(this.createListBox(e,o)):e.template=d.appendChild(this.createInputElement(n.formFieldAnnotationType,o));var h=document.createElement("div");h.id=o.id+"_designer_name",h.style.fontSize=r>.5?this.defaultFontSize+"px":"6px",h.className="e-pv-show-designer-name",this.pdfViewer.designerMode?(h.innerHTML=o.name,h.style.position="absolute"):(h.innerHTML="",h.style.position="initial"),d.appendChild(h),s.appendChild(d);var A=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+(n.pageNumber-1));A.appendChild(s),"RadioButton"===o.formFieldAnnotationType&&document.getElementsByClassName("e-pv-radiobtn-span").length;var p=(0,i.cornersPointsBeforeRotation)(o.wrapper.children[0]).topLeft;if("Checkbox"===n.formFieldAnnotationType&&t.Browser.isDevice){var c=e.actualSize.height+this.increasedSize,g=e.actualSize.width+this.increasedSize,u={id:e.id+"_outer_div",className:"e-pv-checkbox-outer-div"},f=(0,t.createElement)("div",u);f.setAttribute("style","height:"+c*r+"px; width:"+g*r+"px;left:"+p.x*r+"px; top:"+p.y*r+"px;position:absolute; opacity: 1;"),f.appendChild(s),f.addEventListener("click",this.setCheckBoxState.bind(this)),A.appendChild(f),d.setAttribute("style","height:"+e.actualSize.height*r+"px; width:"+e.actualSize.width*r+"px;left:"+p.x*r+"px; top:"+p.y*r+"px;transform:rotate("+(e.rotateAngle+e.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(e.visible?"visible":"hidden")+";opacity:"+e.style.opacity+";")}else d.setAttribute("style","height:"+e.actualSize.height*r+"px; width:"+e.actualSize.width*r+"px;left:"+p.x*r+"px; top:"+p.y*r+"px;position:absolute;transform:rotate("+(e.rotateAngle+e.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(e.visible?"visible":"hidden")+";opacity:"+e.style.opacity+";");if(n.lineBound={X:p.x*r,Y:p.y*r,Width:e.actualSize.width*r,Height:e.actualSize.height*r},n.signatureBound&&o.wrapper.children[1]){var m=o.wrapper.children[1].bounds;n.signatureBound.x=m.x*r,n.signatureBound.y=m.y*r,n.signatureBound.width=m.width*r,n.signatureBound.height=m.height*r}}return n},e.prototype.updateFormFieldInitialSize=function(e,t){var i=this.pdfViewerBase.getZoomFactor();switch(t){case"Textbox":case"PasswordField":case"DropdownList":e.width=200*i,e.height=24*i;break;case"SignatureField":case"InitialField":e.width=200*i,e.height=63*i;break;case"Checkbox":case"RadioButton":e.width=20*i,e.height=20*i;break;case"ListBox":e.width=198*i,e.height=66*i}return{width:e.width,height:e.height}},e.prototype.updateHTMLElement=function(e){var n=e.wrapper.children[0],o=this.pdfViewerBase.getZoomFactor();if(n){var r=document.getElementById(n.id+"_html_element");if(!(0,t.isNullOrUndefined)(r)){var a=(0,i.cornersPointsBeforeRotation)(e.wrapper.children[0]).topLeft;r.setAttribute("style","height:"+n.actualSize.height*o+"px; width:"+n.actualSize.width*o+"px;left:"+a.x*o+"px; top:"+a.y*o+"px;position:absolute;transform:rotate("+(n.rotateAngle+n.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(n.visible?"visible":"hidden")+";opacity:"+n.style.opacity+";");var s=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner");if("RadioButton"===e.formFieldAnnotationType){var l=r.firstElementChild.firstElementChild,d=r.firstElementChild.firstElementChild.lastElementChild;n.actualSize.width>n.actualSize.height?(r.firstElementChild.style.display="inherit",l.style.width=l.style.height=n.actualSize.height*o+"px",d.style.width=d.style.height=n.actualSize.height/2+"px"):(r.firstElementChild.style.display="flex",l.style.width=l.style.height=n.actualSize.width*o+"px",d.style.width=d.style.height=n.actualSize.width/2+"px"),o<1&&l.style.width<=20&&l.style.height<=20?d.style.margin=Math.round(parseInt(l.style.width,10)/3.5)+"px":d.style.margin=Math.round(parseInt(l.style.width,10)/4)+"px"}if("Checkbox"===e.formFieldAnnotationType){l=r.firstElementChild.firstElementChild,d=r.firstElementChild.firstElementChild.lastElementChild.firstElementChild;if(n.actualSize.width>n.actualSize.height?(r.firstElementChild.style.display="inherit",l.style.width=l.style.height=n.actualSize.height*o+"px",d.style.width=n.actualSize.height/5*o+"px",d.style.height=n.actualSize.height/2.5*o+"px",d.style.left=n.actualSize.height/2.5*o+"px",d.style.top=n.actualSize.height/5*o+"px"):(r.firstElementChild.style.display="flex",l.style.width=l.style.height=n.actualSize.width*o+"px",d.style.width=n.actualSize.width/5*o+"px",d.style.height=n.actualSize.width/2.5*o+"px",d.style.left=n.actualSize.width/2.5*o+"px",d.style.top=n.actualSize.width/5*o+"px"),-1!==d.className.indexOf("e-pv-cb-checked")){var h=parseInt(l.style.width,10);d.style.borderWidth=h>20?"3px":h<=15?"1px":"2px"}}if("SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType){var A=r.firstElementChild.firstElementChild,p=A.nextElementSibling,c=this.getBounds(p),g={height:n.actualSize.height,width:n.actualSize.width,signatureIndicatorSettings:{text:p.textContent,width:c.width,height:c.height},initialIndicatorSettings:{text:p.textContent,width:c.width,height:c.height}};this.updateSignatureandInitialIndicator(e,g,A)}for(var u=JSON.parse(s),f=0;f<u.length;f++)if("RadioButton"===u[parseInt(f.toString(),10)].FormField.formFieldAnnotationType){for(var m=0;m<u[parseInt(f.toString(),10)].FormField.radiobuttonItem.length;m++)if(n.id===u[parseInt(f.toString(),10)].FormField.radiobuttonItem[parseInt(m.toString(),10)].id){this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.radiobuttonItem[parseInt(m.toString(),10)].lineBound={X:a.x*o,Y:a.y*o,Width:n.actualSize.width*o,Height:n.actualSize.height*o},this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.radiobuttonItem[parseInt(m.toString(),10)].zoomValue=o;break}}else if(u[parseInt(f.toString(),10)].Key===n.id){if(u[parseInt(f.toString(),10)].FormField.lineBound={X:a.x*o,Y:a.y*o,Width:n.actualSize.width*o,Height:n.actualSize.height*o},u[parseInt(f.toString(),10)].FormField.signatureBound){var w=a.x*o+n.actualSize.width*o/2;w-=u[parseInt(f.toString(),10)].FormField.signatureBound.width/2;var y=a.y*o+n.actualSize.height*o/2;y-=u[parseInt(f.toString(),10)].FormField.signatureBound.height/2,u[parseInt(f.toString(),10)].FormField.signatureBound.x=w,u[parseInt(f.toString(),10)].FormField.signatureBound.y=y,this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.signatureBound=u[parseInt(f.toString(),10)].FormField.signatureBound,this.pdfViewer.nameTable[n.id.split("_")[0]+"_content"].signatureBound=u[parseInt(f.toString(),10)].FormField.signatureBound}this.pdfViewerBase.formFieldCollection[parseInt(f.toString(),10)].FormField.lineBound=u[parseInt(f.toString(),10)].FormField.lineBound}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}}},e.prototype.getCheckboxRadioButtonBounds=function(e,t,i){var n=i?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor(),o=0,r=0,a="";return t?t.width>t.height?(o=r=t.height*n,a="inherit"):(o=r=t.width*n,a="flex"):e&&(e.bounds.width>e.bounds.height?(o=r=e.bounds.height*n,a="inherit"):(o=r=e.bounds.width*n,a="flex")),{width:o,height:r,display:a}},e.prototype.updateSessionFormFieldProperties=function(e){var i=this.pdfViewerBase.getZoomFactor(),n=e.wrapper.children[0],o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),r=JSON.parse(o);if(!(0,t.isNullOrUndefined)(n))for(var a=0;a<r.length;a++)if("RadioButton"===r[parseInt(a.toString(),10)].FormField.formFieldAnnotationType){for(var s=0;s<r[parseInt(a.toString(),10)].FormField.radiobuttonItem.length;s++)if(n.id===r[parseInt(a.toString(),10)].FormField.radiobuttonItem[parseInt(s.toString(),10)].id){var l={id:n.id,lineBound:{X:n.bounds.x*i,Y:n.bounds.y*i,Width:n.bounds.width*i,Height:n.bounds.height*i},name:e.name,zoomValue:i,pageNumber:e.pageNumber,value:e.value,formFieldAnnotationType:e.formFieldAnnotationType,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontColor:this.getRgbCode(e.color),backgroundColor:this.getRgbCode(e.backgroundColor),borderColor:this.getRgbCode(e.borderColor),thickness:e.thickness,textAlign:e.alignment,isChecked:e.isChecked,isSelected:e.isSelected,isReadonly:e.isReadonly,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:0,tooltip:e.tooltip,isMultiline:e.isMultiline,insertSpaces:e.insertSpaces,isTransparent:e.isTransparent,zIndex:e.zIndex,customData:e.customData};r[parseInt(a.toString(),10)].FormField.radiobuttonItem[parseInt(s.toString(),10)]=l,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)]&&this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField&&this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.radiobuttonItem[parseInt(s.toString(),10)]&&(this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.radiobuttonItem[parseInt(s.toString(),10)]=l,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.tooltip=l.tooltip);break}}else if(r[parseInt(a.toString(),10)].Key===n.id){var d={id:n.id,lineBound:{X:n.bounds.x*i,Y:n.bounds.y*i,Width:n.bounds.width*i,Height:n.bounds.height*i},name:e.name,zoomValue:i,pageNumber:e.pageNumber,value:e.value,formFieldAnnotationType:e.formFieldAnnotationType,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontColor:this.getRgbCode(e.color),backgroundColor:this.getRgbCode(e.backgroundColor),borderColor:this.getRgbCode(e.borderColor),thickness:e.thickness,textAlign:e.alignment,isChecked:e.isChecked,isSelected:e.isSelected,isReadonly:e.isReadonly,font:{isBold:e.font.isBold,isItalic:e.font.isItalic,isStrikeout:e.font.isStrikeout,isUnderline:e.font.isUnderline},selectedIndex:e.selectedIndex,radiobuttonItem:null,option:e.options?e.options:[],visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:0,tooltip:e.tooltip,isMultiline:e.isMultiline,insertSpaces:e.insertSpaces,isTransparent:e.isTransparent,zIndex:e.zIndex,customData:e.customData};if("SignatureField"===r[parseInt(a.toString(),10)].FormField.formFieldAnnotationType||"InitialField"===r[parseInt(a.toString(),10)].FormField.formFieldAnnotationType){var h=e,A={id:n.id,lineBound:{X:n.bounds.x*i,Y:n.bounds.y*i,Width:n.bounds.width*i,Height:n.bounds.height*i},name:e.name,zoomValue:i,pageNumber:e.pageNumber,value:e.value,formFieldAnnotationType:e.formFieldAnnotationType,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontColor:this.getRgbCode(e.color),backgroundColor:this.getRgbCode(e.backgroundColor),borderColor:this.getRgbCode(e.borderColor),thickness:e.thickness,textAlign:e.alignment,isChecked:e.isChecked,isSelected:e.isSelected,isReadonly:e.isReadonly,font:{isBold:e.font.isBold,isItalic:e.font.isItalic,isStrikeout:e.font.isStrikeout,isUnderline:e.font.isUnderline},selectedIndex:e.selectedIndex,radiobuttonItem:null,option:e.options?e.options:[],visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:0,tooltip:e.tooltip,signatureType:e.signatureType,signatureBound:h.signatureBound,isMultiline:e.isMultiline,insertSpaces:e.insertSpaces,isTransparent:e.isTransparent,zIndex:e.zIndex,customData:e.customData};r[parseInt(a.toString(),10)].FormField=A,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField=A}else r[parseInt(a.toString(),10)].FormField=d,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField=d;break}this.pdfViewerBase.formFieldCollection.length>0?this.pdfViewerBase.enableFormFieldButton(!0):this.pdfViewerBase.enableFormFieldButton(!1),this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},e.prototype.createSignatureDialog=function(e,i,n,o){this.isInitialField=!(0,t.isNullOrUndefined)(i.isInitialField)&&i.isInitialField,this.pdfViewerBase.isInitialField=this.isInitialField,this.pdfViewerBase.isInitialField=i.isInitialField;var r=(0,t.createElement)("div");r.className="foreign-object",r.style.position="absolute",r.style.width="100%",r.style.height="100%",r.addEventListener("focus",this.focusFormFields.bind(this)),r.addEventListener("blur",this.blurFormFields.bind(this));var a=(0,t.createElement)("div");a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.backgroundColor="transparent",(0,t.isNullOrUndefined)(i.thickness)||(a.className="e-pdfviewer-signatureformfields-signature",a.style.border=i.thickness+"px solid #303030"),(0,t.isNullOrUndefined)(i.value)||""===i.value?(a.className="e-pdfviewer-signatureformfields",a.style.pointerEvents=""):(a.className="e-pdfviewer-signatureformfields-signature",a.style.pointerEvents="none"),a.id=i.id,a.disabled=i.isReadonly,r.appendChild(a);var s,l=this.pdfViewer.signatureFieldSettings,d=this.pdfViewer.initialFieldSettings;l.signatureIndicatorSettings||(l.signatureIndicatorSettings={opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black"}),l.signatureDialogSettings||(l.signatureDialogSettings={displayMode:Ee.Draw|Ee.Text|Ee.Upload,hideSaveSignature:!1}),d.initialIndicatorSettings||(d.initialIndicatorSettings={opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black"}),d.initialDialogSettings||(d.initialDialogSettings={displayMode:Ee.Draw|Ee.Text|Ee.Upload,hideSaveSignature:!1}),s=i.isInitialField?i.signatureIndicatorSettings?i.signatureIndicatorSettings:d.initialIndicatorSettings:i.signatureIndicatorSettings?i.signatureIndicatorSettings:l.signatureIndicatorSettings;var h=19===this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width?i.isInitialField?30:25:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.width,A=s.width?s.width:i.signatureIndicatorSettings&&i.signatureIndicatorSettings.width?i.signatureIndicatorSettings.width:h,p=10===this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height?13:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.height,c=s.height?s.height:i.signatureIndicatorSettings&&i.signatureIndicatorSettings.height?i.signatureIndicatorSettings.height:p,g=s.backgroundColor?"orange"===s.backgroundColor?"#FFE48559":s.backgroundColor:i.signatureIndicatorSettings&&i.signatureIndicatorSettings.backgroundColor?i.signatureIndicatorSettings.backgroundColor:"#FFE48559",u=i.bounds?i.bounds.width:n.width,f=i.bounds?i.bounds.height:n.height,m=c>f/2?f/2:c,w=A>u/2?u/2:A,y=10;y=i.signatureIndicatorSettings&&i.signatureIndicatorSettings.fontSize?i.signatureIndicatorSettings.fontSize>m/2?10:i.signatureIndicatorSettings.fontSize:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize>m/2?10:this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.fontSize;var S=(0,t.createElement)("span");d.initialIndicatorSettings||(d.initialIndicatorSettings={opacity:1,backgroundColor:"orange",width:19,height:10,fontSize:10,text:null,color:"black"}),d.initialDialogSettings||(d.initialDialogSettings={displayMode:Ee.Draw|Ee.Text|Ee.Upload,hideSaveSignature:!1});var C=i.signatureIndicatorSettings?i.signatureIndicatorSettings.text:null;"InitialField"===i.formFieldAnnotationType?(S.id="initialIcon_"+i.pageIndex+"_"+this.setFormFieldIdIndex(),this.setIndicatorText(S,C,this.pdfViewer.initialFieldSettings.initialIndicatorSettings.text,"Initial")):(S.style.height="",S.style.width="",S.id="signIcon_"+i.pageIndex+"_"+this.setFormFieldIdIndex(),this.setIndicatorText(S,C,this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings.text,"Sign")),S.style.overflow="hidden",S.style.whiteSpace="nowrap",S.style.padding="2px 3px 2px 1px",S.style.boxSizing="border-box";var B=this.pdfViewerBase.getZoomFactor();S.style.textAlign="left",S.style.fontSize=y*B+"px";var I=this.getBounds(S);S.style.backgroundColor=g,S.style.color=s.color,S.style.opacity=s.opacity,S.style.height=c,S.style.width=A,S.style.position="absolute";var b=this.setHeightWidth(u,w,I.width+y,B);S.style.width=b+"px";var v=this.setHeightWidth(f,m,I.height,B);if(S.style.height=v+"px",B<1){var E=parseInt(S.style.height,10);S.style.fontSize=E-this.signIndicatorPadding<this.signIndicatorMinimunFontSize?this.signIndicatorMinimunFontSize+"px":E-this.signIndicatorPadding+"px"}return o||r.appendChild(S),this.updateSignInitialFieldProperties(i,i.isInitialField,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),(0,t.isNullOrUndefined)(i.tooltip)||""===i.tooltip||this.setToolTip(i.tooltip,r.firstElementChild),this.updateSignatureFieldProperties(i,r,o),r},e.prototype.setIndicatorText=function(e,t,i,n){e.innerHTML=t||(i||n)},e.prototype.getBounds=function(e){var t=e.cloneNode(!0);t.style.height="",t.style.width="",t.id=t.id+"_clonedElement",document.body.appendChild(t);var i=document.getElementById(t.id).getBoundingClientRect();return document.body.removeChild(t),i},e.prototype.updateSignatureandInitialIndicator=function(e,i,n){if(null!==n){var o=n.getBoundingClientRect(),r=this.pdfViewerBase.getZoomFactor(),a=n.nextElementSibling,s=void 0,l=void 0;if("SignatureField"===e.formFieldAnnotationType&&(s=e.signatureIndicatorSettings,l=i.signatureIndicatorSettings),"InitialField"===e.formFieldAnnotationType&&(s=e.signatureIndicatorSettings?e.signatureIndicatorSettings:this.pdfViewer.initialFieldSettings.initialIndicatorSettings,l=i.initialIndicatorSettings),a.style.width="",a.style.height="",l&&s){void 0!==l.text&&(this.setIndicatorText(a,l.text,l.text,"Sign"),s.text=l.text),l.fontSize&&(a.style.fontSize=l.fontSize>e.height/2?10:l.fontSize*r+"px",s.fontSize=l.fontSize);var d=this.getBounds(a);if(l.color&&(a.style.color=l.color,s.color=this.nameToHash(l.color)),l.backgroundColor&&(a.style.backgroundColor=l.backgroundColor,s.backgroundColor=this.nameToHash(l.backgroundColor)),(0,t.isNullOrUndefined)(l.opacity)||(a.style.opacity=l.opacity,s.opacity=l.opacity),l.width||i.width||l.text){var h=this.setHeightWidth(o.width,l.width,d.width,r);a.style.width=h+"px",s.width=h}if(l.height||i.height||l.text){var A=this.setHeightWidth(o.height,l.height,d.height,r);a.style.height=A+"px",s.height=A}}return this.updateSignatureFieldProperties(e,n,e.isPrint),e.signatureIndicatorSettings&&s&&(e.signatureIndicatorSettings=s),e}},e.prototype.setHeightWidth=function(e,t,i,n){return e/2>t&&i<t?t*n:i<=e/2?i*n:e/2*n},e.prototype.createDropDownList=function(e,i,n){var o=(0,t.createElement)("div");o.className="foreign-object",o.style.position="absolute",o.style.width="100%",o.style.height="100%",o.style.backgroundColor=i.backgroundColor;var r=document.createElement("select");r.addEventListener("change",this.dropdownChange.bind(this)),r.addEventListener("focus",this.focusFormFields.bind(this)),r.addEventListener("blur",this.blurFormFields.bind(this)),r.id=i.id,r.name="editabledropdown"+this.pdfViewerBase.activeElements.activePageID+e.id,r.setAttribute("aria-label","editabledropdown"+this.pdfViewerBase.activeElements.activePageID+e.id),r.className="e-pv-formfield-dropdown",r.style.width="100%",r.style.height="100%",r.style.position="absolute",this.updateDropdownFieldSettingsProperties(i,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode);var a=i.options?i.options:[];this.updateDropdownListProperties(i,r,n);for(var s=0;s<a.length;s++){var l=document.createElement("option");l.className="e-pv-formfield-dropdown",l.value=a[parseInt(s.toString(),10)].itemValue,l.text=a[parseInt(s.toString(),10)].itemName,this.updateDropdownListProperties(i,l),r.appendChild(l)}return(0,t.isNullOrUndefined)(i.selectedIndex)||0===i.selectedIndex.length?r.selectedIndex=-1:r.selectedIndex=(0,t.isNullOrUndefined)(i.selectedIndex)?0:i.selectedIndex,o.appendChild(r),(0,t.isNullOrUndefined)(i.tooltip)||""===i.tooltip||this.setToolTip(i.tooltip,o.firstElementChild),o},e.prototype.createListBox=function(e,i,n){var o=(0,t.createElement)("div");o.className="foreign-object",o.style.position="absolute",o.style.width="100%",o.style.height="100%",o.style.backgroundColor=i.backgroundColor;var r=document.createElement("select");r.addEventListener("click",this.listBoxChange.bind(this)),r.addEventListener("focus",this.focusFormFields.bind(this)),r.addEventListener("blur",this.blurFormFields.bind(this)),r.id=i.id,r.name="editabledropdown"+this.pdfViewerBase.activeElements.activePageID+e.id,r.setAttribute("aria-label","editabledropdown"+this.pdfViewerBase.activeElements.activePageID+e.id),r.className="e-pv-formfield-listbox",r.style.width="100%",r.style.height="100%",r.style.position="absolute",r.multiple=!0,this.updatelistBoxFieldSettingsProperties(i,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode);var a=i.options?i.options:[];this.updateListBoxProperties(i,r,n);for(var s=0;s<a.length;s++){var l=document.createElement("option");if(l.className="e-pv-formfield-listbox",l.value=a[parseInt(s.toString(),10)].itemValue,l.text=a[parseInt(s.toString(),10)].itemName,!(0,t.isNullOrUndefined)(i.selectedIndex))for(var d=0;d<i.selectedIndex.length;d++)s===i.selectedIndex[parseInt(d.toString(),10)]&&(l.selected=!0);r.appendChild(l)}return o.appendChild(r),(0,t.isNullOrUndefined)(i.tooltip)||""===i.tooltip||this.setToolTip(i.tooltip,o.firstElementChild),o},e.prototype.createInputElement=function(e,i,n,o){var r,a,s,l=this.pdfViewerBase.getZoomFactor(),d=(0,t.createElement)("div");d.className="foreign-object",d.style.position="absolute",d.style.width="100%",d.style.height="100%";var h=(0,t.createElement)("input"),A=(0,t.createElement)("textarea");if(h.id=i.id,h.setAttribute("aria-label",this.pdfViewer.element.id+"formfilldesigner"),h.style.position="absolute","Textbox"===e)i.isMultiline?(A=this.createTextAreaElement(h.id),this.updateTextFieldSettingProperties(i,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),this.updateTextboxProperties(i,A,o)):(h=this.createTextboxElement(h.id),this.updateTextFieldSettingProperties(i,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),this.updateTextboxProperties(i,h,o));else if("Checkbox"===e){var p=o?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor();d.style.display="flex",d.style.alignItems="center";var c=this.getCheckboxRadioButtonBounds(i,n,o);if(d.style.display=c.display,(r=(0,t.createElement)("label",{className:"e-pv-checkbox-container"})).style.width=i.bounds?i.bounds.width*p+"px":c.width+"px",r.style.height=i.bounds?i.bounds.height*p+"px":c.height+"px",this.isDrawHelper?r.style.cursor="crosshair":r.style.cursor="pointer",a=(0,t.createElement)("div",{className:"e-pv-checkbox-div"}),t.Browser.isDevice||(a.addEventListener("click",this.setCheckBoxState.bind(this)),a.addEventListener("focus",this.focusFormFields.bind(this)),a.addEventListener("blur",this.blurFormFields.bind(this))),a.id=i.id+"_input",(s=i.isChecked?(0,t.createElement)("span",{className:"e-pv-checkbox-span e-pv-cb-checked"}):(0,t.createElement)("span",{className:"e-pv-checkbox-span e-pv-cb-unchecked"})).id=i.id+"_input_span",r.id=i.id+"_input_label",s.style.width=c.width/5+"px",s.style.height=c.height/2.5+"px",s.style.left=c.width/2.5+"px",s.style.top=c.height/5+"px",-1!==s.className.indexOf("e-pv-cb-checked")){var g=parseInt(r.style.width,10);s.style.borderWidth=g>20?"3px":g<=15?"1px":"2px"}if(o&&(a.style.backgroundColor="rgb(218, 234, 247)",a.style.border="1px solid #303030",a.style.visibility="visible",a.style.height="100%",a.style.width="100%",a.style.position="absolute",-1!==s.className.indexOf("e-pv-cb-checked"))){s.style.border="solid #303030",s.style.position="absolute",s.style.borderLeft="transparent",s.style.borderTop="transparent",s.style.transform="rotate(45deg)";g=parseInt(r.style.width,10);s.style.borderWidth=g>20?"3px":g<=15?"1px":"2px"}h.type="checkbox",h.style.margin="0px",h.style.width=c.width+"px",h.style.height=c.height+"px",o||this.updateCheckBoxFieldSettingsProperties(i,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),this.updateCheckboxProperties(i,a),h.appendChild(r),r.appendChild(a),a.appendChild(s),o&&(h.style.outlineWidth=i.thickness+"px",h.style.outlineColor=i.borderColor,h.style.outlineStyle="solid",h.style.background=i.backgroundColor)}else if("PasswordField"===e)h.type="password",h.className="e-pv-formfield-input",h.style.width="100%",h.style.height="100%",h.style.borderStyle="solid",h.addEventListener("click",this.inputElementClick.bind(this)),h.addEventListener("focus",this.focusFormFields.bind(this)),h.addEventListener("blur",this.blurFormFields.bind(this)),h.addEventListener("change",this.getTextboxValue.bind(this)),this.updatePasswordFieldSettingProperties(i,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),this.updatePasswordFieldProperties(i,h,o);else{d.style.display="flex",d.style.alignItems="center";c=this.getCheckboxRadioButtonBounds(i,n,o);d.style.display=c.display,(r=(0,t.createElement)("label",{className:"e-pv-radiobtn-container"})).style.width=c.width+"px",r.style.height=c.height+"px",r.style.display="table",r.style.verticalAlign="middle",r.style.borderWidth=i.thickness+"px",r.style.boxShadow=i.borderColor+" 0px 0px 0px "+i.thickness+"px",r.style.borderRadius="50%",r.style.visibility=i.visibility,this.isDrawHelper?r.style.cursor="crosshair":r.style.cursor="pointer",r.style.background=i.backgroundColor,(s=(0,t.createElement)("span",{className:"e-pv-radiobtn-span"})).id=i.id+"_input_span",s.style.width=Math.floor(c.width/2)+"px",s.style.height=Math.floor(c.height/2)+"px",l<1&&c.width<=20&&c.height<=20?s.style.margin=Math.round(parseInt(r.style.width,10)/3.5)+"px":s.style.margin=Math.round(parseInt(r.style.width,10)/4)+"px",r.addEventListener("click",this.setRadioButtonState.bind(this)),r.id=i.id+"_input_label",h.type="radio",o||(h.className="e-pv-radio-btn"),h.style.margin="0px",h.addEventListener("click",(function(e){e.stopPropagation()})),h.addEventListener("focus",this.focusFormFields.bind(this)),h.addEventListener("blur",this.blurFormFields.bind(this)),h.style.width=c.width+"px",h.style.height=c.height+"px",this.updateRadioButtonFieldSettingProperties(i,this.pdfViewer.isFormDesignerToolbarVisible,this.isSetFormFieldMode),this.updateRadioButtonProperties(i,h,r),r.appendChild(h),r.appendChild(s),i.isRequired&&(r.style.boxShadow="red 0px 0px 0px "+i.thickness+"px")}return"Checkbox"!==e&&"RadioButton"!==e||o?"Checkbox"===e&&o?d.appendChild(r):i.isMultiline?d.appendChild(A):d.appendChild(h):d.appendChild(r),(0,t.isNullOrUndefined)(i.tooltip)||""===i.tooltip||("RadioButton"===e?this.setToolTip(i.tooltip,r):"Textbox"===e?this.setToolTip(i.tooltip,d.firstElementChild):"Checkbox"===e&&this.setToolTip(i.tooltip,d.firstElementChild.lastElementChild)),this.isDrawHelper=!1,d},e.prototype.listBoxChange=function(e){for(var t=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),i=JSON.parse(t),n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)].Key.split("_")[0]===e.currentTarget.id.split("_")[0]||this.pdfViewer.nameTable[e.currentTarget.id.split("_")[0]].name===i[parseInt(n.toString(),10)].FormField.name){if(i[parseInt(n.toString(),10)].Key.split("_")[0]!==e.currentTarget.id.split("_")[0])for(var o=document.getElementById(i[parseInt(n.toString(),10)].Key.split("_")[0]+"_content_html_element").firstElementChild.firstElementChild,r=0;r<e.currentTarget.options.length;r++)o.options[parseInt(r.toString(),10)].selected=e.currentTarget.options[parseInt(r.toString(),10)].selected;i[parseInt(n.toString(),10)].FormField.selectedIndex=[];for(var a=this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex,s=0;s<e.currentTarget.selectedOptions.length;s++){var l=e.currentTarget.selectedOptions[parseInt(s.toString(),10)].index,d=0;this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex&&0!==this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex.length&&(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex[0]>=0&&(d=this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex.pop()),this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex.push(d));var h=i[parseInt(n.toString(),10)].FormField.option[parseInt(d.toString(),10)].itemValue;i[parseInt(n.toString(),10)].FormField.selectedIndex.push(l),this.pdfViewer.nameTable[i[parseInt(n.toString(),10)].Key.split("_")[0]].selectedIndex=i[parseInt(n.toString(),10)].FormField.selectedIndex,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex=i[parseInt(n.toString(),10)].FormField.selectedIndex;var A=i[parseInt(n.toString(),10)].FormField.option[parseInt(l.toString(),10)].itemValue;this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.value=A,this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField),this.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",i[parseInt(n.toString(),10)].FormField,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,h,A)}this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.pageNumber,null,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField,"FormField Value Change","",a,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldSessions()},e.prototype.dropdownChange=function(e){for(var t=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),i=JSON.parse(t),n=0;n<i.length;n++)if(i[parseInt(n.toString(),10)].Key.split("_")[0]===e.target.id.split("_")[0]||this.pdfViewer.nameTable[e.target.id.split("_")[0]].name===i[parseInt(n.toString(),10)].FormField.name){this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex=[];var o=document.getElementById(e.currentTarget.id).selectedIndex,r=0;0!==i[parseInt(n.toString(),10)].FormField.selectedIndex.length&&(r=i[parseInt(n.toString(),10)].FormField.selectedIndex.pop(),i[parseInt(n.toString(),10)].FormField.selectedIndex.push(r));var a=i[parseInt(n.toString(),10)].FormField.option[parseInt(r.toString(),10)].itemValue;this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex.push(o),i[parseInt(n.toString(),10)].FormField.selectedIndex=this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex,this.pdfViewer.nameTable[i[parseInt(n.toString(),10)].Key.split("_")[0]].selectedIndex=this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.selectedIndex;var s=i[parseInt(n.toString(),10)].FormField.option[parseInt(o.toString(),10)].itemValue;if(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.value=s,i[parseInt(n.toString(),10)].Key.split("_")[0]!==e.target.id.split("_")[0])document.getElementById(i[parseInt(n.toString(),10)].Key.split("_")[0]+"_content_html_element").firstElementChild.firstElementChild.selectedIndex=o;this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField),this.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",i[parseInt(n.toString(),10)].FormField,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s),this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.pageNumber,null,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField,"FormField Value Change","",r,o)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldSessions()},e.prototype.setCheckBoxState=function(e){if(t.Browser.isDevice?(e.target.classList.contains("")||e.target.classList.contains("e-pv-checkbox-outer-div")||e.target.classList.contains("e-pv-checkbox-div"))&&e.currentTarget.classList.contains("e-pv-checkbox-outer-div")&&!this.pdfViewer.designerMode:!this.pdfViewer.designerMode){var i=!1,n=void 0;if(n=t.Browser.isDevice?document.getElementById(e.target.id.split("_")[0]+"_input"):e.target,"undefined_input"!==e.target.id&&!this.pdfViewer.nameTable[e.target.id.split("_")[0]].isReadonly&&!this.pdfViewer.designerMode){n&&n.firstElementChild&&"e-pv-checkbox-span e-pv-cb-checked"===n.firstElementChild.className?(n.firstElementChild.classList.remove("e-pv-cb-checked"),n.firstElementChild.classList.add("e-pv-checkbox-span","e-pv-cb-unchecked"),i=!1):"e-pv-checkbox-span e-pv-cb-checked"===n.className?(n.classList.remove("e-pv-cb-checked"),n.classList.add("e-pv-checkbox-span","e-pv-cb-unchecked"),i=!1):(n.firstElementChild.classList.remove("e-pv-cb-unchecked"),n.firstElementChild.classList.add("e-pv-checkbox-span","e-pv-cb-checked"),i=!0);var o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner");if(i&&-1!==n.firstElementChild.className.indexOf("e-pv-cb-checked")){var r=parseInt(e.target.parentElement.style.width,10);n.firstElementChild.style.borderWidth=r>20?"3px":r<=15?"1px":"2px"}for(var a=JSON.parse(o),s=0;s<a.length;s++)if(a[parseInt(s.toString(),10)].Key.split("_")[0]===e.target.id.split("_")[0]||this.pdfViewer.nameTable[e.target.id.split("_")[0]].name===a[parseInt(s.toString(),10)].FormField.name){this.pdfViewer.nameTable[a[parseInt(s.toString(),10)].Key.split("_")[0]].isChecked=i;var l=this.pdfViewerBase.formFieldCollection[parseInt(s.toString(),10)].FormField.isChecked;if(a[parseInt(s.toString(),10)].FormField.isChecked=i,this.pdfViewerBase.formFieldCollection[parseInt(s.toString(),10)].FormField.isChecked=a[parseInt(s.toString(),10)].FormField.isChecked,a[parseInt(s.toString(),10)].Key.split("_")[0]!==e.target.id.split("_")[0]){var d=document.getElementById(a[parseInt(s.toString(),10)].Key.split("_")[0]+"_input").firstElementChild;i?(d.classList.contains("e-pv-cb-unchecked")&&d.classList.remove("e-pv-cb-unchecked"),d.classList.add("e-pv-cb-checked")):(d.classList.contains("e-pv-cb-checked")&&d.classList.remove("e-pv-cb-checked"),d.classList.add("e-pv-cb-unchecked"))}this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[parseInt(s.toString(),10)].FormField),this.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",a[parseInt(s.toString(),10)].FormField,this.pdfViewerBase.formFieldCollection[parseInt(s.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,l,i),this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[parseInt(s.toString(),10)].FormField.pageNumber,null,this.pdfViewerBase.formFieldCollection[parseInt(s.toString(),10)].FormField,"FormField Value Change","",l,i)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldSessions()}}},e.prototype.setCheckedValue=function(e,t){t?(e.firstElementChild.classList.remove("e-pv-cb-unchecked"),e.firstElementChild.classList.add("e-pv-checkbox-span","e-pv-cb-checked")):(e.firstElementChild.classList.remove("e-pv-cb-checked"),e.firstElementChild.classList.add("e-pv-checkbox-span","e-pv-cb-unchecked"))},e.prototype.setRadioButtonState=function(e){for(var t=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),i=JSON.parse(t),n=0;n<i.length;n++)if(null!=i[parseInt(n.toString(),10)].FormField.radiobuttonItem){for(var o=void 0,r=void 0,a=0;a<i[parseInt(n.toString(),10)].FormField.radiobuttonItem.length;a++){if(i[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].id.split("_")[0]===e.currentTarget.id.split("_")[0])this.pdfViewer.nameTable[e.currentTarget.id.split("_")[0]].isReadonly||(this.pdfViewer.nameTable[e.currentTarget.id.split("_")[0]].isSelected=!0,i[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].isSelected=!0,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].isSelected||(o=this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)]),this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].isSelected=!0,this.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",i[parseInt(n.toString(),10)].FormField,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0));else if(this.pdfViewer.nameTable[e.currentTarget.id.split("_")[0]].name===i[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].name){this.pdfViewer.nameTable[i[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].id.split("_")[0]].isSelected=!1;this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].isSelected;i[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].isSelected=!1,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].isSelected&&(r=this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)]),this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].isSelected=i[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)].isSelected,this.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",i[parseInt(n.toString(),10)].FormField,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1)}this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(a.toString(),10)])}null==o&&null==r||!this.pdfViewer.annotation||this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.pageNumber,null,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField,"FormField Value Change","",o,r)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldSessions()},e.prototype.getTextboxValue=function(e){for(var i=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),n=JSON.parse(i),o=0;o<n.length;o++)if(n[parseInt(o.toString(),10)].Key.split("_")[0]===e.target.id.split("_")[0]||this.pdfViewer.nameTable[e.target.id.split("_")[0]].name===n[parseInt(o.toString(),10)].FormField.name){var r=this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.value;if(n[parseInt(o.toString(),10)].FormField.value=e.target.value,this.pdfViewer.enableHtmlSanitizer&&(n[parseInt(o.toString(),10)].FormField.value=t.SanitizeHtmlHelper.sanitize(n[parseInt(o.toString(),10)].FormField.value)),this.pdfViewer.nameTable[n[parseInt(o.toString(),10)].Key.split("_")[0]].value=n[parseInt(o.toString(),10)].FormField.value,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.value=n[parseInt(o.toString(),10)].FormField.value,n[parseInt(o.toString(),10)].Key.split("_")[0]!==e.target.id.split("_")[0]){var a=document.getElementById(n[parseInt(o.toString(),10)].Key.split("_")[0]+"_content_html_element");if(a&&a.firstElementChild&&a.firstElementChild.firstElementChild)a.firstElementChild.firstElementChild.value=n[parseInt(o.toString(),10)].FormField.value}this.updateFormFieldCollections(this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField),this.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.pageNumber,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,r,e.target.value),this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.pageNumber,null,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField,"FormField Value Change","",r,e.target.value)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldSessions()},e.prototype.inputElementClick=function(e){e.target.focus()},e.prototype.updateFormFieldSessions=function(){var e=this.pdfViewerBase.getItemFromSessionStorage("_formfields"),t=JSON.parse(e);t&&this.pdfViewer.formFieldCollection.length===t.length&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formfields")},e.prototype.focusFormFields=function(e){var t=e.target;if(t||"e-pv-checkbox-outer-div"===t.className){var i="transparent"===t.style.borderColor?"#000000":t.style.borderColor;t.style.boxShadow="0 0 5px "+i}if(t&&("e-pv-radiobtn-container"===t.className||"e-pv-radio-btn"===t.className||"e-pv-radiobtn-span"===t.className)&&"transparent"===t.style.borderColor){i="transparent"===t.style.borderColor?"#000000":t.style.borderColor;t.parentElement.style.boxShadow="0px 0px 5px "+i}!t||"e-pv-radiobtn-container"!==t.className&&"e-pv-radio-btn"!==t.className&&"e-pv-radiobtn-span"!==t.className||(t.parentElement.style.boxShadow=t.style.borderColor+"0px 0px 5px "+t.style.borderWidth)},e.prototype.blurFormFields=function(e){var t=e.target;if(t.style.boxShadow="","radio"===t.type&&"transparent"===t.style.borderColor){var i="transparent"===t.style.borderColor?"#000000":t.style.borderColor;t.parentElement.style.boxShadow="0px 0px 0px "+i}"radio"===t.type&&(t.parentElement.style.boxShadow=t.style.borderColor+"0px 0px 0px "+t.style.borderWidth)},e.prototype.setTextBoxFontStyle=function(e){return{isBold:(e&Be.Bold)===Be.Bold,isItalic:(e&Be.Italic)===Be.Italic,isStrikeout:(e&Be.Strikethrough)===Be.Strikethrough,isUnderline:(e&Be.Underline)===Be.Underline}},e.prototype.addFormField=function(e,t,i,n){return this.addField(e,t,i,n,!0)},e.prototype.addField=function(e,i,n,o,r){var a={thickness:1,bounds:{x:i.bounds.X,y:i.bounds.Y,width:i.bounds.Width,height:i.bounds.Height},fontFamily:(0,t.isNullOrUndefined)(i.fontFamily)?"Helvetica":i.fontFamily,fontSize:(0,t.isNullOrUndefined)(i.fontSize)?10:i.fontSize,color:(0,t.isNullOrUndefined)(i.color)?"black":i.color,backgroundColor:(0,t.isNullOrUndefined)(i.backgroundColor)?"#daeaf7ff":i.backgroundColor,alignment:(0,t.isNullOrUndefined)(i.alignment)?"left":i.alignment,isReadonly:!!i.isReadOnly&&i.isReadOnly,rotateAngle:i.rotateAngle?i.rotateAngle:i.rotationAngle,isTransparent:i.isTransparent,insertSpaces:i.insertSpaces,isChecked:i.isChecked,isMultiline:i.isMultiline,isSelected:i.isSelected,options:i.options,selectedIndex:i.selectedIndex,signatureIndicatorSettings:i.signatureIndicatorSettings,signatureType:i.signatureType,zIndex:i.zIndex};switch(a.customData=(0,t.isNullOrUndefined)(i.customData)?"":i.customData,a.fontStyle=(0,t.isNullOrUndefined)(i.fontStyle)?"None":i.fontStyle,a.visibility=(0,t.isNullOrUndefined)(i.visibility)?"visible":i.visibility,a.value=(0,t.isNullOrUndefined)(i.value)?"":i.value,a.isRequired=!!i.isRequired&&i.isRequired,a.isPrint=!i.isPrint||i.isPrint,a.pageNumber=(0,t.isNullOrUndefined)(i.pageNumber)?this.pdfViewerBase.currentPageNumber:i.pageNumber,a.pageIndex=a.pageNumber-1,a.font=i.font,a.id=o,(n||(0,t.isNullOrUndefined)(n))&&this.setFormFieldIndex(),e){case"Textbox":a.formFieldAnnotationType=e,a.isMultiline=i.isMultiline,a.name=(0,t.isNullOrUndefined)(i.name)?"Textbox"+this.formFieldIndex:i.name,a.insertSpaces=i.insertSpaces,a.maxLength=i.maxLength,a.thickness=(0,t.isNullOrUndefined)(i.thickness)?1:i.thickness,a.borderColor=(0,t.isNullOrUndefined)(i.borderColor)?"#303030":i.borderColor,i.font?a.font=i.font:this.pdfViewer.textFieldSettings.fontStyle&&(a.font=this.setTextBoxFontStyle(this.pdfViewer.textFieldSettings.fontStyle));break;case"Password":a.formFieldAnnotationType="PasswordField",a.name=(0,t.isNullOrUndefined)(i.name)?"Password"+this.formFieldIndex:i.name,a.maxLength=i.maxLength,a.thickness=(0,t.isNullOrUndefined)(i.thickness)?1:i.thickness,a.borderColor=(0,t.isNullOrUndefined)(i.borderColor)?"#303030":i.borderColor;break;case"DropDown":a.formFieldAnnotationType="DropdownList",a.name=(0,t.isNullOrUndefined)(i.name)?"Dropdown"+this.formFieldIndex:i.name,a.options=i.options?i.options:[];for(var s=0;s<this.pdfViewer.formFieldCollection.length;s++){if("DropdownList"===(l=this.pdfViewer.formFieldCollection[parseInt(s.toString(),10)]).formFieldAnnotationType&&l.name===a.name){a.options=l.options;break}}a.selectedIndex=(0,t.isNullOrUndefined)(i.selectedIndex)?[0]:i.selectedIndex,a.thickness=(0,t.isNullOrUndefined)(i.thickness)?1:i.thickness,a.borderColor=(0,t.isNullOrUndefined)(i.borderColor)?"#303030":i.borderColor,i.font?a.font=i.font:this.pdfViewer.DropdownFieldSettings.fontStyle&&(a.font=this.setTextBoxFontStyle(this.pdfViewer.DropdownFieldSettings.fontStyle));break;case"ListBox":a.formFieldAnnotationType=e,a.name=(0,t.isNullOrUndefined)(i.name)?"List Box"+this.formFieldIndex:i.name,a.options=i.options?i.options:[];for(s=0;s<this.pdfViewer.formFieldCollection.length;s++){var l;if((l=this.pdfViewer.formFieldCollection[parseInt(s.toString(),10)]).formFieldAnnotationType===e&&l.name===a.name){a.options=l.options;break}}a.selectedIndex=i.selectedIndex,a.thickness=(0,t.isNullOrUndefined)(i.thickness)?1:i.thickness,a.borderColor=(0,t.isNullOrUndefined)(i.borderColor)?"#303030":i.borderColor,i.font?a.font=i.font:this.pdfViewer.listBoxFieldSettings.fontStyle&&(a.font=this.setTextBoxFontStyle(this.pdfViewer.listBoxFieldSettings.fontStyle));break;case"CheckBox":a.formFieldAnnotationType="Checkbox",a.bounds={x:i.bounds.X,y:i.bounds.Y,width:i.bounds.Width,height:i.bounds.Height},a.backgroundColor=(0,t.isNullOrUndefined)(i.backgroundColor)?"#daeaf7ff":i.backgroundColor,a.isReadonly=!!i.isReadOnly&&i.isReadOnly,a.name=(0,t.isNullOrUndefined)(i.name)?"Check Box"+this.formFieldIndex:i.name,a.isChecked=!!i.isChecked&&i.isChecked,a.visibility=i.visibility?i.visibility:"visible",a.isRequired=!!i.isRequired&&i.isRequired,a.thickness=(0,t.isNullOrUndefined)(i.thickness)?1:i.thickness,a.borderColor=(0,t.isNullOrUndefined)(i.borderColor)?"#303030":i.borderColor;break;case"RadioButton":a.formFieldAnnotationType=e,a.bounds={x:i.bounds.X,y:i.bounds.Y,width:i.bounds.Width,height:i.bounds.Height},a.backgroundColor=(0,t.isNullOrUndefined)(i.backgroundColor)?"#daeaf7ff":i.backgroundColor,a.isReadonly=!!i.isReadOnly&&i.isReadOnly,a.name=(0,t.isNullOrUndefined)(i.name)?"Radio Button"+this.formFieldIndex:i.name,a.isSelected=!!i.isSelected&&i.isSelected,a.visibility=i.visibility?i.visibility:"visible",a.isRequired=!!i.isRequired&&i.isRequired,a.thickness=(0,t.isNullOrUndefined)(i.thickness)?1:i.thickness,a.borderColor=(0,t.isNullOrUndefined)(i.borderColor)?"#303030":i.borderColor;break;case"SignatureField":a.formFieldAnnotationType=e,a.bounds={x:i.bounds.X,y:i.bounds.Y,width:i.bounds.Width,height:i.bounds.Height},a.isReadonly=this.pdfViewer.signatureFieldSettings.isReadOnly?this.pdfViewer.signatureFieldSettings.isReadOnly:!!i.isReadOnly&&i.isReadOnly,a.backgroundColor=(0,t.isNullOrUndefined)(i.backgroundColor)?a.isReadonly?"trasnparent":"#daeaf7ff":nd.setTransparencyToHex(this.colorNametoHashValue(i.backgroundColor)),a.borderColor=(0,t.isNullOrUndefined)(i.borderColor)?"#303030":i.borderColor,a.fontSize=(0,t.isNullOrUndefined)(i.fontSize)?10:i.fontSize,a.fontStyle=(0,t.isNullOrUndefined)(i.fontStyle)?"None":i.fontStyle,a.name=(0,t.isNullOrUndefined)(i.name)?"Signature"+this.formFieldIndex:i.name,a.isRequired=!!i.isRequired&&i.isRequired,a.thickness=(0,t.isNullOrUndefined)(i.thickness)?1:i.thickness;var d=i.signatureIndicatorSettings?i.signatureIndicatorSettings:i.initialIndicatorSettings;a.signatureIndicatorSettings=d?{opacity:d.opacity?d.opacity:1,backgroundColor:d.backgroundColor?d.backgroundColor:"orange",width:d.width?d.width:19,height:d.height?d.height:10,fontSize:d.fontSize?d.fontSize:10,text:d.text?d.text:null,color:d.color?d.color:"black"}:null;break;case"InitialField":a.formFieldAnnotationType=e,a.bounds={x:i.bounds.X,y:i.bounds.Y,width:i.bounds.Width,height:i.bounds.Height},a.isReadonly=this.pdfViewer.initialFieldSettings.isReadOnly?this.pdfViewer.initialFieldSettings.isReadOnly:!!i.isReadOnly&&i.isReadOnly,a.backgroundColor=(0,t.isNullOrUndefined)(i.backgroundColor)?a.isReadonly?"trasnparent":"#daeaf7ff":nd.setTransparencyToHex(this.colorNametoHashValue(i.backgroundColor)),a.borderColor=(0,t.isNullOrUndefined)(i.borderColor)?"#303030":i.borderColor,a.fontSize=(0,t.isNullOrUndefined)(i.fontSize)?10:i.fontSize,a.thickness=(0,t.isNullOrUndefined)(i.thickness)?1:i.thickness,a.fontStyle=(0,t.isNullOrUndefined)(i.fontStyle)?"None":i.fontStyle,a.name=(0,t.isNullOrUndefined)(i.name)?"Initial"+this.formFieldIndex:i.name,a.isRequired=!!i.isRequired&&i.isRequired,a.isInitialField=!0;var h=i.initialIndicatorSettings?i.initialIndicatorSettings:i.signatureIndicatorSettings;a.signatureIndicatorSettings=h?{opacity:h.opacity?h.opacity:1,backgroundColor:h.backgroundColor?h.backgroundColor:"orange",width:h.width?h.width:19,height:h.height?h.height:10,fontSize:h.fontSize?h.fontSize:10,text:h.text?h.text:null,color:h.color?h.color:"black"}:null}a.tooltip=(0,t.isNullOrUndefined)(i.tooltip)?"":i.tooltip,this.setFormFieldIndex();var A=null;return n?this.addFieldCollection(a):A=this.drawFormField(a,r),A},e.prototype.addFieldCollection=function(e){var t={id:(0,i.randomId)(),name:e.name,value:e.value,type:e.formFieldAnnotationType,isReadOnly:e.isReadonly,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,color:e.color,backgroundColor:e.backgroundColor,isMultiline:e.isMultiline,alignment:e.alignment,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,isSelected:e.isSelected,insertSpaces:e.insertSpaces,isChecked:e.isChecked,tooltip:e.tooltip,bounds:e.bounds,thickness:e.thickness,pageIndex:e.pageIndex,borderColor:e.borderColor,signatureIndicatorSettings:e.signatureIndicatorSettings,rotateAngle:e.rotateAngle,isTransparent:e.isTransparent,options:e.options,selectedIndex:e.selectedIndex,signatureType:e.signatureType,zIndex:e.zIndex,pageNumber:e.pageNumber,customData:e.customData};this.pdfViewer.formFieldCollections.push(t)},e.prototype.drawFormField=function(e,t){var i,n=this.pdfViewer.add(e),o=this.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===n.id}));o>-1&&(i=this.pdfViewer.formFieldCollections[parseInt(o.toString(),10)],this.isFormFieldUpdated&&this.updateNodeBasedOnCollections(n,i));var r=this.pdfViewer.formFieldCollection.findIndex((function(e){return e.id===n.id}));r<0?this.pdfViewer.formFieldCollection.push(n):r>-1&&(this.pdfViewer.formFieldCollection[parseInt(r.toString(),10)]=n);var a={id:n.id,name:n.name,value:n.value,type:n.formFieldAnnotationType,isReadOnly:n.isReadonly,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,color:n.color,backgroundColor:n.backgroundColor,isMultiline:n.isMultiline,alignment:n.alignment,visibility:n.visibility,maxLength:n.maxLength,isRequired:n.isRequired,isPrint:n.isPrint,isSelected:n.isSelected,isChecked:n.isChecked,tooltip:n.tooltip,bounds:n.bounds,pageIndex:n.pageIndex,thickness:n.thickness,borderColor:n.borderColor,signatureIndicatorSettings:n.signatureIndicatorSettings,insertSpaces:n.insertSpaces,rotateAngle:n.rotateAngle,isTransparent:n.isTransparent,options:n.options,selectedIndex:n.selectedIndex,signatureType:n.signatureType,zIndex:n.zIndex,pageNumber:n.pageNumber,customData:n.customData};return o>-1?this.pdfViewer.formFieldCollections[parseInt(o.toString(),10)]=a:this.pdfViewer.formFieldCollections.push(a),this.drawHTMLContent(n.formFieldAnnotationType,n.wrapper.children[0],n,e.pageNumber-1,this.pdfViewer,null,t)},e.prototype.updateNodeBasedOnCollections=function(e,t){e.name=t.name,e.value=t.value,e.isReadonly=t.isReadOnly,e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle.toString(),e.color=t.color,e.backgroundColor=t.backgroundColor,e.alignment=t.alignment,e.visibility=t.visibility,e.maxLength=t.maxLength,e.isRequired=t.isRequired,e.isPrint=t.isPrint,e.isSelected=t.isSelected,e.isChecked=t.isChecked,e.tooltip=t.tooltip,e.thickness=t.thickness,e.borderColor=t.borderColor,e.customData=t.customData},e.prototype.setFormFieldMode=function(e,i){this.pdfViewer.selectedItems&&!(0,t.isNullOrUndefined)(this.pdfViewer.selectedItems.annotations)&&this.pdfViewer.selectedItems.annotations.length>0&&this.pdfViewerBase.activeElements&&!(0,t.isNullOrUndefined)(this.pdfViewerBase.activeElements.activePageID)&&this.pdfViewer.clearSelection(this.pdfViewerBase.activeElements.activePageID);var n=document.getElementById("FormField_helper_html_element");switch(this.pdfViewer.isFormDesignerToolbarVisible&&n&&n.remove(),this.isAddFormFieldUi=!0,e){case"Textbox":this.activateTextboxElement(e),this.isSetFormFieldMode=!0;break;case"Password":this.activatePasswordField("PasswordField"),this.isSetFormFieldMode=!0;break;case"CheckBox":this.activateCheckboxElement("Checkbox"),this.isSetFormFieldMode=!0;break;case"RadioButton":this.activateRadioButtonElement(e),this.isSetFormFieldMode=!0;break;case"DropDown":this.activateDropDownListElement("DropdownList",i),this.isSetFormFieldMode=!0;break;case"ListBox":this.activateListboxElement(e,i),this.isSetFormFieldMode=!0;break;case"SignatureField":case"InitialField":this.activateSignatureBoxElement(e),this.isSetFormFieldMode=!0}},e.prototype.resetFormField=function(e){var t=this.getFormField(e);if(t){switch(t.formFieldAnnotationType){case"Textbox":this.resetTextboxProperties(t);break;case"PasswordField":this.resetPasswordProperties(t);break;case"Checkbox":this.resetCheckboxProperties(t);break;case"RadioButton":this.resetRadioButtonProperties(t);break;case"DropdownList":this.resetDropdownListProperties(t);break;case"ListBox":this.resetListBoxProperties(t);break;case"SignatureField":case"InitialField":this.resetSignatureTextboxProperties(t)}this.updateSessionFormFieldProperties(t)}},e.prototype.selectFormField=function(e){var t=this.getFormField(e);t&&(this.isProgrammaticSelection=!0,this.pdfViewer.select([t.id]),this.isProgrammaticSelection=!1)},e.prototype.updateFormField=function(e,i){var n=this.getFormField(e);this.isFormFieldUpdated=!0;var o=this.pdfViewer.selectedItems.formFields[0];if(n){if(!n.isReadonly||!(0,t.isNullOrUndefined)(i.isReadOnly)&&!i.isReadOnly)switch(n.formFieldAnnotationType){case"Textbox":case"PasswordField":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":var r=document.getElementById(n.id+"_content_html_element");r?(r=r.firstElementChild.firstElementChild,this.isAddFormFieldProgrammatically=!0,this.formFieldPropertyChange(n,i,r,o)):(this.updateFormFieldsInCollections(e,i),this.rerenderFormFields(e.pageIndex));break;case"RadioButton":var a=document.getElementById(n.id+"_content_html_element");a?(a=a.firstElementChild.firstElementChild.firstElementChild,this.formFieldPropertyChange(n,i,a)):this.updateFormFieldsInCollections(e,i);break;case"Checkbox":var s=document.getElementById(n.id+"_content_html_element");s?(s=s.firstElementChild.firstElementChild.lastElementChild,this.formFieldPropertyChange(n,i,s)):this.updateFormFieldsInCollections(e,i)}}else this.updateFormFieldsInCollections(e,i)},e.prototype.updateFormFieldsInCollections=function(e,t){for(var i=this.pdfViewer.formFieldCollections,n=function(n){var r=i[parseInt(n.toString(),10)],a="object"==typeof e?e.id:e;if(r.id===a){o.updateFormFieldData(r,t);var s=o.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===a}));o.pdfViewer.formFieldCollections[parseInt(s.toString(),10)]=r}},o=this,r=0;r<i.length;r++)n(r)},e.prototype.updateFormFieldData=function(e,i){if(i.name&&e.name!==i.name&&(e.name=i.name),("SignatureField"!==e.type||"InitialField"!==e.type)&&(i.thickness&&e.thickness!==i.thickness&&(e.thickness=i.thickness),i.borderColor)){var n=this.colorNametoHashValue(i.borderColor);e.borderColor!==n&&(e.borderColor=n)}if(i.backgroundColor){var o=this.colorNametoHashValue(i.backgroundColor);if(e.backgroundColor!==o){e.backgroundColor=o;var r=e.id;(0,t.isNullOrUndefined)(this.pdfViewer.nameTable[""+r])||(this.pdfViewer.nameTable[""+r].backgroundColor=o)}}if((0,t.isNullOrUndefined)(i.isReadOnly)||e.isReadonly===i.isReadOnly||(e.isReadOnly=i.isReadOnly),(0,t.isNullOrUndefined)(i.isRequired)||e.isRequired===i.isRequired||(e.isRequired=i.isRequired),(0,t.isNullOrUndefined)(i.isPrint)||e.isPrint===i.isPrint||(e.isPrint=i.isPrint),i.visibility&&e.visibility!==i.visibility&&(e.visibility=i.visibility),i.tooltip&&e.tooltip!==i.tooltip&&(e.tooltip=i.tooltip),"Checkbox"!==e.type||(0,t.isNullOrUndefined)(i.isChecked)||e.isChecked!==i.isChecked||(e.isChecked=i.isChecked),"RadioButton"!==e.type||(0,t.isNullOrUndefined)(i.isSelected)||e.isSelected!==i.isSelected||(e.isSelected=i.isSelected),"DropdownList"!==e.type&&"ListBox"!==e.type||!i.options||(e.options=i.options),"Textbox"===e.type||"SignatureField"===e.type||"InitialField"===e.type||"DropdownList"===e.type||"ListBox"===e.type||"PasswordField"===e.type){if(i.value&&e.value!==i.value&&(e.value=i.value),i.fontSize&&e.fontSize!==i.fontSize&&(e.fontSize=i.fontSize),i.color){var a=this.colorNametoHashValue(i.color);e.color!==a&&(e.color=a)}"SignatureField"!==e.type&&(i.alignment&&e.alignment!==i.alignment&&(e.alignment=i.alignment),i.maxLength&&e.maxLength!==i.maxLength&&(e.maxLength=i.maxLength)),"PasswordField"!==e.type&&(i.fontFamily&&e.fontFamily!==i.fontFamily&&(e.fontFamily=i.fontFamily),i.fontStyle&&e.fontStyle!==i.fontStyle&&(e.fontStyle=i.fontStyle))}},e.prototype.formFieldPropertyChange=function(e,n,o,r){var a,s,l=!1,d=!1,h=!1,A=!1,p=!1,c=!1,g=!1,u=!1,f=!1,m=!1,w=!1,y=!1,S=!1,C=!1,B=!1,I=!1,b=!1,v=this.pdfViewerBase.getZoomFactor();if(n.name){e.name!==n.name&&(b=!0),e.name=n.name;var E=document.getElementById(e.id+"_designer_name");E.innerHTML=e.name,E.style.fontSize=e.fontSize?e.fontSize*v+"px":10*v+"px",o.name=n.name,this.pdfViewer.nameTable[e.id.split("_")[0]].name=e.name,b&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s,b)}if(e.formFieldAnnotationType&&((0,t.isNullOrUndefined)(n.thickness)||(e.thickness!==n.thickness&&(u=!0,a=e.thickness,s=n.thickness),o.style.borderWidth=n.thickness.toString()+"px",e.thickness=n.thickness,this.pdfViewer.nameTable[e.id.split("_")[0]].thickness=n.thickness,u&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,u,!1,!1,!1,!1,!1,!1,!1,!1,a,s)),n.borderColor)){var x=this.colorNametoHashValue(n.borderColor);e.borderColor!==x&&(g=!0,a=e.borderColor,s=x),e.borderColor=x,o.style.borderColor=x,"RadioButton"===e.formFieldAnnotationType&&(o.parentElement.style.boxShadow=x+" 0px 0px 0px "+e.thickness+"px",this.setToolTip(n.tooltip,o.parentElement)),this.pdfViewer.nameTable[e.id.split("_")[0]].borderColor=x,g&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,g,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)}if(n.backgroundColor){var _=this.colorNametoHashValue(n.backgroundColor);_="SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType?nd.setTransparencyToHex(_):nd.removeAlphaValueFromHex(_),e.backgroundColor!==_&&(c=!0,a=e.backgroundColor,s=_),e.backgroundColor=_,"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType?o.parentElement.style.background=_:o.style.background=_,"RadioButton"===e.formFieldAnnotationType&&(o.parentElement.style.background=e.backgroundColor),this.pdfViewer.nameTable[e.id.split("_")[0]].backgroundColor=_,c&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,c,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)}if(n.bounds){e.bounds={x:n.bounds.X,y:n.bounds.Y,width:n.bounds.Width,height:n.bounds.Height};var D=this.pdfViewer.nameTable[e.id.split("_")[0]];D.bounds={x:n.bounds.X,y:n.bounds.Y,width:n.bounds.Width,height:n.bounds.Height},D.wrapper.bounds=new i.Rect(n.bounds.X,n.bounds.Y,n.bounds.Width,n.bounds.Height),this.pdfViewer.drawing.nodePropertyChange(D,{bounds:{x:D.wrapper.bounds.x,y:D.wrapper.bounds.y,width:D.wrapper.bounds.width,height:D.wrapper.bounds.height}});var M=D.wrapper.children[0],V=(0,i.cornersPointsBeforeRotation)(D.wrapper.children[0]).topLeft,Q=document.getElementById(M.id+"_html_element");(0,t.isNullOrUndefined)(Q)||Q.setAttribute("style","height:"+M.actualSize.height*v+"px; width:"+M.actualSize.width*v+"px;left:"+V.x*v+"px; top:"+V.y*v+"px;position:absolute;transform:rotate("+(M.rotateAngle+M.parentTransform)+"deg);pointer-events:"+(this.pdfViewer.designerMode?"none":"all")+";visibility:"+(M.visible?"visible":"hidden")+";opacity:"+M.style.opacity+";"),this.isFormFieldSizeUpdated=!0,this.pdfViewer.select([e.id]),"RadioButton"!==D.formFieldAnnotationType&&"Checkbox"!==D.formFieldAnnotationType||this.updateHTMLElement(e)}if((0,t.isNullOrUndefined)(n.isRequired)||(e.isRequired!==n.isRequired&&(S=!0,a=e.isRequired,s=n.isRequired),e.isRequired=n.isRequired,this.setRequiredToElement(e,o,n.isRequired),this.setRequiredToFormField(e,n.isRequired),this.pdfViewer.nameTable[e.id.split("_")[0]].isRequired=n.isRequired,S&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,S,!1,!1,!1,a,s)),n.visibility){if(e.visibility!==n.visibility&&(w=!0,a=e.visibility,s=n.visibility),e.visibility=n.visibility,o.style.visibility=n.visibility,"RadioButton"===e.formFieldAnnotationType&&(o.parentElement.style.visibility=e.visibility),"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType){o.parentElement.style.visibility=e.visibility;var F=this.pdfViewer.nameTable[e.id.split("_")[0]+"_content"],T=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),k=JSON.parse(T),P=this.getFormFiledIndex(e.id.split("_")[0]);"hidden"===e.visibility?F&&this.hideSignatureValue(e,F,P,k):F&&this.showSignatureValue(e,a,F,P,k)}this.pdfViewer.nameTable[e.id.split("_")[0]].visibility=n.visibility,w&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,w,!1,!1,!1,!1,!1,a,s)}if((0,t.isNullOrUndefined)(n.isPrint)||(e.isPrint!==n.isPrint&&(C=!0,a=e.isPrint,s=n.isPrint),e.isPrint=n.isPrint,this.pdfViewer.nameTable[e.id.split("_")[0]].isPrint=n.isPrint,C&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,C,!1,!1,a,s)),(0,t.isNullOrUndefined)(n.tooltip)||(e.tooltip!==n.tooltip&&(B=!0,a=e.tooltip,s=n.tooltip),e.tooltip=n.tooltip,(0,t.isNullOrUndefined)(n.tooltip)||("RadioButton"===e.formFieldAnnotationType?this.setToolTip(n.tooltip,o.parentElement):this.setToolTip(n.tooltip,o)),this.pdfViewer.nameTable[e.id.split("_")[0]].tooltip=n.tooltip,B&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,B,!1,a,s)),(0,t.isNullOrUndefined)(n.customData)||(e.customData!==n.customData&&(I=!0,a=e.customData,s=n.customData),e.customData=n.customData,this.pdfViewer.nameTable[e.id.split("_")[0]].customData=n.customData,I&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,I,a,s)),"Checkbox"!==e.formFieldAnnotationType||(0,t.isNullOrUndefined)(n.isChecked)&&!n.isChecked&&!n.value||((0,t.isNullOrUndefined)(n.isChecked)||e.isChecked===this.checkboxCheckedState||(l=!0,a=e.isChecked,s=n.isChecked),e.isChecked=n.isChecked,o.checked=n.isChecked,this.setCheckedValue(o,n.isChecked),this.pdfViewer.nameTable[e.id.split("_")[0]].isChecked=n.isChecked,(n.value||n.isChecked)&&(e.value!==n.value&&(l=!0,a=e.value,s=n.value),e.value=n.value,this.pdfViewer.nameTable[e.id.split("_")[0]].value=n.value,l&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,l,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s))),"RadioButton"!==e.formFieldAnnotationType||(0,t.isNullOrUndefined)(n.isSelected)&&!n.isSelected&&!n.value||((0,t.isNullOrUndefined)(n.isSelected)||e.isSelected===n.isSelected||(l=!0,a=e.isSelected,s=this.checkboxCheckedState),e.isSelected=n.isSelected,o.checked=n.isSelected,this.pdfViewer.nameTable[e.id.split("_")[0]].isSelected=n.isSelected,(n.value||n.isSelected)&&(e.value!==n.value&&(l=!0,a=e.value,s=n.value),e.value=n.value,this.pdfViewer.nameTable[e.id.split("_")[0]].value=n.value,l&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,l,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s))),"DropdownList"!==e.formFieldAnnotationType&&"ListBox"!==e.formFieldAnnotationType||n.options&&(e.options=n.options,e.selectedIndex=[],e.selectedIndex.push(0),this.updateDropDownListDataSource(e,o),this.pdfViewer.nameTable[e.id.split("_")[0]].options=e.options),"Textbox"===e.formFieldAnnotationType||"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType||"DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType||"PasswordField"===e.formFieldAnnotationType){if(n.value||n.isMultiline){if((0,t.isNullOrUndefined)(n.value)||e.value===n.value||(l=!0,a=e.value,s=n.value),e.value=n.value?n.value:e.value,"Textbox"===e.formFieldAnnotationType&&n.isMultiline&&(this.addMultilineTextbox(e,"e-pv-formfield-input",!0),this.multilineCheckboxCheckedState=!0,document.getElementById(e.id+"_content_html_element")?this.updateTextboxFormDesignerProperties(e):this.updateFormFieldPropertiesInCollections(e)),(0,t.isNullOrUndefined)(n.isMultiline)||e.isMultiline===n.isMultiline||(l=!0,e.isMultiline=n.isMultiline),"DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType||(0,t.isNullOrUndefined)(n.value)){if("DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType){e.selectedIndex=[];for(var N=0;N<o.options.length;N++)o.options[parseInt(N.toString(),10)].text===n.value&&(o.options.selectedIndex=N,e.selectedIndex.push(N));(0,t.isNullOrUndefined)(n.selectedIndex)||e.selectedIndex===n.selectedIndex||(e.selectedIndex=n.selectedIndex,o.options.selectedIndex=n.selectedIndex)}}else o.value=n.value;this.pdfViewer.nameTable[e.id.split("_")[0]].value=n.value?n.value:e.value,l&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,l,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)}else(0,t.isNullOrUndefined)(n)||(0,t.isNullOrUndefined)(n.isMultiline)||n.isMultiline||(this.renderTextbox(r),this.multilineCheckboxCheckedState=!0,document.getElementById(r.id+"_content_html_element")?this.updateTextboxFormDesignerProperties(r):this.updateFormFieldPropertiesInCollections(r));if(n.fontSize&&(e.fontSize!==n.fontSize&&(h=!0,a=e.fontSize,s=n.fontSize),e.fontSize=n.fontSize,o.style.fontSize=n.fontSize*v+"px",this.pdfViewer.nameTable[e.id.split("_")[0]].fontSize=n.fontSize,h&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,h,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)),n.color){var R=this.colorNametoHashValue(n.color);e.color!==R&&(p=!0,a=e.color,s=R),e.color=R,o.style.color=R,this.pdfViewer.nameTable[e.id.split("_")[0]].color=R,p&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,p,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)}if("SignatureField"!==e.formFieldAnnotationType&&(n.alignment&&(e.alignment!==n.alignment&&(f=!0,a=e.alignment,s=n.alignment),e.alignment=n.alignment,o.style.textAlign=n.alignment,this.pdfViewer.nameTable[e.id.split("_")[0]].alignment=n.alignment,f&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,f,!1,!1,!1,!1,!1,!1,!1,a,s)),n.maxLength&&(e.maxLength!==n.maxLength&&(y=!0,a=e.maxLength,s=n.maxLength),e.maxLength=n.maxLength,o.maxLength=n.maxLength,this.pdfViewer.nameTable[e.id.split("_")[0]].maxLength=n.maxLength,y&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,y,!1,!1,!1,!1,a,s))),"PasswordField"!==e.formFieldAnnotationType){n.fontFamily&&(e.fontFamily!==n.fontFamily&&(d=!0,a=e.fontFamily,s=n.fontFamily),e.fontFamily=n.fontFamily,o.style.fontFamily=n.fontFamily,this.pdfViewer.nameTable[e.id.split("_")[0]].fontFamily=n.fontFamily,d&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,d,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s));var L="",O="";(0,t.isNullOrUndefined)(n.fontStyle)||(L+=e.font.isBold?"Bold, ":"",L+=e.font.isItalic?"Italic, ":"",L+=e.font.isStrikeout?"Strikethrough, ":"",L+=e.font.isUnderline?"Underline, ":"",(0,t.isNullOrUndefined)(n.fontStyle)||n.fontStyle!==Be.None?(n.fontStyle&Be.Bold&&(o.style.fontWeight="bold",e.fontStyle="Bold",e.font.isBold=!0,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isBold=!0,this.setDropdownFontStyleValue(o,"bold","bold")),O+=e.font.isBold?"Bold, ":"",n.fontStyle&Be.Italic&&(o.style.fontStyle="italic",e.fontStyle="Italic",e.font.isItalic=!0,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isItalic=!0),O+=e.font.isItalic?"Italic, ":"",n.fontStyle&Be.Strikethrough&&(o.style.textDecoration="line-through",e.font.isStrikeout=!0,e.fontStyle="Strikethrough",this.pdfViewer.nameTable[e.id.split("_")[0]].font.isStrikeout=!0),O+=e.font.isStrikeout?"Strikethrough, ":"",n.fontStyle&Be.Underline&&(o.style.textDecoration="underline",e.fontStyle="Underline",e.font.isUnderline=!0,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isUnderline=!0),O+=e.font.isUnderline?"Underline, ":""):(o.style.fontWeight="",o.style.fontStyle="",e.fontStyle="",o.style.textDecoration="",e.font.isBold=!1,e.font.isItalic=!1,e.font.isUnderline=!1,e.font.isStrikeout=!1,this.setDropdownFontStyleValue(o,"none",""),this.pdfViewer.nameTable[e.id.split("_")[0]].font.isBold=!1,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isItalic=!1,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isUnderline=!1,this.pdfViewer.nameTable[e.id.split("_")[0]].font.isStrikeout=!1,O=""),(A=!0)&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,A,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,L,O))}}if(!(0,t.isNullOrUndefined)(n.isReadOnly)){if(e.isReadonly!==n.isReadOnly&&(m=!0,a=e.isReadonly,s=n.isReadOnly),e.isReadonly=n.isReadOnly,this.setReadOnlyProperty(e,o),"RadioButton"===e.formFieldAnnotationType){o.parentElement.style.pointerEvents=n.isReadOnly?"none":"auto";for(T=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),k=JSON.parse(T),N=0;N<k.length;N++)if(k[parseInt(N.toString(),10)].FormField.id.split("_")[0]===e.id){for(var U=0;U<k[parseInt(N.toString(),10)].FormField.radiobuttonItem.length;U++){var z=k[parseInt(N.toString(),10)].FormField.radiobuttonItem[parseInt(U.toString(),10)],H=document.getElementById(z.id+"_html_element").firstElementChild.firstElementChild.firstElementChild;H.parentElement.style.pointerEvents=n.isReadOnly?"none":"auto",z.isReadonly=e.isReadonly,this.pdfViewerBase.formFieldCollection[parseInt(N.toString(),10)].FormField.radiobuttonItem[parseInt(U.toString(),10)].isReadonly=e.isReadonly,this.setReadOnlyProperty(z,H),this.pdfViewerBase.formFieldCollection[parseInt(N.toString(),10)].FormField.radiobuttonItem[parseInt(U.toString(),10)].backgroundColor="object"!=typeof z.backgroundColor?this.getRgbCode(z.backgroundColor):z.backgroundColor}k[parseInt(N.toString(),10)].FormField.isReadonly=e.isReadonly,this.pdfViewerBase.formFieldCollection[parseInt(N.toString(),10)].FormField.isReadonly=e.isReadonly}}else o.style.pointerEvents=n.isReadOnly?n.isMultiline?"auto":"none":"auto";m&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,m,!1,!1,!1,!1,!1,!1,a,s)}("SignatureField"===e.formFieldAnnotationType&&n.signatureIndicatorSettings||"InitialField"===e.formFieldAnnotationType&&n.initialIndicatorSettings)&&(e=this.updateSignatureandInitialIndicator(e,n,o)),this.updateSessionFormFieldProperties(e);var Y={id:e.id,name:e.name,value:e.value,type:e.formFieldAnnotationType,isReadOnly:e.isReadonly,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,color:e.color,backgroundColor:e.backgroundColor,alignment:e.alignment,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,tooltip:e.tooltip,bounds:e.bounds,thickness:e.thickness,borderColor:e.borderColor,pageIndex:e.pageIndex,insertSpaces:e.insertSpaces,isTransparent:e.isTransparent,options:e.options,pageNumber:e.pageNumber,rotateAngle:e.rotateAngle,selectedIndex:e.selectedIndex,signatureIndicatorSettings:e.signatureIndicatorSettings,signatureType:e.signatureType,zIndex:e.zIndex,isChecked:e.isChecked,isMultiline:e.isMultiline,isSelected:e.isSelected,customData:e.customData};this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===Y.id}))]=Y,this.pdfViewer.formFieldCollection[this.pdfViewer.formFieldCollection.findIndex((function(e){return e.id===Y.id}))]=e},e.prototype.colorNametoHashValue=function(e){var t=e;return t.match(/#([a-z0-9]+)/gi)||t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||(t=this.nameToHash(t)),""!==t?t:e},e.prototype.getFormField=function(e){var t,i;return"object"==typeof e&&(i=this.getAnnotationsFromAnnotationCollections(e.id))&&(t=this.pdfViewer.nameTable[i.id]),"string"==typeof e&&(i=this.getAnnotationsFromAnnotationCollections(e))&&(t=this.pdfViewer.nameTable[i.id]),t},e.prototype.resetTextboxProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="textboxField",e.value="",e.fontFamily="Helvetica",e.fontSize=10,e.fontStyle="None",e.color="black",e.backgroundColor="#daeaf7ff",e.alignment="left",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,e.maxLength=0,this.updateTextboxProperties(e,t))},e.prototype.resetPasswordProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="passswordField",e.value="",e.fontFamily="Helvetica",e.fontSize=10,e.fontStyle="None",e.color="black",e.backgroundColor="#daeaf7ff",e.alignment="left",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,e.maxLength=0,this.updatePasswordFieldProperties(e,t))},e.prototype.resetCheckboxProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="checkboxField",e.isChecked=!1,e.backgroundColor="#daeaf7ff",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,this.updateCheckboxProperties(e,t))},e.prototype.resetRadioButtonProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="RadioButtonField",e.isSelected=!1,e.backgroundColor="#daeaf7ff",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,this.updateRadioButtonProperties(e,t))},e.prototype.resetDropdownListProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="dropDownField",e.value="",e.fontFamily="Helvetica",e.fontSize=10,e.fontStyle="None",e.color="black",e.backgroundColor="#daeaf7ff",e.alignment="left",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,e.options=[],this.updateDropdownListProperties(e,t),e.options&&this.updateDropDownListDataSource(e,t))},e.prototype.resetListBoxProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="listBoxField",e.value="",e.fontFamily="Helvetica",e.fontSize=10,e.fontStyle="None",e.color="black",e.backgroundColor="#daeaf7ff",e.alignment="left",e.visibility="visible",e.isReadonly=!1,e.isRequired=!1,e.tooltip="",e.isPrint=!0,e.borderColor="#303030",e.thickness=1,e.options=[],this.updateListBoxProperties(e,t),e.options&&this.updateDropDownListDataSource(e,t))},e.prototype.resetSignatureTextboxProperties=function(e){var t=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;t&&(e.name="signatureField",e.value="",e.fontFamily="Helvetica",e.fontSize=10,e.fontStyle="None",e.color="black",e.backgroundColor="#daeaf7ff",e.isRequired=!1,e.isReadonly=!1,e.tooltip="",e.isPrint=!0,e.visibility="visible",this.updateSignatureFieldProperties(e,t))},e.prototype.deleteFormField=function(e,i){void 0===i&&(i=!0);var n=this.getFormField(e);if((0,t.isNullOrUndefined)(n)&&e){var o=this.pdfViewerBase.getItemFromSessionStorage("_formfields"),r=JSON.parse(o);this.pdfViewer.formFieldCollection=this.pdfViewer.formFieldCollection.filter((function(t){return e.id!==t.id}));for(var a=0;a<this.pdfViewer.formFieldCollections.length;a++)if(e.id===this.pdfViewer.formFieldCollections[parseInt(a.toString(),10)].id)for(var s=0;s<r.length;s++)if(e.name===r[parseInt(s.toString(),10)].FieldName){r.splice(s,1),this.pdfViewer.formFieldCollections.splice(a,1);var l=JSON.stringify(r);sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_formfields",l)}}n&&(this.clearSelection(e),this.pdfViewer.remove(n),this.pdfViewer.renderDrawing(),(0,t.isNullOrUndefined)(this.pdfViewer.toolbar)||(0,t.isNullOrUndefined)(this.pdfViewer.toolbar.formDesignerToolbarModule)||this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(!1),this.pdfViewerBase.formFieldCollection.length>0?this.pdfViewerBase.enableFormFieldButton(!0):this.pdfViewerBase.enableFormFieldButton(!1),i&&this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(this.pdfViewerBase.currentPageNumber,null,n,"Delete","",n,n))},e.prototype.clearSelection=function(e){var i,n;if("object"==typeof e&&(n=this.getAnnotationsFromAnnotationCollections(e.id),i=this.pdfViewer.nameTable[n.id]),"string"==typeof e&&(n=this.getAnnotationsFromAnnotationCollections(e),i=this.pdfViewer.nameTable[n.id]),i&&this.pdfViewer.selectedItems&&!(0,t.isNullOrUndefined)(this.pdfViewer.selectedItems.properties.formFields)&&this.pdfViewer.selectedItems.properties.formFields.length>0&&this.pdfViewer.selectedItems.properties.formFields[0].id===i.id){var o=(0,t.isNullOrUndefined)(this.pdfViewerBase.activeElements.activePageID)?i.pageIndex:this.pdfViewerBase.activeElements.activePageID;this.pdfViewer.clearSelection(o)}},e.prototype.setMode=function(e){e&&-1!==e.indexOf("designer")?(this.enableDisableFormFieldsInteraction(!0),this.pdfViewerBase.disableTextSelectionMode()):(this.enableDisableFormFieldsInteraction(!1),this.pdfViewer.textSelectionModule&&this.pdfViewer.textSelectionModule.enableTextSelectionMode())},e.prototype.enableDisableFormFieldsInteraction=function(e){var t=this.pdfViewer.formFieldCollection;if(t&&t.length>0)for(var i=0;i<t.length;i++){var n=document.getElementById(t[parseInt(i.toString(),10)].id+"_content_html_element"),o=document.getElementById(t[parseInt(i.toString(),10)].id+"_designer_name");if(n)if(e){this.pdfViewer.designerMode=!0,n.style.pointerEvents="none",o.innerHTML=t[parseInt(i.toString(),10)].name;this.pdfViewerBase.getZoomFactor();switch(o.style.fontSize=this.defaultFontSize+"px",o.style.position="absolute",t[parseInt(i.toString(),10)].formFieldAnnotationType){case"Textbox":case"PasswordField":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":case"RadioButton":document.getElementById(t[parseInt(i.toString(),10)].id+"_content_html_element").firstElementChild.firstElementChild.style.pointerEvents="none";break;case"Checkbox":document.getElementById(t[parseInt(i.toString(),10)].id+"_content_html_element").firstElementChild.firstElementChild.lastElementChild.style.pointerEvents="none"}}else{switch(this.pdfViewer.designerMode=!1,n.style.pointerEvents="all",o.innerHTML="",o.style.position="initial","RadioButton"===t[parseInt(i.toString(),10)].formFieldAnnotationType&&this.updateRadioButtonDesignerProperties(t[parseInt(i.toString(),10)],!0),"Checkbox"===t[parseInt(i.toString(),10)].formFieldAnnotationType&&this.updateCheckboxFormDesignerProperties(t[parseInt(i.toString(),10)],!0),t[parseInt(i.toString(),10)].formFieldAnnotationType){case"Textbox":case"PasswordField":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":case"RadioButton":document.getElementById(t[parseInt(i.toString(),10)].id+"_content_html_element").firstElementChild.firstElementChild.style.pointerEvents=t[parseInt(i.toString(),10)].isReadonly?t[parseInt(i.toString(),10)].isMultiline?"auto":"none":"auto";break;case"Checkbox":document.getElementById(t[parseInt(i.toString(),10)].id+"_content_html_element").firstElementChild.firstElementChild.lastElementChild.style.pointerEvents=t[parseInt(i.toString(),10)].isReadonly?t[parseInt(i.toString(),10)].isMultiline?"auto":"none":"auto"}this.pdfViewer.clearSelection(t[parseInt(i.toString(),10)].pageIndex)}}},e.prototype.getAnnotationsFromAnnotationCollections=function(e){var t=this.pdfViewer.formFieldCollection;if(t&&e)for(var i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].id===e)return t[parseInt(i.toString(),10)]},e.prototype.updateSignatureValue=function(e){for(var t=0;t<this.pdfViewerBase.formFieldCollection.length;t++)e===this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.id&&(this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.value="",this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.id.split("_")[0]].value="",this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.id].value="",this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.signatureType="",this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.id.split("_")[0]].signatureType="",this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(t.toString(),10)].FormField.id].signatureType="")},e.prototype.removeFieldsFromAnnotationCollections=function(e,i){var n,o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),r=JSON.parse(o),a=this.pdfViewerBase.getItemFromSessionStorage("_formfields");(0,t.isNullOrUndefined)(a)||(n=JSON.parse(a));for(var s=0;s<r.length;s++)if(r[parseInt(s.toString(),10)].Key.split("_")[0]===e){r.splice(s,1),this.pdfViewerBase.formFieldCollection.splice(s,1);break}if(!(0,t.isNullOrUndefined)(n))for(s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].FieldName===i){n.splice(parseInt(s.toString(),10),1),sessionStorage.setItem(this.pdfViewerBase.documentId+"_formfields",JSON.stringify(n));break}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner");var l=sd.sessionStorageManager.getItem(this.pdfViewerBase.documentId+"_annotations_shape");if(l){var d=JSON.parse(l),h=this.pdfViewer.annotationModule.getPageCollection(d,this.pdfViewerBase.currentPageNumber-1);if(null!=h&&d[parseInt(h.toString(),10)]){for(var A=0;A<d[parseInt(h.toString(),10)].annotations.length;A++)if(e===d[parseInt(h.toString(),10)].annotations[parseInt(A.toString(),10)].id){d[parseInt(h.toString(),10)].annotations.splice(A,1);break}var p=JSON.stringify(d);sd.sessionStorageManager.setItem(this.pdfViewerBase.documentId+"_annotations_shape",p)}}var c=this.pdfViewer.formFieldCollection;if(c&&e)for(s=0;s<c.length;s++)c[parseInt(s.toString(),10)].formFieldId===e&&this.pdfViewer.formFieldCollection.splice(s,1)},e.prototype.setFormFieldIndex=function(){if(this.pdfViewer.formFieldCollections.length>0){var e=this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.length-1],t=e&&e.name?isNaN(parseInt(e.name.match(/\d+/),10))?this.pdfViewer.formFieldCollections.length:parseInt(e.name.match(/\d+/),10):null;this.isAddFormFieldUi?this.formFieldIndex=this.formFieldIndex>this.pdfViewer.formFieldCollections.length?t+1:this.pdfViewer.formFieldCollections.length+1:this.formFieldIndex=isNaN(t)?this.formFieldIndex+1:t+1}else this.formFieldIndex++;return this.formFieldIndex},e.prototype.setFormFieldIdIndex=function(){return this.formFieldIdIndex=this.formFieldIdIndex+1,this.formFieldIdIndex},e.prototype.activateTextboxElement=function(e){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"Textbox"+this.setFormFieldIndex(),value:"",fontFamily:"Helvetica",fontSize:this.defaultFontSize,fontStyle:"None",color:"black",backgroundColor:"#daeaf7ff",thickness:1,borderColor:"#303030",alignment:"left",isReadonly:!1,visibility:"visible",isRequired:!1,isPrint:!0,rotateAngle:0,tooltip:"",customData:"",font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1}},this.pdfViewer.tool="DrawTool"},e.prototype.activatePasswordField=function(e){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"Password"+this.setFormFieldIndex(),value:"",fontFamily:"Helvetica",fontSize:this.defaultFontSize,fontStyle:"None",color:"black",alignment:"left",backgroundColor:"#daeaf7ff",thickness:1,borderColor:"#303030",isReadonly:!1,visibility:"visible",isRequired:!1,isPrint:!0,rotateAngle:0,tooltip:"",customData:"",font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1}},this.pdfViewer.tool="DrawTool"},e.prototype.activateCheckboxElement=function(e){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"Check Box"+this.setFormFieldIndex(),isChecked:!1,fontSize:this.defaultFontSize,backgroundColor:"#daeaf7ff",color:"black",thickness:1,borderColor:"#303030",isReadonly:!1,visibility:"visible",isPrint:!0,rotateAngle:0,tooltip:"",customData:""},this.pdfViewer.tool="DrawTool"},e.prototype.activateRadioButtonElement=function(e){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"Radio Button"+this.setFormFieldIndex(),isSelected:!1,fontSize:this.defaultFontSize,backgroundColor:"#daeaf7ff",color:"black",thickness:1,borderColor:"#303030",isReadonly:!1,visibility:"visible",isPrint:!0,rotateAngle:0,tooltip:"",customData:""},this.pdfViewer.tool="DrawTool"},e.prototype.activateDropDownListElement=function(e,t){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"Dropdown"+this.setFormFieldIndex(),fontFamily:"Helvetica",fontSize:this.defaultFontSize,fontStyle:"None",color:"black",backgroundColor:"#daeaf7ff",thickness:1,borderColor:"#303030",alignment:"left",isReadonly:!1,visibility:"visible",isRequired:!1,isPrint:!0,rotateAngle:0,tooltip:"",customData:"",options:t,isMultiSelect:!1,font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1}},this.pdfViewer.tool="DrawTool"},e.prototype.activateListboxElement=function(e,t){this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"List Box"+this.setFormFieldIndex(),fontFamily:"Helvetica",fontSize:this.defaultFontSize,fontStyle:"None",color:"black",backgroundColor:"#daeaf7ff",thickness:1,borderColor:"#303030",alignment:"left",isReadonly:!1,visibility:"visible",isRequired:!1,isPrint:!0,rotateAngle:0,tooltip:"",customData:"",options:t,isMultiSelect:!0,font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1}},this.pdfViewer.tool="DrawTool"},e.prototype.activateSignatureBoxElement=function(e){var i={opacity:1,backgroundColor:"rgba(255, 228, 133, 0.35)",width:19,height:10,fontSize:this.defaultFontSize,text:null,color:"black"};switch(e){case"SignatureField":(0,t.isNullOrUndefined)(this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings)||(i=this.pdfViewer.signatureFieldSettings.signatureIndicatorSettings);break;case"InitialField":(0,t.isNullOrUndefined)(this.pdfViewer.initialFieldSettings.initialIndicatorSettings)||(i=this.pdfViewer.initialFieldSettings.initialIndicatorSettings)}this.pdfViewer.drawingObject={formFieldAnnotationType:e,name:"InitialField"===e||this.pdfViewer.isInitialFieldToolbarSelection?"Initial"+this.setFormFieldIndex():"Signature"+this.setFormFieldIndex(),fontFamily:"Helvetica",fontSize:this.defaultFontSize,fontStyle:"None",color:"black",backgroundColor:"#daeaf7ff",alignment:"left",isReadonly:!1,visibility:"visible",isRequired:!1,isPrint:!0,rotateAngle:0,tooltip:"",customData:"",font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1},isInitialField:"InitialField"===e||this.pdfViewer.isInitialFieldToolbarSelection,signatureIndicatorSettings:{opacity:i.opacity,backgroundColor:i.backgroundColor,width:i.width,height:i.height,fontSize:i.fontSize,text:i.text,color:i.color}},this.pdfViewer.tool="DrawTool"},e.prototype.updateTextboxProperties=function(e,i,n){i.name=e.name?e.name:"Textbox"+this.setFormFieldIndex(),i.value=e.value?e.value:"";var o=n?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor();if(e.insertSpaces){var r=e.bounds.width*o/e.maxLength-e.fontSize*o/2-.6*o;i.style.letterSpacing=r+"px",i.style.fontFamily="monospace",i.style.paddingLeft=r/2+"px"}else i.style.fontFamily=e.fontFamily&&this.getFontFamily(e.fontFamily)?e.fontFamily:"Helvetica";i.style.fontSize=e.fontSize?e.fontSize*o+"px":10*o+"px",e.font.isBold&&(i.style.fontWeight="bold"),e.font.isItalic&&(i.style.fontStyle="italic"),e.font.isUnderline&&e.font.isStrikeout?i.style.textDecoration="underline line-through":e.font.isStrikeout?i.style.textDecoration="line-through":e.font.isUnderline&&(i.style.textDecoration="underline"),e.isTransparent&&"#ffffffff"===e.borderColor?(i.style.backgroundColor="transparent",i.style.borderColor="transparent"):(i.style.backgroundColor=e.backgroundColor?e.backgroundColor:"#daeaf7ff",i.style.borderColor=e.borderColor?e.borderColor:"#303030"),i.style.color=e.color?e.color:"black",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px",i.style.textAlign=e.alignment?e.alignment.toLowerCase():"left",i.style.visibility=e.visibility?e.visibility:"visible",i.style.pointerEvents=e.isReadonly?e.isMultiline?"default":"none":"default",i.style.resize=e.isMultiline&&!this.pdfViewer.isFormDesignerToolbarVisible?"none":"default",e.isReadonly&&(i.disabled=!0,i.style.cursor="default",i.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(i.required=!0,i.style.border="1px solid red",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px"),(0,t.isNullOrUndefined)(e.maxLength)||(i.maxLength=0===e.maxLength?524288:e.maxLength),i.tabIndex=this.formFieldIndex,i.setAttribute("aria-label",this.pdfViewer.element.id+"formfilldesigner")},e.prototype.updatePasswordFieldProperties=function(e,i,n){i.name=e.name?e.name:"Password"+this.setFormFieldIndex(),i.value=e.value?e.value:"",i.style.fontFamily=e.fontFamily?e.fontFamily:"Helvetica";var o=n?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor();i.style.fontSize=e.fontSize?e.fontSize*o+"px":10*o+"px",e.font.isBold&&(i.style.fontWeight="bold"),e.font.isItalic&&(i.style.fontStyle="italic"),e.font.isStrikeout&&(i.style.textDecoration="line-through"),e.font.isUnderline&&(i.style.textDecoration="underline"),i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px",i.style.color=e.color?e.color:"black",i.style.backgroundColor=e.backgroundColor?e.backgroundColor:"#daeaf7ff",i.style.borderColor=e.borderColor?e.borderColor:"#303030",i.style.textAlign=e.alignment?e.alignment.toLowerCase():"left",i.style.visibility=e.visibility?e.visibility:"visible",i.style.pointerEvents=e.isReadonly?"none":"default",e.isReadonly&&(i.disabled=!0,i.style.cursor="default",i.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(i.required=!0,i.style.border="1px solid red",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px"),(0,t.isNullOrUndefined)(e.maxLength)||(i.maxLength=0===e.maxLength?524288:e.maxLength),i.tabIndex=this.formFieldIndex},e.prototype.updateCheckboxProperties=function(e,i){i.name=e.name?e.name:"Check Box"+this.setFormFieldIndex(),i.checked=!!e.isChecked,e.isTransparent&&"#ffffffff"===e.borderColor?(i.style.backgroundColor="transparent",i.style.borderColor="transparent"):(i.style.backgroundColor=e.backgroundColor?e.backgroundColor:"#daeaf7ff",i.style.borderColor=e.borderColor?e.borderColor:"#303030"),i.style.visibility=e.visibility?e.visibility:"visible",i.style.pointerEvents=e.isReadonly?"none":"default",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px",e.isReadonly&&(i.disabled=!0,i.style.cursor="default",i.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(i.required=!0,i.style.border="1px solid red",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px"),i.tabIndex=this.formFieldIndex},e.prototype.updateRadioButtonProperties=function(e,i,n){i.name=e.name?e.name:"Radio Button"+this.setFormFieldIndex(),i.checked=!!e.isSelected,i.style.backgroundColor=e.backgroundColor?e.backgroundColor:"#daeaf7ff",i.style.borderColor=e.borderColor?e.borderColor:"#303030",i.style.visibility=e.visibility?e.visibility:"visible",(0,t.isNullOrUndefined)(n)?i.style.pointerEvents=e.isReadonly?"none":"default":n.style.pointerEvents=e.isReadonly?"none":"default",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px",e.isReadonly&&(i.disabled=!0,i.style.cursor="default",i.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(i.required=!0,i.style.border="1px solid red",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px"),i.tabIndex=this.formFieldIndex},e.prototype.updateDropdownListProperties=function(e,i,n){i.name=e.name?e.name:"Dropdown"+this.setFormFieldIndex(),i.value=e.value?e.value:"",i.style.fontFamily=e.fontFamily?e.fontFamily:"Helvetica";var o=n?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor();i.style.fontSize=e.fontSize?e.fontSize*o+"px":10*o+"px",e.font.isBold&&(i.style.fontWeight="bold"),e.font.isItalic&&(i.style.fontStyle="italic"),e.font.isStrikeout&&(i.style.textDecoration="line-through"),e.font.isUnderline&&(i.style.textDecoration="underline"),i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px",i.style.color=e.color?e.color:"black",i.style.backgroundColor=e.backgroundColor?e.backgroundColor:"#daeaf7ff",i.style.borderColor=e.borderColor?e.borderColor:"#303030",i.style.textAlign=e.alignment?e.alignment.toLowerCase():"left",i.style.visibility=e.visibility?e.visibility:"visible",i.style.pointerEvents=e.isReadonly?"none":"default",e.isReadonly&&(i.disabled=!0,i.style.cursor="default",i.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(i.required=!0,i.style.border="1px solid red",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px"),i.tabIndex=this.formFieldIndex},e.prototype.updateListBoxProperties=function(e,i,n){i.name=e.name?e.name:"List Box"+this.setFormFieldIndex(),i.value=e.value?e.value:"",i.style.fontFamily=e.fontFamily?e.fontFamily:"Helvetica";var o=n?this.defaultZoomValue:this.pdfViewerBase.getZoomFactor();i.style.fontSize=e.fontSize?e.fontSize*o+"px":10*o+"px",e.font.isBold&&(i.style.fontWeight="bold"),e.font.isItalic&&(i.style.fontStyle="italic"),e.font.isStrikeout&&(i.style.textDecoration="line-through"),e.font.isUnderline&&(i.style.textDecoration="underline"),i.style.color=e.color?e.color:"black",i.style.backgroundColor=e.backgroundColor?e.backgroundColor:"#daeaf7ff",i.style.borderColor=e.borderColor?e.borderColor:"#303030",i.style.textAlign=e.alignment?e.alignment.toLowerCase():"left",i.style.visibility=e.visibility?e.visibility:"visible",i.style.pointerEvents=e.isReadonly?"none":"default",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px",e.isReadonly&&(i.disabled=!0,i.style.cursor="default",i.style.backgroundColor="#daeaf7ff"!==e.backgroundColor?e.backgroundColor:"transparent"),e.isRequired&&(i.required=!0,i.style.border="1px solid red",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px"),i.tabIndex=this.formFieldIndex},e.prototype.updateSignatureFieldProperties=function(e,i,n){i.name=e.name?e.name:"Signature"+this.setFormFieldIndex(),i.value=e.value?e.value:"",i.style.fontFamily=e.fontFamily?e.fontFamily:"Helvetica",i.style.visibility=e.visibility?e.visibility:"visible";var o=this.pdfViewerBase.getZoomFactor();i.style.fontSize=e.fontSize?e.fontSize*o+"px":10*o+"px",e.font.isBold&&(i.style.fontWeight="bold"),e.font.isItalic&&(i.style.fontStyle="italic"),e.font.isStrikeout&&(i.style.textDecoration="line-through"),e.font.isUnderline&&(i.style.textDecoration="underline"),i.style.color=e.color?e.color:"black",i.style.borderWidth=(0,t.isNullOrUndefined)(e.thickness)?"1px":e.thickness+"px";var r=e.backgroundColor?e.backgroundColor:"#FFE48559";if(r=nd.setTransparencyToHex(r),e.isTransparent&&"#ffffffff"===e.borderColor?(i.style.backgroundColor="transparent",i.style.borderColor="transparent",i.firstElementChild&&(i.firstElementChild.style.borderColor="transparent")):(i.style.backgroundColor=n?"transparent":r,i.style.borderColor=e.borderColor?e.borderColor:"#303030",i.firstElementChild&&(i.firstElementChild.style.borderColor=e.borderColor?e.borderColor:"#303030")),i.style.pointerEvents=e.isReadonly?"none":"default",e.isReadonly&&((0,t.isNullOrUndefined)(i.firstElementChild)||(i.firstElementChild.disabled=!0),i.style.cursor="default"),e.isRequired){if(i.required=!0,i.firstElementChild){var a=e.thickness>0?e.thickness:1;i.firstElementChild.style.border=a+"px solid red"}else i.style.border="1px solid red";i.style.borderWidth=e.thickness?e.thickness+"px":"1px"}i.tabIndex=this.formFieldIndex},e.prototype.createHtmlElement=function(e,i){var n=(0,t.createElement)(e);return this.setAttributeHtml(n,i),n},e.prototype.setAttributeHtml=function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++)"style"!==i[parseInt(n.toString(),10)]?e.setAttribute(i[parseInt(n.toString(),10)],t[i[parseInt(n.toString(),10)]]):this.applyStyleAgainstCsp(e,t[i[parseInt(n.toString(),10)]])},e.prototype.applyStyleAgainstCsp=function(e,t){for(var i=t.split(";"),n=0;n<i.length;n++){var o=i[parseInt(n.toString(),10)].split(":");2===o.length&&(e.style[o[0].trim()]=o[1].trim())}},e.prototype.getFieldBounds=function(e,t){var i,n=this.pdfViewerBase.pageSize[parseInt(t.toString(),10)];if(e={X:e.X?e.X:e.x,Y:e.Y?e.Y:e.y,Width:e.Width?e.Width:e.width,Height:e.Height?e.Height:e.height},n)switch(n.rotation){case 0:i=e;break;case 1:i={X:e.Y-(e.Width/2-e.Height/2),Y:n.width-e.X-e.Height-(e.Width/2-e.Height/2),Width:e.Width,Height:e.Height};break;case 2:i={X:n.width-e.X-e.Width,Y:n.height-e.Y-e.Height,Width:e.Width,Height:e.Height};break;case 3:i={X:n.height-e.Y-e.Width+(e.Width/2-e.Height/2),Y:e.X+(e.Width/2-e.Height/2),Width:e.Height,Height:e.Width}}return i||(i=e),i},e.prototype.downloadFormDesigner=function(){var e=this,n=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner");if(n){var o=JSON.parse(n);if(o.length!==this.pdfViewer.formFieldCollections.length)for(var r=this.pdfViewer.formFieldCollections.filter((function(t){var i=t.id;return!e.pdfViewer.formFieldCollection.some((function(e){return e.id===i}))})),a=function(e){var t=s.loadedFormFieldValue(r[parseInt(e.toString(),10)]);if("RadioButton"===t.formFieldAnnotationType){var i=o.findIndex((function(e){return e.FormField.name===t.name}));i&&i>=0?o[parseInt(i.toString(),10)].FormField.radiobuttonItem.push(t):o.push({Key:t.id+"_content",FormField:t})}else o.push({Key:t.id+"_content",FormField:t})},s=this,l=0;l<r.length;l++)a(l);for(var d=function(e){var n=o[parseInt(e.toString(),10)].FormField;if(!(0,t.isNullOrUndefined)(n)&&("SignatureField"===n.formFieldAnnotationType||"InitialField"===n.formFieldAnnotationType)&&(0,t.isNullOrUndefined)(n.signatureBound)){var r=h.pdfViewer.formFieldCollections.filter((function(e){return e.id===n.id.split("_")[0]}));if((0,t.isNullOrUndefined)(n.signatureType)||""!==n.signatureType||(n.signatureType=r[0].signatureType),(0,t.isNullOrUndefined)(n.value)||""!==n.value||(n.value=r[0].value),"Image"===n.signatureType){var a=n.value.toString().split(",")[1],s=new Zs(a),l={x:n.lineBound.X,y:n.lineBound.Y,width:n.lineBound.Width,height:n.lineBound.Height};if("Default"===h.pdfViewer.signatureFitMode){var d=Math.min(l.height/h.pdfViewer.formFieldsModule.paddingDifferenceValue,l.width/h.pdfViewer.formFieldsModule.paddingDifferenceValue),A=l.height-d,p=l.width-d,c=s.width,g=s.height,u=l.width,f=l.height,m=Math.min(p/c,A/g);l.width=c*m,l.height=g*m,l.x=l.x+(u-l.width)/2,l.y=l.y+(f-l.height)/2}n.signatureBound=l,s=null}else if("Path"===n.signatureType){l={x:n.lineBound.X,y:n.lineBound.Y,width:n.lineBound.Width,height:n.lineBound.Height};if("Default"===h.pdfViewer.signatureFitMode){var w=h.pdfViewerBase.getZoomFactor();n.LineBounds={X:nd.convertPixelToPoint(n.lineBound.X),Y:nd.convertPixelToPoint(n.lineBound.Y),Width:nd.convertPixelToPoint(n.lineBound.Width),Height:nd.convertPixelToPoint(n.lineBound.Height)};var y=h.pdfViewerBase.signatureModule.updateSignatureAspectRatio(r[0].value,!1,null,n);(l=h.pdfViewer.formFieldsModule.getSignBounds(e,n.rotation,n.pageNumber,w,n.lineBound.X,n.lineBound.Y,y.width,y.height,!0)).x=l.x+y.left,l.y=l.y+y.top}n.signatureBound=l;var S=(0,i.processPathData)(r[0].value),C=(0,i.splitArrayCollection)(S);n.value=JSON.stringify(C)}else if("Type"===n.signatureType){w=h.pdfViewerBase.getZoomFactor();var B=h.pdfViewer.formFieldsModule.getSignBounds(e,n.rotation,n.pageNumber,w,n.lineBound.X,n.lineBound.Y,n.lineBound.Width,n.lineBound.Height);"Default"===h.pdfViewer.signatureFitMode&&(B=h.pdfViewer.formFieldsModule.getDefaultBoundsforSign(B)),n.signatureBound=B,n.signatureType="Text";var I=B.height/h.pdfViewer.formFieldsModule.signatureFontSizeConstent,b=h.pdfViewer.formFieldsModule.getTextWidth(n.value,I,n.fontFamily),v=1;b>B.width&&(v=B.width/b),n.fontSize=h.pdfViewer.formFieldsModule.getFontSize(Math.floor(I*v))}}if(n.Multiline=n.isMultiline,n.isRequired)if("Textbox"===n.formFieldAnnotationType||"PasswordField"===n.formFieldAnnotationType||n.Multiline)null===n.value||""===n.value?(h.pdfViewerBase.validateForm=!0,h.pdfViewerBase.nonFillableFields[n.name]=n.value):delete h.pdfViewerBase.nonFillableFields[n.name];else if("RadioButton"===n.formFieldAnnotationType){if(n.radiobuttonItem){for(var E=!1,x=0;x<n.radiobuttonItem.length;x++)if(n.radiobuttonItem[parseInt(x.toString(),10)].isSelected){E=!0;break}E?delete h.pdfViewerBase.nonFillableFields[n.name]:(h.pdfViewerBase.validateForm=!0,h.pdfViewerBase.nonFillableFields[n.name]=E)}}else"Checkbox"===n.formFieldAnnotationType?!1===n.isChecked?(h.pdfViewerBase.validateForm=!0,h.pdfViewerBase.nonFillableFields[n.name]=n.isChecked):delete h.pdfViewerBase.nonFillableFields[n.name]:"DropdownList"===n.formFieldAnnotationType||"ListBox"===n.formFieldAnnotationType?(0,t.isNullOrUndefined)(n.selectedIndex)||0===n.selectedIndex.length?(h.pdfViewerBase.validateForm=!0,h.pdfViewerBase.nonFillableFields[n.name]=n.selectedIndex):delete h.pdfViewerBase.nonFillableFields[n.name]:"SignatureField"!==n.formFieldAnnotationType&&"InitialField"!==n.formFieldAnnotationType||(null===n.value||""===n.value?(h.pdfViewerBase.validateForm=!0,h.pdfViewerBase.nonFillableFields[n.name]=n.value):delete h.pdfViewerBase.nonFillableFields[n.name]);n&&("SignatureField"!==n.formFieldAnnotationType&&"InitialField"!==n.formFieldAnnotationType||"Text"!==n.signatureType||h.pdfViewerBase.signatureModule.checkDefaultFont(n.fontFamily)||h.getTextToImage(n))},h=this,A=0;A<o.length;A++)d(A);return JSON.stringify(o)}return null},e.prototype.getTextToImage=function(e){var i=(0,t.createElement)("canvas");i.width=e.lineBound.Width/this.pdfViewerBase.getZoomFactor()||150,i.height=e.lineBound.Height/this.pdfViewerBase.getZoomFactor()||2*e.fontSize;var n=i.getContext("2d"),o=i.width/2,r=i.height/2+e.fontSize/2-10;n.textAlign="center",n.font=e.fontSize+"px "+e.fontFamily,n.fillText(e.value,o,r),e.value=JSON.stringify(i.toDataURL("image/png")),e.signatureType="Image"},e.prototype.loadedFormFieldValue=function(e){var n,o,r=this.hexToRgb(e.backgroundColor),a=e.bounds,s=e.backgroundColor?{r:r[0],g:r[1],b:r[2],a:r[3]}:{r:218,g:234,b:247,a:100},l=this.hexToRgb(e.color),d=e.color?{r:l[0],g:l[1],b:l[2],a:100}:{r:0,g:0,b:0,a:100},h=this.hexToRgb(e.borderColor),A=e.borderColor?{r:h[0],g:h[1],b:h[2],a:100}:{r:48,g:48,b:48,a:100},p=[],c=[],g=[],u="";if(this.data=this.pdfViewerBase.getItemFromSessionStorage("_formfields"),!(0,t.isNullOrUndefined)(this.data)){if(this.formFieldsData=JSON.parse(this.data),"DropdownList"===e.type||"ListBox"===e.type){var f=this.formFieldsData.filter((function(t){return e.name===t.FieldName}));if(f.length>0){c=f[0].TextList,(0,t.isNullOrUndefined)(f[0].selectedIndex)?g.push(f[0].SelectedList[0]):g.push(f[0].selectedIndex);for(var m=0;m<c.length;m++)p.push({itemName:c[parseInt(m.toString(),10)],itemValue:c[parseInt(m.toString(),10)]})}}if("InitialField"===e.type||"SignatureField"===e.type){this.formFieldsData=JSON.parse(this.data),"["===this.formFieldsData[0]&&(this.formFieldsData=JSON.parse(this.formFieldsData));var w=this.formFieldsData.filter((function(t){return e.name===t.FieldName}));if(w.length>0){var y=this.formFieldsData.filter((function(e){return("ink"===e.Name||"SignatureField"===e.Name||"SignatureImage"===e.Name||"SignatureText"===e.Name)&&w[0].FieldName===e.FieldName.split("_")[0]}));for(m=0;m<y.length;m++)if(w[0].FieldName!==y[parseInt(m.toString(),10)].FieldName){if(n=y[parseInt(m.toString(),10)].Value,e.fontFamily=y[parseInt(m.toString(),10)].FontFamily,e.fontSize=y[parseInt(m.toString(),10)].FontSize,!w.Bounds){var S=y[parseInt(m.toString(),10)].LineBounds,C=void 0,B=void 0,I=void 0,b=void 0,v=parseFloat(y[parseInt(m.toString(),10)].PageIndex);S.x||S.y||S.width||S.height?(C=S.x,B=S.y,I=S.width,b=S.height):(C=this.pdfViewer.formFieldsModule.ConvertPointToPixel(S.X),B=this.pdfViewer.formFieldsModule.ConvertPointToPixel(S.Y),I=this.pdfViewer.formFieldsModule.ConvertPointToPixel(S.Width),b=this.pdfViewer.formFieldsModule.ConvertPointToPixel(S.Height));var E={left:C,top:B,width:I,height:b};o=this.pdfViewer.formFieldsModule.updateSignatureBounds(E,v,!1)}if("SignatureImage"===y[parseInt(m.toString(),10)].Name&&(u="Image"),"ink"===y[parseInt(m.toString(),10)].Name&&(u="Path"),"SignatureText"===y[parseInt(m.toString(),10)].Name&&(u="Text"),"Path"===u){var x=(0,i.processPathData)(y[parseInt(m.toString(),10)].Value),_=(0,i.splitArrayCollection)(x);n=JSON.stringify(_)}break}}}}var D={lineBound:{X:a.x,Y:a.y,Width:a.width,Height:a.height},pageNumber:parseFloat(e.pageIndex)+1,name:e.name,tooltip:e.tooltip,value:n||e.value,radiobuttonItem:[],signatureType:e.signatureType?e.signatureType:u,id:e.id,insertSpaces:!!e.insertSpaces&&e.insertSpaces,isChecked:!!e.isChecked&&e.isChecked,isSelected:!!e.isSelected&&e.isSelected,fontFamily:e.fontFamily,fontStyle:e.fontStyle,backgroundColor:s,fontColor:d,borderColor:A,thickness:e.thickness,fontSize:e.fontSize,isMultiline:!!e.isMultiline&&e.isMultiline,rotation:0,isReadOnly:!!e.isReadOnly&&e.isReadOnly,isRequired:!!e.isRequired&&e.isRequired,textAlign:e.alignment,formFieldAnnotationType:e.type,zoomValue:1,option:p,maxLength:e.maxLength?e.maxLength:0,visibility:e.visibility,font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1}};if(o&&(D.signatureBound=o),g.length>0&&(D.selectedIndex=g),"RadioButton"===e.type){var M={lineBound:{X:a.x,Y:a.y,Width:a.width,Height:a.height},pageNumber:parseFloat(e.pageIndex)+1,name:e.name,tooltip:e.tooltip,value:e.value,signatureType:e.signatureType?e.signatureType:"",id:e.id,isChecked:!!e.isChecked&&e.isChecked,isSelected:!!e.isSelected&&e.isSelected,fontFamily:e.fontFamily,fontStyle:e.fontStyle,backgroundColor:s,fontColor:d,borderColor:A,thickness:e.thickness,fontSize:e.fontSize,rotation:0,isReadOnly:!!e.isReadOnly&&e.isReadOnly,isRequired:!!e.isRequired&&e.isRequired,textAlign:e.alignment,formFieldAnnotationType:e.type,zoomValue:1,maxLength:e.maxLength?e.maxLength:0,visibility:e.visibility,font:{isItalic:!1,isBold:!1,isStrikeout:!1,isUnderline:!1}};D.radiobuttonItem.push(M)}else D.radiobuttonItem=[];return D},e.prototype.createAnnotationLayer=function(e,i,n,o,r){var a=this.pdfViewerBase.getElement("_annotationCanvas_"+o);if(a)return this.updateAnnotationCanvas(a,i,n,o),a;var s=(0,t.createElement)("canvas",{id:this.pdfViewer.element.id+"_annotationCanvas_"+o,className:"e-pv-annotation-canvas"});return this.updateAnnotationCanvas(s,i,n,o),e.appendChild(s),s},e.prototype.resizeAnnotations=function(e,t,i){var n=this.pdfViewerBase.getElement("_annotationCanvas_"+i);n&&(n.style.width=e+"px",n.style.height=t+"px",this.pdfViewerBase.applyElementStyles(n,i))},e.prototype.getEventPageNumber=function(e){var t=e.target;t.classList.contains("e-pv-hyperlink")?t=t.parentElement:(t.parentElement.classList.contains("foreign-object")||t.parentElement.classList.contains("e-pv-radiobtn-container"))&&(t=t.closest(".e-pv-text-layer"));var i=t.id.split("_text_")[1]||t.id.split("_textLayer_")[1]||t.id.split("_annotationCanvas_")[1]||t.id.split("_pageDiv_")[1];return isNaN(i)&&(e=this.pdfViewerBase.annotationEvent)&&(i=(t=e.target).id.split("_text_")[1]||t.id.split("_textLayer_")[1]||t.id.split("_annotationCanvas_")[1]||t.id.split("_pageDiv_")[1]),parseInt(i,10)},e.prototype.getPropertyPanelHeaderContent=function(e){switch(e){case"Textbox":return this.pdfViewer.localeObj.getConstant("Textbox");case"PasswordField":return this.pdfViewer.localeObj.getConstant("Password");case"Checkbox":return this.pdfViewer.localeObj.getConstant("Check Box");case"RadioButton":return this.pdfViewer.localeObj.getConstant("Radio Button");case"DropdownList":return this.pdfViewer.localeObj.getConstant("Dropdown");case"ListBox":return this.pdfViewer.localeObj.getConstant("List Box");case"InitialField":return this.pdfViewer.localeObj.getConstant("Initial");case"SignatureField":return this.pdfViewer.localeObj.getConstant("Signature")}},e.prototype.createPropertiesWindow=function(){var e,i=this,n=this.pdfViewer.element.id,o=(0,t.createElement)("div",{id:n+"_properties_window",className:"e-pv-properties-form-field-window"}),r=this.createAppearanceTab();this.pdfViewerBase.pageContainer.appendChild(o),e="DropdownList"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"ListBox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?"430px":"505px",this.propertiesDialog=new Ne.Dialog({showCloseIcon:!0,closeOnEscape:!1,isModal:!0,header:'<div class="e-pv-form-field-property-header"> '+this.getPropertyPanelHeaderContent(this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType)+" "+this.pdfViewer.localeObj.getConstant("Properties")+"</div>",minHeight:e,target:this.pdfViewer.element,content:r,beforeOpen:function(){i.isPropertyDialogOpen=!0},allowDragging:!0,close:function(){i.destroyPropertiesWindow(),i.isPropertyDialogOpen=!1}}),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode,this.propertiesDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Cancel")},click:this.onCancelClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("OK"),isPrimary:!0},click:this.onOkClicked.bind(this)}],this.pdfViewer.enableRtl&&(this.propertiesDialog.enableRtl=!0);var a=(0,t.createElement)("div");a.className="e-pv-properties-bottom-spliter",o.appendChild(a),this.propertiesDialog.appendTo(o)},e.prototype.onOkClicked=function(e){var t=this.pdfViewer.selectedItems.formFields[0],n=C(t);if(this.isAddFormFieldProgrammatically=!1,t){switch(t.formFieldAnnotationType){case"Textbox":case"PasswordField":if(this.formFieldMultiline&&this.formFieldMultiline.checked&&"Textbox"===t.formFieldAnnotationType&&this.multilineCheckboxCheckedState?this.renderMultilineText(t):"Textbox"===t.formFieldAnnotationType&&this.multilineCheckboxCheckedState&&this.renderTextbox(t),"PasswordField"===t.formFieldAnnotationType&&this.updateTextboxFormDesignerProperties(t),"Textbox"===t.formFieldAnnotationType){var o=this.checkTextboxName(t);if(o&&o.length>0)for(var r=0;r<o.length;r++){var a=o[parseInt(r.toString(),10)];a.id===t.id&&(t.isMultiline?this.renderMultilineText(a):this.renderTextbox(a),document.getElementById(a.id+"_content_html_element")?this.updateTextboxFormDesignerProperties(a):this.updateFormFieldPropertiesInCollections(a))}}this.multilineCheckboxCheckedState=!1;var s=(0,i.cornersPointsBeforeRotation)(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(s,t.wrapper.children[0],t.formFieldAnnotationType,t);break;case"Checkbox":this.updateCheckboxFormDesignerProperties(t,!1);var l=(0,i.cornersPointsBeforeRotation)(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(l,t.wrapper.children[0],t.formFieldAnnotationType,t);break;case"RadioButton":this.updateRadioButtonDesignerProperties(t,!1);var d=(0,i.cornersPointsBeforeRotation)(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(d,t.wrapper.children[0],t.formFieldAnnotationType,t);break;case"SignatureField":case"InitialField":this.updateSignatureTextboxProperties(t);var h=(0,i.cornersPointsBeforeRotation)(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(h,t.wrapper.children[0],t.formFieldAnnotationType,t);break;case"DropdownList":this.updateDropdownFormDesignerProperties(t);var A=(0,i.cornersPointsBeforeRotation)(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(A,t.wrapper.children[0],t.formFieldAnnotationType,t);break;case"ListBox":this.updateListBoxFormDesignerProperties(t);var p=(0,i.cornersPointsBeforeRotation)(t.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(p,t.wrapper.children[0],t.formFieldAnnotationType,t)}this.updateFormFieldCollections(t);var c=C(t);this.pdfViewer.annotation&&this.pdfViewer.annotation.addAction(this.pdfViewerBase.currentPageNumber,null,t,"FormDesigner Properties Change","",n,c)}this.propertiesDialog.hide()},e.prototype.updateFormFieldPropertiesInCollections=function(e){for(var t=this.pdfViewer.formFieldCollections,i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];if(n.id===e.id&&n.name===e.name){this.formFieldName&&this.formFieldName.value&&(n.name=this.formFieldName.value),this.formFieldValue&&e.value!==this.formFieldValue.value&&(n.value=this.formFieldValue.value),this.formFieldAlign&&e.alignment!==this.formFieldAlign&&(n.alignment=this.formFieldAlign),this.formFieldPrinting&&e.isPrint!==this.formFieldPrinting.checked&&(n.isPrint=this.formFieldPrinting.checked),this.formFieldTooltip&&e.tooltip!==this.formFieldTooltip.value&&(n.tooltip=this.formFieldTooltip.value),this.formFieldVisibility&&e.visibility!==this.formFieldVisibility.value&&(n.visibility=this.formFieldVisibility),this.formFieldFontFamily&&this.formFieldFontFamily.value&&(n.fontFamily=this.formFieldFontFamily.value),this.formFieldFontSize&&this.formFieldFontSize.value&&(n.fontSize=parseInt(this.formFieldFontSize.value.toString(),10)),this.fontColorValue&&e.color!==this.fontColorValue&&(n.color=this.fontColorValue),this.backgroundColorValue&&e.backgroundColor!==this.backgroundColorValue&&(n.backgroundColor=this.backgroundColorValue),this.borderColorValue&&e.borderColor!==this.borderColorValue&&(n.borderColor=this.borderColorValue),this.formFieldBorderWidth&&e.thickness!==parseInt(this.formFieldBorderWidth,10)&&(n.thickness=parseInt(this.formFieldBorderWidth,10)),this.formFieldReadOnly&&e.isReadonly!==this.formFieldReadOnly.checked&&(n.isReadOnly=this.formFieldReadOnly.checked),this.formFieldRequired&&e.isRequired!==this.formFieldRequired.checked&&(n.isRequired=this.formFieldRequired.checked),0!==i&&i<this.pdfViewer.formFieldCollection.length?n.fontStyle=this.pdfViewer.formFieldCollection[i-1].fontStyle:n.fontStyle=this.pdfViewer.formFieldCollection[i+1].fontStyle;var o=this.pdfViewer.formFieldCollections.findIndex((function(t){return t.id===e.id}));this.pdfViewer.formFieldCollections[parseInt(o.toString(),10)]=n}}},e.prototype.checkTextboxName=function(e){for(var t=[],i=0;i<this.pdfViewer.formFieldCollection.length;i++){var n=this.pdfViewer.formFieldCollection[parseInt(i.toString(),10)];n.name===e.name&&"Textbox"===n.formFieldAnnotationType&&t.push(n)}return t},e.prototype.renderMultilineText=function(e,t){t?this.reRenderMultilineTextbox(e,"e-pv-formfield-input"):this.addMultilineTextbox(e,"e-pv-formfield-input",!0)},e.prototype.renderTextbox=function(e,t){t?this.reRenderMultilineTextbox(e,"e-pv-formfield-textarea"):this.addMultilineTextbox(e,"e-pv-formfield-textarea",!1)},e.prototype.addMultilineTextbox=function(e,t,i){var n=e.wrapper.children[0];if(e.isMultiline=i,document.getElementById(n.id+"_html_element")){var o=document.getElementById(n.id+"_html_element").children[0],r=o.children[0].id;if(document.getElementById(o.children[0].id).remove(),-1!==t.indexOf("e-pv-formfield-textarea")){var a=this.createTextboxElement(r);n.template=o.appendChild(a)}else{var s=this.createTextAreaElement(r);s.value=e.value,n.template=o.appendChild(s)}var l=this.getFormFiledIndex(e.id.split("_")[0]);this.pdfViewerBase.formFieldCollection[parseInt(l.toString(),10)].FormField.isMultiline=e.isMultiline,this.pdfViewer.nameTable[e.id.split("_")[0]].isMultiline=e.isMultiline}},e.prototype.reRenderMultilineTextbox=function(e,t){var i=document.getElementById(e.id+"_content_html_element");if(i){var n=i.firstElementChild.firstElementChild,o=n.id;if(n.remove(),-1!==t.indexOf("e-pv-formfield-textarea")){var r=this.createTextboxElement(o);i.firstElementChild.appendChild(r)}else{r=this.createTextAreaElement(o);i.firstElementChild.appendChild(r)}}},e.prototype.createTextAreaElement=function(e){var i=(0,t.createElement)("textarea");return i.id=e,i.className="e-pv-formfield-textarea",i.style.width="100%",i.style.height="100%",i.style.borderStyle="solid",i.addEventListener("click",this.inputElementClick.bind(this)),i.addEventListener("change",this.getTextboxValue.bind(this)),i},e.prototype.createTextboxElement=function(e){var i=(0,t.createElement)("input");return i.id=e,i.type="text",i.className="e-pv-formfield-input",i.autocomplete="off",i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.borderStyle="solid",i.addEventListener("click",this.inputElementClick.bind(this)),i.addEventListener("change",this.getTextboxValue.bind(this)),i.addEventListener("focus",this.focusFormFields.bind(this)),i.addEventListener("blur",this.blurFormFields.bind(this)),i},e.prototype.updateFormFieldCollections=function(e){var i={id:e.id.split("_")[0],name:e.name,value:e.value,type:e.type?e.type:e.formFieldAnnotationType,isReadOnly:e.isReadonly,fontFamily:e.fontFamily,isMultiline:e.isMultiline,fontSize:e.fontSize,fontStyle:e.fontStyle,color:e.color?e.color:this.getRgbToHex(e.fontColor),backgroundColor:"string"==typeof e.backgroundColor?e.backgroundColor:this.getRgbToHex(e.backgroundColor),alignment:e.alignment?e.alignment:e.textAlign,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,isSelected:e.isSelected,isChecked:e.isChecked,tooltip:e.tooltip,bounds:e.bounds?e.bounds:e.lineBound,thickness:e.thickness,borderColor:"string"==typeof e.borderColor?e.borderColor:this.getRgbToHex(e.borderColor),pageIndex:(0,t.isNullOrUndefined)(e.pageNumber)?e.pageIndex:e.pageNumber-1,insertSpaces:e.insertSpaces,isTransparent:!!e.isTransparent&&e.isTransparent,options:e.option?e.option:e.options,pageNumber:e.pageNumber,rotateAngle:(0,t.isNullOrUndefined)(e.rotateAngle)?e.rotation:e.rotateAngle,selectedIndex:e.selectedIndex,signatureIndicatorSettings:e.signatureIndicatorSettings,signatureType:e.signatureType,zIndex:e.zIndex,customData:e.customData};this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex((function(e){return e.id===i.id}))]=i},e.prototype.getRgbToHex=function(e){return"#"+this.hex(e.r)+this.hex(e.g)+this.hex(e.b)},e.prototype.updateDropdownFormDesignerProperties=function(e,i){var n=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;if(this.pdfViewer.designerMode||i){var o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),r=JSON.parse(o),a=this.getFormFiledIndex(e.id.split("_")[0]);if(e.options=this.createDropdownDataSource(e),this.updateDropDownListDataSource(e,n),e.selectedIndex=[],a>-1&&(r[parseInt(a.toString(),10)].FormField.option=e.options,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.option=e.options,!(0,t.isNullOrUndefined)(e.options)&&e.options.length>0))if(r[parseInt(a.toString(),10)]&&r[parseInt(a.toString(),10)].FormField.value){var s=e.options.findIndex((function(e){return e.itemValue===r[parseInt(a.toString(),10)].FormField.value}));e.selectedIndex.push(s)}else e.selectedIndex.push(0);this.pdfViewer.nameTable[e.id.split("_")[0]].options=e.options,(this.formFieldName&&this.formFieldName.value||i)&&this.updateNamePropertyChange(e,n,i,a,r),(this.formFieldValue&&r[parseInt(a.toString(),10)]&&r[parseInt(a.toString(),10)].FormField.value||i)&&this.updateValuePropertyChange(e,n,i,a,r),(this.formFieldPrinting||i)&&this.updateIsPrintPropertyChange(e,i,a,r),(this.formFieldTooltip||i)&&this.updateTooltipPropertyChange(e,n,i,a,r),(this.formFieldVisibility||i)&&this.updateVisibilityPropertyChange(e,n,i,a,r),(this.formFieldFontFamily&&this.formFieldFontFamily.value||i)&&this.updateFontFamilyPropertyChange(e,n,i,a,r),(this.formFieldFontSize&&this.formFieldFontSize.value||i)&&this.updateFontSizePropertyChange(e,n,i,a,r),this.updateFontStylePropertyChange(e,n,i,a,r),(this.formFieldAlign||i)&&this.updateAlignmentPropertyChange(e,n,i,a,r),(this.fontColorValue||i)&&this.updateColorPropertyChange(e,n,i,a,r),(this.backgroundColorValue||i)&&this.updateBackgroundColorPropertyChange(e,n,i,a,r),(this.borderColorValue||i)&&this.updateBorderColorPropertyChange(e,n,i,a,r),(0,t.isNullOrUndefined)(this.formFieldBorderWidth)&&!i||this.updateBorderThicknessPropertyChange(e,n,i,a,r),(this.formFieldReadOnly||i)&&this.updateIsReadOnlyPropertyChange(e,n,i,a,r),(this.formFieldRequired||i)&&this.updateIsRequiredPropertyChange(e,n,i,a,r)}i&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},e.prototype.updateListBoxFormDesignerProperties=function(e,i){var n=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild;if(this.pdfViewer.designerMode||i){var o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),r=JSON.parse(o),a=this.getFormFiledIndex(e.id.split("_")[0]);e.options=this.createDropdownDataSource(e),this.updateDropDownListDataSource(e,n),e.selectedIndex=[],a>-1&&(r[parseInt(a.toString(),10)].FormField.option=e.options,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.option=e.options,!(0,t.isNullOrUndefined)(e.options)&&e.options.length>0&&(r[parseInt(a.toString(),10)]&&r[parseInt(a.toString(),10)].FormField.value?e.selectedIndex.push(e.options.findIndex((function(e){return e.itemValue===r[parseInt(a.toString(),10)].FormField.value}))):e.selectedIndex.push(0))),this.pdfViewer.nameTable[e.id.split("_")[0]].options=e.options,(this.formFieldName&&this.formFieldName.value||i)&&this.updateNamePropertyChange(e,n,i,a,r),(this.formFieldPrinting||i)&&this.updateIsPrintPropertyChange(e,i,a,r),(this.formFieldTooltip||i)&&this.updateTooltipPropertyChange(e,n,i,a,r),(this.formFieldVisibility||i)&&this.updateVisibilityPropertyChange(e,n,i,a,r),(this.formFieldFontFamily&&this.formFieldFontFamily.value||i)&&this.updateFontFamilyPropertyChange(e,n,i,a,r),(this.formFieldFontSize&&this.formFieldFontSize.value||i)&&this.updateFontSizePropertyChange(e,n,i,a,r),this.updateFontStylePropertyChange(e,n,i,a,r),(this.formFieldAlign||i)&&this.updateAlignmentPropertyChange(e,n,i,a,r),(this.fontColorValue||i)&&this.updateColorPropertyChange(e,n,i,a,r),(this.backgroundColorValue||i)&&this.updateBackgroundColorPropertyChange(e,n,i,a,r),(this.borderColorValue||i)&&this.updateBorderColorPropertyChange(e,n,i,a,r),(0,t.isNullOrUndefined)(this.formFieldBorderWidth)&&!i||this.updateBorderThicknessPropertyChange(e,n,i,a,r),(this.formFieldReadOnly||i)&&this.updateIsReadOnlyPropertyChange(e,n,i,a,r),(this.formFieldRequired||i)&&this.updateIsRequiredPropertyChange(e,n,i,a,r)}i&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},e.prototype.updateDropDownListDataSource=function(e,t){for(;t.firstChild;)t.firstChild.remove();for(var i=0;i<e.options.length;i++){var n=document.createElement("option");n.className="e-pv-formfield-dropdown",n.value=e.options[parseInt(i.toString(),10)].itemValue,n.text=e.options[parseInt(i.toString(),10)].itemName,t.appendChild(n)}},e.prototype.createDropdownDataSource=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(this.formFieldListItemDataSource=[],t&&t.children&&t.children.length>0)for(var i=0;i<t.children.length;i++){var n=t.children[parseInt(i.toString(),10)];this.formFieldListItemDataSource.push({itemName:n.innerHTML,itemValue:n.innerHTML})}else e&&e.options.length>0&&(this.formFieldListItemDataSource=e.options);return this.formFieldListItemDataSource},e.prototype.updateSignatureTextboxProperties=function(e,i){var n=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild,o=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),r=JSON.parse(o),a=this.getFormFiledIndex(e.id.split("_")[0]);(this.pdfViewer.designerMode||i)&&((this.formFieldName&&this.formFieldName.value||i)&&this.updateNamePropertyChange(e,n,i,a,r),(this.formFieldPrinting||i)&&this.updateIsPrintPropertyChange(e,i,a,r),(this.formFieldTooltip||i)&&this.updateTooltipPropertyChange(e,n,i,a,r),(0,t.isNullOrUndefined)(this.formFieldBorderWidth)&&!i||this.updateBorderThicknessPropertyChange(e,n,i,a,r),(this.formFieldVisibility||i)&&this.updateVisibilityPropertyChange(e,n,i,a,r),(this.formFieldReadOnly||i)&&this.updateIsReadOnlyPropertyChange(e,n,i,a,r),(this.formFieldRequired||i)&&this.updateIsRequiredPropertyChange(e,n,i,a,r)),i&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},e.prototype.updateCheckboxFormDesignerProperties=function(e,i,n){var o=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild.lastElementChild,r=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),a=JSON.parse(r),s=this.getFormFiledIndex(e.id.split("_")[0]);(this.formFieldName&&this.formFieldName.value||n)&&this.updateNamePropertyChange(e,o,n,s,a),(this.formFieldValue||n)&&this.updateValuePropertyChange(e,o,n,s,a,i),(this.backgroundColorValue||n)&&this.updateBackgroundColorPropertyChange(e,o,n,s,a),(this.borderColorValue||n)&&this.updateBorderColorPropertyChange(e,o,n,s,a),(0,t.isNullOrUndefined)(this.formFieldBorderWidth)&&!n||this.updateBorderThicknessPropertyChange(e,o,n,s,a),this.formFieldChecked&&(this.checkboxCheckedState=this.formFieldChecked.checked),(this.formFieldPrinting||n)&&this.updateIsPrintPropertyChange(e,n,s,a),(this.formFieldTooltip||n)&&this.updateTooltipPropertyChange(e,o,n,s,a),(this.formFieldVisibility||n)&&this.updateVisibilityPropertyChange(e,o,n,s,a),(0,t.isNullOrUndefined)(this.checkboxCheckedState)&&!n||this.updateIsCheckedPropertyChange(e,o,n,s,a),(this.pdfViewer.designerMode&&this.borderColorValue||n)&&this.updateBorderColorPropertyChange(e,o,n,s,a),(this.pdfViewer.designerMode&&this.formFieldBorderWidth||n)&&this.updateBorderThicknessPropertyChange(e,o,n,s,a),(this.formFieldReadOnly||n)&&this.updateIsReadOnlyPropertyChange(e,o,n,s,a),(this.formFieldRequired||n)&&this.updateIsRequiredPropertyChange(e,o,n,s,a),n&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},e.prototype.updateRadioButtonDesignerProperties=function(e,n,o){var r=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild.firstElementChild,a=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),s=JSON.parse(a),l=this.getFormFiledIndex(e.id.split("_")[0]);if((this.formFieldName&&this.formFieldName.value||o)&&this.updateNamePropertyChange(e,r,o,l,s),(this.formFieldValue||o)&&this.updateValuePropertyChange(e,r,o,l,s,n),this.formFieldChecked&&(this.checkboxCheckedState=this.formFieldChecked.checked),(this.formFieldPrinting||o)&&this.updateIsPrintPropertyChange(e,o,l,s),(this.formFieldTooltip||o)&&this.updateTooltipPropertyChange(e,r,o,l,s),(this.formFieldVisibility||o)&&this.updateVisibilityPropertyChange(e,r,o,l,s),(this.pdfViewer.designerMode&&!(0,t.isNullOrUndefined)(this.formFieldBorderWidth)||o)&&this.updateBorderThicknessPropertyChange(e,r,o,l,s),(this.backgroundColorValue||o)&&this.updateBackgroundColorPropertyChange(e,r,o,l,s),(this.borderColorValue||o)&&this.updateBorderColorPropertyChange(e,r,o,l,s),(0,t.isNullOrUndefined)(this.checkboxCheckedState)&&!o||this.updateIsSelectedPropertyChange(e,r,o,l,s),(this.formFieldReadOnly||o)&&this.updateIsReadOnlyPropertyChange(e,r,o,l,s),(this.formFieldRequired||o)&&this.updateIsRequiredPropertyChange(e,r,o,l,s),o){var d=this.pdfViewer.nameTable[e.id.split("_")[0]],h=(0,i.cornersPointsBeforeRotation)(d.wrapper.children[0]).topLeft;this.updateFormDesignerFieldInSessionStorage(h,d.wrapper.children[0],d.formFieldAnnotationType,d)}},e.prototype.updateTextboxFormDesignerProperties=function(e,i){var n,o,r=document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild,a=!1,s=this.pdfViewerBase.getItemFromSessionStorage("_formDesigner"),l=JSON.parse(s),d=this.getFormFiledIndex(e.id.split("_")[0]);if(this.pdfViewer.designerMode||i||this.isAddFormFieldProgrammatically){if((this.formFieldName&&this.formFieldName.value||i)&&this.updateNamePropertyChange(e,r,i,d,l),(this.isAddFormFieldProgrammatically?e.value:this.formFieldValue||i)&&this.updateValuePropertyChange(e,r,i,d,l),(this.formFieldPrinting||i)&&this.updateIsPrintPropertyChange(e,i,d,l),(this.formFieldTooltip||i)&&this.updateTooltipPropertyChange(e,r,i,d,l),(this.formFieldVisibility||i)&&this.updateVisibilityPropertyChange(e,r,i,d,l),((this.isAddFormFieldProgrammatically?e.fontFamily:this.formFieldFontFamily&&this.formFieldFontFamily.value)||i)&&this.updateFontFamilyPropertyChange(e,r,i,d,l),((this.isAddFormFieldProgrammatically?e.fontSize:this.formFieldFontSize&&this.formFieldFontSize.value)||i)&&this.updateFontSizePropertyChange(e,r,i,d,l),this.updateFontStylePropertyChange(e,r,i,d,l),(this.formFieldAlign||i||this.multilineCheckboxCheckedState)&&this.updateAlignmentPropertyChange(e,r,i,d,l),this.maxLengthItem||i){if(this.maxLengthItem&&e.maxLength!==this.maxLengthItem.value&&(a=!0,n=e.maxLength,o=this.maxLengthItem.value),!(0,t.isNullOrUndefined)(this.maxLengthItem)){var h=0===this.maxLengthItem.value?524288:this.maxLengthItem.value;i&&0!==e.maxLength?r.maxLength=e.maxLength:(r.maxLength=h,e.maxLength=this.maxLengthItem.value)}d>-1&&(l[parseInt(d.toString(),10)].FormField.maxLength=e.maxLength,this.pdfViewerBase.formFieldCollection[parseInt(d.toString(),10)].FormField.maxLength=e.maxLength),this.pdfViewer.nameTable[e.id.split("_")[0]].maxLength=e.maxLength,a&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,!1,!1,!1,!1,n,o)}(this.fontColorValue||i||this.multilineCheckboxCheckedState)&&this.updateColorPropertyChange(e,r,i,d,l),(this.backgroundColorValue||i||this.multilineCheckboxCheckedState)&&this.updateBackgroundColorPropertyChange(e,r,i,d,l),(this.borderColorValue||i||this.multilineCheckboxCheckedState)&&this.updateBorderColorPropertyChange(e,r,i,d,l),(0,t.isNullOrUndefined)(this.formFieldBorderWidth)&&!i||this.updateBorderThicknessPropertyChange(e,r,i,d,l),(this.formFieldReadOnly||i)&&this.updateIsReadOnlyPropertyChange(e,r,i,d,l),(this.isAddFormFieldProgrammatically||this.formFieldRequired||i)&&this.updateIsRequiredPropertyChange(e,r,i,d,l)}this.pdfViewer.designerMode||this.formFieldVisibility&&this.formFieldVisibility.value&&(e.visibility=this.formFieldVisibility.value,document.getElementById(e.id+"_content_html_element").firstElementChild.firstElementChild.style.visibility=e.visibility);this.updateFormFieldCollections(e),i&&this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")},e.prototype.updateIsCheckedPropertyChange=function(e,t,i,n,o){if(this.pdfViewer.designerMode||i){var r=!1,a=void 0,s=void 0;e.isChecked!==this.checkboxCheckedState&&(r=!0,a=e.isChecked,s=this.checkboxCheckedState),i||(e.isChecked=this.checkboxCheckedState),n>-1&&(o[parseInt(n.toString(),10)].FormField.isChecked=e.isChecked,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.isChecked=e.isChecked),this.pdfViewer.nameTable[e.id.split("_")[0]].isChecked=e.isChecked,r&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,r,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)}if(!this.pdfViewer.designerMode||i){var l=document.getElementById(e.id+"_input").firstElementChild;e.isChecked?(l.classList.contains("e-pv-cb-unchecked")&&l.classList.remove("e-pv-cb-unchecked"),l.classList.add("e-pv-cb-checked")):(l.classList.contains("e-pv-cb-checked")&&l.classList.remove("e-pv-cb-checked"),l.classList.add("e-pv-cb-unchecked"))}},e.prototype.updateIsSelectedPropertyChange=function(e,t,i,n,o){if(this.pdfViewer.designerMode||i){var r=!1,a=void 0,s=void 0;if(e.isSelected!==this.checkboxCheckedState&&(r=!0,a=e.isSelected,s=this.checkboxCheckedState),i||(e.isSelected=this.checkboxCheckedState),n>-1){o[parseInt(n.toString(),10)].FormField.isSelected=e.isSelected;for(var l=0;l<o[parseInt(n.toString(),10)].FormField.radiobuttonItem.length;l++)o[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].id.split("_")[0]===e.id.split("_")[0]&&(o[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isSelected=e.isSelected,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isSelected=e.isSelected)}this.pdfViewer.nameTable[e.id.split("_")[0]].isSelected=e.isSelected,r&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,r,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)}if(!this.pdfViewer.designerMode||i){if(t.checked=e.isSelected,n>-1){o[parseInt(n.toString(),10)].FormField.isSelected=e.isSelected,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.isSelected=e.isSelected;for(l=0;l<o[parseInt(n.toString(),10)].FormField.radiobuttonItem.length;l++)o[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].id.split("_")[0]===e.id.split("_")[0]&&(o[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isSelected=e.isSelected,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isSelected=e.isSelected)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.pdfViewer.nameTable[e.id.split("_")[0]].isSelected=e.isSelected}},e.prototype.updateValuePropertyChange=function(e,t,i,n,o,r){var a,s,l=!1;"DropdownList"!==e.formFieldAnnotationType&&this.formFieldValue&&e.value!==this.formFieldValue.value?(l=!0,a=e.value,s=this.formFieldValue.value):"DropdownList"===e.formFieldAnnotationType&&this.formFieldValue&&e.value!==o[parseInt(n.toString(),10)].FormField.value&&(l=!0,a=e.value,s=o[parseInt(n.toString(),10)].FormField.value),i?t.value=e.value:r?l=!1:this.isAddFormFieldProgrammatically?("DropdownList"===e.formFieldAnnotationType&&(e.value=o[parseInt(n.toString(),10)].FormField.value),"DropdownList"===e.formFieldAnnotationType?t.value=o[parseInt(n.toString(),10)].FormField.value:t.value=e.value):("DropdownList"===e.formFieldAnnotationType?e.value=o[parseInt(n.toString(),10)].FormField.value:e.value=this.formFieldValue?this.formFieldValue.value:e.value,"DropdownList"===e.formFieldAnnotationType?t.value=o[parseInt(n.toString(),10)].FormField.value:t.value=this.formFieldValue?this.formFieldValue.value:e.value),n>-1&&(o[parseInt(n.toString(),10)].FormField.value=e.value,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.value=e.value),this.pdfViewer.nameTable[e.id.split("_")[0]].value=e.value,l&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,l,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)},e.prototype.updateFontStylePropertyChange=function(e,t,i,n,o){var r,a,s,l=this.updateFontStyle(t,e,i,n,o);r=l[0],a=l[1],s=l[2],n>-1&&(o[parseInt(n.toString(),10)].FormField.fontStyle=e.fontStyle,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.fontStyle=e.fontStyle),this.pdfViewer.nameTable[e.id.split("_")[0]].fontStyle=e.fontStyle,r&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,r,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)},e.prototype.updateBorderThicknessPropertyChange=function(e,t,i,n,o){var r,a,s=!1,l=parseInt(this.formFieldBorderWidth,10);e.thickness!==l&&(s=!0,r=e.thickness,a=l||e.thickness),i?t.style.borderWidth=e.thickness.toString():(t.style.borderWidth=this.formFieldBorderWidth?this.formFieldBorderWidth+"px":e.thickness+"px",e.thickness=l),n>-1&&(o[parseInt(n.toString(),10)].FormField.thickness=e.thickness,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.thickness=e.thickness),this.pdfViewer.nameTable[e.id.split("_")[0]].thickness=e.thickness,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,!1,!1,!1,r,a)},e.prototype.updateBorderColorPropertyChange=function(e,i,n,o,r){var a,s,l=!1;e.borderColor!==this.borderColorValue&&(l=!0,a=e.borderColor,s=this.borderColorValue?this.borderColorValue:e.borderColor),this.pdfViewer.enableHtmlSanitizer&&this.borderColorValue&&(this.borderColorValue=t.SanitizeHtmlHelper.sanitize(this.borderColorValue)),n?i.style.borderColor=e.borderColor:(i.style.borderColor=this.borderColorValue?this.borderColorValue:e.borderColor,e.borderColor=this.borderColorValue?this.borderColorValue:e.borderColor),"RadioButton"===e.formFieldAnnotationType&&(i.parentElement.style.boxShadow=this.borderColorValue+" 0px 0px 0px "+e.thickness+"px"),o>-1&&(r[parseInt(o.toString(),10)].FormField.borderColor=this.getRgbCode(e.borderColor),this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.borderColor=this.getRgbCode(e.borderColor)),this.pdfViewer.nameTable[e.id.split("_")[0]].borderColor=e.borderColor,l&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,l,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)},e.prototype.updateBackgroundColorPropertyChange=function(e,i,n,o,r){var a,s,l=!1;e.backgroundColor!==this.backgroundColorValue&&(l=!0,a=e.backgroundColor,s=this.backgroundColorValue?this.backgroundColorValue:e.backgroundColor),this.pdfViewer.enableHtmlSanitizer&&this.backgroundColorValue&&(this.backgroundColorValue=t.SanitizeHtmlHelper.sanitize(this.backgroundColorValue)),n?"RadioButton"===e.formFieldAnnotationType?i.parentElement.style.background=e.backgroundColor:i.style.background=e.backgroundColor:("RadioButton"===e.formFieldAnnotationType?i.parentElement.style.background=this.backgroundColorValue?this.backgroundColorValue:e.backgroundColor:i.style.background=this.backgroundColorValue?this.backgroundColorValue:e.backgroundColor,e.backgroundColor=this.backgroundColorValue?this.backgroundColorValue:e.backgroundColor),o>-1&&(r[parseInt(o.toString(),10)].FormField.backgroundColor=this.getRgbCode(e.backgroundColor),this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.backgroundColor=this.getRgbCode(e.backgroundColor)),this.pdfViewer.nameTable[e.id.split("_")[0]].backgroundColor=e.backgroundColor,l&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,l,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)},e.prototype.updateColorPropertyChange=function(e,i,n,o,r){var a,s,l=!1;e.color!==this.fontColorValue&&(l=!0,a=e.color,s=this.fontColorValue?this.fontColorValue:e.color),this.pdfViewer.enableHtmlSanitizer&&this.fontColorValue&&(this.fontColorValue=t.SanitizeHtmlHelper.sanitize(this.fontColorValue)),n?i.style.color=e.color:(i.style.color=this.fontColorValue?this.fontColorValue:e.color,e.color=this.fontColorValue?this.fontColorValue:e.color),o>-1&&(r[parseInt(o.toString(),10)].FormField.color=this.getRgbCode(e.color),this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.color=this.getRgbCode(e.color)),this.pdfViewer.nameTable[e.id.split("_")[0]].color=e.color,l&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,l,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)},e.prototype.updateAlignmentPropertyChange=function(e,t,i,n,o){var r,a,s=!1;if(e.alignment!==this.formFieldAlign&&(s=!0,r=e.alignment,a=this.formFieldAlign?this.formFieldAlign:e.alignment),i){if(t.style.textAlign=e.alignment,("ListBox"===e.formFieldAnnotationType||"DropdownList"===e.formFieldAnnotationType)&&t.children.length>0){t.style.textAlignLast=e.alignment;for(var l=0;l<t.children.length;l++){(d=t.children[parseInt(l.toString(),10)]).style.textAlignLast=e.alignment,d.style.textAlign=e.alignment}}}else if(t.style.textAlign=this.formFieldAlign?this.formFieldAlign:e.alignment,e.alignment=this.formFieldAlign?this.formFieldAlign:e.alignment,("ListBox"===e.formFieldAnnotationType||"DropdownList"===e.formFieldAnnotationType)&&t.children.length>0){t.style.textAlignLast=this.formFieldAlign?this.formFieldAlign:e.alignment;for(l=0;l<t.children.length;l++){var d;(d=t.children[parseInt(l.toString(),10)]).style.textAlignLast=this.formFieldAlign?this.formFieldAlign:e.alignment,d.style.textAlign=this.formFieldAlign?this.formFieldAlign:e.alignment}}n>-1&&(o[parseInt(n.toString(),10)].FormField.alignment=e.alignment,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.alignment=e.alignment),this.pdfViewer.nameTable[e.id.split("_")[0]].alignment=e.alignment,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,!1,!1,r,a)},e.prototype.updateFontSizePropertyChange=function(e,t,i,n,o){var r,a,s=!1,l=this.pdfViewerBase.getZoomFactor(),d=this.formFieldFontSize?parseInt(this.formFieldFontSize.value.toString(),10):e&&e.fontSize?parseInt(e.fontSize.toString(),10):10;parseInt(e.fontSize,10)!==d&&(s=!0,r=e.fontSize,a=d),i?t.style.fontSize=e.fontSize*l+"px".toString():(e.fontSize=d,t.style.fontSize=this.formFieldFontSize?parseInt(this.formFieldFontSize.value.toString(),10)+"px":parseInt(e.fontSize.toString(),10)+"px"),n>-1&&(o[parseInt(n.toString(),10)].FormField.fontSize=e.fontSize,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.fontSize=e.fontSize),this.pdfViewer.nameTable[e.id.split("_")[0]].fontSize=e.fontSize,s&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,s,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,r,a)},e.prototype.updateFontFamilyPropertyChange=function(e,i,n,o,r){var a,s,l=!1,d=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(this.formFieldFontFamily?this.formFieldFontFamily.value.toString():""):this.formFieldFontFamily?this.formFieldFontFamily.value.toString():"";e.fontFamily!==d&&(l=!0,a=e.fontFamily,s=d),n?i.style.fontFamily=e.fontFamily:""===d?(d=e.fontFamily,i.style.fontFamily=d):(e.fontFamily=d,i.style.fontFamily=d),o>-1&&(r[parseInt(o.toString(),10)].FormField.fontFamily=e.fontFamily,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.fontFamily=e.fontFamily),this.pdfViewer.nameTable[e.id.split("_")[0]].fontFamily=e.fontFamily,l&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,l,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,s)},e.prototype.updateVisibilityPropertyChange=function(e,t,i,n,o){var r,a,s=!1;if(this.formFieldVisibility&&e.visibility!==this.formFieldVisibility.value&&(s=!0,r=e.visibility,a=this.formFieldVisibility.value),i||(e.visibility=this.formFieldVisibility.value),t.style.visibility=e.visibility,"RadioButton"===e.formFieldAnnotationType&&(t.parentElement.style.visibility=e.visibility),"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType){var l=document.getElementById(e.id+"_content_html_element").firstElementChild.children[1];l.style.visibility=e.visibility,l.parentElement.style.visibility=e.visibility;var d=this.pdfViewer.nameTable[e.id.split("_")[0]+"_content"];"hidden"===e.visibility?d&&this.hideSignatureValue(e,d,n,o):d&&this.showSignatureValue(e,r,d,n,o)}n>-1&&(o[parseInt(n.toString(),10)].FormField.visibility=e.visibility,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.visibility=e.visibility),this.pdfViewer.nameTable[e.id.split("_")[0]].visibility=e.visibility,s&&(this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,r,a))},e.prototype.hideSignatureValue=function(e,t,i,n){e.wrapper.children.splice(e.wrapper.children.indexOf(t.wrapper.children[0]),1),this.pdfViewer.remove(t),this.pdfViewer.renderDrawing()},e.prototype.showSignatureValue=function(e,t,n,o,r){if("SignatureText"===n.shapeAnnotationType)e.value=n.data,e.signatureType="Text",r[parseInt(o.toString(),10)].FormField.signatureType="Text",r[parseInt(o.toString(),10)].FormField.value=n.data,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.value=n.data,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.signatureType="Text";else if("SignatureImage"===n.shapeAnnotationType)e.value=n.data,e.signatureType="Image",r[parseInt(o.toString(),10)].FormField.signatureType="Image",r[parseInt(o.toString(),10)].FormField.value=n.data,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.value=n.data,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.signatureType="Image";else{r[parseInt(o.toString(),10)].FormField.signatureType="Path",e.signatureType="Path",this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.signatureType="Path";var a=(0,i.processPathData)(n.data),s=(0,i.splitArrayCollection)(a);e.value=JSON.stringify(s),r[parseInt(o.toString(),10)].FormField.value=JSON.stringify(s),this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.value=JSON.stringify(s)}if(e.signatureBound=n.signatureBound,"hidden"===t){this.pdfViewer.add(n),e.wrapper.children.push(n.wrapper);var l=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+e.pageIndex);this.pdfViewer.renderDrawing(l,e.pageIndex)}this.pdfViewer.renderDrawing()},e.prototype.updateTooltipPropertyChange=function(e,i,n,o,r){var a,s,l=!1;this.formFieldTooltip&&e.tooltip!==this.formFieldTooltip.value&&(l=!0,a=e.tooltip,s=this.formFieldTooltip.value),this.pdfViewer.enableHtmlSanitizer&&!(0,t.isNullOrUndefined)(this.formFieldTooltip)&&this.formFieldTooltip.value&&(this.formFieldTooltip.value=t.SanitizeHtmlHelper.sanitize(this.formFieldTooltip.value)),n?(this.formFieldTooltip=new Pe.TextBox,this.formFieldTooltip.value=e.tooltip):e.tooltip=this.formFieldTooltip?this.formFieldTooltip.value:e.tooltip,o>-1&&(r[parseInt(o.toString(),10)].FormField.tooltip=e.tooltip,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.tooltip=e.tooltip),this.pdfViewer.nameTable[e.id.split("_")[0]].tooltip=this.formFieldTooltip.value,(0,t.isNullOrUndefined)(this.formFieldTooltip.value)||""===this.formFieldTooltip.value||this.setToolTip(this.formFieldTooltip.value,"RadioButton"===e.formFieldAnnotationType?i.parentElement:i),l&&(this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,l,!1,a,s))},e.prototype.updateNamePropertyChange=function(e,i,n,o,r){var a=document.getElementById(e.id+"_designer_name");this.pdfViewerBase.getZoomFactor();if(this.pdfViewer.enableHtmlSanitizer&&!(0,t.isNullOrUndefined)(this.formFieldName)&&this.formFieldName.value&&(this.formFieldName.value=t.SanitizeHtmlHelper.sanitize(this.formFieldName.value)),a.style.fontSize=this.defaultFontSize+"px",n||(e.name=this.formFieldName?this.formFieldName.value:e.name),a.innerHTML=e.name,o>-1){var s=void 0,l=void 0,d=e.options.length;s=d>1?e.options.slice(0,d-1):"",l=e.options[d-1],("DropdownList"===r[parseInt(o.toString(),10)].FormField.formFieldAnnotationType||"ListBox"===r[parseInt(o.toString(),10)].FormField.formFieldAnnotationType)&&r[parseInt(o.toString(),10)].FormField.name===e.name&&r[parseInt(o.toString(),10)].FormField.option.length>0&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,s,l,!0,r[parseInt(o.toString(),10)].FormField.name),this.formFieldName&&e.name!==r[parseInt(o.toString(),10)].FormField.name&&(s=r[parseInt(o.toString(),10)].FormField.name,l=e.name),r[parseInt(o.toString(),10)].FormField.name!==e.name&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,s,l,!0,r[parseInt(o.toString(),10)].FormField.name),r[parseInt(o.toString(),10)].FormField.name=e.name,this.pdfViewerBase.formFieldCollection[parseInt(o.toString(),10)].FormField.name=e.name}if(i.name=e.name,this.pdfViewer.nameTable[e.id.split("_")[0]].name=e.name,"DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType)for(var h=0;h<this.pdfViewer.formFieldCollection.length;h++){var A=this.pdfViewer.formFieldCollection[parseInt(h.toString(),10)];if(("DropdownList"===A.formFieldAnnotationType||"ListBox"===A.formFieldAnnotationType)&&A.name===e.name&&A.id!==e.id){e.options=A.options,this.updateDropDownListDataSource(e,i);break}}},e.prototype.setReadOnlyProperty=function(e,t){this.pdfViewer.nameTable[e.id.split("_")[0]].isReadonly=e.isReadonly,this.setReadOnlyToElement(e,t,e.isReadonly),this.setReadOnlyToFormField(e,e.isReadonly)},e.prototype.updateIsReadOnlyPropertyChange=function(e,t,i,n,o){var r,a,s=!1;if(this.formFieldReadOnly&&e.isReadonly!==this.formFieldReadOnly.checked&&(s=!0,r=e.isReadonly,a=this.formFieldReadOnly.checked),i?(this.formFieldReadOnly=new Ad.CheckBox,this.formFieldReadOnly.checked=e.isReadonly):e.isReadonly=this.formFieldReadOnly.checked,n>-1&&(o[parseInt(n.toString(),10)].FormField.isReadonly=e.isReadonly,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.isReadonly=e.isReadonly,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem)){for(var l=0;l<this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem.length;l++){this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isReadonly=e.isReadonly,this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].id.split("_")[0]].isReadonly=e.isReadonly;var d=document.getElementById(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].id.split("_")[0]),h=this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)];this.setReadOnlyProperty(h,d),s&&(this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].backgroundColor="string"==typeof h.backgroundColor?this.getRgbCode(h.backgroundColor):h.backgroundColor)}this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}this.setReadOnlyProperty(e,t),s&&(this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,!1,!1,!1,r,a))},e.prototype.updateIsRequiredPropertyChange=function(e,t,i,n,o){var r,a,s=!1;if(this.formFieldRequired&&e.isRequired!==this.formFieldRequired.checked&&(s=!0,r=e.isRequired,a=this.formFieldRequired.checked),i?(this.formFieldRequired=new Ad.CheckBox,this.formFieldRequired.checked=e.isRequired):e.isRequired=this.formFieldRequired?this.formFieldRequired.checked:e.isRequired,n>-1&&(o[parseInt(n.toString(),10)].FormField.isRequired=e.isRequired,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.isRequired=e.isRequired,this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem)){for(var l=0;l<this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem.length;l++)this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].isRequired=e.isRequired,this.pdfViewer.nameTable[this.pdfViewerBase.formFieldCollection[parseInt(n.toString(),10)].FormField.radiobuttonItem[parseInt(l.toString(),10)].id.split("_")[0]].isRequired=e.isRequired;this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner")}this.pdfViewer.nameTable[e.id.split("_")[0]].isRequired=e.isRequired,this.setRequiredToElement(e,t,e.isRequired),this.setRequiredToFormField(e,e.isRequired),s&&(this.pdfViewerBase.setItemInSessionStorage(this.pdfViewerBase.formFieldCollection,"_formDesigner"),this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,s,!1,!1,!1,r,a))},e.prototype.updateIsPrintPropertyChange=function(e,t,i,n){var o,r,a=!1;this.formFieldPrinting&&e.isPrint!==this.formFieldPrinting.checked&&(a=!0,o=e.isPrint,r=this.formFieldPrinting.checked),t?(this.formFieldPrinting=new Ad.CheckBox,this.formFieldPrinting.checked=e.isPrint):e.isPrint=this.formFieldPrinting.checked,i>-1&&(n[parseInt(i.toString(),10)].FormField.isPrint=e.isPrint,this.pdfViewerBase.formFieldCollection[parseInt(i.toString(),10)].FormField.isPrint=e.isPrint),this.pdfViewer.nameTable[e.id.split("_")[0]].isPrint=e.isPrint,a&&this.updateFormFieldPropertiesChanges("formFieldPropertiesChange",e,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,a,!1,!1,o,r)},e.prototype.getFormFiledIndex=function(e){if(null==this.pdfViewerBase.formFieldCollection||0===this.pdfViewerBase.formFieldCollection.length)return-1;var t=this.pdfViewerBase.formFieldCollection.findIndex((function(t){return t.Key.split("_")[0]===e}));if(t>-1)return t;for(var i=0;i<this.pdfViewerBase.formFieldCollection.length;i++)if("RadioButton"===this.pdfViewerBase.formFieldCollection[parseInt(i.toString(),10)].FormField.formFieldAnnotationType&&this.pdfViewerBase.formFieldCollection[parseInt(i.toString(),10)].FormField.radiobuttonItem)for(var n=0;n<this.pdfViewerBase.formFieldCollection[parseInt(i.toString(),10)].FormField.radiobuttonItem.length;n++)if(this.pdfViewerBase.formFieldCollection[parseInt(i.toString(),10)].FormField.radiobuttonItem[parseInt(n.toString(),10)].id.split("_")[0]===e)return i;return-1},e.prototype.updateFontStyle=function(e,t,i,n,o){var r=!1,a="",s="";return this.formFieldBold?("Bold"!==t.fontStyle&&(r=!0,a+=t.font.isBold?"Bold, ":""),i?t.font.isBold?this.setFontStyleValues(t,"Bold",this.formFieldBold,e,!0,"bold",n,o):this.setFontStyleValues(t,"None",this.formFieldBold,e,!1,"",n,o):"bold"===this.formFieldBold?this.setFontStyleValues(t,"Bold",this.formFieldBold,e,!0,"bold",n,o):this.setFontStyleValues(t,"None","bold",e,!1,"",n,o)):t.font.isBold&&this.setFontStyleValues(t,"None","bold",e,!1,"",n,o),s+=t.font.isBold?"Bold, ":"",this.formFieldItalic?("Italic"!==t.fontStyle&&(r=!0,a+=t.font.isItalic?"Italic, ":""),i?t.font.isItalic?this.setFontStyleValues(t,"Italic",this.formFieldItalic,e,!0,"italic",n,o):this.setFontStyleValues(t,"None",this.formFieldItalic,e,!1,"",n,o):"italic"===this.formFieldItalic?this.setFontStyleValues(t,"Italic",this.formFieldItalic,e,!0,"italic",n,o):this.setFontStyleValues(t,"None","italic",e,!1,"",n,o)):t.font.isItalic&&this.setFontStyleValues(t,"None","italic",e,!1,"",n,o),s+=t.font.isItalic?"Italic, ":"",this.formFieldUnderline?("Underline"!==t.fontStyle&&(r=!0,a+=t.font.isUnderline?"Underline, ":""),i?t.font.isUnderline?this.setFontStyleValues(t,"Underline",this.formFieldUnderline,e,!0,"underline",n,o):this.setFontStyleValues(t,"None",this.formFieldUnderline,e,!1,"",n,o):"underline"===this.formFieldUnderline?this.setFontStyleValues(t,"Underline",this.formFieldUnderline,e,!0,"underline",n,o):this.setFontStyleValues(t,"None","underline",e,!1,"",n,o)):t.font.isUnderline&&this.setFontStyleValues(t,"None","underline",e,!1,"",n,o),s+=t.font.isUnderline?"Underline, ":"",this.formFieldStrikeOut?("Strikethrough"!==t.fontStyle&&(r=!0,a+=t.font.isStrikeout?"Strikethrough, ":""),i?t.font.isStrikeout?this.setFontStyleValues(t,"Strikethrough",this.formFieldStrikeOut,e,!0,"line-through",n,o):this.setFontStyleValues(t,"None",this.formFieldStrikeOut,e,!1,"",n,o):"line-through"===this.formFieldStrikeOut?this.setFontStyleValues(t,"Strikethrough",this.formFieldStrikeOut,e,!0,"line-through",n,o):this.setFontStyleValues(t,"None","line-through",e,!1,"",n,o)):t.font.isStrikeout&&this.setFontStyleValues(t,"None","line-through",e,!1,"",n,o),[r,a,s+=t.font.isStrikeout?"Strikethrough, ":""]},e.prototype.setFontStyleValues=function(e,t,i,n,o,r,a,s){"bold"===i?(e.fontStyle=t,e.font.isBold=o,n.style.fontWeight=r,this.setDropdownFontStyleValue(n,i,r),a>-1&&(s[parseInt(a.toString(),10)].FormField.font.isBold=o,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.font.isBold=o),this.pdfViewer.nameTable[e.id.split("_")[0]].font.isBold=o):"italic"===i?(n.style.fontStyle=r,this.setDropdownFontStyleValue(n,i,r),e.fontStyle=t,e.font.isItalic=o,a>-1&&(s[parseInt(a.toString(),10)].FormField.font.isItalic=o,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.font.isItalic=o),this.pdfViewer.nameTable[e.id.split("_")[0]].font.isItalic=o):"underline"===i?(this.setDropdownFontStyleValue(n,i,r),n.style.textDecoration=r,e.fontStyle=t,e.font.isUnderline=o,a>-1&&(s[parseInt(a.toString(),10)].FormField.font.isUnderline=o,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.font.isUnderline=o),this.pdfViewer.nameTable[e.id.split("_")[0]].font.isUnderline=o):"line-through"===i&&(this.setDropdownFontStyleValue(n,i,r),n.style.textDecoration=r,e.fontStyle=t,e.font.isStrikeout=o,a>-1&&(s[parseInt(a.toString(),10)].FormField.font.isStrikeout=o,this.pdfViewerBase.formFieldCollection[parseInt(a.toString(),10)].FormField.font.isStrikeout=o),this.pdfViewer.nameTable[e.id.split("_")[0]].font.isStrikeout=o)},e.prototype.setDropdownFontStyleValue=function(e,t,i){if(e.length>0)for(var n=0;n<e.length;n++)"bold"===t?e[parseInt(n.toString(),10)].style.fontWeight=i:"italic"===t?e[parseInt(n.toString(),10)].style.fontStyle=i:"underline"===t||"line-through"===t?e[parseInt(n.toString(),10)].style.textDecoration=i:"none"===t&&(e[parseInt(n.toString(),10)].style.fontWeight=i)},e.prototype.updateFormFieldPropertiesChanges=function(e,t,i,n,o,r,a,s,l,d,h,A,p,c,g,u,f,m,w,y,S,C){var B={name:t.name,id:t.id,value:t.value,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,color:t.color,backgroundColor:t.backgroundColor,alignment:t.alignment,isReadonly:t.isReadonly,visibility:t.visibility,maxLength:t.maxLength,isRequired:t.isRequired,isPrint:t.isPrint,rotation:t.rotateAngle,tooltip:t.tooltip,options:t.options,isChecked:t.isChecked,isSelected:t.isSelected,previousName:C,currentName:t.name,customData:t.customData};this.pdfViewer.fireFormFieldPropertiesChangeEvent("formFieldPropertiesChange",B,t.pageIndex,i,n,o,r,a,s,l,d,h,A,p,c,g,u,f,m,w,y,S)},e.prototype.onCancelClicked=function(e){this.propertiesDialog.hide()},e.prototype.select=function(e){e.isSwiped&&(e.cancel=!0)},e.prototype.createAppearanceTab=function(){var e=this.pdfViewer.element.id,i=(0,t.createElement)("div",{id:e+"_properties_appearance"});"DropdownList"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"ListBox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?i.style.height="260px":i.style.height="336px";var n=(0,t.createElement)("div");n.className="e-pv-properties-header-spliter",i.appendChild(n);var o=(0,t.createElement)("div",{className:"e-pv-properties-tab-style-prop"});return i.appendChild(o),!this.pdfViewer.selectedItems||"ListBox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"DropdownList"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?!this.pdfViewer.selectedItems||"SignatureField"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"InitialField"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?this.tabControl=new ai.Tab({items:[{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("General")+"</div>"},content:this.createGeneralProperties()},{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("Appearance")+"</div>"},content:this.createAppearanceProperties()}],selecting:this.select},o):this.tabControl=new ai.Tab({items:[{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("General")+"</div>"},content:this.createGeneralProperties()}],selecting:this.select},o):this.tabControl=new ai.Tab({items:[{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("General")+"</div>"},content:this.createGeneralProperties()},{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("Appearance")+"</div>"},content:this.createAppearanceProperties()},{header:{text:'<div class="e-pv-form-field-property-header-general"> '+this.pdfViewer.localeObj.getConstant("Options")+"</div>"},content:this.createOptionProperties()}],selecting:this.select},o),o.children[1].style.height="100%",i},e.prototype.createGeneralProperties=function(){var e=this.pdfViewer.selectedItems.formFields?this.pdfViewer.selectedItems.formFields[0]:null,i=this.pdfViewer.element.id,n=(0,t.createElement)("div",{id:i+"_general_prop_appearance"}),o=(0,t.createElement)("div",{className:"e-pv-properties-text-edit-prop"});n.appendChild(o);var r=(0,t.createElement)("div",{className:"e-pv-properties-form-field-name-main-div"}),a=(0,t.createElement)("div",{className:"e-pv-properties-name-edit-prop"}),s=(0,t.createElement)("input",{className:"e-pv-properties-name-edit-input e-input"});a.appendChild(s),r.appendChild(a),this.formFieldName=new Pe.TextBox({type:"text",floatLabelType:"Always",placeholder:this.pdfViewer.localeObj.getConstant("Name"),value:e.name,cssClass:"e-pv-properties-formfield-name"},s),o.appendChild(r);var l=(0,t.createElement)("div",{className:"e-pv-properties-form-field-tooltip-main-div"}),d=(0,t.createElement)("div",{className:"e-pv-properties-tooltip-edit-prop"}),h=(0,t.createElement)("input",{className:"e-pv-properties-tooltip-prop-input e-input"});d.appendChild(h),l.appendChild(d),this.formFieldTooltip=new Pe.TextBox({type:"text",floatLabelType:"Always",placeholder:this.pdfViewer.localeObj.getConstant("Tooltip"),value:e.tooltip,cssClass:"e-pv-properties-formfield-tooltip"},h),o.appendChild(l);var A=(0,t.createElement)("div",{className:"e-pv-properties-visibility-style-prop"});n.appendChild(A);var p=(0,t.createElement)("div",{className:"e-pv-properties-form-field-value-main-div"}),c=(0,t.createElement)("div",{className:"e-pv-properties-value-edit-prop"}),g=(0,t.createElement)("input",{className:"e-pv-properties-value-input e-input"});c.appendChild(g),p.appendChild(c),"PasswordField"===this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?this.formFieldValue=new Pe.TextBox({type:"password",floatLabelType:"Always",placeholder:this.pdfViewer.localeObj.getConstant("Value"),value:e.value,cssClass:"e-pv-properties-formfield-value"},g):this.formFieldValue=new Pe.TextBox({type:"text",floatLabelType:"Always",placeholder:this.pdfViewer.localeObj.getConstant("Value"),value:e.value,cssClass:"e-pv-properties-formfield-value"},g),"Textbox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"PasswordField"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"RadioButton"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&"Checkbox"!==this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType&&(this.formFieldValue.enabled=!1,this.formFieldValue.value=""),A.appendChild(p);var u=(0,t.createElement)("div",{className:"e-pv-properties-form-field-visibility-main-div"}),f=(0,t.createElement)("div",{className:"e-pv-properties-visibility-edit-prop"}),m=(0,t.createElement)("input",{className:"e-pv-properties-formfield-visibility"});f.appendChild(m),u.appendChild(f);var w="visible"===e.visibility?0:1;this.formFieldVisibility=new fd.DropDownList({dataSource:["visible","hidden"],floatLabelType:"Always",index:w,value:e.visibility,placeholder:this.pdfViewer.localeObj.getConstant("Form Field Visibility"),cssClass:"e-pv-properties-formfield-visibility"},m),A.appendChild(u);var y=(0,t.createElement)("div",{className:"e-pv-properties-checkbox-main-div-prop"}),S=(0,t.createElement)("input",{className:"e-pv-properties-checkbox-readonly-input e-input"});if(y.appendChild(S),this.formFieldReadOnly=new Ad.CheckBox({label:this.pdfViewer.localeObj.getConstant("Read Only"),checked:e.isReadonly,cssClass:"e-pv-properties-form-field-checkbox"},S),"Checkbox"===this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType||"RadioButton"===this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType){var C=(0,t.createElement)("input",{className:"e-pv-properties-checkbox-checked-input e-input"});y.appendChild(C),this.formFieldChecked=new Ad.CheckBox({label:this.pdfViewer.localeObj.getConstant("Checked"),cssClass:"e-pv-properties-form-field-checkbox",checked:e.isChecked||e.isSelected,change:this.checkBoxChange.bind(this)},C)}var B=(0,t.createElement)("input",{className:"e-pv-properties-checkbox-required-input e-input"});y.appendChild(B),this.formFieldRequired=new Ad.CheckBox({label:this.pdfViewer.localeObj.getConstant("Required"),checked:e.isRequired,cssClass:"e-pv-properties-form-field-checkbox"},B);var I=(0,t.createElement)("input",{className:"e-pv-properties-checkbox-printing-input e-input"});if(y.appendChild(I),this.formFieldPrinting=new Ad.CheckBox({label:this.pdfViewer.localeObj.getConstant("Show Printing"),checked:e.isPrint,cssClass:"e-pv-properties-form-field-checkbox"},I),"Textbox"===e.formFieldAnnotationType){var b=(0,t.createElement)("input",{className:"e-pv-properties-checkbox-multiline-input e-input"});y.appendChild(b),this.formFieldMultiline=new Ad.CheckBox({label:this.pdfViewer.localeObj.getConstant("Multiline"),checked:e.isMultiline,cssClass:"e-pv-properties-form-field-checkbox",change:this.multilineCheckboxChange.bind(this)},b)}return n.appendChild(y),n},e.prototype.checkBoxChange=function(e){this.checkboxCheckedState=e.checked},e.prototype.multilineCheckboxChange=function(e){this.multilineCheckboxCheckedState=!0},e.prototype.setToolTip=function(e,i){var n=new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return e}))});n.appendTo(i),n.beforeOpen=this.tooltipBeforeOpen.bind(this),this.formFieldTooltips.push(n)},e.prototype.tooltipBeforeOpen=function(e){var i=this.pdfViewer.nameTable[""!==e.target.id.split("_")[0]?e.target.id.split("_")[0]:(0,t.isNullOrUndefined)(e.target.firstElementChild)?"":e.target.firstElementChild.id.split("_")[0]];(0,t.isNullOrUndefined)(i)||(e.element.children[0].innerHTML=i.tooltip,""!==e.element.children[0].innerHTML?e.element.style.display="block":e.element.style.display="none")},e.prototype.createAppearanceProperties=function(){var e=this.pdfViewer.selectedItems.formFields?this.pdfViewer.selectedItems.formFields[0]:null,i=this.pdfViewer.element.id,n=(0,t.createElement)("div",{id:i+"_formatting_text_prop_appearance"}),o=(0,t.createElement)("div",{className:"e-pv-properties-format-text-style-prop"});n.appendChild(o),this.createLabelElement(this.pdfViewer.localeObj.getConstant("Formatting"),o,!0,"e-pv-properties-formfield-label",i+"_properties_formfield_formatting");var r=(0,t.createElement)("div",{className:"e-pv-properties-font-items-container"}),a=(0,t.createElement)("div",{className:"e-pv-properties-font-family-container"}),s=(0,t.createElement)("input",{className:"e-pv-properties-format-font-family-prop"});a.appendChild(s),r.appendChild(a),this.formFieldFontFamily=new fd.DropDownList({dataSource:["Helvetica","Courier","Times New Roman","Symbol","ZapfDingbats"],value:this.getFontFamily(e.fontFamily)?e.fontFamily:"Helvetica",cssClass:"e-pv-properties-formfield-fontfamily"},s),this.setToolTip(this.pdfViewer.localeObj.getConstant("Font family"),a);var l=(0,t.createElement)("div",{className:"e-pv-properties-font-size-container"}),d=(0,t.createElement)("input",{className:"e-pv-properties-format-font-family-prop"});l.appendChild(d),r.appendChild(l),this.formFieldFontSize=new fd.DropDownList({dataSource:["6px","8px","10px","12px","14px","16px","18px","20px","24px","28px","32px","36px","40px"],value:e.fontSize+"px",cssClass:"e-pv-properties-formfield-fontsize"},d),this.setToolTip(this.pdfViewer.localeObj.getConstant("Font size"),l);var h=(0,t.createElement)("div",{className:"e-pv-properties-form-field-font-style"});h.onclick=this.fontStyleClicked.bind(this),h.appendChild(this.addClassFontItem("_formField_bold","e-pv-bold-icon",e.font.isBold)),h.appendChild(this.addClassFontItem("_formField_italic","e-pv-italic-icon",e.font.isItalic)),h.appendChild(this.addClassFontItem("_formField_underline_textinput","e-pv-underlinetext-icon",e.font.isUnderline)),h.appendChild(this.addClassFontItem("_formField_strikeout","e-pv-strikeout-icon",e.font.isStrikeout)),r.appendChild(h),this.getFontStyle(e.font),n.appendChild(r);var A=(0,t.createElement)("div",{className:"e-pv-properties-font-color-container"}),p=(0,t.createElement)("div",{className:"e-pv-properties-form-field-font-align"});p.onclick=this.fontAlignClicked.bind(this);var c=e.alignment.toLowerCase();p.appendChild(this.addClassFontItem("_formField_left_align","e-pv-left-align-icon","left"===c)),p.appendChild(this.addClassFontItem("_formField_center_align","e-pv-center-align-icon","center"===c)),p.appendChild(this.addClassFontItem("_formField_right_align","e-pv-right-align-icon","right"===c)),this.getAlignment(c),A.appendChild(p),this.fontColorElement=(0,t.createElement)("div",{className:"e-pv-formfield-textcolor-icon",id:this.pdfViewer.element.id+"formField_textColor"}),this.fontColorElement.setAttribute("role","combobox"),this.fontColorPalette=this.createColorPicker(this.fontColorElement.id,e.color),"black"!==e.color?this.fontColorValue=e.color:this.fontColorValue=null,this.fontColorPalette.change=this.onFontColorChange.bind(this),this.fontColorDropDown=this.createDropDownButton(this.fontColorElement,"e-pv-annotation-textcolor-icon",this.fontColorPalette.element.parentElement),A.appendChild(this.fontColorElement),this.setToolTip(this.pdfViewer.localeObj.getConstant("Font color"),this.fontColorDropDown.element),this.updateColorInIcon(this.fontColorElement,this.pdfViewer.selectedItems.formFields[0].color),"Checkbox"!==e.formFieldAnnotationType&&"RadioButton"!==e.formFieldAnnotationType||(this.fontColorPalette.disabled=!0,this.fontColorDropDown.disabled=!0,this.fontColorElement.style.pointerEvents="none",this.fontColorElement.style.opacity="0.5",p.style.pointerEvents="none",p.style.opacity="0.5",this.formFieldFontSize.enabled=!1,this.formFieldFontFamily.enabled=!1,a.style.pointerEvents="none",l.style.pointerEvents="none",h.style.pointerEvents="none",h.style.opacity="0.5");var g=(0,t.createElement)("div",{className:"e-pv-formfield-maxlength-group",id:this.pdfViewer.element.id+"formField_maxlength_group"}),u=(0,t.createElement)("div",{className:"e-pv-formfield-maxlength-icon",id:this.pdfViewer.element.id+"formField_maxlength"});g.appendChild(u),this.createLabelElement(this.pdfViewer.localeObj.getConstant("Max Length"),u,!0,"e-pv-properties-formfield-label",i+"_properties_formfield_maxlength");var f=(0,t.createElement)("div",{className:"e-pv-formfield-maxlength",id:this.pdfViewer.element.id+"formField_maxlength_container"}),m=(0,t.createElement)("input",{className:"e-pv-formfield-maxlength-input e-input"});m.setAttribute("aria-label","Max Length"),f.appendChild(m),g.appendChild(f),this.maxLengthItem=new Pe.NumericTextBox({format:"n",value:0!==e.maxLength?e.maxLength:0,min:0},m),A.appendChild(g),this.setToolTip(this.pdfViewer.localeObj.getConstant("Max Length"),this.maxLengthItem.element),"Textbox"!==e.formFieldAnnotationType&&"PasswordField"!==e.formFieldAnnotationType&&(this.maxLengthItem.enabled=!1,u.style.pointerEvents="none"),n.appendChild(A);var w=(0,t.createElement)("div",{className:"e-pv-properties-color-container-style-prop"}),y=(0,t.createElement)("div",{className:"e-pv-properties-fill-color-style-prop"});n.appendChild(y),this.createLabelElement(this.pdfViewer.localeObj.getConstant("Fill"),y,!0,"e-pv-properties-formfield-label",i+"_properties_formfield_fontcolor"),this.colorDropDownElement=(0,t.createElement)("div",{className:"e-pv-formfield-fontcolor-icon",id:this.pdfViewer.element.id+"formField_fontColor"}),this.colorDropDownElement.setAttribute("role","combobox"),this.colorPalette=this.createColorPicker(this.colorDropDownElement.id,e.backgroundColor),this.colorPalette.change=this.onColorPickerChange.bind(this),this.colorDropDown=this.createDropDownButton(this.colorDropDownElement,"e-pv-annotation-color-icon",this.colorPalette.element.parentElement),this.setToolTip(this.pdfViewer.localeObj.getConstant("Fill Color"),this.colorDropDown.element),y.appendChild(this.colorDropDownElement),w.appendChild(y),this.updateColorInIcon(this.colorDropDownElement,this.pdfViewer.selectedItems.formFields[0].backgroundColor);var S=(0,t.createElement)("div",{className:"e-pv-properties-stroke-color-style-prop"});this.createLabelElement(this.pdfViewer.localeObj.getConstant("Border"),S,!0,"e-pv-properties-formfield-label",i+"_properties_formfield_strokecolor"),this.strokeDropDownElement=(0,t.createElement)("div",{className:"e-pv-formfield-strokecolor-icon",id:this.pdfViewer.element.id+"formField_strokeColor"}),this.strokeDropDownElement.setAttribute("role","combobox"),this.strokeColorPicker=this.createColorPicker(this.strokeDropDownElement.id,e.borderColor),this.strokeColorPicker.change=this.onStrokePickerChange.bind(this),this.strokeDropDown=this.createDropDownButton(this.strokeDropDownElement,"e-pv-annotation-stroke-icon",this.strokeColorPicker.element.parentElement),this.setToolTip(this.pdfViewer.localeObj.getConstant("Border Color"),this.strokeDropDown.element),S.appendChild(this.strokeDropDownElement),w.appendChild(S),this.updateColorInIcon(this.strokeDropDownElement,this.pdfViewer.selectedItems.formFields[0].borderColor);var C=(0,t.createElement)("div",{className:"e-pv-properties-stroke-thickness-style-prop"});this.createLabelElement(this.pdfViewer.localeObj.getConstant("Thickness"),C,!0,"e-pv-properties-formfield-label",i+"_properties_formfield_strokethickness"),this.thicknessElement=(0,t.createElement)("div",{className:"e-pv-formfield-strokethickness-icon",id:this.pdfViewer.element.id+"formField_strokethickness"}),this.thicknessElement.setAttribute("role","combobox");var B=this.createThicknessSlider(this.thicknessElement.id);return this.thicknessDropDown=this.createDropDownButton(this.thicknessElement,"e-pv-annotation-thickness-icon",B),this.thicknessDropDown.beforeOpen=this.thicknessDropDownBeforeOpen.bind(this),this.setToolTip(this.pdfViewer.localeObj.getConstant("Thickness"),this.thicknessDropDown.element),this.thicknessSlider.change=this.thicknessChange.bind(this),this.thicknessSlider.changed=this.thicknessChange.bind(this),C.appendChild(this.thicknessElement),w.appendChild(C),n.appendChild(w),n},e.prototype.thicknessChange=function(e){1===this.pdfViewer.selectedItems.formFields.length&&(this.formFieldBorderWidth=e.value,this.updateThicknessIndicator())},e.prototype.thicknessDropDownBeforeOpen=function(){1===this.pdfViewer.selectedItems.formFields.length&&(this.formFieldBorderWidth=this.pdfViewer.selectedItems.formFields[0].thickness.toString(),this.thicknessSlider.value=this.pdfViewer.selectedItems.formFields[0].thickness),this.updateThicknessIndicator()},e.prototype.updateThicknessIndicator=function(){this.thicknessIndicator.textContent=this.thicknessSlider.value+" pt"},e.prototype.createOptionProperties=function(){var e=this,i=this.pdfViewer.element.id,n=(0,t.createElement)("div",{id:i+"_option_prop_appearance"}),o=(0,t.createElement)("div",{className:"e-pv-properties-form-field-list-add-div"}),r=(0,t.createElement)("div",{className:"e-pv-properties-form-field-list-item-main-div"});this.createLabelElement(this.pdfViewer.localeObj.getConstant("List Item"),r,!0,"e-pv-properties-formfield-label",i+"_properties_formfield_listitem");var a=(0,t.createElement)("div",{className:"e-pv-properties-list-item-edit-prop"}),s=(0,t.createElement)("input",{className:"e-pv-properties-list-item-input e-input"});s.setAttribute("aria-label","Item Name"),s.addEventListener("keyup",(function(t){if(e.formFieldAddButton.disabled=!0,e.formFieldListItem.value=t.target.value,t.target&&t.target.value)if(e.formFieldListItemCollection.length>0)for(var i=0;i<e.formFieldListItemCollection.length;i++){if(e.formFieldListItemCollection[parseInt(i.toString(),10)]===t.target.value){e.formFieldAddButton.disabled=!0;break}e.formFieldAddButton.disabled=!1}else e.formFieldAddButton.disabled=!1})),a.appendChild(s),r.appendChild(a),this.formFieldListItem=new Pe.TextBox({type:"text",cssClass:"e-pv-properties-formfield-listitem"},s),o.appendChild(r),n.appendChild(o);var l=(0,t.createElement)("div",{className:"e-pv-properties-form-field-list-btn-div"}),d=(0,t.createElement)("button",{className:"e-btn"});d.addEventListener("click",this.addListItemOnClick.bind(this)),l.appendChild(d),this.formFieldAddButton=new Ad.Button({content:this.pdfViewer.localeObj.getConstant("Add"),disabled:!0,cssClass:"e-pv-properties-dropdown-btn"},d),o.appendChild(l);var h=(0,t.createElement)("div",{className:"e-pv-properties-form-field-export-value-div"}),A=(0,t.createElement)("div",{className:"e-pv-properties-form-field-export-value-main-div"});this.createLabelElement(this.pdfViewer.localeObj.getConstant("Export Value"),A,!0,"e-pv-properties-formfield-label",i+"_properties_formfield_exportValue");var p=(0,t.createElement)("div",{className:"e-pv-properties-export-value-edit-prop"}),c=(0,t.createElement)("input",{className:"e-pv-properties-export-value-input e-input"});c.setAttribute("aria-label","Item Value"),p.appendChild(c),A.appendChild(p),this.formFieldListItem=new Pe.TextBox({type:"text",cssClass:"e-pv-properties-formfield-exportvalue"},c),h.appendChild(A),n.appendChild(h);var g=(0,t.createElement)("div",{className:"e-pv-properties-form-field-option-dropdown-list-div"}),u=(0,t.createElement)("div",{className:"e-pv-properties-form-field-option-dropdown-list-item-div"});"DropdownList"===this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType?this.createLabelElement(this.pdfViewer.localeObj.getConstant("Dropdown Item List"),u,!0,"e-pv-properties-formfield-label",i+"_properties_formfield_dropdown_listitem"):this.createLabelElement(this.pdfViewer.localeObj.getConstant("List Box Item List"),u,!0,"e-pv-properties-formfield-label",i+"_properties_formfield_dropdown_listitem"),g.appendChild(u);var f=(0,t.createElement)("div",{className:"e-pv-properties-form-field-btn-textarea-container"}),m=(0,t.createElement)("div",{className:"e-pv-properties-formfield-textarea",styles:"width:300px;height:123px;border:1px solid #E0E0E0;margin-right:15px;overflow:auto"}),w=(0,t.createElement)("ul",{id:this.pdfViewer.element.id+"_ul_list_item",className:"e-pv-form-designer-ul-list-items"}),y=this.createListElement(w);m.appendChild(w),f.appendChild(m);var S=(0,t.createElement)("div",{className:"e-pv-properties-form-field-group-btn-div"}),C=(0,t.createElement)("div",{className:"e-pv-properties-form-field-delete-btn-div"}),B=(0,t.createElement)("button",{className:"e-btn"});B.addEventListener("click",this.deleteListItem.bind(this)),C.appendChild(B),this.formFieldDeleteButton=new Ad.Button({content:this.pdfViewer.localeObj.getConstant("Delete Item"),disabled:!(y>0),cssClass:"e-pv-properties-dropdown-btn"},B),S.appendChild(C);var I=(0,t.createElement)("div",{className:"e-pv-properties-form-field-up-btn-div"}),b=(0,t.createElement)("button",{className:"e-btn"});b.addEventListener("click",this.moveUpListItem.bind(this)),I.appendChild(b),this.formFieldUpButton=new Ad.Button({content:this.pdfViewer.localeObj.getConstant("Up"),disabled:!(y>1),cssClass:"e-pv-properties-dropdown-btn"},b),S.appendChild(I);var v=(0,t.createElement)("div",{className:"e-pv-properties-form-field-down-btn-div"}),E=(0,t.createElement)("button",{className:"e-btn"});return E.addEventListener("click",this.moveDownListItem.bind(this)),v.appendChild(E),this.formFieldDownButton=new Ad.Button({content:this.pdfViewer.localeObj.getConstant("Down"),disabled:!0,cssClass:"e-pv-properties-dropdown-btn"},E),S.appendChild(v),f.appendChild(S),g.appendChild(f),n.appendChild(g),n},e.prototype.addListItemOnClick=function(){var e=this.formFieldListItem.value;this.formFieldListItemCollection.push(e);var i=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(i.children&&i.children.length>0)for(var n=0;n<i.children.length;n++){var o=i.children[parseInt(n.toString(),10)];o.classList.contains("e-pv-li-select")&&o.classList.remove("e-pv-li-select")}var r=(0,t.createElement)("li",{className:"e-pv-formfield-li-element"});r.addEventListener("click",this.listItemOnClick.bind(this)),r.innerHTML=e,r.classList.add("e-pv-li-select"),i.appendChild(r),this.formFieldDeleteButton.disabled=!1,this.formFieldAddButton.disabled=!0,r.previousElementSibling&&(this.formFieldUpButton.disabled=!1),r.nextElementSibling||(this.formFieldDownButton.disabled=!0)},e.prototype.listItemOnClick=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(t.children&&t.children.length>0)for(var i=0;i<t.children.length;i++){var n=t.children[parseInt(i.toString(),10)];n.classList.contains("e-pv-li-select")&&n.classList.remove("e-pv-li-select")}e.target&&e.target.classList.add("e-pv-li-select"),e.target.nextElementSibling?this.formFieldDownButton.disabled=!1:this.formFieldDownButton.disabled=!0,e.target.previousElementSibling?this.formFieldUpButton.disabled=!1:this.formFieldUpButton.disabled=!0},e.prototype.deleteListItem=function(){var e=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++){var i=e.children[parseInt(t.toString(),10)];i.classList.contains("e-pv-li-select")&&(i.classList.remove("e-pv-li-select"),this.formFieldListItemCollection.splice(t,1),i.previousElementSibling?(i.previousElementSibling.classList.add("e-pv-li-select"),i.previousElementSibling.previousElementSibling||(this.formFieldUpButton.disabled=!0)):i.nextElementSibling&&(i.nextElementSibling.classList.add("e-pv-li-select"),i.nextElementSibling.nextElementSibling||(this.formFieldDownButton.disabled=!0)),i.remove())}e.children&&0===e.children.length&&(this.formFieldDeleteButton.disabled=!0,this.formFieldUpButton.disabled=!0,this.formFieldDownButton.disabled=!0),e.children&&1===e.children.length&&(this.formFieldDeleteButton.disabled=!1,this.formFieldUpButton.disabled=!0,this.formFieldDownButton.disabled=!0)},e.prototype.moveUpListItem=function(){var e=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++){var i=e.children[parseInt(t.toString(),10)];i.classList.contains("e-pv-li-select")&&(i.previousElementSibling?(i.parentNode.insertBefore(i,i.previousElementSibling),i.previousElementSibling||(this.formFieldUpButton.disabled=!0)):this.formFieldUpButton.disabled=!0,i.nextElementSibling&&(this.formFieldDownButton.disabled=!1))}},e.prototype.moveDownListItem=function(){var e,t=document.getElementById(this.pdfViewer.element.id+"_ul_list_item");if(t.children&&t.children.length>0)for(var i=0;i<t.children.length;i++)if((e=t.children[parseInt(i.toString(),10)]).classList.contains("e-pv-li-select")){if(e.nextElementSibling){e.parentNode.insertBefore(e.nextElementSibling,e);break}this.formFieldDownButton.disabled=!0}e.nextElementSibling||(this.formFieldDownButton.disabled=!0),e.previousElementSibling&&(this.formFieldUpButton.disabled=!1)},e.prototype.createListElement=function(e){var i=this.pdfViewer.selectedItems.formFields[0];if(i&&i.options&&i.options.length>0){for(var n=0;n<i.options.length;n++){var o=i.options[parseInt(n.toString(),10)].itemName;if(this.formFieldListItemCollection[parseInt(n.toString(),10)]!==i.options[parseInt(n.toString(),10)].itemName){this.formFieldListItemCollection.push(o);var r=(0,t.createElement)("li",{className:"e-pv-formfield-li-element"});r.addEventListener("click",this.listItemOnClick.bind(this)),r.addEventListener("focus",this.focusFormFields.bind(this)),r.addEventListener("blur",this.blurFormFields.bind(this)),r.innerHTML=o,e.appendChild(r)}}e.children[e.children.length-1].classList.add("e-pv-li-select")}return e.children.length},e.prototype.createThicknessSlider=function(e){var i=(0,t.createElement)("div",{className:"e-pv-annotation-thickness-popup-container"});document.body.appendChild(i);var n=(0,t.createElement)("span",{id:e+"_label",className:"e-pv-annotation-thickness-label"});n.textContent=this.pdfViewer.localeObj.getConstant("Line Thickness");var o=(0,t.createElement)("div",{id:e+"_slider"});return this.thicknessSlider=new Pe.Slider({type:"MinRange",cssClass:"e-pv-annotation-thickness-slider",max:12,min:0}),this.thicknessIndicator=(0,t.createElement)("div",{id:e+"_thickness_indicator",className:"e-pv-annotation-thickness-indicator"}),this.thicknessIndicator.textContent="0 pt",this.pdfViewer.enableRtl?(i.appendChild(this.thicknessIndicator),i.appendChild(o),this.thicknessSlider.enableRtl=!0,this.thicknessSlider.appendTo(o),i.appendChild(n)):(i.appendChild(n),i.appendChild(o),this.thicknessSlider.appendTo(o),i.appendChild(this.thicknessIndicator)),this.thicknessSlider.element.parentElement.classList.add("e-pv-annotation-thickness-slider-container"),i},e.prototype.createColorPicker=function(e,i){var n=(0,t.createElement)("input",{id:e+"_target"});document.body.appendChild(n);var o=new Pe.ColorPicker({inline:!0,mode:"Palette",cssClass:"e-show-value",enableOpacity:!1,value:i,showButtons:!1,modeSwitcher:!1});return this.pdfViewer.enableRtl&&(o.enableRtl=!0),o.appendTo(n),o},e.prototype.fontStyleClicked=function(e){if(e.target)if(-1!==e.target.id.indexOf("formField_bold"))(t=-1!==e.target.id.indexOf("formField_bold_div")?e.target:e.target.parentElement).classList.contains("e-pv-li-select")&&(this.isBold=!0),this.isBold=!this.isBold,this.isBold?(this.formFieldBold="bold",t.classList.add("e-pv-li-select")):(this.formFieldBold="normal",t.classList.remove("e-pv-li-select"));else if(-1!==e.target.id.indexOf("formField_italic")){(t=-1!==e.target.id.indexOf("formField_italic_div")?e.target:e.target.parentElement).classList.contains("e-pv-li-select")&&(this.isItalic=!0),this.isItalic=!this.isItalic,this.isItalic?(this.formFieldItalic="italic",t.classList.add("e-pv-li-select")):(this.formFieldItalic="normal",t.classList.remove("e-pv-li-select"))}else if(-1!==e.target.id.indexOf("formField_underline")){(t=-1!==e.target.id.indexOf("formField_underline_textinput_div")?e.target:e.target.parentElement).classList.contains("e-pv-li-select")&&(this.isUnderline=!0),this.isUnderline=!this.isUnderline,this.isUnderline?(this.formFieldUnderline="underline",this.isStrikeThrough=!1,t.classList.add("e-pv-li-select")):(this.formFieldUnderline="none",t.classList.remove("e-pv-li-select"))}else if(-1!==e.target.id.indexOf("formField_strikeout")){var t;(t=-1!==e.target.id.indexOf("formField_strikeout_div")?e.target:e.target.parentElement).classList.contains("e-pv-li-select")&&(this.isStrikeThrough=!0),this.isStrikeThrough=!this.isStrikeThrough,this.isStrikeThrough?(this.formFieldStrikeOut="line-through",this.isUnderline=!1,t.classList.add("e-pv-li-select")):(this.formFieldStrikeOut="none",t.classList.remove("e-pv-li-select"))}},e.prototype.clearFontAlignIconSelection=function(e){for(var t=0;t<e.children.length;t++)e.children[parseInt(t.toString(),10)].classList.contains("e-pv-li-select")&&e.children[parseInt(t.toString(),10)].classList.remove("e-pv-li-select")},e.prototype.fontAlignClicked=function(e){if(e.target)if(e.target.classList.remove("e-pv-li-select"),-1!==e.target.id.indexOf("_formField_left_align")){var t=-1!==e.target.id.indexOf("_formField_left_align_div")?e.target:e.target.parentElement;this.formFieldAlign="left",this.clearFontAlignIconSelection(e.currentTarget),t.classList.add("e-pv-li-select")}else if(-1!==e.target.id.indexOf("_formField_right_align")){t=-1!==e.target.id.indexOf("_formField_right_align_div")?e.target:e.target.parentElement;this.formFieldAlign="right",this.clearFontAlignIconSelection(e.currentTarget),t.classList.add("e-pv-li-select")}else{t=-1!==e.target.id.indexOf("_formField_center_align_div")?e.target:e.target.parentElement;this.formFieldAlign="center",this.clearFontAlignIconSelection(e.currentTarget),t.classList.add("e-pv-li-select")}},e.prototype.onFontColorChange=function(e){this.fontColorValue=""===e.currentValue.hex?"#ffffff00":e.currentValue.hex,this.updateColorInIcon(this.fontColorElement,this.fontColorValue),this.fontColorDropDown.toggle()},e.prototype.onColorPickerChange=function(e){this.backgroundColorValue=""===e.currentValue.hex?"#ffffff00":e.currentValue.hex,this.updateColorInIcon(this.colorDropDownElement,this.backgroundColorValue),this.colorDropDown.toggle()},e.prototype.updateColorInIcon=function(e,t){e.childNodes[0].style.borderBottomColor=t},e.prototype.onStrokePickerChange=function(e){this.borderColorValue=""===e.currentValue.hex?"#ffffff00":e.currentValue.hex,this.updateColorInIcon(this.strokeDropDownElement,this.borderColorValue),this.strokeDropDown.toggle()},e.prototype.createDropDownButton=function(e,t,i){var n=document.getElementById(i.id+"-popup");n&&n.remove();var o=new Re.DropDownButton({iconCss:t+" e-pv-icon",target:i});return this.pdfViewer.enableRtl&&(o.enableRtl=!0),o.appendTo(e),o},e.prototype.addClassFontItem=function(e,i,n){var o=(0,t.createElement)("div",{id:this.pdfViewer.element.id+e+"_div"});o.classList.add(i+"-div");var r=(0,t.createElement)("span",{id:this.pdfViewer.element.id+e+"_span"});switch(r.classList.add(i),r.classList.add("e-pv-icon"),i){case"e-pv-bold-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Bold"),o);break;case"e-pv-italic-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Italic"),o);break;case"e-pv-underlinetext-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Underlines"),o);break;case"e-pv-strikeout-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Strikethroughs"),o);break;case"e-pv-left-align-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Align left"),o);break;case"e-pv-center-align-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Center"),o);break;case"e-pv-right-align-icon":this.setToolTip(this.pdfViewer.localeObj.getConstant("Align right"),o)}return n&&o.classList.add("e-pv-li-select"),o.appendChild(r),o},e.prototype.createLabelElement=function(e,i,n,o,r){var a=(0,t.createElement)("div",{id:r+"_container",className:o+"-container"}),s=null;n&&((s=(0,t.createElement)("div",{id:r+"_label",className:o})).textContent=e,a.appendChild(s)),i.appendChild(s)},e.prototype.setReadOnlyToFormField=function(e,t){for(var i=0;i<this.pdfViewer.formFieldCollection.length;i++){var n=this.pdfViewer.formFieldCollection[parseInt(i.toString(),10)];if(n.formFieldAnnotationType===e.formFieldAnnotationType&&n.name===e.name&&n.id===e.id)switch(n.isReadonly=t,n.formFieldAnnotationType){case"Textbox":case"PasswordField":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":case"RadioButton":var o=document.getElementById(n.id+"_content_html_element").firstElementChild.firstElementChild;this.setReadOnlyToElement(n,o,t);break;case"Checkbox":var r=document.getElementById(n.id+"_content_html_element").firstElementChild.firstElementChild.lastElementChild;this.setReadOnlyToElement(n,r,t)}}},e.prototype.getFormDesignerSignField=function(e){for(var t,i=this.pdfViewer.formFieldCollections,n=0;n<i.length;n++)"SignatureField"!==(t=i[parseInt(n.toString(),10)].type)&&"InitialField"!==t||e.push(i[parseInt(n.toString(),10)]);return e},e.prototype.setRequiredToFormField=function(e,t){for(var i=0;i<this.pdfViewer.formFieldCollection.length;i++){var n=this.pdfViewer.formFieldCollection[parseInt(i.toString(),10)];if(n.formFieldAnnotationType===e.formFieldAnnotationType&&n.name===e.name&&n.id===e.id)switch(n.isRequired=t,n.formFieldAnnotationType){case"Textbox":case"PasswordField":case"DropdownList":case"SignatureField":case"InitialField":var o=document.getElementById(n.id+"_content_html_element").firstElementChild.firstElementChild;this.setRequiredToElement(n,o,t);break;case"RadioButton":var r=document.getElementById(n.id+"_content_html_element").firstElementChild.firstElementChild.firstElementChild;this.setRequiredToElement(n,r,t),this.updateFormFieldCollections(n);break;case"Checkbox":var a=document.getElementById(n.id+"_content_html_element").firstElementChild.firstElementChild.lastElementChild;this.setRequiredToElement(n,a,t)}}},e.prototype.isTransparentBackground=function(e){return"object"==typeof e&&(e=JSON.stringify(e)),"#00000000"===e||"transparent"===e||"rgba(0,0,0,0)"===e||'{"r":0,"g":0,"b":0,"a":0}'===e},e.prototype.setReadOnlyToElement=function(e,i,n){var o="#daeaf7ff",r={r:218,g:234,b:247,a:100};if("DropdownList"!==e.formFieldAnnotationType&&"ListBox"!==e.formFieldAnnotationType||(i.parentElement.style.backgroundColor=i.style.backgroundColor),n)if("RadioButton"===e.formFieldAnnotationType)i.parentElement.style.cursor="default";else if("SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType){var a=(0,t.isNullOrUndefined)(e.thickness)?e.thickness:1;i.parentElement.style.borderWidth=a}else i.style.cursor="default";if(n&&this.isAddFormFieldProgrammatically&&(this.previousBackgroundColor=e.backgroundColor),"RadioButton"===e.formFieldAnnotationType)i.style.backgroundColor=e.isReadonly?e.backgroundColor!==o&&JSON.stringify(e.backgroundColor)!==JSON.stringify(r)?e.backgroundColor:"transparent":this.isTransparentBackground(e.backgroundColor)?o:e.backgroundColor;else if("SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType){if(!(0,t.isNullOrUndefined)(e)&&""===e.value){var s=e.backgroundColor?e.backgroundColor:"#FFE48559";i.parentElement.style.backgroundColor=n?s:nd.setTransparencyToHex(s)}}else i.style.backgroundColor=e.isReadonly?e.backgroundColor!==o?e.backgroundColor:"transparent":this.isTransparentBackground(e.backgroundColor)?o:e.backgroundColor!==this.previousBackgroundColor?e.backgroundColor:this.previousBackgroundColor;e.backgroundColor=e.isReadonly?e.backgroundColor!==o&&JSON.stringify(e.backgroundColor)!==JSON.stringify(r)?e.backgroundColor:"transparent":this.isTransparentBackground(e.backgroundColor)?o:e.backgroundColor!==this.previousBackgroundColor?e.backgroundColor:this.previousBackgroundColor},e.prototype.setRequiredToElement=function(e,t,i){if(i){if(t.required=!0,t.style.border="1px solid red","RadioButton"===e.formFieldAnnotationType){var n=0===e.thickness?1:e.thickness;t.parentElement.style.boxShadow="red 0px 0px 0px "+n+"px"}else if("SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType){n=e.thickness>0?e.thickness:1;t.style.border=n+"px solid red"}}else t.required=!1,"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType?t.style.borderWidth=e.thickness:t.style.borderWidth=e.thickness+"px",t.style.borderColor=e.borderColor,"RadioButton"===e.formFieldAnnotationType&&(t.parentElement.style.boxShadow=e.borderColor+" 0px 0px 0px "+e.thickness+"px")},e.prototype.destroyPropertiesWindow=function(){this.formFieldListItemCollection=[],this.formFieldListItemDataSource=[],this.formFieldFontFamily=null,this.formFieldFontSize=null,this.formFieldAlign=null,this.fontColorValue=null,this.backgroundColorValue=null,this.borderColorValue=null,this.formFieldBorderWidth=null,this.formFieldName=null,this.formFieldChecked=null,this.formFieldReadOnly=null,this.formFieldRequired=null,this.formFieldTooltip=null,this.formFieldPrinting=null,this.formFieldMultiline=null,this.formFieldVisibility=null,this.strokeColorPicker&&(this.strokeColorPicker.destroy(),this.strokeColorPicker=null),this.strokeDropDown&&(this.strokeDropDown.destroy(),this.strokeDropDown=null),this.strokeDropDownElement&&(this.strokeDropDownElement=null),this.colorDropDownElement&&(this.colorDropDownElement=null),this.colorPalette&&(this.colorPalette.destroy(),this.colorPalette=null),this.colorDropDown&&(this.colorDropDown.destroy(),this.colorDropDown=null),this.thicknessElement&&(this.thicknessElement=null),this.thicknessDropDown&&(this.thicknessDropDown.destroy(),this.thicknessDropDown=null),this.fontColorDropDown&&(this.fontColorDropDown.destroy(),this.fontColorDropDown=null),this.fontColorPalette&&(this.fontColorPalette.destroy(),this.fontColorPalette=null),this.maxLengthItem&&(this.maxLengthItem.destroy(),this.maxLengthItem=null);var e=this.pdfViewerBase.getElement("_properties_window");e&&e.parentElement.removeChild(e)},e.prototype.destroy=function(){if(this.destroyPropertiesWindow(),null!=this.formFieldTooltips){for(var e=0;e<this.formFieldTooltips.length;e++)this.formFieldTooltips[parseInt(e.toString(),10)].destroy();this.formFieldTooltips=[]}},e.prototype.hex=function(e){return("0"+e.toString(16)).slice(-2)},e.prototype.getModuleName=function(){return"FormDesigner"},e.prototype.updateAnnotationCanvas=function(e,t,i,n){var o=this.pdfViewerBase.getZoomRatio();e.width=t*o,e.height=i*o,e.style.width=t+"px",e.style.height=i+"px",e.style.position="absolute",e.style.zIndex="1",this.pdfViewerBase.applyElementStyles(e,n)},e.prototype.getFontFamily=function(e){return["Helvetica","Courier","Times New Roman","Symbol","ZapfDingbats"].indexOf(e)>-1},e.prototype.updateTextFieldSettingProperties=function(e,i,n){var o=this.pdfViewer.textFieldSettings;!(0,t.isNullOrUndefined)(o.isReadOnly)&&this.textFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=o.isReadOnly),!(0,t.isNullOrUndefined)(o.isRequired)&&this.textFieldPropertyChanged.isRequiredChanged&&(e.isRequired=o.isRequired),o.value&&this.textFieldPropertyChanged.isValueChanged&&(e.value=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.value):o.value),o.backgroundColor&&"white"!==o.backgroundColor&&this.textFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.backgroundColor):o.backgroundColor),o.borderColor&&"black"!==o.borderColor&&this.textFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.borderColor):o.borderColor),o.alignment&&"Left"!==o.alignment&&this.textFieldPropertyChanged.isAlignmentChanged&&(e.alignment=o.alignment),o.color&&"black"!==o.color&&this.textFieldPropertyChanged.isColorChanged&&(e.color=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.color):o.color),o.fontFamily&&"Helvetica"!==o.fontFamily&&this.textFieldPropertyChanged.isFontFamilyChanged&&(e.fontFamily=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.fontFamily):o.fontFamily),o.fontSize&&10!==o.fontSize&&this.textFieldPropertyChanged.isFontSizeChanged&&(e.fontSize=o.fontSize),o.fontStyle&&this.textFieldPropertyChanged.isFontStyleChanged&&(e.fontStyle=this.getFontStyleName(o.fontStyle,e)),o.name&&this.textFieldPropertyChanged.isNameChanged&&(e.name=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.name):o.name),o.tooltip&&this.textFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.tooltip):o.tooltip),o.thickness&&1!==o.thickness&&this.textFieldPropertyChanged.isThicknessChanged&&(e.thickness=o.thickness),o.maxLength&&this.textFieldPropertyChanged.isMaxLengthChanged&&(e.maxLength=o.maxLength),o.visibility&&this.textFieldPropertyChanged.isVisibilityChanged&&(e.visibility=o.visibility),!(0,t.isNullOrUndefined)(o.isPrint)&&this.textFieldPropertyChanged.isPrintChanged&&(e.isPrint=o.isPrint),!(0,t.isNullOrUndefined)(o.isMultiline)&&this.textFieldPropertyChanged.isMultilineChanged&&(e.isMultiline=o.isMultiline),!(0,t.isNullOrUndefined)(o.customData)&&this.textFieldPropertyChanged.isCustomDataChanged&&(e.customData=o.customData)},e.prototype.updatePasswordFieldSettingProperties=function(e,i,n){var o=this.pdfViewer.passwordFieldSettings;!(0,t.isNullOrUndefined)(o.isReadOnly)&&this.passwordFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=o.isReadOnly),!(0,t.isNullOrUndefined)(o.isRequired)&&this.passwordFieldPropertyChanged.isRequiredChanged&&(e.isRequired=o.isRequired),o.value&&this.passwordFieldPropertyChanged.isValueChanged&&(e.value=o.value),o.backgroundColor&&"white"!==o.backgroundColor&&this.passwordFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.backgroundColor):o.backgroundColor),o.borderColor&&"black"!==o.borderColor&&this.passwordFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.borderColor):o.borderColor),o.alignment&&"Left"!==o.alignment&&this.passwordFieldPropertyChanged.isAlignmentChanged&&(e.alignment=o.alignment),o.color&&"black"!==o.color&&this.passwordFieldPropertyChanged.isColorChanged&&(e.color=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.color):o.color),o.fontFamily&&"Helvetica"!==o.fontFamily&&this.passwordFieldPropertyChanged.isFontFamilyChanged&&(e.fontFamily=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.fontFamily):o.fontFamily),o.fontSize&&10!==o.fontSize&&this.passwordFieldPropertyChanged.isFontSizeChanged&&(e.fontSize=o.fontSize),o.fontStyle&&this.passwordFieldPropertyChanged.isFontStyleChanged&&(e.fontStyle=this.getFontStyleName(o.fontStyle,e)),o.name&&this.passwordFieldPropertyChanged.isNameChanged&&(e.name=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.name):o.name),o.tooltip&&this.passwordFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.tooltip):o.tooltip),o.thickness&&1!==o.thickness&&this.passwordFieldPropertyChanged.isThicknessChanged&&(e.thickness=o.thickness),o.maxLength&&this.passwordFieldPropertyChanged.isMaxLengthChanged&&(e.maxLength=o.maxLength),o.visibility&&this.passwordFieldPropertyChanged.isVisibilityChanged&&(e.visibility=o.visibility),!(0,t.isNullOrUndefined)(o.isPrint)&&this.passwordFieldPropertyChanged.isPrintChanged&&(e.isPrint=o.isPrint),!(0,t.isNullOrUndefined)(o.customData)&&this.passwordFieldPropertyChanged.isCustomDataChanged&&(e.customData=o.customData)},e.prototype.updateCheckBoxFieldSettingsProperties=function(e,i,n){var o=this.pdfViewer.checkBoxFieldSettings;!(0,t.isNullOrUndefined)(o.isReadOnly)&&this.checkBoxFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=o.isReadOnly),!(0,t.isNullOrUndefined)(o.isRequired)&&this.checkBoxFieldPropertyChanged.isRequiredChanged&&(e.isRequired=o.isRequired),o.value&&this.checkBoxFieldPropertyChanged.isValueChanged&&(e.value=o.value),o.backgroundColor&&"white"!==o.backgroundColor&&this.checkBoxFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.backgroundColor):o.backgroundColor),o.borderColor&&"black"!==o.borderColor&&this.checkBoxFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.borderColor):o.borderColor),o.name&&this.checkBoxFieldPropertyChanged.isNameChanged&&(e.name=t.SanitizeHtmlHelper.sanitize(o.name)),o.tooltip&&this.checkBoxFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.tooltip):o.tooltip),o.thickness&&1!==o.thickness&&this.checkBoxFieldPropertyChanged.isThicknessChanged&&(e.thickness=o.thickness),o.visibility&&this.checkBoxFieldPropertyChanged.isVisibilityChanged&&(e.visibility=o.visibility),!(0,t.isNullOrUndefined)(o.isPrint)&&this.checkBoxFieldPropertyChanged.isPrintChanged&&(e.isPrint=o.isPrint),!(0,t.isNullOrUndefined)(o.isChecked)&&this.checkBoxFieldPropertyChanged.isCheckedChanged&&(e.isChecked=o.isChecked),!(0,t.isNullOrUndefined)(o.customData)&&this.checkBoxFieldPropertyChanged.isCustomDataChanged&&(e.customData=o.customData)},e.prototype.updateRadioButtonFieldSettingProperties=function(e,i,n){var o=this.pdfViewer.radioButtonFieldSettings;!(0,t.isNullOrUndefined)(o.isReadOnly)&&this.radioButtonFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=o.isReadOnly),!(0,t.isNullOrUndefined)(o.isRequired)&&this.radioButtonFieldPropertyChanged.isRequiredChanged&&(e.isRequired=o.isRequired),o.value&&this.radioButtonFieldPropertyChanged.isValueChanged&&(e.value=o.value),o.backgroundColor&&"white"!==o.backgroundColor&&this.radioButtonFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.backgroundColor):o.backgroundColor),o.borderColor&&"black"!==o.borderColor&&this.radioButtonFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.borderColor):o.borderColor),o.name&&this.radioButtonFieldPropertyChanged.isNameChanged&&(e.name=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.name):o.name),o.tooltip&&this.radioButtonFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.tooltip):o.tooltip),o.thickness&&1!==o.thickness&&this.radioButtonFieldPropertyChanged.isThicknessChanged&&(e.thickness=o.thickness),o.visibility&&this.radioButtonFieldPropertyChanged.isVisibilityChanged&&(e.visibility=o.visibility),!(0,t.isNullOrUndefined)(o.isPrint)&&this.radioButtonFieldPropertyChanged.isPrintChanged&&(e.isPrint=o.isPrint),!(0,t.isNullOrUndefined)(o.isSelected)&&this.radioButtonFieldPropertyChanged.isSelectedChanged&&(e.isSelected=o.isSelected),!(0,t.isNullOrUndefined)(o.customData)&&this.radioButtonFieldPropertyChanged.isCustomDataChanged&&(e.customData=o.customData)},e.prototype.updateDropdownFieldSettingsProperties=function(e,i,n){var o=this.pdfViewer.DropdownFieldSettings;!(0,t.isNullOrUndefined)(o.isReadOnly)&&this.dropdownFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=o.isReadOnly),!(0,t.isNullOrUndefined)(o.isRequired)&&this.dropdownFieldPropertyChanged.isRequiredChanged&&(e.isRequired=o.isRequired),o.backgroundColor&&"white"!==o.backgroundColor&&this.dropdownFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.backgroundColor):o.backgroundColor),o.borderColor&&"black"!==o.borderColor&&this.dropdownFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.borderColor):o.borderColor),o.alignment&&"Left"!==o.alignment&&this.dropdownFieldPropertyChanged.isAlignmentChanged&&(e.alignment=o.alignment),o.color&&"black"!==o.color&&this.dropdownFieldPropertyChanged.isColorChanged&&(e.color=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.color):o.color),o.fontFamily&&"Helvetica"!==o.fontFamily&&this.dropdownFieldPropertyChanged.isFontFamilyChanged&&(e.fontFamily=t.SanitizeHtmlHelper.sanitize(o.fontFamily)),o.fontSize&&10!==o.fontSize&&this.dropdownFieldPropertyChanged.isFontSizeChanged&&(e.fontSize=o.fontSize),o.fontStyle&&this.dropdownFieldPropertyChanged.isFontStyleChanged&&(e.fontStyle=this.getFontStyleName(o.fontStyle,e)),o.name&&this.dropdownFieldPropertyChanged.isNameChanged&&(e.name=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.name):o.name),o.tooltip&&this.dropdownFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.tooltip):o.tooltip),o&&1!==o.thickness&&this.dropdownFieldPropertyChanged.isThicknessChanged&&(e.thickness=o.thickness),o.visibility&&this.dropdownFieldPropertyChanged.isVisibilityChanged&&(e.visibility=o.visibility),!(0,t.isNullOrUndefined)(o.isPrint)&&this.dropdownFieldPropertyChanged.isPrintChanged&&(e.isPrint=o.isPrint),o.options&&this.dropdownFieldPropertyChanged.isOptionChanged&&(e.options=e.options&&e.options.length>0?e.options:o.options),!(0,t.isNullOrUndefined)(o.customData)&&this.dropdownFieldPropertyChanged.isCustomDataChanged&&(e.customData=o.customData)},e.prototype.updatelistBoxFieldSettingsProperties=function(e,i,n){var o=this.pdfViewer.listBoxFieldSettings;!(0,t.isNullOrUndefined)(o.isReadOnly)&&this.listBoxFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=o.isReadOnly),!(0,t.isNullOrUndefined)(o.isRequired)&&this.listBoxFieldPropertyChanged.isRequiredChanged&&(e.isRequired=o.isRequired),o.backgroundColor&&"white"!==o.backgroundColor&&this.listBoxFieldPropertyChanged.isBackgroundColorChanged&&(e.backgroundColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.backgroundColor):o.backgroundColor),o.borderColor&&"black"!==o.borderColor&&this.listBoxFieldPropertyChanged.isBorderColorChanged&&(e.borderColor=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.borderColor):o.borderColor),o.alignment&&"Left"!==o.alignment&&this.listBoxFieldPropertyChanged.isAlignmentChanged&&(e.alignment=o.alignment),o.color&&"black"!==o.color&&this.listBoxFieldPropertyChanged.isColorChanged&&(e.color=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.color):o.color),o.fontFamily&&"Helvetica"!==o.fontFamily&&this.listBoxFieldPropertyChanged.isFontFamilyChanged&&(e.fontFamily=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.fontFamily):o.fontFamily),o.fontSize&&10!==o.fontSize&&this.listBoxFieldPropertyChanged.isFontSizeChanged&&(e.fontSize=o.fontSize),o.fontStyle&&this.listBoxFieldPropertyChanged.isFontStyleChanged&&(e.fontStyle=this.getFontStyleName(o.fontStyle,e)),o.name&&this.listBoxFieldPropertyChanged.isNameChanged&&(e.name=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.name):o.name),o.tooltip&&this.listBoxFieldPropertyChanged.isToolTipChanged&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(o.tooltip):o.tooltip),o.thickness&&1!==o.thickness&&this.listBoxFieldPropertyChanged.isThicknessChanged&&(e.thickness=o.thickness),o.visibility&&this.listBoxFieldPropertyChanged.isVisibilityChanged&&(e.visibility=o.visibility),!(0,t.isNullOrUndefined)(o.isPrint)&&this.listBoxFieldPropertyChanged.isPrintChanged&&(e.isPrint=o.isPrint),o.options&&this.listBoxFieldPropertyChanged.isOptionChanged&&(e.options=e.options&&e.options.length>0?e.options:o.options),!(0,t.isNullOrUndefined)(o.customData)&&this.listBoxFieldPropertyChanged.isCustomDataChanged&&(e.customData=o.customData)},e.prototype.updateSignInitialFieldProperties=function(e,i,n,o){var r=this.pdfViewer.initialFieldSettings,a=this.pdfViewer.signatureFieldSettings;i?(!(0,t.isNullOrUndefined)(r.isReadOnly)&&this.initialFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=r.isReadOnly),(0,t.isNullOrUndefined)(r.isRequired)||!this.initialFieldPropertyChanged.isRequiredChanged||this.pdfViewer.magnificationModule.isFormFieldPageZoomed||(e.isRequired=r.isRequired),r.visibility&&this.initialFieldPropertyChanged.isVisibilityChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.visibility=r.visibility),r.tooltip&&this.initialFieldPropertyChanged.isTooltipChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(r.tooltip):r.tooltip),!(0,t.isNullOrUndefined)(r.thickness)&&!0===o&&this.initialFieldPropertyChanged.isThicknessChanged&&(e.thickness=r.thickness),r.name&&this.initialFieldPropertyChanged.isNameChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.name=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(r.name):r.name),(0,t.isNullOrUndefined)(r.isPrint)||!this.initialFieldPropertyChanged.isPrintChanged||this.pdfViewer.magnificationModule.isFormFieldPageZoomed||(e.isPrint=r.isPrint),!(0,t.isNullOrUndefined)(r.customData)&&this.initialFieldPropertyChanged.isCustomDataChanged&&(e.customData=r.customData)):(!(0,t.isNullOrUndefined)(a.isReadOnly)&&this.signatureFieldPropertyChanged.isReadOnlyChanged&&(e.isReadonly=a.isReadOnly),(0,t.isNullOrUndefined)(a.isRequired)||!this.signatureFieldPropertyChanged.isRequiredChanged||this.pdfViewer.magnificationModule.isFormFieldPageZoomed||(e.isRequired=a.isRequired),a.visibility&&this.signatureFieldPropertyChanged.isVisibilityChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.visibility=a.visibility),a.tooltip&&this.signatureFieldPropertyChanged.isTooltipChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.tooltip=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(a.tooltip):a.tooltip),!(0,t.isNullOrUndefined)(a.thickness)&&!0===o&&this.signatureFieldPropertyChanged.isThicknessChanged&&(e.thickness=a.thickness),a.name&&this.signatureFieldPropertyChanged.isNameChanged&&!this.pdfViewer.magnificationModule.isFormFieldPageZoomed&&(e.name=this.pdfViewer.enableHtmlSanitizer?t.SanitizeHtmlHelper.sanitize(a.name):a.name),(0,t.isNullOrUndefined)(a.isPrint)||!this.signatureFieldPropertyChanged.isPrintChanged||this.pdfViewer.magnificationModule.isFormFieldPageZoomed||(e.isPrint=a.isPrint),!(0,t.isNullOrUndefined)(a.customData)&&this.signatureFieldPropertyChanged.isCustomDataChanged&&(e.customData=a.customData))},e.prototype.updateSignatureSettings=function(e,i){(i=!(0,t.isNullOrUndefined)(i)&&i)?(this.initialFieldPropertyChanged.isReadOnlyChanged=!(0,t.isNullOrUndefined)(e.isReadOnly),this.initialFieldPropertyChanged.isRequiredChanged=!(0,t.isNullOrUndefined)(e.isRequired),this.initialFieldPropertyChanged.isVisibilityChanged=!(0,t.isNullOrUndefined)(e.visibility),this.initialFieldPropertyChanged.isTooltipChanged=!(0,t.isNullOrUndefined)(e.tooltip),this.initialFieldPropertyChanged.isNameChanged=!(0,t.isNullOrUndefined)(e.name),this.initialFieldPropertyChanged.isPrintChanged=!(0,t.isNullOrUndefined)(e.isPrint),this.initialFieldPropertyChanged.isThicknessChanged=!(0,t.isNullOrUndefined)(e.thickness),this.initialFieldPropertyChanged.isCustomDataChanged=!(0,t.isNullOrUndefined)(e.customData)):(this.signatureFieldPropertyChanged.isReadOnlyChanged=!(0,t.isNullOrUndefined)(e.isReadOnly),this.signatureFieldPropertyChanged.isRequiredChanged=!(0,t.isNullOrUndefined)(e.isRequired),this.signatureFieldPropertyChanged.isVisibilityChanged=!(0,t.isNullOrUndefined)(e.visibility),this.signatureFieldPropertyChanged.isTooltipChanged=!(0,t.isNullOrUndefined)(e.tooltip),this.signatureFieldPropertyChanged.isNameChanged=!(0,t.isNullOrUndefined)(e.name),this.signatureFieldPropertyChanged.isPrintChanged=!(0,t.isNullOrUndefined)(e.isPrint),this.signatureFieldPropertyChanged.isThicknessChanged=!(0,t.isNullOrUndefined)(e.thickness),this.signatureFieldPropertyChanged.isCustomDataChanged=!(0,t.isNullOrUndefined)(e.customData))},e.prototype.updateTextFieldSettings=function(e){this.textFieldPropertyChanged.isReadOnlyChanged=!(0,t.isNullOrUndefined)(e.isReadOnly),this.textFieldPropertyChanged.isRequiredChanged=!(0,t.isNullOrUndefined)(e.isRequired),this.textFieldPropertyChanged.isValueChanged=!(0,t.isNullOrUndefined)(e.value),this.textFieldPropertyChanged.isBackgroundColorChanged=!(0,t.isNullOrUndefined)(e.backgroundColor),this.textFieldPropertyChanged.isBorderColorChanged=!(0,t.isNullOrUndefined)(e.borderColor),this.textFieldPropertyChanged.isAlignmentChanged=!(0,t.isNullOrUndefined)(e.alignment),this.textFieldPropertyChanged.isColorChanged=!(0,t.isNullOrUndefined)(e.color),this.textFieldPropertyChanged.isFontFamilyChanged=!(0,t.isNullOrUndefined)(e.fontFamily),this.textFieldPropertyChanged.isFontSizeChanged=!(0,t.isNullOrUndefined)(e.fontSize),this.textFieldPropertyChanged.isFontStyleChanged=!(0,t.isNullOrUndefined)(e.fontStyle),this.textFieldPropertyChanged.isNameChanged=!(0,t.isNullOrUndefined)(e.name),this.textFieldPropertyChanged.isToolTipChanged=!(0,t.isNullOrUndefined)(e.tooltip),this.textFieldPropertyChanged.isThicknessChanged=!(0,t.isNullOrUndefined)(e.thickness),this.textFieldPropertyChanged.isMaxLengthChanged=!(0,t.isNullOrUndefined)(e.maxLength),this.textFieldPropertyChanged.isVisibilityChanged=!(0,t.isNullOrUndefined)(e.visibility),this.textFieldPropertyChanged.isPrintChanged=!(0,t.isNullOrUndefined)(e.isPrint),this.textFieldPropertyChanged.isMultilineChanged=!(0,t.isNullOrUndefined)(e.isMultiline),this.textFieldPropertyChanged.isCustomDataChanged=!(0,t.isNullOrUndefined)(e.customData)},e.prototype.updatePasswordFieldSettings=function(e){this.passwordFieldPropertyChanged.isReadOnlyChanged=!(0,t.isNullOrUndefined)(e.isReadOnly),this.passwordFieldPropertyChanged.isRequiredChanged=!(0,t.isNullOrUndefined)(e.isRequired),this.passwordFieldPropertyChanged.isValueChanged=!(0,t.isNullOrUndefined)(e.value),this.passwordFieldPropertyChanged.isBackgroundColorChanged=!(0,t.isNullOrUndefined)(e.backgroundColor),this.passwordFieldPropertyChanged.isBorderColorChanged=!(0,t.isNullOrUndefined)(e.borderColor),this.passwordFieldPropertyChanged.isAlignmentChanged=!(0,t.isNullOrUndefined)(e.alignment),this.passwordFieldPropertyChanged.isColorChanged=!(0,t.isNullOrUndefined)(e.color),this.passwordFieldPropertyChanged.isFontFamilyChanged=!(0,t.isNullOrUndefined)(e.fontFamily),this.passwordFieldPropertyChanged.isFontSizeChanged=!(0,t.isNullOrUndefined)(e.fontSize),this.passwordFieldPropertyChanged.isFontStyleChanged=!(0,t.isNullOrUndefined)(e.fontStyle),this.passwordFieldPropertyChanged.isNameChanged=!(0,t.isNullOrUndefined)(e.name),this.passwordFieldPropertyChanged.isToolTipChanged=!(0,t.isNullOrUndefined)(e.tooltip),this.passwordFieldPropertyChanged.isThicknessChanged=!(0,t.isNullOrUndefined)(e.thickness),this.passwordFieldPropertyChanged.isMaxLengthChanged=!(0,t.isNullOrUndefined)(e.maxLength),this.passwordFieldPropertyChanged.isVisibilityChanged=!(0,t.isNullOrUndefined)(e.visibility),this.passwordFieldPropertyChanged.isPrintChanged=!(0,t.isNullOrUndefined)(e.isPrint),this.passwordFieldPropertyChanged.isCustomDataChanged=!(0,t.isNullOrUndefined)(e.customData)},e.prototype.updateCheckBoxFieldSettings=function(e){this.checkBoxFieldPropertyChanged.isReadOnlyChanged=!(0,t.isNullOrUndefined)(e.isReadOnly),this.checkBoxFieldPropertyChanged.isRequiredChanged=!(0,t.isNullOrUndefined)(e.isRequired),this.checkBoxFieldPropertyChanged.isBackgroundColorChanged=!(0,t.isNullOrUndefined)(e.backgroundColor),this.checkBoxFieldPropertyChanged.isBorderColorChanged=!(0,t.isNullOrUndefined)(e.borderColor),this.checkBoxFieldPropertyChanged.isNameChanged=!(0,t.isNullOrUndefined)(e.name),this.checkBoxFieldPropertyChanged.isValueChanged=!(0,t.isNullOrUndefined)(e.value),this.checkBoxFieldPropertyChanged.isToolTipChanged=!(0,t.isNullOrUndefined)(e.tooltip),this.checkBoxFieldPropertyChanged.isThicknessChanged=!(0,t.isNullOrUndefined)(e.thickness),this.checkBoxFieldPropertyChanged.isVisibilityChanged=!(0,t.isNullOrUndefined)(e.visibility),this.checkBoxFieldPropertyChanged.isPrintChanged=!(0,t.isNullOrUndefined)(e.isPrint),this.checkBoxFieldPropertyChanged.isCheckedChanged=!(0,t.isNullOrUndefined)(e.isChecked),this.checkBoxFieldPropertyChanged.isCustomDataChanged=!(0,t.isNullOrUndefined)(e.customData)},e.prototype.updateRadioButtonFieldSettings=function(e){this.radioButtonFieldPropertyChanged.isReadOnlyChanged=!(0,t.isNullOrUndefined)(e.isReadOnly),this.radioButtonFieldPropertyChanged.isRequiredChanged=!(0,t.isNullOrUndefined)(e.isRequired),this.radioButtonFieldPropertyChanged.isBackgroundColorChanged=!(0,t.isNullOrUndefined)(e.backgroundColor),this.radioButtonFieldPropertyChanged.isBorderColorChanged=!(0,t.isNullOrUndefined)(e.borderColor),this.radioButtonFieldPropertyChanged.isNameChanged=!(0,t.isNullOrUndefined)(e.name),this.radioButtonFieldPropertyChanged.isValueChanged=!(0,t.isNullOrUndefined)(e.value),this.radioButtonFieldPropertyChanged.isToolTipChanged=!(0,t.isNullOrUndefined)(e.tooltip),this.radioButtonFieldPropertyChanged.isThicknessChanged=!(0,t.isNullOrUndefined)(e.thickness),this.radioButtonFieldPropertyChanged.isVisibilityChanged=!(0,t.isNullOrUndefined)(e.visibility),this.radioButtonFieldPropertyChanged.isPrintChanged=!(0,t.isNullOrUndefined)(e.isPrint),this.radioButtonFieldPropertyChanged.isSelectedChanged=!(0,t.isNullOrUndefined)(e.isSelected),this.radioButtonFieldPropertyChanged.isCustomDataChanged=!(0,t.isNullOrUndefined)(e.customData)},e.prototype.updateDropDownFieldSettings=function(e){this.dropdownFieldPropertyChanged.isReadOnlyChanged=!(0,t.isNullOrUndefined)(e.isReadOnly),this.dropdownFieldPropertyChanged.isRequiredChanged=!(0,t.isNullOrUndefined)(e.isRequired),this.dropdownFieldPropertyChanged.isValueChanged=!(0,t.isNullOrUndefined)(e.value),this.dropdownFieldPropertyChanged.isBackgroundColorChanged=!(0,t.isNullOrUndefined)(e.backgroundColor),this.dropdownFieldPropertyChanged.isBorderColorChanged=!(0,t.isNullOrUndefined)(e.borderColor),this.dropdownFieldPropertyChanged.isAlignmentChanged=!(0,t.isNullOrUndefined)(e.alignment),this.dropdownFieldPropertyChanged.isColorChanged=!(0,t.isNullOrUndefined)(e.color),this.dropdownFieldPropertyChanged.isFontFamilyChanged=!(0,t.isNullOrUndefined)(e.fontFamily),this.dropdownFieldPropertyChanged.isFontSizeChanged=!(0,t.isNullOrUndefined)(e.fontSize),this.dropdownFieldPropertyChanged.isFontStyleChanged=!(0,t.isNullOrUndefined)(e.fontStyle),this.dropdownFieldPropertyChanged.isNameChanged=!(0,t.isNullOrUndefined)(e.name),this.dropdownFieldPropertyChanged.isToolTipChanged=!(0,t.isNullOrUndefined)(e.tooltip),this.dropdownFieldPropertyChanged.isThicknessChanged=!(0,t.isNullOrUndefined)(e.thickness),this.dropdownFieldPropertyChanged.isVisibilityChanged=!(0,t.isNullOrUndefined)(e.visibility),this.dropdownFieldPropertyChanged.isPrintChanged=!(0,t.isNullOrUndefined)(e.isPrint),this.dropdownFieldPropertyChanged.isOptionChanged=!(0,t.isNullOrUndefined)(e.options),this.dropdownFieldPropertyChanged.isCustomDataChanged=!(0,t.isNullOrUndefined)(e.customData)},e.prototype.updateListBoxFieldSettings=function(e){this.listBoxFieldPropertyChanged.isReadOnlyChanged=!(0,t.isNullOrUndefined)(e.isReadOnly),this.listBoxFieldPropertyChanged.isRequiredChanged=!(0,t.isNullOrUndefined)(e.isRequired),this.listBoxFieldPropertyChanged.isBackgroundColorChanged=!(0,t.isNullOrUndefined)(e.backgroundColor),this.listBoxFieldPropertyChanged.isBorderColorChanged=!(0,t.isNullOrUndefined)(e.borderColor),this.listBoxFieldPropertyChanged.isAlignmentChanged=!(0,t.isNullOrUndefined)(e.alignment),this.listBoxFieldPropertyChanged.isColorChanged=!(0,t.isNullOrUndefined)(e.color),this.listBoxFieldPropertyChanged.isFontFamilyChanged=!(0,t.isNullOrUndefined)(e.fontFamily),this.listBoxFieldPropertyChanged.isFontSizeChanged=!(0,t.isNullOrUndefined)(e.fontSize),this.listBoxFieldPropertyChanged.isFontStyleChanged=!(0,t.isNullOrUndefined)(e.fontStyle),this.listBoxFieldPropertyChanged.isNameChanged=!(0,t.isNullOrUndefined)(e.name),this.listBoxFieldPropertyChanged.isToolTipChanged=!(0,t.isNullOrUndefined)(e.tooltip),this.listBoxFieldPropertyChanged.isThicknessChanged=!(0,t.isNullOrUndefined)(e.thickness),this.listBoxFieldPropertyChanged.isVisibilityChanged=!(0,t.isNullOrUndefined)(e.visibility),this.listBoxFieldPropertyChanged.isPrintChanged=!(0,t.isNullOrUndefined)(e.isPrint),this.listBoxFieldPropertyChanged.isOptionChanged=!(0,t.isNullOrUndefined)(e.options),this.listBoxFieldPropertyChanged.isCustomDataChanged=!(0,t.isNullOrUndefined)(e.customData)},e.prototype.getFontStyleName=function(e,t){var i="None";return 1===e&&(t.font.isBold=!0,i="Bold"),2===e&&(t.font.isItalic=!0,i="Italic"),3===e&&(t.font.isBold=!0,t.font.isItalic=!0,i="Bold Italic"),4===e&&(t.font.isUnderline=!0,i="Underline"),5===e&&(t.font.isBold=!0,t.font.isUnderline=!0,i="Bold Underline"),6===e&&(t.font.isUnderline=!0,t.font.isItalic=!0,i="Underline Italic"),7===e&&(t.font.isBold=!0,t.font.isItalic=!0,t.font.isUnderline=!0,i="Bold Italic Underline"),8===e&&(t.font.isStrikeout=!0,i="Strikethrough"),9===e&&(t.font.isBold=!0,t.font.isStrikeout=!0,i="Bold Strikethrough"),10===e&&(t.font.isItalic=!0,t.font.isStrikeout=!0,i="Italic Strikethrough"),11===e&&(t.font.isBold=!0,t.font.isItalic=!0,t.font.isStrikeout=!0,i="Bold Italic Strikethrough"),12===e&&(t.font.isUnderline=!0,t.font.isStrikeout=!0,i="Underline Strikethrough"),13===e&&(t.font.isBold=!0,t.font.isUnderline=!0,t.font.isStrikeout=!0,i="Bold Underline Strikethrough"),14===e&&(t.font.isItalic=!0,t.font.isUnderline=!0,t.font.isStrikeout=!0,i="Italic Underline Strikethrough"),15===e&&(t.font.isBold=!0,t.font.isItalic=!0,t.font.isUnderline=!0,t.font.isStrikeout=!0,i="Bold Italic Underline Strikethrough"),i},e.prototype.getAlignment=function(e){var t;"left"===e?t="left":"right"===e?t="right":"center"===e&&(t="center"),this.formFieldAlign=t},e.prototype.getFontStyle=function(e){e.isBold&&(this.formFieldBold="bold"),e.isItalic&&(this.formFieldItalic="italic"),e.isUnderline&&(this.formFieldUnderline="underline"),e.isStrikeout&&(this.formFieldStrikeOut="line-through")},e}(),kh=function(){function e(e,t){this.createTag=function(e){var t=this,i=e.TagType,n=e.ParentTagType,o=e.Text,r=e.AltText,a=e.Bounds,s=e.ChildElements,l=document.createElement(this.getTag(i));return l.style.padding="0px",l.style.margin="0px","Document"!==n&&"Part"!==n&&(l.style.position="absolute"),a&&(this.setStyleToTaggedTextDiv(l,a,e.FontSize,e.FontName,e.FontStyle),this.setTextElementProperties(l)),""!==o.trim()&&(l.innerText=o),"Image"!==i&&"Figure"!==i||(r&&""!==r.trim()&&(l.alt=r),l.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII="),s&&s.length>0&&s.forEach((function(e){"Table"===i?e.ChildElements&&e.ChildElements.forEach((function(e){l.appendChild(t.createTag(e))})):l.appendChild(t.createTag(e))})),l},this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.addTaggedLayer=function(e){var i;if(this.pdfViewer.enableAccessibilityTags&&this.pdfViewerBase.isTaggedPdf){var n=document.getElementById(this.pdfViewer.element.id+"_pageDiv_"+e);i=document.getElementById(this.pdfViewer.element.id+"_taggedLayer_"+e);var o=document.getElementById(this.pdfViewer.element.id+"_textLayer_"+e);o&&o.setAttribute("aria-hidden","true"),i||(i=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_taggedLayer_"+e,className:"e-pv-tagged-layer e-pv-text-layer"})),i.innerHTML="",i.style.width=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width*this.pdfViewerBase.getZoomFactor()+"px",i.style.height=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height*this.pdfViewerBase.getZoomFactor()+"px",i.style.pointerEvents="none",n&&n.appendChild(i)}return i},e.prototype.renderAccessibilityTags=function(e,i){for(var n=this.addTaggedLayer(e),o=0;o<i.length;o++){var r=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_taggedText_"+e+"_"+parseInt(o.toString(),10),className:"e-pv-text",attrs:{tabindex:"-1"}}),a=i[parseInt(o.toString(),10)].Bounds;"Paragraph"===i[parseInt(parseInt(o.toString(),10).toString(),10)].TagType&&null===i[parseInt(o.toString(),10)].ChildElements&&""===i[parseInt(o.toString(),10)].Text.trim()||(r.appendChild(this.createTag(i[parseInt(o.toString(),10)])),r.style.display="inline",this.setStyleToTaggedTextDiv(r,a,i[parseInt(o.toString(),10)].FontSize,i[parseInt(o.toString(),10)].FontName,i[parseInt(o.toString(),10)].FontStyle),this.setTextElementProperties(r),n.appendChild(r))}},e.prototype.getTag=function(e){switch(e){case"Paragraph":case"ListBody":default:return"p";case"Figure":case"Image":return"img";case"Article":return"art";case"Annotation":return"annot";case"BibliographyEntry":return"bibentry";case"BlockQuotation":return"blockQuote";case"Caption":return"caption";case"Code":return"code";case"Division":return"div";case"Document":return"document";case"Form":return"form";case"Formula":return"formula";case"Index":return"index";case"Heading":return"h";case"HeadingLevel1":return"h1";case"HeadingLevel2":return"h2";case"HeadingLevel3":return"h3";case"HeadingLevel4":return"h4";case"HeadingLevel5":return"h5";case"HeadingLevel6":return"h6";case"Label":return"label";case"Link":return"a";case"List":return"ul";case"ListItem":return"li";case"Note":return"note";case"Part":return"part";case"Quotation":return"quote";case"Reference":return"reference";case"Section":return"sect";case"Span":return"span";case"Table":return"table";case"TableDataCell":return"td";case"TableHeader":return"th";case"TableOfContent":return"toc";case"TableOfContentItem":return"toci";case"TableRow":return"tr"}},e.prototype.setStyleToTaggedTextDiv=function(e,t,i,n,o){var r=this.pdfViewerBase.getZoomFactor();e.style.left=this.pdfViewerBase.ConvertPointToPixel(t.X)*r+"px",e.style.top=this.pdfViewerBase.ConvertPointToPixel(t.Y)*r+"px",e.style.width=this.pdfViewerBase.ConvertPointToPixel(t.Width)*r+"px";var a=this.pdfViewerBase.ConvertPointToPixel(t.Height)*r;e.style.height=a+"px",e.style.fontSize=this.pdfViewerBase.ConvertPointToPixel(i)*r+"px",!n||"Wingdings"!==n&&"Symbol"!==n?n&&(e.style.fontFamily=n):e.style.fontFamily="Verdana",o&&(e.style.fontWeight=o),e.style.color="transparent"},e.prototype.setTextElementProperties=function(e){e.style.transformOrigin="0%"},e.prototype.getModuleName=function(){return"AccessibilityTags"},e.prototype.destroy=function(){return!0},e}(),Ph=function(e,t,i,n){this.X=e,this.Y=t,this.Width=i,this.Height=n,this.Location={X:e,Y:t},this.Size={IsEmpty:!1,Width:i,Height:n},this.Left=e,this.Top=t,this.Right=e+i,this.Bottom=t+n};function Nh(){var e,t="Module",i=!1,n={},o=o||{},r=void 0!==o[""+t]?o[""+t]:{},a=Float64Array,s=function(e,t,i){return function(n){var r=o.heap(e,t),a=r[0],s=r.slice(1);if(!n.apply(void 0,s.map((function(e){return e.p}))))return a.free(),i;var l=s.map((function(e){return e.v}));return a.free(),l}};function l(){(!0||i)&&(n.Init=r.cwrap("FPDF_InitLibrary"),n.RenderPageBitmap=r.cwrap("FPDF_RenderPageBitmap","",["number","number","number","number","number","number","number","number"]),n.Bitmap_FillRect=r.cwrap("FPDFBitmap_FillRect","",["number","number","number","number","number","number"]),n.Bitmap_CreateEx=r.cwrap("FPDFBitmap_CreateEx","number",["number","number","number","number","number"]),n.Bitmap_Destroy=r.cwrap("FPDFBitmap_Destroy","",["number"]),n.LoadPage=r.cwrap("FPDF_LoadPage","number",["number","number"]),n.ClosePage=r.cwrap("FPDF_ClosePage","",["number"]),n.LoadMemDocument=r.cwrap("FPDF_LoadMemDocument","number",["number","number","string"]),n.GetPageSizeByIndex=r.cwrap("FPDF_GetPageSizeByIndex","number",["number","number","number","number"]),n.GetLastError=r.cwrap("FPDF_GetLastError","number"),n.GetPageCount=r.cwrap("FPDF_GetPageCount","number",["number"]),n.CloseDocument=r.cwrap("FPDF_CloseDocument","",["number"]),n.DestroyLibrary=r.cwrap("FPDF_DestroyLibrary"),n.LoadTextPage=r.cwrap("FPDFText_LoadPage","number",["number"]),n.CloseTextPage=r.cwrap("FPDFText_ClosePage","",["number"]),n.TextCountChars=r.cwrap("FPDFText_CountChars","number",["number"]),n.GetUnicodeChar=r.cwrap("FPDFText_GetUnicode","number",["number"]),n.GetCharBox=r.cwrap("FPDFText_GetCharBox","number",["number","number","number","number","number"]),n.GetPageRotation=r.cwrap("FPDFPage_GetRotation","number",["number"]),n.GetCharAngle=r.cwrap("FPDFText_GetCharAngle","number",["number"]),n.GetPageHeight=r.cwrap("FPDF_GetPageHeight","number",["number"]),n.GetPageWidth=r.cwrap("FPDF_GetPageWidth","number",["number"]),o.heap=function(e,t){var i;switch(e){case Int8Array:i=r.HEAP8;break;case Int16Array:i=r.HEAP16;break;case Int32Array:i=r.HEAP32;break;case Uint8Array:i=r.HEAPU8;break;case Uint16Array:i=r.HEAPU16;break;case Uint32Array:i=r.HEAPU32;break;case Float32Array:i=r.HEAPF32;break;case Float64Array:i=r.HEAPF64}var n=e.BYTES_PER_ELEMENT,o=r.asm.malloc(t*n),a=Array(1+t);a[0]={s:t,J:e,Z:n,E:i,m:o,free:function(){return r.asm.free(o)}};for(var s=function(e){a[e+1]={p:o+e*n,get v(){return i[o/n+e]}}},l=0;l<t;l++)s(l);return a},o.loaded&&o.loaded())}Object.assign(n,{LCD_TEXT:2,NO_NATIVETEXT:4,GRAYSCALE:8,DEBUG_INFO:128,NO_CATCH:256,RENDER_LIMITEDIMAGECACHE:512,RENDER_FORCEHALFTONE:1024,PRINTING:2048,REVERSE_BYTE_ORDER:16,Bitmap_Gray:1,Bitmap_BGR:2,Bitmap_BGRx:3,Bitmap_BGRA:4,LAST_ERROR:{SUCCESS:0,UNKNOWN:1,FILE:2,FORMAT:3,PASSWORD:4,SECURITY:5,PAGE:6}}),r.onRuntimeInitialized=function(){i=!0,l()},o.onload=function(){l()},o.loaded=function(){d.postMessage({message:"loaded"})};var d=self;d.onmessage=function(t){if("initialLoading"===t.data.message)importScripts(t.data.url+"/pdfium.js"),r.url=t.data.url,r.onRuntimeInitialized=function(){if(i=!0,l(),t.data.fonts&&Object.keys(t.data.fonts).length>0){var e="/usr/share/fonts/";for(var n in r.FS.createPath("/",e,!0,!0),t.data.fonts)t.data.fonts[""+n]&&-1===n.indexOf("fallbackfonts")&&r.FS.createDataFile(e+n,null,t.data.fonts[""+n],!0,!0,!0)}},this.PDFiumModule(r);else if("LoadPageCollection"===t.data.message){o.fileByteArray=t.data.uploadedFile;var a=o.fileByteArray.length;n.Init();var s=r.asm.malloc(a);r.HEAPU8.set(o.fileByteArray,s),o.fileByteArray=null,e=new c({wasm:n.LoadMemDocument(s,a,t.data.password),wasmBuffer:s});var h=n.GetPageCount(e.processor.wasmData.wasm);e.setPages(h),e.createAllPages(),d.postMessage({message:"PageLoaded",pageIndex:t.data.pageIndex,isZoomMode:t.data.isZoomMode})}else if("LoadPageStampCollection"===t.data.message){a=t.data.uploadedFile.length;n.Init();s=r.asm.malloc(a);r.HEAPU8.set(t.data.uploadedFile,s);var A=new c({wasm:n.LoadMemDocument(s,a,t.data.password),wasmBuffer:s});h=n.GetPageCount(A.processor.wasmData.wasm);A.setPages(h),A.createAllPages();var p=A.getPage(t.data.pageIndex),g=t.data;(f=p.render(null,g.zoomFactor,!1,null,null,null,!0)).message="LoadedStamp",f.annotName=t.data.AnnotName,f.rubberStampAnnotationPageNumber=t.data.rubberStampAnnotationPageNumber,f.annotationOrder=t.data.annotationOrder,f.collectionOrder=t.data.collectionOrder,f.isFormField=t.data.isFormField,f.isFormField&&(f.message="LoadedStampForFormFields",f.formFieldName=t.data.formFieldName,f.formFieldList=t.data.formFieldList,f.formFields=t.data.rubberStampAnnotation,f.PageIndex=t.data.PageIndex),d.postMessage(f)}if(e)if("renderPage"===t.data.message){p=e.getPage(t.data.pageIndex);var u=t.data,f=p.render(null,u.zoomFactor,u.isTextNeed,null,null,u.textDetailsId,null,t.data.cropBoxRect,t.data.mediaBoxRect);d.postMessage(f)}else if("renderPageSearch"===t.data.message){p=e.getPage(t.data.pageIndex);var m=t.data;(f=p.render(null,m.zoomFactor,m.isTextNeed,null,null,m.textDetailsId,null,t.data.cropBoxRect)).message="imageRenderedSearch",d.postMessage(f)}else if("extractText"===t.data.message){p=e.getPage(t.data.pageIndex);var w=t.data;(f=p.render(null,w.zoomFactor,w.isTextNeed,null,null,w.textDetailsId)).message="textExtracted",f.isLayout=t.data.isLayout,f.isRenderText=t.data.isRenderText,f.jsonObject=t.data.jsonObject,f.requestType=t.data.requestType,f.annotationObject=t.data.annotationObject,d.postMessage(f)}else if("renderThumbnail"===t.data.message){var y=new Promise((function(i,n){setTimeout((function(){try{var o=e.getPage(t.data.pageIndex);if(null!==o.processor&&void 0!==o.processor){var r=o.render("thumbnail",null,!1,null,null);i(r)}}catch(e){n(e)}}),1e3)}));y.then((function(e){d.postMessage(e)}))}else if("renderPreviewTileImage"===t.data.message){(f=(p=e.getPage(t.data.pageIndex)).render("thumbnail",null,!1,null,null)).message="renderPreviewTileImage",f.startIndex=t.data.startIndex,f.endIndex=t.data.endIndex,d.postMessage(f)}else if("printImage"===t.data.message){f=(p=e.getPage(t.data.pageIndex)).render("print",null,!1,t.data.printScaleFactor,t.data.printDevicePixelRatio);d.postMessage(f)}else if("extractImage"===t.data.message){p=e.getPage(t.data.pageIndex);var S=t.data;(f=p.render(null,S.zoomFactor,S.isTextNeed,null,null,S.textDetailsId,null,null,null,t.data.size)).message="imageExtracted",d.postMessage(f)}else if("renderImageAsTile"===t.data.message){var C=t.data;f=(p=e.getPage(t.data.pageIndex)).renderTileImage(C.tileX,C.tileY,C.tileXCount,C.tileYCount,C.zoomFactor,t.data.isTextNeed,t.data.textDetailsId,t.data.cropBoxRect,t.data.mediaBoxRect);d.postMessage(f)}else if("renderImageAsTileSearch"===t.data.message){C=t.data;(f=(p=e.getPage(t.data.pageIndex)).renderTileImage(C.tileX,C.tileY,C.tileXCount,C.tileYCount,C.zoomFactor,t.data.isTextNeed,t.data.textDetailsId,t.data.cropBoxRect,t.data.mediaBoxRect)).message="renderTileImageSearch",d.postMessage(f)}else"unloadFPDF"===t.data.message&&e&&(r.asm.free(e.processor.wasmData.wasmBuffer),n.CloseDocument(e.processor.wasmData.wasm),n.DestroyLibrary())};var h=function(){function e(e,t){this.index=e,this.src=null,this.processor=t}return e.prototype.render=function(e,t,i,n,o,r,a,s,l,d){return this.processor.render(this.index,e,t,i,n,o,r,a,s,l,d)},e.prototype.renderTileImage=function(e,t,i,n,o,r,a,s,l){return this.processor.renderTileImage(this.index,e,t,i,n,o,r,a,s,l)},e}(),A=function(e,t,i,n,o,r){this.X=e,this.Y=t,this.Width=i,this.Height=n,this.Bottom=this.Y+this.Height,this.Right=this.X+this.Width,this.Top=this.Y,this.Left=this.X,this.Rotation=r,this.Text=o},p=function(){function e(e){this.TextBounds=[],this.TextContent=[],this.CharacterBounds=[],this.PageText="",this.wasmData=e}return e.prototype.getPageSize=function(e){var t=this;return void 0===e&&(e=0),s(a,2,[-1,-1])((function(i,o){return n.GetPageSizeByIndex(t.wasmData.wasm,e,i,o)})).map((function(e){return parseInt((e*(96/72)).toString(),10)}))},e.prototype.getCharBounds=function(e,t){return void 0===t&&(t=0),s(a,4,[-1,-1,-1,-1])((function(i,o,r,a){return n.GetCharBox(e,t,i,o,r,a)}))},e.prototype.getRender=function(e,t,i,o,a,s,l){void 0===e&&(e=0);var d=n.REVERSE_BYTE_ORDER,h=r.asm.malloc(t*i*4);r.HEAPU8.fill(0,h,h+t*i*4);var A=n.Bitmap_CreateEx(t,i,n.Bitmap_BGRA,h,4*t),p=n.LoadPage(this.wasmData.wasm,e);return n.Bitmap_FillRect(A,0,0,t,i,a?16777215:4294967295),n.RenderPageBitmap(A,p,0,0,t,i,0,d),n.Bitmap_Destroy(A),this.textExtraction(p,e,o,s,l),n.ClosePage(p),h},e.prototype.textExtraction=function(e,t,i,o,r){var a;if(i){var s=this.getPageSize(t),l=s[0],d=s[1];d+=this.pointerToPixelConverter(r&&r.y?r.y:0);var h=n.LoadTextPage(e,t),p=n.GetPageRotation(e),c=n.TextCountChars(h);this.TextBounds=[],this.TextContent=[],this.CharacterBounds=[];for(var g="",u=0,f=0,m=0,w=0,y=[],S=[],C=[],B=[],I=[],b="",v=0,E=0,x=0,_=0,D=0,M=!0,V=!1,Q=!1,F=!1,T=0;T<=c;T++){var k=n.GetUnicodeChar(h,T),P=n.GetCharAngle(h,T),N=String.fromCharCode(k),R=this.getCharBounds(h,T),L=R[0],O=R[1],U=R[2],z=R[3],H=this.pointerToPixelConverter(L)-this.pointerToPixelConverter(o&&o.x?o.x:0),Y=d+this.pointerToPixelConverter(o&&o.y?o.y:0)-this.pointerToPixelConverter(z),j=this.pointerToPixelConverter(O-L),G=this.pointerToPixelConverter(z-U),J=parseInt((180*P/Math.PI).toString(),10);if(T<c){g+=N;var K=new A(H,Y,j,G,N,J);this.CharacterBounds.push(K)}switch(1!==p&&3!==p||(Y=l-this.pointerToPixelConverter(z)),N){case"\0":u=Math.min.apply(Math,y),f=Math.max.apply(Math,S),m=Math.min.apply(Math,C),w=Math.max.apply(Math,B);var W=new A(v,x,E-v,_-x,b,D);I.push(W),this.textBoundsCalculation(I,u,f,w,m,p,l,d),I=[],M=!0,Q=!1,b="",y=[],C=[],S=[],B=[],u=0,f=0,m=0,w=0;break;case"\r":if(T<c){var X=new A(H,Y,j,G,"\r\n",J);y.push(X.Top),S.push(X.Bottom),C.push(X.Left),B.push(X.Right),u=Math.min.apply(Math,y),f=Math.max.apply(Math,S),m=Math.min.apply(Math,C),w=Math.max.apply(Math,B);W=void 0;!1===M&&(W=new A(v,x,E-v,_-x,b,D),I.push(W)),I.push(X),this.textBoundsCalculation(I,u,f,w,m,p,l,d),I=[],M=!0,Q=!1,b="",y=[],C=[],S=[],B=[],u=0,f=0,m=0,w=0,g+="\n",P=n.GetCharAngle(h,T),L=(a=this.getCharBounds(h,T))[0],O=a[1],U=a[2],z=a[3],H=this.pointerToPixelConverter(L),Y=d-this.pointerToPixelConverter(z),j=this.pointerToPixelConverter(O-L),G=this.pointerToPixelConverter(z-U),J=parseInt((180*P/Math.PI).toString(),10);K=new A(H,Y,j,G,N,J);this.CharacterBounds.push(K),T++}break;case"":case"":X=new A(H,Y,j,G,N,J);y.push(X.Top),S.push(X.Bottom),C.push(X.Left),B.push(X.Right),u=Math.min.apply(Math,y),f=Math.max.apply(Math,S),m=Math.min.apply(Math,C),w=Math.max.apply(Math,B);W=void 0;!1===M&&(W=new A(v,x,E-v,_-x,b,D),I.push(W)),""===N&&I.push(X),this.textBoundsCalculation(I,u,f,w,m,p,l,d),I=[],M=!0,Q=!1,b="",y=[],C=[],S=[],B=[],u=0,f=0,m=0,w=0;break;default:if(0===j||0===G){V=!0,u=Math.min.apply(Math,y),f=Math.max.apply(Math,S),m=Math.min.apply(Math,C),w=Math.max.apply(Math,B);W=new A(v,x,E-v,_-x,b,D);I.push(W),x=(X=new A(H,Y,j,G,N,J)).Top,_=X.Bottom,v=X.Left,E=X.Right,b=N,D=I[I.length-1].Rotation,W=new A(v,x,E-v,_-x,b,D),I.push(W),x=0,_=0,v=0,E=0,b="",D=0,M=!0,Q=!0}else{!0===M&&(x=Y,_=Y+G,v=H,E=H+j);X=new A(H,Y,j,G,N,J);if(" "!==N){if(Q&&I.length>0&&J===I[0].Rotation&&((180===J||0===J)&&Math.abs(X.Y-I[0].Y)>11&&(F=!0),(270===J||90===J)&&Math.abs(X.X-I[0].X)>11&&(F=!0)),V&&I.length>=1&&I[I.length-1].Rotation!==X.Rotation||F){V=!1,F=!1,u=Math.min.apply(Math,y),f=Math.max.apply(Math,S),m=Math.min.apply(Math,C),w=Math.max.apply(Math,B);W=void 0;!1===M&&(W=new A(v,x,E-v,_-x,b,D),I.push(W)),this.textBoundsCalculation(I,u,f,w,m,p,l,d),I=[],M=!0,b="",y=[],C=[],S=[],B=[],u=0,f=0,m=0,w=0}y.push(X.Top),S.push(X.Bottom),C.push(X.Left),B.push(X.Right),x=Math.min(x,X.Top),_=Math.max(_,X.Bottom),v=Math.min(v,X.Left),E=Math.max(E,X.Right),b+=N,D=X.Rotation,M=!1,Q=!1}else{W=new A(v,x,E-v,_-x,b,D);I.push(W),x=X.Top,_=X.Bottom,v=X.Left,E=X.Right,b=N,D=X.Rotation,W=new A(v,x,E-v,_-x,b,D),I.push(W),x=0,_=0,v=0,E=0,b="",D=0,M=!0,Q=!0}}}}n.CloseTextPage(h),this.Rotation=p,this.PageText=g}},e.prototype.pointerToPixelConverter=function(e){return e*(96/72)},e.prototype.textBoundsCalculation=function(e,t,i,n,o,r,a,s){for(var l,d=!1,h="",p=e.reduce((function(e,t){return e+t.Text}),""),c=this.checkIsRtlText(p),g=0;g<e.length;g++){var u=e[parseInt(g.toString(),10)].Rotation;if(0===u||180===u?(d&&(this.TextBounds.push(l),this.TextContent.push(h),h=""),d=!1,0===r?l=new A(e[parseInt(g.toString(),10)].Left,t,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-t,e[parseInt(g.toString(),10)].Left,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-e[parseInt(g.toString(),10)].Left,s-t,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(t,s-e[parseInt(g.toString(),10)].Left,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u))):90===u||270===u?(d&&(this.TextBounds.push(l),this.TextContent.push(h),h=""),d=!1,0===r?l=new A(o,e[parseInt(g.toString(),10)].Top,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-e[parseInt(g.toString(),10)].Top,o,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-o,s-e[parseInt(g.toString(),10)].Top,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(e[parseInt(g.toString(),10)].Top,s-o,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u))):d?h+=e[parseInt(g.toString(),10)].Text:(d=!0,h+=e[parseInt(g.toString(),10)].Text,0===r?l=new A(e[parseInt(g.toString(),10)].Left,t,n-o,i-t,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-t,e[parseInt(g.toString(),10)].Left,n-o,i-t,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-e[parseInt(g.toString(),10)].Left,s-t,n-o,i-t,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(t,s-e[parseInt(g.toString(),10)].Left,n-o,i-t,e[parseInt(g.toString(),10)].Text,u))),!d&&" "===e[parseInt(g.toString(),10)].Text&&0!==g&&g+1<=e.length)if(c)if(c&&g+1!==e.length){(30<(f=e[g-1].Left-(e[g+1].Left+e[g+1].Width))||f<0)&&(f=0),l=new A(e[g+1].Left+e[g+1].Width,t,f,i-t,e[parseInt(g.toString(),10)].Text,e[parseInt(g.toString(),10)].Rotation)}else c&&(l=new A(e[g-1].Left-e[parseInt(g.toString(),10)].Width,t,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,e[parseInt(g.toString(),10)].Rotation));else if(g+1!==e.length){var f=0;switch(u){case 0:(30<(f=e[g+1].Left-(e[g-1].Left+e[g-1].Width))||f<0)&&(f=0),0===r?l=new A(e[g-1].Left+e[g-1].Width,t,f,i-t,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-t,e[g-1].Left+e[g-1].Width,f,i-t,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-(e[g-1].Left+e[g-1].Width),s-t,f,i-t,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(t,s-(e[g-1].Left+e[g-1].Width),f,i-t,e[parseInt(g.toString(),10)].Text,u));break;case 90:(30<(f=e[g+1].Top-(e[g-1].Top+e[g-1].Height))||f<0)&&(f=0),0===r?l=new A(o,e[g-1].Top+e[g-1].Height,n-o,f,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-(e[g-1].Top+e[g-1].Height),o,n-o,f,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-o,s-(e[g-1].Top+e[g-1].Height),n-o,f,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(e[g-1].Top+e[g-1].Height,s-o,n-o,f,e[parseInt(g.toString(),10)].Text,u));break;case 180:(30<(f=e[g-1].Left-(e[g+1].Left+e[g+1].Width))||f<0)&&(f=0),0===r?l=new A(e[g+1].Left+e[g+1].Width,t,f,i-t,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-t,e[g+1].Left+e[g+1].Width,f,i-t,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-(e[g+1].Left+e[g+1].Width),s-t,f,i-t,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(t,s-(e[g+1].Left+e[g+1].Width),f,i-t,e[parseInt(g.toString(),10)].Text,u));break;case 270:(30<(f=e[g-1].Top-(e[g+1].Top+e[g+1].Height))||f<0)&&(f=0),0===r?l=new A(o,e[g+1].Top+e[g+1].Height,n-o,f,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-(e[g+1].Top+e[g+1].Height),o,n-o,f,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-o,s-(e[g+1].Top+e[g+1].Height),n-o,f,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(e[g+1].Top+e[g+1].Height,s-o,n-o,f,e[parseInt(g.toString(),10)].Text,u))}}else switch(u){case 90:0===r?l=new A(o,e[g-1].Top+e[g-1].Height,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-(e[g-1].Top+e[g-1].Height),o,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-o,s-(e[g-1].Top+e[g-1].Height),n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(e[g-1].Top+e[g-1].Height,s-o,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u));break;case 270:0===r?l=new A(o,e[g-1].Top-e[parseInt(g.toString(),10)].Height,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-(e[g-1].Top-e[parseInt(g.toString(),10)].Height),o,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-o,s-e[g-1].Top-e[parseInt(g.toString(),10)].Height,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(e[g-1].Top-e[parseInt(g.toString(),10)].Height,s-o,n-o,e[parseInt(g.toString(),10)].Height,e[parseInt(g.toString(),10)].Text,u));break;case 180:0===r?l=new A(e[g-1].Left-e[parseInt(g.toString(),10)].Width,t,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-t,e[g-1].Left-e[parseInt(g.toString(),10)].Width,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-(e[g-1].Left-e[parseInt(g.toString(),10)].Width),s-t,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(t,s-(e[g-1].Left-e[parseInt(g.toString(),10)].Width),e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u));break;case 0:0===r?l=new A(e[g-1].Left+e[g-1].Width,t,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u):1===r?l=new A(a-t,e[g-1].Left+e[g-1].Width,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u):2===r?l=new A(a-(e[g-1].Left+e[g-1].Width),s-t,e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u):3===r&&(l=new A(t,s-(e[g-1].Left+e[g-1].Width),e[parseInt(g.toString(),10)].Width,i-t,e[parseInt(g.toString(),10)].Text,u))}d||(this.TextBounds.push(l),this.TextContent.push(e[parseInt(g.toString(),10)].Text))}d&&(this.TextBounds.push(l),this.TextContent.push(h))},e.prototype.checkIsRtlText=function(e){return new RegExp("^[^A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\\u2C00-\\uFB1C\\uFDFE-\\uFE6F\\uFEFD-\\uFFFF]*[\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC]").test(e)},e.prototype.getPageRender=function(e,t,i,n,o,a,s){void 0===e&&(e=0);var l,d=this.getRender(e,t,i,n,o,a,s);return l=r.HEAPU8.slice(d,d+t*i*4),r.asm.free(d),l},e.prototype.render=function(e,t,i,o,r,a,s,l,d,h,A){void 0===e&&(e=0);var p=this.getPageSize(e),c=p[0],g=p[1];if(isNaN(c)&&isNaN(g)){var u=n.LoadPage(this.wasmData.wasm,e);g=this.pointerToPixelConverter(n.GetPageHeight(u)),c=this.pointerToPixelConverter(n.GetPageWidth(u))}var f=1.5;if("thumbnail"===t){var m=Math.round(149.55),w=Math.round(211.5);return{value:this.getPageRender(e,m,w,!1),width:m,height:w,pageIndex:e,message:"renderThumbnail"}}if("print"===t){var y=4493,S=c,C=g;"Width"===(c>g?"Width":"Height")?(S=c>y?y:c)===y&&(C=g/(c/y)):(C=g>y?y:g)===y&&(S=c/(g/y));m=Math.round(S*r*1.5),w=Math.round(C*r*1.5);return{value:this.getPageRender(e,m,w,!1),width:m,height:w,pageIndex:e,pageWidth:c,pageHeight:g,message:"printImage",printDevicePixelRatio:a}}for(m=Math.round((A&&null!==A?A.width:c)*f*i),w=Math.round((A&&null!==A?A.height:g)*f*i);m*w*4*2>=2147483648;)i-=.1,m=Math.round(this.pointerToPixelConverter(c)*i),w=Math.round(this.pointerToPixelConverter(g)*i);return{value:this.getPageRender(e,m,w,o,l,d,h),width:m,height:w,pageWidth:c,pageHeight:g,pageIndex:e,message:"imageRendered",textBounds:this.TextBounds,textContent:this.TextContent,rotation:this.Rotation,pageText:this.PageText,characterBounds:this.CharacterBounds,zoomFactor:i,isTextNeed:o,textDetailsId:s}},e.prototype.renderTileImage=function(e,t,i,o,a,s,l,d,h,A){void 0===e&&(e=0);var p=this.getPageSize(e),c=p[0],g=p[1],u=Math.round(1.5*c*s),f=Math.round(1.5*g*s),m=Math.round(u/o),w=Math.round(f/a),y=n.REVERSE_BYTE_ORDER,S=r.asm.malloc(m*w*4);r.HEAPU8.fill(0,S,S+m*w*4);var C=n.Bitmap_CreateEx(m,w,4,S,4*m),B=n.LoadPage(this.wasmData.wasm,e);n.Bitmap_FillRect(C,0,0,m,w,4294967295),n.RenderPageBitmap(C,B,-t*m,-i*w,u,f,0,y),n.Bitmap_Destroy(C),this.textExtraction(B,e,l,h,A),n.ClosePage(B);var I,b=S;return I=r.HEAPU8.slice(b,b+m*w*4),r.asm.free(b),0===t&&0===i?{value:I,w:m,h:w,noTileX:o,noTileY:a,x:t,y:i,pageIndex:e,message:"renderTileImage",textBounds:this.TextBounds,textContent:this.TextContent,rotation:this.Rotation,pageText:this.PageText,characterBounds:this.CharacterBounds,textDetailsId:d,isTextNeed:l,zoomFactor:s}:{value:I,w:m,h:w,noTileX:o,noTileY:a,x:t,y:i,pageIndex:e,message:"renderTileImage",textDetailsId:d,isTextNeed:l,zoomFactor:s}},e.prototype.getLastError=function(){switch(n.GetLastError()){case n.LAST_ERROR.SUCCESS:return"success";case n.LAST_ERROR.UNKNOWN:return"unknown error";case n.LAST_ERROR.FILE:return"file not found or could not be opened";case n.LAST_ERROR.FORMAT:return"file not in PDF format or corrupted";case n.LAST_ERROR.PASSWORD:return"password required or incorrect password";case n.LAST_ERROR.SECURITY:return"unsupported security scheme";case n.LAST_ERROR.PAGE:return"page not found or content error";default:return"unknown error"}},e}(),c=function(){function e(e){this.pages=[],this.processor=new p(e)}return e.prototype.setPages=function(e){this.pages=Array(e).fill(null)},e.prototype.createAllPages=function(){for(var e=0;e<this.pages.length;e++)this.pages[parseInt(e.toString(),10)]=new h(parseInt(e.toString(),10),this.processor)},e.prototype.getPage=function(e){var t=this.pages[parseInt(e.toString(),10)];return t||(t=new h(e),this.pages[parseInt(e.toString(),10)]=t),t},e}()}var Rh=function(){function e(e,t){this.shapeAnnotationList=[],this.textMarkupAnnotationList=[],this.measureAnnotationList=[],this.stickyAnnotationList=[],this.rubberStampAnnotationList=[],this.freeTextAnnotationList=[],this.signatureAnnotationList=[],this.signatureInkAnnotationList=[],this.annotationOrder=[],this.hyperlinks=[],this.imageData="",this.isMaskedImage=!1,this.hyperlinkBounds=[],this.annotationDestPage=[],this.annotationList=[],this.annotationYPosition=[],this.digitalSignaturePresent=!1,this.annotationCount=0,this.isAnnotationPresent=!1,this.htmldata=[],this.renderingMode=0,this.textString="",this.baseFont="",this.fontSize=0,this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.exportAnnotationComments=function(e,t){var i=this.pdfViewer.pdfRendererModule.loadedDocument.getPage(parseInt(e.toString(),10)).rotation;return this.getAnnotationFromPDF(t.height,t.width,e,i)},e.prototype.IsStampExist=function(e){switch(e.trim()){case"Approved":case"Not Approved":case"Confidential":case"Draft":case"Final":case"Completed":case"For Public Release":case"Not For Public Release":case"For Comment":case"Void":case"Preliminary Results":case"Information Only":case"Witness":case"Initial Here":case"Sign Here":case"Accepted":case"Rejected":case"Revised":case"Reviewed":case"Received":return!0;default:return!1}},e.prototype.getAnnotationFromPDF=function(e,n,o,r){var a=this.pdfViewer.pdfRendererModule.loadedDocument.getPage(parseInt(o.toString(),10)),s=new Xh(this.pdfViewer,this.pdfViewerBase),l=[],d=[];if(this.isAnnotationPresent=!1,null!=a&&(d=this.getAllFreeTextAnnotations(a.annotations),this.annotationCount=0,null!=a.annotations&&a.annotations.count>0)){this.isAnnotationPresent=!0;for(var h=function(h){var p=a.annotations.at(h);if(p instanceof uo){var c=s.loadTextMarkupAnnotation(p,e,n,r,a);A.textMarkupAnnotationList[A.textMarkupAnnotationList.length]=c,A.annotationOrder[A.annotationOrder.length]=c;var g=A.textMarkupAnnotationList[A.textMarkupAnnotationList.length-1].AnnotName;((0,t.isNullOrUndefined)(g)||""===g)&&(A.textMarkupAnnotationList[A.textMarkupAnnotationList.length-1].AnnotName=A.setAnnotationName(o))}else if(p instanceof qn){var u=A.getShapeFreeText(p.name,d);(0,t.isNullOrUndefined)(u)||l.push(u.name);var f=(w=s.loadLineAnnotation(p,e,n,r,u)).AnnotName;((0,t.isNullOrUndefined)(f)||""===f)&&(w.AnnotName=A.setAnnotationName(o)),(0,t.isNullOrUndefined)(w)||(w instanceof tA?(A.measureAnnotationList[A.measureAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w):w instanceof eA&&(A.shapeAnnotationList[A.shapeAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w))}else if(p instanceof to||p instanceof io){u=A.getShapeFreeText(p.name,d);(0,t.isNullOrUndefined)(u)||l.push(u.name);var m=(w=s.loadSquareAnnotation(p,e,n,r,u)).AnnotName;((0,t.isNullOrUndefined)(m)||""===m)&&(w.AnnotName=A.setAnnotationName(o)),(0,t.isNullOrUndefined)(w)||(w instanceof tA?(A.measureAnnotationList[A.measureAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w):w instanceof eA&&(A.shapeAnnotationList[A.shapeAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w))}else if(p instanceof $n){u=A.getShapeFreeText(p.name,d);(0,t.isNullOrUndefined)(u)||l.push(u.name);var w=s.loadEllipseAnnotation(p,e,n,r,u);(0,t.isNullOrUndefined)(w)||(w instanceof tA?(A.measureAnnotationList[A.measureAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w):w instanceof eA&&(A.shapeAnnotationList[A.shapeAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w))}else if(p instanceof eo){u=A.getShapeFreeText(p.name,d);(0,t.isNullOrUndefined)(u)||l.push(u.name);w=s.loadEllipseAnnotation(p,e,n,r,u);(0,t.isNullOrUndefined)(w)||(w instanceof tA?(A.measureAnnotationList[A.measureAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w):w instanceof eA&&(A.shapeAnnotationList[A.shapeAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w))}else if(p instanceof no){u=A.getShapeFreeText(p.name,d);(0,t.isNullOrUndefined)(u)||l.push(u.name);var y=(w=s.loadPolygonAnnotation(p,e,n,r,u)).AnnotName;((0,t.isNullOrUndefined)(y)||""===y)&&(w.AnnotName=A.setAnnotationName(o)),(0,t.isNullOrUndefined)(w)||(w instanceof tA?(A.measureAnnotationList[A.measureAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w):w instanceof eA&&(A.shapeAnnotationList[A.shapeAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w))}else if(p instanceof oo||p instanceof ro){u=A.getShapeFreeText(p.name,d);(0,t.isNullOrUndefined)(u)||l.push(u.name);var S=(w=s.loadPolylineAnnotation(p,e,n,r,u)).AnnotName;((0,t.isNullOrUndefined)(S)||""===S)&&(w.AnnotName=A.setAnnotationName(o)),(0,t.isNullOrUndefined)(w)||(w instanceof tA?(A.measureAnnotationList[A.measureAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w):w instanceof eA&&(A.shapeAnnotationList[A.shapeAnnotationList.length]=w,A.annotationOrder[A.annotationOrder.length]=w))}if(p instanceof mo){A.htmldata=[];var C=p;if(C._dictionary.has("T")&&A.checkName(C))A.signatureAnnotationList.push(s.loadSignatureImage(C,o));else if(C._dictionary.has("M")||C._dictionary.has("NM")||C._dictionary.has("Name")&&!C._dictionary.has("F")||!C._dictionary.has("NM")&&!C._dictionary.has("T")){var B=new Lh;if(B.Author=C.author,B.Subject=C.subject,B.AnnotName=C.name,""!==B.AnnotName&&null!==B.AnnotName||(B.AnnotName=A.setAnnotationName(o)),p._dictionary.has("rotateAngle")){var I=p._dictionary.get("rotateAngle");void 0!==I&&(B.RotateAngle=90*parseInt(I[0],10))}else{B.RotateAngle=360-(Math.abs(C.rotate)-90*r);var b=B.RotateAngle;B.RotateAngle>=360&&(B.RotateAngle=b-360)}var v=!1;if(0!==B.RotateAngle&&(v=Math.ceil(100*C._innerTemplateBounds.x)/100==Math.ceil(100*C.bounds.x)/100&&Math.ceil(100*C._innerTemplateBounds.y)/100==Math.ceil(100*C.bounds.y)/100&&Math.ceil(100*C._innerTemplateBounds.width)/100==Math.ceil(100*C.bounds.width)/100&&Math.ceil(100*C._innerTemplateBounds.height)/100==Math.ceil(100*C.bounds.height)/100),0!==B.RotateAngle&&v||0===B.RotateAngle)B.Rect=A.getBounds(C.bounds,e,n,r);else{var E=A.getRubberStampBounds(C._innerTemplateBounds,C.bounds,e,n,r);B.Rect=E}if(B.Rect.y<0){var x=new i.Rect(B.Rect.x,a.cropBox[1]+B.Rect.y,B.Rect.width,B.Rect.height);B.Rect=A.getBounds(x,e,n,r)}B.Icon=C.icon,(0,t.isNullOrUndefined)(C.modifiedDate)?B.ModifiedDate=A.formatDate(new Date):B.ModifiedDate=A.formatDate(C.modifiedDate),B.Opacity=C.opacity,B.pageNumber=o;var _=p._dictionary.get("AP");if(A.pdfViewerBase.pngData.push(C),B.IsDynamic=!1,B.AnnotType="stamp",Object.prototype.hasOwnProperty.call(C._dictionary,"iconName")?B.IconName=C.getValues("iconName")[0]:null!==C.subject?B.IconName=C.subject:B.IconName="",(0,t.isNullOrUndefined)(C.text)?B.Note="":B.Note=C.text,s.updateIsLockProperty(B,C),!(0,t.isNullOrUndefined)(C.reviewHistory))for(var D=0;D<C.reviewHistory.count;D++)B.State=A.getStateString(C.reviewHistory.at(parseInt(D.toString(),10)).state),B.StateModel=A.getStateModelString(C.reviewHistory.at(parseInt(D.toString(),10)).stateModel);null!=B.State&&null!=B.StateModel||(B.State="Unmarked",B.StateModel="None"),B.Comments=new Array;for(var M=0;M<C.comments.count;M++){var V=s.loadPopupAnnotation(C.comments.at(M),e,n,r);B.Comments.push(V)}if(p._dictionary.has("Name")&&(B.Name=p._dictionary.get("Name"),p._dictionary.get("Name").name&&(p._dictionary.get("Name").name.includes("#23D")||p._dictionary.get("Name").name.includes("#D"))&&(B.IsDynamic=!0),(0,t.isNullOrUndefined)(B.Subject)||A.IsStampExist(B.Subject)||(B.Subject=C.icon.toString())),B.IsMaskedImage=A.isMaskedImage,B.Apperarance=A.htmldata,C._dictionary.has("CustomData")){var Q=C._dictionary.get("CustomData");if(!(0,t.isNullOrUndefined)(Q)&&Q.trim()){var F=_.get("CustomData")?_.get("CustomData"):Q;F&&(B.CustomData=F)}}if(A.rubberStampAnnotationList.push(B),A.annotationOrder.push(B),(0,t.isNullOrUndefined)(_)){var T=p._dictionary.get("AP");if(!(0,t.isNullOrUndefined)(T)&&!(0,t.isNullOrUndefined)(T.dictionary)&&T.dictionary.has("N")){var k=T.dictionary;if(!(0,t.isNullOrUndefined)(k))0===(P=p.createTemplate()).size[0]||0===P.size[1]||(0,t.isNullOrUndefined)(P._appearance)?A.findStampImage(p):A.findStampTemplate(p,B,r,A.annotationOrder.length-1)}}else if(_.has("N")){var P;0===(P=p.createTemplate()).size[0]||0===P.size[1]||(0,t.isNullOrUndefined)(P._appearance)?A.findStampImage(p):A.findStampTemplate(p,B,r,A.annotationOrder.length-1)}}}if(p instanceof so&&!p._dictionary.has("IRT")){var N=s.loadPopupAnnotation(p,e,n,r);A.stickyAnnotationList[A.stickyAnnotationList.length]=N,A.annotationOrder[A.annotationOrder.length]=N;var R=N.AnnotName;((0,t.isNullOrUndefined)(R)||""===R)&&(N.AnnotName=A.setAnnotationName(o))}if(p instanceof yo){var L=p;if(A.isFreeTextAnnotationType(L)){var O=l.some((function(e){return e===L.name})),U=s.loadFreeTextAnnotation(L,e,n,r,a);O||(A.freeTextAnnotationList[A.freeTextAnnotationList.length]=U,A.annotationOrder[A.annotationOrder.length]=U)}else{U=s.loadSignatureText(L,o,e,n,r);L._dictionary.has("T")||(A.signatureAnnotationList[A.signatureAnnotationList.length]=U,A.annotationOrder[A.annotationOrder.length]=U)}}if(p instanceof ao){var z=p,H=s.loadSignature(z,e,n,r,o,a),Y=s.loadInkAnnotation(z,e,n,r,o,a);if(z._dictionary.has("T")){if(z._dictionary.has("NM"))A.signatureInkAnnotationList.push(Y),A.annotationOrder.push(Y);else if(z._dictionary.has("T")&&z._dictionary.has("annotationSignature")){!(z.getValues("annotationSignature").length>0)&&(A.signatureAnnotationList.push(H),A.annotationOrder.push(H))}}else A.signatureAnnotationList.push(H),A.annotationOrder.push(H);z._dictionary.has("NM")||z._dictionary.has("annotationSignature")||(A.signatureAnnotationList.push(H),A.annotationOrder.push(H))}},A=this,p=0;p<a.annotations.count;p++)h(p)}return{shapeAnnotation:this.shapeAnnotationList,textMarkupAnnotation:this.textMarkupAnnotationList,measureShapeAnnotation:this.measureAnnotationList,stampAnnotations:this.rubberStampAnnotationList,stickyNotesAnnotation:this.stickyAnnotationList,freeTextAnnotation:this.freeTextAnnotationList,signatureAnnotation:this.signatureAnnotationList,signatureInkAnnotation:this.signatureInkAnnotationList,annotationOrder:this.annotationOrder}},e.prototype.formatDate=function(e){return this.datePadding(e.getMonth()+1)+"/"+this.datePadding(e.getDate())+"/"+e.getFullYear()+" "+this.datePadding(e.getHours())+":"+this.datePadding(e.getMinutes())+":"+this.datePadding(e.getSeconds())},e.prototype.datePadding=function(e){return e<10?"0"+e:e.toString()},e.prototype.findStampImage=function(e){var i=e._dictionary.get("AP").get("N");if(!(0,t.isNullOrUndefined)(i)){var n=cr(i.getString(),!0),o=new La(n)._readContent();this.stampAnnoattionRender(o,i)}},e.prototype.findStampTemplate=function(e,t,i,n,o,r,a,s){var l=e.createTemplate();t.template=l._appearance,t.templateSize=l.size;var d=new Os(this.readFromResources()),h=new Hs;h.margins=new Ys(0),h.rotation=i,h.size=l.size,d.addPage(h).graphics.drawTemplate(l,{x:0,y:0,width:l.size[0],height:l.size[1]}),d.removePage(0);var A="data:application/pdf;base64,"+Er(d.save());A=this.pdfViewerBase.checkDocumentData(A,!1);var p=this.pdfViewerBase.convertBase64(A);o?this.pdfViewerBase.pdfViewerRunner.postMessage({uploadedFile:p,message:"LoadPageStampCollection",password:null,pageIndex:0,zoomFactor:this.pdfViewer.magnificationModule.zoomFactor,isTextNeed:!1,isZoomMode:!1,AnnotName:t.AnnotName,rubberStampAnnotationPageNumber:t.pageNumber,annotationOrder:JSON.stringify(this.annotationOrder),collectionOrder:n,isFormField:o,formFieldName:r,formFieldList:JSON.stringify(a),rubberStampAnnotation:t,PageIndex:s}):this.pdfViewerBase.pdfViewerRunner.postMessage({uploadedFile:p,message:"LoadPageStampCollection",password:null,pageIndex:0,zoomFactor:this.pdfViewer.magnificationModule.zoomFactor,isTextNeed:!1,isZoomMode:!1,AnnotName:t.AnnotName,rubberStampAnnotationPageNumber:t.pageNumber,annotationOrder:JSON.stringify(this.annotationOrder),collectionOrder:n})},e.prototype.initialPagesRendered=function(e){var i=document.createElement("canvas"),n=e.value,o=e.width,r=e.height;i.width=o,i.height=r;var a=i.getContext("2d"),s=a.createImageData(o,r);s.data.set(n),a.putImageData(s,0,0);var l=i.toDataURL();this.pdfViewerBase.releaseCanvas(i);var d={imagedata:l},h=e.annotName,A=[];JSON.parse(e.annotationOrder).length>0?A=JSON.parse(e.annotationOrder):this.pdfViewer.viewerBase.importedAnnotation&&this.pdfViewer.viewerBase.importedAnnotation[e.rubberStampAnnotationPageNumber]&&(A=this.pdfViewer.viewerBase.importedAnnotation[e.rubberStampAnnotationPageNumber].annotationOrder);var p=A.find((function(e){return h===e.AnnotName}));p&&((0,t.isNullOrUndefined)(p.Apperarance)||(p.Apperarance=[]),p.Apperarance.push(d),this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotImage(p,0,null,null,!0,!0,e.collectionOrder)),this.Imagedata=l},e.prototype.readFromResources=function(){return"JVBERi0xLjUNCiWDkvr+DQo0IDAgb2JqDQo8PA0KL1R5cGUgL0NhdGFsb2cNCi9QYWdlcyA1IDAgUg0KL0Fjcm9Gb3JtIDYgMCBSDQo+Pg0KZW5kb2JqDQoxIDAgb2JqDQo8PA0KL0ZpbHRlciAvRmxhdGVEZWNvZGUNCi9MZW5ndGggMTINCj4+DQpzdHJlYW0NCnheUyhU4AIAAiEAvA0KZW5kc3RyZWFtDQplbmRvYmoNCjIgMCBvYmoNCjw8DQovRmlsdGVyIC9GbGF0ZURlY29kZQ0KL0xlbmd0aCAxMg0KPj4NCnN0cmVhbQ0KeF5TCFTgAgABwQCcDQplbmRzdHJlYW0NCmVuZG9iag0KMyAwIG9iag0KPDwNCi9GaWx0ZXIgL0ZsYXRlRGVjb2RlDQovTGVuZ3RoIDEzNQ0KPj4NCnN0cmVhbQ0KeF5tjs0KwjAQhO8L+w578diYSlu9+wSC4DnUbRvIT0324ttrogiih2UYlm9mbggbOi4mzExjbGK62mCEKd+zsCeJ5HiSrcRVIbRKa1Lv+5hDtytCo69Zzq7kTZptyE+k0+XXvKRv++r2QyUSIywIFwoFPCcTsivdvzv+dn9F1/YTwgN6hTPqDQplbmRzdHJlYW0NCmVuZG9iag0KOSAwIG9iag0KPDwNCi9GaXJzdCAyNg0KL04gNA0KL1R5cGUgL09ialN0bQ0KL0ZpbHRlciAvRmxhdGVEZWNvZGUNCi9MZW5ndGggMTk2DQo+Pg0Kc3RyZWFtDQp4Xm1PTQuCQBC9L+x/mF+Qu34H4qHCSwRi3cTDYkMI4YauUP++WcVM6rA784b35r0JQHAWgpQ+ZxFIL+QsBlcIzpKEM+fyeiA4ubphT+jYXHsoIxBQVAT3emgNSOoK7PXQ1dhDkqQpZzQ64bVRO/2EciME2BdsA1ti36Vi9YU2yqANMGlGx6zBu3WpVtPF6l+ieE6Uqw6JF1i80i+qhRVNLNrdGsK0R9oJuOPvzTu/b7PiTtdnNFA6+SH7hPy55Q19a1EBDQplbmRzdHJlYW0NCmVuZG9iag0KMTAgMCBvYmoNCjw8DQovUm9vdCA0IDAgUg0KL0luZGV4IFswIDExXQ0KL1NpemUgMTENCi9UeXBlIC9YUmVmDQovVyBbMSAyIDFdDQovRmlsdGVyIC9GbGF0ZURlY29kZQ0KL0xlbmd0aCA0NA0KPj4NCnN0cmVhbQ0KeF4Vw0ENACAMALG77cVzBvCFUEShAkaTAlcWstFCimD89uipB3PyAFuGA3QNCmVuZHN0cmVhbQ0KZW5kb2JqDQoNCnN0YXJ0eHJlZg0KNzk4DQolJUVPRg0KJVBERi0xLjUNCiWDkvr+DQoxMSAwIG9iag0KPDwNCi9GaXJzdCA1DQovTiAxDQovVHlwZSAvT2JqU3RtDQovRmlsdGVyIC9GbGF0ZURlY29kZQ0KL0xlbmd0aCA3MQ0KPj4NCnN0cmVhbQ0KeF4zVzDg5bKx4eXSd84vzStRMOTl0g+pLEhV0A9ITE8tBvK8M1OKFaItFAwUgmKB3IDEolSgOlMQn5fLzo6Xi5cLAEOtEAkNCmVuZHN0cmVhbQ0KZW5kb2JqDQoxMiAwIG9iag0KPDwNCi9Sb290IDQgMCBSDQovSW5kZXggWzAgMSA3IDEgMTEgMl0NCi9TaXplIDEzDQovVHlwZSAvWFJlZg0KL1cgWzEgMiAxXQ0KL1ByZXYgNzk4DQovTGVuZ3RoIDI0DQovRmlsdGVyIC9GbGF0ZURlY29kZQ0KPj4NCnN0cmVhbQ0KeF5jYGD4z8TAzcDIwsLAyLKbAQAPSwHWDQplbmRzdHJlYW0NCmVuZG9iag0KDQpzdGFydHhyZWYNCjEyMTENCiUlRU9GDQo="},e.prototype.getPageRotation=function(e){return 0===e.rotate?0:90===e.rotate?1:180===e.rotate?2:270===e.rotate?3:0},e.prototype.stampAnnoattionRender=function(e,i){if(!(0,t.isNullOrUndefined)(e))for(var n=0;n<e.length;n++){var o=e[parseInt(n.toString(),10)]._operands;switch(e[parseInt(n.toString(),10)]._operator){case"q":var r={restorecanvas:!1};this.htmldata.push(r);break;case"Q":r={restorecanvas:!0};this.htmldata.push(r);break;case"Tr":this.renderingMode=parseInt(o[0],10);break;case"TJ":case"Tj":this.textString=e[parseInt(n.toString(),10)]._operands[0];r={type:"string",text:this.textString,currentFontname:this.currentFont,baseFontName:this.baseFont,fontSize:this.fontSize};this.htmldata.push(r);break;case"'":this.textString=e[parseInt(n.toString(),10)]._operands[0];r={type:"string",text:this.textString,currentFontname:this.currentFont,baseFontName:this.baseFont,fontSize:this.fontSize};this.htmldata.push(r);break;case"Tf":var a=0;for(a=0;a<o.length;a++)if(o[parseInt(a.toString(),10)].includes("/")){this.currentFont=o[parseInt(a.toString(),10)].replace("/","");break}if(this.fontSize=parseInt(o[a+1],10),i.dictionary.has("Resources")){var s=i.dictionary.get("Resources");if(!(0,t.isNullOrUndefined)(s)){var l=s.get("Font");if(!(0,t.isNullOrUndefined)(l)&&"Tf"===e[parseInt(n.toString(),10)]._operator){var d=o[0].replace("/",""),h=l.get(d);if(!(0,t.isNullOrUndefined)(h)&&!(0,t.isNullOrUndefined)(h.dictionary)){var A=h.dictionary;this.baseFont=A.get("BaseFont")}}}}break;case"Do":if(i.dictionary.has("Resources")){s=i.dictionary.get("Resources");if(!(0,t.isNullOrUndefined)(s)){var p=s.get("XObject");if(!(0,t.isNullOrUndefined)(p)&&"Do"===e[parseInt(n.toString(),10)]._operator){var c=o[0].replace("/","");if(p.has(c)){h=p.get(c);if(!(0,t.isNullOrUndefined)(h)&&!(0,t.isNullOrUndefined)(h.dictionary)){if("Image"===(A=h).dictionary.get("Subtype").name){var g=new wA(A,A.dictionary);if(!(0,t.isNullOrUndefined)(g)){var u="data:image/png;base64,"+Er(g.getImageStream());r={imagedata:u};this.htmldata.push(r),this.Imagedata=u}}else if("Form"===A.dictionary.get("Subtype").name){var f=cr(A.getString(),!0),m=new La(f)._readContent();this.stampAnnoattionRender(m,A)}this.IsMaskedImage=!1,A.dictionary.get("SMask")&&(this.IsMaskedImage=!0)}}}}}}}},e.prototype.getStateModelString=function(e){switch(e){case ot.review:return"Review";case ot.marked:return"Marked";case ot.none:default:return"None"}},e.prototype.getStateString=function(e){switch(e){case nt.accepted:return"Accepted";case nt.rejected:return"Rejected";case nt.cancel:return"Cancelled";case nt.completed:return"Completed";case nt.none:return"None";case nt.unmarked:return"Unmarked";case nt.marked:return"Marked";case nt.unknown:return"Unknown";default:return null}},e.prototype.getBounds=function(e,t,n,o){var r;return 0===o?r=new i.Rect(e.x,e.y,e.width,e.height):1===o?r=new i.Rect(this.convertPixelToPoint(n-this.convertPointToPixel(e.y)-this.convertPointToPixel(e.height)),e.x,e.height,e.width):2===o?r=new i.Rect(this.convertPixelToPoint(n-this.convertPointToPixel(e.x)-this.convertPointToPixel(e.width)),this.convertPixelToPoint(t-this.convertPointToPixel(e.y)-this.convertPointToPixel(e.height)),e.width,e.height):3===o&&(r=new i.Rect(e.y,this.convertPixelToPoint(t-this.convertPointToPixel(e.x)-this.convertPointToPixel(e.width)),e.height,e.width)),r},e.prototype.getRubberStampBounds=function(e,n,o,r,a){var s=new i.Rect,l=0,d=0;if(0===a)l=n.x+n.width/2,d=n.y+n.height/2,s=new i.Rect(l-e.width/2,d-e.height/2,e.width,e.height);else if(1===a){var h=this.convertPixelToPoint(r-this.convertPointToPixel((0,t.isNullOrUndefined)(n.Y)?n.y:n.Y)-this.convertPointToPixel(n.height)),A=(0,t.isNullOrUndefined)(n.X)?n.x:n.X;l=h+n.height/2,d=A+n.width/2,s=new i.Rect(l-e.width/2,d-e.height/2,e.width,e.height)}else if(2===a){h=this.convertPixelToPoint(r-this.convertPointToPixel((0,t.isNullOrUndefined)(n.X)?n.x:n.X)-this.convertPointToPixel(n.width)),A=this.convertPixelToPoint(o-this.convertPointToPixel((0,t.isNullOrUndefined)(n.Y)?n.y:n.Y)-this.convertPointToPixel(n.height));l=h+n.width/2,d=A+n.height/2,s=new i.Rect(l-e.width/2,d-e.height/2,e.width,e.height)}else if(3===a){h=(0,t.isNullOrUndefined)(n.Y)?n.y:n.Y,A=this.convertPixelToPoint(o-this.convertPointToPixel((0,t.isNullOrUndefined)(n.X)?n.x:n.X)-this.convertPointToPixel(n.width));l=h+n.height/2,d=A+n.width/2,s=new i.Rect(l-e.width/2,d-e.height/2,e.width,e.height)}return s},e.prototype.convertPixelToPoint=function(e){return 72*e/96},e.prototype.convertPointToPixel=function(e){return 96*e/72},e.prototype.getRotateAngleString=function(e){switch(e){case Ge.angle0:return"RotateAngle0";case Ge.angle90:return"RotateAngle90";case Ge.angle180:return"RotateAngle180";case Ge.angle270:return"RotateAngle270";default:return"RotateAngle0"}},e.prototype.checkName=function(e){if("Name"in e._dictionary){var i=e.getValues("Name");if(!(0,t.isNullOrUndefined)(i)&&i.indexOf("#")>-1)return!0}return!1},e.prototype.getAllFreeTextAnnotations=function(e){for(var t=[],i=0;i<e.count;i++){var n=e.at(i);n instanceof yo&&t.push(n)}return t},e.prototype.getShapeFreeText=function(e,i){return(0,t.isNullOrUndefined)(e)||""===e?null:i.find((function(t){return null!=t.name&&t.name.includes(e)}))},e.prototype.setAnnotationName=function(e){var t=e+this.annotationCount.toString();return this.annotationCount++,t},e.prototype.isFreeTextAnnotationType=function(e){var i=!0;if(e._dictionary.has("AnnotationType")){var n=e.getValues("AnnotationType");(0,t.isNullOrUndefined)(n)||"Signature"!==n[0]||(i=!1)}return i},e}(),Lh=function(){},Oh=function(){function e(e,t){this.bookmarkStyles=[],this.bookmarkCollection=[],this.pageRotationCollection=[],this.bookmarkDictionary={},this.annotationDetailCollection={},this.documentTextCollection=[],this.pageSizes={},this.isCompletePageSizeNotReceieved=!0,this.x=0,this.y=0,this.zoom=1,this.id=0,this.pageIndex=0,this.scaleFactor=1.5,this.restrictionList=[],this.securityList=["Print","EditContent","CopyContent","EditAnnotations","FillFields","AccessibilityCopyContent","AssembleDocument","FullQualityPrint"],this._fallbackFontCollection={},this.document=null,this.isDummyInserted=!1,this.pdfViewer=e,this.pdfViewerBase=t}return Object.defineProperty(e.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ReferencePath",{get:function(){return this.mReferencePath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"referencePath",{set:function(e){this.mReferencePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ScaleFactor",{get:function(){return this.scaleFactor},set:function(e){this.scaleFactor=e,this.scaleFactor<=0&&(this.scaleFactor=1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FallbackFontCollection",{get:function(){return this._fallbackFontCollection},set:function(e){this._fallbackFontCollection=e},enumerable:!0,configurable:!0}),e.prototype.load=function(e,t,i,n){try{"VirtualLoad"!==n.action&&(this.loadedDocument=new Os(e,i||""),this.loadedByteArray=e,this.password=i,this.isCompletePageSizeNotReceieved=!0)}catch(e){return"Invalid PDF structure."===e.message?"3":"Cannot open an encrypted document. The password is invalid."===e.message||"Invalid cross reference"===e.message?"4":e.message}var o=this.loadDocument(e,t,i,n);return this.bookmarkStyles=[],this.bookmarkCollection=[],this.bookmarkDictionary={},JSON.stringify(o)},e.prototype.loadImportDocument=function(e,t,i,n){try{"VirtualLoad"!==n.action&&(this.loadImportedDocument=new Os(e,i||""),this.loadImportedBase64String=e,this.importedDocpassword=i)}catch(e){return"Invalid PDF structure."===e.message?"3":"Cannot open an encrypted document. The password is invalid."===e.message||"Invalid cross reference"===e.message?"4":e.message}var o={uniqueId:t,password:this.importedDocpassword};return this.loadImportedDocument.destroy(),this.loadImportedDocument=null,JSON.stringify(o)},e.prototype.loadDocument=function(e,i,n,o){Object.prototype.hasOwnProperty.call(o,"isCompletePageSizeNotReceived")&&(this.isCompletePageSizeNotReceieved=!o.isCompletePageSizeNotReceived),this.pageCount=this.loadedDocument.pageCount,this.pageSizes=this.getPageSizes(this.pageCount);var r=[];if(this.formFieldsBase=new Kh(this.pdfViewer,this.pdfViewerBase,!1),this.restrictionList=[],(0,t.isNullOrUndefined)(this.loadedDocument)||this.documentSecurity(n),(0,t.isNullOrUndefined)(this.loadedDocument)||(Object.prototype.hasOwnProperty.call(o,"hideEmptyDigitalSignatureFields")&&(this.formFieldsBase.hideEmptyDigitalSignatureFields=o.hideEmptyDigitalSignatureFields),Object.prototype.hasOwnProperty.call(o,"showDigitalSignatureAppearance")&&(this.formFieldsBase.showDigitalSignatureAppearance=o.showDigitalSignatureAppearance)),!(0,t.isNullOrUndefined)(this.formFieldsBase)&&this.pageSizes&&Object.keys(this.pageSizes).length<=100&&(this.formFieldsBase.GetFormFields(),r=this.formFieldsBase.PdfRenderedFormFields),this.formFieldsBase.mIsDigitalSignaturePresent){var a=new Os(e,""),s=a.form;if(!(0,t.isNullOrUndefined)(s)&&!(0,t.isNullOrUndefined)(s._fields))for(var l=0;l<s.count;l++)if(s.fieldAt(l)instanceof Gn){var d=s.fieldAt(l);d.isSigned&&this.formFieldsBase.showDigitalSignatureAppearance&&(d.flatten=!0)}this.digitialByteArray=a.save(),a.destroy()}return{pageCount:this.pageCount,pageSizes:this.pageSizes,uniqueId:i,PdfRenderedFormFields:r,RestrictionSummary:this.restrictionList,isDigitalSignaturePresent:this.formFieldsBase.mIsDigitalSignaturePresent,digitialSignatureFile:!!this.digitialByteArray,isTaggedPdf:!1,pageRotation:this.pageRotationCollection}},e.prototype.documentSecurity=function(e){var i=this.loadedDocument.isEncrypted&&(!this.loadedDocument.isUserPassword||this.loadedDocument._hasUserPasswordOnly);!(0,t.isNullOrUndefined)(e)&&""!==e&&i?this.restrictionSummary(e,!0):this.restrictionSummary(e,!1)},e.prototype.restrictionSummary=function(e,t){var i=e||"",n=e||"",o=this.getPermissionArray(this.loadedDocument.permissions),r=this.loadedDocument.isEncrypted;if(1!==o.length||"Default"!==o[0]||r&&""===i&&""===n)for(var a=0;a<this.securityList.length;a++){for(var s=!1,l=0;l<o.length;l++)if(o[parseInt(l.toString(),10)].trim()===this.securityList[parseInt(a.toString(),10)].trim()){s=!0;break}s||t||this.restrictionList.push(this.securityList[parseInt(a.toString(),10)].trim())}else if(1===o.length&&"Default"===o[0]&&r&&!t)for(a=0;a<this.securityList.length;a++)this.restrictionList.push(this.securityList[parseInt(a.toString(),10)].trim())},e.prototype.getPermissionArray=function(e){var t=[];return e===ut.default?t.push("Default"):(e&ut.fullQualityPrint&&t.push("FullQualityPrint"),e&ut.assembleDocument&&t.push("AssembleDocument"),e&ut.accessibilityCopyContent&&t.push("AccessibilityCopyContent"),e&ut.fillFields&&t.push("FillFields"),e&ut.editAnnotations&&t.push("EditAnnotations"),e&ut.copyContent&&t.push("CopyContent"),e&ut.editContent&&t.push("EditContent"),e&ut.print&&t.push("Print")),t},e.prototype.getPageSizes=function(e){var t={},i=e;if(e>100&&(i=100),this.isCompletePageSizeNotReceieved)for(var n=0;n<i;n++){t[n.toString()]=this.getPageSize(n);var o=this.loadedDocument.getPage(n).rotation%4;this.pageRotationCollection.push(o)}else for(n=i;n<e;n++){t[n.toString()]=this.getPageSize(n);o=this.loadedDocument.getPage(n).rotation%4;this.pageRotationCollection.push(o)}return t},e.prototype.getPageSize=function(e){var t=this.loadedDocument.getPage(e),n=t.size,o=t.rotation%4;return o===Ge.angle0||o===Ge.angle180?new i.Size(this.convertPointToPixel(n[0]),this.convertPointToPixel(n[1])):new i.Size(this.convertPointToPixel(n[1]),this.convertPointToPixel(n[0]))},e.prototype.convertPointToPixel=function(e){return 96*e/72},e.prototype.convertPixelToPoint=function(e){return.75*e},e.prototype.getDocumentAsBase64=function(e){this.loadedDocument=new Os(this.loadedByteArray,this.password);var i=null;if(Object.prototype.hasOwnProperty.call(e,"digitalSignatureDocumentEdited")&&!e.digitalSignatureDocumentEdited)return this.loadedDocument.save();var n=new Xh(this.pdfViewer,this.pdfViewerBase),o=new Kh(this.pdfViewer,this.pdfViewerBase);if(n.removeSignatureTypeAnnot(e,this.loadedDocument),this.orderAnnotations(e),Object.prototype.hasOwnProperty.call(e,"isFormFieldAnnotationsExist")&&e.isFormFieldAnnotationsExist&&(Object.prototype.hasOwnProperty.call(e,"formDesigner")&&!(0,t.isNullOrUndefined)(e.formDesigner)?o.saveFormFieldsDesignerData(e):Object.prototype.hasOwnProperty.call(e,"fieldsData")&&o.saveFormFieldsData(e)),Object.prototype.hasOwnProperty.call(e,"organizePages")){var r=this.loadedDocument.save();i=new Os(r,this.password);var a=JSON.parse(e.organizePages);if(a.length>0){var s=this.rearrangePages(a);this.deletePdfPages(a,s),this.insertPdfPages(a),this.copyPages(a,i),this.rotatePages(a),this.importPages(a),this.isDummyInserted&&(this.loadedDocument.removePage(this.loadedDocument.pageCount-1),this.isDummyInserted=!1)}i.destroy(),i=null}var l=this.loadedDocument.save();return null!=this.document&&(this.document.destroy(),this.document=null),l},e.prototype.rearrangePages=function(e){var t=this,i=[];if(e.length>0){for(var n=JSON.parse(JSON.stringify(e)).sort((function(e,i){return t.pdfViewer.pageOrganizer.sorting(e.currentPageIndex,i.currentPageIndex)})),o=0;o<n.length;o++){var r=n[parseInt(o.toString(),10)];!r.isInserted&&!r.isCopied&&!r.isImportedDoc&&null!==r.currentPageIndex&&null!==r.pageIndex&&parseInt(r.pageIndex.toString(),10)>=0&&i.push(parseInt(r.pageIndex.toString(),10))}var a=n.filter((function(e){return e.isDeleted&&null===e.currentPageIndex}));for(o=0;o<a.length;o++){var s=a[parseInt(o.toString(),10)];i=i.slice(0,s.pageIndex).concat([s.pageIndex],i.slice(s.pageIndex))}i.length>0&&this.loadedDocument.reorderPages(i)}return i},e.prototype.rotatePages=function(e){if(e.length>0)for(var i=0,n=0;n<e.length;n++){var o=e[parseInt(n.toString(),10)].pageIndex,r=e[parseInt(n.toString(),10)].currentPageIndex,a=e[parseInt(n.toString(),10)].isDeleted,s=e[parseInt(n.toString(),10)].isInserted,l=e[parseInt(n.toString(),10)].isCopied,d=e[parseInt(n.toString(),10)].isImportedDoc,h=e[parseInt(n.toString(),10)].rotateAngle;if(d&&i++,!((0,t.isNullOrUndefined)(r)||(0,t.isNullOrUndefined)(h)||a||s||l||d||-1===o))this.loadedDocument.getPage(r-i).rotation=this.getPdfRotationAngle(h)}},e.prototype.insertPdfPages=function(e){if(e.length>0)for(var i=0,n=0;n<e.length;n++){var o=e[parseInt(n.toString(),10)].pageIndex,r=e[parseInt(n.toString(),10)].currentPageIndex,a=e[parseInt(n.toString(),10)].isDeleted,s=e[parseInt(n.toString(),10)].isInserted,l=e[parseInt(n.toString(),10)].isCopied,d=e[parseInt(n.toString(),10)].isImportedDoc,h=void 0;if((0,t.isNullOrUndefined)(e[parseInt(n.toString(),10)].pageSize)||(h=[this.convertPixelToPoint(e[parseInt(n.toString(),10)].pageSize.width),this.convertPixelToPoint(e[parseInt(n.toString(),10)].pageSize.height)]),(l||d)&&i++,!(0,t.isNullOrUndefined)(r)&&!a&&s&&-1===o){var A=e[parseInt(n.toString(),10)].rotateAngle,p=new Hs;p.rotation=this.getPdfRotationAngle(A),(0,t.isNullOrUndefined)(h)||(p.size=h),this.loadedDocument.addPage(r-i,p)}}},e.prototype.copyPages=function(e,i){if(e.length>0)for(var n=0,o=0;o<e.length;o++){var r=e[parseInt(o.toString(),10)].pageIndex,a=e[parseInt(o.toString(),10)].currentPageIndex,s=e[parseInt(o.toString(),10)].copiedPageIndex,l=e[parseInt(o.toString(),10)].isDeleted,d=e[parseInt(o.toString(),10)].isInserted,h=e[parseInt(o.toString(),10)].isCopied,A=e[parseInt(o.toString(),10)].isImportedDoc,p=e[parseInt(o.toString(),10)].rotateAngle;if(A&&n++,!(0,t.isNullOrUndefined)(a)&&!l&&!d&&!A&&h&&-1===r){var c=i.getPage(s);c.rotation=this.getPdfRotationAngle(p);var g=new Ns;g.targetIndex=a-n,g.groupFormFields=!0,this.loadedDocument.importPage(c,i,g)}}},e.prototype.importPages=function(e){if(e.length>0)for(var i=e.length-1;i>=0;i--){var n=e[parseInt(i.toString(),10)].pageIndex,o=e[parseInt(i.toString(),10)].currentPageIndex,r=e[parseInt(i.toString(),10)].isDeleted,a=e[parseInt(i.toString(),10)].isInserted,s=e[parseInt(i.toString(),10)].isCopied,l=e[parseInt(i.toString(),10)].isImportedDoc,d=e[parseInt(i.toString(),10)].documentData,h=e[parseInt(i.toString(),10)].password;if(!(0,t.isNullOrUndefined)(o)&&!r&&!a&&!s&&l&&-1===n){for(var A=0,p=0;p<i;p++)e[parseInt(p.toString(),10)].isImportedDoc&&A++;d=this.pdfViewerBase.convertBase64(d),this.document=null,this.document=new Os(d,h);var c=new Ns;c.targetIndex=o-A,c.groupFormFields=!0,this.loadedDocument.importPageRange(this.document,0,this.document.pageCount-1,c)}}},e.prototype.deletePdfPages=function(e,i){if(e.length>0){for(var n=JSON.parse(JSON.stringify(e)),o=[],r=0,a=this.loadedDocument.pageCount,s=function(e){n.find((function(t){return t.pageIndex===i[parseInt(e.toString(),10)]}))&&(o[parseInt(e.toString(),10)]=n.find((function(t){return t.pageIndex===i[parseInt(e.toString(),10)]})))},l=0;l<n.length;l++)s(l);for(l=o.length-1;l>=0;l--){var d=0,h=o[parseInt(l.toString(),10)].pageIndex,A=o[parseInt(l.toString(),10)].isDeleted;if(!(0,t.isNullOrUndefined)(h)&&A){r+1===a&&(this.loadedDocument.addPage(),this.isDummyInserted=!0);for(var p=l-1;p>=0;p--)l!==o[parseInt(l.toString(),10)].pageIndex&&d++;d>o[parseInt(l.toString(),10)].pageIndex?(d-=o[parseInt(l.toString(),10)].pageIndex,this.loadedDocument.removePage(h+d)):this.loadedDocument.removePage(h),r++}}}},e.prototype.getPdfRotationAngle=function(e){switch(e){case 0:default:return Ge.angle0;case 90:return Ge.angle90;case 180:return Ge.angle180;case 270:return Ge.angle270}},e.prototype.importAnnotations=function(e){try{var t=new Xh(this.pdfViewer,this.pdfViewerBase),i=e.importedData;t.removeSignatureTypeAnnot(e,this.loadedDocument);var n=e.annotationDataFormat;if("string"==typeof n){switch(this.loadedDocument._allowImportCustomData=!0,n.toLowerCase()){case"json":this.loadedDocument.importAnnotations(i,lt.json);break;case"xfdf":this.loadedDocument.importAnnotations(i,lt.xfdf)}for(var o=0;o<this.loadedDocument.pageCount;o++){var r=o,a=this.getPageSize(r),s=new Rh(this.pdfViewer,this.pdfViewerBase);s.exportAnnotationComments(r,a),this.annotationDetailCollection[o.toString()]=new Yh,this.annotationDetailCollection[parseInt(o.toString(),10)].textMarkupAnnotation=s.textMarkupAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].shapeAnnotation=s.shapeAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].measureShapeAnnotation=s.measureAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].stampAnnotations=s.rubberStampAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].stickyNotesAnnotation=s.stickyAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].freeTextAnnotation=s.freeTextAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].signatureAnnotation=s.signatureAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].signatureInkAnnotation=s.signatureInkAnnotationList,this.annotationDetailCollection[parseInt(o.toString(),10)].annotationOrder=s.annotationOrder,this.removeAnnotationsFromCollection(s)}var l=JSON.parse(JSON.stringify(this.annotationDetailCollection));return Object.prototype.hasOwnProperty.call(e,"uniqueId")?{pdfAnnotation:l,uniqueId:e.uniqueId}:{pdfAnnotation:l}}}catch(e){return e.message}},e.prototype.removeAnnotationsFromCollection=function(e){e.textMarkupAnnotationList=[],e.shapeAnnotationList=[],e.measureAnnotationList=[],e.rubberStampAnnotationList=[],e.stickyAnnotationList=[],e.freeTextAnnotationList=[],e.signatureAnnotationList=[],e.signatureInkAnnotationList=[],e.annotationOrder=[]},e.prototype.exportAnnotation=function(e,t){new Xh(this.pdfViewer,this.pdfViewerBase).removeSignatureTypeAnnot(e,this.loadedDocument),this.orderAnnotations(e);var i=new Us,n=e.annotationDataFormat;if("string"==typeof n)switch(n.toLowerCase()){case"json":return i.dataFormat=lt.json,t?(i.exportAppearance=t,this.loadedDocument.exportAnnotations(i)):(this.changeFileExtension(this.pdfViewer.fileName,"json"),this.loadedDocument.exportAnnotations(i));case"xfdf":return i.dataFormat=lt.xfdf,t?(i.exportAppearance=t,this.loadedDocument.exportAnnotations(i)):(this.changeFileExtension(this.pdfViewer.fileName,"xfdf"),this.loadedDocument.exportAnnotations(i))}return null},e.prototype.changeFileExtension=function(e,t){var i=e.lastIndexOf(".");return-1===i?e+"."+t:e.slice(0,i)+"."+t},e.prototype.orderAnnotations=function(e){var i=new Xh(this.pdfViewer,this.pdfViewerBase),n=new gA(this.pdfViewer,this.pdfViewerBase);if(Object.prototype.hasOwnProperty.call(e,"isAnnotationsExist")&&e.isAnnotationsExist&&Object.prototype.hasOwnProperty.call(e,"annotationCollection")){for(var o=JSON.parse(e.annotationCollection),r=o.length,a=function(n){var r=o[parseInt(n.toString(),10)].shapeAnnotationType,a=o[parseInt(n.toString(),10)];switch(!Object.prototype.hasOwnProperty.call(a,"calibrate")||"Circle"!==a.shapeAnnotationType&&"Line"!==a.shapeAnnotationType&&"Polygon"!==a.shapeAnnotationType&&"Polyline"!==a.shapeAnnotationType?Object.prototype.hasOwnProperty.call(a,"calibrate")||"Line"!==a.shapeAnnotationType&&"Circle"!==a.shapeAnnotationType&&"Polygon"!==a.shapeAnnotationType&&"Square"!==a.shapeAnnotationType&&"Polyline"!==a.shapeAnnotationType||(r="shapeAnnotation"):r="measureShapes",r){case"textMarkup":if(Object.prototype.hasOwnProperty.call(e,"textMarkupAnnotations")){var l=JSON.parse(e.textMarkupAnnotations),d=a.pageNumber.toString(),h=(p=l[parseInt(d,10)]).find((function(e){return e.annotName.toString()===a.annotationId.toString()}));h&&(a=h,i.addTextMarkup(a,s.loadedDocument))}break;case"shapeAnnotation":if(Object.prototype.hasOwnProperty.call(e,"shapeAnnotations")){var A=JSON.parse(e.shapeAnnotations),p=(d=a.pageNumber.toString(),A[parseInt(d,10)]),c=s.loadedDocument.getPage(parseInt(d,10));(f=p.find((function(e){return e.annotName.toString()===a.annotationId.toString()})))&&(a=f,i.addShape(a,c))}break;case"stamp":if(Object.prototype.hasOwnProperty.call(e,"stampAnnotations")){var g=JSON.parse(e.stampAnnotations),u=(d=a.pageNumber.toString(),p=g[parseInt(d,10)],c=s.loadedDocument.getPage(parseInt(d,10)),p.find((function(e){return e.annotName.toString()===a.annotationId.toString()})));u&&(a=u,i.addCustomStampAnnotation(a,c))}break;case"measureShapes":if(Object.prototype.hasOwnProperty.call(e,"measureShapeAnnotations")){A=JSON.parse(e.measureShapeAnnotations),d=a.pageNumber.toString(),p=A[parseInt(d,10)],c=s.loadedDocument.getPage(parseInt(d,10));(f=p.find((function(e){return e.annotName.toString()===a.annotationId.toString()})))&&(a=f,i.addMeasure(a,c))}break;case"sticky":if(Object.prototype.hasOwnProperty.call(e,"stickyNotesAnnotation")){A=JSON.parse(e.stickyNotesAnnotation),d=a.pageNumber.toString(),p=A[parseInt(d,10)],c=s.loadedDocument.getPage(parseInt(d,10));(f=p.find((function(e){return e.annotName.toString()===a.annotationId.toString()})))&&(a=f,i.addStickyNotes(a,c))}break;case"Ink":if(Object.prototype.hasOwnProperty.call(e,"inkSignatureData")){var f;A=JSON.parse(e.inkSignatureData),d=a.pageNumber.toString(),p=A[parseInt(d,10)],c=s.loadedDocument.getPage(parseInt(d,10));(f=p.find((function(e){return e.annotName.toString()===a.annotationId.toString()})))&&(a=f,i.saveInkSignature(a,c))}break;case"FreeText":if(Object.prototype.hasOwnProperty.call(e,"freeTextAnnotation")){var m=JSON.parse(e.freeTextAnnotation),w=(d=a.pageNumber.toString(),p=m[parseInt(d,10)],c=s.loadedDocument.getPage(parseInt(d,10)),p.find((function(e){return e.annotName.toString()===a.annotationId.toString()})));(0,t.isNullOrUndefined)(w)||(a=w,(0,t.isNullOrUndefined)(s.FallbackFontCollection)||0===Object.keys(s.FallbackFontCollection).length?i.addFreeText(a,c):i.addFreeText(a,c,s.FallbackFontCollection))}}},s=this,l=0;l<r;l++)a(l);e.signatureData&&(e.isSignatureEdited?n.saveSignatureAsAnnotatation(e,this.loadedDocument):n.saveSignatureData(e,this.loadedDocument))}},e.prototype.getAnnotationComments=function(e){try{if(Object.prototype.hasOwnProperty.call(e,"pageStartIndex")&&!(0,t.isNullOrUndefined)(e.pageStartIndex)){for(var i=parseInt(e.pageStartIndex,10),n=parseInt(e.pageEndIndex,10),o={},r=i;r<n;r++){var a=r,s=this.getPageSize(a);this.renderer=new Rh(this.pdfViewer,this.pdfViewerBase),o[a.toString()]=this.renderer.exportAnnotationComments(a,s)}return{uniqueId:e.uniqueId,annotationDetails:o,startPageIndex:i,endPageIndex:n,isAnnotationPresent:this.renderer.isAnnotationPresent}}return""}catch(e){return e.message}},e.prototype.getBookmarks=function(e){try{var i=this.loadedDocument.bookmarks;if(!(0,t.isNullOrUndefined)(i)&&Object.prototype.hasOwnProperty.call(e,"bookmarkStyles"))for(var n=0;n<i.count;n++)this.retrieveFontStyles(i.at(n),!1);if((0,t.isNullOrUndefined)(i)||(0,t.isNullOrUndefined)(i.count)||0===i.count)return null;for(n=0;n<i.count;n++){var o=i.at(n),r=new fA,a=o.destination?o.destination:o.namedDestination&&o.namedDestination.destination?o.namedDestination.destination:null;r.X=(0,t.isNullOrUndefined)(a)?0:a.location[0],r.PageIndex=(0,t.isNullOrUndefined)(a)?0:a.pageIndex,r.Zoom=(0,t.isNullOrUndefined)(a)?0:a.zoom;var s=new uA;s.Id=++this.id,s.Title=o.title,s.Child=[],s.FileName=(0,t.isNullOrUndefined)(o.action)?"":o.action.toString(),(0,t.isNullOrUndefined)(a)?r.Y=0:a.page.rotation===Ge.angle90?r.Y=this.convertPointToPixel(a.page.size[0])-this.convertPointToPixel(Math.abs(a.location[1])):a.page.rotation===Ge.angle270?r.Y=this.convertPointToPixel(Math.abs(a.location[1])):r.Y=this.convertPointToPixel(a.page.size[1])-this.convertPointToPixel(Math.abs(a.location[1])),this.bookmarkDictionary[this.id.toString()]=r,s.Child=this.getChildrenBookmark(o),s.Child.length>0&&(s.HasChild=!0),this.bookmarkCollection.push(s)}return Object.prototype.hasOwnProperty.call(e,"uniqueId")?{Bookmarks:JSON.parse(JSON.stringify(this.bookmarkCollection)),BookmarksDestination:JSON.parse(JSON.stringify(this.bookmarkDictionary)),uniqueId:e.uniqueId.toString(),Bookmarkstyles:JSON.parse(JSON.stringify(this.bookmarkStyles))}:{Bookmarks:JSON.parse(JSON.stringify(this.bookmarkCollection)),BookmarksDestination:JSON.parse(JSON.stringify(this.bookmarkDictionary)),Bookmarkstyles:JSON.parse(JSON.stringify(this.bookmarkStyles))}}catch(e){return e.message}},e.prototype.retrieveFontStyles=function(e,i){var n=e,o=new mA;(0,t.isNullOrUndefined)(n)||((0,t.isNullOrUndefined)(n.color)||(o.Color="rgba("+n.color[0]+","+n.color[1]+","+n.color[2]+",1)"),o.FontStyle=this.getPdfTextStyleString(n.textStyle),o.Text=n.title,o.IsChild=i,this.bookmarkStyles.push(o),this.getChildrenStyles(e))},e.prototype.getPdfTextStyleString=function(e){switch(e){case Tt.bold:return"Bold";case Tt.italic:return"Italic";case Tt.regular:default:return"Regular"}},e.prototype.getChildrenStyles=function(e){for(var t=0;t<e.count;t++)this.retrieveFontStyles(e.at(t),!0)},e.prototype.getChildrenBookmark=function(e){var i=[];if(!(0,t.isNullOrUndefined)(e)&&!(0,t.isNullOrUndefined)(e.count)&&e.count>0)for(var n=0;n<e.count;n++){var o=e.at(n),r=o.destination?o.destination:o.namedDestination&&o.namedDestination.destination?o.namedDestination.destination:null;this.id++;var a=o.title;this.pageIndex=(0,t.isNullOrUndefined)(r)?0:r.pageIndex,this.x=(0,t.isNullOrUndefined)(r)?0:r.location[0];var s=(0,t.isNullOrUndefined)(r)?0:Math.abs(r.location[1]);(0,t.isNullOrUndefined)(r)?(this.y=0,this.zoom=0):(r.page.rotation===Ge.angle90?this.y=this.convertPointToPixel(r.page.size[0])-this.convertPointToPixel(s):r.page.rotation===Ge.angle270?this.y=this.convertPointToPixel(s):this.y=this.convertPointToPixel(r.page.size[1])-this.convertPointToPixel(s),this.zoom=r.zoom);var l=new uA;l.Title=a,l.Id=this.id,l.Child=[],l.FileName=(0,t.isNullOrUndefined)(o.action)?"":o.action.toString();var d=new fA;d.X=this.x,d.Y=this.y,d.PageIndex=this.pageIndex,d.Zoom=this.zoom,this.bookmarkDictionary[this.id.toString()]=d,i.push(l),l.Child=this.getChildrenBookmark(o),l.Child.length>0&&(l.HasChild=!0)}return i},e.prototype.getHyperlinks=function(e){return(0,t.isNullOrUndefined)(this.renderer)&&(this.renderer=new Rh(this.pdfViewer,this.pdfViewerBase)),(0,t.isNullOrUndefined)(this.renderer.hyperlinks)&&(this.renderer.hyperlinks=[]),this.exportHyperlinks(e,this.getPageSize(e),!1,!0),{hyperlinks:this.renderer.hyperlinks,hyperlinkBounds:this.renderer.hyperlinkBounds,linkAnnotation:this.renderer.annotationList,linkPage:this.renderer.annotationDestPage,annotationLocation:this.renderer.annotationYPosition}},e.prototype.exportHyperlinks=function(e,i,n,o){var r=this.loadedDocument.getPage(e);this.renderer.hyperlinks=[],this.renderer.hyperlinkBounds=[],this.renderer.annotationDestPage=[],this.renderer.annotationList=[],this.renderer.annotationYPosition=[];for(var a=0;a<r.annotations.count;a++)if(r.annotations.at(a)instanceof ho){var s=r.annotations.at(a),l=this.getHyperlinkBounds(s.bounds,i,r.rotation);(0,t.isNullOrUndefined)(this.renderer.hyperlinks)&&(this.renderer.hyperlinks=[],this.renderer.hyperlinkBounds=[]),this.renderer.hyperlinks.push(s.uri),this.renderer.hyperlinkBounds.push(l)}else if(r.annotations.at(a)instanceof po){var d=r.annotations.at(a);l=this.getHyperlinkBounds(d.bounds,i,r.rotation);(0,t.isNullOrUndefined)(this.renderer.hyperlinks)&&(this.renderer.hyperlinks=[],this.renderer.hyperlinkBounds=[]),this.renderer.hyperlinks.push(d.url),this.renderer.hyperlinkBounds.push(l)}else if(r.annotations.at(a)instanceof Ao){var h=r.annotations.at(a);l=this.getHyperlinkBounds(h.bounds,i,r.rotation);if((0,t.isNullOrUndefined)(this.renderer.annotationDestPage)&&(this.renderer.annotationDestPage=[],this.renderer.annotationList=[],this.renderer.annotationYPosition=[]),!(0,t.isNullOrUndefined)(h.destination)){var A=h.destination.pageIndex;this.renderer.annotationDestPage.push(A),this.renderer.annotationList.push(l),r.rotation===Ge.angle180?this.renderer.annotationYPosition.push(this.convertPointToPixel(Math.abs(h.destination.location[1]))):r.rotation===Ge.angle90||r.rotation===Ge.angle270?this.renderer.annotationYPosition.push(i.width-this.convertPointToPixel(Math.abs(h.destination.location[1]))):this.renderer.annotationYPosition.push(i.height-this.convertPointToPixel(Math.abs(h.destination.location[1])))}}},e.prototype.getHyperlinkBounds=function(e,t,i){var n;return i===Ge.angle0?n=new dA(this.convertPointToPixel(e.x),this.convertPointToPixel(e.y),this.convertPointToPixel(e.width),this.convertPointToPixel(e.height)):i===Ge.angle90?n=new dA(t.width-this.convertPointToPixel(e.y-e.height),this.convertPointToPixel(e.x),this.convertPointToPixel(e.height),this.convertPointToPixel(e.width)):i===Ge.angle180?n=new dA(t.width-this.convertPointToPixel(e.x-e.width),t.height-this.convertPointToPixel(e.y-e.height),this.convertPointToPixel(e.width),this.convertPointToPixel(e.height)):i===Ge.angle270&&(n=new dA(this.convertPointToPixel(e.y),t.height-this.convertPointToPixel(e.x-e.width),this.convertPointToPixel(e.height),this.convertPointToPixel(e.width))),n},e.prototype.exportFormFields=function(e,t){var i=new Kh(this.pdfViewer,this.pdfViewerBase);i.saveFormFieldsData(e),i.saveFormFieldsDesignerData(e),Object.prototype.hasOwnProperty.call(e,"fileName")||(e.fileName="undefined.pdf"),this.loadedDocument.form.exportEmptyFields=!0;var n=lt.json;Object.prototype.hasOwnProperty.call(e,"formFieldDataFormat")&&(n=this.exportDataFormat(e.formFieldDataFormat));var o=new zs;return o.dataFormat=n,t?this.loadedDocument.exportFormData(o):(this.changeFileExtension(this.pdfViewer.fileName,this.fileFormat(n)),this.loadedDocument.exportFormData(o))},e.prototype.importFormFields=function(e){try{var t=new Kh(this.pdfViewer,this.pdfViewerBase);t.saveFormFieldsDesignerData(e);var i=this.exportDataFormat(e.formFieldDataFormat);if(!this.isBase64(e.data)&&!this.isUint8Array(e.data)){"Json"===e.formFieldDataFormat&&(e.data=JSON.parse(e.data));var n=(new TextEncoder).encode(e.data);e.data=new Uint8Array(n)}Object.prototype.hasOwnProperty.call(e,"formFieldDataFormat")&&this.loadedDocument.importFormData(e.data,i),(t=new Kh(this.pdfViewer,this.pdfViewerBase)).GetFormFields();return{PdfRenderedFormFields:t.PdfRenderedFormFields}}catch(e){return null}},e.prototype.isUint8Array=function(e){return e instanceof Uint8Array},e.prototype.isBase64=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e.prototype.exportDataFormat=function(e){var t;switch(e){case"Json":t=lt.json;break;case"Xfdf":t=lt.xfdf;break;case"Fdf":t=lt.fdf;break;case"Xml":t=lt.xml}return t},e.prototype.fileFormat=function(e){var t;switch(e){case 0:t="fdf";break;case 1:t="xfdf";break;case 2:t="json";break;case 3:t="xml"}return t},e.prototype.exportAsImage=function(e){var t=this;return new Promise((function(i,n){i(t.pdfiumExportAsImage(e))}))},e.prototype.exportAsImages=function(e,t){var i=this;return new Promise((function(n,o){n(i.pdfiumExportAsImages(e,t))}))},e.prototype.exportAsImagewithSize=function(e,t){var i=this;return new Promise((function(n,o){n(i.pdfiumExportAsImage(e,t))}))},e.prototype.exportAsImagesWithSize=function(e,t,i){var n=this;return new Promise((function(o,r){o(n.pdfiumExportAsImages(e,t,i))}))},e.prototype.pdfiumExportAsImage=function(e,i){var n=this,o=this;return new Promise((function(r,a){(0,t.isNullOrUndefined)(n.pdfViewerBase.pdfViewerRunner)||(0,t.isNullOrUndefined)(n.loadedDocument)?r(null):(i=(0,t.isNullOrUndefined)(i)?null:i,n.pdfViewerBase.pdfViewerRunner.postMessage({pageIndex:e,message:"extractImage",zoomFactor:n.pdfViewer.magnificationModule.zoomFactor,isTextNeed:!1,size:i}),n.pdfViewerBase.pdfViewerRunner.onmessage=function(e){if("imageExtracted"===e.data.message){var t=document.createElement("canvas"),i=e.data,n=i.value,a=i.width,s=i.height;t.width=a,t.height=s;var l=t.getContext("2d"),d=l.createImageData(a,s);d.data.set(n),l.putImageData(d,0,0);var h=t.toDataURL();o.pdfViewerBase.releaseCanvas(t),r(h)}})}))},e.prototype.pdfiumExportAsImages=function(e,i,n){var o=this,r=this;return new Promise((function(a,s){if((0,t.isNullOrUndefined)(o.pdfViewerBase.pdfViewerRunner)||(0,t.isNullOrUndefined)(o.loadedDocument))a(null);else{e<0&&(e=0),i>o.loadedDocument.pageCount-1&&(i=o.loadedDocument.pageCount-1),e>i&&s("Invalid page index"),n=(0,t.isNullOrUndefined)(n)?null:n;for(var l=[],d=i-e+1,h=e;h<=i;h++)o.pdfViewerBase.pdfViewerRunner.postMessage({pageIndex:h,message:"extractImage",zoomFactor:o.pdfViewer.magnificationModule.zoomFactor,isTextNeed:!1,size:n});o.pdfViewerBase.pdfViewerRunner.onmessage=function(e){if("imageExtracted"===e.data.message){var t=document.createElement("canvas"),i=e.data,n=i.value,o=i.width,s=i.height;t.width=o,t.height=s;var h=t.getContext("2d"),A=h.createImageData(o,s);A.data.set(n),h.putImageData(A,0,0);var p=t.toDataURL();r.pdfViewerBase.releaseCanvas(t),l.push(p),l.length===d&&a(l)}}}}))},e.prototype.extractText=function(e,i){var n=this;return new Promise((function(o,r){o(n.textExtraction(e,!!(0,t.isNullOrUndefined)(i)||i))}))},e.prototype.textExtraction=function(e,i,n,o,r,a){var s=this;return this.documentTextCollection=[],new Promise((function(i,l){(0,t.isNullOrUndefined)(s.pdfViewerBase.pdfViewerRunner)?i(null):s.pdfViewerBase.pdfViewerRunner.postMessage({pageIndex:e,message:"extractText",zoomFactor:s.pdfViewerBase.getZoomFactor(),isTextNeed:!0,isRenderText:n,jsonObject:o,requestType:r,annotationObject:a})}))},e.prototype.textExtractionOnmessage=function(e){var i="",n=[];if("textExtracted"===e.data.message){for(var o=e.data.characterBounds,r=0;r<o.length;r++){e.data.isLayout||-1===o[parseInt(r.toString(),10)].Text.indexOf("\r")?i+=o[parseInt(r.toString(),10)].Text:i+="";var a=this.loadedDocument.getPage(e.data.pageIndex).cropBox,s=new dA(this.convertPixelToPoint(o[parseInt(r.toString(),10)].X),this.convertPixelToPoint(o[parseInt(r.toString(),10)].Y+a[1]),this.convertPixelToPoint(o[parseInt(r.toString(),10)].Width),this.convertPixelToPoint(o[parseInt(r.toString(),10)].Height));n.push(new Uh(o[parseInt(r.toString(),10)].Text,s))}var l={};e.data.isRenderText?(l.extractedTextDetails={textDataCollection:n,extractedText:i},l.textBounds=e.data.textBounds,l.textContent=e.data.textContent,l.rotation=e.data.rotation,l.pageText=e.data.pageText,l.characterBounds=e.data.characterBounds,l.isRenderText=e.data.isRenderText,l.pageIndex=e.data.pageIndex,l.jsonObject=e.data.jsonObject,l.requestType=e.data.requestType,l.annotationObject=e.data.annotationObject):l={textDataCollection:n,extractedText:i,isRenderText:e.data.isRenderText,pageIndex:e.data.pageIndex,jsonObject:e.data.jsonObject,requestType:e.data.requestType,annotationObject:e.data.annotationObject};var d=this.getPageTextDataCollection(l),h=this.getDocumentTextCollection(d);(0,t.isNullOrUndefined)(h)||("pageTextRequest"===h.requestType?this.pdfViewerBase.pageTextRequestSuccess(h,h.pageIndex):"textRequest"===h.requestType?this.pdfViewerBase.textRequestSuccess(h,h.pageIndex,h.annotationObject):"pdfTextSearchRequest"===h.requestType&&this.pdfViewer.textSearchModule.pdfTextSearchRequestSuccess(h,h.pageStartIndex,h.pageEndIndex))}},e.prototype.getPageTextDataCollection=function(e){var i={};if((0,t.isNullOrUndefined)(e))return null;var n=e;return e.isRenderText&&((n=e.extractedTextDetails).extractedText=e.pageText),i[e.pageIndex]=new zh(new Hh(this.getPageSize(e.pageIndex).width,this.getPageSize(e.pageIndex).height),n.textDataCollection,n.extractedText),e.isRenderText?{pageTextDataCollection:i,textBounds:e.textBounds,textContent:e.textContent,rotation:e.rotation,characterBounds:e.characterBounds,jsonObject:e.jsonObject,requestType:e.requestType,pageIndex:e.pageIndex,annotationObject:e.annotationObject}:i},e.prototype.getDocumentTextCollection=function(e){var i=(0,t.isNullOrUndefined)(e.jsonObject.pageStartIndex)?e.jsonObject.pageIndex:e.jsonObject.pageStartIndex,n=(0,t.isNullOrUndefined)(e.jsonObject.pageEndIndex)?e.jsonObject.pageIndex+1:e.jsonObject.pageEndIndex;this.loadedDocument.pageCount;return(0,t.isNullOrUndefined)(e)?null:(this.documentTextCollection.push(e.pageTextDataCollection),this.documentTextCollection.length===n-i?{uniqueId:e.jsonObject.uniqueId,documentTextCollection:this.documentTextCollection,pageStartIndex:i,pageEndIndex:n,textBounds:e.textBounds,textContent:e.textContent,rotation:e.rotation,characterBounds:e.characterBounds,requestType:e.requestType,pageIndex:e.pageIndex,annotationObject:e.annotationObject}:void 0)},e.prototype.extractTextWithPageSize=function(e){var t=this;return new Promise((function(i,n){i(t.extractTextDetailsWithPageSize(e))}))},e.prototype.extractTextDetailsWithPageSize=function(e,t,i,n,o){this.textExtraction(e,!0,t,i,n,o)},e.prototype.getDocumentText=function(e,i,n){for(var o=(0,t.isNullOrUndefined)(e.pageStartIndex)?e.pageIndex:e.pageStartIndex,r=(0,t.isNullOrUndefined)(e.pageEndIndex)?e.pageIndex+1:e.pageEndIndex,a=(this.loadedDocument.pageCount,o);a<r;a++)this.extractTextDetailsWithPageSize(a,!0,e,i,n)},e.IsLinuxOS=!1,e.IsWindowsOS=!1,e}(),Uh=function(e,t){this.Text=e,this.Bounds=t},zh=function(e,t,i){this.PageSize=e,this.TextData=t,this.PageText=i},Hh=function(e,t){this.IsEmpty=!0,this.Width=e,this.Height=t,this.IsEmpty=!1},Yh=function(){};function jh(){return Jh}var Gh,Jh="AAEAAAAXAQAABABwRFNJRyQ9+ecABX+MAAAafEdERUZeI11yAAV1GAAAAKZHU1VC1fDdzAAFdcAAAAmqSlNURm0qaQYABX9sAAAAHkxUU0iAZfo8AAAceAAABo5PUy8yDN8yawAAAfgAAABWUENMVP17PkMABXTgAAAANlZETVhQkmr1AAAjCAAAEZRjbWFw50BqOgAA0cQAABdqY3Z0IJYq0nYAAPqgAAAGMGZwZ23MeVmaAADpMAAABm5nYXNwABgACQAFdNAAAAAQZ2x5Zg73j+wAARr8AAPnYmhkbXi+u8OXAAA0nAAAnShoZWFkzpgmkgAAAXwAAAA2aGhlYRIzEv8AAAG0AAAAJGhtdHgONFhAAAACUAAAGihrZXJuN2E5NgAFAmAAABVgbG9jYQ5haTIAAQDQAAAaLG1heHALRwyoAAAB2AAAACBuYW1lwPJlOwAFF8AAABsNcG9zdI/p134ABTLQAABB/3ByZXBS/sTpAADvoAAACv8AAQAAAAMAAObouupfDzz1CBsIAAAAAACi4ycqAAAAALnVtPb6r/1nEAAIDAAAAAkAAQABAAAAAAABAAAHPv5OAEMQAPqv/iYQAAABAAAAAAAAAAAAAAAAAAAGigABAAAGigEAAD8AdgAHAAIAEAAvAFYAAAQNCv8AAwACAAEDiAGQAAUAAAWaBTMAAAEbBZoFMwAAA9EAZgISCAUCCwYEAgICAgIEAAB6h4AAAAAAAAAIAAAAAE1vbm8AQAAg//wF0/5RATMHPgGyQAAB////AAAAAAYAAQAAAAAAAjkAAAI5AAACOQCwAtcAXgRzABUEcwBJBx0AdwVWAFgBhwBaAqoAfAKqAHwDHQBABKwAcgI5AKoCqgBBAjkAugI5AAAEcwBVBHMA3wRzADwEcwBWBHMAGgRzAFUEcwBNBHMAYQRzAFMEcwBVAjkAuQI5AKoErABwBKwAcgSsAHAEcwBaCB8AbwVW//0FVgCWBccAZgXHAJ4FVgCiBOMAqAY5AG0FxwCkAjkAvwQAADcFVgCWBHMAlgaqAJgFxwCcBjkAYwVWAJ4GOQBYBccAoQVWAFwE4wAwBccAoQVWAAkHjQAZBVYACQVWAAYE4wApAjkAiwI5AAACOQAnA8EANgRz/+ECqgBZBHMASgRzAIYEAABQBHMARgRzAEsCOQATBHMAQgRzAIcBxwCIAcf/ogQAAIgBxwCDBqoAhwRzAIcEcwBEBHMAhwRzAEgCqgCFBAAAPwI5ACQEcwCDBAAAGgXHAAYEAAAPBAAAIQQAACgCrAA5AhQAvAKsAC8ErABXBVb//QVW//0FxwBoBVYAogXHAJwGOQBjBccAoQRzAEoEcwBKBHMASgRzAEoEcwBKBHMASgQAAFAEcwBLBHMASwRzAEsEcwBLAjkAvQI5ACMCOf/lAjkACQRzAIcEcwBEBHMARARzAEQEcwBEBHMARARzAIMEcwCDBHMAgwRzAIMEcwBJAzMAgARzAGsEcwAbBHMAUQLNAG0ETAABBOMAmQXlAAMF5QADCAAA4QKqAN4CqgA9BGQATggAAAEGOQBTBbQAmgRkAE4EZABNBGQATQRz//0EnACgA/QAOAW0AHoGlgChBGQAAAIxAAAC9gAvAuwALQYlAH8HHQBEBOMAgQTjAJ4CqgDoBKwAcgRkAFQEcwAuBGQAMwTlABoEcwCGBHMAjAgAAO8FVv/9BVb//QY5AGMIAACBB40AUgRz//wIAAAAAqoAUwKqAEcBxwCAAccAbARkAE4D9AAvBAAAIQVWAAYBVv45BHP/5AKqAFwCqgBcBAAAFwQAABcEcwBJAjkAuQHHAGwCqgBHCAAAJQVW//0FVgCiBVb//QVWAKIFVgCiAjkAjQI5/+ACOQAEAjkAFQY5AGMGOQBjBjkAYwXHAKEFxwChBccAoQI5AMYCqgAZAqoABgKqAB0CqgAuAqoA5QKqAKICqgBrAqoAOgKqALcCqgAoBHMAAAHHAAMFVgBcBAAAPwTjACkEAAAoAhQAvAXH//0EcwBJBVYABgQAACEFVgCeBHMAhwSsAHIErAChAqoAawKqABkCqgAhBqwAawasAGsGrAAhBHMAAAY5AG0EcwBCAjkAsQVWAFwEAAA/BccAZgQAAFAFxwBmBAAAUARzAEYEa//hAqoB8QVW//0EcwBKBVb//QRzAEoFxwCeBOsARwXH//0FVgCiBHMASwVWAKIEcwBLBHMAlgHHAEIEcwCWAlUAiARzAJoCrACDBccAnARzAIcFxwCcBHMAhwY5AGMEcwBEBccAoQKqAIUFxwChAqoAPAVWAFwEAAA/BOMAMAI5ACQE4wAwAwAAIwXHAKEEcwCDBccAoQRzAIME4wApBAAAKATjACkEAAAoBGgApAY5AGAGYgBVBKAASAR0AEgDkQBiBPAARAMpAC4FMABIBGv/4QQAALAC6wBSCMAAMwgAAE8EAACZCAAATwQAAJkIAABPBAAAmAQAAJgH1QFqBcAAngSrAHIE1QCdBKwAcQTVAiIE1QEFBav/6QUAAckFqwJ+Bav/6QWrAn4Fq//pBasCfgWr/+kFq//pBav/6QWr/+kFq//pBasBwAWrAn4FqwHABasBwAWr/+kFq//pBav/6QWrAn4FqwHABasBwAWr/+kFq//pBav/6QWrAn4FqwHABasBwAWr/+kFq//pBav/6QWr/+kFq//pBav/6QWr/+kFq//pBav/6QWr/+kFq//pBav/6QWr/+kFq//pBav/6QWr/+kFqwLWBasAZgWr/+oF1f//BNUAkggAAAAH6wEwB+sBIAfrATAH6wEgBNUAsgTVAIAE1QAqCCsBmAhrAbgHVQAQBgAA9AYAAG8EQAA6BUAANwTAAD8EFQBABAAAJQYAAFUF4QC/A40AiQTV/9kBgACAAtUAhgcVAGEClgAPBNUAkgLWAIMC1gCDBNUAsgLWAHAFVv/9BHMASgXHAGYEAABQBccAZgQAAFAFVgCiBHMASwVWAKIEcwBLBVYAogRzAEsGOQBtBHMAQgY5AG0EcwBCBjkAbQRzAEIFxwCkBHMAhwXHAB8EcwAGAjn/zgI5/84COf/kAjn/5AI5//YCOf/1AjkAowHHAGYEAAA3Acf/ogVWAJYEAACIBAAAhgRzAJYBx//6BccAnARzAIcFyQClBHMAiwY5AGMEcwBEBjkAYwRzAEQFxwChAqoAawVWAFwEAAA/BOMAMAI5AAwFxwChBHMAgwXHAKEEcwCDBccAoQRzAIMFxwChBHMAgweNABkFxwAGBVYABgQAACEBxwCJBVb//QRzAEoIAAABBx0ARAY5AFME4wCBAjkAuQeNABkFxwAGB40AGQXHAAYHjQAZBccABgVWAAYEAAAhAccAigKq/+EEcwAbBM0AWgasAGsGrAAiBqwAIgasAEoCqgDiAqoAawKqAN4Cqv/qBVf//wZG/6cGtP+oAxL/qAYy/6cG2P+nBgX/pwHH/3gFVv/9BVYAlgVY//4FVgCiBOMAKQXHAKQCOQC/BVYAlgVYAAsGqgCYBccAnAUzAG0GOQBjBccApAVWAJ4E8gCUBOMAMAVWAAYFVgAJBq8AfwX7AGECOQAEBVYABgSgAEgDkQBiBHMAiwHHAGsEYACIBJoAjAQAABkDhwBIBHMAiwRzAFwBxwCJBAAAhgQAABgEnACgBAAAGgOVAFwEcwBEBI0AgwPbAFYEYACIBDMAEQW0AHoGPwBXAcf/yQRgAIgEcwBIBGAAiAY/AFcFVwCiBusAMgRVAKEFwABkBVYAXAI5AL8COQAEBAAANwh1AA0IFQCkBtUAMQSpAKEFFQAKBcAAoAVW//0FQACnBVYAlgRVAKEFawAABVYAogdjAAcE1QBOBcAAoQXAAKEEqQChBUAAEgaqAJgFxwCkBjkAYwXAAKAFVgCeBccAZgTjADAFFQAKBhUAUgVWAAkF6wCfBVUAVwdVAKEHgAChBlUAAAcVAKgFQAClBcAAVQgVAKQFxwAaBHMASgSVAFsEQACIAusAiASrAAAEcwBLBVr/+wOrADIEeACHBHgAhwOAAIYEqwAYBYAAjARrAIgEcwBEBFUAiARzAIcEAABQA6oAJgQAACEGlQBLBAAADwSVAIoEKwBFBmsAjQaVAI0FAAAoBcAAiwQrAIQEFQAwBgAAiQRVAB8EcwBLBHMAAALrAIkEFQBLBAAAPwHHAIgCOQAJAcf/ogdAABMGgACDBHMAAAOAAIYEAAAhBGsAiAPpAKEDSgCICAAAQQiVAKAFhQAtAqoBAQKqAB4CqgAxAqoAMQKqAQECqgB+AqoAfgKqAIwCqgCMAqoBAQKqABACqgEBAqoBIQMQAH0CqgCMAjMA0gKqAwsCqv8EAjkAuQSBAGkEVgAyAzEAGQQRAC0E0QCWAfkAmwMPAF8EygCbBLgAjAH5AJsEEwAoA7AAUAO0ADwEygCbBM8AUAH5AJsC0gA8BJgAWgQ8ABkEiABuBF8AcwOxABkD1AAKBGYAlgQTACgFjgBkBSQAKAPyAJsD8gCbA/IAmwHjAFoDVgBaBoYAmwH5/6wEEwAoBBMAKAO0/1cDtP9XBEgALQWOAGQFjgBkBY4AZAWOAGQEgQBpBIEAaQSBAGkEVgAyAzEAGQQRAC0E0QCWAksAAANKAAAEuACMAksAAAQTACgDsABQA7QAPATPAFAC0gA8BJgAWgSIAG4EXwBzA9QACgRmAJYEEwAoBY4AZAUkACgB+QCbBFYAMgOwAFAEXwBzBJsAPAAA/9wAAP8lAAD/3AAA/lECjQCrAo0AoALaAEMDTQB5Aaj/ugGcAEYB5QBGAZwARgGcAEYBrQBIAZwARgGxAEYBUQBGBDUBfAQ1AS4ENQC3BDUAgQQ1ASwENQC+BDUArwQ1AIEENQCaBDUA2wQ1AIUCjQDBBDUAswYAAQAGAAEAAkIANgYAAQAENQCeBDUAmAQ1AMsGAAEABgABAAYAAQAGAAEABgABAAGxAEYGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAUb/7oGAAEABgABAAYAAQAFtQA6BbUAOgH0/7oB9P+6BgABAAYAAQAGAAEABgABAASBADYENQA2BD3/ugQ9/7oD6QBKA+kASgZ/ABQHdgAUAyf/ugQe/7oGfwAUB3YAFAMn/7oEHv+6BRsAMgS1ACQGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEAAc8AMAGxAEYBsQBGAbEAQAGxAEYGAAEABgABAAAA/9wAAP5RAAD/FgAA/xYAAP8WAAD/FgAA/xYAAP8WAAD/FgAA/xYAAP8WAAD/3AAA/xYAAP/cAAD/IAAA/9wEcwBKCAAAAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQACjQB/Ao0AXQYAAQAE7gAVA00AeQGoAA4B1v/cAagAVgHWABADdQAyA3UAMgGoAC0B1gATBRsAMgS1ACQB9P+6AfT/ugGoAJMB1gATBbUAOgW1ADoB9P+6AfT/ugJCAAADAP/3BbUAOgW1ADoB9P+6AfT/ugW1ADoFtQA6AfT/ugH0/7oEgQA2BDUANgQ9/7oEPf+6BIEANgQ1ADYEPf+6BD3/ugSBADYENQA2BD3/ugQ9/7oCswBfArMAXwKzAF8CswBfA+kASgPpAEoD6QBKA+kASgaSAD4GkgA+BD//ugQ//7oGkgA+BpIAPgQ//7oEP/+6CMkAPgjJAD4Gxf+6BsX/ugjJAD4IyQA+BsX/ugbF/7oEp/+6BKf/ugSn/7oEp/+6BKf/ugSn/7oEp/+6BKf/ugRaACoDmgA2BDX/ugMn/7oEWgAqA5oANgQ1/7oDJ/+6Bk8AJwZPACcCJP+6Ahr/ugSnAEYEpwBGAiT/ugIa/7oEzwAtBM8ALQMn/7oDJ/+6BA0ARwQNAEcBqP+6Aaj/ugK0ACMCtAAjAyf/ugMn/7oENQBFBDUARQH0/7oB9P+6AkIANgMA//cDmv+6Ayf/ugN1ADIDdQAyBRsAMgS1ACQFGwAyBLUAJAH0/7oB9P+6BFoAQATOAEkEWgAmBM4AOQRaAFMEzgBKBFoAUwTOAEoGAAEABgABAAGcAEYBnABGBgABAAYAAQAGAAEAAVEARgGxAEYGAAEABgABAAGtAEgB5QBGBgABAAYAAQAGAAEAAbEARgGxAEYBsQBGAbEARgGxAEABzwAwBgABAAGcAEYBnABGBgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEAAo0AygKNAMcCjQDGBgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEABgABAAYAAQAGAAEAAQD/uggA/7oQAP+6BtwAYwU/AEQG1QChBVsAgwAA/dwAAPwvAAD8pgAA/lQAAPzXAAD9cwAA/ikAAP4NAAD9EQAA/GcAAP2dAAD79QAA/HIAAP7VAAD+1QAA/wIEGwCgBqwAawasABkAAP62AAD9cwAA/ggAAPymAAD+UwAA/REAAPvIAAD69AAA+q8AAPxyAAD7qgAA+2oAAPzxAAD8fQAA+90AAPzBAAD7mAAA/eoAAP6EAAD9wgAA/PEAAP1fAAD+dgAA/rwAAPzrAAD9bAAA/VgAAPyQAAD9FQAA/CwAAPwTAAD8EgAA+5YAAPuWAccAiAVW//0EcwBKBVb//QRzAEoFVv/9BHMASgVW//0EcwBKBVb//QRzAEoFVv/9BHMASgVW//0EcwBKBVb//QRzAEoFVv/9BHMASgVW//0EcwBKBVb//QRzAEoFVv/9BHMASgVWAKIEcwBLBVYAogRzAEsFVgCiBHMASwVWAKIEcwBLBVYAogRzAEsFVgCiBHMASwVWAKIEcwBLBVYAogRzAEsCOQBjAccAHwI5ALoBxwB8BjkAYwRzAEQGOQBjBHMARAY5AGMEcwBEBjkAYwRzAEQGOQBjBHMARAY5AGMEcwBEBjkAYwRzAEQG3ABjBT8ARAbcAGMFPwBEBtwAYwU/AEQG3ABjBT8ARAbcAGMFPwBEBccAoQRzAIMFxwChBHMAgwbVAKEFWwCDBtUAoQVbAIMG1QChBVsAgwbVAKEFWwCDBtUAoQVbAIMFVgAGBAAAIQVWAAYEAAAhBVYABgQAACEFVv/9BHMASgI5/+IBx/+wBjkAYwRzAEQFxwChBHMAgwXHAKEEcwCDBccAoQRzAIMFxwChBHMAgwXHAKEEcwCDAAD+/gAA/v4AAP7+AAD+/gRV//0C6wAMB2MABwVa//sEqQChA4AAhgSpAKEDgACGBccApARrAIgEc//9BAAAFARz//0EAAAUBVYACQQAAA8FVQBXBCsARQVVAKEEcwCHBgUAYwRzAFUGOQBgBHMARAW1ADoB9P+6AiT/ugIa/7oEpwBGAfQAngH0ABAB9AAbAfQAEAH0AGsB9P/5Aif/zgGoAA8BqP/1AqoApAKqAKQBqAAOAagAVgGoAFYAAP/PAagADwHW/78BqP/1Adb/zQGoAB0B1v/1AagAkwHWABMDdQAyA3UAMgN1ADIDdQAyBRsAMgS1ACQFtQA6BbUAOgH0/7oB9P+6BbUAOgW1ADoB9P+6AfT/ugW1ADoFtQA6AfT/ugH0/7oFtQA6BbUAOgH0/7oB9P+6BbUAOgW1ADoB9P+6AfT/ugW1ADoFtQA6AfT/ugH0/7oFtQA6BbUAOgH0/7oB9P+6BIEANgQ1ADYEPf+6BD3/ugSBADYENQA2BD3/ugQ9/7oEgQA2BDUANgQ9/7oEPf+6BIEANgQ1ADYEPf+6BD3/ugSBADYENQA2BD3/ugQ9/7oEgQA2BDUANgQ9/7oEPf+6ArMAMgKzADICswBfArMAXwKzAF8CswBfArMAMgKzADICswBfArMAXwKzAF8CswBfArMAXwKzAF8CswA4ArMAOAKzAEkCswBJA+kASgPpAEoD6QBK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//4ACQAJ//0ACgAK//0ACwAL//0ADAAM//0ADQAN//0ADgAN//0ADwAO//0AEAAP//0AEQAP//wAEgAR//wAEwAS//wAFAAT//wAFQAT//sAFgAU//sAFwAV//sAGAAV//oAGQAX//sAGgAZ//oAGwAa//oAHAAa//oAHQAb//oAHgAc//kAHwAc//kAIAAd//kAIQAf//kAIgAg//kAIwAg//gAJAAh//gAJQAi//gAJgAi//cAJwAj//cAKAAk//cAKQAm//cAKgAm//cAKwAn//YALAAo//YALQAo//YALgAq//YALwAr//YAMAAt//YAMQAt//UAMgAu//UAMwAv//UANAAw//QANQAw//QANgAx//QANwAz//QAOAA0//MAOQA0//MAOgA1//MAOwA1//MAPAA2//MAPQA3//MAPgA4//MAPwA5//IAQAA6//IAQQA7//IAQgA8//IAQwA8//EARAA9//EARQA+//EARgA///AARwBA//AASABB//AASQBC//AASgBC//AASwBD//AATABE//AATQBG/+8ATgBG/+8ATwBH/+8AUABI/+8AUQBJ/+4AUgBJ/+4AUwBK/+4AVABL/+0AVQBN/+0AVgBN/+0AVwBO/+0AWABP/+wAWQBQ/+wAWgBQ/+0AWwBR/+wAXABT/+wAXQBU/+wAXgBU/+wAXwBV/+sAYABW/+sAYQBX/+sAYgBX/+oAYwBZ/+oAZABa/+oAZQBb/+oAZgBc/+kAZwBc/+kAaABd/+kAaQBe/+gAagBg/+kAawBg/+kAbABh/+kAbQBi/+gAbgBj/+gAbwBj/+gAcABk/+cAcQBl/+cAcgBn/+cAcwBn/+cAdABo/+YAdQBp/+YAdgBq/+YAdwBq/+UAeABr/+UAeQBt/+UAegBu/+UAewBu/+UAfABv/+UAfQBw/+UAfgBx/+QAfwBx/+QAgABz/+QAgQB0/+QAggB1/+MAgwB2/+MAhAB2/+MAhQB3/+IAhgB4/+IAhwB5/+IAiAB6/+IAiQB7/+EAigB8/+EAiwB9/+IAjAB9/+EAjQB+/+EAjgB//+EAjwCB/+EAkACB/+AAkQCC/+AAkgCD/+AAkwCE/98AlACE/98AlQCF/98AlgCH/98AlwCI/+AAmACI/98AmQCJ/98AmgCK/94AmwCL/94AnACM/94AnQCM/94AngCO/94AnwCP/94AoACQ/94AoQCQ/90AogCR/90AowCS/90ApACT/90ApQCU/9wApgCV/9sApwCW/9sAqACX/9sAqQCX/9sAqgCY/9sAqwCZ/9sArACb/9sArQCb/9sArgCc/9sArwCd/9sAsACe/9sAsQCe/9oAsgCf/9oAswCg/9oAtACi/9kAtQCj/9gAtgCj/9gAtwCk/9gAuACl/9gAuQCm/9gAugCm/9gAuwCo/9gAvACp/9cAvQCq/9cAvgCq/9cAvwCr/9cAwACs/9cAwQCt/9cAwgCu/9cAwwCv/9YAxACw/9YAxQCx/9UAxgCx/9UAxwCy/9UAyACz/9QAyQC0/9QAygC1/9QAywC2/9QAzAC3/9QAzQC4/9QAzgC5/9QAzwC5/9QA0AC6/9QA0QC8/9QA0gC9/9MA0wC9/9IA1AC+/9IA1QC//9IA1gDA/9EA1wDA/9EA2ADC/9EA2QDD/9EA2gDE/9EA2wDE/9EA3ADF/9EA3QDG/9EA3gDH/9AA3wDH/9AA4ADJ/88A4QDK/88A4gDL/88A4wDL/88A5ADM/88A5QDN/88A5gDO/88A5wDQ/84A6ADQ/84A6QDR/84A6gDS/80A6wDT/80A7ADT/80A7QDU/80A7gDW/8wA7wDX/8wA8ADX/8wA8QDY/8wA8gDZ/8wA8wDa/8wA9ADa/8wA9QDc/8sA9gDd/8sA9wDe/8sA+ADe/8oA+QDf/8oA+gDg/8oA+wDh/8oA/ADh/8oA/QDj/8kA/gDk/8kA/wDl/8kA+Aj/AAgACP/+AAkACf/9AAoACv/9AAsAC//9AAwADP/9AA0ADf/9AA4ADf/9AA8ADv/9ABAAD//9ABEAD//8ABIAEf/8ABMAEv/8ABQAE//8ABUAE//7ABYAFP/7ABcAFf/7ABgAFf/6ABkAF//7ABoAGf/6ABsAGv/6ABwAGv/6AB0AG//6AB4AHP/5AB8AHP/5ACAAHf/5ACEAH//5ACIAIP/5ACMAIP/4ACQAIf/4ACUAIv/4ACYAIv/3ACcAI//3ACgAJP/3ACkAJv/3ACoAJv/3ACsAJ//2ACwAKP/2AC0AKP/2AC4AKv/2AC8AK//2ADAALf/2ADEALf/1ADIALv/1ADMAL//1ADQAMP/0ADUAMP/0ADYAMf/0ADcAM//0ADgANP/zADkANP/zADoANf/zADsANf/zADwANv/zAD0AN//zAD4AOP/zAD8AOf/yAEAAOv/yAEEAO//yAEIAPP/xAEMAPP/xAEQAPf/xAEUAPv/xAEYAP//wAEcAQP/wAEgAQf/wAEkAQv/wAEoAQv/wAEsAQ//wAEwARP/wAE0ARv/vAE4ARv/vAE8AR//vAFAASP/vAFEASf/uAFIASf/uAFMASv/uAFQAS//tAFUATf/tAFYATf/tAFcATv/tAFgAT//sAFkAUP/sAFoAUP/tAFsAUf/sAFwAU//sAF0AVP/sAF4AVP/sAF8AVf/rAGAAVv/rAGEAV//rAGIAV//rAGMAWf/qAGQAWv/qAGUAW//qAGYAXP/pAGcAXP/pAGgAXf/pAGkAXv/pAGoAYP/pAGsAYP/pAGwAYf/pAG0AYv/pAG4AY//oAG8AY//oAHAAZP/oAHEAZf/nAHIAZ//nAHMAZ//nAHQAaP/nAHUAaf/mAHYAav/mAHcAav/mAHgAa//lAHkAbf/lAHoAbv/lAHsAbv/lAHwAb//lAH0AcP/kAH4Acf/kAH8Acv/kAIAAc//kAIEAdP/jAIIAdf/jAIMAdv/jAIQAdv/jAIUAd//jAIYAeP/jAIcAef/iAIgAev/iAIkAe//iAIoAfP/iAIsAff/iAIwAff/iAI0Afv/iAI4Af//iAI8Agf/hAJAAgf/hAJEAgv/gAJIAg//gAJMAhP/gAJQAhP/gAJUAhf/gAJYAh//fAJcAiP/gAJgAiP/fAJkAif/fAJoAiv/eAJsAi//eAJwAjP/eAJ0AjP/eAJ4Ajv/eAJ8Aj//eAKAAkP/eAKEAkP/dAKIAkf/dAKMAkv/dAKQAk//dAKUAlP/cAKYAlf/bAKcAlv/bAKgAl//bAKkAl//bAKoAmP/bAKsAmf/bAKwAm//bAK0Am//bAK4AnP/bAK8Anf/bALAAnv/bALEAnv/aALIAn//aALMAoP/ZALQAov/ZALUAo//YALYAo//YALcApP/YALgApf/YALkApv/YALoApv/YALsAqP/YALwAqf/XAL0Aqv/XAL4Aqv/XAL8Aq//XAMAArP/XAMEArf/XAMIArv/XAMMAr//WAMQAsP/WAMUAsf/VAMYAsf/VAMcAsv/UAMgAs//UAMkAtP/UAMoAtf/UAMsAtv/UAMwAt//UAM0AuP/UAM4Auf/UAM8Auf/UANAAuv/UANEAvP/UANIAvf/TANMAvf/SANQAvv/SANUAv//SANYAwP/RANcAwP/RANgAwv/RANkAw//RANoAxP/RANsAxP/RANwAxf/RAN0Axv/RAN4Ax//QAN8Ax//QAOAAyf/PAOEAyv/PAOIAy//PAOMAy//PAOQAzP/PAOUAzf/PAOYAzv/PAOcA0P/OAOgA0P/OAOkA0f/OAOoA0v/NAOsA0//NAOwA0//NAO0A1P/NAO4A1v/MAO8A1//MAPAA1//MAPEA2P/MAPIA2f/MAPMA2v/MAPQA2v/MAPUA3P/LAPYA3f/LAPcA3v/LAPgA3v/KAPkA3//KAPoA4P/KAPsA4f/KAPwA4f/KAP0A4//JAP4A5P/JAP8A5f/JAPgI/wAIAAj//gAJAAn//QAKAAr//QALAAv//QAMAAz//QANAA3//QAOAA3//QAPAA7//QAQAA///QARAA///AASABH//AATABL//AAUABP//AAVABP/+wAWABT/+wAXABX/+wAYABX/+gAZABf/+wAaABn/+gAbABr/+gAcABr/+gAdABv/+gAeABz/+QAfABz/+QAgAB3/+QAhAB//+QAiACD/+QAjACD/+AAkACH/+AAlACL/+AAmACL/9wAnACP/9wAoACT/9wApACb/9wAqACb/9wArACf/9gAsACj/9gAtACj/9gAuACr/9gAvACv/9gAwAC3/9gAxAC3/9QAyAC7/9QAzAC//9QA0ADD/9AA1ADD/9AA2ADH/9AA3ADP/9AA4ADT/8wA5ADT/8wA6ADX/8wA7ADX/8wA8ADb/8wA9ADf/8wA+ADj/8wA/ADn/8gBAADr/8gBBADv/8gBCADz/8gBDADz/8QBEAD3/8QBFAD7/8QBGAD//8ABHAED/8ABIAEH/8ABJAEL/8ABKAEL/8ABLAEP/8ABMAET/8ABNAEb/7wBOAEb/7wBPAEf/7wBQAEj/7wBRAEn/7gBSAEn/7gBTAEr/7gBUAEv/7QBVAE3/7QBWAE3/7QBXAE7/7QBYAE//7ABZAFD/7ABaAFD/7QBbAFH/7ABcAFP/7ABdAFT/7ABeAFT/7ABfAFX/6wBgAFb/6wBhAFf/6wBiAFf/6wBjAFn/6gBkAFr/6gBlAFv/6gBmAFz/6QBnAFz/6QBoAF3/6QBpAF7/6QBqAGD/6QBrAGD/6QBsAGH/6QBtAGL/6QBuAGP/6ABvAGP/6ABwAGT/6ABxAGX/5wByAGf/5wBzAGf/5wB0AGj/5wB1AGn/5gB2AGr/5gB3AGr/5gB4AGv/5QB5AG3/5QB6AG7/5QB7AG7/5QB8AG//5QB9AHD/5AB+AHH/5AB/AHL/5ACAAHP/5ACBAHT/5ACCAHX/4wCDAHb/4wCEAHb/4wCFAHf/4wCGAHj/4wCHAHn/4gCIAHr/4gCJAHv/4gCKAHz/4gCLAH3/4gCMAH3/4gCNAH7/4gCOAH//4gCPAIH/4QCQAIH/4QCRAIL/4ACSAIP/4ACTAIT/4ACUAIT/4ACVAIX/4ACWAIf/3wCXAIj/4ACYAIj/3wCZAIn/3wCaAIr/3gCbAIv/3gCcAIz/3gCdAIz/3gCeAI7/3gCfAI//3gCgAJD/3gChAJD/3QCiAJH/3QCjAJL/3QCkAJP/3QClAJT/3ACmAJX/2wCnAJb/2wCoAJf/2wCpAJf/2wCqAJj/2wCrAJn/2wCsAJv/2wCtAJv/2wCuAJz/2wCvAJ3/2wCwAJ7/2wCxAJ7/2gCyAJ//2gCzAKD/2QC0AKL/2QC1AKP/2AC2AKP/2AC3AKT/2AC4AKX/2AC5AKb/2AC6AKb/2AC7AKj/2AC8AKn/1wC9AKr/1wC+AKr/1wC/AKv/1wDAAKz/1wDBAK3/1wDCAK7/1wDDAK//1gDEALD/1gDFALH/1QDGALH/1QDHALL/1ADIALP/1ADJALT/1ADKALX/1ADLALb/1ADMALf/1ADNALj/1ADOALn/1ADPALn/1ADQALr/1ADRALz/1ADSAL3/0wDTAL3/0gDUAL7/0gDVAL//0gDWAMD/0QDXAMD/0QDYAML/0QDZAMP/0QDaAMT/0QDbAMT/0QDcAMX/0QDdAMb/0QDeAMf/0ADfAMj/0ADgAMn/zwDhAMr/zwDiAMv/zwDjAMv/zwDkAMz/zwDlAM3/zwDmAM7/zwDnAND/zgDoAND/zgDpANH/zgDqANL/zQDrANP/zQDsANP/zQDtANT/zQDuANb/zADvANf/zADwANf/zADxANj/zADyANn/zADzANr/zAD0ANr/zAD1ANz/ywD2AN3/ywD3AN7/ywD4AN7/ygD5AN//ygD6AOD/ygD7AOH/ygD8AOH/ygD9AOP/yQD+AOT/yQD/AOX/yQAAABgAAAaMCxYIAAMDAgQGBgoHAgQEBAYDBAMDBgYGBgYGBgYGBgMDBgYGBgsIBwcHBgYIBwIFBwYIBwgGCAcHBgcICgcIBwMDAwUGBAYGBgYGBAYGAgIFAggGBgYGBAYDBgYKBgYGBAIEBggIBwYHCAcGBgYGBgYGBgYGBgICAgIGBgYGBgYGBgYGBgQGBgYEBgcICAsEBAYLCAgGBgYGBgYHCQYDBAUICgYGAgYHBgcGBgYLCAgICwoGCwQEAgIGBQYIAgYEBAYGBgMCBAsIBggGBgICAgIICAgHBwcCBAQEBAQEBAQEBAYCBwYHBgIIBggGBwYGBgQEBAoJCgYIBgIHBgcGBwYGBgQIBggGBwcIBgYGBgYCBgQGBAcGBwYIBgcEBwQHBgYDBgQHBgcGBwYHBgYICAYGBQcEBwYGBAwLBgsGCwYGCwgGBwYHBwgHCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAcLCwsLCwcHBwsMCggIBgcHBgYICAUHAgQKBAcEBAcECAYHBgcGBgYGBgYGCAYIBggGBwYJBgICAgICAgICBQIHBQYGAgcGCAYIBggGBwQHBgYEBwYHBgcGCAYKCggGAggGCwoIBgMKCgoKCgoIBgIEBgYKCgoKBAQEBAgJCQUJCggCCAcIBgcHAgcICAcHCAcGBwYIBwgIAggGBQYCBgYGBQYGAgYGBgYFBgYFBgUICAIGBgYIBgoGBwcCAgUMCwkHBwcIBwcGCAYMBwkJBwcIBwgHBgcGBwgHBwYKCggJBwgLCAYGBwQGBggFBgYFBggGBgYGBgYGCAYGBggIBwgGBggGBgYEBgYCAgIKCQYFBgYFBQsNCQQEBAQEBAQEBAQEBAQEBAMEBAMGBgUGBwMDBwcDBgUFBwcDBQcGBgYGBgYGCQcGBgYDBQkDBgYFBQcJCQkJBgYGBgUGBwMFBwMGBQUHBQcGBgYGBgkHAwYFBgYAAAAABAQEBQICAwICAgICAgYGBgYGBgYGBgYGBAYICAMIBgYGCAgICAgCCAgICAgICAgHCAgICAgDAwgICAgGBgYGBQUJCgQGCQoEBgcGCAgICAgICAgICAgICAgICAICAgICCAgAAAAAAAAAAAAAAAAAAAAABwsICAgICAgICAgICAgICAgICAgICAgICAgICAgIBAQIBwUCAwIDBQUCAwcGAwMCAwgIAwMDBAgIAwMICAMDBgYGBgYGBgYGBgYGBAQEBAUFBQUJCQYGCQkGBgwMCQkMDAkJBgYGBgYGBgYGBQYEBgUGBAkJAwMGBgMDBwcEBAYGAgIEBAQEBgYDAwMEBQQFBQcGBwYDAwYHBgcGBwYHCAgCAggICAICCAgCAwgICAICAgICAggCAggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAQEBAgICAgICAgICAgICAgICAgICAgICAgICAELFgkHCQcAAAAAAAAAAAAAAAAAAAAABgkJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIIBggGCAYIBggGCAYIBggGCAYIBggGCAYGBgYGBgYGBgYGBgYGBgYGAgICAggGCAYIBggGCAYIBggGCQcJBwkHCQcJBwcGBwYJBwkHCQcJBwkHCAYIBggGCAYCAggGBwYHBgcGBwYHBgAAAAAGBAoHBgUGBQgGBgYGBgcGBwYHBggGCQYIAwMDBgMDAwMDAwMCAgQEAgICAAIDAgMCAwIDBQUFBQcGCAgDAwgIAwMICAMDCAgDAwgIAwMICAMDCAgDAwYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgQEBAQEBAQEBAQEBAQEBAQEBAUFBQUFBQUFBQUFBQUFBQUJCQYGCQkGBgkJBgYMDAkJDAwJCQYGBgUGBAkJCQMDCQkDAwkJAwMJCQMDCQkDAwYGBgYJCgQGCQoEBgcHBAQHBwQEBwcEBAkKBAYJCgQGCQoEBgkKBAYJCgQGBgYCAgYGAgIGBgICBgYCAgYGAwMGBgYGBgYDAwYGBgYGBgMEBAQEBQUFBQUFBQUFBQUFBQUFBQcGBwYDAwUFBwYDAwcGCQkJCQIAAAAAAAAADAwAAAAAAAACBAAABwAAAAkJBgYMDAkJBgUGBAUEAwMEAwMDAwMJCgMABAYGBwYHBgcGBwYHBgcGBwYGBgcMGAkAAwMDBAcHCwgCBAQFBwMEAwMHBwcHBwcHBwcHAwMHBwcHDAcICQkIBwkJAwYIBwkJCQgJCQgHCQcLBwcHAwMDBQcEBwcGBwcDBwcDAwYDCwcHBwcEBwMHBQkFBQUEAwQHBwcJCAkJCQcHBwcHBwYHBwcHAwMDAwcHBwcHBwcHBwcHBQcHBwQGCAkJDAQEBwwJCQcHBwcHBgkKBwMEBAkLBwcDBwcHBwcHBwwHBwkMCwcMBAQDAwcGBQcCBwQEBgYHAwMECwcIBwgIAwMDAwkJCQkJCQMEBAQEBAQEBAQEBwMIBwcFAwkHBwUIBwcHBAQECgoKBwkHAwgHCQYJBgcHBAcHBwcJBwkIBwgHBwMHBAcECQcJBwkHCQQJBAgHBwMHBQkHCQcHBQcFBwkJBwcFBwUIBwYEDQwGDAYMBgYMCQcHBwcHCQgJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJBwwMDAwMBwcHDA0LCQkGCAcGBgkJBQcCBAsEBwQEBwQHBwkGCQYIBwgHCAcJBwkHCQcJBwkHAwMDAwMDAwMGAwgGBwcDCQcJBwkHCQcJBAgHBwMJBwkHCQcJBwsJBwUDBwcMCwkHAwsJCwkLCQcFAwQHBwoKCgoEBAQEBwkKBAkJCQMHCAcIBwkDCAcJCQgJCQgHBwcHCQkDBwcFBwMHBwUFBwcDBwUHBQUHBwYHBgkJAwcHBwkICgcJCAMDBg0MCgcICQcICAcICAsHCQkHCAkJCQkICQcICQcJCAsLCgoICQwJBwcGBAcHCQYHBwYHCQcHBwcGBQUJBQcGCQkICQcGCQcHBwQGBwMDAwsKBwYFBwYFDA0IBAQEBAQEBAQEBAQEBAUEAwQEAwcHBQYHAwUHBwMGBgYHBwMEBwYHBwYGBwYICAYGBgMFCQMGBgYGBggICAgHBwcHBQYHAwUHAwYGBgcEBwcHBgcGCAgDBwYHBwAAAAAEBAQFAgIDAgIDAgMCBgYGBgYGBgYGBgYEBgkJAwkGBgYJCQkJCQMJCQkJCQkJCQgJCQkJCQMDCQkJCQcGBgYGBgoLBQYKCwUGCAcJCQkJCQkJCQkJCQkJCQkJAwMDAwMJCQAAAAAAAAAAAAAAAAAAAAAHDAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkEBAkHBQIDAgMFBQIDCAcDAwIDCQkDAwMFCQkDAwkJAwMHBgYGBwYGBgcGBgYEBAQEBgYGBgoKBgYKCgYGDQ0KCg0NCgoHBwcHBwcHBwcFBgUHBQYFCQkDAwcHAwMHBwUFBgYCAgQEBQUGBgMDAwUFBQUFCAcIBwMDBwcHBwcHBwcJCQICCQkJAgMJCQMDCQkJAwMDAwMDCQICCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJBAQECQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJAgwYCggKCAAAAAAAAAAAAAAAAAAAAAAGCgoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwgHCAcIBwgHCAcIBwgHCAcDAwMDCQcJBwkHCQcJBwkHCQcKCAoICggKCAoICQcJBwoICggKCAoICggHBQcFBwUHBwMDCQcJBwkHCQcJBwkHAAAAAAcECwgHBQcFCQcHBgcGCAYIBggHCQcJBwkDAwMHAwMDAwMDAwICBAQCAgIAAgMCAwIDAgMFBQUFCAcJCQMDCQkDAwkJAwMJCQMDCQkDAwkJAwMJCQMDBwYGBgcGBgYHBgYGBwYGBgcGBgYHBgYGBAQEBAQEBAQEBAQEBAQEBAQEBgYGBgYGBgYGBgYGBgYGBgoKBgYKCgYGCgoGBg0NCgoNDQoKBwcHBQYFCQkJAwMJCQMDCQkDAwkJAwMJCQMDBwcHBwoLBQYKCwUGBwcFBQcHBQUHBwUFCgsFBgoLBQYKCwUGCgsFBgoLBQYGBgICBgYCAgYGAgIGBgICBgYDAwYGBgYGBgMDBgYHBgYGAwUFBQUFBQUFBQUFBQUFBQUFBQUFCAcIBwMDBQUIBwMDCAcKCgoKAgAAAAAAAAANDQAAAAAAAAIEAAAHAAAACgoGBg0NCgoHBQYFBQQDAwQDAwMDAwoLAwAEBgcHBwcHBwcHBwcHBwcHBgYHBw0aCgAEBAMFBwcMCQIEBAUIBAQEBAcHBwcHBwcHBwcEBAgICAcNCQkJCQkICgkDBgkHCwkKCQoJCQcJCQ0HCQcEBAQFBwQHBwcHBwMHBwMDBwMLBwcHBwQHBAcFCQcHBwQDBAgJCQkJCQoJBwcHBwcHBwcHBwcDAwMDBwcHBwcHBwcHBwcFBwcHBQcJCgoNBAQHDQoJBwcHBwcGCQsHAwQFCgwHCAMICAcHCAcHDQkJCg0MBw0EBAMDBwYHCQIHBAQHBwcEAwQOCQkJCQkDAwMDCgoKCQkJAwQEBAQEBAQEBAQHAwkHBwcDCQcJBwkHCAgEBAQLCwsHCgcDCQcJBwkHBwcECQcJBwkICQkHCQcHAwcEBwQJBwkHCgcJBAkECQcHAwcFCQcJBwcHBwcHCgkIBwYIBQgHBwUPDQcNBw0HBw0JCAgICAgJCAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkIDQ0NDQ0ICAgNDgwKCgcJCAcHCgoGCAIFDAUIBQUIBQkHCQcJBwkHCQcJBwoHCgcKBwkHCQcDAwMDAwMDAwYDCQcHBwMJBwkHCgcKBwkECQcIBAkHCQcJBwkHDQkJBwMJBw0MCgcDDQkNCQ0JCQcDBAcICwsLCwQEBAQJCgsFCgsKAwkJCQkHCQMJCQsJCAoJCQgHCQcJCgMJCAYHAwcHBwYHBwMHBwcFBgcHBgcHCQkDBwcHCQkLBwkJAwMGDg0LCAgJCQkJBwkJCwgJCQgJCwkKCQkJBwgLBwoJCwsKCwgJDQkHBwcFCAcJBgcHBgcJBwcHBwcFBwkHBwcLDAgJBwcKBwcHBQcHAwMDDAsHBgcHBgUNDgkEBAQEBAQEBAQEBAQEBQQDBAQEBwcFBwgDBQgIAwcGBggIAwUHBwcHBgYHBwkIBgYGAwUJAwcHBgYHCQkJCQcHBwcFBwgEBQgEBwYGCAUHBwcGBwcJCAMHBgcHAAAAAAQEBQUDAwMDAwMDAwIHBwcHBwcHBwcHBwQHCgoECgcHBwoKCgoKAwoKCgoKCgoKCAoKCgkJAwMKCgoKBwcHBwYGCwwFBwsMBQcICAoKCgoKCgoKCgoKCgoKCgoDAwMDAwoKAAAAAAAAAAAAAAAAAAAAAAcNCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgQECggFAwMDAwYGAwMICAMDAwMJCQMDBAUJCQMDCQkDAwcHBwcHBwcHBwcHBwQEBAQGBgYGCwsHBwsLBwcODgsLDg4LCwgICAgICAgIBwYHBQcGBwUKCgMDCAgDAwgIBQUHBwMDBAQFBQcHAwMEBQYFBgYICAgIAwMHCAcIBwgHCAoKAwMKCgoCAwoKAwMKCgoDAwMDAwMKAwMKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoEBAQKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoCDRoLCQsJAAAAAAAAAAAAAAAAAAAAAAcLCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADCQcJBwkHCQcJBwkHCQcJBwkHCQcJBwkHCQcJBwkHCQcJBwkHCQcJBwMDAwMKBwoHCgcKBwoHCgcKBwsJCwkLCQsJCwkJBwkHCwkLCQsJCwkLCQkHCQcJBwkHAwMKBwkHCQcJBwkHCQcAAAAABwUMCQgGCAYJBwcHBwcJBwkHCQcKBwoHCQMDAwgDAwMDAwMEAwMEBAMDAwADAwMDAwMDAwYGBgYICAkJAwMJCQMDCQkDAwkJAwMJCQMDCQkDAwkJAwMHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcEBAQEBAQEBAQEBAQEBAQEBAQGBgYGBgYGBgYGBgYGBgYGCwsHBwsLBwcLCwcHDg4LCw4OCwsICAcGBwUKCgoDAwoKAwMKCgMDCgoDAwoKAwMICAgICwwFBwsMBQcICAUFCAgFBQgIBQULDAUHCwwFBwsMBQcLDAUHCwwFBwcHAwMHBwMDBwcDAwcHAwMHBwMDBwcHBwcHAwMHBwcHBwcEBQUFBQYGBgYGBgYGBgYGBgYGBgYICAgIAwMGBggIAwMICAsLCwsDAAAAAAAAAA8OAAAAAAAAAwUAAAgAAAALCwcHDg4LCwcGBwUFBAQDBAMDAwMDCwwDAAQGBwgHCAcIBwgHCAcIBwgHBwcIDx4LAAQEBQUICA0KAwUFBgkEBQQECAgICAgICAgICAQECQkJCA8JCgsLCgkLCgMHCggLCgwKDAsKCQoJDwkJCAQEBAUIBQgICAgIBAgIAwMHAw0ICAgIBQgECAcLBwcIBQMFCQkJCwoKDAoICAgICAgICAgICAMDAwMICAgICAgICAgICAYICAgFCAkLCw8FBQgPDAsICAgICAcLDAgEBQUMDQgJBQkJCAgJCAgPCQkMDw4IDwUFAwMIBwcJAwgFBQgICAQDBQ4JCgkKCgMDAwMMDAwKCgoDBQQFBQUFBQUFBQgDCggICAMLCAkHCggJCQUFBQ0NDQgLCAMKCAsICwgICAUJCAkICwkLCggKCAgDCAQIBQoICggMCAsFCwUKCAkECQYKCAoICAgICAgMCwkIBwkFCggIBREPCA8IDwgIDwsJCQkJCQsJCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwkPDw8PDwkJCQ8QDgsLCAoJCAgLCwcJAwUNBQkFBQkFCQgLCAsICggKCAoICwgLCAsICggKCAMDAwMDAwMDBwMKBwgIAwoICwgMCAwICwUKCAkECggKCAoICwgPCwkHAwkIDw0MCAMPCw8LDwsJBwMFCAkNDQ0NBQUFBQkMDQYMDAsDCQoKCggKAwoLCwoKDAoKCQkJCQsLAwkJBwgDCAkHBwgIAwgHCAcHCAgHCAgLDAMICAgMCg0ICwoDAwcQDw0JCgsJCgoICgoOCQsLCQoLCgwKCgsJCgsJCwkODwwNCgsPCwgJCAUJCAkHCAgHCAoICAgICAcHCwcJCAsLCQsICAsICAgFCAgDAwMODAgHBwgHBg8QCgUFBQUFBQUFBQUFBQUGBQMFBQQICAYICQMGCQkDCAcHCQkDBQkICQgHBwgICgoGBgYEBgwDCAgHBwgKCgoKCAgICAYICQQGCQQIBwcJBQkJCAcICAoKAwgHCAkAAAAABQUFBgMDBAMDAwMDAggICAgICAgICAgIBQgLCwQLCAgICwsLCwsDCwsLCwsLCwsKCwsLCwsEBAsLCwsICAgIBwcMDgYIDA4GCAoJCwsLCwsLCwsLCwsLCwsLCwMDAwMDCwsAAAAAAAAAAAAAAAAAAAAACA8LCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLBQULCQYDAwMDBgYDAwoJBAQDAwsLBAQEBgsLBAQLCwQECAgICAgICAgICAgIBQUFBQcHBwcMDAgIDAwICBAQDQ0QEA0NCQkJCQkJCQkIBwgGCAcIBgwMBAQJCQQECQkGBggIAwMFBQYGCAgEBAQGBwYGBgoJCgkEBAgJCAkICQgJCwsDAwsLCwIDCwsDBAsLCwMDAwMDAwsDAwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwUFBQsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwIPHg0KDQoAAAAAAAAAAAAAAAAAAAAACA0NAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMJCAkICQgJCAkICQgJCAkICQgJCAkICQgKCAoICggKCAoICggKCAoIAwMDAwwIDAgMCAwIDAgMCAwIDQoNCg0KDQoNCgoICggNCg0KDQoNCg0KCQcJBwkHCQgDAwwICggKCAoICggKCAAAAAAIBQ4KCQcJBwsICAgICAoICggKCAsIDAgLBAQECQQEBAQEBAQDAwUFAwMDAAMDAwMDAwMDBgYGBgoJCwsEBAsLBAQLCwQECwsEBAsLBAQLCwQECwsEBAgICAgICAgICAgICAgICAgICAgICAgICAUFBQUFBQUFBQUFBQUFBQUFBQcHBwcHBwcHBwcHBwcHBwcMDAgIDAwICAwMCAgQEA0NEBANDQkJCAcIBgwMDAQEDAwEBAwMBAQMDAQEDAwEBAkJCQkMDgYIDA4GCAkJBgYJCQYGCQkGBgwOBggMDgYIDA4GCAwOBggMDgYICAgDAwgIAwMICAMDCAgDAwgIBAQICAgICAgEBAgICAgICAQGBgYGBgYGBgYGBgYGBgYGBgYGBgoJCgkEBAYGCgkEBAoJDAwMDAMAAAAAAAAAERAAAAAAAAADBgAACQAAAAwMCAgQEA0NCAcIBgYFBAQFBAQEBAQMDgMABQYICQgJCAkICQgJCAkICQgICAkQIAwABAQFBgkJDgsDBQUGCQQFBAQJCQkJCQkJCQkJBAQJCQkJEAsLDAwLCgwLAwgLCQ0LDAsMCwsJCwsPCwkJBAQEBwkFCQkICQkECQgEAwgDDQgJCQkFCAQIBwsHBwcFAwUJCwsMCwsMCwkJCQkJCQgJCQkJAwMDAwgJCQkJCQgICAgJBgkJCQYJCQwMEAUFCRAMCwkJCQkJCAsNCQQFBQwOCQoFCQkJCQkJCRALCwwRDwkQBQUEBAkIBwkDCQUFCAgJBAQFEQsLCwsLAwMDAwwMDAsLCwMFBAUFBQUFBQUFCQMLCAkHAwwJCQcLCQkJBQUFDQ0NCQwJAwsIDAgMCAkJBQsJCwkMCgwLCQsJCQMJBAkFCwgLCAwJCwULBQsICQQJBgsICwgJBwkHCQwLCQkHCgUKCQgGEhAIEAgQCAgQDAkKCQoKCwoLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsMChAQEBAQCgoKEBEPDAwJCwoICAwMBwoDBg4FCgYGCgYLCQwIDAgLCQsJCwkMCQwJDAkLCAsIAwMDAwMDAwQIAwsICAkDCwgMCQwJDAkLBQsICgQLCAsICwgMCA8LCQcDCwkQDgwJAw8LDwsPCwkHBAUJCg0NDQ0FBQUFCw0NBgwMDAMLCwsLCQsDCwsNCwoMCwsKCQkLCwwDCQkHCAMICQgHCAkDCAgJBwcJCQgICAsNAwgJCA0LDgkMCwMDCBEQDQkKDAsLCwkLCw4KDAwJCw0LDAsLDAkKCwsMCg0ODQ4LDBAMCQkJBgkJCgcICAcICwgJCAkIBwcNBwkICwsKDAkIDAkJCAYICAQDAw8NCAcHCAgHEBELBQUFBQUFBQUFBQUFBQYFAwUFBAkJBggKAwYKCQMIBwcKCgMGCQgJCQcICQgLCgYGBgQHDAMICAcHCQsLCwsJCQkJBggKBQcJBQgHBwoGCQkJCAkICwoDCQcJCQAAAAAFBQYHAwMEAwMDAwMDCAgICAgICAgICAgFCAwMBQwICAgMDAwMDAMMDAwMDAwMDAoMDAwLCwQEDAwMDAkICAgICA0PBggNDwYICgkMDAwMDAwMDAwMDAwMDAwMBAMDAwMMDAAAAAAAAAAAAAAAAAAAAAAJEAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwFBQwKBwMEAwQHBwMECgkEBAMECwsEBAUGCwsEBAsLBAQJCAgICQgICAkICAgFBQUFCAgICA0NCQkNDQkJEhIODhISDg4JCQkJCQkJCQkHCAYJBwgGDQ0EBAkJBAQKCgYGCAgDAwUFBgYICAQEBQYHBgcHCgkKCQQECQoJCgkKCQoMDAMDDAwMAwMMDAMEDAwMAwMDAwMEDAMDDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMBQUFDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAhAgDgsOCwAAAAAAAAAAAAAAAAAAAAAIDQ0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkDBAMEDAkMCQwJDAkMCQwJDAkOCw4LDgsOCw4LCwgLCA4LDgsOCw4LDgsJBwkHCQcLCQMEDAkLCAsICwgLCAsIAAAAAAkGDwsJBwkHDAkJCAkICwgLCAsIDAkMCQsEBAQJBAQEBAQEBAMDBQUDAwMAAwQDBAMEAwQHBwcHCgkLCwQECwsEBAsLBAQLCwQECwsEBAsLBAQLCwQECQgICAkICAgJCAgICQgICAkICAgJCAgIBQUFBQUFBQUFBQUFBQUFBQUFCAgICAgICAgICAgICAgICA0NCQkNDQkJDQ0JCRISDg4SEg4OCQkJBwgGDQ0NBAQNDQQEDQ0EBA0NBAQNDQQECQkJCQ0PBggNDwYICgoGBgoKBgYKCgYGDQ8GCA0PBggNDwYIDQ8GCA0PBggICAMDCAgDAwgIAwMICAMDCAgEBAgICAgICAQECAgJCAgIBQYGBgYHBwcHBwcHBwcHBwcHBwcHCgkKCQQEBwcKCQQECgkNDQ0NAwAAAAAAAAASEQAAAAAAAAMGAAAKAAAADQ0JCRISDg4JBwgGBwUFBAUEBAQEBA0PAwAFBgkKCQoJCgkKCQoJCgkKCAgJChEiDQAFBQUGCQkPCwMGBgcKBQYFBQkJCQkJCQkJCQkFBQoKCgkRCwsMDAsKDAsFCQsJDQsMCwwLCwkLCxELCwkFBQUHCQYJCQkJCQUJCQQDCAMNCQkJCQYIBAkHCwcJCAYFBgoLCwwLCwwLCQkJCQkJCQkJCQkFBQUFCQkJCQkJCQkJCQkHCQkJBgkKDQ0RBgYJEQ0MCQkJCQkIDA4JBAUFDQ8JCgUKCgkJCwkJEQsLDBEQCREGBgQECQgJCwMJBgYJCQkFBAYRCwsLCwsFBQUFDAwMCwsLBQYEBgYGBgYGBgYJAwsICQgFDAkLCQsJCgoGBgYODg4JDAkFCwgMCQwJCgkGCwkLCQwKDAsJCwkJAwkECQYLCQsJDAkLBgsGCwgJBAkGCwkLCQkICQgJDA0KCQgLBgsJCQYTEQkRCREJCREMCgoKCgoMCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwKEREREREKCgoREhANDQkLCgkJDQ0ICgMGDwYKBgYKBgsJDAkMCQsJCwkLCQwJDAkMCQsJCwkFBQUFBQUFBAkDCwgICQMLCQwJDAkMCQsGCwgKBAsJCwkLCQwJEQsLCQQLCREPDQkEEQsRCxELCwkEBgkKDg4ODgYGBgYLDQ0GDQ4NAwsLCwsJCwULCw0LCwwLCwsJCwsNDQULCggJAwkKCQgJCQMICQkHCAkJCAkJCw0DCQkJDQsPCQwLBQUJEhEPCgsLCwsLCQwLDwoMDAoKDQsMCwsMCQsNCw0KDw8NDgoMEAwJCQkGCgkLCAkJBwoLCQkJCQkICQ0HCgkODgsMCQkNCQkJBgkIBAUDDw4JBwkJCAcREgwGBgYGBgYGBgYGBgYGBwYDBgYFCgkHCQoDBwoKAwkICAoKAwYKCQoJCAgJCQwLBwcHBAcMAwkJCAgJDAwMDAoKCgkHCQoFBwoFCQgICgYKCgkICQkMCwMJCAkKAAAAAAUFBgcEAwQDAwQDBAMJCQkJCQkJCQkJCQUJDQ0FDQkJCQ0NDQ0NBA0NDQ0NDQ0NCw0NDQwMBAQNDQ0NCgkJCQgIDhAHCQ4QBwkLCg0NDQ0NDQ0NDQ0NDQ0NDQ0EBAQEBA0NAAAAAAAAAAAAAAAAAAAAAAkRDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQUFDQoHBAQEBAcHBAQLCgQEBAQMDAQEBQYMDAQEDAwEBAoJCQkKCQkJCgkJCQYGBgYICAgIDg4JCQ4OCQkTEw4OExMODgoKCgoKCgoKCQgJBwkICQcNDQUECgoFBAoKBwcJCQQEBgYHBwkJBAQFBggHBwcLCgsKBAQJCgkKCQoJCg0NAwMNDQ0DBA0NBAQNDQ0EBAQEBAQNAwMNDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0FBQUNDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0CESIPCw8LAAAAAAAAAAAAAAAAAAAAAAkODgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAECwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQsJCwkLCQUEBQQMCQwJDAkMCQwJDAkMCQ8LDwsPCw8LDwsLCQsJDwsPCw8LDwsPCwsJCwkLCQsJBQQMCQsJCwkLCQsJCwkAAAAACQYQCwoHCgcMCQkJCQkLCQsJCwkNCQ0JDAQFBAoEBAQEBAQFBAQGBgQEBAAEBAQEBAQEBAcHBwcLCgwMBAQMDAQEDAwEBAwMBAQMDAQEDAwEBAwMBAQKCQkJCgkJCQoJCQkKCQkJCgkJCQoJCQkGBgYGBgYGBgYGBgYGBgYGBgYICAgICAgICAgICAgICAgIDg4JCQ4OCQkODgkJExMODhMTDg4KCgkICQcNDQ0FBA0NBQQNDQUEDQ0FBA0NBQQKCgoKDhAHCQ4QBwkKCgcHCgoHBwoKBwcOEAcJDhAHCQ4QBwkOEAcJDhAHCQkJBAQJCQQECQkEBAkJBAQJCQQECQkJCQkJBAQJCQoJCQkFBgcHBwcHBwcHBwcHBwcHBwcHBwcLCgsKBAQHBwsKBAQLCg4ODg4EAAAAAAAAABMSAAAAAAAAAwYAAAoAAAAODgkJExMODgkICQcHBgUEBQQEBAQEDhADAAYHCQoJCgkKCQoJCgkKCQoJCQkKEyYOAAUFBgcLCxENBAYGBwsFBgUFCwsLCwsLCwsLCwUFCwsLCxMNDQ4ODQwPDQYKDQsPDQ8NDw4NDA0NEw0MDAUFBQcLBgoLCgsLBgsKBAQJBBAKCwsLBgoFCgkNCQkJBgYGCw0NDg0NDw0KCgoKCgoKCwsLCwYGBgYKCwsLCwsKCgoKCwgLCwsHCgwODhMGBgoTDw4KCgoLCwkOEAoEBwcPEQsMBgsLCwoMCwsTDQ0PExILEwcHBAQKCQkMAwsGBgoKCwUEBxENDQ0NDQYGBgYPDw8NDQ0GBgUGBgYGBgYGBgsEDQoMCQYOCwwJDQsLCwYGBhAQEAsPCwYNCg4KDgoLCwYNCg0KDgwODQsNCwsECwYLBg0KDQoPCw4GDgYNCgwGDAcNCg0KDAkMCQoPDgsLCAwIDAsKBxUTChMKEwoKEw4LCwsLCw0MDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDgsTExMTEwsLCxMUEQ4OCgwLCgoODggLBAcRBgsHBwsHDQoOCg4KDQsNCw0LDwsPCw8LDQoNCgYGBgYGBgYECgQNCQoLBA0KDgsPCw8LDgYNCgwFDQoNCg0KDQoTDQwJBA0KExEPCwYTDRMNEw0MCQQGCwsQEBAQBgYGBg0PDwcPEA8EDQ0NDQwNBg0NDw0MDw0NDAwMDQ4OBgwLCAoECgsKCAoLBAoJCwkJCwsJCgoOEAQKCwoQDRAKDg0GBgoUEw8LDA4NDA0KDQ0SCw4OCwwPDQ8NDQ4MDA4NDg0REQ8RDQ4TDgoLCgcLCw4JCgoICg0KCwkLCggJEAkLCg4ODA4LCg4KCwoHCgoEBgQRDwoICQoJCBMUDQYGBgYGBgYGBgYGBgYHBgQGBgULCggKCwQHCwsECgkJCwsEBwsKCwoJCQoKDQwJCQkECBAECgoJCQoNDQ0NCwsLCggKCwUICwUKCQkLBwsLCgkKCg0MBAoJCgsAAAAABgYHCAQEBQQEBAQEAwoKCgoKCgoKCgoKBgoODgUOCgoKDg4ODg4EDg4ODg4ODg4MDg4ODg4FBQ4ODg4LCgoKCQkPEgcKDxIHCgwLDg4ODg4ODg4ODg4ODg4ODgQEBAQEDg4AAAAAAAAAAAAAAAAAAAAACxMODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4OBgYODAgEBAQECAgEBAwLBQUEBA4OBQUFBw4OBQUODgUFCwoKCgsKCgoLCgoKBgYGBgkJCQkQEAoKEBAKChUVEBAVFRAQCwsLCwsLCwsKCQoHCgkKBw8PBQULCwUFCwsHBwoKBAQGBgcHCgoFBQUHCQcICAwLDAsFBQoLCgsKCwoLDg4EBA4ODgMEDg4EBQ4ODgQEBAQEBA4EBA4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgYGBg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgITJhAMEA0AAAAAAAAAAAAAAAAAAAAAChAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCw0LDQsNCw0LDQsNCw0LBgQGBA8LDwsPCw8LDwsPCw8LEAwQDBAMEAwQDA0KDQoQDRANEA0QDRANDAkMCQwJDQoGBA8LDQoNCg0KDQoNCgAAAAAKBxINCwgLCA4LCwoLCg0KDQoNCg4LDwsOBQUFCwUFBQUFBQUEBAYGBAQEAAQEBAQEBAQECAgICAwLDg4FBQ4OBQUODgUFDg4FBQ4OBQUODgUFDg4FBQsKCgoLCgoKCwoKCgsKCgoLCgoKCwoKCgYGBgYGBgYGBgYGBgYGBgYGBgkJCQkJCQkJCQkJCQkJCQkQEAoKEBAKChAQCgoVFRAQFRUQEAsLCgkKBw8PDwUFDw8FBQ8PBQUPDwUFDw8FBQsLCwsPEgcKDxIHCgsLBwcLCwcHCwsHBw8SBwoPEgcKDxIHCg8SBwoPEgcKCgoEBAoKBAQKCgQECgoEBAoKBQUKCgoKCgoFBQoKCwoKCgUHBwcHCAgICAgICAgICAgICAgICAwLDAsFBQgIDAsFBQwLDw8PDwQAAAAAAAAAFRUAAAAAAAAEBwAACwAAABAQCgoVFRAQCgkKBwgGBQUGBQUFBQUPEgQABwkKCwoLCgsKCwoLCgsKCwoKCgsVKhAABgYGBwwMEw4EBwcIDAYHBgYMDAwMDAwMDAwMBgYMDAwMFQ0ODw8ODRAOBgsODBEOEA4QDw4MDg0VDg4NBgYGCAwHDAsLCwwGCwsFBAoEEAsMCwsHCwYLCw8KCwkHBgcMDQ0PDg4QDgwMDAwMDAsMDAwMBgYGBgsMDAwMDAsLCwsMCAwMDAcLDQ8PFQcHDBUQDwwMDAwLCg8RDAYHCBATDA0GDAwMDA0MDBUNDRAVFAwVBwcFBQwKCw4EDAcHCwsMBgUHFQ0ODQ4OBgYGBhAQEA4ODgYHBwcHBwcHBwcHDAQOCw0JBg8MDgsODAwMBwcHEhISDBALBg4LDwsPCwwMBw0MDQwPDQ8ODA4MDAQMBgwHDgsOCxAMDwcPBw4LDAYMCA4LDgsNCQ0JDBAQDAwJDQgODAsIFxULFQsVCwsVDwwNDA0NDw0PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDRUVFRUVDQ0NFRYTEBALDgwLCxAPCQ0EBxMHDQcHDQcNDA8LDwsODA4MDgwQCxALEAwOCw4LBgYGBgYGBgULBA4KCgwEDgsPDBAMEAwPBw4LDQYOCw4LDgsOCxUPDgsFDQwVExAMBhUPFQ8VDw4LBQcMDRISEhIHBwcHDRARCBAREAQNDg4ODQ4GDg4RDg4QDg4NDA4OEhAGDgwJCwQKDAoJCwwECgsLCwkMDAoKCw4QBAoMChAOEgsPDgYGCxYVEgwNDw0ODgsODhMNDw8MDhEOEA4ODwwNEA4QDhIUERMODxUPDAwLCAwMDgoLCwkLDQsMCgsLCgsRCgwLEBANDwsLEAsMDAgLCwUGBBMRDAkLCwoJFRcOBwcHBwcHBwcHBwcHBwgHBgcHBgwLCAsNBggNDAYLCgoNDQYHDAsMCwoKDAsPDgsLCwUJEgYLCwoKCw8PDw8MDAwLCAsNBgkMBgsKCg0HDAwLCgwLDw4GCwoLDAAAAAAHBwcJBAQFBAQEBAQDCwsLCwsLCwsLCwsHCxAQBhALCwsQEBAQEAQQEBAQEBAQEA0QEBAPDwUFEBAQEAwLCwsKChEUCAsRFAgLDQwQEBAQEBAQEBAQEBAQEBAQBQQEBAQQEAAAAAAAAAAAAAAAAAAAAAAMFRAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAHBxANCQQFBAUJCQQFDQwFBQQFDw8FBQYIDw8FBQ8PBQUMCwsLDAsLCwwLCwsHBwcHCgoKChERCwsREQsLFxcSEhcXEhIMDAwMDAwMDAsJCwgLCQsIEREGBgwMBgYNDQgICwsEBAcHCAgLCwUFBggJCAkJDQwNDAUFCw0LDQsNCw0QEAQEEBAQAwQQEAQFEBAQBAQEBAQFEAQEEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBwcHEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAxUqEg4SDgAAAAAAAAAAAAAAAAAAAAALEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQ0MDQwNDA0MDQwNDA0MDQwNDA0MDQwNDA4MDgwODA4MDgwODA4MDgwGBQYFEAwQDBAMEAwQDBAMEAwSDhIOEg4SDhIODgsOCxIOEg4SDhIOEg4OCw4LDgsNDAYFEAwOCw4LDgsOCw4LAAAAAAsIEw4MCQwJDwwMCwwLDgsOCw4LEAwQDA8FBgYMBQUFBQUFBgQEBwcEBAQABAUEBQQFBAUJCQkJDQwPDwUFDw8FBQ8PBQUPDwUFDw8FBQ8PBQUPDwUFDAsLCwwLCwsMCwsLDAsLCwwLCwsMCwsLBwcHBwcHBwcHBwcHBwcHBwcHCgoKCgoKCgoKCgoKCgoKChERCwsREQsLERELCxcXEhIXFxISDAwLCQsIERERBgYREQYGEREGBhERBgYREQYGDAwMDBEUCAsRFAgLDQ0ICA0NCAgNDQgIERQICxEUCAsRFAgLERQICxEUCAsLCwQECwsEBAsLBAQLCwQECwsFBQsLCwsLCwUFCwsMCwsLBggICAgJCQkJCQkJCQkJCQkJCQkJDQwNDAUFCQkNDAUFDQwRERERBAAAAAAAAAAYFwAAAAAAAAQIAAANAAAAERELCxcXEhILCQsICQcGBQcFBQUFBREUBgAHCwsNCw0LDQsNCw0LDQsNCwsLDRgwEgAHBwgJDQ0VEAUICAkOBwgHBw0NDQ0NDQ0NDQ0HBw4ODg0YDxARERAPExEGDBANExETEBMREA4RDxcPEA8HBwcMDQgNDgwODQcODgUGDAYUDg0ODggMBw4LEQsMDAgGCA4PDxEQERMRDQ0NDQ0NDA0NDQ0GBgYGDg0NDQ0NDg4ODg0KDQ0NCA0PEhIYCAgNGBMRDQ0NDQ4MERQNBgkJEhUPDwgODQ0NDw0NGA8PExgXDRgICAUFDQwMEAQNCAgMDA0HBQgaDxAPEBAGBgYGExMTERERBggICAgICAgICAgNBhAMDwwGEQ0QDBANDg4ICAgUFBQNEw4GEAwRDBEMDQ0IDw0PDREPERANEA0NBg0HDQgRDhEOEw0RCBEIEAwOBw4JEQ4RDg8MDwwNExIODQsPCRANDAkaGAwYDBgMDBgRDg8ODw8RDxERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERIPGBgYGBgPDw8ZGRYSEg0QDgwMEhILDwUJFQgPCQkPCQ8NEQwRDBANEA0QDRMOEw4TDREOEQ4GBgYGBgYGBQwGEAwMDQYRDhENEw0TDREIEAwPBxEOEQ4RDhEOFxEQDAUPDRgVEw8GFxEXERcREAwFCA0OFBQUFAgICAgPExQJExQSBg8QEBAPEQYQEBMREBMREA8OEA8TEgYQDgsOBg4OCwsODQYMDA4LCw0ODA4NEhIGDg0OEhAVDREQBgYMGRgWDg8RDxAQDRAQFg8REQ4QExETERARDg8SDxIQFhcTFRARGBENDg0JDg0QCw0NCw4RDQ0NDgwLDBQLDg0TFA8RDQwSDQ0OCQwMBQYGFhQOCwwNDAoYGhEICAgICAgICAgICAgICQgGCAgHDg0KDA4GCQ4OBgwLCw4OBggODQ4NCwsNDBEPDAwMBgoVBgwMCwsNEREREQ4ODg0KDA4HCg4HDAsLDggODg0LDQwRDwYNCw0OAAAAAAgICQoFBQYFBQUFBQQNDQ0NDQ0NDQ0NDQgNEhIHEg0NDRISEhISBRISEhISEhISDxISEhERBgYSEhISDg0NDQwMExYJDBMWCQwPDhISEhISEhISEhISEhISEhIFBQUFBRISAAAAAAAAAAAAAAAAAAAAAA0YEhISEhISEhISEhISEhISEhISEhISEhISEhISEggIEg8KBQYFBgoKBQYPDgYGBQYREQYGBwkREQYGEREGBg4NDQ0ODQ0NDg0NDQgICAgMDAwMFBQNDRQUDQ0aGhQUGhoUFA4ODg4ODg4ODQsNCQ0LDQkTEwYGDg4GBg4OCQkMDAUFCAgJCQ0NBgYHCQsJCgoPDg8OBgYNDg0ODQ4NDhISBQUSEhIEBRISBQYSEhIFBQUFBQUSBQUSEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhIICAgSEhISEhISEhISEhISEhISEhISEhISEhIDGDAVEBUQAAAAAAAAAAAAAAAAAAAAAAwUFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFDw0PDQ8NDw0PDQ8NDw0PDQ8NDw0PDQ8NEA0QDRANEA0QDRANEA0QDQYFBgUTDRMNEw0TDRMNEw0TDRUQFRAVEBUQFRARDhEOFRAVEBUQFRAVEBAMEAwQDA8NBgUTDREOEQ4RDhEOEQ4AAAAADQkWEA4LDgsRDQ0MDQwQDBANEA4SDRMNEQYGBg4GBgYGBgYGBQUICAUFBQAFBgUGBQYFBgoKCgoPDhERBgYREQYGEREGBhERBgYREQYGEREGBhERBgYODQ0NDg0NDQ4NDQ0ODQ0NDg0NDQ4NDQ0ICAgICAgICAgICAgICAgICAgMDAwMDAwMDAwMDAwMDAwMFBQNDRQUDQ0UFA0NGhoUFBoaFBQODg0LDQkTExMGBhMTBgYTEwYGExMGBhMTBgYODg4OExYJDBMWCQwODgkJDg4JCQ4OCQkTFgkMExYJDBMWCQwTFgkMExYJDAwMBQUMDAUFDAwFBQwMBQUNDQYGDQ0NDQ0NBgYNDQ4NDQ0HCQkJCQoKCgoKCgoKCgoKCgoKCgoPDg8OBgYKCg8OBgYPDhMTExMFAAAAAAAAABsaAAAAAAAABQkAAA4AAAAUFA0NGhoUFA0LDQkKCAcGCAYGBgYGExYGAAgMDQ4NDg0ODQ4NDg0ODQ4NDQ0OGzYUAAgICAoPDxgSBQkJCxAICQgIDw8PDw8PDw8PDwgIEBAQDxsSEhQUEhEVEwgNEg8XExURFRQSEBMRHBESEQgICAwPCQ8PDg8PBw8PBgYOBhYPDw8PCQ4IDw0TDA4NCQYJEBISFBITFRMPDw8PDw8ODw8PDwYGBgYPDw8PDw8PDw8PDwsPDw8JDxEUFBsJCQ8bFRMPDw8PEA0TFg8HCgoVGBERCBAPDw8RDw8bEhIVGxkPGwkJBgYPDQ4SBQ8JCQ4ODwgGCR0SEhISEggICAgVFRUTExMGCQgJCQkJCQkJCQ8GEg4RDQYUDxIOEg8Q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AJ0AqQCkABAAigEAAIMAkwDwAPEAjQCXAIgAwgDcAO8AngCqAPMA8gD0AKIArADIAMYArQBiAGMAkABkAMoAZQDHAMkAzgDLAMwAzQDnAGYA0QDPANAArgBnAO4AkQDUANIA0wBoAOkA6wCJAGoAaQBrAG0AbABuAKAAbwBxAHAAcgBzAHUAdAB2AHcA6AB4AHoAeQB7AH0AfAC3AKEAfwB+AIAAgQDqAOwAuQGWAZcBAgEDAQQBBQD7APwBmAGZAZoBmwD9AP4BBgEHAQgA/wGcAZ0BngGfAaABoQEJAQoBCwEMAaIBowD2APcBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswD4ANUBigGLAbQBtQG2AbcBuAENAQ4BuQG6AQ8BEAERARIA4ADhARMBFAG7AbwBFQEWAYwBvQG+Ab8BwAHBAcIBFwEYAK8AsAEZARoBwwHEARsBHAEdAR4BxQHGAPkA+gDiAOMBHwEgASEBIgHHAcgByQHKAcsBzAHNAc4BIwEkASUBJgHPAdAB0QHSAdMB1AC6AScBKAEpASoA5ADlAdUA1gDfANkA2gDbAN4A1wDdAe8B8AHxAdwB8gHzAfQB9gH3AfgB+QH6ASsB+wH8Af0B/gEsAf8CAAIBAgICAwIEAgUCBgIHAggCCQIKAS0CCwIMAg0CDgIPAhACEQISAhMCFAEuAhUCFgEvATACFwIYAhkCGgIbAhwCHQIeAh8CIAKMAiECIgExATICIwEzAiQCJQImAicCKAIpAioCKwKIAokFEAURAo0CjgKPApACkQKSApMClAKVApYClgKXApgCmQKaApsCnAKdAp4CnwLvA4EDgwOFA4cDiQONA48DkwOVA5kDnQOhA6UDqQOrA60DrwOxA7UDuQO9A8EDxQPJA80C8APRA9UD2QPdA+ED5QPpA+0D7wPxAvEC8gLzAvQC9QL2AvcC+AU4BTkFOgL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBALsAwUFKAUsBTsFPAU+BUAFOQVCBUQFRgVIBUoFTgVSBVYFWgMfBV4FYgVmBWoFbgVyBXYDJwV6BX4FgAWCBYQFhgWIBYoFjAWOBZAFkgWUBZYFmAWaBZwDKwWeBaAFpAWoBawFsAW0BbYFugW7Bb8FwwXHBcsFzwXRAy0F0wXXBdsF3wXjAzEF5wXrBe8F8wX3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AgICAwIEAgUCBgIHAggCCQIKAS0CCwIMAg0CDgIPAhACEQISAhMCFAEuAhUCFgEvATACFwIYAhkCGgIbAhwCHQIeAh8CIAKMAiECIgExATICIwEzAiQCJQImAicCKAIpAioCKwKIAokFEAURAo0CjgKPApACkQKSApMClAKVApYClgKXApgCmQKaApsCnAKdAp4CnwLvA4EDgwOFA4cDiQONA48DkwOVA5kDnQOhA6UDqQOrA60DrwOxA7UDuQO9A8EDxQPJA80C8APRA9UD2QPdA+ED5QPpA+0D7wPxAvEC8gLzAvQC9QL2AvcC+AU4BTkFOgL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBALsAwUFKAUsBTsFPAU+BUAFOQVCBUQFRgVIBUoFTgVSBVYFWgMfBV4FYgVmBWoFbgVyBXYDJwV6BX4FgAWCBYQFhgWIBYoFjAWOBZAFkgWUBZYFmAWaBZwDKwWeBaAFpAWoBawFsAW0BbYFugW7Bb8FwwXHBcsFzwXRAy0F0wXXBdsF3wXjAzEF5wXrBe8F8wX3BfsF/wYDBgcGCwYPBhEGEwYXA+sGGQYdBh8GIAYhBiIGJAYmBigGKgYsBi4GMAM1BjIGNAY4BjoGPgZABkIGRAMIBkUGRgZHBkgGSQZKBksGTAZNBk4GTwZQBlEGUgZTBlQGVQZWBlcGWAZZBloGTgZbAvkC+gL7AvwDCgMLAwwDAAMBAwIGXAZgBmQGaAZpBKQEpQSmBKcEqASpBKoEqwSsBK0ErgSvBLAEsQSyBLMEtAS1BLYEtwS4BLkEugS7BLwEvQS+BL8EwATBBMIEwwTEBMUExgTHBMgEyQTKBMsEzATNBM4EzwTQBNEE0gTTBNQE1QTWBNcE2ATZBNoE2wTcBN0E3gTfBOAE4QTiBOME5ATlBOYE5wToBOkE6gTrBOwE7QTuBO8E8ATxBPIE8wT0BPUB4wHkBPYE9wT4BPkE+gT7ALEAsgKKATQAtQC2AMMB5QCzALQAxACCAMEAhwNOA08DUgNQA1EDVQNWA1cDWANTA1QA9QHnAsAEfgC8AJkA7QDCAKUAkgE/AI8BQQF2AZEBkgGTAXcAuAF8Ae0B7gRxBHIEgQRzA1kDWgNbA1wDXQSEBHUEdwSFBHYEhgR5BIcEiASJBIoEiwSMBHgElASNBI4EjwSQBJEElgSaBJsEnASdBJ4ElwSYBJkEfQSfBKAEoQSiBKMGdAZ1BncCxgLeAt8C4ALhAuIC4wLkAuUC5gLnBTwFPQVSBVMFVAVVAx8DIAMhAyIFYgVjBWQFZQVOBU8FUAVRBV4FXwVgBWEFSgVLBUwFTQXDBcQFxQXGBcsFzAXNBc4FcgVzBXQFdQVuBW8FcAVxAycDKAMpAyoFegV7BXwFfQWIBYkFhgWHBYoFiwV+BX8DKwMsBZAFkQMtAy4DLwMwAzEDMgMzAzQF8wX0BfUF9gXrBewF7QXuBg8GEAYRBhIFTAVNBh0GHgZqBh8GawZsA+sD6gPrA+wGQAZBBkIGQwXfBeAF4QXiBigGKQYmBicGKgYrBUYGMAYxBiQGJQYsBi0GOgY7BjwGPQM1AzYD8wP0AABAQ1VUQUA/Pj08Ozo5ODc1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAsRSNGYCCwJmCwBCYjSEgtLEUjRiNhILAmYbAEJiNISC0sRSNGYLAgYSCwRmCwBCYjSEgtLEUjRiNhsCBgILAmYbAgYbAEJiNISC0sRSNGYLBAYSCwZmCwBCYjSEgtLEUjRiNhsEBgILAmYbBAYbAEJiNISC0sARAgPAA8LSwgRSMgsM1EIyC4AVpRWCMgsI1EI1kgsO1RWCMgsE1EI1kgsJBRWCMgsA1EI1khIS0sICBFGGhEILABYCBFsEZ2aIpFYEQtLAGxCwpDI0NlCi0sALEKC0MjQwstLACwFyNwsQEXPgGwFyNwsQIXRTqxAgAIDS0sRbAaI0RFsBkjRC0sIEWwAyVFYWSwUFFYRUQbISFZLSywAUNjI2KwACNCsA8rLSwgRbAAQ2BELSwBsAZDsAdDZQotLCBpsEBhsACLILEswIqMuBAAYmArDGQjZGFcWLADYVktLEWwESuwFyNEsBd65BgtLEWwESuwFyNELSywEkNYh0WwESuwFyNEsBd65BsDikUYaSCwFyNEioqHILCgUViwESuwFyNEsBd65BshsBd65FlZGC0sLSywAiVGYIpGsEBhjEgtLEtTIFxYsAKFWViwAYVZLSwgsAMlRbAZI0RFsBojREVlI0UgsAMlYGogsAkjQiNoimpgYSCwGoqwAFJ5IbIaGkC5/+AAGkUgilRYIyGwPxsjWWFEHLEUAIpSebMZQCAZRSCKVFgjIbA/GyNZYUQtLLEQEUMjQwstLLEOD0MjQwstLLEMDUMjQwstLLEMDUMjQ2ULLSyxDg9DI0NlCy0ssRARQyNDZQstLEtSWEVEGyEhWS0sASCwAyUjSbBAYLAgYyCwAFJYI7ACJTgjsAIlZTgAimM4GyEhISEhWQEtLEuwZFFYRWmwCUNgihA6GyEhIVktLAGwBSUQIyCK9QCwAWAj7ewtLAGwBSUQIyCK9QCwAWEj7ewtLAGwBiUQ9QDt7C0sILABYAEQIDwAPC0sILABYQEQIDwAPC0ssCsrsCoqLSwAsAdDsAZDCy0sPrAqKi0sNS0sdrgCIyNwECC4AiNFILAAUFiwAWFZOi8YLSwhIQxkI2SLuEAAYi0sIbCAUVgMZCNki7ggAGIbsgBALytZsAJgLSwhsMBRWAxkI2SLuBVVYhuyAIAvK1mwAmAtLAxkI2SLuEAAYmAjIS0stAABAAAAFbAIJrAIJrAIJrAIJg8QFhNFaDqwARYtLLQAAQAAABWwCCawCCawCCawCCYPEBYTRWhlOrABFi0sS1MjS1FaWCBFimBEGyEhWS0sS1RYIEWKYEQbISFZLSxLUyNLUVpYOBshIVktLEtUWDgbISFZLSywE0NYAxsCWS0ssBNDWAIbA1ktLEtUsBJDXFpYOBshIVktLLASQ1xYDLAEJbAEJQYMZCNkYWS4BwhRWLAEJbAEJQEgRrAQYEggRrAQYEhZCiEhGyEhWS0ssBJDXFgMsAQlsAQlBgxkI2RhZLgHCFFYsAQlsAQlASBGuP/wYEggRrj/8GBIWQohIRshIVktLEtTI0tRWliwOisbISFZLSxLUyNLUVpYsDsrGyEhWS0sS1MjS1FasBJDXFpYOBshIVktLAyKA0tUsAQmAktUWoqKCrASQ1xaWDgbISFZLSxLUliwBCWwBCVJsAQlsAQlSWEgsABUWCEgQ7AAVViwAyWwAyW4/8A4uP/AOFkbsEBUWCBDsABUWLACJbj/wDhZGyBDsABUWLADJbADJbj/wDi4/8A4G7ADJbj/wDhZWVlZISEhIS0sRiNGYIqKRiMgRopgimG4/4BiIyAQI4q5AsICwopwRWAgsABQWLABYbj/uosbsEaMWbAQYGgBOi0ssQIAQrEjAYhRsUABiFNaWLkQAAAgiFRYsgIBAkNgQlmxJAGIUVi5IAAAQIhUWLICAgJDYEKxJAGIVFiyAiACQ2BCAEsBS1JYsgIIAkNgQlkbuUAAAICIVFiyAgQCQ2BCWblAAACAY7gBAIhUWLICCAJDYEJZuUAAAQBjuAIAiFRYsgIQAkNgQlm5QAACAGO4BACIVFiyAkACQ2BCWVlZWVktLLACQ1RYS1MjS1FaWDgbISFZGyEhISFZLQAAsVQPQSIDFwDvAxcA/wMXAAMAHwMXAC8DFwBPAxcAXwMXAI8DFwCfAxcABgAPAxcAXwMXAG8DFwB/AxcAvwMXAPADFwAGAEADF7KSM0C4AxeyizNAuAMXs2psMkC4AxeyYTNAuAMXs1xdMkC4AxezV1kyQLgDF7NNUTJAuAMXs0RJMkC4AxeyOjNAuAMXszE0MkC4AxezLkIyQLgDF7MnLDJAuAMXsxIlMoC4AxezCg0ywEEWAxYA0AMWAAIAcAMWAAECxAAPAQEAHwCgAxUAsAMVAAIDBgAPAQEAHwBAAxKzJCYyn78DBAABAwIDAQBkAB//wAMBsg0RMkEKAv8C7wASAB8C7gLtAGQAH//AAu2zDhEyn0FKAuIArwLiAL8C4gADAuIC4gLhAuEAfwLgAAEAEALgAD8C4ACfAuAAvwLgAM8C4ADvAuAABgLgAuAC3wLfAt4C3gAPAt0ALwLdAD8C3QBfAt0AnwLdAL8C3QDvAt0ABwLdAt0AEALcAAEAAALcAAEAEALcAD8C3AACAtwC3AAQAtsAAQLbAtsADwLaAAEC2gLa/8AC07I3OTK5/8AC07IrLzK5/8AC07IfJTK5/8AC07IXGzK5/8AC07ISFjK4AtKy+SkfuALjsyArH6BBMALUALAC1AACAAAC1AAQAtQAIALUAFAC1ABgAtQAcALUAAYAYALWAHAC1gCAAtYAkALWAKAC1gCwAtYABgAAAtYAEALWACACygAgAswAIALWADAC1gBAAtYAUALWAAgC0LIgKx+4As+yJkIfQRYCzgLHABcAHwLNAsgAFwAfAswCxgAXAB8CywLFABcAHwLJAsUAHgAfAsoCxrIeHwBBCwLGAAACxwAQAsYAEALHAC8CxQAFAsGzJBIf/0ERAr8AAQAfAr8ALwK/AD8CvwBPAr8AXwK/AI8CvwAGAr8CIrJkHxJBCwK7AMoIAAAfArIA6QgAAB8CpgCiCABAah9AJkNJMkAgQ0kyQCY6PTJAIDo9Mp8gnyYCQCaWmTJAIJaZMkAmjpIyQCCOkjJAJoSMMkAghIwyQCZ6gTJAIHqBMkAmbHYyQCBsdjJAJmRqMkAgZGoyQCZaXzJAIFpfMkAmT1QyQCBPVDK4Ap63JCcfN09rASBBDwJ3ADACdwBAAncAUAJ3AAQCdwJ3AncA+QQAAB8Cm7IqKh+4AppAKykqH4C6AYC8AYBSAYCiAYBlAYB+AYCBAYA8AYBeAYArAYAcAYAeAYBAAYC7ATgAAQCAAUC0AYBAAYC7ATgAAQCAATlAGAGAygGArQGAcwGAJgGAJQGAJAGAIAE3QLgCIbJJM0C4AiGyRTNAuAIhs0FCMkC4AiGzPT4yD0EPAiEAPwIhAH8CIQADAL8CIQDPAiEA/wIhAAMAQAIhsyAiMkC4AiGzGR4yQLgCIrMqPzJAuAIhsy46Mm9BSALDAH8CwwCPAsMA3wLDAAQALwLDAGACwwDPAsMAAwAPAsMAPwLDAF8CwwDAAsMA7wLDAP8CwwAGAN8CIgABAI8CIgABAA8CIgAvAiIAPwIiAF8CIgB/AiIA7wIiAAYAvwIhAO8CIQACAG8CIQB/AiEArwIhAAMALwIhAD8CIQBPAiEAAwLDAsMCIgIiAiECIUAdEBwQKxBIA48cAQ8eAU8e/x4CNwAWFgAAABIRCBG4AQ229w349w0ACUEJAo4CjwAdAB8CkAKPAB0AHwKPsvkdH7gBmLImux9BFQGXAB4EAQAfATkAJgElAB8BOABzBAEAHwE1ABwIAQAfATQAHAKrAB8BMrIcVh+4AQ+yJiwfugEOAB4EAbYf+RzkH+kcuAIBth/oHLsf1yC4BAGyH9UcuAKrth/UHIkfyS+4CAGyH7wmuAEBsh+6ILgCAbYfuRw4H63KuAQBsh+BJrgBmrIffia4AZq2H30cRx9rHLgEAbIfZSa4AZqyH15zuAQBQA8fUiZaH0gciR9EHGIfQHO4CAG2Hz8cXh88JrgBmrIfNRy4BAG2HzAcux8rHLgEAbYfKhxWHykcuAEBsh8jHrgEAbIfVTe4AWhALAeWB1gHTwc2BzIHLAchBx8HHQcbBxQIEggQCA4IDAgKCAgIBggECAIIAAgUuP/gQCsAAAEAFAYQAAABAAYEAAABAAQQAAABABACAAABAAIAAAABAAACAQgCAEoAsBMDSwJLU0IBS7DAYwBLYiCw9lMjuAEKUVqwBSNCAbASSwBLVEKwOCtLuAf/UrA3K0uwB1BbWLEBAY5ZsDgrsAKIuAEAVFi4Af+xAQGOhRuwEkNYuQABARGFjRu5AAEBKIWNWVkAGBZ2Pxg/Ej4ROUZEPhE5RkQ+ETlGRD4ROUZEPhE5RmBEPhE5RmBEKysrKysrKysrKysYKysrKysrKysrKysYKx2wlktTWLCqHVmwMktTWLD/HVlLsJNTIFxYuQHyAfBFRLkB8QHwRURZWLkDPgHyRVJYuQHyAz5EWVlLuAFWUyBcWLkAIAHxRUS5ACYB8UVEWVi5CB4AIEVSWLkAIAgeRFlZS7gBmlMgXFi5ACUB8kVEuQAkAfJFRFlYuQkJACVFUli5ACUJCURZWUu4BAFTIFxYsXMkRUSxJCRFRFlYuRcgAHNFUli5AHMXIERZWUu4BAFTIFxYscolRUSxJSVFRFlYuRaAAMpFUli5AMoWgERZWUuwPlMgXFixHBxFRLEeHEVEWVi5ARoAHEVSWLkAHAEaRFlZS7BWUyBcWLEcHEVEsS8cRURZWLkBiQAcRVJYuQAcAYlEWVlLuAMBUyBcWLEcHEVEsRwcRURZWLkN4AAcRVJYuQAcDeBEWVkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK2VCKysBsztZY1xFZSNFYCNFZWAjRWCwi3ZoGLCAYiAgsWNZRWUjRSCwAyZgYmNoILADJmFlsFkjZUSwYyNEILE7XEVlI0UgsAMmYGJjaCCwAyZhZbBcI2VEsDsjRLEAXEVUWLFcQGVEsjtAO0UjYURZs0dQNDdFZSNFYCNFZWAjRWCwiXZoGLCAYiAgsTRQRWUjRSCwAyZgYmNoILADJmFlsFAjZUSwNCNEILFHN0VlI0UgsAMmYGJjaCCwAyZhZbA3I2VEsEcjRLEAN0VUWLE3QGVEskdAR0UjYURZAEtTQgFLUFixCABCWUNcWLEIAEJZswILChJDWGAbIVlCFhBwPrASQ1i5OyEYfhu6BAABqAALK1mwDCNCsA0jQrASQ1i5LUEtQRu6BAAEAAALK1mwDiNCsA8jQrASQ1i5GH47IRu6AagEAAALK1mwECNCsBEjQgArdHVzdQAYRWlERWlERWlEc3Nzc3R1c3R1KysrK3R1KysrKytzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzKysrRbBAYURzdAAAS7AqU0uwP1FaWLEHB0WwQGBEWQBLsDpTS7A/UVpYsQsLRbj/wGBEWQBLsC5TS7A6UVpYsQMDRbBAYERZAEuwLlNLsDxRWlixCQlFuP/AYERZKysrKysrKysrKysrKysrKysrdSsrKysrKytDXFi5AIACu7MBQB4BdABzWQOwHktUArASS1RasBJDXFpYugCfAiIAAQBzWQArdHMBKwFzKysrKysrKytzc3NzKwArKysrKysARWlEc0VpRHNFaURzdHVFaURzRWlERWlERWlEc3RFaURFaURzKysrKytzKwArcyt0dSsrKysrKysrKysrKysrc3R1KwAFugAZBboAGgWnABkEJgAYAAD/5wAA/+gAAP/n/mn/6AW6ABn+af/oAuoAAAC4AAAAuAAAAAAAqACtAWkArQC/AMIB8AAYAK8AuQC0AMgAFwBEAJwAfACUAIcABgBaAMgAiQBSAFIABQBEAJQBGf+0AC8AoQADAKEAzQAXAFcAfgC6ABYBGP/pAH8AhQPTAIcAhQANACIAQQBQAG8AjQFM/3UAXADfBIMANwBMAG4AcAGA/1j/jv+S/6QApQC5A8j//QALABoAYwBjAM3/7gXY/9wALQBcAJUAmQDfAZIJtQBAAFcAgAC5A50AcgCaA10EAf9n//oAAwAhAHcAzQAEAE0AzQHAAisATABlAOcBGAF8A0MF2P+j/7D/xAADABwAXQBoAJoAugE1AUcCIQVc/03/zQAWAC0AeACAAJkAsgC2ALYAuAC9ANoBDAXw/6T/8AAZACwASQB/ALQAzgHAA/79gf4/AAAABQAYACkAOQBJAG8AvgDHANABIwHBAm8FDAUyBUAFev/UABQAMQBVAFcApwC0AOYB9wJ+An4CfwPGBEb/QgAOAIUAkQC/AMIAxQDhARoBLwFPAVYCKQJvAp4DcgAIACwAMQAxAGQAaQCJAJgAxwDeASsBtgIMAs8DowSrBPsGHf7g/w4ABgAmAJsAnQDBAQ0BGAEgAXMBggHWAeMCQwJfApsC4gOUBKkE0gdhABwAXgBtAI0AqwD3ARIBOAFRAVsBaAF8AYcBkQGZAc0B0AHoAkECVAJrAu8DaANxA70EQgRCBFMEcwSDBYYFiwbo/lj+xP7R/vf/Mv+GAFEAfACBAJEAlQCeALQAuQDPANkA2QDfAOIBBQELAQ4BDgEgASEBVQF7AXsBfgGNAaIBqAGpAbQB0AHQAeIB6QHyAfUB+wIAAgACBgIbAiECIgIiAiMCcgJ3ApQCnALPAs8C0ALsAvkDFwMiAysDNQM8A1kDbwNxA4cDkAOQA7UD4QQaBM8E/wUyBTIFlgWfBagFqwXCBfAGDAeCCAAIzPyj/Sr93v4A/oj+lv6y/rT/4QAVABkAGgAcAB8APABRAGEAYQBqAHgAlgClAK8A0wEMARgBGgEqAT4BTAFRAV8BagFxAXgBggGEAZoBpQGoAakBrgG8Ac0B1wHvAgACDQIcAiECIgIuAjUCQgJPAk8CXgJlAnECkAKSArQC1gL6AwcDCwMPAxUDKgNHA10DZQN0A3kDlgOwA8wD3QPiA/YD/AP8A/8ECgQfBCIEJgQrBEcEXwR1BJ4E5wTnBVwFywXlBgoGbQaGBrgG8Qc2Bz4HUAdRB10Hjwe2B9QIYAC2AMMAtQC3AAAAAAAAAAAAAAAAAeADgQNFA7UAjgIzBBkCzgLOAC0AXwBkA00CPwAAAqgBiAJ9AbQCJAV4BjsCOwFOAPAEJgKUAsYCnwL2AjsDTQFLAVMAagIxAAAAAAAABhQEqgAAADwEwwDtBLwCZQLOA7UAeAYMAX4C7wYMALIBAAI5AAABxQMwBCsDywDaA98BBwShANsECgEXAe0CpwNQAQsBvQQ+BVgAIQOcAK4DcQF9ALUCRQAACvsIjAErAU4BqgCHAFQBMgH4A/8AAwJOALQANwPjAIMAawLYAO0AdwCIAJcBZARnAI4AMwF8AOcApgKeAykFbgYqBhUByQJpBIoCEwG0AAIEqQAAAjkBJAEDBRQAhAFdA5oG7wLZAHUAzwQKAN4DrAS8As8CrgNNBPAFUgFoAG0AfQCGAHH/gQB5BVgE0gFnAAMBVgAlBOAAlAB8AzIEIQCUAH8AcgBcAC8AtgAYALoAuABBA00AcgAYAB8ATAFqAVUAmQCaAJoAmACyAAQAeABpABQAVwBuAM4AtAZUArgAZwUOAWUA5wAABMv+UgBa/6YAmf9nAG7/kgAt/9QAh/98ALgAqADlAI8AqAGF/nsAcAAeANkA3gFMBUYCzwVG/y0CigLZAlMClgC3AAAAAAAAAAAAAAAAAAABJQEYAOoA6gCuAAAAPgW7AIoE1wBTAD//jP/VABUAKAAiAJkAYgBKAOQAbQDuAOUASAPAADP+TgKx/0YDcAB5Bd8AUf+n/x8BCgBo/2wATwC8AKUHBQBhBysAAAAAAAAAKgAAACoAAAAqAAAAKgAAANYAAAF+AAADIAAABaYAAAdOAAAJOAAACX4AAAn+AAAKpAAAC4QAAAvsAAAMZAAADKoAAAzmAAANVgAADxIAAA/uAAASGAAAE/IAABVSAAAXDAAAGOIAABmOAAAcIgAAHlYAAB6yAAAfcAAAH/IAACBiAAAg6AAAIdoAACPaAAAlhAAAJxwAAChWAAApngAAKmIAACsYAAAsqAAALa4AAC6SAAAvegAAMbAAADI6AAA1ZAAANw4AADhCAAA5SAAAOzwAAD2oAABAUgAAQQAAAEIkAABDmAAARdYAAEjiAABKiAAAS8gAAEwyAABMnAAATQAAAE2IAABNvAAATjgAAFEKAABS6AAAVJwAAFZQAABYDgAAWWIAAFtSAABc9gAAXeoAAF8CAABhmgAAYpYAAGTGAABmjAAAaE4AAGoSAABrqAAAbK4AAHBWAABxegAAcxgAAHU2AAB5oAAAe8QAAH4cAACABAAAgQIAAIFOAACCUAAAgvAAAIM8AACDcAAAg6wAAIPuAACEVAAAhJoAAITOAACFBAAAhToAAIWKAACFzAAAhh4AAIZWAACGqAAAht4AAIceAACHYAAAh54AAIfoAACIKAAAiFYAAIiOAACI3gAAiRQAAIlUAACJjgAAidIAAIocAACKWAAAiogAAIrMAACLBAAAi5QAAIwaAACOKAAAj7wAAJFsAACRuAAAkkwAAJRwAACWxAAAmLQAAJmgAACaIgAAmowAAJuqAACdBgAAn04AAKCwAAChPgAAoegAAKKsAACj9AAApZ4AAKaMAACnUgAAp7YAAKgkAACpTgAAqnIAAKsCAACs5AAArz4AALKQAACzhgAAtCwAALR8AAC1MgAAtlIAALfwAAC4igAAuU4AALoOAAC6dgAAurIAALsKAAC7WAAAvXAAAL+2AAC/7gAAwCAAAMFKAADCdgAAwyQAAMPIAADEagAAxTwAAMWQAADFxgAAxh4AAMdwAADH4gAAyDwAAMm0AADLIAAAzAAAAMwyAADMzgAAzfIAANBoAADQogAA0OYAANEiAADRhAAA0cYAANIMAADSWAAA0ooAANLeAADTHAAA00wAANOKAADT0AAA1BIAANRQAADU0gAA1UAAANYmAADWYgAA1uIAANcWAADXuAAA2EAAANisAADZOAAA2aQAANqQAADbggAA27YAANvqAADcGgAA3F4AANzWAADeUAAA4GoAAOCcAADg1gAA4dAAAONeAADjlAAA5PgAAOV0AADmVAAA50oAAOjaAADqRAAA7DIAAO0uAADtdAAA7agAAO3qAADuJAAA7ngAAO7AAADvCgAA7zoAAO9qAADxUgAA8ZAAAPHKAADx+gAA8i4AAPJeAADyigAA8tIAAPSIAAD2AgAA9i4AAPZwAAD2tAAA9uQAAPcUAAD3agAA+EgAAPlaAAD5ngAA+dQAAPouAAD6bAAA+qAAAPrQAAD7DAAA+0wAAPuKAAD7xgAA/AgAAPw+AAD8egAA/LoAAP3IAAD/NAAA/4QAAQDgAAEBNgABAWoAAQG4AAECBAABAkYAAQJ+AAECtAABAvwAAQOeAAEFOgABBwIAAQiEAAEKdgABC8gAAQ1MAAEOLgABD8gAARAyAAEQWgABEPgAARN6AAETugABE/oAARQ6AAEUeAABFNYAARU0AAEVogABFcIAARasAAEXTAABF4IAARfQAAEYGgABGGQAARiAAAEYnAABGLwAARjcAAEY/AABGRwAARlCAAEZaAABGY4AARm0AAEZ5AABGgwAARo0AAEaYAABGowAARrAAAEa6gABGxYAARtMAAEbdgABG6IAARvYAAEcAgABHCwAARxgAAEckAABHMQAAR0IAAEdOAABHWwAAR2uAAEd4gABHhQAAR5WAAEeigABHroAAR78AAEfQAABH4YAAR/iAAEf/gABIBoAASA2AAEgUgABIG4AASHcAAEkrAABJxwAASc4AAEnUgABJ24AASeKAAEnpgABJ8IAASgeAAEoWAABKMIAASmMAAEqLAABKwIAASuCAAEsCgABLHoAAS0QAAEtbgABLbQAAS4SAAEudAABLywAAS/qAAEwFgABMHIAATC2AAEyIgABMxYAATNAAAEzXAABM4gAATPAAAE0DAABNEwAATSAAAE0sAABNOAAATUQAAE1VAABNYQAATW0AAE19AABNiQAATZUAAE2hAABNsQAATb0AAE3JAABN1QAATeCAAE5hgABObYAATnmAAE7NgABPOwAAT0cAAE9SgABPXoAAT2oAAE92AABPgYAAT80AAFAYgABQJIAAUICAAFCOgABQmoAAUP8AAFEKgABRFgAAUSGAAFErgABRgwAAUekAAFH3AABSBwAAUhYAAFIiAABSLYAAUjSAAFJAgABSTIAAUoiAAFLigABS7oAAUv0AAFMNAABTGQAAUyUAAFM1gABTnYAAVBWAAFQlgABUNYAAVEGAAFRRgABUjAAAVKwAAFTlAABU8QAAVP0AAFUJAABVFQAAVSQAAFUwgABVPQAAVUkAAFVVAABVZoAAVXMAAFV/AABVjIAAVakAAFW2AABWKYAAVmoAAFbOAABXWgAAV+4AAFhSgABYa4AAWI4AAFiSAABYtYAAWTUAAFmAAABZ2wAAWhcAAFp4AABa/oAAW4mAAFvGAABbygAAW84AAFwUAABcGAAAXBwAAFwgAABcJAAAXCgAAFxvgABcc4AAXHeAAFyUgABcmIAAXMyAAFzQgABdFQAAXRkAAF0dAABdIQAAXXiAAF3wAABeAIAAXg4AAF4bgABeJ4AAXjOAAF5IgABeUoAAXrUAAF8HAABfXAAAX7YAAGAXAABgMAAAYJSAAGDbgABg34AAYOOAAGFFAABhSQAAYaKAAGH5AABiRgAAYp2AAGL5AABjaoAAY3qAAGOIgABjlgAAY5+AAGOrgABjtQAAZBKAAGQegABkbAAAZHAAAGR0AABkhIAAZIiAAGTtgABlWIAAZbsAAGXFAABl0QAAZigAAGYsAABmegAAZn4AAGakgABm/IAAZwCAAGeaAABn/IAAaFaAAGhigABowAAAaQyAAGkQgABpFIAAaRiAAGlPAABpUwAAaVcAAGlbAABpmQAAafeAAGn7gABqRYAAapKAAGrnAABrTAAAa5OAAGv2gABsOwAAbEiAAGzWAABs/gAAbQIAAG1ngABt0AAAbfEAAG5RgABuVYAAbu+AAG9PgABvr4AAb7uAAHAjgABwhQAAcPYAAHFBAABxRQAAcZEAAHGVAABxmQAAcckAAHHNAAByRoAAckqAAHKYAABy24AAc0aAAHO0AAB0BIAAdGCAAHSygAB0xwAAdT+AAHWegAB1rgAAdheAAHYggAB2cIAAdnSAAHZ4gAB2hoAAdoqAAHbtgAB3SQAAd6YAAHevAAB3uwAAeBaAAHhDAAB4coAAeH4AAHjrgAB5KYAAeU0AAHmYAAB5xQAAefuAAHoOAAB6LYAAel8AAHppAAB6e4AAepEAAHrMAAB63oAAeuuAAHr1gAB6/4AAewyAAHsdgAB7LoAAez4AAHuNgAB7u4AAfAOAAHwhAAB8VIAAfGkAAHyNgAB8uYAAfPaAAH0LgAB9MQAAfWCAAH2bAAB9x4AAfg+AAH4kAAB+ToAAfpwAAH7SAAB/C4AAf00AAH+GgAB/vwAAf/wAAIAjgACAZQAAgKOAAIDBgACA34AAgP0AAIEKgACBIYAAgVOAAIF2gACBhIAAgZYAAIGiAACBvIAAgeyAAIH5gACCBYAAghKAAIIegACCKoAAgjaAAIKegACCrIAAgryAAILKgACC2IAAgv+AAIM+AACDSgAAg3MAAIN+gACDjoAAg6KAAIOugACDwYAAhCeAAISBAACE2QAAhOqAAIT/gACFDYAAhWoAAIV3gACFnAAAhauAAIW3AACFxoAAhhKAAIYcgACGa4AAho+AAIa6AACG2oAAhwmAAIdPgACHkwAAh6AAAIfBgACIGIAAiDkAAIhLgACIjgAAiKAAAIjhAACJAAAAiRYAAIk3AACJcYAAibcAAIn2AACKIIAAilyAAIqRAACKy4AAiwWAAIsxgACLUgAAi+mAAIv0AACL/oAAjCyAAIw3AACMh4AAjMkAAI0DgACNDgAAjRiAAI0jAACNLYAAjTgAAI2YAACNooAAja0AAI23gACNwgAAjcyAAI3XAACN4YAAjewAAI35AACOA4AAjg4AAI4YgACOdwAAjnsAAI7BgACOxYAAjtAAAI7agACO5QAAju+AAI9aAACP4QAAkCyAAJAwgACQj4AAkJOAAJDlAACRWAAAkZmAAJH5gACSYYAAkuqAAJNBAACTuYAAlAqAAJRWAACUYIAAlGsAAJR1gACUgAAAlIqAAJSVAACUn4AAlKoAAJS0gACUvwAAlMmAAJTUAACU3oAAlOkAAJTzgACU/gAAlY0AAJXsAACWPQAAlrcAAJcJAACXE4AAlx4AAJcqAACXNgAAl0oAAJdeAACXbgAAl4qAAJefgACXtwAAl8yAAJfaAACX6oAAl/wAAJgOgACYGoAAmCiAAJg0gACYgoAAmVQAAJlegACZaQAAmXOAAJl+AACZiIAAmZMAAJmdgACZqAAAmbKAAJm9AACZx4AAmdIAAJncgACZ5wAAmfGAAJn8AACaBoAAmhEAAJobgACaJgAAmjCAAJo7AACaRYAAmlAAAJpagACaZQAAmm+AAJp6AACaoYAAmqcAAJqxgACbaYAAm22AAJu0AACb/IAAnEwAAJycgACdBgAAnQoAAJ1agACdroAAniqAAJ6fgACe5YAAnumAAJ8KAACfLYAAn22AAJ9xgACfmYAAn52AAJ/jAACgN4AAoIOAAKCHgACguwAAoL8AAKEcgAChIIAAoWWAAKFpgAChtoAAohwAAKJLAACiTwAAoo6AAKLlAACjCAAAowwAAKNWgACjuYAAo+iAAKPsgACkE4AApBeAAKRLAACkTwAApIUAAKSJAACkywAApM8AAKVAgAClRIAApZqAAKWegACmOQAApj0AAKa7gACmv4AApxoAAKceAACnWgAAp14AAKfEAACnyAAAqA+AAKgTgACoY4AAqGeAAKhrgACob4AAqM2AAKjRgACo1YAAqNmAAKkuAACpgYAAqbUAAKnuAACqTgAAqq6AAKrugACrM4AAq4SAAKuIgACrxAAAq/qAAKxhgACsZYAArK0AAKzugACtbgAArXIAAK12AACtegAArcyAAK3QgACt/oAArgKAAK5GAACuSgAAroUAAK6JAACu0IAArtSAAK78AACvAAAArwQAAK8/gACvnIAAr+eAALAmAACwKgAAsC4AALAyAACwmYAAsQgAALE7gACxP4AAsdeAALJpAACzCoAAs6OAALREgAC04QAAtVUAALXCgAC1zQAAtdeAALXbgAC134AAteoAALX0gAC1/wAAtgMAALYHAAC2EYAAthwAALYgAAC2JAAAti6AALY5AAC2Q4AAtkeAALZLgAC2T4AAtlOAALZXgAC2W4AAtmYAALZqAAC2bgAAtniAALaDAAC2jYAAtpgAALaigAC2rQAAtreAALbCAAC2zIAAttcAALbhgAC27AAAtvaAALcBAAC3C4AAtxYAALcggAC3KwAAtzWAALdAAAC3SoAAt1UAALdfgAC3agAAt3SAALd/AAC3iYAAt5QAALeegAC3qQAAt7OAALe+AAC3yIAAt9MAALfdgAC36AAAt/KAALf9AAC4B4AAuBIAALgcgAC4JwAAuDGAALg8AAC4RoAAuFEAALhbgAC4ZgAAuHCAALh7AAC4hYAAuJAAALiagAC4pQAAuM0AALjeAAC4+4AAuQYAALkQgAC5GwAAuSWAALkwAAC5OoAAuUUAALlPgAC5WgAAuWSAALlvAAC5eYAAuYQAALmOgAC5mQAAuaOAALmuAAC5uIAAucMAALnNgAC52AAAueKAALntAAC594AAugSAALoRgAC6HoAAuoMAALrqAAC7UQAAu7QAALvFgAC71wAAu/KAALwJgAC8HgAAvDoAALxwAAC8owAAvNkAAL0MAAC9NAAAvXqAAL2ngAC9yAAAvd6AAL3ugAC+NgAAvoiAAL7ugAC/BYAAvx0AAL80AAC/SwAAv3gAAL+lgAC/0IAAv/uAAMAmgADAVIAAwIKAAMCwgADAtQAAwLmAAMC+AADAwoAAwMcAAMDigADA/gAAwSwAAMEwgADBNQAAwTmAAME9gADBQgAAwUaAAMFLAADBT4AAwVQAAMFYgADBhAAAwa8AAMHagADCBYAAwiuAAMI6AADCRIAAwk8AAMJkAADCeIAAwpeAAMKqAADCyQAAwt4AAML/AADDE4AAwzEAAMNHAADDYIAAw3YAAMOMgADDrAAAw78AAMPWgADD74AAxAMAAMQWgADELIAAxD6AAMRJAADEVIAAxF4AAMRrAADEdwAAxIMAAMSXgADEswAAxMiAAMTlgADE+oAAxReAAMUpAADFQwAAxVSAAMVrgADFd4AAxYYAAMWPgADFm4AAxaUAAMWugADFuwAAxccAAMXbgADF9QAAxgqAAMYkAADGOQAAxlSAAMZlAADGfQAAxo2AAMaggADGrwAAxr4AAMbMgADG24AAxuiAAMb1AADHAQAAxw0AAMcXgADHIQAAxyuAAMc3AADHQYAAx1SAAMdlgADHcwAAx4IAAMePAADHmoAAx6oAAMe2AADHxIAAx88AAMfagADH5AAAx+2AAMf4gADID4AAyBuAAMgngADIM4AAyEGAAMhOgADIWgAAyGYAAMhyAADIfgAAyIoAAMiXAADIrIAAyLmAAMjRgADI3oAAyPSAAMkBgADJGIAAyUAAAMlzgADJu4AAye2AAMoRgADKNwAAyrIAAMsxAADLjwAAy+4AAMxYgADMxQAAzP8AAM1MgADNioAAzc8AAM4WgADOZAAAzr6AAM8aAADPf4AAz96AANAigADQJoAA0HGAANDAgADREQAA0XIAANGogADRxgAA0fOAANIdAADSeQAA0ocAANKlgADS1gAA0wSAANMegADTYAAA062AANPhAADUOIAA1FcAANR1gADUp4AA1NYAANUDAADVGgAA1TCAANVCgADVXoAA1X2AANWQAADVnoAA1bAAANXBAADV1YAA1eoAANYKgADWKwAA1juAANZLgADWWQAA1maAANZyAADWfYAA1oqAANaXgADWqAAA1riAANbHgADW1oAA1uUAANbzgADXAAAA1wyAANcZAADXJYAA1zQAANdCgADXUwAA12OAANd0AADXhIAA15gAANergADXvAAA18yAANfcgADX7IAA1/sAANgJgADYHIAA2C+AANg/AADYTwAA2GCAANhyAADYgQAA2JaAANilgADYtIAA2MSAANjUgADY44AA2PKAANkCgADZEoAA2SOAANk0gADZSYAA2W0AANl9gADZjgAA2agAANnCAADZzoAA2dsAANnpAADZ9wAA2hyAANpCAADaVIAA2mcAANp2AADahQAA2pqAANqwAADawoAA2tUAANrrAADbAQAA2xEAANshAADbLwAA2z0AANtPgADbYgAA23GAANuBAADbkYAA26IAANu3AADbzAAA292AANvvAADcAIAA3BIAANwngADcPQAA3FKAANxoAADcewAA3I4AANyhAADctAAA3NEAANzuAADdCwAA3SgAAN03gADdRwAA3VaAAN1mAADddYAA3YUAAN2WAADdpwAA3boAAN3NAADd5QAA3fgAAN4HgADeGwAA3l8AAN5zAADehwAA3pUAAN6jAADeuIAA3s4AAN7rAADfBAAA3xSAAN8lAADfOoAA304AAN9hAADfdAAA34QAAN+UAADfpgAA37gAAN/TAADf6YAA3/eAAOAFgADgFYAA4CWAAOBsAADgvYAA4PmAAOE9gADhUwAA4WiAAOF9AADhkgAA4asAAOHEAADh2YAA4e8AAOIMgADiKgAA4jqAAOJLAADiW4AA4mwAAOJ8gADijQAA4qKAAOK4AADizIAA4uGAAOMDgADjJAAA40wAAON0gADjhAAA45OAAOOjAADjsgAA48GAAOPRAADj4IAA4++AAOQogADkY4AA5KkAAOTwAADlIoAA5VUAAOWTgADl0gAA5hGAAOZRAADmmIAA5uAAAOcpgADncwAA57OAAOf0AADoGIAA6D0AAOhMgADoXAAA6HKAAOiJAADolwAA6KUAAOjpAADo7QAA6P8AAOkRAADpJwAA6T0AAOlJgADpVgAA6WaAAOl3AADphYAA6ZQ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//8AS//oBB4FwwImAEgAAAEHAI4A3wAAACNAFAMCIkALCwJVryIBIgpkSCsCAwIluQIiACkAKwErXSs1NQD//wC9AAACLgXCAiYA1QAAAQYAjd8AADK3AQdACwsGVQe4/8CzFxk0B7j/wEAOIiU0LwcBBwFaSCsBAQe5AiIAKQArAStdKysrNf//ACMAAAGbBcICJgDVAAABBgBDygAAKEAQAQVAFxk0BUAiJTQgBQEFArj/prRIKwEBBbkCIgApACsBK10rKzX////vAAACaAXCAiYA1QAAAQYA1tYAABZACgEABgkBAkEBAQq5AiIAKQArASs1//8ACQAAAjoFwwImANUAAAEGAI7MAAAfQBECAQggCwsGVQgCAEgrAQICC7kCIgApACsBKys1NQD//wCHAAAD5gWqAiYAUQAAAQcA1wD/AAAANbMBAQEmuQIiACkAKwGxBgJDVFi1ABcjAQtBKxu5ACj/wLciJDRPKAEoErj/4rFIKytdK1k1AP//AET/6AQnBcICJgBSAAABBwCNAPQAAAAbQA4C4B3wHQIdBABIKwIBHbkCIgApACsBK101AP//AET/6AQnBcICJgBSAAABBwBDAN4AAAAmsQIbuP/AQBELDTQPGwFwGwEbBABIKwIBG7kCIgApACsBK11xKzX//wBE/+gEJwXCAiYAUgAAAQcA1gDgAAAAIEASAhxALjI0nxwBABwfAAdBAgEguQIiACkAKwErcis1//8ARP/oBCcFwwImAFIAAAEHAI4A4AAAACpACQMCHkAWFgZVHrj/wEANCgsGVR4EbkgrAgMCIbkCIgApACsBKysrNTX//wBE/+gEJwWqAiYAUgAAAQcA1wDgAAAAMEAXAi8rPysCfyv/KwJPK48rAi8rPysCKwS4/+y0SCsCASm5AiIAKQArAStdXV1xNf//AIP/6APgBcICJgBYAAABBwCNAOcAAAAhQBMBHEAOEDQfHE8cAhwRPEgrAQEcuQIiACkAKwErcSs1AP//AIP/6APgBcICJgBYAAABBwBDAQcAAAAVQAoBARoRAEgnAQEauQIiACkAKwErAP//AIP/6APgBcICJgBYAAABBwDWANwAAAApswEBAR+5AiIAKQArAbEGAkNUWLUAGx4LFkErG7ePGQEZESNIKytdWTUA//8Ag//oA+AFwwImAFgAAAEHAI4A3AAA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Amtu1Hb+/ra3/v521AP6ctRyt/7+AQK3c9NyAAACAHABqgJmA6AACwAXAAABMhYVFAYjIiY1NDYXIgYVFBYzMjY1NCYBa2iTk2hok5JpSWZnSEhnZgOgk2hok5NoaJNMZ0hJZmZJSGf////9AAAFWQa+AiYAJAAAAQcA2AFKAV8AJkAXAgAPARAP0A8CIA8wDwIADxIMDEECAQ+5AiEAKQArAStdcXI1//8ASv/oBBwFXwImAEQAAAEHANgA9QAAABpADQJwOAEAODsCAkECATi5AsMAKQArAStdNf//AGb/5wV2ByYCJgAmAAABBwDWAbABZAAWQAoBACAjCA9BAQEguQIhACkAKwErNf//AFD/6APtBcICJgBGAAABBwDWAPoAAAAWQAoBAB0gBw5BAQEduQIiACkAKwErNf//AGb/5wV2BxoCJgAmAAABBwDaAbABkAAVQAkBHgtkSCsBAR65AiEAKQArASs1AP//AFD/6APtBYoCJgBGAAABBwDaAPAAAAApswEBARu5AiIAKQArAbEGAkNUWLUAGx4LC0ErG7dvGwEbEyhIKytdWTUA//8AogAABOgGyQImACgAAAEHANgBgQFqABZACgEADA8BAkEBAQy5AiEAKQArASs1//8AS//oBB4FXwImAEgAAAEHANgA4AAAABZACgIAHiEHD0ECAR65AsMAKQArASs1//8AogAABOgHIgImACgAAAEHANkBawFqACWzAQEBELkCIQApACsBsQYCQ1RYtQATDQECQSsbtBMFRkgrK1k1AP//AEv/6AQeBbgCJgBIAAABBwDZAPQAAAAVQAoCASUWAEgnAgEiuQIiACkAKwErAP//AKIAAAToBvQCJgAoAAABBwDaAYEBagAWQAoBAAwPAQJBAQEMuQIhACkAKwErNf//AEv/6AQeBYoCJgBIAAABBwDaAPoAAAAWQAoCAB4hBw9BAgEeuQIiACkAKwErNf//AG3/5wW5ByECJgAqAAABBwDWAg4BXwAlswEBASi5AiEAKQArAbEGAkNUWLUAKCsODkErG7QmDgBIKytZNQD//wBC/lED6gXCAiYASgAAAQcA1gDIAAAAFkAKAgAtMA8XQQIBLbkCIgApACsBKzX//wBt/+cFuQbpAiYAKgAAAQcA2gIOAV8AFkAKAQAmKQoCQQEBJrkCIQApACsBKzX//wBC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BQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAEAf/5TAjAGSAAXAEi5ABb/4LMLETQQuP/0sw4RNA+4/+C0ChE0AAG4AwayDg0NuAL6sg4OAbgC+rIAAAe5Av8AEi/tMy/sPBD9AC8zPzMxMAErKysBByYnJicmETQ3Njc2NxcGBwYVFBcWFxYCMCxoM2c5Sko6ZjVkLmw4PCIcOBz+gC19Tp6u5AEF+uCxnlN5Ku7q+fL0wp2WSwD//wBd/lMCDgZIAFcDfAKNAADAAEAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAQAFQElBNMGIAAMAC8AfACHAU9AIwUAAQcHAQElLS4pJCUdHhMhECUlHg8uAS4uHkAJDDQeHiEpuAL1shAQIbgC9UAaFxdjgn6FOVc9QEN+foVJSVBQd2NjhYVXQ2u4Au+yNTVXuALvsj09Q7gC67IFBQG4Avm2AAATJSQNLrgC+bQtLSUaHbgC+bIeHiS4Avm3QCUlYzlaZ1+4AwNAEmNjd1BnZzBUgoJGSX59QARUTLgDA7JQUFS4/8CzEBE0VLj/wEAKCQo0VFRGNW4wc7gDA7Ygd3cwMIlGuAEchS8RMy8zGS8a/RE5ORgROS8rKzMZL/0RFzkYETkvERI5LxkREjkv/RE5OREzGC8a/TIv/TIRMy/9MhESOTMv/TIvAD88EO08EO0REjkvMi88OS85LxI5LxE5ERI5ERI5ETMv7Tkv7REzLysyL10SOS8REjkRORE5ERI5ETMvMy8SOTkxMAEHJicmJzYzMhcWFxYXFAYjIiYnBgcGIyImNTQ2NzcUFjMyNjc3FhcWMzI3Njc3FgEUBwYHByInJicGBwYjIiYnBgYjIiY1NDY3JiY1NDc2NxYXFhcWFjMyNjcDJicmNTQ3NjcWFhcXFhcWMzI2NwMmJyY1NDc2NxYXFhcWBScGBwYHFhYzMjYC/RUZMw02CSUlFR8FEbs1KRclFwwZICEqKggCHh0gFS8GFwsGDiYbEwwIGQUBIgUIFA13TD0uKDgwP0F7FihwNXCE5KQECxcTIA0OFRYMQzkuMyc7BwMHFxMgCRcXJBAgJ0IcIwU6BwIHFxQdBB4kEBv87hNYLjQjFjcyHDwFUQg9NQ4tKiQ5DCpqSGsLDR4YHzYtEi0MDDAjVSgGKAcTKRsmBhT8oyUfMiYZIxw7RB0ZTDw7TSEaVNVMDzQPIioiJlJSe2o3MBk8AREgFCcRIyoiJTN3cqxJJi4tJwERKgopDyIrJSIZh6RUjhdvIB8jOAkKIf//AHkAkwLoAzMAFgLvAAAAAgAOAQoBpgadABYAKwCMQA4AFBZAFj80FhYQFAwIC7j/wLYWPzQLCwQQuALxsggIFLgC8UALBEAJDzQEBCccGyS8Au8AJwMLABsDD0AJFhYACwALDAwkuAMQticnHxwbGxe5AxAAHy/tGTkvMxE5Lxj9Mi8zMxkvGC8zGS8AGD8/5BE5ETMvK+0zL+0SOS8rEjkREjkvKxI5MTABBgcGIyInJiMiBgcnNjc2MzIXFjMyNwMUBwYHJzY2NTQCJyYnNjY3FhIXFgGmHB0pMDItYwYMGA8LGQsXJglkMiE1NEYdDzISAwUhFw4RFDMXEDEOEgZ2IBEYDyEHBw0kCRQgEBf7oFBLKFcKHUwNaAF1y3uALGYtcv50n8YAAv/cASUB1gadABYALQCQQA4XKy1AFj80LS0nKyMfIrj/wLYWPzQiIhsnuALxsh8fK7gC8bcbQAkPNBsbDL4C7wANAwsAFgLvAAEC60ASLS0XIhciIyMMQAkRNAwMDQ0GuAMSshERALkC8AAvEPUyL/0ZOS8yGC8rMy8zMxkvGC8zGS8AGD/tP+wzLyvtMy/tEjkvKxI5ERI5LysSOTEwASMiJyYmJy4CJyYnNxYXFhMWFxYzMwMGBwYjIicmIyIGByc2NzYzMhcWMzI3AdaMRCkkJQoGDRUSFid7JxAKChIiHCGMYhwdKTAyLWMGDBgPCxkLFyYJZDIhNTQBJTcwvotx7nsnMCTCeKdo/nyyMioEoyARGA8hBwcNJAkUIBAXAAACAFYBCgFuBwoAHwA0AJu5AAP/4LMSGTQCuP/gtQsRNCUkLboC7wAw/8BADQkqNDAwBRUAFwcdBQW4/8C2Ehk0BR0dF7wC9QAPAxUAJAMPQAsVBxISGgAAGgUFC7gDBbIaGi24AxC2MDAoJSQkILoDEAAoATuFL+0ZOS8zETkvGP05L/0yLxEzLxI5Lzk5AD8//TIvMysvEjkROTkRM30vGCvkETkxMAArKwEUBwYHBzQ3JicmNTQ3NjMyFhUUBgcmIyIGFRQWMzI2ExQHBgcnNjY1NAInJic2NjcWEhcWAW4fFSq6ZB8QFTU7LRQdDAsfJBYrXSEWEwIdDzISAwUhFw4RFDMXEDEOEgZmGRQND0AuIxAPExUfOD4bFg4dEhwSDA80A/vKUEsoVwodTA1oAXXLe4AsZi1y/nSfxgACABABJQHWBwoAHwA2AJy5AAL/4LMLETQsugLvAC3/wEANCSo0LS0FFQAXBx0FBbj/wLYSGTQFHR0XvgL1AA8DFQA2Au8AIQLrQAsVBxISGgAAGgUFC7gDBUANGhotLEAJETQsLC0tJrgDErIxMSC6AvAAOAE7hRD1Mi/9GTkvMhgvKxI5L/0yLxEzLxI5Lzk5AD/tP/0yLzMrLxI5ETk5ETN9Lxgr7DEwACsBFAcGBwc0NyYnJjU0NzYzMhYVFAYHJiMiBhUUFjMyNhMjIicmJicuAicmJzcWFxYTFhcWMzMBKB8VKrpkHxAVNTstFB0MCx8kFitdIRYTzIxEKSQlCgYNFRIWJ3snEAoKEiIcIYwGZhkUDQ9ALiMQDxMVHzg+GxYOHRIcEgwPNAP6yzcwvotx7nsnMCTCeKdo/nyyMioAAwAy/2MDdQRxACAAKgBKAM25AC3/4EAJCxE0EEALETQDuP/gQA8LEjQSQAkRNEArQjJIMDq4AvVAFUJCSEASGTRISDBACR00MDAcCxQKHLgC77IlJSG6Au8AFALrsgoKDroDCgAEAwhAC0AyPT1FKytFMDA2uAMFskVFGLgC/bMoKAohvAMDABQDAwAAAvCyTAsKuP/AswkMNAq4ATuFLyszEPTt7RE5L/0yL/0yLxEzLxI5Lzk5AD/9MhkvGD/9Mi/tERI5ETMvKzMvKzMv7RESORE5OTEwASsrKwArARQHBiMiJyYnJic3FhYzMjc2NzY3IicmNTQ3NjMyFxYVByYnJiMiBhUUFgMUBwYHBzQ3JicmNTQ3NjMyFhUUBgcmIyIGFRQWMzI2A3V6iLJCRjNSQUEROHsxem1VVStPh0NMMDhWVyYePxYfGyccKVhNHxUqumQfEBU1Oy0UHQwLHyQWK10hFhMBYaWjtg8LGxcWIw0dPjFdL2orMXBnWGZlT40FYCUgJRwxMwH/GRQND0AuIxAPExUfOD4bFg4dEhwSDA80A///ADL/YwN1BHEAFgOFAAAAAgAt/0ABUgXsAB8ANACfuQAC/+BACgsRNBUAFwcdBQ+4AvVAChcXHUASGTQdHQW4/8C2EhQ0IAUBBbj/wLcJDzQFBSUkLboC7wAwAwuzLyQBJLgDD0AJFQcSEgAABQUauAMFswsLKC24AxC2MDAoJSQkILoDEAAoATuFL+0ZOS8zETkvGO0RMy/tMy8yLzkvOTkAP10/5BE5My8rXSszLyszL+0REjkROTkxMAArBRQHBgcHNDcmJyY1NDc2MzIWFRQGByYjIgYVFBYzMjYTFAcGByc2NjU0AicmJzY2NxYSFxYBRR8VKrpkHxAVNTstFB0MCx8kFitdIRYTKx0PMhIDBSEXDhEUMxcQMQ4SNxkUDQ9ALiMQDxMVHzg+GxYOHRIcEgwPNAMCZ1BLKFcKHUwNaAF1y3uALGYtcv50n8YAAAIAE/9AAdYF7AAWADYAqbkAGf/gQAoLETQsFy4eNBwmuAL1QA0uLjRAEhk0NDSQHAEcuP/AtgkONBwcAQy+Au8ADQMLABYC7wABAutACyweKSkxFxcxHBwiuAMFQBYxQA0ONDFACQo0MTEMQAkRNAwMDQ0GuAMSshERALoC8AA4ATuFEPQyL/0ZOS8yGC8rMi8rK/0yLxEzLxI5Lzk5AD/tP+wRMy8rXTMvKzMv7RESORE5OTEwACsBIyInJiYnLgInJic3FhcWExYXFjMzAxQHBgcHNDcmJyY1NDc2MzIWFRQGByYjIgYVFBYzMjYB1oxEKSQlCgYNFRIWJ3snEAoKEiIcIYylHxUqumQfEBU1Oy0UHQwLHyQWK10hFhMBJTcwvotx7nsnMCTCeKdo/nyyMir99hkUDQ9ALiMQDxMVHzg+GxYOHRIcEgwPNAMAAAIAMv+nBNkEcQA7AFsA8LkAPv/gswsRNCa4/9ZAFA4RNCk0DhE0KjQLETRRPFNDWUFLuAL1QBVTU1lAEhk0WVkPQQFBQSADBg4hJyBBCQMHAAYC7wA5AwQAJwLvABb/wLMJCzQWvAMNAA4C7wAwAutAC1FDTk5WPDxWQUFHuAMFs1ZWJDO4AwxACQoKLCQDEgAALLgC/bRAEhJdIbsC+wAgACD/wLUJCzQgICS6AwwAGgE7hS/9MhkvKxrtETMYLxrtMy8SORESOS/tETMv/TIvETMvEjkvOTkAP+0/K+0/7T8SORESOREzL10zLyszL+0REjkROTkxMAErKysAKwEUBgcmJiMiBwYVFBYzMzIWFhUUBwYhIicmNTQ3Njc2NxcGBhUUFjMyNzY2NTQmIyMiJjU0NzY3NjMyFiUUBwYHBzQ3JicmNTQ3NjMyFhUUBgcmIyIGFRQWMzI2BNkMAiNhMldgWCs1UEhFYNvJ/qmyXmYiGi4DPCo/Q6mdeJ+I2hkc6itCNzxVZmdCTPyRHxUqumQfEBU1Oy0UHQwLHyQWK10hFhMDICBDDi00ZV03ExMDEEH7g3hFS5docldfBnERcMNLenowKXIbEww+MUNzfVRlUGsZFA0PQC4jEA8TFR84PhsWDh0SHBIMDzQDAAACACT/HwS1A+4ANgBWAOG5ADn/4LMLETQguP/gQAoMETRMN04+VDxGuAL1QBFOTlRAEhk0VFQ8PBo1GRk1Brj/wEAKCQo0BgYBLCwBIroC7wAR/8CzCQ00EbwDDgA1Au8AAQLrQAtMPklJUTc3UTw8QrgDBbNRUR4muAMMsw0NAC+4Awy0QAQEHgC+AvAAWAAaAvsAIAAZ/8C1CQs0GRkeugMMABUBO4Uv/TIZLysa7RgQ5RE5LxrtEjkv7REzL/0yLxEzLxI5Lzk5AD/tPyv9ETkvEjkvKxEzLxI5My8zLyszL+0REjkROTkxMAErACsBIyIGFRQzMhYXFhcWFRQHBiEiJyY1NDc2NxcGBwYVFBcWMzI3NjU0JiMmJiMiJjU0NzY3NjMzARQHBgcHNDcmJyY1NDc2MzIWFRQGByYjIgYVFBYzMjYEta+am10pMFEwEh17hv7L13+HQBdiKCYlOYB61Y9thh4jG3MSPzZJPGVMVK/8qx8VKrpkHxAVNTstFB0MCx8kFitdIRYTASUQGCEECQYJDyW7VV1JTpB0gi+aFEFAbkZ7QD0WGy8REQMHISF8T0AfFwF3GRQND0AuIxAPExUfOD4bFg4dEhwSDA80AwAC/7oBJQH0BVkADAAsAI65AA//4EAPCxE0BjQMETQiDSQUKhIcuAL1QAwkJCpAEhg0KioSEge+Au8ACAMEAAIC7wABAutACyIUHx8nDQ0nEhIYuAMFtycnAQgIBwcDvQMDAAAC8AAuAAEBO4UvEPX9Mi8ZOS8YETkv/TIvETMvEjkvOTkAP+0/7TMvMy8rMy/tERI5ETk5MTABKwArASE1ITQnJic3FhcWFQMUBwYHBzQ3JicmNTQ3NjMyFhUUBgcmIyIGFRQWMzI2AfT9xgHxHBNLTkgSG2wfFSq6ZB8QFTU7LRQdDAsfJBYrXSEWEwElrnY+K1GjWzNNsgKcGRQND0AuIxAPExUfOD4bFg4dEhwSDA80AwD///+6ASUB9AVZABYDiwAAAAEAkwEKAVIF7AAUADOyBQQNvgLvABADCwAEAw8ADQMQthAQCAUEBAC5AxAACC/tGTkvMxE5LxjtAD8/5BE5MTABFAcGByc2NjU0AicmJzY2NxYSFxYBUh0PMhIDBSEXDhEUMxcQMQ4SAiRQSyhXCh1MDWgBdct7gCxmLXL+dJ/GAAABABMBJQHWBewAFgA8vwAMAu8ADQMLABYC7wABAutACgxACRE0DAwNDQa4AxKyEREAuQLwABgQ9DIv/Rk5LzIYLysAP+0/7DEwASMiJyYmJy4CJyYnNxYXFhMWFxYzMwHWjEQpJCUKBg0VEhYneycQCgoSIhwhjAElNzC+i3HueycwJMJ4p2j+fLIyKgAAAgA6/6EFtQPAABwAIACRuQAQ/8BACw4RNBY0DBE0HR8euAMCtSAgAQoSCUEJAwQAFwLvABgDBAASAu8AAQLrsh4gHbgDAbcfHwUYGBcXE0EKAwMAQAAAAvAAIgAKAvsAIAAJ/8C1CQs0CQkOugMDAAUBKoUv/TIZLysa7RgQ9Br9Mi8ZOS8YETkv7Tk5AD/tP+0/EjkRMy/9OTkxMAErKwEhIicmNTQ3NjcXBgcGFRQXFjMhNTQmJzcWFxYVAQcnNwW1/EbAco8qDzkeFhUdfG+qA082QU0sCUT9w06iSgElQ1SzXWEjYhMuLkc4dkE6G3CNMqM3DnDW/f2RVJIA//8AOv+hBbUDwAAWA48AAAAC/7r/oQH0A6YADAAQAF23BjQMETQPDQ64AwKzEBABB74C7wAIAwQAAgLvAAEC67IOEA24AwG3Dw8BCAgHBwO9AwMAAALwABIAAQEqhS8Q9P0yLxk5LxgROS/tOTkAP+0/7REzL+05OTEwASsBITUhNCcmJzcWFxYVAwcnNwH0/cYB8RwTS05IEhtmTqJKASWudj4rUaNbM02y/hmRVJL///+6/6EB9AOmABYDkQAAAAQAAAEKAiwFIAADAAcAGQAnAJCyAAIDuAMCtAEBBAYHuAMCQA8PBQEFBRYeIA0RNBQeJRa4Au+yFRUlugLvAAwC67IBAwC4AwG0AgIFBwa4AwFADAQEIh4aFRQQFhYiGrgC/bMICCkiugL9ABABKIUv7REzL+0ZETkvEjk5EjkRMxgv/Tk5My/tOTkAP/0yL+wSOTkrETMvXe05OTMv7Tk5MTABByc3BwcnNwEUBwYjIicmNTQ3NjcnNxYXFgc0JyYnBgcGFRQWMzI2AdROoktBTKJKAeIuR71JMDcjICEPPbUjeFduLzYtCRw5MDiEBMuQVo+vkVSR/YeNR24dIT1GXE5PBKlfGVSnJj8bGjEMJyMzOT8ABP/3ASUDAAYlAAMABwAmAC8AtLUECwEAAgO4AwK0AQEEBge4AwJAEQVACQs0BQUdJysoDS4QHR0WuAMKsigoLrgC77WQEAEQECa6Au8ACQLrsgEDALgDAbQCAgUHBrgDAUAMQAQEKyMIFignDQQZuAL+tyAPHQEdHSsIvQLwADEAKwMTABMBE4Uv7RDlGRE5L10a/Rc5EjkYEjkvGv05OTMv7Tk5AD/9Mi9d/TIv/TIvERI5ETk5ETMvK+05OTMv7Tk5MTABXQEHJzcHByc3ASMiJyYnBgYjIiY1NDY3JiY1NDc2NxYWFxcWFxYzMwEnBgYHFhYzMgIDTqJLQUyiSgKHj0g3KRkeXDNzmeCoAg0XEx8KFQ4eGRQfIY/+oxNXZCIVODE8BdCQVo+vkVSR+1t7XJE4Ph8YVtFOCEQIIioiJD50PqyORGgBEW0fQzcJCgADADoBJQW1BQYAAwAHACQAtLkAGP/AQAsOETQeNAwRNAACA7gDArQBAQQGB7gDAkALBUAJCzQFBSASGhFBCQMEAB8C7wAgAwQAGgLvAAkC67IBAwC4AwG0AgIFBwa4AwG3BAQNICAfHxtBCgMDAEAACALwACYAEgL7ACAAEf/AtQkLNBERFroDAwANASqFL/0yGS8rGu0YEPUa/TIvGTkvGBE5L/05OTMv7Tk5AD/tP+0/EjkRMy8r7Tk5My/tOTkxMAErKwEHJzcHByc3ASEiJyY1NDc2NxcGBwYVFBcWMyE1NCYnNxYXFhUD306iS0FMokoDYPxGwHKPKg85HhYVHXxvqgNPNkFNLAlEBLGQVo+vkVSR/HpDVLNdYSNiEy4uRzh2QTobcI0yozcOcNb//wA6ASUFtQUGABYDlQAAAAP/ugElAfQFVgADAAcAFAB7tw40DBE0AAIDuAMCtAEBBAYHuAMCtQ8FAQUFD74C7wAQAwQACgLvAAkC67IBAwC4AwG0AgIFBwa4AwG3BAQJEBAPDwu9AwMACALwABYACQEqhS8Q9f0yLxk5LxgROS/9OTkzL+05OQA/7T/tMy9d7Tk5My/tOTkxMAErAQcnNwcHJzcBITUhNCcmJzcWFxYVAe9OoktBTKJKAY/9xgHxHBNLTkgSGwUBkFaPr5FUkfwqrnY+K1GjWzNNsgD///+6ASUB9AVWABYDlwAAAAQAOgElBbUFuQADAAcACwAoAOpACwsQEhU0BRASFTQBuP/wsxIVNBy4/8BACw4RNCI0DBE0AAIDuAMCtQEBCwQGB7gDArQFBQgKC7gDAkALCUAJCzQJCSQWHhVBCQMEACMC7wAkAwQAHgLvAA0C67IBAwK4AwG1AAAIBQcEuAMBtAYGCQsKuAMBtwgIESQkIyMfQQoDAwBAAAwC8AAqABYC+wAgABX/wLUJCzQVFRq6AwMAEQEqhS/9MhkvKxrtGBD1Gv0yLxk5LxgROS/9OTkzL+05OREzL/05OQA/7T/tPxI5ETMvK+05OTMv7Tk5ETMv7Tk5MTABKysrKysBByc3AQcnNwcHJzcBISInJjU0NzY3FwYHBhUUFxYzITU0Jic3FhcWFQMaTaBKAWhOoktBTKJKA2D8RsByjyoPOR4WFR18b6oDTzZBTSwJRAVjklaS/viQVo+vkVSR/HpDVLNdYSNiEy4uRzh2QTobcI0yozcOcNb//wA6ASUFtQW5ABYDmQAAAAT/ugElAfQGCQADAAcACwAYALJACwsQEhU0BRASFTQBuP/wQAsSFTQSNAwRNAACA7gDArUBAQsEBge4AwK0BQUICgu4AwK1DwkBCQkTvgLvABQDBAAOAu8ADQLrsgEDArgDAbUAAAgFBwS4AwG0BgYJCwq4AwG3CAgNFBQTEw+9AwMADALwABoADQEqhS8Q9f0yLxk5LxgROS/9OTkzL+05OREzL/05OQA/7T/tMy9d7Tk5My/tOTkRMy/tOTkxMAErKysrAQcnNwEHJzcHByc3ASE1ITQnJic3FhcWFQEqTaBKAWhOoktBTKJKAY/9xgHxHBNLTkgSGwWzklaS/viQVo+vkVSR/Cqudj4rUaNbM02y////ugElAfQGCQAWA5sAAAACADb+TgQgA3UAAwAwAJxADi0gCgs0HCoKCzR5LgEfuP+2tQkRNAACAboDAgAD/8BACgkKNAMDFwsHIyK6Au8AJAMGtBMWBBcPuALvsgcHFroC7wAXAweyAQMCuAMBQBIAAI8EAQQWIiQjIxcWFjILCx26AwMAKwEqhS/tMy8RMy8zMy85ORE5XTkv/Tk5AD/tOS/tEjkROT/tORE5ETkvK/05OTEwAStdKysBByc3AyImIyIHBgc2NzYzMhcWMzI2MwcGBwYHBhUUFxYhMxcHIyInJicmNTQ3Njc2AwZVnU19FEwTQFA0WigjS7FCzF9FHXAcJdOU3HuZ4MMBRrgG4jrYj6tYZE88cyMBB5dakQFdBgwIEnEiShwNDqkkLkRieqbXbF4LnygwannHqIZmWxwAAAIANv5OBDUDaQA+AEIAzEAOHiAKCzQNKgoLNHkfARC4/6K1CRE0QT9AugMCAEL/wEAPCxM0QkIBEzgIND0pJRQTugLvABUDBrQwMyI0LbgC77IlJTO+Au8ANAMHAD0C7wABAuuyQEJBuAMBtz8/BA44MwgEuAMDQBA5OY8iASIzExUOFBQ0MzMAuALws0QpKQ66AwMAHAEqhS/tMy8Q5TMvMzMvEjk5ETldOS/9ORI5ERI5L/05OQA/7T/tOS/tEjkROT/tORE5ERI5ORESOS8r7Tk5MTABK10rKwEjIiY1NDc2NwYHBgcGFRQXFiEzFwcjIicmJyY1NDc2NzY3JiYjIgcGBzY3NjMyFjMyNjcHBgcGBwcUFxYzMwEHJzcENYl5ZgoEB6tXoFhv4MMBRrgG4jrYj6tYZFVCfyWpKFkkZT8VbiIlU7Fh4k0zYTUoKTQhOgIyH0uJ/opNoU0BJVpoJzoWJDQlRFZsitdsXgufKDBqecergGRTGVoFBwkDGGImVCUIB6oFCQYLOFIcEf7mklWSAAAC/7r/vAQ9A2sAFgAaAFyyGRcYuAMCtRoaAQsCD7gC77MJCRYCugLvAAEC67IYGhe4AwFADxkZAwsLAQNUCxE0AwMBALgC8LEcAS8Q5RE5LysSOS8ROS/tOTkAP/08Mi/tEjkRMy/tOTkxMAEhNSEmJyYnJiMiBzY3NjMyFxYXFhczAQcnNwQ9+30DL2ZGV0hRUzM0HS9EaGaLRZx5Kzz+A0ujTgElrk8sNxkcB0otQWQyjG0J/nmQVJIA////uv+8BD0DawAWA58AAAABADb+TgQgA3UALAB1QA4pIAoLNBgqCgs0eSoBG7j/trYJETQHAx8eugLvACADBrQPEgATC7gC77IDAxK6Au8AEwMHQBCPAAEAEh4gHx8TEhIuBwcZugMDACcBKoUv7TMvETMvMzMvOTkROV0AP+05L+0SORE5P+05ETkxMAErXSsrASImIyIHBgc2NzYzMhcWMzI2MwcGBwYHBhUUFxYhMxcHIyInJicmNTQ3Njc2AeQUTBNAUDRaKCNLsULMX0UdcBwl05Tce5ngwwFGuAbiOtiPq1hkTzxzIwK4BgwIEnEiShwNDqkkLkRieqbXbF4LnygwannHqIZmWxwAAAEANv5OBDUDaQA+AKBADh4gCgs0DSoKCzR5HwEQuP+iQAsJETQ4CDQ9KSUUE7oC7wAVAwa0MDMiNC24Au+yJSUzvgLvADQDBwA9Au8AAQLrszgzCAS4AwNAEDk5jyIBIjMTFQ4UFDQzMwC4AvCzQCkpDroDAwAcASqFL+0zLxDlMy8zMy8SOTkROV05L/05EjkAP+0/7Tkv7RI5ETk/7TkRORESOTkxMAErXSsrASMiJjU0NzY3BgcGBwYVFBcWITMXByMiJyYnJjU0NzY3NjcmJiMiBwYHNjc2MzIWMzI2NwcGBwYHBxQXFjMzBDWJeWYKBAerV6BYb+DDAUa4BuI62I+rWGRVQn8lqShZJGU/FW4iJVOxYeJNM2E1KCk0IToCMh9LiQElWmgnOhYkNCVEVmyK12xeC58oMGp5x6uAZFMZWgUHCQMYYiZUJQgHqgUJBgs4UhwRAAAB/7oBJQQ9A2sAFgA8sgsCD7gC77MJCRYCugLvAAEC60AMCwsBA1QLETQDAwEAuALwsRgBLxDlETkvKxI5LwA//TwyL+0SOTEwASE1ISYnJicmIyIHNjc2MzIXFhcWFzMEPft9Ay9mRldIUVMzNB0vRGhmi0WceSs8ASWuTyw3GRwHSi1BZDKMbQkA////ugElBD0DawAWA6MAAAACADb+TgQgBR0AAwAwAJNADi0gCgs0HCoKCzR5LgEfuP+2tQkRNAACA7gDArYBAQ8LByMiugLvACQDBrQTFgQXD7gC77IHBxa6Au8AFwMHsgEDArgDAUASAACPBAEEFiIkIyMXFhYyCwsdugMDACsBKoUv7TMvETMvMzMvOTkROV05L/05OQA/7Tkv7RI5ETk/7TkROREzL+05OTEwAStdKysBByc3AyImIyIHBgc2NzYzMhcWMzI2MwcGBwYHBhUUFxYhMxcHIyInJicmNTQ3Njc2AqRNoUsdFEwTQFA0WigjS7FCzF9FHXAcJdOU3HuZ4MMBRrgG4jrYj6tYZE88cyMEyJFUkv2bBgwIEnEiShwNDqkkLkRieqbXbF4LnygwannHqIZmWxwAAgA2/k4ENQUdAAMAQgDCQA4iIAoLNBEqCgs0eSMBFLj/orUJETQAAgO4AwJACwEBMTwMOEEtKRgXugLvABkDBrQ0NyY4MbgC77IpKTe+Au8AOAMHAEEC7wAFAuuyAQMCuAMBtwAACBI8NwwIuAMDQBA9PY8mASY3FxkSGBg4NzcEuALws0QtLRK6AwMAIAEqhS/tMy8Q5TMvMzMvEjk5ETldOS/9ORI5ERI5L/05OQA/7T/tOS/tEjkROT/tORE5ERI5OREzL+05OTEwAStdKysBByc3ASMiJjU0NzY3BgcGBwYVFBcWITMXByMiJyYnJjU0NzY3NjcmJiMiBwYHNjc2MzIWMzI2NwcGBwYHBxQXFjMzAqhNoUsCMIl5ZgoEB6tXoFhv4MMBRrgG4jrYj6tYZFVCfyWpKFkkZT8VbiIlU7Fh4k0zYTUoKTQhOgIyH0uJBMiRVJL8CFpoJzoWJDQlRFZsitdsXgufKDBqecergGRTGVoFBwkDGGImVCUIB6oFCQYLOFIcEQAAAv+6ASUEPQUdAAMAGgBcsgACA7gDArUBARMPBhO4Au+zDQ0aBroC7wAFAuuyAQMAuAMBQA8CAgcPDwUHVAsRNAcHBQS4AvCxHAUvEOUROS8rEjkvETkv7Tk5AD/9PDIv7RI5ETMv7Tk5MTABByc3ASE1ISYnJicmIyIHNjc2MzIXFhcWFzMCXkyiSgKD+30DL2ZGV0hRUzM0HS9EaGaLRZx5KzwEyJFUkvwIrk8sNxkcB0otQWQyjG0JAP///7oBJQQ9BR0AFgOnAAAAAQBfASUCswRqABYATUAJZhN0EwIHBw0SuALvshERDboC7wABAuu1EhIREQgNugMDAAAC8LIYBAi6AvkABwEqhS/tMxD17RE5Lxk5LwAYP/0yL+0SOS8xMAFdASEiJjU0NjczFhcWMyE0JyYnNxYXFhUCs/5AOVsICxcLHRgqAYMyPpEPrUg6ASVCLSY+JSkSD7NtiC3CVbqW8gD//wBfASUCswRqABYDqQAAAAIAXwElArMGEwADABoAb7dmF3QXAgACA7gDArYBARYLCxEWuALvshUVEboC7wAFAuuyAQMAuAMBQAoCAhULFhYVFQwRugMDAAQC8LIcCAy6AvkACwEqhS/tMxD17RE5Lxk5LxgREjkv7Tk5AD/9Mi/tEjkvETMv7Tk5MTABXQEHJzcBISImNTQ2NzMWFxYzITQnJic3FhcWFQGpTqBJAa/+QDlbCAsXCx0YKgGDMj6RD61IOgW9kVaR+xJCLSY+JSkSD7NtiC3CVbqW8gD//wBfASUCswYTABYDqwAAAAEASv9GA+kDcAAeAHJACxMqCRE0EioMETQEuP/gswkRNAO4/+CzCRE0Arj/1kALCRE0GDQMETQNDBm6Au8AGgMJsgw6ELoDCgAGAwi0GhoZGRW6AwMAAALwsiANDLgBGoUvMxD0/TIvGTkvABg//RnkGD/tETkxMAErKysrKysBFAcGBwYjIicmJyYnNxYWMzI3NjY1NCcmJzcWFxYVA+leUnp0S0VQPVVIRxFCjzqAi36yLiVDOVInLAElbnZoS0gUDyAbGygNG1JL5VxPV0ZKnUxMVmoA//8ASv9GA+kDcAAWA60AAAACAEr/RgPpBR0AAwAiAJJACxcqCRE0FioMETQIuP/gswkRNAe4/+CzCRE0Brj/1kALCRE0HDQMETQAAgO4AwK1AQEeERAdugLvAB4DCbIQOhS6AwoACgMIsgEDArgDAbcAAB0eHh0dGboDAwAEAvCyJBEQuAEahS8zEPT9Mi8ZOS8RMxgv/Tk5AD/9GeQYP+0ROREzL+05OTEwASsrKysrKwEHJzcBFAcGBwYjIicmJyYnNxYWMzI3NjY1NCcmJzcWFxYVA1NNoUsBOV5SenRLRVA9VUhHEUKPOoCLfrIuJUM5UicsBMiRVJL8CG52aEtIFA8gGxsoDRtSS+VcT1dGSp1MTFZqAP//AEr/RgPpBR0AFgOvAAAAAQA+/2wGkgNXAEYA+bVAIBARNB64/+BAGg4RNCEgCxE0JjQLETRBQUI6NDUsQkIoNTUnugLvACgDCbIZHxi6AwcAOgLvsgAALL4C7wAJAusAHwLvAA8DEbMEQTE0ugL6ADX/wEARCRE0NTVBCSgoDycfJwInJyO7AwUALAAJ/8BADwkNNAkJQRxCQj9BAUFBPUEKAwUAQAAAAvAASAAZAvsAIAAY/8C1CQs0GBgcuAMDswATARO4ASqFL139MhkvKxrtGBD1Gv0yL10ZOS8YERI5Lys8/TIvXRk5LxESOS8r9DkSOQAYP+0/7TwQ7T8SOT/9OS8SOS8REjkREjkvMTABKysrKwEjIiYnBgcGIyMUBwYHBiMiJyY1NDY3NjcXBgYVFBYzMjc2NTQnJic3FhcWFTMyNzY1NCYnNxcWFxYzMjY1NCcmJzcWFxYVBpJPPFsvKiEvWnssOXWT3chqdCokFjYoRi2xpMCXvCUdNVMyEhl7XygjBwcoEBYlKUsXGR8XJkMvChYBJSEkJg0SXFdxQlNGTZ9WsFk2cBKQpkV8gUNTlWRaR0HNUj9Zmh0ZNB07IzxhYiswHRYyOSoqbU0cP3gA//8APv9sBpIDVwAWA7EAAAAB/7oBJQQ/AzUAOwCqQBc1IBARNAQNEhEpKiIaEhsbNioqNzY2N7oDCQAvAu+yAAAiuALvsgkJEroC7wARAuu2BDIqDRsmKboC+gAq/8C3CQ40Kio2Fxq6AvoAG//AQBEJCjQbGzYRNzc2QAwONDY2MroDBQAAAvCxPREvEPX9Mi8rGTkvERI5Lyv0ORI5Lyv0ORE5ERI5ABg/7TwQ7TwQ7T85LxI5LxE5LxI5ERI5ERI5OTEwASsBIyImJwYHBiMjIicmJwYGIyM1MzI3NjU0Jic3FhcWFxYzMzI3NjU0Jic3FxYXFjMyNjU0JyYnNxYXFhUEP01AXCYvIzNZQTQ0IjIwUFrBwVEjOgYIKRwSICYuQENLJCgIByoVGyciOhshKQcqQSkPFgElIyAlDBIUDR4kG64OF0UdOiQ8XCpJJS0XGjkfOiI8Xm8rJiEaOD4KN20+LURx////ugElBD8DNQAWA7MAAAAEAD7/bAaSBbkAAwAHAAsAUgFvQAsLEBIVNAUQEhU0Abj/8EAJEhU0TCAQETQquP/gQBAOETQtIAsRNDI0CxE0AAIDuAMCtQEBCwQGB7gDArQFBQgKC7gDAkAQCQk0TU1ORkBBOE5ONEFBM7oC7wA0AwmyJSskugMHAEYC77IMDDi+Au8AFQLrACsC7wAbAxGyAQMCuAMBtQAACAUHBLgDAbQGBgkLCrgDAbcICEkVEE09QLoC+gBB/8BAEQkRNEFBTRU0NA8zHzMCMzMvuwMFADgAFf/AQA8JDTQVFU0oTk4/TQFNTUlBCgMFAEAADALwAFQAJQL7ACAAJP/AtQkLNCQkKLgDA7MAHwEfuAEqhS9d/TIZLysa7RgQ9Rr9Mi9dGTkvGBESOS8rPP0yL10ZOS8REjkvK/Q5EjkYERI5L/05OTMv7Tk5ETMv/Tk5AD/tP+08EO0/Ejk//TkvEjkvERI5ERI5LxEzL+05OTMv7Tk5ETMv7Tk5MTABKysrKysrKwEHJzcBByc3BwcnNwEjIiYnBgcGIyMUBwYHBiMiJyY1NDY3NjcXBgYVFBYzMjc2NTQnJic3FhcWFTMyNzY1NCYnNxcWFxYzMjY1NCcmJzcWFxYVBX5NoEoBaE6iS0FMokoB2U88Wy8qIS9aeyw5dZPdyGp0KiQWNihGLbGkwJe8JR01UzISGXtfKCMHBygQFiUpSxcZHxcmQy8KFgVjklaS/viQVo+vkVSR/HohJCYNElxXcUJTRk2fVrBZNnASkKZFfIFDU5VkWkdBzVI/WZodGTQdOyM8YWIrMB0WMjkqKm1NHD94AP//AD7/bAaSBbkAFgO1AAAABP+6ASUEPwW5AAMABwALAEcBHkALCxASFTQFEBIVNAG4//BACxIVNEEgEBE0AAIDuAMCtQEBCwQGB7gDArQFBQgKC7gDAkAVCQlDEBkeHTU2LiYeJydCNjZDQkJDugMJADsC77IMDC64Au+yFRUeugLvAB0C67IBAwK4AwG1AAAIBQcEuAMBtAYGCQsKuAMBQAoICDUQPjYZJzI1ugL6ADb/wLcJDjQ2NkIjJroC+gAn/8BAEQkKNCcnQh1DQ0JADA40QkI+ugMFAAwC8LFJHS8Q9f0yLysZOS8REjkvK/Q5EjkvK/Q5ETkREjkYEjkv/Tk5My/tOTkRMy/9OTkAP+08EO08EO0/OS8SOS8ROS8SORESORESOTkRMy/tOTkzL+05OREzL+05OTEwASsrKysBByc3AQcnNwcHJzcBIyImJwYHBiMjIicmJwYGIyM1MzI3NjU0Jic3FhcWFxYzMzI3NjU0Jic3FxYXFjMyNjU0JyYnNxYXFhUDIU2gSgFoTqJLQUyiSgHjTUBcJi8jM1lBNDQiMjBQWsHBUSM6BggpHBIgJi5AQ0skKAgHKhUbJyI6GyEpBypBKQ8WBWOSVpL++JBWj6+RVJH8eiMgJQwSFA0eJBuuDhdFHTokPFwqSSUtFxo5HzoiPF5vKyYhGjg+CjdtPi1Ecf///7oBJQQ/BbkAFgO3AAAAAgA+/2wIyQNXADEAPgCtuQAU/9ZADg4RNBc0CxE0HDQLETQ1uALvsi0tHboC7wAeAwmyDxUOugMHADwC77IAACK+Au8AAQLrABUC7wAFAxG3OzIBHh4dHRm4AwW2ASIiAQESMkEKAvwAQAAAAvAAQAAPAvsAIAAO/8C1CQs0Dg4SugMDAAkBKoUv/TIZLysa7RgQ9RrtETkvMy8Q/TIvGTkvERI5ABg/7T/tPBDtPxI5P/05L+0xMAErKysBIQYHBiEiJyY1NDY3NjcXBgYVFBYzMjc2NTQnJic3FhcWFTMyNzY3Njc2NzYzMhcWFQc0JiMiBwYHBgchMjYIyftcHnKO/t3IanQqJBY2KEYtsaTAl7wlHTVTMhIZEndmWGGUHVJBSlmJRD+ie1JIWT9hSUgBzWByASXQaIFGTZ9WsFk2cBKQpkV8gUNTlWRaR0HNUj9ZmiYhR2cTNBYZT0mEAjE3IBcyJiYnAP//AD7/bAjJA1cAFgO5AAAAAv+6ASUGxQM+ACUAMABbtxITBQoJExMhuALvsikpLboC7wAXAu+yAQEKugLvAAkC67QtBSYPErgC+rMTEwkmugL8AAAC8LEyCS8Q9e0ZETkv9DkSOTkAGD/tPBDt/TIv7TkvERI5ETkxMAEhIicmJwYGIyM1MzI3NjU0Jic3FhcWMzI3Njc2NzY3NjMyFxYVBzQmIyIHBgchMjYGxftONjElMipUXMHBUSM6BwcpIz1BWFRxeliPIFFCSliIRUCjelFkjnFwAc1tZAElEg4fJBuuDhdFHTsjPIhKTyYpP2YUNBYZT0mEAjE3Qzk5JgD///+6ASUGxQM+ABYDuwAAAAMAPv9sCMkEuQADADUAQgDMuQAY/9ZAEA4RNBs0CxE0IDQLETQAAgO4AwKzAQEiObgC77IxMSG6Au8AIgMJshMZEroDBwBAAu+yBAQmvgLvAAUC6wAZAu8ACQMRsgEDArgDAUAKAAA/NgUiIiEhHbgDBbYFJiYFBRY2QQoC/ABAAAQC8ABEABMC+wAgABL/wLUJCzQSEha6AwMADQEqhS/9MhkvKxrtGBD1Gu0ROS8zLxD9Mi8ZOS8REjkYOS/9OTkAP+0/7TwQ7T8SOT/9OS/tETMv7Tk5MTABKysrAQcnNwEhBgcGISInJjU0Njc2NxcGBhUUFjMyNzY1NCcmJzcWFxYVMzI3Njc2NzY3NjMyFxYVBzQmIyIHBgcGByEyNgYvTKJKAz77XB5yjv7dyGp0KiQWNihGLbGkwJe8JR01UzISGRJ3ZlhhlB1SQUpZiUQ/ontSSFk/YUlIAc1gcgRkkVSS/GzQaIFGTZ9WsFk2cBKQpkV8gUNTlWRaR0HNUj9ZmiYhR2cTNBYZT0mEAjE3IBcyJiYn//8APv9sCMkEuQAWA70AAAAD/7oBJQbFBLkAAwApADQAerIAAgO4AwJACwEBJRYXCQ4NFxcluALvsi0tMboC7wAbAu+yBQUOugLvAA0C67IBAwK4AwG2AAAxCSoTFrgC+rMXFw0qugL8AAQC8LE2DS8Q9e0ZETkv9DkSOTkYOS/9OTkAP+08EO39Mi/tOS8REjkROREzL+05OTEwAQcnNwEhIicmJwYGIyM1MzI3NjU0Jic3FhcWMzI3Njc2NzY3NjMyFxYVBzQmIyIHBgchMjYESUyiSgMg+042MSUyKlRcwcFRIzoHBykjPUFYVHF6WI8gUUJKWIhFQKN6UWSOcXABzW1kBGSRVJL8bBIOHyQbrg4XRR07IzyISk8mKT9mFDQWGU9JhAIxN0M5OSb///+6ASUGxQS5ABYDvwAAAAL/ugElBKcGWQAtADkAjbkAH//wQA0PETQlBzE3ERAYGykevQLvABQAGAMLACkC77QxMTc3AroC7wABAutAECUhNwcKARsYHhQUEREYGBC4AxKyHh4huAMSswoKAS66AvwAAALwsTsBLxD17RE5L+0zL+0zLzIvGTkvERI5ERI5ORE5ABg//TwRMy/tPzPtETkROTkREjk5MTABKwEhNTcyNzY3NjY1NCcmJyYnJzY2NxYXFhcGBgcmJycWFhUUBwYHNjc2MzIXFhUHNCYjIgcGBwYHITIEp/sTmUQ7RFYSFhQPHhAaPgcbGBA5L0kKCg4HHg0jLQ4FDa8xlGqHQz2eaWJJX05YQUUBs+wBJa4BEhU1LGUva4Fef0JfHzxwNC8aFQdnOCkBCQR191RHVx9BZRdGT0iFAjM1IBouIiv///+6ASUEpwZZABYDwQAA////ugElBKcGWQAWA8EAAP///7oBJQSnBlkAFgPBAAAAA/+6ASUEpwZZAAMAMQA9ALW5ACP/8LUPETQAAgO4AwJADQEBLSkLNTsVFBwfLSK9Au8AGAAcAwsALQLvtDU1OzsGugLvAAUC67IBAwK4AwFAGQBACQs0AAAyHCklOwsOBR8cIhgYFRUcHBS4AxKyIiIluAMSsw4OBTK6AvwABALwsT8FLxD17RE5L+0zL+0zLzIvGTkvERI5ERI5ORE5GBESOS8r/Tk5AD/9PBEzL+0/M+0RORE5ORESOTkRMy/tOTkxMAErAQcnNwEhNTcyNzY3NjY1NCcmJyYnJzY2NxYXFhcGBgcmJycWFhUUBwYHNjc2MzIXFhUHNCYjIgcGBwYHITIDl02iSgG1+xOZRDtEVhIWFA8eEBo+BxsYEDkvSQoKDgceDSMtDgUNrzGUaodDPZ5pYklfTlhBRQGz7ATIkVSS/AiuARIVNSxlL2uBXn9CXx88cDQvGhUHZzgpAQkEdfdUR1cfQWUXRk9IhQIzNSAaLiIr////ugElBKcGWQAWA8UAAP///7oBJQSnBlkAFgPFAAD///+6ASUEpwZZABYDxQAAAAEAKv5OBCAERgA3AKezgCsBHbj/4LMOETQxuP/MswsRNDC4/+BACQsRNA0gDhE0DboC7wAj/9q3DhE0IyMoADe8Au8AAQMGABUC77IZGSe6Au8AKAMHQBQNNA4RNCMNJx8BAC4ZGSc3AAAoJ7j/wLYMDTQnJzkfuAMMshERLroDDAAHAR+FL+0zL+0RMy8rMzMvPBE5LxESORESOTkrAD/9Mi/tP+05ETkvK+0rMTABKysrXQEHIicmJyY1NDc2NzY3JicmNTQ3NjMyFxYXIgcGBwYVFBcWFzY3NjcHBgcGBwYVFBcWFxYzMjY3BCD90HLFa4cmHzocRmAlUllmkUFJMUpiZ4VSZHNhe2RfanIq0Fy6Y39qXLOO3C9eL/71pxEdV23MfGNRSCJFMCNNdmpmdSYZOg0RICc5PTcuEzYmKhycUStYXHaHjVFGHRcCAQAAAQA2/k4D4wNzADQAsUAJ6AQBBSAMDjQxuP+6swkRNDC4/8xAEAkRNAsKGwoCKB8NAxMjADS6Au8AAQMGtRAQFxMTF7j/wLUNETQXFyO6Au8AJQLrQA80AQAuKB8NGxskHw0NEh+4/8BACQ8RNB8fEgAAJLsC8AA2ABIC+bITEy66AwwABwEehS/tMy/tEPUyLxE5LysSOS8REjkvERI5ERI5OQA//TIvKzkvEjkvP+05ERIXOTEwAV0rKysAXQEHIicmJyY1NDc2NzY3JiYjIgcjNjc2MzIXFhUUBwYHFhYzMxUjIiYnBgcGBwYVFBcWFxYzA+PKu2vCbo01KlQoawolFRoZERUXOIBWPkUmIxY4Z01cXJmpM0k7UC04qYLjeMn+7qARH1lzz4l1XV4tZCIgI2koYCovSzEiHBJDOK5cai8yREFRS6ldRxkNAAH/ugElA8MDxwAdAG65ABb/4LcQETQREhIAFbgC77MvDQENugMEAAAC77YAAQEBAQYbvALvAAYC7wAFAutAERIbEQc0DRE0BwoREQEAAB8YuAMAsgoKBS8zL+0RMy8zMy8ROSsROTkAP+3tEjkvXe0/Xe0ROS85MTABKwEHBgQjIzUzJiY1NDYzMhcWFwcmJiMiBhUUFhc2NgPDRZf+c6f58B0kxZt7UCJRE0VuO4qdY06k0gJdtjdLri93OHagPBliERMTPTIxeS8ZLwAAAf+6ASUDJwNYACgAakAMECQXBSgAExMcFxccuP/AtQ4RNBwcKLgC77IAAAu6Au8ACgLrQA8FJBAQJCQWUCCAIAIgIAC7AvAAKgAWAvmyFxcKLzMv7RD0Mi9dEjkvOS8SOQA/7TwQ/TIvKzkvEjkvERI5ETk5MTABIyInJicGBwYjIzUzMjc2NycmIyIGByM1NDc2MzIXFhUUBwYHFhYzMwMnk0FDUCRDVmmGWlpUSFJPKiAoEhwRFTo1g3FHXSUbSBBbH5MBJR8lQjwhKa4SFS42Jg0WO24pJR4nUSsuIjwYIAAAAgAq/k4EIAXlAAMAOwDFs4AvASG4/+CzDhE0Nbj/zLMLETQ0uP/gtQsRNAACA7gDAkAJAQEZESAOETQRugLvACf/2rcOETQnJywEO7wC7wAFAwYAGQLvsh0dK7oC7wAsAweyAQMCuAMBQBYAABE0DhE0JxErIwUEMh0dKzsEBCwruP/AtgwNNCsrPSO4AwyyFRUyugMMAAsBH4Uv7TMv7REzLyszMy88ETkvERI5ERI5OSs5L/05OQA//TIv7T/tORE5LyvtKxEzL+05OTEwASsrK10BByc3AQciJyYnJjU0NzY3NjcmJyY1NDc2MzIXFhciBwYHBhUUFxYXNjc2NwcGBwYHBhUUFxYXFjMyNjcB8lGcUQLK/dByxWuHJh86HEZgJVJZZpFBSTFKYmeFUmRzYXtkX2pyKtBcumN/alyzjtwvXi8FkJBTkvkQpxEdV23MfGNRSCJFMCNNdmpmdSYZOg0RICc5PTcuEzYmKhycUStYXHaHjVFGHRcCAQAAAgA2/k4D4wUdAAMAOADUQAnoCAEJIAwONDW4/7qzCRE0NLj/zEALCRE0Cw4bDgIAAgO4AwJACwEBGywjEQMXJwQ4ugLvAAUDBrUUFBsXFxu4/8C1DRE0GxsnugLvACkC67IBAwK4AwFAEwAAHyM4BQQyLCMRHx8oIxERFiO4/8BACQ8RNCMjFgQEKLsC8AA6ABYC+bIXFzK6AwwACwEehS/tMy/tEPUyLxE5LysSOS8REjkvERI5ERI5ORESOS/9OTkAP/0yLys5LxI5Lz/tORESFzkRMy/tOTkxMAFdKysrAF0BByc3AQciJyYnJjU0NzY3NjcmJiMiByM2NzYzMhcWFRQHBgcWFjMzFSMiJicGBwYHBhUUFxYXFjMCV0yiSwIvyrtrwm6NNSpUKGsKJRUaGREVFziAVj5FJiMWOGdNXFyZqTNJO1AtOKmC43jJBMiRVJL50aARH1lzz4l1XV4tZCIgI2koYCovSzEiHBJDOK5cai8yREFRS6ldRxkNAAAC/7oBJQPDBR0AAwAhAJG5ABr/4LUQETQAAgO4AwJACw8BAQEBERUWFgQZuALvsy8RARG6AwQABALvtgAFAQUFCh+8Au8ACgLvAAkC67IBAwK4AwFAEwAAFh8VCzQNETQLDhUVBQQEIxy4AwCyDg4JLzMv7REzLzMzLxE5KxE5OTkv/Tk5AD/t7RI5L13tP13tETkvOREzL13tOTkxMAErAQcnNwEHBgQjIzUzJiY1NDYzMhcWFwcmJiMiBhUUFhc2NgIfS6NMAkZFl/5zp/nwHSTFm3tQIlETRW47ip1jTqTSBMiRVJL9QLY3S64vdzh2oDwZYhETEz0yMXkvGS8AAv+6ASUDJwUdAAMALACKsgACA7gDAkAPAQEgFCgbCSwEFxcgGxsguP/AtQ4RNCAgLLgC77IEBA+6Au8ADgLrsgEDArgDAUASAAAkCSgUFCgoGlAkgCQCJCQEuwLwAC4AGgL5shsbDi8zL+0Q9TIvXRI5LzkvEjkSOS/9OTkAP+08EP0yLys5LxI5LxESORE5OREzL+05OTEwAQcnNwEjIicmJwYHBiMjNTMyNzY3JyYjIgYHIzU0NzYzMhcWFRQHBgcWFjMzAdJMoksB+JNBQ1AkQ1ZphlpaVEhSTyogKBIcERU6NYNxR10lG0gQWx+TBMiRVJL8CB8lQjwhKa4SFS42Jg0WO24pJR4nUSsuIjwYIAAAAwAnASUGTwVzAAMAIwAuAK+1CSAQETQVuP/MswwRNBS4/+C1DBE0AAIDuAMCswEBHyS4/8BACRARNCQkKBAWD0EJAwQAKALvAB8DBAAWAu8ABQLrsgEDArgDAbYAACsXFyQbuALzsisrJEEKAxAAQAAEAvAAMAAQAvsAIAAP/8C1CQs0Dw8TugMDAAsBKoUv/TIZLysa7RgQ9Rr9Mi/tEjkvETkv/Tk5AD/tP+0/EjkROS8rETMv7Tk5MTABKysrAQcnNwEhIicmJyY1NDc2NxcGBhUUBCEhJicmNTQ3NjMyFxYVJzQnJiMiBhUUFxYFiFKiUwFo/GvTgZpPVjMlEigrHAEgAToC4XU3Pz5GVWMsJWgTFy8iISkeBR2UWJL7shofSE6GWXdRKBdXWyWEfiAqMEddand1YrUOVy84KSUxGRL//wAnASUGTwVzABYD0QAAAAP/ugElAiQFzwADABkAJQB0sgACA7gDAkAJAQEVGh4JIw0VuALvsh4eI7gC77INDQa6Au8ABQLrsgEDArgDAUALAAAaIA4RNAkaBxG4AwyzISEFB7oDDAAEAvCxJwUvEPXtETkv7RI5OSs5L/05OQA//TIv/TIv7RESORE5ETMv7Tk5MTABByc3ASE1ITQnBgcGIyInJjU0NzYzMhcWFQMmJyYjIgYVFDMyNgGfTaFKASn9lgIVFTQcLiNJLjUyOFp6QjejDh8qJhsjWBc0BXmSVpL7Vq5ZThEHDCUqT4todL+e1QEEJCUyLR9QEgAD/7oBJQIaBacAAwAWACEAakALCwwBGSAQETQAAgO4AwKyAQESuALvtRsbChcXBroC7wAFAuuyAQMCuAMBtgAAHgoEFw64AwyzHh4FF7oDDAAEAvCxIwUvEPXtETkv7RESORI5L/05OQA//TIvOTMv/TIv7Tk5MTABK10BByc3EyE1ITI2NyYnJjU0NzYzMhcWFScmJyYjIgYVFBcWAcNYjFPo/aABVz5XM6wzczc+WWY1KloXFSk6HChPHAVLkGCM+36uCQ8ZFjJ4aV1pgmeMBFAnSyweTBoJAAQARv9nBKcFdwADAAcANQBCANGzVAoBCbj/4LMOETQduP/gQAsOETQhQAkRNAACA7gDArQBAQQGB7gDArIFBTG4Au+yOjopuALvs0BAFRS8AwcAHwLvAAwDEbIBAwC4AwG0AgIFBwa4AwFACwQENiANETQmNiMtuAL9sz09GyNBCgMDAEAACALwAEQAFQL7ACAAFP/AtQkLNBQUG7gDA7MAEAEQuAEqhS9d/TIZLysa7RgQ9RrtETkv7RI5OSs5L/05OTMv7Tk5AD/tPzk5L+0zL/0yL+05OTMv7Tk5MTABKysrXQEHJzcHByc3ARQHBiEiJyY1NDc2NxcGBwYHBhUUFxYzMjc2NTQmJwYGIyInJjU0NzYzMhcWFScmJyYjIgYVFBYzMjYEMk6iS0FMokoB/76r/uXfeoQmI0EqHRQbDA9uZsfVoLkHCSZNJ1g3QzpBWXVEOp8aCxwqMC06JRotBSKQVo+vkVSR+9bGaF1QV6t2gnh4EkY2SjVDP4I+OUZRijMtFxIVKDBhcWd0oIizsT4PKS4jHyQPAP//AEb/ZwSnBXcAFgPVAAAABP+6ASUCJAXsAAMABwAdACkAlrIAAgO4AwK0AQEEBge4AwJADgVACQw0BQUZHiINJxEZuALvsiIiJ7gC77IREQq6Au8ACQLrsgEDALgDAbQCAgUHBrgDAUALBAQeIA4RNA0eCxW4AwyzJSUJC7oDDAAIAvCxKwkvEPXtETkv7RI5OSs5L/05OTMv7Tk5AD/9Mi/9Mi/tERI5ETkRMy8r7Tk5My/tOTkxMAEHJzcHByc3ASE1ITQnBgcGIyInJjU0NzYzMhcWFQMmJyYjIgYVFDMyNgIETqJLQUyiSgGq/ZYCFRU0HC4jSS41MjhaekI3ow4fKiYbI1gXNAWXkFaPr5FUkfuUrllOEQcMJSpPi2h0v57VAQQkJTItH1ASAAT/ugElAhoF0AADAAcAGgAlAIZACwsQAR0gEBE0AAIDuAMCtAEBBAYHuAMCsgUFFrgC77UfHw4bGwq6Au8ACQLrsgEDALgDAbQCAgUHBrgDAbYEBCIOCBsSuAMMsyIiCRu6AwwACALwsScJLxD17RE5L+0REjkSOS/9OTkzL+05OQA//TIvOTMv/TIv7Tk5My/tOTkxMAErXQEHJzcHByc3ASE1ITI2NyYnJjU0NzYzMhcWFScmJyYjIgYVFBcWAe9VfVZpT3tTAYf9oAFXPlczrDNzNz5ZZjUqWhcVKTocKE8cBX+GUoWNiFGG+5OuCQ8ZFjJ4aV1pgmeMBFAnSyweTBoJAAACAC0BJQTPBjMAKABJASW5ADj/4LMQETQbuAMKQAkvHAEcHEgjEhW4Awq2LyYBJiZIA7gC8UAPDEAJDDQMDDI6PTxERzJIuALvskFARL8DCwAzADIDCQA6Au8AKgLrQBUcDxtACw40GxsADwgHQAkONAcHNhi4Av1ACSBACQo0ICA2ALsC/QBAAA//wLcJETQPDz02QbgC+0ALIEBAPT08R0hERDy4AxC1D0gBSEg7vwMQACkC8ABLADMC+wAy/8C1CRE0MjI2ugMMAC4BJIUv/TIvK+0Q9e0zL13tMy8SOREzLzMZLxrtGBESOS8rGu0SOS8r7RE5Lys5ERI5LysSOQA/7T85PzMz7RE5ETk5ERI5LyvtEjkvXbEGAkNUWLQLJhsmAgBdWf05ORI5L13tMTABKwEUBiMiJyYnNzIXFjMyNjU0JiMiBwciJjU0NjcHBgcGFRQWMzI3NzIWASEiJyY1NDc2NxcGBhUUFxYzIQMnNDY3FxQXFxQGBycTA2GShD1KLVcRGCJPE3OlIhcaDkYZI69gE0UlPCAVEg42NCoBbv0e72VsLw0qIiIVc1amAn19NBgYD0hsFwwwdgOIbXgRChsVAwdDLhUeAQUaH1TqIIMTFiMxEQ8CBzb9WTk9k1hwH1QUTlQmbSwhA1AZRXk5CzodKC5yIBD88P//AC0BJQTPBjMAFgPZAAD///+6ASUDJwXfABYDLwAA////ugElAycF3wAWAy8AAAABAEcADgQNBjMANwCguQAC/+CzDxE0Nbj/8LMNETQZuP/MQA4NETQcIAwRNCQjLjEQMrgC77InJi5BCQMLABEAEAMJABoC7wAGACcC+0AKJiYkJCMxMi4uI7gDELIyMh6/AwwAAALwADkAEQL7ABD/wLUJCzQQEBe6AwwACgElhS/9Mi8r7RD17TMv7TMvEjkRMy8zGS/lABgv7T85PzMz7RE5ETk5MTABKysrKwEUBwYHBiMiJyY1NDc2NzY3FwYHBgcGFRQWMzI3NjU0JyYvAjQ3MxYWFxYXFhcUBgcnFhcWFxYEDUtDgm6pwWp0GRUrHzUgJRkhEBOzn6mQnh8YIyEuNxEEFBcfJRsUCg85AhsfDxgBoaBeUyQeR06bVl1PXkRgE0M1RzhEQHt+OkBZYeiy3MIYhm4mJQkNEg0KRkA6Ehaz0YLQAP//AEcADgQNBjMAFgPdAAAAAf+6ASUBqAYzABIAcbkAEv/wQAocHTQFBA0QEgMRuALvsgkIDb8DCwADAu8AQAABAusACQL7QAsgCAgFBQQQEQ0NBLgDELIREQO9AxAAAALwABQAAQElhS8Q9e0zL+0zLxI5ETMvMxkvGu0AGD8a7T8zM+0ROTkROTkxMAArASE1IQMnNDY3FxQXFhcUBgcnEwGo/hIBiXc0GBgPQTIzEAswdgElrgNQGUV5OQs6HRQUMnIcEPzw////ugElAagGMwAWA98AAAABACP+TgK0AtsAKgCIuQAI/+CzHB80B7j/+EATERk0ixOLGAIgGx9ACRg0Hx8XJLgC70AJG0AZGjQbGxcqvgLvABcC7wABAusADAMGsxcXAB+4AvqzICAFALgC8LYsDAwSCQkFuAL9sxASARIvXe0zLxkSOS8YEOQROS/9ETkvAD8/7e0RMy8r7RI5LysSOTEwAV0rKwEjIgcGFRQWFhUUBgcmJyYnJjU0Njc2NyYnJiMiBwYHJzY3NjMyFxYXFhcCtHemfJ0tLwsOGhkwFyRrb1ixPw8zNCEeGCIuHiY/Vj4+MzUaMwElHydJQpaaQCY+MlNTnlGAGoCJIRoSQAwoFBAnHUstSi4mRCFPAP//ACP+TgK0AtsAFgPhAAAAAv+6ASUDJwNJABcAIwB2QAseIAwNNBsgDBE0Ibj/4LMMETQTuAMKshwcILgC77QFBQoJI7gC77IAAAq6Au8ACQLrtxwgExMYBQkguP/gthEVNCAgCRi6AwAAAALwsSUJLxD17RE5LysSORkSOS8SOQAYP+08EO0REjkv/TIv7TEwASsrKwEjIicmJwYGIyM1MzI3Njc2NzY3FhcWFScmJyYnBgcGBxYWFwMnaENUYUo6eXScmVtHNy09WVBDRSk3cw0bFyYwIRYeJIM6ASUeIz1HN64uJEFYQToQaVRyRxc6OC8yDCEVMic+B////7oBJQMnA0kAFgPjAAAAAgBF/2wENQR2AAMAJACmuQAG/+CzDRE0F7j/1kAQDhE0GiALETQfIAsRNAACA7gDArIBASBBCgLvACEDCQASABEDBwAYAu8ACAMRsgEDAroDAQAA/8BACwoONAAAFSEhICAcQQoDAwBAAAQC8AAmABIC+wAgABH/wLUJCzQRERW6AwMADAEqhS/9MhkvKxrtGBD1Gv0yLxk5LxgROS8r/Tk5AD/tPzk/7TMv7Tk5MTABKysrKwEHJzcBFAcGISInJjU0Njc2NxcGBhUUFjMyNzY1NCcmJzcWFhUCwUucSAITg43+xshqdCokFjYoRi2xpL2StR4aMFM1KAQkj1aL/K/faXFGTZ9WsFk2cBKQpkV8gUNTlWZYTjrNUaiL//8ARf9sBDUEdgAWA+UAAAAC/7oBJQH0BRYAAwAQAFu3CjQMETQAAgO4AwKyAQELvgLvAAwDBAAGAu8ABQLrsgEDALgDAbcCAgUMDAsLB70DAwAEAvAAEgAFASqFLxD1/TIvGTkvGBE5L+05OQA/7T/tMy/tOTkxMAErAQcnNxMhNSE0JyYnNxYXFhUBpEyiSvT9xgHxHBNLTkgSGwTCkVSR/A+udj4rUaNbM02y////ugElAfQFFgAWA+cAAP//ADYBCgIYA3EAFgMIAAAAAv/3ASUDAASpAB4AJwBuQAwEAwEfIyAFJggVFQ64AwqyICAmuALvsggIHrsC7wBAAAEC67cbAA4gHwUEEbgC/rcgDxUBFRUjAL0C8AApACMDEwALAROFL+0Q5RkROS9dGv0XORI5ABg/Gv0yL/0yL/0yLxESORE5OTEwAV0BIyInJicGBiMiJjU0NjcmJjU0NzY3FhYXFxYXFjMzAScGBgcWFjMyAwCPSDcpGR5cM3OZ4KgCDRcTHwoVDh4ZFB8hj/6jE1dkIhU4MTwBJXtckTg+HxhW0U4IRAgiKiIkPnQ+rI5EaAERbR9DNwkKAAP/ugEAAxQEcAAoADUAQwCnQA86IA8RNDotPRIyDh0dLSO4/8C3DxE0IyMtLTK4Au+0CAgODUG+Au8ABALrAA4C7wANAutAFD06CDIpHR8jEiAJDjQSMBYjIykWuAMAszAwDSm4Av1ACTpACQw0OjoNNrgDALMAAEUNuAEfhS8RMy/tETkvK+0ROS/tGRI5LxESOSsROTkROTkSOQAYP+0/7RESOS/9Mi8zLysSOS8REjk5ETkrMTABFAcGIyInJicGBwYjIzUzMjY3JicmNTQ2Nzc2NjcmNTQ3NjcWFxYXFiU0JyYjIgYVFBc2NzYXNCcmJxQGBxYXFjMyNgMUJCcnKXBnR3Q1Q1taWilMQRoaHAMMYxQhHUUsDx9AYXtHXv6gEhUuLlB6KxUZ8TgjMyklPD0yFQwQAc46R000MC5CExiuDRETFBkYERAWrSMbCC8UFFMcNz10knOYhSsZHj0rKUMcGh7HI0ovNTFVFx8eFhIAAAP/uv+CAycDbwAfACkANACKtSYiLhAPF7gC77MiIhAJuALvszIyDx+4Au+yAAAQugLvAA8C60AKASouHiAmDi4NJrgDA7IRES64AwO0DQ0qDyC4Av2yGhoFuAL9syoqDwC7AvAANgAPARuFLxDkETkv7Tkv7RESOS/tMy/tERI5ERI5ERI5AD/tPBDtETMv7REzL+0REjkROTEwASEWFxYVFAcGIyInJjU3IzUzNjc2NzYzMhYVFAcGByElNCMiBwYHNjc2EzQnJicUFxYzMjYDJ/6SQC05GB5AeGR4At39Iyo1OkM7Hy8uG4cBuP61KCs8HTVbPkgodF9cNUB/GCMBJR43RVFOLztTZKRIrl1QZUBKbD1YNyFDqV9eLWkZJiz9+E9JPBBuR1YUAAIAMv9jA3UDFAAgACoAdbUQQAsRNAO4/+BADAsSNBJACRE0CxQKHLgC77IlJSG6Au8AFALrsgoKDrwDCgAEAwgAGAL9sygoCiG8AwMAFAMDAAAC8LIsCwq4/8CzCQw0CrgBH4UvKzMQ9e3tETkv7QA//TIZLxg//TIv7RESOTEwASsrKwEUBwYjIicmJyYnNxYWMzI3Njc2NyInJjU0NzYzMhcWFQcmJyYjIgYVFBYDdXqIskJGM1JBQRE4ezF6bVVVK0+HQ0wwOFZXJh4/Fh8bJxwpWAFhpaO2DwsbFxYjDR0+MV0vaisxcGdYZmVPjQVgJSAlHDEzAP//ADL/YwN1AxQAFgPtAAD//wAy/6cE2QOyABYDNQAA//8AJP8fBLUCBQAWAzYAAAADADL+VgTZA7IAOwA/AEMA1bkAJv/WQBAOETQpNA4RNCo0CxE0PD4/uAMCtD09QEJDugMCAEEDBrUDBg4hJyBBCQMHAAYC7wA5AwQAJwLvABb/wLMJCzQWvAMNAA4C7wAwAuuyPT88uAMBtD4+QUNCuAMBs0BAJDO4AwxACQoKLCQDEgAALLgC/bRAEhJFIbsC+wAgACD/wLUJCzQgICS6AwwAGgE5hS/9MhkvKxrtETMYLxrtMy8SORESOS/tETkv/Tk5My/tOTkAP+0/K+0/7T8SORESOT/tOTkzL+05OTEwASsrKwEUBgcmJiMiBwYVFBYzMzIWFhUUBwYhIicmNTQ3Njc2NxcGBhUUFjMyNzY2NTQmIyMiJjU0NzY3NjMyFgEHJzcHByc3BNkMAiNhMldgWCs1UEhFYNvJ/qmyXmYiGi4DPCo/Q6mdeJ+I2hkc6itCNzxVZmdCTP6HTqJLQUyiSgMgIEMOLTRlXTcTEwMQQfuDeEVLl2hyV18GcRFww0t6ejApchsTDD4xQ3N9VGVQ+9+QVo+vkVSRAAADACT+TgS1AgUANgA6AD4A/rWGM5YzAiC4/+BAEwwYNDoQEhU0FBgSFDSWD6cPAga4/8C2CQo0BgYBLLj/wLYuLzQsLAEiuALvQAzvEQERET43OZ86ATq4AxS3ODg7PZ8+AT66AxQAPP/AswkMNDy4AwazGhkZNboC7wABAuuyODo3uAMBtDk5PD49uAMBtzA7ATs7Lx4muAMMsw0NAC+4Awy0QAQEHgC+AvAAQAAaAvsAIAAZ/8C1CQs0GRkeugMMABUBOYUv/TIZLysa7RgQ5BE5LxrtEjkv7RESOS9d/Tk5My/tOTkAP/0yLzk/K+1dOTkzL+1dOTkRMy9d/RE5LysSOS8rMTABXSsrKwBxASMiBhUUMzIWFxYXFhUUBwYhIicmNTQ3NjcXBgcGFRQXFjMyNzY1NCYjJiYjIiY1NDc2NzYzMwEHJzcHByc3BLWvmptdKTBRMBIde4b+y9d/h0AXYigmJTmAetWPbYYeIxtzEj82STxlTFSv/mJdcFpcW3RdASUQGCEECQYJDyW7VV1JTpB0gi+aFEFAbkZ7QD0WGy8REQMHISF8T0AfF/zRVkdeT1ZHXgAAA/+6/3IB9AOmAAwAEAAUAH23BjQMETQRExK4AwK0FBQPDQ64AwK2ABABEBABB74C7wAIAwQAAgLvAAEC67IOEA24AwG0Dw8SFBO4AwG3EREBCAgHBwO9AwMAAALwABYAAQEqhS8Q9P0yLxk5LxgROS/9OTkzL+05OQA/7T/tETMvXe05OTMv/Tk5MTABKwEhNSE0JyYnNxYXFhUDByc3BwcnNwH0/cYB8RwTS05IEhsFTqJLQUyiSgElrnY+K1GjWzNNsv5EkFaPr5FUkf///7r/cgH0A6YAFgPzAAAAAwBAAKIEDgadAEQATgBlATBAE1QIVkoCT2NlQBY/NGVlX2NbV1q4/8C2Fj80WlpTX7gC8bJXV2O4AvFAJ1NTLjw7AAECSx8uNyAMETQVSBcHNwUjDksRjyMBI0AJETQjIy5LArgC77MAAEs/vwLyAC4C8gARAu8AQABLAutAE2VlT1pPWltbHyMqN0gHSxUXEUC4AvtACyA/Pzw8OwECAAA7uAMMsgICB7oDDAAX/8BACQkKNBcXEREqRbgDA0ARC0ANDzQLQAkLNAsLZ0AqASq4ARWFL10RMy8rK+0ROS85Lyv9Mi/tMy8SOREzLzMZLxrtERI5ORE5ORE5OTMYLzMzGS8YLzMZLwAYPxrtPz8SOS/tERI5LytdERI5ERc5KxI5ERI5ETk5ETMv7TMv7RI5LysSORESOS8rEjkxMABdAQcnFxQHBgcWFxYVFAYHBgYjNjU2NzY3JicmJyYnJiMiBwYjIicmJyYmNTQ3NjMyFxYXFhcXFhc2NzY1JzQ2NxcWFxYWAzQmJwYGBzI3NgEGBwYjIicmIyIGByc2NzYzMhcWMzI3BA4wOwIiJVAmDxcEB2rxcgEFE6p1RiAjVB8YIRMNHhALFi8pLSQaCAwdKU5FVUtJZi0vQxkWORcVFwQsGEvwER0edzp2MlX+zhwdKTAyLWMGDBgPCxkLFyYJZDIhNTQFRrQdW4Z+iodGKD9BJTQjGBsTDUxBW5GENzx/KxojDwgsJzkuPSs+IzVORnJldaRKXoeKeLohQmssBisaDiT8KxYvNidmJAcMBSAgERgPIQcHDSQJFCAQFwADAEkA8gTOBp0AFwA+AFUBRLkAFv/gsw8RNBS4/+CzDxE0Fbj/1rMOETQpuP/WswsRNCi4/+BACQsRNFsciSsCIrj/4EAlCQo0KyoJETQqSgkRNClUCRE0KEAJETQ/U1VAFj80VVVPU0tHSrj/wLYWPzRKSkNPuALxskdHU7gC8UAYQ0MHCkAKETQKChIDICAwA0AJGDQDAz4SvgLyADAC7wAzAvIAJwL7siYmProC7wAZAutADVVVP0o/P0pLSwcKAAO4/8CzGCA0A7j/wEANCg80AwMQIDctCzABMLgDELIzMy24AxCyNzcYuALws1cmJhC4AR2FLzMvEPUyL+0zGS8Y7V0REjkZEjkvKyszOTkyGC8zMy8ZLxEzLwAYP+0zL+0/7T8SOS8rETkvERI5Lys5Mi/tMy/tEjkvKxI5ERI5LysSOTEwASsrKysrXQArKysrKwEUBgcmJyYjIgYjIicmJyY1NDMyFxYXFgEjIicmNTQmNQIHBgcGITUkNzY3NjU0Jic3NjcWFxYXFhcWFxYzMwEGBwYjIicmIyIGByc2NzYzMhcWMzI3AzAECDhuekYPHhQbOkksOylImat0jwGePVQzPQdgS1miiv60AQ2E1W6FGRYhFBEaFxAPEw4SJBgYPf0THB0pMDItYwYMGA8LGQsXJglkMiE1NAMwFBwVfYWTNCMsOk5YP1tlh6X9V1tu3xA2B/71Y3QmIBxRO157lMtiqllUMSKQp3OEomN+NiQEoyARGA8hBwcNJAkUIBAXAAADACYAogQOBwoARABOAG4BQLkAUf/gQCwLETRUCFZKAjw7AAECSx8uNyAMETQVSBcHNwUjDksRjyMBI0AJETQjIy5LArgC77QAAD9LLrj/wLYJHTQuLlQ/uALytk9kZlZsVFS4/8C2Ehk0VGxsZrgC9bVeQAkONF68AxUAEQLvAEsC60ALZFZhYWlPT2lUVFq4AwVADkBpaR8jKjdIB0sVFxFAuAL7QAsgPz88PDsBAgAAO7gDDLICAge6AwwAF//AQAkJCjQXFxERKkW4AwNAEQtADQ80C0AJCzQLC3BAKgEquAE7hS9dETMvKyvtETkvOS8r/TIv7TMvEjkRMy8zGS8a7RESOTkROTkROTkzGC8a/TIvETMvEjkvOTkAP+0/K/0yLzMrLxI5ETk5PxEzLysREjkv7RESOS8rXRESOREXOSsSORESORE5OTEwAF0rAQcnFxQHBgcWFxYVFAYHBgYjNjU2NzY3JicmJyYnJiMiBwYjIicmJyYmNTQ3NjMyFxYXFhcXFhc2NzY1JzQ2NxcWFxYWAzQmJwYGBzI3NgEUBwYHBzQ3JicmNTQ3NjMyFhUUBgcmIyIGFRQWMzI2BA4wOwIiJVAmDxcEB2rxcgEFE6p1RiAjVB8YIRMNHhALFi8pLSQaCAwdKU5FVUtJZi0vQxkWORcVFwQsGEvwER0edzp2MlX+NB8VKrpkHxAVNTstFB0MCx8kFitdIRYTBUa0HVuGfoqHRig/QSU0IxgbEw1MQVuRhDc8fysaIw8ILCc5Lj0rPiM1TkZyZXWkSl6Hini6IUJrLAYrGg4k/CsWLzYnZiQHDAUQGRQND0AuIxAPExUfOD4bFg4dEhwSDA80AwAAAwA5APIEzgcKABcAPgBeAU65AEH/4LMLETQpuP/WswsRNCi4/+BAEgsRNIUUhhWGFscUBFsciSsCIrj/4EAvCQo0KyoJETQqSgkRNClUCRE0KEAJETQHIAoBCkAKETQKCgNACRg0AwMSPiAgPjC8Au8AMwLyACcC+7ImJj68Au8AGQLrABL/wLMXHTQSuP/AQA0JETQSEkRUP1ZGXEREuP/AthIZNERcXFa4AvW1TkAJDjROuAMVQAtURlFRWT8/WURESrgDBbVZWQcKAAO4/8CzGCA0A7j/wEANCg80AwMQIDctCzABMLgDELIzMy24AxCyNzcYuALws2AmJhC4ATuFLzMvEPUyL+0zGS8Y7V0REjkZEjkvKyszOTkyGC/9Mi8RMy8SOS85OQA/K/0yLzMrLxI5ETk5ETMvKys/7TMv7T/tETkvERI5Lys5LytdOTEwASsrKysrXQBdKysrARQGByYnJiMiBiMiJyYnJjU0MzIXFhcWASMiJyY1NCY1AgcGBwYhNSQ3Njc2NTQmJzc2NxYXFhcWFxYXFjMzARQHBgcHNDcmJyY1NDc2MzIWFRQGByYjIgYVFBYzMjYDMAQIOG56Rg8eFBs6SSw7KUiZq3SPAZ49VDM9B2BLWaKK/rQBDYTVboUZFiEUERoXEA8TDhIkGBg9/IMfFSq6ZB8QFTU7LRQdDAsfJBYrXSEWEwMwFBwVfYWTNCMsOk5YP1tlh6X9V1tu3xA2B/71Y3QmIBxRO157lMtiqllUMSKQp3OEomN+NiQEkxkUDQ9ALiMQDxMVHzg+GxYOHRIcEgwPNAMAAwBT/x0EDgXLAEQATgBuAUC5AFH/4EAPCxE0VAhWSgJkT2ZWbFReuAL1QA9mZmxAEhk0bGxAVJBUAlS4/8BAKgsXNFRUETw7AAECSx8uNyAMETQVSBcHNwUjDksRjyMBI0AJETQjIy5LArgC77MAAEs/vgLyAC4C8gARAu8ASwLrQAtkVmFhaU9PaVRUWrgDBUAPQGlpER8jKjdIB0sVFxFAuAL7QAsgPz88PDsBAgAAO7gDDLICAge6AwwAF//AQAkJCjQXFxERKkW4AwNAEQtADQ80C0AJCzQLC3BAKgEquAE7hS9dETMvKyvtETkvOS8r/TIv7TMvEjkRMy8zGS8a7RESOTkROTkROTkRMxgvGv0yLxEzLxI5Lzk5AD/tPz8SOS/tERI5LytdERI5ERc5KxI5ERI5ETk5ETMvK10zLyszL+0REjkROTkxMABdKwEHJxcUBwYHFhcWFRQGBwYGIzY1Njc2NyYnJicmJyYjIgcGIyInJicmJjU0NzYzMhcWFxYXFxYXNjc2NSc0NjcXFhcWFgM0JicGBgcyNzYDFAcGBwc0NyYnJjU0NzYzMhYVFAYHJiMiBhUUFjMyNgQOMDsCIiVQJg8XBAdq8XIBBROqdUYgI1QfGCETDR4QCxYvKS0kGggMHSlORVVLSWYtL0MZFjkXFRcELBhL8BEdHnc6djJVmx8VKrpkHxAVNTstFB0MCx8kFitdIRYTBUa0HVuGfoqHRig/QSU0IxgbEw1MQVuRhDc8fysaIw8ILCc5Lj0rPiM1TkZyZXWkSl6Hini6IUJrLAYrGg4k/CsWLzYnZiQHDP5QGRQND0AuIxAPExUfOD4bFg4dEhwSDA80AwADAEr/HQTOBd4AFwA+AF4BW7kAQf/gswsRNBa4/+CzDxE0FLj/4LMPETQVuP/Wsw4RNCm4/9azCxE0KLj/4EAJCxE0WxyJKwIiuP/gQB4JCjQrKgkRNCpKCRE0KVQJETQoQAkRNFQ/VkZcRE64AvVAClZWXEASGTRcXES4/8CzEhM0RLj/wEAcCQ80REQmBwpAChE0CgoSAyAgMANACRg0AwM+Er4C8gAwAu8AMwLyACcC+7ImJj66Au8AGQLrQAtURlFRWT8/WURESrgDBbdZWS0mBwoAA7j/wLMYIDQDuP/AQA0KDzQDAxAgNy0LMAEwuAMQsjMzLbgDELI3Nxi4AvCzYCYmELgBO4UvMy8Q9TIv7TMZLxjtXRESORkSOS8rKzM5ORgREjkv/TIvETMvEjkvOTkAP+0zL+0/7T8SOS8rETkvERI5Lys5ETMvKyszLyszL+0REjkROTkxMAErKysrK10AKysrKysrARQGByYnJiMiBiMiJyYnJjU0MzIXFhcWASMiJyY1NCY1AgcGBwYhNSQ3Njc2NTQmJzc2NxYXFhcWFxYXFjMzARQHBgcHNDcmJyY1NDc2MzIWFRQGByYjIgYVFBYzMjYDMAQIOG56Rg8eFBs6SSw7KUiZq3SPAZ49VDM9B2BLWaKK/rQBDYTVboUZFiEUERoXEA8TDhIkGBg9/QsfFSq6ZB8QFTU7LRQdDAsfJBYrXSEWEwMwFBwVfYWTNCMsOk5YP1tlh6X9V1tu3xA2B/71Y3QmIBxRO157lMtiqllUMSKQp3OEomN+NiT90xkUDQ9ALiMQDxMVHzg+GxYOHRIcEgwPNAMAAAIAUwCiBA4FywBEAE4A4EApVAhWSgI8OwABAksfLjcgDBE0FUgXBzcFIw5LEY8jASNACRE0IyMuSwK4Au+zAABLP78C8gAuAvIAEQLvAEAASwLrQAsfIyo3SAdLFRcRQLgC+0ALID8/PDw7AQIAADu4AwyyAgIHugMMABf/wEAJCQo0FxcRESpFuAMDQBELQA0PNAtACQs0CwtQQCoBKrgBFYUvXREzLysr7RE5LzkvK/0yL+0zLxI5ETMvMxkvGu0REjk5ETk5ETk5ABg/Gu0/PxI5L+0REjkvK10REjkRFzkrEjkREjkROTkxMABdAQcnFxQHBgcWFxYVFAYHBgYjNjU2NzY3JicmJyYnJiMiBwYjIicmJyYmNTQ3NjMyFxYXFhcXFhc2NzY1JzQ2NxcWFxYWAzQmJwYGBzI3NgQOMDsCIiVQJg8XBAdq8XIBBROqdUYgI1QfGCETDR4QCxYvKS0kGggMHSlORVVLSWYtL0MZFjkXFRcELBhL8BEdHnc6djJVBUa0HVuGfoqHRig/QSU0IxgbEw1MQVuRhDc8fysaIw8ILCc5Lj0rPiM1TkZyZXWkSl6Hini6IUJrLAYrGg4k/CsWLzYnZiQHDAAAAgBKAPIEzgXeABcAPgD1uQAW/+CzDxE0FLj/4LMPETQVuP/Wsw4RNCm4/9azCxE0KLj/4EAJCxE0WxyJKwIiuP/gQC0JCjQrKgkRNCpKCRE0KVQJETQoQAkRNAcKQAoRNAoKEgMgIDADQAkYNAMDPhK+AvIAMALvADMC8gAnAvuyJiY+ugLvABkC67MHCgADuP/AsxggNAO4/8BADQoPNAMDECA3LQswATC4AxCyMzMtuAMQsjc3GLgC8LNAJiYQuAEdhS8zLxD1Mi/tMxkvGO1dERI5GRI5LysrMzk5ABg/7TMv7T/tPxI5LysROS8REjkvKzkxMAErKysrK10AKysrKysBFAYHJicmIyIGIyInJicmNTQzMhcWFxYBIyInJjU0JjUCBwYHBiE1JDc2NzY1NCYnNzY3FhcWFxYXFhcWMzMDMAQIOG56Rg8eFBs6SSw7KUiZq3SPAZ49VDM9B2BLWaKK/rQBDYTVboUZFiEUERoXEA8TDhIkGBg9AzAUHBV9hZM0Iyw6Tlg/W2WHpf1XW27fEDYH/vVjdCYgHFE7XnuUy2KqWVQxIpCnc4SiY342JAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAD//wBGBWIBnAYxABYC9AAA//8ARgTXAZwGPQAWAvEAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAP//AEYE1wFRBg0AFgL4AAD//wBGBNcBsQYZABYC9wAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAAAAIBAAAABQAFAAADAAcAACERIRElIREhAQAEAPwgA8D8QAUA+wAgBMAA//8ASATXAa0GigAWAvUAAP//AEYE1wHlBloAFgLyAAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAD//wBGBNcBsQa5ABYDSQAA//8ARgTXAbEHVwAWAxIAAP//AEYE1wGxBtMAFgNLAAD//wBGBNcBsQc9ABYDSAAA//8AQATZAbEHLgAWA0oAAP//ADAE1wHPB3cAFgNHAAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAD//wBG/9UBnACkABYC9gAA//8ARv72AZwAWwAWAvMAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAQAAAAUABQAAAwAHAAAhESERJSERIQEABAD8IAPA/EAFAPsAIATAAAACAMoBGAHJBbcAEgAeAD65ABAC8rcHQAkKNAcHHLwC7gAWAuwABgLxtAcHExkAuALtsg0NE7kC7QAZL+0zL+0REjkv7QA//TIvKz8xMAEUBwYHBhUjNCcmJyY1NDYzMhYDFAYjIiY1NDYzMhYByRorBRo5GQolGkY3OUkGSDQySEg0MkgFHUN2wxySiH6ZOrZ+LT1dXPw3MkhIMjNKSgAAAQDHARgBzwIiAAsAFr4ACQLuAAMC7AAAAu0ABi/tAD/tMTABFAYjIiY1NDYzMhYBz083NkxNNThOAZ02T043Nk9OAAACAMYBGAHNBFcACwAXACq5AAkC7rIDAxW8Au4ADwLsAAAC7bIGBgy5Au0AEi/tMy/tAD/9Mi/tMTABFAYjIiY1NDYzMhYRFAYjIiY1NDYzMhYBzU44NUxKNzhOTzc1TEs2OE4D0jhOTjg3Tk79lDZPTjc2T04AAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUAAAMABwAAIREhESUhESEBAAQA/CADwPxABQD7ACAEwAAAAgEAAAAFAAUA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ABH++AAzACT/aAA1ADf/2wA1ADn/2wA1ADr/2wA1ADz/2wA3AAP/2wA3AA//HQA3ABD/jwA3ABH/HQA3AB3/HQA3AB7/HQA3ACT/aAA3ADL/2wA3AET/HQA3AEb/HQA3AEj/HQA3AEz/tAA3AFL/HQA3AFX/tAA3AFb/HQA3AFj/tAA3AFr/jwA3AFz/jwA5AA//RAA5ABD/jwA5ABH/RAA5AB3/tAA5AB7/tAA5ACT/aAA5AET/aAA5AEj/jwA5AEz/2wA5AFL/jwA5AFX/tAA5AFj/tAA5AFz/tAA6AA//jwA6ABD/2wA6ABH/jwA6AB3/2wA6AB7/2wA6ACT/tAA6AET/tAA6AEj/2wA6AEwAAAA6AFL/2wA6AFX/2wA6AFj/2wA6AFz/7gA8AAP/2wA8AA/++AA8ABD/RAA8ABH++AA8AB3/jwA8AB7/ewA8ACT/aAA8AET/aAA8AEj/RAA8AEz/tAA8AFL/RAA8AFP/aAA8AFT/RAA8AFj/jwA8AFn/jwBJAEn/2wBJALYAJQBVAA//jwBVABH/jwBVALYATABZAA//aABZABH/aABaAA//jwBaABH/jwBcAA//aABcABH/aAC1ALX/2wC2AAP/tAC2AFb/2wC2ALb/2wDEAi3/YADEAjb/YADEAkz/YADEAlH/vADEAlT/vAErAA//HwErABH/HwErAfgApAErAfn/RAErAfv/RAErAgH/RAErAhr/qAErAicAWAEsAfn/2wEsAfv/2wEsAgH/2wEsAgr/vgEsAg//vgEtAfn/xQEtAgr/vgEtAg//vgEvATL/4wEvAhz/2QEvAiT/yQEvAoz/4wEyAS7/4wEyAS//4wEyATH/4wEyATP/4wEyAhD/4wEyAhf/4wEyAiD/4wEyAiL/4wEyAib/4wEyAiv/4wEzATL/4wEzAhz/2QEzAiT/yQEzAoz/4wHxASz/1QHxAS3/xQHxAgX/1QHxAgn/aAHxAgr/aAHxAg//aAHxAhb/2wHxAh7/2wHxAiT/2wH1Agr/vgH2ASz/jQH2AS3/jQH2AS7/RgH2ATH/RgH2ATP/RgH2AfgAqgH2Afn/aAH2Afv/aAH2AgH/aAH2AgX/jQH2Ag3/ngH2AhL/aAH2AhP/tAH2Ahj/aAH2Ahr/tAH2Ahv/aAH2Ah3/aAH2AiD/RgH2AicAYgH2Ain/RgH3Agr/0QH3Ag//0QH5AAP/jwH5ALb/aAH5ASz/1QH5AS3/xQH5AgX/1QH5Agn/aAH5Agr/aAH5Ag//aAH5Ahb/2wH5Ah7/2wH5AiT/2wH7AAP/jwH7ASz/1QH7AgX/1QH7Agn/iQH7Agr/aAH7Ag//aAIAASz/wQIAAS3/jwIAAS7/5wIAAS//5wIAATH/5wIAATP/5wIAAgX/wQIAAhD/5wIAAhf/5wIAAhn/5wIAAh//5wIAAiD/5wIAAib/5wIAAin/5wIAAiv/5wIBAAP/jwIBASz/1QIBAgX/1QIBAgn/aAIBAgr/aAIBAg//aAIFAfn/2wIFAfv/1QIFAgH/2wIFAgr/vgIFAg//vgIHAAP/2wIHAA/++gIHABH++gIHAfn/aAIHAfv/aAIHAgH/aAIIATL/ngIIAoz/ngIJAAP/2wIJAA//HwIJABH/HwIJAB3/HwIJAB7/HwIJASz/2wIJAS3/2wIJAS7/HwIJATD/HwIJATH/HwIJATP/HwIJAfgAvAIJAfn/aAIJAfv/aAIJAgH/aAIJAgX/2wIJAg3/2wIJAhD/HwIJAhH/HwIJAhT/TgIJAhb/TgIJAhj/agIJAhr/tAIJAh3/agIJAh7/jwIJAiD/HwIJAiP/UAIJAiT/jwIJAiX/agIJAicAvAIJAij/TgIJAin/HwIJAir/TgIKAAP/2wIKAA/++gIKABD/RgIKABH++gIKAB3/jwIKAB7/jwIKASz/jQIKAS3/jQIKAS7/RgIKATH/RgIKATP/RgIKAfgAvAIKAfn/aAIKAfv/aAIKAgH/aAIKAgX/jQIKAg3/ngIKAhL/aAIKAhP/tAIKAhb/ngIKAhj/aAIKAhr/tAIKAhv/aAIKAh3/aAIKAiD/RgIKAicAeQIKAin/RgIMAS7/sgIMAS//sgIMATH/sgIMATP/sgIMAhD/sgIMAhn/2QIMAiD/sgIMAib/sgIMAin/sgIMAiv/sgINAgr/0QINAg//0QIPAAP/2wIPASz/jQIPAS3/jQIPAS7/RgIPATH/RgIPATP/RgIPAfgAqgIPAfn/aAIPAfv/aAIPAgH/aAIPAgX/jQIPAg3/ngIPAhL/aAIPAhP/tAIPAhj/aAIPAhr/tAIPAhv/aAIPAh3/aAIPAiD/RgIPAicAYgIPAin/RgIXAS7/dwIXAS//tAIXATH/dwIXATL/qgIXATP/dwIXAhD/dwIXAhL/2wIXAhb/qgIXAhj/2wIXAhn/ngIXAhr/2wIXAhv/2wIXAh7/qgIXAiD/dwIXAib/dwIXAin/dwIXAiv/dwIXAoz/qgIZAhz/2QIbAS7/5wIbAS//5wIbATH/5wIbATP/5wIbAhD/5wIbAhf/5wIbAhn/5wIbAh//5wIbAiD/5wIbAiL/5wIbAib/5wIbAin/5wIbAiv/5wIcAS7/4QIcAS//4QIcATH/4QIcATP/2wIcAhD/4QIcAh//4QIcAiD/4QIcAiL/0QIcAiP/zwIcAib/4QIcAin/4QIcAir/zwIcAiv/4QIfAS7/yQIfAS//yQIfATH/yQIfATP/yQIfAhD/yQIfAhf/yQIfAh//yQIfAiD/yQIfAiL/yQIfAin/yQIgATL/4wIgAhz/2QIgAiT/yQIgAoz/4wIhATL/4wIhAhz/2QIhAoz/4wIkAS7/yQIkAS//yQIkATH/yQIkATP/yQIkAhD/yQIkAhf/yQIkAiD/yQIkAiL/yQIkAib/yQIkAin/yQIkAiv/yQImATL/4wImAhz/2QImAiT/yQImAoz/4wIpATL/4wIpAhz/2QIpAiT/yQIpAoz/4wIrATL/4wIrAhz/2QIrAiT/yQIrAoz/4wIuAA//BgIuABH/BgIuAKn/dwIuAKr/dwIuALL/0wI0ALb/YAI1ALb/dwI6ALb/jQI6Aj4ARAI6AkH/6QI6AkUALQI6Akj/0wI6Akn/6QI6Akv/0wI6Akz/YAI6Ak3/pgI6Ak7/vAI6AlH/YAI6Alf/0wI6AloAFwI6Amz/0wI6Am3/6QI6Am4AFwI6AncALQI7Ajr/0wI7AkH/6QI7Akj/6QI7Akv/6QI7Akz/pAI7Ak3/0QI7Ak7/6QI7Ak//0wI7AlH/pAI7AlT/vAI7Alf/6QI7Aln/6QI7AmX/6QI7Am3/0wI8Ajr/vAI8Aj7/0wI8AkD/0wI8AkH/vAI8AkX/6QI8Akj/vAI8Akv/vAI8Akz/dwI8Ak3/vAI8Ak7/vAI8Ak//pgI8AlH/pAI8AlT/jQI8Aln/vAI8Al7/6QI8Amb/6QI8Amz/vAI8Am3/6QI8Am//6QI8AnH/vAI8Ann/6QI9AA//BgI9ABH/BgI9AKn/dwI9AKr/dwI9ALL/0wI9Ajr/dwI9Aj7/dwI9AkH/0wI9AkX/jQI9Akb/0QI9Akj/jQI9Akv/pAI9Aln/vAI9Alr/jQI9Alz/jQI9Al7/dwI9Al//dwI9AmL/jQI9AmX/jQI9Amb/jQI9Amf/jQI9Amj/dwI9Amr/jQI9Am3/dwI9AnX/jQI9Anb/jQI9Anj/jQI9Ann/dwI+Ak0AFwI+Ak7/0wI+AlH/ugI+AmEARAI+AmgAFwI+Am0ALQI/AkH/0wI/Amv/6QJAAkH/6QJAAkj/0wJAAkv/6QJAAkwAFwJAAk0ALQJAAlQALQJAAloAFwJAAl//5wJAAmj/6QJAAm3/6QJBAkX/6QJBAkj/6QJBAkv/6QJBAkz/0wJBAk3/6QJBAk7/6QJBAlH/0wJBAln/6QJEAkH/6QJEAkj/6QJEAkv/6QJEAk0AFwJEAk7/ugJFAk7/6QJFAlsAFwJFAm0AFwJGAk7/6QJGAlH/6QJGAloAFwJGAl8AFwJGAmgAFwJGAmsAFwJGAm0AFwJGAnH/6QJGAncAFwJIAjr/0wJIAj7/0wJIAkD/0wJIAkX/6QJIAk3/0wJIAk//pAJIAlH/0wJIAln/0wJIAl7/0wJIAmX/6QJIAm//6QJKAA/+fQJKABH+fQJKAB3/0wJKAB7/0wJKAKr/jQJKAjr/dwJKAj7/dwJKAkD/6QJKAkH/0wJKAkX/jQJKAkb/6QJKAkj/0wJKAkv/6QJKAkz/pAJKAk3/0wJKAk7/6QJKAk//pAJKAln/0wJKAlr/vAJKAl7/YAJKAl//pgJKAmj/pgJKAnf/0wJKAnn/vAJLAjr/0wJLAj7/0wJLAkH/6QJLAkX/vAJLAkb/6QJLAkj/0wJLAkz/vAJLAk3/vAJLAk//jQJLAlH/vAJLAlT/ugJLAlf/6QJLAloAFwJLAmAALQJLAnH/6QJMAA//HQJMABH/HQJMAKn/pgJMAKr/pgJMALL/0wJMAjr/vAJMAj7/vAJMAkAAFwJMAkH/6QJMAkX/0wJMAkj/pAJMAk7/vAJMAln/0wJMAlr/pAJMAlz/pgJMAl//jQJMAmL/pgJMAmT/pgJMAmX/pAJMAmb/pgJMAmj/YAJMAmn/pgJMAmr/jQJMAmv/jQJMAm3/jQJMAm//pgJMAnP/pgJMAnX/pgJMAnb/pgJMAnj/pgJMAnn/jQJNAA/+8AJNABH+8AJNAB3/0wJNAB7/0wJNAKn/pgJNAKr/pAJNALL/6QJNAjr/dwJNAj7/pAJNAkH/0wJNAkX/vAJNAkj/vAJNAk7/vAJNAlf/0wJNAln/0wJNAlv/0wJNAlz/jQJNAl3/pAJNAl7/YAJNAl//dwJNAmD/vAJNAmH/jQJNAmL/pAJNAmP/vAJNAmT/pAJNAmX/dwJNAmb/pAJNAmf/pAJNAmj/dwJNAmn/pAJNAmr/pAJNAmv/dwJNAm//pAJNAnD/pAJNAnL/pAJNAnP/pAJNAnj/pAJNAnn/dwJOAjr/0wJOAj7/vAJOAkX/vAJOAkz/jQJOAk3/pAJOAlH/0wJOAln/ugJOAmX/vAJPAkH/0wJPAkj/vAJPAkv/vAJPAk7/vAJPAlf/ugJPAmj/6QJPAm3/0wJQAkj/0wJQAloALQJTAloAFwJTAm0ALQJUALb/dwJUAln/vAJWALb/YAJWAjr/0wJWAj7/0wJWAkD/vAJWAkH/6QJWAkX/ugJWAkb/0wJWAkj/0wJWAkv/0wJWAkz/MwJWAk//pAJWAlH/YAJWAlf/6QJWAln/pAJXAj7/vAJXAkD/5wJXAkH/6QJXAkX/vAJXAk//ugJXAln/0wJXAl7/vAJXAmAAFwJXAmX/vAJXAmb/6QJXAnn/6QJYAjr/vAJYAj7/pgJYAkD/0wJYAkX/pAJYAkj/6QJYAkv/6QJYAkz/jQJYAk//pAJYAlH/vAJYAl7/pAJYAmX/pAJYAmb/6QJaAmH/6QJaAmz/0wJaAm3/6QJaAnH/0wJbAlr/0QJbAl7/pAJbAl//6QJbAmD/6QJbAmH/0wJbAmX/pAJbAmb/0wJbAmv/6QJbAm3/0wJbAm7/6QJbAm//vAJbAnH/vAJbAnT/vAJbAnf/6QJbAnn/0wJcAlr/6QJcAlv/6QJcAl7/6QJcAl//6QJcAmD/6QJcAmH/6QJcAmX/0QJcAmb/6QJcAmj/6QJcAmv/6QJcAmz/0wJcAm3/0wJcAm7/6QJcAnH/pAJcAnT/vAJcAnn/6QJdAA//BgJdABH/BgJdAlr/0wJdAl7/pAJdAl//0wJdAmH/6QJdAmX/0wJdAmj/0wJdAmv/0wJdAnn/6QJeAnT/0wJeAncAFwJfAlv/6QJfAl7/0wJfAmD/6QJfAmH/0wJfAmX/vAJfAmz/vAJfAm3/6QJfAm//0wJfAnH/vAJgAlsAFwJgAm0AFwJgAnH/6QJgAnQALQJhAlv/6QJhAl7/0wJhAl//6QJhAmH/6QJhAmX/6QJhAmj/6QJhAmv/6QJhAm3/6QJhAm7/6QJhAnH/vAJhAnT/0wJkAloALQJkAlsALQJkAl8AFwJkAmEAFwJkAmUAFwJkAmgAFwJkAmsAFwJkAmwAFwJkAm0AFwJkAncAFwJlAmgAFwJlAnH/0wJmAlv/6QJmAmH/6QJmAm0AFwJoAl7/0wJoAmD/6QJoAmH/6QJoAmX/0wJoAmz/0wJoAm3/6QJoAm//6QJoAnH/0wJqAl7/0QJqAmH/6QJqAmX/ugJqAmz/0wJqAm3/6QJqAm//6QJqAnH/0wJqAnn/6QJrAmAAFwJrAmgAFwJrAnH/6QJrAncAFwJsAA//HQJsABH/HQJsAlr/6QJsAl7/vAJsAl//6QJsAmAARAJsAmX/0wJsAmj/6QJsAmv/6QJsAm0AFwJtAA//MwJtABH/MwJtAKoAFwJtAlr/6QJtAlsAFwJtAl7/vAJtAl//6QJtAmAAFwJtAmX/0wJtAmb/6QJtAmj/5wJtAmr/6QJtAmv/6QJtAm7/6QJtAnf/6QJtAnn/6QJuAlv/6QJuAl7/0wJuAmX/0wJuAmz/0wJuAm3/6QJuAnH/0wJuAnn/6QJvAlr/6QJvAlv/6QJvAl//6QJvAmH/6QJvAmj/6QJvAmv/6QJvAmz/6QJvAm7/6QJvAnH/0wJwAl//6QJwAmH/6QJwAmj/6QJwAmv/6QJzAl//6QJzAmj/6QJzAm0AFwJ2Amz/YAJ2AnH/dwJ3Al7/0wJ3Al8AFwJ3AmH/6QJ3AmX/0wJ3AmgAFwJ3Amz/0wJ3Am//6QJ3Ann/6QJ4Al7/0wJ4AmD/6QJ4AmX/0wJ4Amb/6QJ4Amz/0wJ4Am//6QJ4AnH/0wKGAA//MwKGABH/MwKIAA//BgKIABH/BgKIAB3/0wKIAB7/0wKIAKn/YAKIAKr/YAKIALL/0wKMAS7/4wKMATH/4wKMATP/4wKMAhD/4wKMAhf/4wKMAiD/4wKMAiL/4wKMAib/4wKMAiv/4wAAAEYDTgAAAAMAAAAAAP4AAAAAAAMAAAABAAoBPgAAAAMAAAACAA4F3gAAAAMAAAADAF4FwAAAAAMAAAAEAAoBPgAAAAMAAAAFABgF7gAAAAMAAAAGAA4GHgAAAAMAAAAHAMQGLAAAAAMAAAAIACYHfAAAAAMAAAAJAIoNpAAAAAMAAAAKBMIA/gAAAAMAAAALAGIOLgAAAAMAAAAMAGYOkAAAAAMAAAANBrQG8AAAAAMAAAAOAFwO9gABAAAAAAAAAH8PUgABAAAAAAABAAUP8QABAAAAAAACAAcSQQABAAAAAAADAC8SMgABAAAAAAAEAAUP8QABAAAAAAAFAAwSSQABAAAAAAAGAAcSYQABAAAAAAAHAGISaAABAAAAAAAIABMTEAABAAAAAAAJAEUWJAABAAAAAAAKAmEP0QABAAAAAAALADEWaQABAAAAAAAMADMWmgABAAAAAAANA1oSygABAAAAAAAOAC4WzQADAAEEAwACAAwW+wADAAEEBQACABAXCwADAAEEBgACAAwXGwADAAEEBwACABAXJwADAAEECAACABAXNwADAAEECQAAAP4AAAADAAEECQABAAoBPgADAAEECQACAA4F3gADAAEECQADAF4FwAADAAEECQAEAAoBPgADAAEECQAFABgF7gADAAEECQAGAA4GHgADAAEECQAHAMQGLAADAAEECQAIACYHfAADAAEECQAJAIoNpAADAAEECQAKBMIA/gADAAEECQALAGIOLgADAAEECQAMAGYOkAADAAEECQANBrQG8AADAAEECQAOAFwO9gADAAEECgACAAwW+wADAAEECwACABAXRwADAAEEDAACAAwW+wADAAEEDgACAAwXVwADAAEEEAACAA4XZwADAAEEEwACABIXdQADAAEEFAACAAwW+wADAAEEFQACABAW+wADAAEEFgACAAwW+wADAAEEGQACAA4XhwADAAEEGwACABAXVwADAAEEHQACAAwW+wADAAEEHwACAAwW+wADAAEEJAACAA4XlQADAAEEKgACAA4XowADAAEELQACAA4XsQADAAEICgACAAwW+wADAAEIFgACAAwW+wADAAEMCgACAAwW+wADAAEMDAACAAwW+wBUAHkAcABlAGYAYQBjAGUAIACpACAAVABoAGUAIABNAG8AbgBvAHQAeQBwAGUAIABDAG8AcgBwAG8AcgBhAHQAaQBvAG4AIABwAGwAYwAuACAARABhAHQAYQAgAKkAIABUAGgAZQAgAE0AbwBuAG8AdAB5AHAAZQAgAEMAbwByAHAAbwByAGEAdABpAG8AbgAgAHAAbABjAC8AVAB5AHAAZQAgAFMAbwBsAHUAdABpAG8AbgBzACAASQBuAGMALgAgADEAOQA5ADAALQAxADkAOQAyAC4AIABBAGwAbAAgAFIAaQBnAGgAdABzACAAUgBlAHMAZQByAHYAZQBkAEMAbwBuAHQAZQBtAHAAbwByAGEAcgB5ACAAcwBhAG4AcwAgAHMAZQByAGkAZgAgAGQAZQBzAGkAZwBuACwAIABBAHIAaQBhAGwAIABjAG8AbgB0AGEAaQBuAHMAIABtAG8AcgBlACAAaAB1AG0AYQBuAGkAcwB0ACAAYwBoAGEAcgBhAGMAdABlAHIAaQBzAHQAaQBjAHMAIAB0AGgAYQBuACAAbQBhAG4AeQAgAG8AZgAgAGkAdABzACAAcAByAGUAZABlAGMAZQBzAHMAbwByAHMAIABhAG4AZAAgAGEAcwAgAHMAdQBjAGgAIABpAHMAIABtAG8AcgBlACAAaQBuACAAdAB1AG4AZQAgAHcAaQB0AGgAIAB0AGgAZQAgAG0AbwBvAGQAIABvAGYAIAB0AGgAZQAgAGwAYQBzAHQAIABkAGUAYwBhAGQAZQBzACAAbwBmACAAdABoAGUAIAB0AHcAZQBuAHQAaQBlAHQAaAAgAGMAZQBuAHQAdQByAHkALgAgACAAVABoAGUAIABvAHYAZQByAGEAbABsACAAdAByAGUAYQB0AG0AZQBuAHQAIABvAGYAIABjAHUAcgB2AGUAcwAgAGkAcwAgAHMAbwBmAHQAZQByACAAYQBuAGQAIABmAHUAbABsAGUAcgAgAHQAaABhAG4AIABpAG4AIABtAG8AcwB0ACAAaQBuAGQAdQBzAHQAcgBpAGEAbAAgAHMAdAB5AGwAZQAgAHMAYQBuAHMAIABzAGUAcgBpAGYAIABmAGEAYwBlAHMALgAgACAAVABlAHIAbQBpAG4AYQBsACAAcwB0AHIAbwBrAGUAcwAgAGEAcgBlACAAYwB1AHQAIABvAG4AIAB0AGgAZQAgAGQAaQBhAGcAbwBuAGEAbAAgAHcAaABpAGMAaAAgAGgAZQBsAHAAcwAgAHQAbwAgAGcAaQB2AGUAIAB0AGgAZQAgAGYAYQBjAGUAIABhACAAbABlAHMAcwAgAG0AZQBjAGgAYQBuAGkAYwBhAGwAIABhAHAAcABlAGEAcgBhAG4AYwBlAC4AIAAgAEEAcgBpAGEAbAAgAGkAcwAgAGEAbgAgAGUAeAB0AHIAZQBtAGUAbAB5ACAAdgBlAHIAcwBhAHQAaQBsAGUAIABmAGEAbQBpAGwAeQAgAG8AZgAgAHQAeQBwAGUAZgBhAGMAZQBzACAAdwBoAGkAYwBoACAAYwBhAG4AIABiAGUAIAB1AHMAZQBkACAAdwBpAHQAaAAgAGUAcQB1AGEAbAAgAHMAdQBjAGMAZQBzAHMAIABmAG8AcgAgAHQAZQB4AHQAIABzAGUAdAB0AGkAbgBnACAAaQBuACAAcgBlAHAAbwByAHQAcwAsACAAcAByAGUAcwBlAG4AdABhAHQAaQBvAG4AcwAsACAAbQBhAGcAYQB6AGkAbgBlAHMAIABlAHQAYwAsACAAYQBuAGQAIABmAG8AcgAgAGQAaQBzAHAAbABhAHkAIAB1AHMAZQAgAGkAbgAgAG4AZQB3AHMAcABhAHAAZQByAHMALAAgAGEAZAB2AGUAcgB0AGkAcwBpAG4AZwAgAGEAbgBkACAAcAByAG8AbQBvAHQAaQBvAG4AcwAuAE0AbwBuAG8AdAB5AHAAZQA6AEEAcgBpAGEAbAAgAFIAZQBnAHUAbABhAHIAOgBWAGUAcgBzAGkAbwBuACAAMwAuADAAMAAgACgATQBpAGMAcgBvAHMAbwBmAHQAKQBBAHIAaQBhAGwATQBUAEEAcgBpAGEAbACuACAAVAByAGEAZABlAG0AYQByAGsAIABvAGYAIABUAGgAZQAgAE0AbwBuAG8AdAB5AHAAZQAgAEMAbwByAHAAbwByAGEAdABpAG8AbgAgAHAAbABjACAAcgBlAGcAaQBzAHQAZQByAGUAZAAgAGkAbgAgAHQAaABlACAAVQBTACAAUABhAHQAIAAmACAAVABNACAATwBmAGYALgAgAGEAbgBkACAAZQBsAHMAZQB3AGgAZQByAGUALgBOAE8AVABJAEYASQBDAEEAVABJAE8ATgAgAE8ARgAgAEwASQBDAEUATgBTAEUAIABBAEcAUgBFAEUATQBFAE4AVAANAAoADQAKAFQAaABpAHMAIAB0AHkAcABlAGYAYQBjAGUAIABpAHMAIAB0AGgAZQAgAHAAcgBvAHAAZQByAHQAeQAgAG8AZgAgAE0AbwBuAG8AdAB5AHAAZQAgAFQAeQBwAG8AZwByAGEAcABoAHkAIABhAG4AZAAgAGkAdABzACAAdQBzAGUAIABiAHkAIAB5AG8AdQAgAGkAcwAgAGMAbwB2AGUAcgBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAHQAZQByAG0AcwAgAG8AZgAgAGEAIABsAGkAYwBlAG4AcwBlACAAYQBnAHIAZQBlAG0AZQBuAHQALgAgAFkAbwB1ACAAaABhAHYAZQAgAG8AYgB0AGEAaQBuAGUAZAAgAHQAaABpAHMAIAB0AHkAcABlAGYAYQBjAGUAIABzAG8AZgB0AHcAYQByAGUAIABlAGkAdABoAGUAcgAgAGQAaQByAGUAYwB0AGwAeQAgAGYAcgBvAG0AIABNAG8AbgBvAHQAeQBwAGUAIABvAHIAIAB0AG8AZwBlAHQAaABlAHIAIAB3AGkAdABoACAAcwBvAGYAdAB3AGEAcgBlACAAZABpAHMAdAByAGkAYgB1AHQAZQBkACAAYgB5ACAAbwBuAGUAIABvAGYAIABNAG8AbgBvAHQAeQBwAGUAJwBzACAAbABpAGMAZQBuAHMAZQBlAHMALgANAAoADQAKAFQAaABpAHMAIABzAG8AZgB0AHcAYQByAGUAIABpAHMAIABhACAAdgBhAGwAdQBhAGIAbABlACAAYQBzAHMAZQB0ACAAbwBmACAATQBvAG4AbwB0AHkAcABlAC4AIABVAG4AbABlAHMAcwAgAHkAbwB1ACAAaABhAHYAZQAgAGUAbgB0AGUAcgBlAGQAIABpAG4AdABvACAAYQAgAHMAcABlAGMAaQBmAGkAYwAgAGwAaQBjAGUAbgBzAGUAIABhAGcAcgBlAGUAbQBlAG4AdAAgAGcAcgBhAG4AdABpAG4AZwAgAHkAbwB1ACAAYQBkAGQAaQB0AGkAbwBuAGEAbAAgAHIAaQBnAGgAdABzACwAIAB5AG8AdQByACAAdQBzAGUAIABvAGYAIAB0AGgAaQBzACAAcwBvAGYAdAB3AGEAcgBlACAAaQBzACAAbABpAG0AaQB0AGUAZAAgAHQAbwAgAHkAbwB1AHIAIAB3AG8AcgBrAHMAdABhAHQAaQBvAG4AIABmAG8AcgAgAHkAbwB1AHIAIABvAHcAbgAgAHAAdQBiAGwAaQBzAGgAaQBuAGcAIAB1AHMAZQAuACAAWQBvAHUAIABtAGEAeQAgAG4AbwB0ACAAYwBvAHAAeQAgAG8AcgAgAGQAaQBzAHQAcgBpAGIAdQB0AGUAIAB0AGgAaQBzACAAcwBvAGYAdAB3AGEAcgBlAC4ADQAKAA0ACgBJAGYAIAB5AG8AdQAgAGgAYQB2AGUAIABhAG4AeQAgAHEAdQBlAHMAdABpAG8AbgAgAGMAbwBuAGMAZQByAG4AaQBuAGcAIAB5AG8AdQByACAAcgBpAGcAaAB0AHMAIAB5AG8AdQAgAHMAaABvAHUAbABkACAAcgBlAHYAaQBlAHcAIAB0AGgAZQAgAGwAaQBjAGUAbgBzAGUAIABhAGcAcgBlAGUAbQBlAG4AdAAgAHkAbwB1ACAAcgBlAGMAZQBpAHYAZQBkACAAdwBpAHQAaAAgAHQAaABlACAAcwBvAGYAdAB3AGEAcgBlACAAbwByACAAYwBvAG4AdABhAGMAdAAgAE0AbwBuAG8AdAB5AHAAZQAgAGYAbwByACAAYQAgAGMAbwBwAHkAIABvAGYAIAB0AGgAZQAgAGwAaQBjAGUAbgBzAGUAIABhAGcAcgBlAGUAbQBlAG4AdAAuAA0ACgANAAoATQBvAG4AbwB0AHkAcABlACAAYwBhAG4AIABiAGUAIABjAG8AbgB0AGEAYwB0AGUAZAAgAGEAdAA6AA0ACgANAAoAVQBTAEEAIAAtACAAKAA4ADQANwApACAANwAxADgALQAwADQAMAAwAAkACQBVAEsAIAAtACAAMAAxADEANAA0ACAAMAAxADcAMwA3ACAANwA2ADUAOQA1ADkADQAKAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBtAG8AbgBvAHQAeQBwAGUALgBjAG8AbQBNAG8AbgBvAHQAeQBwAGUAIABUAHkAcABlACAARAByAGEAdwBpAG4AZwAgAE8AZgBmAGkAYwBlACAALQAgAFIAbwBiAGkAbgAgAE4AaQBjAGgAbwBsAGEAcwAsACAAUABhAHQAcgBpAGMAaQBhACAAUwBhAHUAbgBkAGUAcgBzACAAMQA5ADgAMgBoAHQAdABwADoALwAvAHcAdwB3AC4AbQBvAG4AbwB0AHkAcABlAC4AYwBvAG0ALwBoAHQAbQBsAC8AbQB0AG4AYQBtAGUALwBtAHMAXwBhAHIAaQBhAGwALgBoAHQAbQBsAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBtAG8AbgBvAHQAeQBwAGUALgBjAG8AbQAvAGgAdABtAGwALwBtAHQAbgBhAG0AZQAvAG0AcwBfAHcAZQBsAGMAbwBtAGUALgBoAHQAbQBsAGgAdAB0AHAAOgAvAC8AdwB3AHcALgBtAG8AbgBvAHQAeQBwAGUALgBjAG8AbQAvAGgAdABtAGwALwB0AHkAcABlAC8AbABpAGMAZQBuAHMAZQAuAGgAdABtAGxUeXBlZmFjZSCpIFRoZSBNb25vdHlwZSBDb3Jwb3JhdGlvbiBwbGMuIERhdGEgqSBUaGUgTW9ub3R5cGUgQ29ycG9yYXRpb24gcGxjL1R5cGUgU29sdXRpb25zIEluYy4gMTk5MC0xOTkyLiBBbGwgUmlnaHRzIFJlc2VydmVkQ29udGVtcG9yYXJ5IHNhbnMgc2VyaWYgZGVzaWduLCBBcmlhbCBjb250YWlucyBtb3JlIGh1bWFuaXN0IGNoYXJhY3RlcmlzdGljcyB0aGFuIG1hbnkgb2YgaXRzIHByZWRlY2Vzc29ycyBhbmQgYXMgc3VjaCBpcyBtb3JlIGluIHR1bmUgd2l0aCB0aGUgbW9vZCBvZiB0aGUgbGFzdCBkZWNhZGVzIG9mIHRoZSB0d2VudGlldGggY2VudHVyeS4gIFRoZSBvdmVyYWxsIHRyZWF0bWVudCBvZiBjdXJ2ZXMgaXMgc29mdGVyIGFuZCBmdWxsZXIgdGhhbiBpbiBtb3N0IGluZHVzdHJpYWwgc3R5bGUgc2FucyBzZXJpZiBmYWNlcy4gIFRlcm1pbmFsIHN0cm9rZXMgYXJlIGN1dCBvbiB0aGUgZGlhZ29uYWwgd2hpY2ggaGVscHMgdG8gZ2l2ZSB0aGUgZmFjZSBhIGxlc3MgbWVjaGFuaWNhbCBhcHBlYXJhbmNlLiAgQXJpYWwgaXMgYW4gZXh0cmVtZWx5IHZlcnNhdGlsZSBmYW1pbHkgb2YgdHlwZWZhY2VzIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggZXF1YWwgc3VjY2VzcyBmb3IgdGV4dCBzZXR0aW5nIGluIHJlcG9ydHMsIHByZXNlbnRhdGlvbnMsIG1hZ2F6aW5lcyBldGMsIGFuZCBmb3IgZGlzcGxheSB1c2UgaW4gbmV3c3BhcGVycywgYWR2ZXJ0aXNpbmcgYW5kIHByb21vdGlvbnMuTW9ub3R5cGU6QXJpYWwgUmVndWxhcjpWZXJzaW9uIDMuMDAgKE1pY3Jvc29mdClBcmlhbE1UQXJpYWyoIFRyYWRlbWFyayBvZiBUaGUgTW9ub3R5cGUgQ29ycG9yYXRpb24gcGxjIHJlZ2lzdGVyZWQgaW4gdGhlIFVTIFBhdCAmIFRNIE9mZi4gYW5kIGVsc2V3aGVyZS5OT1RJRklDQVRJT04gT0YgTElDRU5TRSBBR1JFRU1FTlQNCg0KVGhpcyB0eXBlZmFjZSBpcyB0aGUgcHJvcGVydHkgb2YgTW9ub3R5cGUgVHlwb2dyYXBoeSBhbmQgaXRzIHVzZSBieSB5b3UgaXMgY292ZXJlZCB1bmRlciB0aGUgdGVybXMgb2YgYSBsaWNlbnNlIGFncmVlbWVudC4gWW91IGhhdmUgb2J0YWluZWQgdGhpcyB0eXBlZmFjZSBzb2Z0d2FyZSBlaXRoZXIgZGlyZWN0bHkgZnJvbSBNb25vdHlwZSBvciB0b2dldGhlciB3aXRoIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIGJ5IG9uZSBvZiBNb25vdHlwZSdzIGxpY2Vuc2Vlcy4NCg0KVGhpcyBzb2Z0d2FyZSBpcyBhIHZhbHVhYmxlIGFzc2V0IG9mIE1vbm90eXBlLiBVbmxlc3MgeW91IGhhdmUgZW50ZXJlZCBpbnRvIGEgc3BlY2lmaWMgbGljZW5zZSBhZ3JlZW1lbnQgZ3JhbnRpbmcgeW91IGFkZGl0aW9uYWwgcmlnaHRzLCB5b3VyIHVzZSBvZiB0aGlzIHNvZnR3YXJlIGlzIGxpbWl0ZWQgdG8geW91ciB3b3Jrc3RhdGlvbiBmb3IgeW91ciBvd24gcHVibGlzaGluZyB1c2UuIFlvdSBtYXkgbm90IGNvcHkgb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlLg0KDQpJZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb24gY29uY2VybmluZyB5b3VyIHJpZ2h0cyB5b3Ugc2hvdWxkIHJldmlldyB0aGUgbGljZW5zZSBhZ3JlZW1lbnQgeW91IHJlY2VpdmVkIHdpdGggdGhlIHNvZnR3YXJlIG9yIGNvbnRhY3QgTW9ub3R5cGUgZm9yIGEgY29weSBvZiB0aGUgbGljZW5zZSBhZ3JlZW1lbnQuDQoNCk1vbm90eXBlIGNhbiBiZSBjb250YWN0ZWQgYXQ6DQoNClVTQSAtICg4NDcpIDcxOC0wNDAwCQlVSyAtIDAxMTQ0IDAxNzM3IDc2NTk1OQ0KaHR0cDovL3d3dy5tb25vdHlwZS5jb21Nb25vdHlwZSBUeXBlIERyYXdpbmcgT2ZmaWNlIC0gUm9iaW4gTmljaG9sYXMsIFBhdHJpY2lhIFNhdW5kZXJzIDE5ODJodHRwOi8vd3d3Lm1vbm90eXBlLmNvbS9odG1sL210bmFtZS9tc19hcmlhbC5odG1saHR0cDovL3d3dy5tb25vdHlwZS5jb20vaHRtbC9tdG5hbWUvbXNfd2VsY29tZS5odG1saHR0cDovL3d3dy5tb25vdHlwZS5jb20vaHRtbC90eXBlL2xpY2Vuc2UuaHRtbABOAG8AcgBtAGEAbABuAHkAbwBiAHkBDQBlAGoAbgDpAG4AbwByAG0AYQBsAFMAdABhAG4AZABhAHIAZAOaA7EDvQO/A70DuQO6A6wATgBvAHIAbQBhAGEAbABpAE4AbwByAG0A4QBsAG4AZQBOAG8AcgBtAGEAbABlAFMAdABhAG4AZABhAGEAcgBkBB4EMQRLBEcEPQRLBDkATgBhAHYAYQBkAG4AbwB0AGgBsAGhAwAAbgBnAEEAcgByAHUAbgB0AGEAAAAAAgAAAAAAAP8nAJYAAAAAAAAAAAAAAAAAAAAAAAAAAAaKAAABAgEDAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAQwBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQBiAGMAZABlAGYAZwBoAGkAagBrAGwAbQBuAG8AcABxAHIAcwB0AHUAdgB3AHgAeQB6AHsAfAB9AH4AfwCAAIEAggCDAIQAhQCGAIcAiACJAIoAiwCMAI0AjgCPAJAAkQCSAJMAlACVAJYBBACYAJkAmgEFAJwAnQCeAQYAoAChAKIAowCkAKUApgCnAKgAqQCqAKsArQCuAK8AsACxALIAswC0ALUAtgC3ALgAuQC6ALsAvAEHAL4AvwDAAMEAwgDDAMQAxQDGAMcAyADJAMoAywDMAM0AzgDPANAA0QDTANQA1QDWANcA2ADZANoA2wDcAN0A3gDfAOAA4QDiAOMA5ADlAOYA5wDoAOkA6gDrAOwA7QDuAO8A8ADxAPIA8wD0APUA9gD3APgA+QD6APsA/AD9AP4A/wEAAQgBCQEKAQsBDAENAQ4BDwEQAREBEgETARQBFQEWARcBGAEZARoBGwEcAR0BHgEfASABIQEiASMBJAElASYBJwEoASkBKgErASwBLQEuAS8BMAExATIBMwE0ATUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEBQgFDAUQBRQFGAUcBSAFJAUoBSwFMAU0BTgFPAVABUQFSAVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgQGCAYMBhAGFAYYBhwGIAYkBigGLAYwBjQGOAY8BkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsB/AH9Af4B/wIAAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAJ8CFgIXAhgCGQIaAhsCHAIdAh4CHwIgAiECIgIjAiQAlwIlAiYCJwIoAikCKgIrAiwCLQIuAi8CMAIxAjICMwI0AjUCNgI3AjgCOQI6AjsCPAI9Aj4CPwJAAkECQgJDAkQCRQJGAkcCSAJJAkoCSwJMAk0CTgJPAlACUQJSAlMCVAJVAlYCVwJYAlkCWgJbAlwCXQJeAl8CYAJhAmICYwJkAmUCZgJnAmgCaQJqAmsCbAJtAm4CbwJwAnECcgJzAnQCdQJ2AncCeAJ5AnoCewJ8An0CfgJ/AoACgQKCAoMChAKFAoYChwKIAokCigKLAowCjQKOAo8CkAKRApIAmwKTApQClQKWApcCmAKZApoCmwKcAp0CngKfAqACoQKiAqMCpAKlAqYCpwKoAqkCqgKrAqwCrQKuAq8CsAKxArICswK0ArUCtgK3ArgCuQK6ArsCvAK9Ar4CvwLAAsECwgLDAsQCxQLGAscCyALJAsoCywLMAs0CzgLPAtAC0QLSAtMC1ALVAtYC1wLYAtkC2gLbAtwC3QLeAt8C4ALhAuIC4wLkAuUC5gLnAugC6QLqAusC7ALtAu4C7wLwAvEC8gLzAvQC9QL2AvcC+AL5AvoC+wL8Av0C/gL/AwADAQMCAwMDBAMFAwYDBwMIAwkDCgMLAwwDDQMOAw8DEAMRAxIDEwMUAxUDFgMXAxgDGQMaAxsDHAMdAx4DHwMgAyEDIgMjAyQDJQMmAycDKAMpAyoDKwMsAy0DLgMvAzADMQMyAzMDNAM1AzYDNwM4AzkDOgM7AzwDPQM+Az8DQANBA0IDQwNEA0UDRgNHA0gDSQNKA0sDTANNA04DTwNQA1EDUgNTA1QDVQNWA1cDWANZA1oDWwNcA10DXgNfA2ADYQNiA2MAvQNkA2UDZgNnA2gDaQNqA2sDbANtA24DbwNwA3EDcgNzA3QDdQN2A3cDeAN5A3oDewN8A30DfgN/A4ADgQOCA4MDhAOFA4YDhwOIA4kDigOLA4wDjQOOA48DkAORA5IDkwOUA5UDlgOXA5gDmQOaA5sDnAOdA54DnwOgA6EDogOjA6QDpQOmA6cDqAOpA6oDqwOsA60DrgOvA7ADsQOyA7MDtAO1A7YDtwO4A7kDugO7A7wDvQO+A78DwAPBA8IDwwPEA8UDxgPHA8gDyQPKA8sDzAPNA84DzwPQA9ED0gPTA9QD1QPWA9cD2APZA9oD2wPcA90D3gPfA+AD4QPiA+MD5APlA+YD5wPoA+kD6gPrA+wD7QPuA+8D8APxA/ID8wP0A/UD9gP3A/gD+QP6A/sD/AP9A/4D/wQABAEEAgQDBAQEBQQGBAcECAQJBAoECwQMBA0EDgQPBBAEEQQSBBMEFAQVBBYEFwQYBBkEGgQbBBwEHQQeBB8EIAQhBCIEIwQkBCUEJgQnBCgEKQQqBCsELAQtBC4ELwQwBDEEMgQzBDQENQQ2BDcEOAQ5BDoEOwQ8BD0EPgQ/BEAEQQRCBEMERARFBEYERwRIBEkESgRLBEwETQROBE8EUARRBFIEUwRUBFUEVgRXBFgEWQRaBFsEXARdBF4EXwRgBGEEYgRjBGQEZQRmBGcEaARpBGoEawRsBG0EbgRvBHAEcQRyBHMEdAR1BHYEdwR4BHkEegR7BHwEfQR+BH8EgASBBIIEgwSEBIUEhgSHBIgEiQSKBIsEjASNBI4EjwSQBJEEkgSTBJQElQSWBJcEmASZBJoEmwScBJ0EngSfBKAEoQSiBKMEpASlBKYEpwSoBKkEqgSrBKwErQSuBK8EsASxBLIEswS0BLUEtgS3BLgEuQS6BLsEvAS9BL4EvwTABMEEwgTDBMQExQTGBMcEyATJBMoEywTMBM0EzgTPBNAE0QTSBNME1ATVBNYE1wTYBNkE2gTbBNwE3QTeBN8E4AThBOIE4wTkBOUE5gTnBOgE6QTqBOsE7ATtBO4E7wTwBPEE8gTzBPQE9QT2BPcE+AT5BPoE+wT8BP0E/gT/BQAFAQUCBQMFBAUFBQYFBwUIBQkFCgULBQwFDQUOBQ8FEAURBRIFEwUUBRUFFgUXBRgFGQUaBRsFHAUdBR4FHwUgBSEFIgUjBSQFJQUmBScFKAUpBSoFKwUsBS0FLgUvBTAFMQUyBTMFNAU1BTYFNwU4BTkFOgU7BTwFPQU+BT8FQAVBBUIFQwVEBUUFRgVHBUgFSQVKBUsFTAVNBU4FTwVQBVEFUgVTBVQFVQVWBVcFWAVZBVoFWwVcBV0FXgVfBWAFYQViBWMFZAVlBWYFZwVoBWkFagVrBWwFbQVuBW8FcAVxBXIFcwV0BXUFdgV3BXgFeQV6BXsFfAV9BX4FfwWABYEFggWDBYQFhQWGBYcFiAWJBYoFiwWMBY0FjgWPBZAFkQWSBZMFlAWVBZYFlwWYBZkFmgWbBZwFnQWeBZ8FoAWhBaIFowWkBaUFpgWnBagFqQWqBasFrAWtBa4FrwWwBbEFsgWzBbQFtQW2BbcFuAW5BboFuwW8Bb0FvgW/BcAFwQXCBcMFxAXFBcYFxwXIBckFygXLBcwFzQXOBc8F0AXRBdIF0wXUBdUF1gXXBdgF2QXaBdsF3AXdBd4F3wXgBeEF4gXjBeQF5QXmBecF6AXpBeoF6wXsBe0F7gXvBfAF8QXyBfMF9AX1BfYF9wX4BfkF+gX7BfwF/QX+Bf8GAAYBBgIGAwYEBgUGBgYHBggGCQYKBgsGDAYNBg4GDwYQBhEGEgYTBhQGFQYWBhcGGAYZBhoGGwYcBh0GHgYfBiAGIQYiBiMGJAYlBiYGJwYoBikGKgYrBiwGLQYuBi8GMAYxBjIGMwY0BjUGNgY3BjgGOQY6BjsGPAY9Bj4GPwZABkEGQgZDBkQGRQZGBkcGSAZJBkoGSwZMBk0GTgZPBlAGUQZSBlMGVAZVBlYGVwZYBlkGWgZbBlwGXQZeBl8GYAZhBmIGYwZkBmUGZgZnBmgGaQZqBmsGbAZtBm4GbwZwBnEGcgZzBnQGdQZ2BncGeAZ5BnoGewZ8Bn0GfgZ/BoAGgQaCBoMGhAaFBoYGhwaIBokGigaLBowGjQaOBS5udWxsEG5vbm1hcmtpbmdyZXR1cm4DbXUxA3BpMQNPaG0ERXVybwdkbWFjcm9uCW92ZXJzY29yZQZtaWRkb3QGQWJyZXZlBmFicmV2ZQdBb2dvbmVrB2FvZ29uZWsGRGNhcm9uBmRjYXJvbgZEc2xhc2gHRW9nb25lawdlb2dvbmVrBkVjYXJvbgZlY2Fyb24GTGFjdXRlBmxhY3V0ZQZMY2Fyb24GbGNhcm9uBExkb3QEbGRvdAZOYWN1dGUGbmFjdXRlBk5jYXJvbgZuY2Fyb24JT2RibGFjdXRlCW9kYmxhY3V0ZQZSYWN1dGUGcmFjdXRlBlJjYXJvbgZyY2Fyb24GU2FjdXRlBnNhY3V0ZQhUY2VkaWxsYQh0Y2VkaWxsYQZUY2Fyb24GdGNhcm9uBVVyaW5nBXVyaW5nCVVkYmxhY3V0ZQl1ZGJsYWN1dGUGWmFjdXRlBnphY3V0ZQRaZG90BHpkb3QFR2FtbWEFVGhldGEDUGhpBWFscGhhBWRlbHRhB2Vwc2lsb24Fc2lnbWEDdGF1A3BoaQ11bmRlcnNjb3JlZGJsCWV4Y2xhbWRibAluc3VwZXJpb3IGcGVzZXRhCWFycm93bGVmdAdhcnJvd3VwCmFycm93cmlnaHQJYXJyb3dkb3duCWFycm93Ym90aAlhcnJvd3VwZG4MYXJyb3d1cGRuYnNlCm9ydGhvZ29uYWwMaW50ZXJzZWN0aW9uC2VxdWl2YWxlbmNlBWhvdXNlDXJldmxvZ2ljYWxub3QKaW50ZWdyYWx0cAppbnRlZ3JhbGJ0CFNGMTAwMDAwCFNGMTEwMDAwCFNGMDEwMDAwCFNGMDMwMDAwCFNGMDIwMDAwCFNGMDQwMDAwCFNGMDgwMDAwCFNGMDkwMDAwCFNGMDYwMDAwCFNGMDcwMDAwCFNGMDUwMDAwCFNGNDMwMDAwCFNGMjQwMDAwCFNGNTEwMDAwCFNGNTIwMDAwCFNGMzkwMDAwCFNGMjIwMDAwCFNGMjEwMDAwCFNGMjUwMDAwCFNGNTAwMDAwCFNGNDkwMDAwCFNGMzgwMDAwCFNGMjgwMDAwCFNGMjcwMDAwCFNGMjYwMDAwCFNGMzYwMDAwCFNGMzcwMDAwCFNGNDIwMDAwCFNGMTkwMDAwCFNGMjAwMDAwCFNGMjMwMDAwCFNGNDcwMDAwCFNGNDgwMDAwCFNGNDEwMDAwCFNGNDUwMDAwCFNGNDYwMDAwCFNGNDAwMDAwCFNGNTQwMDAwCFNGNTMwMDAwCFNGNDQwMDAwB3VwYmxvY2sHZG5ibG9jawVibG9jawdsZmJsb2NrB3J0YmxvY2sHbHRzaGFkZQVzaGFkZQdka3NoYWRlCWZpbGxlZGJveApmaWxsZWRyZWN0B3RyaWFndXAHdHJpYWdydAd0cmlhZ2RuB3RyaWFnbGYGY2lyY2xlCWludmJ1bGxldAlpbnZjaXJjbGUJc21pbGVmYWNlDGludnNtaWxlZmFjZQNzdW4GZmVtYWxlBG1hbGUFc3BhZGUEY2x1YgVoZWFydAdkaWFtb25kC211c2ljYWxub3RlDm11c2ljYWxub3RlZGJsAklKAmlqC25hcG9zdHJvcGhlBm1pbnV0ZQZzZWNvbmQJYWZpaTYxMjQ4CWFmaWk2MTI4OQZIMjIwNzMGSDE4NTQzBkgxODU1MQZIMTg1MzMKb3BlbmJ1bGxldAdBbWFjcm9uB2FtYWNyb24LQ2NpcmN1bWZsZXgLY2NpcmN1bWZsZXgEQ2RvdARjZG90B0VtYWNyb24HZW1hY3JvbgZFYnJldmUGZWJyZXZlBEVkb3QEZWRvdAtHY2lyY3VtZmxleAtnY2lyY3VtZmxleARHZG90BGdkb3QIR2NlZGlsbGEIZ2NlZGlsbGELSGNpcmN1bWZsZXgLaGNpcmN1bWZsZXgESGJhcgRoYmFyBkl0aWxkZQZpdGlsZGUHSW1hY3JvbgdpbWFjcm9uBklicmV2ZQZpYnJldmUHSW9nb25lawdpb2dvbmVrC0pjaXJjdW1mbGV4C2pjaXJjdW1mbGV4CEtjZWRpbGxhCGtjZWRpbGxhDGtncmVlbmxhbmRpYwhMY2VkaWxsYQhsY2VkaWxsYQhOY2VkaWxsYQhuY2VkaWxsYQNFbmcDZW5nB09tYWNyb24Hb21hY3JvbgZPYnJldmUGb2JyZXZlCFJjZWRpbGxhCHJjZWRpbGxhC1NjaXJjdW1mbGV4C3NjaXJjdW1mbGV4BFRiYXIEdGJhcgZVdGlsZGUGdXRpbGRlB1VtYWNyb24HdW1hY3JvbgZVYnJldmUGdWJyZXZlB1VvZ29uZWsHdW9nb25lawtXY2lyY3VtZmxleAt3Y2lyY3VtZmxleAtZY2lyY3VtZmxleAt5Y2lyY3VtZmxleAVsb25ncwpBcmluZ2FjdXRlCmFyaW5nYWN1dGUHQUVhY3V0ZQdhZWFjdXRlC09zbGFzaGFjdXRlC29zbGFzaGFjdXRlCWFub3RlbGVpYQZXZ3JhdmUGd2dyYXZlBldhY3V0ZQZ3YWN1dGUJV2RpZXJlc2lzCXdkaWVyZXNpcwZZZ3JhdmUGeWdyYXZlDXF1b3RlcmV2ZXJzZWQJcmFkaWNhbGV4CWFmaWkwODk0MQllc3RpbWF0ZWQJb25lZWlnaHRoDHRocmVlZWlnaHRocwtmaXZlZWlnaHRocwxzZXZlbmVpZ2h0aHMLY29tbWFhY2NlbnQQdW5kZXJjb21tYWFjY2VudAV0b25vcw1kaWVyZXNpc3Rvbm9zCkFscGhhdG9ub3MMRXBzaWxvbnRvbm9zCEV0YXRvbm9zCUlvdGF0b25vcwxPbWljcm9udG9ub3MMVXBzaWxvbnRvbm9zCk9tZWdhdG9ub3MRaW90YWRpZXJlc2lzdG9ub3MFQWxwaGEEQmV0YQVEZWx0YQdFcHNpbG9uBFpldGEDRXRhBElvdGEFS2FwcGEGTGFtYmRhAk11Ak51AlhpB09taWNyb24CUGkDUmhvBVNpZ21hA1RhdQdVcHNpbG9uA0NoaQNQc2kMSW90YWRpZXJlc2lzD1Vwc2lsb25kaWVyZXNpcwphbHBoYXRvbm9zDGVwc2lsb250b25vcwhldGF0b25vcwlpb3RhdG9ub3MUdXBzaWxvbmRpZXJlc2lzdG9ub3MEYmV0YQVnYW1tYQR6ZXRhA2V0YQV0aGV0YQRpb3RhBWthcHBhBmxhbWJkYQJudQJ4aQdvbWljcm9uA3JobwZzaWdtYTEHdXBzaWxvbgNjaGkDcHNpBW9tZWdhDGlvdGFkaWVyZXNpcw91cHNpbG9uZGllcmVzaXMMb21pY3JvbnRvbm9zDHVwc2lsb250b25vcwpvbWVnYXRvbm9zCWFmaWkxMDAyMwlhZmlpMTAwNTEJYWZpaTEwMDUyCWFmaWkxMDA1MwlhZmlpMTAwNTQJYWZpaTEwMDU1CWFmaWkxMDA1NglhZmlpMTAwNTcJYWZpaTEwMDU4CWFmaWkxMDA1OQlhZmlpMTAwNjAJYWZpaTEwMDYxCWFmaWkxMDA2MglhZmlpMTAxNDUJYWZpaTEwMDE3CWFmaWkxMDAxOAlhZmlpMTAwMTkJYWZpaTEwMDIwCWFmaWkxMDAyMQlhZmlpMTAwMjIJYWZpaTEwMDI0CWFmaWkxMDAyNQlhZmlpMTAwMjYJYWZpaTEwMDI3CWFmaWkxMDAyOAlhZmlpMTAwMjkJYWZpaTEwMDMwCWFmaWkxMDAzMQlhZmlpMTAwMzIJYWZpaTEwMDMzCWFmaWkxMDAzNAlhZmlpMTAwMzUJYWZpaTEwMDM2CWFmaWkxMDAzNwlhZmlpMTAwMzgJYWZpaTEwMDM5CWFmaWkxMDA0MAlhZmlpMTAwNDEJYWZpaTEwMDQyCWFmaWkxMDA0MwlhZmlpMTAwNDQJYWZpaTEwMDQ1CWFmaWkxMDA0NglhZmlpMTAwNDcJYWZpaTEwMDQ4CWFmaWkxMDA0OQlhZmlpMTAwNjUJYWZpaTEwMDY2CWFmaWkxMDA2NwlhZmlpMTAwNjgJYWZpaTEwMDY5CWFmaWkxMDA3MAlhZmlpMTAwNzIJYWZpaTEwMDczCWFmaWkxMDA3NAlhZmlpMTAwNzUJYWZpaTEwMDc2CWFmaWkxMDA3NwlhZmlpMTAwNzgJYWZpaTEwMDc5CWFmaWkxMDA4MAlhZmlpMTAwODEJYWZpaTEwMDgyCWFmaWkxMDA4MwlhZmlpMTAwODQJYWZpaTEwMDg1CWFmaWkxMDA4NglhZmlpMTAwODcJYWZpaTEwMDg4CWFmaWkxMDA4OQlhZmlpMTAwOTAJYWZpaTEwMDkxCWFmaWkxMDA5MglhZmlpMTAwOTMJYWZpaTEwMDk0CWFmaWkxMDA5NQlhZmlpMTAwOTYJYWZpaTEwMDk3CWFmaWkxMDA3MQlhZmlpMTAwOTkJYWZpaTEwMTAwCWFmaWkxMDEwMQlhZmlpMTAxMDIJYWZpaTEwMTAzCWFmaWkxMDEwNAlhZmlpMTAxMDUJYWZpaTEwMTA2CWFmaWkxMDEwNwlhZmlpMTAxMDgJYWZpaTEwMTA5CWFmaWkxMDExMAlhZmlpMTAxOTMJYWZpaTEwMDUwCWFmaWkxMDA5OAlhZmlpMDAyMDgJYWZpaTYxMzUyBXNoZXZhCmhhdGFmc2Vnb2wKaGF0YWZwYXRhaAtoYXRhZnFhbWF0cwVoaXJpcQV0c2VyZQVzZWdvbAVwYXRhaAZxYW1hdHMFaG9sYW0GcXVidXRzBmRhZ2VzaAVtZXRlZwVtYXFhZgRyYWZlBXBhc2VxB3NoaW5kb3QGc2luZG90CHNvZnBhc3VxBGFsZWYDYmV0BWdpbWVsBWRhbGV0AmhlA3ZhdgV6YXlpbgNoZXQDdGV0A3lvZAhmaW5hbGthZgNrYWYFbGFtZWQIZmluYWxtZW0DbWVtCGZpbmFsbnVuA251bgZzYW1la2gEYXlpbgdmaW5hbHBlAnBlCmZpbmFsdHNhZGkFdHNhZGkDcW9mBHJlc2gEc2hpbgN0YXYJZG91YmxldmF2BnZhdnlvZAlkb3VibGV5b2QGZ2VyZXNoCWdlcnNoYXlpbQ1uZXdzaGVxZWxzaWduCnZhdnNoaW5kb3QNZmluYWxrYWZzaGV2YQ5maW5hbGthZnFhbWF0cwpsYW1lZGhvbGFtEGxhbWVkaG9sYW1kYWdlc2gHYWx0YXlpbgtzaGluc2hpbmRvdApzaGluc2luZG90EXNoaW5kYWdlc2hzaGluZG90EHNoaW5kYWdlc2hzaW5kb3QJYWxlZnBhdGFoCmFsZWZxYW1hdHMJYWxlZm1hcGlxCWJldGRhZ2VzaAtnaW1lbGRhZ2VzaAtkYWxldGRhZ2VzaAhoZWRhZ2VzaAl2YXZkYWdlc2gLemF5aW5kYWdlc2gJdGV0ZGFnZXNoCXlvZGRhZ2VzaA5maW5hbGthZmRhZ2VzaAlrYWZkYWdlc2gLbGFtZWRkYWdlc2gJbWVtZGFnZXNoCW51bmRhZ2VzaAxzYW1la2hkYWdlc2gNZmluYWxwZWRhZ2VzaAhwZWRhZ2VzaAt0c2FkaWRhZ2VzaAlxb2ZkYWdlc2gKcmVzaGRhZ2VzaApzaGluZGFnZXNoCHRhdmRhZ2VzCHZhdmhvbGFtB2JldHJhZmUHa2FmcmFmZQZwZXJhZmUJYWxlZmxhbWVkEnplcm93aWR0aG5vbmpvaW5lcg96ZXJvd2lkdGhqb2luZXIPbGVmdHRvcmlnaHRtYXJrD3JpZ2h0dG9sZWZ0bWFyawlhZmlpNTczODgJYWZpaTU3NDAzCWFmaWk1NzQwNwlhZmlpNTc0MDkJYWZpaTU3NDQwCWFmaWk1NzQ1MQlhZmlpNTc0NTIJYWZpaTU3NDUzCWFmaWk1NzQ1NAlhZmlpNTc0NTUJYWZpaTU3NDU2CWFmaWk1NzQ1NwlhZmlpNTc0NTgJYWZpaTU3MzkyCWFmaWk1NzM5MwlhZmlpNTczOTQJYWZpaTU3Mzk1CWFmaWk1NzM5NglhZmlpNTczOTcJYWZpaTU3Mzk4CWFmaWk1NzM5OQlhZmlpNTc0MDAJYWZpaTU3NDAxCWFmaWk1NzM4MQlhZmlpNTc0NjEJYWZpaTYzMTY3CWFmaWk1NzQ1OQlhZmlpNTc1NDMJYWZpaTU3NTM0CWFmaWk1NzQ5NAlhZmlpNjI4NDMJYWZpaTYyODQ0CWFmaWk2Mjg0NQlhZmlpNjQyNDAJYWZpaTY0MjQxCWFmaWk2Mzk1NAlhZmlpNTczODIJYWZpaTY0MjQyCWFmaWk2Mjg4MQlhZmlpNTc1MDQJYWZpaTU3MzY5CWFmaWk1NzM3MAlhZmlpNTczNzEJYWZpaTU3MzcyCWFmaWk1NzM3MwlhZmlpNTczNzQJYWZpaTU3Mzc1CWFmaWk1NzM5MQlhZmlpNTc0NzEJYWZpaTU3NDYwCWFmaWk1MjI1OAlhZmlpNTc1MDYJYWZpaTYyOTU4CWFmaWk2Mjk1NglhZmlpNTI5NTcJYWZpaTU3NTA1CWFmaWk2Mjg4OQlhZmlpNjI4ODcJYWZpaTYyODg4CWFmaWk1NzUwNwlhZmlpNjI5NjEJYWZpaTYyOTU5CWFmaWk2Mjk2MAlhZmlpNTc1MDgJYWZpaTYyOTYyCWFmaWk1NzU2NwlhZmlpNjI5NjQJYWZpaTUyMzA1CWFmaWk1MjMwNglhZmlpNTc1MDkJYWZpaTYyOTY3CWFmaWk2Mjk2NQlhZmlpNjI5NjYJYWZpaTU3NTU1CWFmaWk1MjM2NAlhZmlpNjM3NTMJYWZpaTYzNzU0CWFmaWk2Mzc1OQlhZmlpNjM3NjMJYWZpaTYzNzk1CWFmaWk2Mjg5MQlhZmlpNjM4MDgJYWZpaTYyOTM4CWFmaWk2MzgxMAlhZmlpNjI5NDIJYWZpaTYyOTQ3CWFmaWk2MzgxMwlhZmlpNjM4MjMJYWZpaTYzODI0CWFmaWk2MzgzMwlhZmlpNjM4NDQJYWZpaTYyODgyCWFmaWk2Mjg4MwlhZmlpNjI4ODQJYWZpaTYyODg1CWFmaWk2Mjg4NglhZmlpNjM4NDYJYWZpaTYzODQ5B3VuaTIwMkEHdW5pMjAyQgd1bmkyMDJEB3VuaTIwMkUHdW5pMjAyQwd1bmkyMDZFCHVuaTIwNkY7B3VuaTIwNkEHdW5pMjA2Qgh1bmkyMDZDOwd1bmkyMDZEB3VuaUYwMEEHdW5pRjAwQgd1bmlGMDBDB3VuaUYwMEQHdW5pRjAwRQd1bmlGRkZDCWFmaWk2MzkwNAlhZmlpNjM5MDUJYWZpaTYzOTA2CWFmaWk2MzkwOAlhZmlpNjM5MTAJYWZpaTYzOTEyCWFmaWk2MjkyNwlhZmlpNjM5NDEJYWZpaTYyOTM5CWFmaWk2Mzk0MwlhZmlpNjI5NDMJYWZpaTYyOTQ2CWFmaWk2Mzk0NglhZmlpNjI5NTEJYWZpaTYzOTQ4CWFmaWk2Mjk1MwlhZmlpNjM5NTAJYWZpaTYzOTUxCWFmaWk2Mzk1MglhZmlpNjM5NTMJYWZpaTYzOTU2CWFmaWk2Mzk1OAlhZmlpNjM5NTkJYWZpaTYzOTYwCWFmaWk2Mzk2MQlhZmlpNjQwNDYJYWZpaTY0MDU4CWFmaWk2NDA1OQlhZmlpNjQwNjAJYWZpaTY0MDYxCWFmaWk2Mjk0NQlhZmlpNjQxODQJYWZpaTUyMzk5CWFmaWk1MjQwMAlhZmlpNjI3NTMJYWZpaTU3NDExCWFmaWk2Mjc1NAlhZmlpNTc0MTIJYWZpaTYyNzU1CWFmaWk1NzQxMwlhZmlpNjI3NTYJYWZpaTU3NDE0CWFmaWk2Mjc1OQlhZmlpNjI3NTcJYWZpaTYyNzU4CWFmaWk1NzQxNQlhZmlpNjI3NjAJYWZpaTU3NDE2CWFmaWk2Mjc2MwlhZmlpNjI3NjEJYWZpaTYyNzYyCWFmaWk1NzQxNwlhZmlpNjI3NjQJYWZpaTU3NDE4CWFmaWk2Mjc2NwlhZmlpNjI3NjUJYWZpaTYyNzY2CWFmaWk1NzQxOQlhZmlpNjI3NzAJYWZpaTYyNzY4CWFmaWk2Mjc2OQlhZmlpNTc0MjAJYWZpaTYyNzczCWFmaWk2Mjc3MQlhZmlpNjI3NzIJYWZpaTU3NDIxCWFmaWk2Mjc3NglhZmlpNjI3NzQJYWZpaTYyNzc1CWFmaWk1NzQyMglhZmlpNjI3NzkJYWZpaTYyNzc3CWFmaWk2Mjc3OAlhZmlpNTc0MjMJYWZpaTYyNzgwCWFmaWk1NzQyNAlhZmlpNjI3ODEJYWZpaTU3NDI1CWFmaWk2Mjc4MglhZmlpNTc0MjYJYWZpaTYyNzgzCWFmaWk1NzQyNwlhZmlpNjI3ODYJYWZpaTYyNzg0CWFmaWk2Mjc4NQlhZmlpNTc0MjgJYWZpaTYyNzg5CWFmaWk2Mjc4NwlhZmlpNjI3ODgJYWZpaTU3NDI5CWFmaWk2Mjc5MglhZmlpNjI3OTAJYWZpaTYyNzkxCWFmaWk1NzQzMAlhZmlpNjI3OTUJYWZpaTYyNzkzCWFmaWk2Mjc5NAlhZmlpNTc0MzEJYWZpaTYyNzk4CWFmaWk2Mjc5NglhZmlpNjI3OTcJYWZpaTU3NDMyCWFmaWk2MjgwMQlhZmlpNjI3OTkJYWZpaTYyODAwCWFmaWk1NzQzMwlhZmlpNjI4MDQJYWZpaTYyODAyCWFmaWk2MjgwMwlhZmlpNTc0MzQJYWZpaTYyODA3CWFmaWk2MjgwNQlhZmlpNjI4MDYJYWZpaTU3NDQxCWFmaWk2MjgxMAlhZmlpNjI4MDgJYWZpaTYyODA5CWFmaWk1NzQ0MglhZmlpNjI4MTMJYWZpaTYyODExCWFmaWk2MjgxMglhZmlpNTc0NDMJYWZpaTYyODE2CWFmaWk1NzQxMAlhZmlpNjI4MTUJYWZpaTU3NDQ0CWFmaWk2MjgxOQlhZmlpNjI4MTcJYWZpaTYyODE4CWFmaWk1NzQ0NQlhZmlpNjI4MjIJYWZpaTYyODIwCWFmaWk2MjgyMQlhZmlpNTc0NDYJYWZpaTYyODI1CWFmaWk2MjgyMwlhZmlpNjI4MjQJYWZpaTU3NDQ3CWFmaWk2MjgyOAlhZmlpNTc0NzAJYWZpaTYyODI3CWFmaWk1NzQ0OAlhZmlpNjI4MjkJYWZpaTU3NDQ5CWFmaWk2MjgzMAlhZmlpNTc0NTAJYWZpaTYyODMzCWFmaWk2MjgzMQlhZmlpNjI4MzIJYWZpaTYyODM0CWFmaWk2MjgzNQlhZmlpNjI4MzYJYWZpaTYyODM3CWFmaWk2MjgzOAlhZmlpNjI4MzkJYWZpaTYyODQwCWFmaWk2Mjg0MQlnbHlwaDEwMjELYWZpaTU3NTQzLTILYWZpaTU3NDU0LTILYWZpaTU3NDUxLTIJZ2x5cGgxMDI1CWdseXBoMTAyNgthZmlpNTc0NzEtMgthZmlpNTc0NTgtMgthZmlpNTc0NTctMgthZmlpNTc0OTQtMgthZmlpNTc0NTktMgthZmlpNTc0NTUtMgthZmlpNTc0NTItMglnbHlwaDEwMzQJZ2x5cGgxMDM1CWdseXBoMTAzNgthZmlpNjI4ODQtMgthZmlpNjI4ODEtMgthZmlpNjI4ODYtMgthZmlpNjI4ODMtMgthZmlpNjI4ODUtMgthZmlpNjI4ODItMgthZmlpNTc1MDQtMgthZmlpNTc0NTYtMgthZmlpNTc0NTMtMglnbHlwaDEwNDYJZ2x5cGgxMDQ3C2FmaWk1NzU0My0zC2FmaWk1NzQ1NC0zC2FmaWk1NzQ1MS0zCWdseXBoMTA1MQlnbHlwaDEwNTILYWZpaTU3NDcxLTMLYWZpaTU3NDU4LTMLYWZpaTU3NDU3LTMLYWZpaTU3NDk0LTMLYWZpaTU3NDU5LTMLYWZpaTU3NDU1LTMLYWZpaTU3NDUyLTMJZ2x5cGgxMDYwCWdseXBoMTA2MQlnbHlwaDEwNjILYWZpaTYyODg0LTMLYWZpaTYyODgxLTMLYWZpaTYyODg2LTMLYWZpaTYyODgzLTMLYWZpaTYyODg1LTMLYWZpaTYyODgyLTMLYWZpaTU3NTA0LTMLYWZpaTU3NDU2LTMLYWZpaTU3NDUzLTMJZ2x5cGgxMDcyCWdseXBoMTA3MwthZmlpNTc1NDMtNAthZmlpNTc0NTQtNAthZmlpNTc0NTEtNAlnbHlwaDEwNzcJZ2x5cGgxMDc4C2FmaWk1NzQ3MS00C2FmaWk1NzQ1OC00C2FmaWk1NzQ1Ny00C2FmaWk1NzQ5NC00C2FmaWk1NzQ1OS00C2FmaWk1NzQ1NS00C2FmaWk1NzQ1Mi00CWdseXBoMTA4NglnbHlwaDEwODcJZ2x5cGgxMDg4C2FmaWk2Mjg4NC00C2FmaWk2Mjg4MS00C2FmaWk2Mjg4Ni00C2FmaWk2Mjg4My00C2FmaWk2Mjg4NS00C2FmaWk2Mjg4Mi00C2FmaWk1NzUwNC00C2FmaWk1NzQ1Ni00C2FmaWk1NzQ1My00CWdseXBoMTA5OAlnbHlwaDEwOTkJZ2x5cGgxMTAwCWdseXBoMTEwMQlnbHlwaDExMDIJZ2x5cGgxMTAzCWdseXBoMTEwNAlnbHlwaDExMDUJZ2x5cGgxMTA2CWdseXBoMTEwNwlnbHlwaDExMDgJZ2x5cGgxMTA5CWdseXBoMTExMAlnbHlwaDExMTEJZ2x5cGgxMTEyCWdseXBoMTExMwlnbHlwaDExMTQJZ2x5cGgxMTE1CWdseXBoMTExNglnbHlwaDExMTcJZ2x5cGgxMTE4CWdseXBoMTExOQlnbHlwaDExMjAJZ2x5cGgxMTIxCWdseXBoMTEyMglnbHlwaDExMjMJZ2x5cGgxMTI0CWdseXBoMTEyNQlnbHlwaDExMjYLYWZpaTU3NDQwLTILYWZpaTU3NDQwLTMLYWZpaTU3NDQwLTQFT2hvcm4Fb2hvcm4FVWhvcm4FdWhvcm4JZ2x5cGgxMTM0CWdseXBoMTEzNQlnbHlwaDExMzYHdW5pRjAwNgd1bmlGMDA3B3VuaUYwMDkSY29tYmluaW5naG9va2Fib3ZlB3VuaUYwMTAHdW5pRjAxMwd1bmlGMDExB3VuaUYwMUMHdW5pRjAxNRRjb21iaW5pbmd0aWxkZWFjY2VudAlnbHlwaDExNDcJZ2x5cGgxMTQ4B3VuaUYwMkMIZG9uZ3NpZ24Ib25ldGhpcmQJdHdvdGhpcmRzB3VuaUYwMDgJZ2x5cGgxMTU0CWdseXBoMTE1NQd1bmlGMDBGB3VuaUYwMTIHdW5pRjAxNAd1bmlGMDE2B3VuaUYwMTcHdW5pRjAxOAd1bmlGMDE5B3VuaUYwMUEHdW5pRjAxQgd1bmlGMDFFB3VuaUYwMUYHdW5pRjAyMAd1bmlGMDIxB3VuaUYwMjIUY29tYmluaW5nZ3JhdmVhY2NlbnQUY29tYmluaW5nYWN1dGVhY2NlbnQHdW5pRjAxRBFjb21iaW5pbmdkb3RiZWxvdwd1bmlGMDIzB3VuaUYwMjkHdW5pRjAyQQd1bmlGMDJCB3VuaUYwMjQHdW5pRjAyNQd1bmlGMDI2B3VuaUYwMjcHdW5pRjAyOAd1bmlGMDJEB3VuaUYwMkUHdW5pRjAyRgd1bmlGMDMwB3VuaUYwMzEJQWRvdGJlbG93CWFkb3RiZWxvdwpBaG9va2Fib3ZlCmFob29rYWJvdmUQQWNpcmN1bWZsZXhhY3V0ZRBhY2lyY3VtZmxleGFjdXRlEEFjaXJjdW1mbGV4Z3JhdmUQYWNpcmN1bWZsZXhncmF2ZRRBY2lyY3VtZmxleGhvb2thYm92ZRRhY2lyY3VtZmxleGhvb2thYm92ZRBBY2lyY3VtZmxleHRpbGRlEGFjaXJjdW1mbGV4dGlsZGUTQWNpcmN1bWZsZXhkb3RiZWxvdxNhY2lyY3VtZmxleGRvdGJlbG93C0FicmV2ZWFjdXRlC2FicmV2ZWFjdXRlC0FicmV2ZWdyYXZlC2FicmV2ZWdyYXZlD0FicmV2ZWhvb2thYm92ZQ9hYnJldmVob29rYWJvdmULQWJyZXZldGlsZGULYWJyZXZldGlsZGUOQWJyZXZlZG90YmVsb3cOYWJyZXZlZG90YmVsb3cJRWRvdGJlbG93CWVkb3RiZWxvdwpFaG9va2Fib3ZlCmVob29rYWJvdmUGRXRpbGRlBmV0aWxkZRBFY2lyY3VtZmxleGFjdXRlEGVjaXJjdW1mbGV4YWN1dGUQRWNpcmN1bWZsZXhncmF2ZRBlY2lyY3VtZmxleGdyYXZlFEVjaXJjdW1mbGV4aG9va2Fib3ZlFGVjaXJjdW1mbGV4aG9va2Fib3ZlEEVjaXJjdW1mbGV4dGlsZGUQZWNpcmN1bWZsZXh0aWxkZRNFY2lyY3VtZmxleGRvdGJlbG93E2VjaXJjdW1mbGV4ZG90YmVsb3cKSWhvb2thYm92ZQppaG9va2Fib3ZlCUlkb3RiZWxvdwlpZG90YmVsb3cJT2RvdGJlbG93CW9kb3RiZWxvdwpPaG9va2Fib3ZlCm9ob29rYWJvdmUQT2NpcmN1bWZsZXhhY3V0ZRBvY2lyY3VtZmxleGFjdXRlEE9jaXJjdW1mbGV4Z3JhdmUQb2NpcmN1bWZsZXhncmF2ZRRPY2lyY3VtZmxleGhvb2thYm92ZRRvY2lyY3VtZmxleGhvb2thYm92ZRBPY2lyY3VtZmxleHRpbGRlEG9jaXJjdW1mbGV4dGlsZGUTT2NpcmN1bWZsZXhkb3RiZWxvdxNvY2lyY3VtZmxleGRvdGJlbG93Ck9ob3JuYWN1dGUKb2hvcm5hY3V0ZQpPaG9ybmdyYXZlCm9ob3JuZ3JhdmUOT2hvcm5ob29rYWJvdmUOb2hvcm5ob29rYWJvdmUKT2hvcm50aWxkZQpvaG9ybnRpbGRlDU9ob3JuZG90YmVsb3cNb2hvcm5kb3RiZWxvdwlVZG90YmVsb3cJdWRvdGJlbG93ClVob29rYWJvdmUKdWhvb2thYm92ZQpVaG9ybmFjdXRlCnVob3JuYWN1dGUKVWhvcm5ncmF2ZQp1aG9ybmdyYXZlDlVob3JuaG9va2Fib3ZlDnVob3JuaG9va2Fib3ZlClVob3JudGlsZGUKdWhvcm50aWxkZQ1VaG9ybmRvdGJlbG93DXVob3JuZG90YmVsb3cJWWRvdGJlbG93CXlkb3RiZWxvdwpZaG9va2Fib3ZlCnlob29rYWJvdmUGWXRpbGRlBnl0aWxkZQd1bmkwMUNEB3VuaTAxQ0UHdW5pMDFDRgd1bmkwMUQwB3VuaTAxRDEHdW5pMDFEMgd1bmkwMUQzB3VuaTAxRDQHdW5pMDFENQd1bmkwMUQ2B3VuaTAxRDcHdW5pMDFEOAd1bmkwMUQ5B3VuaTAxREEHdW5pMDFEQgd1bmkwMURDCWdseXBoMTI5MglnbHlwaDEyOTMJZ2x5cGgxMjk0CWdseXBoMTI5NQd1bmkwNDkyB3VuaTA0OTMHdW5pMDQ5Ngd1bmkwNDk3B3VuaTA0OUEHdW5pMDQ5Qgd1bmkwNDlDB3VuaTA0OUQHdW5pMDRBMgd1bmkwNEEzB3VuaTA0QUUHdW5pMDRBRgd1bmkwNEIwB3VuaTA0QjEHdW5pMDRCMgd1bmkwNEIzB3VuaTA0QjgHdW5pMDRCOQd1bmkwNEJBB3VuaTA0QkIHdW5pMDE4Rgd1bmkwMjU5B3VuaTA0RTgHdW5pMDRFOQlnbHlwaDEzMjAJZ2x5cGgxMzIxCWdseXBoMTMyMglnbHlwaDEzMjMJZ2x5cGgxMzI0CWdseXBoMTMyNQlnbHlwaDEzMjYJZ2x5cGgxMzI3CWdseXBoMTMyOAlnbHlwaDEzMjkJZ2x5cGgxMzMwCWdseXBoMTMzMQlnbHlwaDEzMzIJZ2x5cGgxMzMzCWdseXBoMTMzNAlnbHlwaDEzMzUHdW5pMDY1Mwd1bmkwNjU0B3VuaTA2NTUHdW5pMDY3MAd1bmkwNjcxB3VuaUZCNTEHdW5pMDY3MglnbHlwaDEzNDMHdW5pMDY3MwlnbHlwaDEzNDUHdW5pMDY3NQdnbHlwaDQ3B3VuaTA2NzYJZ2x5cGgxMzQ5B3VuaTA2NzcJZ2x5cGgxMzUxB3VuaTA2NzgFZ2x5cGgHdW5pMDY3OQd1bmlGQjY3B3VuaUZCNjgHdW5pRkI2OQd1bmkwNjdBB3VuaUZCNUYHdW5pRkI2MAd1bmlGQjYxB3VuaTA2N0IHdW5pRkI1Mwd1bmlGQjU0B3VuaUZCNTUHdW5pMDY3QwlnbHlwaDEzNjcJZ2x5cGgxMzY4CWdseXBoMTM2OQd1bmkwNjdECWdseXBoMTM3MQlnbHlwaDEzNzIJZ2x5cGgxMzczB3VuaTA2N0YHdW5pRkI2Mwd1bmlGQjY0B3VuaUZCNjUHdW5pMDY4MAd1bmlGQjVCB3VuaUZCNUMHdW5pRkI1RAd1bmkwNjgxCWdseXBoMTM4MwlnbHlwaDEzODQJZ2x5cGgxMzg1B3VuaTA2ODIJZ2x5cGgxMzg3CWdseXBoMTM4OAlnbHlwaDEzODkHdW5pMDY4Mwd1bmlGQjc3B3VuaUZCNzgHdW5pRkI3OQd1bmkwNjg0B3VuaUZCNzMHdW5pRkI3NAd1bmlGQjc1B3VuaTA2ODUJZ2x5cGgxMzk5CWdseXBoMTQwMAlnbHlwaDE0MDEHdW5pMDY4Nwd1bmlGQjdmB3VuaUZCODAHdW5pRkI4MQd1bmkwNjg4B3VuaUZCODkHdW5pMDY4OQlnbHlwaDE0MDkHdW5pMDY4QQlnbHlwaDE0MTEHdW5pMDY4QglnbHlwaDE0MTMHdW5pMDY4Qwd1bmlGQjg1B3VuaTA2OEQHdW5pRkI4Mwd1bmkwNjhFB3VuaUZCODcHdW5pMDY4RglnbHlwaDE0MjEHdW5pMDY5MAlnbHlwaDE0MjMHdW5pMDY5MQd1bmlGQjhEB3VuaTA2OTIJZ2x5cGgxNDI2B3VuaTA2OTMJZ2x5cGgxNDI5B3VuaTA2OTQJZ2x5cGgxNDMxB3VuaTA2OTUJZ2x5cGgxNDMzB3VuaTA2OTYJZ2x5cGgxNDM1B3VuaTA2OTcJZ2x5cGgxNDM3B3VuaTA2OTkJZ2x5cGgxNDM5B3VuaTA2OUEJZ2x5cGgxNDQxCWdseXBoMTQ0MglnbHlwaDE0NDMHdW5pMDY5QglnbHlwaDE0NDUJZ2x5cGgxNDQ2CWdseXBoMTQ0Nwd1bmkwNjlDCWdseXBoMTQ0OQlnbHlwaDE0NTAJZ2x5cGgxNDUxB3VuaTA2OUQJZ2x5cGgxNDUzCWdseXBoMTQ1NAlnbHlwaDE0NTUHdW5pMDY5RQlnbHlwaDE0NTcJZ2x5cGgxNDU4CWdseXBoMTQ1OQd1bmkwNjlGCWdseXBoMTQ2MQd1bmkwNkEwCWdseXBoMTQ2MwlnbHlwaDE0NjQJZ2x5cGgxNDY1B3VuaTA2QTEHdW5pMDZBMglnbHlwaDE0NjgJZ2x5cGgxNDY5CWdseXBoMTQ3MAd1bmkwNkEzCWdseXBoMTQ3MglnbHlwaDE0NzMJZ2x5cGgxNDc0B3VuaTA2QTQHdW5pRkI2Qgd1bmlGQjZDB3VuaUZCNkQHdW5pMDZBNQlnbHlwaDE0ODAJZ2x5cGgxNDgxCWdseXBoMTQ4Mgd1bmkwNkE2B3VuaUZCNkYHdW5pRkI3MAd1bmlGQjcxB3VuaTA2QTcJZ2x5cGgxNDg4B3VuaTA2QTgJZ2x5cGgxNDkwB3VuaTA2QUEJZ2x5cGgxNDkyCWdseXBoMTQ5MwlnbHlwaDE0OTQHdW5pMDZBQglnbHlwaDE0OTYJZ2x5cGgxNDk3CWdseXBoMTQ5OAd1bmkwNkFDCWdseXBoMTUwMAlnbHlwaDE1MDEJZ2x5cGgxNTAyB3VuaTA2QUQHdW5pRkJENAd1bmlGQkQ1B3VuaUZCRDYHdW5pMDZBRQlnbHlwaDE1MDgJZ2x5cGgxNTA5CWdseXBoMTUxMAd1bmkwNkIwCWdseXBoMTUxMglnbHlwaDE1MTMJZ2x5cGgxNTE0B3VuaTA2QjEHdW5pRkI5Qgd1bmlGQjlDB3VuaUZCOUQHdW5pMDZCMglnbHlwaDE1MjAJZ2x5cGgxNTIxCWdseXBoMTUyMgd1bmkwNkIzB3VuaUZCOTcHdW5pRkI5OAd1bmlGQjk5B3VuaTA2QjQJZ2x5cGgxNTI4CWdseXBoMTUyOQlnbHlwaDE1MzAHdW5pMDZCNQlnbHlwaDE1MzIJZ2x5cGgxNTMzCWdseXBoMTUzNAd1bmkwNkI2CWdseXBoMTUzNglnbHlwaDE1MzcJZ2x5cGgxNTM4B3VuaTA2QjcJZ2x5cGgxNTQwCWdseXBoMTU0MQlnbHlwaDE1NDIHdW5pMDZCOAlnbHlwaDE1NDQJZ2x5cGgxNTQ1CWdseXBoMTU0Ngd1bmkwNkI5CWdseXBoMTU0OAlnbHlwaDE1NDkJZ2x5cGgxNTUwB3VuaTA2QkEHdW5pRkI5Rgd1bmkwNkJCB3VuaUZCQTEHdW5pMDZCQwlnbHlwaDE1NTYJZ2x5cGgxNTU3CWdseXBoMTU1OAd1bmkwNkJECWdseXBoMTU2MAd1bmkwNkJGCWdseXBoMTU2MglnbHlwaDE1NjMJZ2x5cGgxNTY0B3VuaTA2QzAHdW5pRkJBNQd1bmkwNkMxB3VuaTA2QzIHdW5pMDZDMwd1bmkwNkM0CWdseXBoMTU3MQd1bmkwNkM1B3VuaUZCRTEHdW5pMDZDNgd1bmlGQkRBB3VuaTA2QzcHdW5pRkJEOAd1bmkwNkM4B3VuaUZCREMHdW5pMDZDOQd1bmlGQkUzB3VuaTA2Q0EJZ2x5cGgxNTgzB3VuaTA2Q0IHdW5pRkJERgd1bmkwNkNECWdseXBoMTU4Nwd1bmkwNkNFCWdseXBoMTU4OQlnbHlwaDE1OTAJZ2x5cGgxNTkxB3VuaTA2Q0YJZ2x5cGgxNTkzB3VuaTA2RDAHdW5pRkJFNQd1bmlGQkU2B3VuaUZCRTcHdW5pMDZEMQlnbHlwaDE1OTkHdW5pMDZEMgd1bmlGQkFGB3VuaTA2RDMHdW5pRkJCMQd1bmkwNkQ0B3VuaTA2RDYHdW5pMDZENwd1bmkwNkQ4B3VuaTA2RDkHdW5pMDZEQQd1bmkwNkRCB3VuaTA2REMHdW5pMDZERAd1bmkwNkRFB3VuaTA2REYHdW5pMDZFMAd1bmkwNkUxB3VuaTA2RTIHdW5pMDZFMwd1bmkwNkU0B3VuaTA2RTUHdW5pMDZFNgd1bmkwNkU3B3VuaTA2RTgHdW5pMDZFOQd1bmkwNkVBB3VuaTA2RUIHdW5pMDZFRAd1bmkwNkZBCWdseXBoMTYyOQlnbHlwaDE2MzAJZ2x5cGgxNjMxB3VuaTA2RkIJZ2x5cGgxNjMzCWdseXBoMTYzNAlnbHlwaDE2MzUHdW5pMDZGQwlnbHlwaDE2MzcJZ2x5cGgxNjM4CWdseXBoMTYzOQd1bmkwNkZEB3VuaTA2RkUHdW5pRkJBNgd1bmlGQkE4B3VuaUZCQTkJZ2x5cGgxNjQ1CWdseXBoMTY0NglnbHlwaDE2NDcJZ2x5cGgxNjQ4CWdseXBoMTY0OQlnbHlwaDE2NTAJZ2x5cGgxNjUxB3VuaUZCMUQHdW5pRkIxRQlnbHlwaDE2NTQHdW5pRkIxRglnbHlwaDE2NTYJZ2x5cGgxNjU3CWdseXBoMTY1OAlnbHlwaDE2NTkJZ2x5cGgxNjYwCWdseXBoMTY2MQlnbHlwaDE2NjIJZ2x5cGgxNjYzCWdseXBoMTY2NAlnbHlwaDE2NjUJZ2x5cGgxNjY2CWdseXBoMTY2NwlnbHlwaDE2NjgJZ2x5cGgxNjY5CWdseXBoMTY3MAlnbHlwaDE2NzEJZ2x5cGgxNjcyCWdseXBoMTY3MwAAAAADAAgAAgARAAH//wADAAEAAE0CvyICOQQmAABA2gW6AABNIEFyaWFsICAgICAgICAg/////wA///5BUkxSMDAAAEAAAAAAAQAAAAwAAAAAAAAAAgAZAugC8AABAvEC+AADAvkDBQABAwgDCAABAwoDDAABAxIDEgADAxsDGwABAx8DIgABAycDNgABA0cDSwADA3wDfQABA38DfwACA4ADgAABA4EDjAACA40D9AABA/UD/AACA/8EAAADBAQEBQADBAgECQADBA0EEgADBBQEFQADBEwETgABBGcEaQABBSoGbAABBnIGiQABAAAAAQAAAAoAPgCiAAFhcmFiAAgACgABTUFSIAAaAAAABwAFAAEAAgADAAUABgAAAAcABgAAAAEAAgADAAQABgAIaXNvbAAyaXNvbAA4aW5pdAA+bWVkaQBEZmluYQBKZmluYQBQbGlnYQBWcmxpZwBeAAAAAQAAAAAAAQABAAAAAQACAAAAAQADAAAAAQAEAAAAAQAFAAAAAgAGAAcAAAABAAYACAASACgARgGoAwoFVAeeCMAAAQABAAEACAACAAgAAQZyAAEAAQXfAAEAAQABAAgAAgAMAAMGagYdA5MAAQADBh8GIAYhAAEAAQABAAgAAgCuAFQDIQMpAy8DMwPzA4sDkQOXA5sDnwOjA6cDswO3A7sDvwPDA8cDywPPA9MD1wPbA98D4wPnA+sD6wPzBSkFKgVMBVAFVAVYBVwFYAVkBWgFbAVwBXQFeAV8BaIFpgWqBa4FsgW0BbgFKgW9BcEFxQXJBc0D0wXFBdUF2QXdBeEF5QXpBe0F8QX1BfkF/QYBBgUGCQYNBUwGFQMhBhsGawY2BjwGXgZiBmYAAQBUAx8DJwMtAzEDNQOJA48DlQOZA50DoQOlA7EDtQO5A70DwQPFA8kDzQPRA9UD2QPdA+ED5QPpA+sD8QUoBSwFSgVOBVIFVgVaBV4FYgVmBWoFbgVyBXYFegWgBaQFqAWsBbAFtAW2BboFuwW/BcMFxwXLBc8F0QXTBdcF2wXfBeMF5wXrBe8F8wX3BfsF/wYDBgcGCwYRBhMGFwYZBh8GNAY6BlwGYAZkAAEAAQABAAgAAgCuAFQDIgMqAzADNAP0A4wDkgOYA5wDoAOkA6gDtAO4A7wDwAPEA8gDzAPQA9QD2APcA+AD5APoA+wD7AP0BSkFKwVNBVEFVQVZBV0FYQVlBWkFbQVxBXUFeQV9BaMFpwWrBa8FswW1BbkFKwW+BcIFxgXKBc4D1AXGBdYF2gXeBeIF5gXqBe4F8gX2BfoF/gYCBgYGCgYOBUwGFgMiBhwGbAY3Bj0GXwZjBmcAAQBUAx8DJwMtAzEDNQOJA48DlQOZA50DoQOlA7EDtQO5A70DwQPFA8kDzQPRA9UD2QPdA+ED5QPpA+sD8QUoBSwFSgVOBVIFVgVaBV4FYgVmBWoFbgVyBXYFegWgBaQFqAWsBbAFtAW2BboFuwW/BcMFxwXLBc8F0QXTBdcF2wXfBeMF5wXrBe8F8wX3BfsF/wYDBgcGCwYRBhMGFwYZBh8GNAY6BlwGYAZkAAEAAQABAAgAAgEiAI4DIAMoAywDLgMyAzYDggOEA4YDiAOKA44DkAOUA5YDmgOeA6IDpgOqA6wDrgOwA7IDtgO6A74DwgPGA8oDzgPSA9YD2gPeA+ID5gPqA+oD7gPwA/ID9gP4A/oD/AUoBSwFPQU/BUEFQwVFBUcFSQVLBU8FUwVXBVsFXwVjBWcFawVvBXMFdwV7BX8FgQWDBYUFhwWJBYsFjQWPBZEFkwWVBZcFmQWbBZ0FnwWhBaUFqQWtBbEFtQW3BboFvAXABcQFyAXMBdAF0gXUBdgF3AZzBeQF6AXsBfAF9AX4BfwGAAYEBggGDAYQBhIGFAYYBhoGHgYfBiAGIQYjBiUGJwYpBisGLQYvBjEGMwY1BjkGOwY/BkEGQwZdBmEGZQABAI4DHwMnAysDLQMxAzUDgQODA4UDhwOJA40DjwOTA5UDmQOdA6EDpQOpA6sDrQOvA7EDtQO5A70DwQPFA8kDzQPRA9UD2QPdA+ED5QPpA+sD7QPvA/ED9QP3A/kD+wUoBSwFPAU+BUAFQgVEBUYFSAVKBU4FUgVWBVoFXgViBWYFagVuBXIFdgV6BX4FgAWCBYQFhgWIBYoFjAWOBZAFkgWUBZYFmAWaBZwFngWgBaQFqAWsBbAFtAW2BboFuwW/BcMFxwXLBc8F0QXTBdcF2wXfBeMF5wXrBe8F8wX3BfsF/wYDBgcGCwYPBhEGEwYXBhkGHQYfBiAGIQYiBiQGJgYoBioGLAYuBjAGMgY0BjgGOgY+BkAGQgZcBmAGZAABAAEAAQAIAAIBIgCOAyADKAMsAy4DMgM2A4IDhAOGA4gDigOOA5ADlAOWA5oDngOiA6YDqgOsA64DsAOyA7YDugO+A8IDxgPKA84D0gPWA9oD3gPiA+YD6gPqA+4D8APyA/YD+AP6A/wFKAUsBT0FPwVBBUMFRQVHBUkFSwVPBVMFVwVbBV8FYwVnBWsFbwVzBXcFewV/BYEFgwWFBYcFiQWLBY0FjwWRBZMFlQWXBZkFmwWdBZ8FoQWlBakFrQWxBbUFtwW6BbwFwAXEBcgFzAXQBdIF1AXYBdwF4AXkBegF7AXwBfQF+AX8BgAGBAYIBgwGEAYSBhQGGAYaBh4GHwYgBiEGIwYlBicGKQYrBi0GLwYxBjMGNQY5BjsGPwZBBkMGXQZhBmUAAQCOAx8DJwMrAy0DMQM1A4EDgwOFA4cDiQONA48DkwOVA5kDnQOhA6UDqQOrA60DrwOxA7UDuQO9A8EDxQPJA80D0QPVA9kD3QPhA+UD6QPrA+0D7wPxA/UD9wP5A/sFKAUsBTwFPgVABUIFRAVGBUgFSgVOBVIFVgVaBV4FYgVmBWoFbgVyBXYFegV+BYAFggWEBYYFiAWKBYwFjgWQBZIFlAWWBZgFmgWcBZ4FoAWkBagFrAWwBbQFtgW6BbsFvwXDBccFywXPBdEF0wXXBdsF3wXjBecF6wXvBfMF9wX7Bf8GAwYHBgsGDwYRBhMGFwYZBh0GHwYgBiEGIgYkBiYGKAYqBiwGLgYwBjIGNAY4BjoGPgZABkIGXAZgBmQABAAJAAEACAABAQIACgAaAHAAsgC8AMYA0ADaAOQA7gD4AAoAFgAeACYALAAyADgAPgBEAEoAUAN/AAMD4APq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",Kh=function(){function e(e,t,i){this.PdfRenderedFormFields=[],this.pdfViewer=e,this.pdfViewerBase=t,this.formFieldLoadedDocument=this.pdfViewer.pdfRendererModule.loadedDocument,this.mIsDigitalSignaturePresent=i}return e.prototype.drawFreeTextAnnotations=function(e,i,n){var o=e.data,r=o.replace(/"/g,""),a=JSON.parse(e.bounds),s=i.getPage(e.pageIndex);if(""!==o){var l=this.convertPixelToPoint(a.left),d=this.convertPixelToPoint(a.top),h=this.convertPixelToPoint(a.width),A=this.convertPixelToPoint(a.height),p=new yo(l,d,h,A);p._dictionary.set("NM",e.signatureName.toString());var c=e.fontSize;p.border.width=0;var g=Ei.helvetica,u=e.fontFamily.toString();if(!(0,t.isNullOrUndefined)(u)){var f=u.toString();f.includes("Times New Roman")?g=Ei.timesRoman:f.includes("Courier")?g=Ei.courier:f.includes("Symbol")?g=Ei.symbol:f.includes("ZapfDingbats")&&(g=Ei.zapfDingbats)}c=Math.floor(this.convertPixelToPoint(c));var m=vi.regular;if(p.font=new nn(g,c,m),p.text=r,p.borderColor=[0,0,0],p.textAlignment=We.center,p._annotFlags=Le.print,n){var w=this.getRotateAngle(s.rotation);p.rotationAngle=Math.abs(w)}p.setValues("AnnotationType","Signature"),n&&(p.flatten=!0),p.setAppearance(!0),s.annotations.add(p)}},e.prototype.getRotateAngle=function(e){var t=0;switch(e){case Ge.angle0:t=0;break;case Ge.angle180:t=2;break;case Ge.angle270:t=3;break;case Ge.angle90:t=1}return t},e.prototype.drawImage=function(e,t,i){var n=e.data,o=JSON.parse(e.bounds),r=t.getPage(e.pageIndex);if(""!==n){var a=n.toString().split(",")[1],s=this.convertPixelToPoint(o.left),l=this.convertPixelToPoint(o.top),d=this.convertPixelToPoint(o.width),h=this.convertPixelToPoint(o.height),A=new mo(s,l,d,h),p=new Zs(a),c=r.graphics,g=A.appearance.normal;if(A._dictionary.set("NM",e.signatureName.toString()),i){var u=this.getRotateAngle(r.rotation);A.rotationAngle=Math.abs(u),A.flatten=!0}if(i)g.graphics.drawImage(p,0,0,d,h);else{var f=c.save();g.graphics.drawImage(p,0,0,d,h),g.graphics.restore(f)}r.annotations.add(A)}},e.prototype.saveFormFieldsDesignerData=function(e){if(Object.prototype.hasOwnProperty.call(e,"formDesigner")){var i=e.formDesigner;if(!(0,t.isNullOrUndefined)(i)){var n=JSON.parse(i);Object.prototype.hasOwnProperty.call(e,"formFieldsPageList")&&JSON.parse(e.formFieldsPageList);if(!(0,t.isNullOrUndefined)(this.formFieldLoadedDocument.form))for(var o=this.formFieldLoadedDocument.form._fields.length,r=this.formFieldLoadedDocument.form,a=o-1;a>=0;a--){var s=r.fieldAt(a),l=null;s instanceof Gn&&(l=s);var d=!!(0,t.isNullOrUndefined)(l)||l.isSigned;null!=l&&d||r.removeField(r.fieldAt(a))}for(var h=0;h<n.length;h++)this.addFormFieldsToDocument(n[parseInt(h.toString(),10)].FormField)}if(!(0,t.isNullOrUndefined)(this.formFieldLoadedDocument.form))if((0,t.isNullOrUndefined)(this.defaultAppearanceFields))this.formFieldLoadedDocument.form.setDefaultAppearance(!1);else{for(h=0;h<this.formFieldLoadedDocument.form.count;h++){var A=this.formFieldLoadedDocument.form.fieldAt(h);-1===this.defaultAppearanceFields.indexOf(A.name)&&A.setAppearance(!0)}this.defaultAppearanceFields=null}}},e.prototype.setFont=function(e,t){var i=this.getFontStyle(e);t._dictionary.set("FontStyle",i);var n=/[^\u0000-\u007F]/.test(t.text);t.font=n?this.getTrueFont(e.fontSize,i):new nn(this.getFontFamily(e.FontFamily),this.convertPixelToPoint(e.fontSize),i)},e.prototype.saveFormFieldsData=function(e){if(Object.prototype.hasOwnProperty.call(e,"fieldsData")){var i=e.fieldsData,n=JSON.parse(i);if(!(0,t.isNullOrUndefined)(n)&&Object.keys(n).length>0&&!(0,t.isNullOrUndefined)(this.formFieldLoadedDocument.form)){this.formFieldLoadedDocument.form._fields.length>0&&this.formFieldLoadedDocument.form.setDefaultAppearance(!1);for(var o=0;o<this.formFieldLoadedDocument.form._fields.length;o++){var r=this.formFieldLoadedDocument.form.fieldAt(o),a="",s="";if((0,t.isNullOrUndefined)(r.name)||(a=r.name.replace(/[^0-9a-zA-Z]+/g,"").replace(/\s+/g,""),s=r.name),r instanceof Ln){if(r.password){if(Object.prototype.hasOwnProperty.call(n,a)&&!(0,t.isNullOrUndefined)(n[""+a])||Object.prototype.hasOwnProperty.call(n,s)&&!(0,t.isNullOrUndefined)(n[""+s])){Object.prototype.hasOwnProperty.call(n,s)&&(a=s);l=n[""+a];!(0,t.isNullOrUndefined)(l)&&Object.prototype.hasOwnProperty.call(l,"isReadOnly")&&(r.text=l.fieldValue,r.readOnly="true"===l.isReadOnly),this.setFont(l,r)}}else if(Object.prototype.hasOwnProperty.call(n,a)&&!(0,t.isNullOrUndefined)(n[""+a])||Object.prototype.hasOwnProperty.call(n,s)&&!(0,t.isNullOrUndefined)(n[""+s])){Object.prototype.hasOwnProperty.call(n,s)&&(a=s);var l=n[""+a];!(0,t.isNullOrUndefined)(l)&&Object.prototype.hasOwnProperty.call(l,"isReadOnly")&&(r.text=l.fieldValue,r.readOnly="true"===l.isReadOnly),this.setFont(l,r)}}else if(r instanceof Yn){if(Object.prototype.hasOwnProperty.call(n,a)&&!(0,t.isNullOrUndefined)(n[""+a])||Object.prototype.hasOwnProperty.call(n,s)&&!(0,t.isNullOrUndefined)(n[""+s])){Object.prototype.hasOwnProperty.call(n,s)&&(a=s);l=n[""+a];var d=r.itemsCount,h="";(0,t.isNullOrUndefined)(l)||(Object.prototype.hasOwnProperty.call(l,"isReadOnly")&&(r.readOnly="true"===l.isReadOnly),(0,t.isNullOrUndefined)(l.fieldValue)||(h=l.fieldValue));for(var A=!1,p=0;p<d;p++){var c=void 0;r._dictionary.has("Opt")?c=r._dictionary.get("Opt")[parseInt(p.toString(),10)]:(0,t.isNullOrUndefined)(r.itemAt(p))||(c=r.itemAt(p).text),(c===h||c&&c.length>0&&c[1]===h)&&(r.selectedIndex=p,A=!0)}r.editable&&!A&&(r.selectedValue=h),this.setFont(l,r)}}else if(r instanceof Un){if(Object.prototype.hasOwnProperty.call(n,a)&&!(0,t.isNullOrUndefined)(n[""+a])||Object.prototype.hasOwnProperty.call(n,s)&&!(0,t.isNullOrUndefined)(n[""+s])){Object.prototype.hasOwnProperty.call(n,s)&&(a=s);var g=(l=n[""+a]).isSelected,u=g.toString(),f=l.fieldValue;if((0,t.isNullOrUndefined)(f)||r._dictionary.set("ExportValue",f),"true"===u.toLowerCase()||"false"===u.toLowerCase()){if(r.checked=g,!(0,t.isNullOrUndefined)(l)&&Object.prototype.hasOwnProperty.call(l,"isReadOnly")&&(r.readOnly=l.readonly),"false"===u.toLowerCase()){for(var m=r,w=0;w<m.itemsCount;w++)m.itemAt(w).checked=!1;r.checked=!1}}else{var y=(0,t.isNullOrUndefined)(u)?-1:parseInt(u,10);if((m=r).itemsCount>0)if(-1===y){for(var S=0;S<m.itemsCount;S++)m.itemAt(S).checked=!1;r.checked=!1}else(0,t.isNullOrUndefined)(m.itemAt(y))||(m.itemAt(y).checked=!0)}}}else if(r instanceof jn){if(Object.prototype.hasOwnProperty.call(n,a)&&!(0,t.isNullOrUndefined)(n[""+a])||Object.prototype.hasOwnProperty.call(n,s)&&!(0,t.isNullOrUndefined)(n[""+s])){Object.prototype.hasOwnProperty.call(n,s)&&(a=s);var C=n[""+a];d=r.itemsCount,h="";(0,t.isNullOrUndefined)(C)||(Object.prototype.hasOwnProperty.call(C,"fieldValue")&&!(0,t.isNullOrUndefined)(C.fieldValue)&&(h=C.fieldValue),Object.prototype.hasOwnProperty.call(C,"isReadOnly")&&(r.readOnly="true"===C.isReadOnly)),h=JSON.parse(h)[0].replace(/[^0-9a-zA-Z]+/g,"");var B=[];for(w=0;w<d;w++){(c=r.itemAt(w).text)===h&&B.push(w)}r.selectedIndex=B,this.setFont(C,r)}}else if(r instanceof zn){if(Object.prototype.hasOwnProperty.call(n,a)&&!(0,t.isNullOrUndefined)(n[""+a])||Object.prototype.hasOwnProperty.call(n,s)&&!(0,t.isNullOrUndefined)(n[""+s])){Object.prototype.hasOwnProperty.call(n,s)&&(a=s);l=n[""+a];if(!(0,t.isNullOrUndefined)(l)&&Object.prototype.hasOwnProperty.call(l,"isReadOnly")){var I=l.fieldValue;if(I)for(var b=0;b<r.itemsCount;b++){var v=r.itemAt(b);if(v&&(v.value===I||v._optionValue===I)){r.selectedIndex=b;break}}r.readOnly="true"===l.isReadOnly}}}else if(r instanceof Gn){if(Object.prototype.hasOwnProperty.call(n,a)&&!(0,t.isNullOrUndefined)(n[""+a])||Object.prototype.hasOwnProperty.call(n,s)&&!(0,t.isNullOrUndefined)(n[""+s])){Object.prototype.hasOwnProperty.call(n,s)&&(a=s);var E=r;Object.prototype.hasOwnProperty.call(n,a+"fontName")?this.drawFieldFreeTextAnnotations(n[""+a],E,a,n[a+"bounds"],n[a+"fontName"],n[a+"fontSize"]):Object.prototype.hasOwnProperty.call(n,a+"ImageData")?this.drawFieldImage(n[""+a],E,a,n[a+"bounds"]):Object.prototype.hasOwnProperty.call(n,a+"bounds")&&this.drawFieldPath(n[""+a],E,a,n[a+"bounds"]);var x=E.itemsCount;if(x>0)for(w=0;w<x;w++)Object.prototype.hasOwnProperty.call(n,a+"fontName_"+w)?this.drawFieldFreeTextAnnotations(n[""+a],E,a,n[a+"bounds_"+w],n[a+"fontName_"+w],n[a+"fontSize_"+w]):Object.prototype.hasOwnProperty.call(n,a+"ImageData_"+w)?this.drawFieldImage(n[""+a],E,a,n[a+"bounds_"+w]):Object.prototype.hasOwnProperty.call(n,a+"bounds_"+w)&&this.drawFieldPath(n[""+a],E,a,n[a+"bounds_"+w])}(Object.prototype.hasOwnProperty.call(n,a+"isReadOnly")||Object.prototype.hasOwnProperty.call(n,s+"isReadOnly"))&&(Object.prototype.hasOwnProperty.call(n,s+"isReadOnly")&&(a=s),r.readOnly="true"===n.isReadOnly)}}}}},e.prototype.addFormFieldsToDocument=function(e){var t,i=this.formFieldLoadedDocument.getPage(e.pageNumber-1);switch(e.formFieldAnnotationType){case"Textbox":case"PasswordField":t=this.saveTextBoxField(i,e);break;case"Checkbox":t=this.SaveCheckBoxField(i,e);break;case"RadioButton":t=this.saveRadioButtonField(e);break;case"DropdownList":t=this.saveDropDownField(i,e);break;case"ListBox":t=this.saveListBoxField(i,e);break;case"SignatureField":case"InitialField":t=this.saveSignatureField(i,e)}t&&this.formFieldLoadedDocument.form.add(t)},e.prototype.setFontFromKeys=function(e,i,n,o,r,a){var s=nd.tryGetFontFromKeys(n,e.toString(),o,a);if((0,t.isNullOrUndefined)(s))if(r){var l=this.getTrueFont(o,a);nd.isSupportedFont(e,s)?i.font=l:this.disableFieldAppearance(i)}else this.disableFieldAppearance(i);else i.font=s,i.setAppearance(!0)},e.prototype.setFontAppearance=function(e,i,n,o,r,a,s){if(!(0,t.isNullOrUndefined)(r)&&Object.keys(r).length>0){var l=nd.getFontKey(r,i.toLowerCase());if((0,t.isNullOrUndefined)(l))this.setFontFromKeys(e,o,r,n,a,s);else{var d=r[""+l];d=nd.processFontStream(d);var h=new rn(d,this.convertPixelToPoint(n),s),A=nd.isSupportedFont(e,h);o.setAppearance(A),A?o.font=h:this.setFontFromKeys(e,o,r,n,a,s)}}else try{o.font.measureString(e.toString())}catch(t){if(a){var p=this.getTrueFont(n,s);nd.isSupportedFont(e,p)?o.font=p:this.disableFieldAppearance(o)}else this.disableFieldAppearance(o)}},e.prototype.disableFieldAppearance=function(e){e.setAppearance(!1),(0,t.isNullOrUndefined)(this.defaultAppearanceFields)&&(this.defaultAppearanceFields=[]),this.defaultAppearanceFields.push(e.name)},e.prototype.saveTextBoxField=function(e,i){var n=(0,t.isNullOrUndefined)(i.name)?"Password"===i.type?"passwordTextbox":"textbox":i.name,o=this.convertFieldBounds(i),r=e.rotation,a=!1;0!==i.rotation&&(a=!0);var s=this.getBounds(o,e.size[1],e.size[0],r,a),l={x:s.X,y:s.Y,width:s.Width,height:s.Height},d=new Ln(e,n,l);d.backColor=[i.backgroundColor.r,i.backgroundColor.g,i.backgroundColor.b],0===i.backgroundColor.r&&0===i.backgroundColor.g&&0===i.backgroundColor.b&&0===i.backgroundColor.a&&(d.backColor=[i.backgroundColor.r,i.backgroundColor.g,i.backgroundColor.b,i.backgroundColor.a]),d.maxLength=i.maxLength,d.insertSpaces=i.insertSpaces,d.readOnly=i.isReadonly,d.required=i.isRequired,d.textAlignment=this.getTextAlignment(i.textAlign),d.visibility=this.getFormFieldsVisibility(i.visibility),d.text=(0,t.isNullOrUndefined)(i.value)?"":i.value,d.toolTip=(0,t.isNullOrUndefined)(i.tooltip)?"":i.tooltip,d.color=[i.fontColor.r,i.fontColor.g,i.fontColor.b],d.borderColor=[i.borderColor.r,i.borderColor.g,i.borderColor.b],0==i.borderColor.r&&0==i.borderColor.g&&0==i.borderColor.b&&0==i.borderColor.a&&(d.borderColor=[i.borderColor.r,i.borderColor.g,i.borderColor.b,i.borderColor.a]),d.border.width=i.thickness,d.multiLine=i.Multiline;var h=this.getFontStyle(i);d._dictionary.set("FontStyle",h);var A=/[^\u0000-\u007F]/.test(d.text);if(d.font=new nn(this.getFontFamily(i.FontFamily),this.convertPixelToPoint(i.fontSize),h),!(0,t.isNullOrUndefined)(d.text.toString())){var p=this.pdfViewer.pdfRenderer.FallbackFontCollection;this.setFontAppearance(d.text.toString(),i.fontFamily,i.fontSize,d,p,A,h)}if("PasswordField"===i.formFieldAnnotationType&&(d.password=!0),a||(d.rotate=this.getFormfieldRotation(e.rotation)),!(0,t.isNullOrUndefined)(i.customData)){var c=JSON.stringify(i.customData);d._dictionary.set("CustomData",c)}return d},e.prototype.saveDropDownField=function(e,i){var n=(0,t.isNullOrUndefined)(i.name)?"dropdownList":i.name,o=this.convertFieldBounds(i),r=e.rotation,a=!1;0!==i.rotation&&(a=!0);for(var s=this.getBounds(o,e.size[1],e.size[0],r,a),l={x:s.X,y:s.Y,width:s.Width,height:s.Height},d=new Yn(e,n,l),h=!1,A=0;A<i.option.length;A++){var p=new vo(i.option[parseInt(A.toString(),10)].itemName,i.option[parseInt(A.toString(),10)].itemValue);d.addItem(p),/[^\u0000-\u007F]/.test(i.option[parseInt(A.toString(),10)].itemName)&&(h=!0)}d.textAlignment=this.getTextAlignment(i.textAlign);var c=this.getFontStyle(i);d._dictionary.set("FontStyle",c),d.font=new nn(this.getFontFamily(i.FontFamily),this.convertPixelToPoint(i.fontSize),c);for(A=0;A<i.option.length;A++){var g=i.option[parseInt(A.toString(),10)].itemName.toString();if(!(0,t.isNullOrUndefined)(g)){var u=this.pdfViewer.pdfRenderer.FallbackFontCollection;this.setFontAppearance(g,i.fontFamily,i.fontSize,d,u,h,c);break}}if(d.itemsCount>0&&(i.selectedIndex.length>0?d.selectedIndex=i.selectedIndex[0]:d.selectedIndex=0),d.required=i.isRequired,d.readOnly=i.isReadonly,d.visibility=this.getFormFieldsVisibility(i.visibility),d.backColor=[i.backgroundColor.r,i.backgroundColor.g,i.backgroundColor.b],0===i.backgroundColor.r&&0===i.backgroundColor.g&&0===i.backgroundColor.b&&0===i.backgroundColor.a&&(d.backColor=[i.backgroundColor.r,i.backgroundColor.g,i.backgroundColor.b,i.backgroundColor.a]),d.borderColor=[i.borderColor.r,i.borderColor.g,i.borderColor.b],0==i.borderColor.r&&0==i.borderColor.g&&0==i.borderColor.b&&0==i.borderColor.a&&(d.borderColor=[i.borderColor.r,i.borderColor.g,i.borderColor.b,i.borderColor.a]),d.border.width=i.thickness,d.color=[i.fontColor.r,i.fontColor.g,i.fontColor.b],a||(d.rotate=this.getFormfieldRotation(e.rotation)),d.toolTip=(0,t.isNullOrUndefined)(i.tooltip)?"":i.tooltip,!(0,t.isNullOrUndefined)(i.customData)){var f=JSON.stringify(i.customData);d._dictionary.set("CustomData",f)}return d},e.prototype.SaveCheckBoxField=function(e,i){var n=(0,t.isNullOrUndefined)(i.name)&&""===i.name?"checkboxField":i.name,o=this.convertFieldBounds(i),r=e.rotation,a=!1;0!==i.rotation&&(a=!0);var s=this.getBounds(o,e.size[1],e.size[0],r,a),l={x:s.X,y:s.Y,width:s.Width,height:s.Height},d=new Un(n,l,e);if(d.readOnly=i.isReadonly,d.required=i.isRequired,d.checked=i.isChecked,d.visibility=this.getFormFieldsVisibility(i.visibility),d._dictionary.set("ExportValue",i.value),d.backColor=[i.backgroundColor.r,i.backgroundColor.g,i.backgroundColor.b],0===i.backgroundColor.r&&0===i.backgroundColor.g&&0===i.backgroundColor.b&&0===i.backgroundColor.a&&(d.backColor=[i.backgroundColor.r,i.backgroundColor.g,i.backgroundColor.b,i.backgroundColor.a]),d.borderColor=[i.borderColor.r,i.borderColor.g,i.borderColor.b],0===i.borderColor.r&&0===i.borderColor.g&&0===i.borderColor.b&&0===i.borderColor.a&&(d.borderColor=[i.borderColor.r,i.borderColor.g,i.borderColor.b,i.borderColor.a]),d.border.width=i.thickness,d.toolTip=(0,t.isNullOrUndefined)(i.tooltip)?"":i.tooltip,a||(d.rotate=this.getFormfieldRotation(e.rotation)),!(0,t.isNullOrUndefined)(i.customData)){var h=JSON.stringify(i.customData);d._dictionary.set("CustomData",h)}return d},e.prototype.saveListBoxField=function(e,i){var n=(0,t.isNullOrUndefined)(i.name)?"listBox":i.name,o=this.convertFieldBounds(i),r=e.rotation,a=!1;0!==i.rotation&&(a=!0);for(var s=this.getBounds(o,e.size[1],e.size[0],r,a),l={x:s.X,y:s.Y,width:s.Width,height:s.Height},d=new jn(e,n,l),h=!1,A=!1,p=0;p<i.option.length;p++){var c=new vo(i.option[parseInt(p.toString(),10)].itemName,i.option[parseInt(p.toString(),10)].itemValue);d.addItem(c),/[^\u0000-\u007F]/.test(i.option[parseInt(p.toString(),10)].itemName)&&(A=!0),(0,t.isNullOrUndefined)(c&&c._dictionary&&!h)||(c.textAlignment=this.getTextAlignment(i.textAlign),h=!0)}if(d.itemsCount>0){var g=i.selectedIndex.length;if(Array.isArray(i.selectedIndex)&&g>0)if(1===g)d.selectedIndex=i.selectedIndex[0];else{for(var u=[],f=0;f<g;f++)u.push(i.selectedIndex[parseInt(f.toString(),10)]);d.selectedIndex=u}else d.selectedIndex=0}d.textAlignment=this.getTextAlignment(i.textAlign),d.multiSelect=!0,d.backColor=[i.backgroundColor.r,i.backgroundColor.g,i.backgroundColor.b],0===i.backgroundColor.r&&0===i.backgroundColor.g&&0===i.backgroundColor.b&&0===i.backgroundColor.a&&(d.backColor=[i.backgroundColor.r,i.backgroundColor.g,i.backgroundColor.b,i.backgroundColor.a]),d.borderColor=[i.borderColor.r,i.borderColor.g,i.borderColor.b],0==i.borderColor.r&&0==i.borderColor.g&&0==i.borderColor.b&&0==i.borderColor.a&&(d.borderColor=[i.borderColor.r,i.borderColor.g,i.borderColor.b,i.borderColor.a]),d.border.width=i.thickness;var m=this.getFontStyle(i);d._dictionary.set("FontStyle",m),d.font=new nn(this.getFontFamily(i.FontFamily),this.convertPixelToPoint(i.fontSize),m);for(p=0;p<i.option.length;p++){var w=i.option[parseInt(p.toString(),10)].itemName.toString();if(!(0,t.isNullOrUndefined)(w)){var y=this.pdfViewer.pdfRenderer.FallbackFontCollection;this.setFontAppearance(w,i.fontFamily,i.fontSize,d,y,A,m);break}}if(d.readOnly=i.isReadonly,d.required=i.isRequired,d.visibility=this.getFormFieldsVisibility(i.visibility),d.toolTip=(0,t.isNullOrUndefined)(i.tooltip)?"":i.tooltip,a||(d.rotate=this.getFormfieldRotation(e.rotation)),!(0,t.isNullOrUndefined)(i.customData)){var S=JSON.stringify(i.customData);d._dictionary.set("CustomData",S)}return d},e.prototype.saveRadioButtonField=function(e){for(var i=this.formFieldLoadedDocument.getPage(e.pageNumber-1),n=(0,t.isNullOrUndefined)(e.radiobuttonItem[0].name)?"radiobuttonField":e.radiobuttonItem[0].name,o=new zn(i,n),r=0,a=!1,s=!1,l=!1,d=0;d<e.radiobuttonItem.length;d++){var h=e.radiobuttonItem[parseInt(d.toString(),10)],A=this.formFieldLoadedDocument.getPage(h.pageNumber-1),p=(0,t.isNullOrUndefined)(h.value)||""===h.value?n:h.value,c=this.getRotateAngle(A.rotation),g=this.convertFieldBounds(h),u=!1;0!==e.rotation&&(u=!0);var f=this.getBounds(g,A.size[1],A.size[0],c,u),m={x:f.X,y:f.Y,width:f.Width,height:f.Height},w=new bo(p,m,A);u&&(w.rotationAngle=this.GetRotateAngle(A.rotation)),h.isReadonly&&(s=!0),h.isRequired&&(l=!0),w.borderColor=[h.borderColor.r,h.borderColor.g,h.borderColor.b],0==h.borderColor.r&&0==h.borderColor.g&&0==h.borderColor.b&&0==h.borderColor.a&&(w.borderColor=[h.borderColor.r,h.borderColor.g,h.borderColor.b,h.borderColor.a]),w.border.width=h.thickness,w.backColor=[h.backgroundColor.r,h.backgroundColor.g,h.backgroundColor.b],0===h.backgroundColor.r&&0===h.backgroundColor.g&&0===h.backgroundColor.b&&0===h.backgroundColor.a&&(w.backColor=[h.backgroundColor.r,h.backgroundColor.g,h.backgroundColor.b,h.backgroundColor.a]),w.visibility=this.getFormFieldsVisibility(h.visibility),o.add(w),h.isSelected&&(r=d,a=!0)}if(o.readOnly=s,o.required=l,o.toolTip=(0,t.isNullOrUndefined)(e.tooltip)?"":e.tooltip,a&&(o.selectedIndex=r),(0,t.isNullOrUndefined)(e.radiobuttonItem[0].customData)){if(!(0,t.isNullOrUndefined)(e.customData)){y=JSON.stringify(e.customData);o._dictionary.set("CustomData",y)}}else{var y=JSON.stringify(e.radiobuttonItem[0].customData);o._dictionary.set("CustomData",y)}return o},e.prototype.saveSignatureField=function(e,i){var n=(0,t.isNullOrUndefined)(i.name)?"signatureField":i.name,o=this.convertFieldBounds(i),r=e.rotation,a=!1;0!==i.rotation&&(a=!0);var s=this.getBounds(o,e.size[1],e.size[0],r,a),l={x:s.X,y:s.Y,width:s.Width,height:s.Height},d=new Gn(e,n,l);if(d.toolTip=i.tooltip,d.required=i.isRequired,d.readOnly=i.isReadonly,"InitialField"===i.formFieldAnnotationType&&d._dictionary.set("InitialField",!0),""===i.value&&(d.backColor=[i.backgroundColor.r,i.backgroundColor.g,i.backgroundColor.b],0===i.backgroundColor.r&&0===i.backgroundColor.g&&0===i.backgroundColor.b&&0===i.backgroundColor.a&&(d.backColor=[i.backgroundColor.r,i.backgroundColor.g,i.backgroundColor.b,i.backgroundColor.a])),d.borderColor=[i.borderColor.r,i.borderColor.g,i.borderColor.b],0===i.borderColor.r&&0===i.borderColor.g&&0===i.borderColor.b&&0===i.borderColor.a&&(d.borderColor=[i.borderColor.r,i.borderColor.g,i.borderColor.b,i.borderColor.a]),d.border.width=i.thickness,"hidden"===i.visibility?d.visible=!1:"visible"===i.visibility&&(d.visible=!0),"Text"===i.signatureType?this.drawDesignerFieldFreeTextAnnotations(d,n,i):"Image"===i.signatureType?this.drawDesignerFieldImage(d,n,i):"Path"===i.signatureType&&((0,t.isNullOrUndefined)(i.value)||""===i.value||this.drawDesignerFieldPath(d,n,i)),a||(d.rotate=this.getFormfieldRotation(e.rotation)),!(0,t.isNullOrUndefined)(i.customData)){var h=JSON.stringify(i.customData);d._dictionary.set("CustomData",h)}return d},e.prototype.drawDesignerFieldFreeTextAnnotations=function(e,i,n){var o=n.signatureBound.x,r=n.signatureBound.y,a=n.signatureBound.width,s=n.signatureBound.height,l=e.page,d=l.rotation,h=n.zoomValue,A={X:this.convertPixelToPoint(o/h),Y:this.convertPixelToPoint(r/h),Width:this.convertPixelToPoint(a/h),Height:this.convertPixelToPoint(s/h)},p=!1;if(0!==n.rotation&&(p=!0),A=this.getBounds(A,l.size[1],l.size[0],d,p),!(0,t.isNullOrUndefined)(n)){var c=A.X,g=A.Y,u=A.Width,f=A.Height,m={X:c,Y:g,Width:u,Height:f},w=new yo(c,g,u,f);w.setAppearance(!0),w._dictionary.set("T",i);var y=n.fontSize,S=Ei.helvetica;(0,t.isNullOrUndefined)(n.fontFamily)||(S=this.getFontFamily(n.fontFamily));var C=this.getFontStyle(n),B=/[^\u0000-\u007F]/.test(n.value);w.font=B?this.getTrueFont(this.convertPixelToPoint(y),C):new nn(S,this.convertPixelToPoint(n.fontSize),C),w.text=n.value,this.setFontSize(this.convertPixelToPoint(y),w.font,n.value,m,S,C),w.border.width=0,w.textAlignment=We.center,w.flags=Le.print,"hidden"===n.visibility&&(w.flags=Le.hidden),p||(w.rotationAngle=Math.abs(this.getRotateAngle(l.rotation))),w.setValues("AnnotationType","Signature"),w.setAppearance(!0),l.annotations.add(w)}},e.prototype.drawDesignerFieldImage=function(e,i,n){var o=n.signatureBound.x,r=n.signatureBound.y,a=n.signatureBound.width,s=n.signatureBound.height,l=e.page,d=l.rotation,h=n.zoomValue,A={X:this.convertPixelToPoint(o/h),Y:this.convertPixelToPoint(r/h),Width:this.convertPixelToPoint(a/h),Height:this.convertPixelToPoint(s/h)},p=!1;if(0!==n.rotation&&(p=!0),A=this.getBounds(A,l.size[1],l.size[0],d,p),!(0,t.isNullOrUndefined)(n)){var c=A.X,g=A.Y,u=A.Width,f=A.Height,m=n.value.toString().split(",")[1],w=new mo(c,g,u,f),y=new Zs(m);w.appearance.normal.graphics.drawImage(y,0,0,u,f),p||(w.rotationAngle=Math.abs(this.getRotateAngle(l.rotation))),w._dictionary.set("T",i),w.flags=Le.print,"hidden"===n.visibility&&(w.flags=Le.hidden),l.annotations.add(w)}},e.prototype.drawDesignerFieldPath=function(e,t,i){var n=JSON.parse(i.value),o=i.signatureBound.x,r=i.signatureBound.y,a=i.signatureBound.width,s=i.signatureBound.height,l=e.page,d=l.rotation,h=i.zoomValue,A={X:this.convertPixelToPoint(o/h),Y:this.convertPixelToPoint(r/h),Width:this.convertPixelToPoint(a/h),Height:this.convertPixelToPoint(s/h)};A=this.getBounds(A,l.size[1],l.size[0],d,!1);for(var p=0,c=0;c<this.formFieldLoadedDocument.pageCount&&l!==this.formFieldLoadedDocument.getPage(c);c++)p++;if(n.length>0){for(var g=A.X,u=A.Y,f=A.Width,m=A.Height,w=-1,y=-1,S=-1,C=-1,B=new An,I=0;I<n.length;I++){var b=n[parseInt(I.toString(),10)];B.addLine(b.x,b.y,0,0)}for(I=0;I<B._points.length;I+=2){var v=B._points[parseInt(I.toString(),10)];if(-1===w)w=v[0],y=v[1],S=v[0],C=v[1];else{var E=v[0],x=v[1];w>=E&&(w=E),y>=x&&(y=x),S<=E&&(S=E),C<=x&&(C=x)}}var _=(S-w)/f,D=(C-y)/m,M=[],V=0;if(0!==d){for(var Q=0;Q<n.length;Q++){if("M"===(v=n[parseInt(Q.toString(),10)]).command.toString()&&0!==Q){V=Q;break}M.push(parseFloat(v.x)),M.push(parseFloat(v.y))}M=[];for(var F=0;F<n.length;F++){v=n[parseInt(F.toString(),10)];M.push((parseFloat(v.x)-w)/_+g),M.push(this.formFieldLoadedDocument.getPage(p).size[1]-(parseFloat(v.y)-y)/D-u)}}else for(c=0;c<n.length;c++){if("M"===(v=n[parseInt(c.toString(),10)]).command.toString()&&0!==c){V=c;break}M.push((parseFloat(v.x)-w)/_+g);var T=(parseFloat(v.y)-y)/D;M.push(this.formFieldLoadedDocument.getPage(p).size[1]-T-u)}var k=new ao([g,u,f,m],M);if(k.flags=Le.print,"hidden"===i.visibility&&(k.flags=Le.hidden),k.bounds={x:A.X,y:A.Y,width:A.Width,height:A.Height},k.border.width=0,k.color=[0,0,0],k.setValues("annotationSignature","annotationSignature"),M=[],0!==d){for(var P=[],N=V;N<n.length;N++){"M"===(v=n[parseInt(N.toString(),10)]).command.toString()&&N!==V&&(P.push(M),M=[]),M.push(parseFloat(v.x)),M.push(parseFloat(v.y))}M.length>0&&P.push(M);for(var R=0;R<P.length;R++){if(M=[],P[parseInt(R.toString(),10)].length>0){for(F=0;F<n.length;F++){v=n[parseInt(F.toString(),10)];M.push((parseFloat(v.x)-w)/_+g),M.push(this.formFieldLoadedDocument.getPage(p).size[1]-(parseFloat(v.y)-y)/D-u)}k.inkPointsCollection.push(M)}M=[]}}else{for(var L=0;L<n.length;L++){"M"===(v=n[parseInt(L.toString(),10)]).command.toString()&&0!==L&&(k.inkPointsCollection.push(M),M=[]),M.push((parseFloat(v.x)-w)/_+g);T=(parseFloat(v.y)-y)/D;M.push(this.formFieldLoadedDocument.getPage(p).size[1]-T-u)}M.length>0&&k.inkPointsCollection.push(M)}k._dictionary.set("T",t),k.setAppearance(!0),k.rotationAngle=Math.abs(this.getRotateAngle(l.rotation)),this.formFieldLoadedDocument.getPage(p).annotations.add(k)}},e.prototype.setFontSize=function(e,t,i,n,o,r){var a=.25;t=new nn(o,e,r);do{if(e-=.001,t._size=e,e<a){t._size=a;break}var s=t.measureString(i);if(s[0]<n.Width&&s[1]<n.height){t._size=e;break}}while(e>a)},e.prototype.getTrueFont=function(e,t){return new rn(jh(),this.convertPixelToPoint(e),t)},e.prototype.convertFieldBounds=function(e){var t=e.zoomValue;return{X:this.convertPixelToPoint(e.lineBound.X/t),Y:this.convertPixelToPoint(e.lineBound.Y/t),Width:this.convertPixelToPoint(e.lineBound.Width/t),Height:this.convertPixelToPoint(e.lineBound.Height/t)}},e.prototype.getFontFamily=function(e){var t=Ei.helvetica;switch(e){case"Courier":t=Ei.courier;break;case"Times New Roman":t=Ei.timesRoman;break;case"Symbol":t=Ei.symbol;break;case"ZapfDingbats":t=Ei.zapfDingbats}return t},e.prototype.getBounds=function(e,t,i,n,o){var r={};return 0===n?r={X:e.X,Y:e.Y,Width:e.Width,Height:e.Height}:1===n?r=o?{X:e.Y-(e.Width/2-e.Height/2),Y:t-e.X-e.Height-(e.Width/2-e.Height/2),Width:e.Width,Height:e.Height}:{X:e.Y,Y:t-e.X-e.Width,Width:e.Height,Height:e.Width}:2===n?r={X:i-e.X-e.Width,Y:t-e.Y-e.Height,Width:e.Width,Height:e.Height}:3===n&&(r=o?{X:i-e.Y-e.Height-(e.Width/2-e.Height/2),Y:e.X+(e.Width/2-e.Height/2),Width:e.Width,Height:e.Height}:{X:i-e.Y-e.Height,Y:e.X,Width:e.Height,Height:e.Width}),r},e.prototype.getFormfieldRotation=function(e){var t=0;switch(e){case 1:t=90;break;case 2:t=180;break;case 3:t=270;break;case 4:t=360}return t},e.prototype.getTextAlignment=function(e){var t;switch(e.toLowerCase()){case"left":t=We.left;break;case"right":t=We.right;break;case"center":t=We.center;break;case"justify":t=We.justify}return t},e.prototype.getFormFieldsVisibility=function(e){var t;switch(e){case"visible":t=Xe.visible;break;case"hidden":t=Xe.hidden;break;case"visibleNotPrintable":t=Xe.visibleNotPrintable;break;case"hiddenPrintable":t=Xe.hiddenPrintable}return t},e.prototype.getFontStyle=function(e){var i;return i=vi.regular,(0,t.isNullOrUndefined)(e)||(0,t.isNullOrUndefined)(e.font)||(e.font.isBold&&(i|=vi.bold),e.font.isItalic&&(i|=vi.italic),e.font.isUnderline&&(i|=vi.underline),e.font.isStrikeout&&(i|=vi.strikeout)),i},e.prototype.convertPixelToPoint=function(e){return 72*e/96},e.prototype.convertPointtoPixel=function(e){return 96*e/72},e.prototype.fontConvert=function(e){return{Bold:e.isBold,FontFamily:this.getFontFamilyString(e.fontFamily),Height:e.height,Italic:e.isItalic,Name:this.getFontFamilyString(e.fontFamily).toString(),Size:e.size,Strikeout:e.isStrikeout,Underline:e.isUnderline,Style:e.style}},e.prototype.parseFontStyle=function(e,t){return(e&vi.underline)>0&&(t.Underline=!0),(e&vi.strikeout)>0&&(t.Strikeout=!0),(e&vi.bold)>0&&(t.Bold=!0),(e&vi.italic)>0&&(t.Italic=!0),t},e.prototype.GetFormFields=function(){this.PdfRenderedFormFields=[];var e=this.formFieldLoadedDocument.form;if(!(0,t.isNullOrUndefined)(e)&&!(0,t.isNullOrUndefined)(e._fields)){e.orderFormFields();for(var i=0;i<e.count;i++){for(var n=e.fieldAt(i),o=n.page,r=0,a=0;a<this.formFieldLoadedDocument.pageCount&&o!==this.formFieldLoadedDocument.getPage(a);a++)r++;if(!(0,t.isNullOrUndefined)(n.page))if(n instanceof Ln){var s=n;s.itemsCount>0?this.addTextBoxFieldItems(s):this.addTextBoxField(s,r,s.bounds,null)}else if(n instanceof Yn){var l=e.fieldAt(i);this.addComboBoxField(l,r)}else if(n instanceof Un){var d=n;d.itemsCount>1?this.addCheckBoxFieldItems(d):this.addCheckBoxField(d,r,d.bounds,null)}else if(n instanceof jn){var h=n;this.addListBoxField(h,r)}else if(n instanceof zn)for(var A=0;A<n.itemsCount;A++){var p=n.itemAt(A);if(p){var c=p.page;c&&this.addRadioButtonField(p,c._pageIndex,n.name)}}else if(e.fieldAt(i)instanceof Gn){var g=e.fieldAt(i);g.isSigned&&this.showDigitalSignatureAppearance?(this.mIsDigitalSignaturePresent=!0,g.flatten=!0):g.isSigned&&this.hideEmptyDigitalSignatureFields||(g.itemsCount>0?this.addSigntureFieldItems(g):this.addSignatureField(g,r,g.bounds))}}}this.retrieveInkAnnotation(this.formFieldLoadedDocument)},e.prototype.addTextBoxFieldItems=function(e){if(e instanceof Ln){var i=e;if(i.itemsCount>0)for(var n=0;n<i.itemsCount;n++){var o=i.itemAt(n).page;if(!(0,t.isNullOrUndefined)(o)){for(var r=0,a=0;a<this.formFieldLoadedDocument.pageCount&&o!==this.formFieldLoadedDocument.getPage(r);a++)r++;this.addTextBoxField(i,r,i.itemAt(n).bounds,i.itemAt(n).font)}}}},e.prototype.addTextBoxField=function(e,i,n,o){var r=new Wh;if(r.FieldName=e.name,r.ActualFieldName=e.name,e.password?r.Name="Password":r.Name="Textbox",r.ToolTip=e.toolTip,(0,t.isNullOrUndefined)(n)?r.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height}:r.LineBounds={X:n.x,Y:n.y,Width:n.width,Height:n.height},r.TabIndex=e.tabIndex,r.PageIndex=i,r.BorderWidth=e.border.width,r.BorderStyle=e.border.style,(0,t.isNullOrUndefined)(e.backColor)?r.IsTransparent=!0:r.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},r.Alignment=e.textAlignment,r.MaxLength=e.maxLength,r.Visible=e.visibility,r.InsertSpaces=e.insertSpaces,(0,t.isNullOrUndefined)(o)?r.Font=this.fontConvert(e.font):r.Font=this.fontConvert(o),e._dictionary.has("FontStyle")){var a=e._dictionary.get("FontStyle");r.Font=this.parseFontStyle(a,r.Font)}r.Rotation=e.rotationAngle,r.IsReadonly=e.readOnly,r.IsRequired=e.required,(0,t.isNullOrUndefined)(e.color)||(r.FontColor={R:e.color[0],G:e.color[1],B:e.color[2]}),(0,t.isNullOrUndefined)(e.borderColor)?r.IsTransparent=!0:r.BorderColor={R:e.borderColor[0],G:e.borderColor[1],B:e.borderColor[2]},r.Text=e.text?e.text.replace('"',""):"",r.Multiline=e.multiLine,r.RotationAngle=this.GetRotateAngle(e.page.rotation),e._dictionary.has("CustomData")&&(r.customData=JSON.parse(e._dictionary.get("CustomData"))),r.TextList=[],this.PdfRenderedFormFields.push(r)},e.prototype.addComboBoxField=function(e,i){var n=new Wh;if(n.Name="DropDown",n.ToolTip=e.toolTip,n.FieldName=e.name,n.Font=this.fontConvert(e.font),n.IsAutoSize=e._isAutoFontSize,n.Selected=e.editable,e._dictionary.has("FontStyle")){var o=e._dictionary.get("FontStyle");n.Font=this.parseFontStyle(o,n.Font)}if(n.ActualFieldName=e.name,n.SelectedValue=e.selectedValue,e._options.length>0&&"string"!=typeof e._options[0]){var r=e._options.filter((function(e){return e[0]===n.SelectedValue}));r&&r[0]&&(n.SelectedValue=r[0][1])}if(n.selectedIndex=e.selectedIndex,n.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height},n.TabIndex=e.tabIndex,n.PageIndex=i,(0,t.isNullOrUndefined)(e.backColor)?n.IsTransparent=!0:n.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},n.BorderWidth=e.border.width,n.BorderStyle=e.border.style,(0,t.isNullOrUndefined)(e.borderColor)?n.IsTransparent=!0:n.BorderColor={R:e.borderColor[0],G:e.borderColor[1],B:e.borderColor[2]},n.FontColor={R:e.color[0],G:e.color[1],B:e.color[2]},n.Rotation=e.rotationAngle,n.IsRequired=e.required,n.IsReadonly=e.readOnly,n.Visible=e.visibility,n.RotationAngle=this.GetRotateAngle(e.page.rotation),n.Alignment=e.textAlignment,e._dictionary.has("CustomData")&&(n.customData=JSON.parse(e._dictionary.get("CustomData"))),n.TextList=[],e._dictionary.has("Opt")){var a=e._dictionary.get("Opt");a.length>0&&(n.ComboBoxList=a.map((function(e){return"string"==typeof e?{itemName:e,itemValue:e}:"object"==typeof e?{itemName:e[1],itemValue:e[0]}:{itemName:"",itemValue:""}})))}if(0===n.TextList.length)for(var s=0;s<e.itemsCount;s++){var l=e.itemAt(s);l&&(n.TextList.push(l.text),0===s&&(n.Alignment=l.textAlignment))}this.PdfRenderedFormFields.push(n)},e.prototype.addCheckBoxFieldItems=function(e){if(e instanceof Un){var i=e;if(i.itemsCount>0)for(var n=0;n<i.itemsCount;n++){var o=i.itemAt(n).page;if(!(0,t.isNullOrUndefined)(o)){for(var r=0,a=0;a<this.formFieldLoadedDocument.pageCount&&o!==this.formFieldLoadedDocument.getPage(r);a++)r++;this.addCheckBoxField(i,r,i.itemAt(n).bounds,n.toString())}}}},e.prototype.addCheckBoxField=function(e,i,n,o){var r=new Wh;r.Name="CheckBox",r.ToolTip=e.toolTip,n.IsEmpty?r.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height}:r.LineBounds={X:n.x,Y:n.y,Width:n.width,Height:n.height},r.Selected=e.checked,r.TabIndex=e.tabIndex,r.GroupName=e.name.replace(/[^0-9a-zA-Z]+/g,""),r.ActualFieldName=e.name,r.PageIndex=i,r.BorderWidth=e.border.width,(0,t.isNullOrUndefined)(e.backColor)?r.IsTransparent=!0:r.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},r.BorderStyle=e.border.style,(0,t.isNullOrUndefined)(e.borderColor)?r.IsTransparent=!0:r.BorderColor={R:e.borderColor[0],G:e.borderColor[1],B:e.borderColor[2]},r.RotationAngle=this.GetRotateAngle(e.page.rotation),r.IsReadonly=e.readOnly,r.IsRequired=e.required,r.Visible=e.visibility;var a=e._dictionary._get("ExportValue");if(e._dictionary._get("ExportValue")&&!(0,t.isNullOrUndefined)(a)&&(r.Value=a),!(0,t.isNullOrUndefined)(o)){r.CheckBoxIndex=o;var s=e.itemAt(parseInt(o,10));(0,t.isNullOrUndefined)(s)||(r.Selected=s.checked)}r.RotationAngle=this.GetRotateAngle(e.page.rotation),e._dictionary.has("CustomData")&&(r.customData=JSON.parse(e._dictionary.get("CustomData"))),this.PdfRenderedFormFields.push(r)},e.prototype.addListBoxField=function(e,i){var n=new Wh;n.Name="ListBox",n.ToolTip=e.toolTip,n.Text=e.name.replace(/[^0-9a-zA-Z]+/g,""),n.ActualFieldName=e.name;var o=e.itemsCount;if(o>0){var r=e.selectedIndex;if(Array.isArray(r))for(var a=0;a<r.length;a++)n.SelectedList.push(r[parseInt(a.toString(),10)]);else n.SelectedList.push(r)}if(n.Font=this.fontConvert(e.font),e._dictionary.has("FontStyle")){var s=e._dictionary.get("FontStyle");n.Font=this.parseFontStyle(s,n.Font)}n.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height},n.TabIndex=e.tabIndex,n.PageIndex=i,n.BorderWidth=e.border.width,n.BorderStyle=e.border.style,(0,t.isNullOrUndefined)(e.backColor)?n.IsTransparent=!0:n.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},n.FontColor={R:e.color[0],G:e.color[1],B:e.color[2]},n.BorderColor={R:e.borderColor[0],G:e.borderColor[1],B:e.borderColor[2]},n.Rotation=e.rotationAngle,n.IsReadonly=e.readOnly,n.IsRequired=e.required,n.Visible=e.visibility,n.MultiSelect=e.multiSelect,o>0&&Array.isArray(e.selectedIndex)&&Array.isArray(e.selectedValue)&&(n.selectedIndex=e.selectedIndex[0],n.SelectedValue=e.selectedValue[0]);for(a=0;a<o;a++){var l=e.itemAt(a);l&&(n.TextList.push(l.text),0===a&&(n.Alignment=e.textAlignment))}n.RotationAngle=this.GetRotateAngle(e.page.rotation),e._dictionary.has("CustomData")&&(n.customData=JSON.parse(e._dictionary.get("CustomData"))),this.PdfRenderedFormFields.push(n)},e.prototype.addRadioButtonField=function(e,i,n){var o=e._field,r=new Wh;r.Name="RadioButton",r.ToolTip=o.toolTip,(0,t.isNullOrUndefined)(o.actualName)||(r.GroupName=o.actualName.replace(/[^0-9a-zA-Z]+/g,""),r.ActualFieldName=n),r.TabIndex=o.tabIndex,r.Selected=e.selected,r.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height},r.Value=e.value,r.PageIndex=i,(0,t.isNullOrUndefined)(e.backColor)?r.IsTransparent=!0:r.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},r.BorderWidth=e.border.width,r.BorderStyle=e.border.style,r.BorderColor={R:o.borderColor[0],G:o.borderColor[1],B:o.borderColor[2]},r.Rotation=o.rotationAngle,r.IsRequired=o.required,r.IsReadonly=o.readOnly,r.Visible=o.visibility,r.RotationAngle=this.GetRotateAngle(e.page.rotation),o._dictionary.has("CustomData")&&(r.customData=JSON.parse(o._dictionary.get("CustomData"))),this.PdfRenderedFormFields.push(r)},e.prototype.checkTransparent=function(e){var t=!1;return 0===e.R&&0===e.G&&0===e.B&&(t=!0),t},e.prototype.GetRotateAngle=function(e){var t=0;switch(e){case 0:t=0;break;case 1:t=-90;break;case 2:t=-180;break;case 3:t=-270}return t},e.prototype.drawFieldFreeTextAnnotations=function(e,i,n,o,r,a){for(var s=JSON.parse(e),l=JSON.parse(o),d=i.page,h=0;h<this.formFieldLoadedDocument.pageCount&&d!==this.formFieldLoadedDocument.getPage(h);h++)0;if(!(0,t.isNullOrUndefined)(s)&&""!==s){var A=this.convertPixelToPoint(l.x),p=this.convertPixelToPoint(l.y),c=this.convertPixelToPoint(l.width),g=this.convertPixelToPoint(l.height),u=new yo(A,p,c,g);u.setAppearance(!0),u._dictionary.set("T",n);var f=a>0?a:g/2,m=Ei.helvetica;if(!(0,t.isNullOrUndefined)(r)){var w=r;w.includes("Times New Roman")?m=Ei.timesRoman:w.includes("Courier")?m=Ei.courier:w.includes("Symbol")?m=Ei.symbol:w.includes("ZapfDingbats")&&(m=Ei.zapfDingbats)}var y=this.getFontStyle();u.font=new nn(m,this.convertPixelToPoint(f),y),u.text=s,u.rotationAngle=this.getRotateAngle(d.rotation),u.flags=Le.print,u.setValues("AnnotationType","Signature"),u.setAppearance(!0),d.annotations.add(u)}},e.prototype.drawFieldImage=function(e,i,n,o){for(var r=JSON.parse(e),a=JSON.parse(o),s=i.page,l=0;l<this.formFieldLoadedDocument.pageCount&&s!==this.formFieldLoadedDocument.getPage(l);l++)0;if(!(0,t.isNullOrUndefined)(r)&&""!==r){var d=r.toString().split(",")[1],h=this.convertPixelToPoint(a.x),A=this.convertPixelToPoint(a.y),p=this.convertPixelToPoint(a.width),c=this.convertPixelToPoint(a.height),g=new mo(h,A,p,c),u=new Zs(d);g.appearance.normal.graphics.drawImage(u,0,0,p,c),g.rotationAngle=this.getRotateAngle(s.rotation),g._dictionary.set("T",n),g.flags=Le.print,g.setAppearance(!0),s.annotations.add(g)}},e.prototype.drawFieldPath=function(e,t,i,n){for(var o=JSON.parse(e),r=JSON.parse(n),a=t.page,s=0,l=0;l<this.formFieldLoadedDocument.pageCount&&a!==this.formFieldLoadedDocument.getPage(l);l++)s++;if(o.length>0){var d=this.GetRotateAngle(a.rotation),h=this.convertPixelToPoint(r.x),A=this.convertPixelToPoint(r.y),p=this.convertPixelToPoint(r.width),c=this.convertPixelToPoint(r.height);0!==d&&(h=this.convertPixelToPoint(t.bounds.x),A=this.convertPixelToPoint(t.bounds.y),p=this.convertPixelToPoint(t.bounds.width),c=this.convertPixelToPoint(t.bounds.height));for(var g=-1,u=-1,f=-1,m=-1,w=0;w<o.length;w++){var y=o[parseInt(w.toString(),10)];if(-1===g)g=y.x,u=y.y,f=y.x,m=y.y;else{var S=y.x,C=y.y;g>=S&&(g=S),u>=C&&(u=C),f<=S&&(f=S),m<=C&&(m=C)}}var B=(f-g)/p,I=(m-u)/c,b=[],v=0;if(0!==d){for(var E=0;E<o.length;E++){if("M"===(y=o[parseInt(E.toString(),10)]).command.toString()&&0!==E){v=E;break}b.push(parseFloat(y.x)),b.push(parseFloat(y.y))}b=[];for(var x=0;x<o.length;x++){y=o[parseInt(x.toString(),10)];b.push((parseFloat(y.x)-g)/B+h),b.push(this.formFieldLoadedDocument.getPage(s).size[1]-(parseFloat(y.y)-u)/I-A)}}else for(l=0;l<o.length;l++){if("M"===(y=o[parseInt(l.toString(),10)]).command.toString()&&0!==l){v=l;break}b.push((parseFloat(y.x)-g)/B+h);var _=(parseFloat(y.y)-u)/I;b.push(this.formFieldLoadedDocument.getPage(s).size[1]-_-A)}var D=new ao([h,A,p,c],b);D.flags=Le.print;var M={x:D.bounds.x,y:a.size[1]-(D.bounds.y+D.bounds.height),width:D.bounds.width,height:D.bounds.height};if(D.bounds=M,D.border.width=0,b=[],0!==d){for(var V=[],Q=v;Q<o.length;Q++){"M"===(y=o[parseInt(Q.toString(),10)]).command.toString()&&Q!==v&&(V.push(b),b=[]),b.push(parseFloat(y.x)),b.push(parseFloat(y.y))}b.length>0&&V.push(b);for(var F=0;F<V.length;F++){if(b=[],V[parseInt(F.toString(),10)].length>0){for(x=0;x<o.length;x++){y=o[parseInt(x.toString(),10)];b.push((parseFloat(y.x)-g)/B+h),b.push(this.formFieldLoadedDocument.getPage(s).size[1]-(parseFloat(y.y)-u)/I-A)}D.inkPointsCollection.push(b)}b=[]}}else{for(var T=0;T<o.length;T++){"M"===(y=o[parseInt(T.toString(),10)]).command.toString()&&0!==T&&(D.inkPointsCollection.push(b),b=[]),b.push((parseFloat(y.x)-g)/B+h);_=(parseFloat(y.y)-u)/I;b.push(this.formFieldLoadedDocument.getPage(s).size[1]-_-A)}b.length>0&&D.inkPointsCollection.push(b)}D._dictionary.set("T",i),D.setAppearance(!0),this.formFieldLoadedDocument.getPage(s).annotations.add(D)}},e.prototype.addSigntureFieldItems=function(e){if(e instanceof Gn){var i=e;if(i.itemsCount>0)for(var n=0;n<i.itemsCount;n++)if(!(0,t.isNullOrUndefined)(i.itemAt(n).page)){for(var o=i.itemAt(n).page,r=0,a=0;a<this.formFieldLoadedDocument.pageCount&&o!==this.formFieldLoadedDocument.getPage(r);a++)r++;this.addSignatureField(i,r,i.itemAt(n).bounds)}}},e.prototype.addSignatureField=function(e,i,n){var o=new Wh;o.Name="SignatureField",o.ToolTip=e.toolTip,o.FieldName=e.name,o.ActualFieldName=e.name,n.IsEmpty?o.LineBounds={X:e.bounds.x,Y:e.bounds.y,Width:e.bounds.width,Height:e.bounds.height}:o.LineBounds={X:n.x,Y:n.y,Width:n.width,Height:n.height},o.PageIndex=i,o.TabIndex=e.tabIndex,o.BorderWidth=e.border.width,o.BorderStyle=e.border.style,o.IsReadonly=e.readOnly,o.IsRequired=e.required,o.Visible=e.visibility,(0,t.isNullOrUndefined)(e.backColor)?o.IsReadonly&&(o.IsTransparent=!0):o.BackColor={R:e.backColor[0],G:e.backColor[1],B:e.backColor[2]},o.IsSignatureField=!0,o.Rotation=e.rotationAngle,o.RotationAngle=this.GetRotateAngle(e.page.rotation);var r=e._dictionary.get("InitialField");(0,t.isNullOrUndefined)(r)||(o.IsInitialField=r),e._dictionary.has("CustomData")&&(o.customData=JSON.parse(e._dictionary.get("CustomData"))),this.PdfRenderedFormFields.push(o)},e.prototype.retrieveInkAnnotation=function(e){for(var i=1,n=0;n<e.pageCount;n++)for(var o=e.getPage(n),r=o.annotations,a=parseInt(r.count.toString(),10),s=0;s<a;s++){var l=r.at(s);if(l instanceof ao){var d="",h=[],A=[];if((C=l)._dictionary.has("T")&&!C._dictionary.has("NM")){if(!(0,t.isNullOrUndefined)(C.inkPointsCollection))for(var p=0;p<C.inkPointsCollection.length;p++)for(var c=C.inkPointsCollection[parseInt(p.toString(),10)],g=0;g<c.length;g+=2){var u=void 0,f=void 0;o.rotation===Ge.angle90?(u=c[g+1],f=c[parseInt(g.toString(),10)]):o.rotation===Ge.angle180?(u=o.size[0]-c[g+1],f=c[g+1]):o.rotation===Ge.angle270?(u=o.size[0]-c[g+1],f=o.size[1]-c[parseInt(g.toString(),10)]):(u=c[parseInt(g.toString(),10)],f=o.size[1]-c[g+1]),d+=0===g?"M"+u+","+f+" ":"L"+u+","+f+" ",h.push(u),A.push(f)}var m=new Wh;C._dictionary.has("T")&&(m.FieldName=C._dictionary.get("T")),m.FieldName=m.FieldName+"_"+i,m.Name="ink";var w=o.rotation,y=!1;0!==l.rotationAngle&&(y=!0);var S={X:C.bounds.x,Y:C.bounds.y,Width:C.bounds.width,Height:C.bounds.height};m.LineBounds=this.getBounds(S,o.size[1],o.size[0],w,!y),m.Value=d,m.PageIndex=n,m.BorderColor=[C.color[0],C.color[1],C.color[2]],m.Rotation=l.rotationAngle,this.PdfRenderedFormFields.push(m),i++}}else if(l instanceof yo){var C;if((C=l)._dictionary.has("T")&&!C._dictionary.has("NM")&&!C._dictionary.has("M")){(m=new Wh).FieldName=C._dictionary.get("T")+"_"+i;S={X:C.bounds.x,Y:C.bounds.y,Width:C.bounds.width,Height:C.bounds.height};m.LineBounds=S,m.Name="SignatureText",m.FontFamily=this.getFontFamilyString(C.font._fontFamily),m.FontSize=this.convertPointtoPixel(C.font.size),m.Value=C.text,m.PageIndex=n,m.BorderColor=C.borderColor,this.PdfRenderedFormFields.push(m),i++}}else if(l instanceof mo){var B=l;if(B._dictionary.has("T")&&!B._dictionary.has("NM")&&!B._dictionary.has("M")){(m=new Wh).FieldName=B._dictionary.get("T")+"_"+i;var I=l._dictionary.get("AP"),b=new Rh(this.pdfViewer,this.pdfViewerBase);if(m.LineBounds={X:B.bounds.x,Y:B.bounds.y,Width:B.bounds.width,Height:B.bounds.height},m.Name="SignatureImage",m.PageIndex=n,i++,(0,t.isNullOrUndefined)(I)){var v=l._dictionary.get("AP");if(!(0,t.isNullOrUndefined)(v)&&!(0,t.isNullOrUndefined)(v.dictionary)&&v.dictionary.has("N")){var E=v.dictionary;(0,t.isNullOrUndefined)(E)||b.findStampImage(l)}}else if(I.has("N")){var x=l.createTemplate();0===x.size[0]||0===x.size[1]||(0,t.isNullOrUndefined)(x._appearance)?b.findStampImage(l):(m.PageIndex=n,b.findStampTemplate(l,m,m.Rotation,b.annotationOrder.length-1,!0,m.FieldName,this.PdfRenderedFormFields,m.PageIndex))}}}}},e.prototype.getFontFamilyString=function(e){switch(e){case Ei.helvetica:return"Helvetica";case Ei.timesRoman:return"TimesRoman";case Ei.courier:return"Courier";case Ei.symbol:return"Symbol";case Ei.zapfDingbats:return"ZapfDingbats";default:return"Helvetica"}},e}(),Wh=function(){this.ActualFieldName=null,this.FontColor={R:0,G:0,B:0},this.BackColor={R:0,G:0,B:0},this.BorderColor={R:0,G:0,B:0},this.CheckBoxGroupName=null,this.Alignment=0,this.BorderStyle=0,this.BorderWidth=0,this.CheckBoxGroupName=null,this.CheckBoxIndex=null,this.ComboBoxList=[],this.FieldName=null,this.Font=null,this.FontFamily=null,this.FontSize=0,this.FontStyle=0,this.GroupName=null,this.InsertSpaces=!1,this.IsAutoSize=!1,this.IsInitialField=!1,this.IsReadonly=!1,this.IsRequired=!1,this.IsSignatureField=!1,this.IsTransparent=!1,this.MaxLength=0,this.MultiSelect=!1,this.Multiline=!1,this.Name=null,this.PageIndex=0,this.Rotation=0,this.RotationAngle=0,this.Selected=!1,this.SelectedList=[],this.SelectedValue=null,this.TabIndex=0,this.Text=null,this.TextList=[],this.ToolTip=null,this.Value=null,this.Visible=0,this.customData=null},Xh=function(){function e(e,t){this.formats=["M/d/yyyy h:mm:ss tt","M/d/yyyy, h:mm:ss tt","M/d/yyyy h:mm tt","MM/dd/yyyy hh:mm:ss","M/d/yyyy h:mm:ss","M/d/yyyy hh:mm tt","M/d/yyyy hh tt","M/d/yyyy h:mm","M/d/yyyy h:mm","MM/dd/yyyy hh:mm","M/dd/yyyy hh:mm","dd/M/yyyy h:mm:ss tt","dd/M/yyyy, h:mm:ss tt","M/d/yy, h:mm:ss tt","yyyy/MM/dd, h:mm:ss tt","dd/MMM/yy, h:mm:ss tt","yyyy-MM-dd, h:mm:ss tt","dd-MMM-yy, h:mm:ss tt","MM-dd-yy, h:mm:ss tt","YYYY-MM-DDTHH:mm:ss.sssZ","YYYYYY-MM-DDTHH:mm:ss.sssZ","yyyy-MM-ddTHH:mm:ss.fffZ"],this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.addShape=function(e,n){var o=e;this.checkAnnotationLock(o);if((0,t.isNullOrUndefined)(o.shapeAnnotationType)||"Line"!==o.shapeAnnotationType)if((0,t.isNullOrUndefined)(o.shapeAnnotationType)||"Square"!==o.shapeAnnotationType)if((0,t.isNullOrUndefined)(o.shapeAnnotationType)||"Circle"!==o.shapeAnnotationType)if((0,t.isNullOrUndefined)(o.shapeAnnotationType)||"Polygon"!==o.shapeAnnotationType){if(!(0,t.isNullOrUndefined)(o.shapeAnnotationType)&&"Polyline"===o.shapeAnnotationType){s=JSON.parse(o.vertexPoints),l=this.getSaveVertexPoints(s,n),A=JSON.parse(o.bounds);var r=new oo(l);if(r.bounds=new i.Rect(this.convertPixelToPoint(A.left?A.left:0),this.convertPixelToPoint(A.top?A.top:0),this.convertPixelToPoint(A.width?A.width:0),this.convertPixelToPoint(A.height?A.height:0)),(0,t.isNullOrUndefined)(o.note)||(r.text=o.note.toString()),r.author=(0,t.isNullOrUndefined)(o.author)||""===o.author.toString()?"Guest":o.author.toString(),(0,t.isNullOrUndefined)(o.subject)||(r.subject=o.subject.toString()),r._dictionary.set("NM",o.annotName.toString()),!(0,t.isNullOrUndefined)(o.strokeColor)){m=[(F=JSON.parse(o.strokeColor)).r,F.g,F.b];r.color=m}if(!(0,t.isNullOrUndefined)(o.fillColor)){w=JSON.parse(o.fillColor);if(!this.isTransparentColor(w)){y=[w.r,w.g,w.b];r.innerColor=y}w.a<1&&w.a>0?(r._dictionary.update("FillOpacity",w.a),w.a=1):r._dictionary.update("FillOpacity",w.a)}(0,t.isNullOrUndefined)(o.opacity)||(r.opacity=o.opacity),(V=new Do).width=o.thickness,V.style=o.borderStyle,V.dash=o.borderDashArray,r.border=V,r.rotationAngle=this.getRotateAngle(o.rotateAngle),r.beginLineStyle=this.getLineEndingStyle(o.lineHeadStart),r.endLineStyle=this.getLineEndingStyle(o.lineHeadEnd);S=void 0;if((0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(S=new Date(Date.parse(o.modifiedDate)),r.modifiedDate=S),(T=o.comments).length>0)for(C=0;C<T.length;C++)r.comments.add(this.addCommentsCollection(T[parseInt(C.toString(),10)],r.bounds));B=o.review;if(r.reviewHistory.add(this.addReviewCollections(B,r.bounds)),!(0,t.isNullOrUndefined)(o.isCloudShape)&&o.isCloudShape){var a=new Va(n._crossReference);if(a.update("S",va.get("C")),a.update("I",o.cloudIntensity),r._dictionary.update("BE",a),(M=JSON.parse(o.rectangleDifference)).length>0){I=this.getRDValues(M);r._dictionary.update("RD",I)}}this.preserveIsLockProperty(o,r),r.setAppearance(!0),(0,t.isNullOrUndefined)(o.customData)||r.setValues("CustomData",JSON.stringify(o.customData)),(0,t.isNullOrUndefined)(o.allowedInteractions)||r.setValues("AllowedInteractions",JSON.stringify(o.allowedInteractions)),n.annotations.add(r)}}else{var s=JSON.parse(o.vertexPoints),l=this.getSaveVertexPoints(s,n);A=JSON.parse(o.bounds);(0,t.isNullOrUndefined)(A.left)&&(o.bounds.left=0),(0,t.isNullOrUndefined)(A.top)&&(o.bounds.top=0);p=this.convertPixelToPoint(A.left);var d=this.convertPixelToPoint(A.top),h=(g=this.convertPixelToPoint(A.width),u=this.convertPixelToPoint(A.height),new no(l));if(h.bounds=new i.Rect(p,d,g,u),(0,t.isNullOrUndefined)(o.note)||(h.text=o.note.toString()),h.author=(0,t.isNullOrUndefined)(o.author)||""===o.author.toString()?"Guest":o.author.toString(),(0,t.isNullOrUndefined)(o.subject)||(h.subject=o.subject.toString()),h._dictionary.set("NM",o.annotName.toString()),!(0,t.isNullOrUndefined)(o.strokeColor)){m=[(F=JSON.parse(o.strokeColor)).r,F.g,F.b];h.color=m}if(!(0,t.isNullOrUndefined)(o.fillColor)){w=JSON.parse(o.fillColor);if(!this.isTransparentColor(w)){y=[w.r,w.g,w.b];h.innerColor=y}w.a<1&&w.a>0?(h._dictionary.update("FillOpacity",w.a),w.a=1):h._dictionary.update("FillOpacity",w.a)}(0,t.isNullOrUndefined)(o.opacity)||(h.opacity=o.opacity),(V=new Do).width=o.thickness,V.style=o.borderStyle,V.dash=o.borderDashArray,h.border=V,h.rotationAngle=this.getRotateAngle(o.rotateAngle);S=void 0;if((0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(S=new Date(Date.parse(o.modifiedDate)),h.modifiedDate=S),(T=o.comments).length>0)for(C=0;C<T.length;C++)h.comments.add(this.addCommentsCollection(T[parseInt(C.toString(),10)],h.bounds));B=o.review;if(h.reviewHistory.add(this.addReviewCollections(B,h.bounds)),!(0,t.isNullOrUndefined)(o.isCloudShape)&&o.isCloudShape)if((D=new Mo).style=je.cloudy,D.intensity=o.cloudIntensity,h.borderEffect=D,(M=JSON.parse(o.rectangleDifference)).length>0){I=this.getRDValues(M);h._dictionary.update("RD",I)}this.preserveIsLockProperty(o,h),(0,t.isNullOrUndefined)(o.customData)||h.setValues("CustomData",JSON.stringify(o.customData)),(0,t.isNullOrUndefined)(o.allowedInteractions)||h.setValues("AllowedInteractions",JSON.stringify(o.allowedInteractions)),h.setAppearance(!0),n.annotations.add(h)}else{var A=JSON.parse(o.bounds),p=this.convertPixelToPoint(A.left),c=this.convertPixelToPoint(A.top),g=this.convertPixelToPoint(A.width),u=this.convertPixelToPoint(A.height);(0,t.isNullOrUndefined)(A.left)&&(o.bounds.left=0),(0,t.isNullOrUndefined)(A.top)&&(o.bounds.top=0);E=0,x=0;(0!==(b=this.getCropBoxValue(n,!1)).x&&0!==b.y&&b.x===p||0===b.x&&n.cropBox[2]===n.size[0]&&b.y===n.size[1])&&(E=b.x,x=b.y);var f=new $n(E+p,x+c,g,u);if((0,t.isNullOrUndefined)(o.note)||(f.text=o.note.toString()),f.author=(0,t.isNullOrUndefined)(o.author)||""===o.author.toString()?"Guest":o.author.toString(),f._dictionary.set("NM",o.annotName.toString()),(0,t.isNullOrUndefined)(o.subject)||(f.subject=o.subject.toString()),!(0,t.isNullOrUndefined)(o.strokeColor)){var m=[(F=JSON.parse(o.strokeColor)).r,F.g,F.b];f.color=m}if(!(0,t.isNullOrUndefined)(o.fillColor)){var w=JSON.parse(o.fillColor);if(!this.isTransparentColor(w)){var y=[w.r,w.g,w.b];f.innerColor=y}w.a<1&&w.a>0?(f._dictionary.update("FillOpacity",w.a),w.a=1):f._dictionary.update("FillOpacity",w.a)}(0,t.isNullOrUndefined)(o.opacity)||(f.opacity=o.opacity),(V=new Do).width=o.thickness,V.style=o.borderStyle,V.dash=o.borderDashArray,f.border=V,f.rotationAngle=this.getRotateAngle(o.rotateAngle);var S=void 0;if((0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(S=new Date(Date.parse(o.modifiedDate)),f.modifiedDate=S),(T=o.comments).length>0)for(var C=0;C<T.length;C++)f.comments.add(this.addCommentsCollection(T[parseInt(C.toString(),10)],f.bounds));var B=o.review;if(f.reviewHistory.add(this.addReviewCollections(B,f.bounds)),!(0,t.isNullOrUndefined)(o.isCloudShape)&&o.isCloudShape)if((D=new Mo).style=je.cloudy,D.intensity=o.cloudIntensity,f._borderEffect=D,(M=JSON.parse(o.rectangleDifference)).length>0){var I=this.getRDValues(M);f._dictionary.update("RD",I)}this.preserveIsLockProperty(o,f),(0,t.isNullOrUndefined)(o.customData)||f.setValues("CustomData",JSON.stringify(o.customData)),o.allowedInteractions&&null!=o.allowedInteractions&&f.setValues("AllowedInteractions",JSON.stringify(o.allowedInteractions)),f.setAppearance(!0),n.annotations.add(f)}else{var A=JSON.parse(o.bounds);(0,t.isNullOrUndefined)(A.left)&&(o.bounds.left=0),(0,t.isNullOrUndefined)(A.top)&&(o.bounds.top=0);var b=this.getCropBoxValue(n,!1),p=this.convertPixelToPoint(A.left),v=this.convertPixelToPoint(A.top),g=this.convertPixelToPoint(A.width),u=this.convertPixelToPoint(A.height),E=0,x=0;(0!==b.x&&0!==b.y&&b.x===p||0===b.x&&n.cropBox[2]===n.size[0]&&b.y===n.size[1])&&(E=b.x,x=b.y);var _=new to(E+p,x+v,g,u);if((0,t.isNullOrUndefined)(o.note)||(_.text=o.note.toString()),_.author=(0,t.isNullOrUndefined)(o.author)||""===o.author.toString()?"Guest":o.author.toString(),_._dictionary.set("NM",o.annotName.toString()),(0,t.isNullOrUndefined)(o.subject)||(_.subject=o.subject.toString()),!(0,t.isNullOrUndefined)(o.strokeColor)){var m=[(F=JSON.parse(o.strokeColor)).r,F.g,F.b];_.color=m}if(!(0,t.isNullOrUndefined)(o.fillColor)){var w=JSON.parse(o.fillColor);if(!this.isTransparentColor(w)){var y=[w.r,w.g,w.b];_.innerColor=y}w.a<1&&w.a>0?(_._dictionary.update("FillOpacity",w.a),w.a=1):_._dictionary.update("FillOpacity",w.a)}(0,t.isNullOrUndefined)(o.opacity)||(_.opacity=o.opacity),(V=new Do).width=o.thickness,V.style=o.borderStyle,V.dash=o.borderDashArray,_.border=V,_.rotationAngle=this.getRotateAngle(o.rotateAngle);var S=void 0;if((0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(S=new Date(Date.parse(o.modifiedDate)),_.modifiedDate=S),(T=o.comments).length>0)for(var C=0;C<T.length;C++)_.comments.add(this.addCommentsCollection(T[parseInt(C.toString(),10)],_.bounds));var D,M,B=o.review;if(_.reviewHistory.add(this.addReviewCollections(B,_.bounds)),!(0,t.isNullOrUndefined)(o.isCloudShape)&&o.isCloudShape)if((D=new Mo).style=je.cloudy,D.intensity=o.cloudIntensity,_.borderEffect=D,(M=JSON.parse(o.rectangleDifference)).length>0){var I=this.getRDValues(M);_._dictionary.update("RD",I)}this.preserveIsLockProperty(o,_),(0,t.isNullOrUndefined)(o.customData)||_.setValues("CustomData",JSON.stringify(o.customData)),o.allowedInteractions&&null!=o.allowedInteractions&&_.setValues("AllowedInteractions",JSON.stringify(o.allowedInteractions)),_.setAppearance(!0),n.annotations.add(_)}else{var V,s=JSON.parse(o.vertexPoints),l=this.getSaveVertexPoints(s,n),Q=new qn(l);if((0,t.isNullOrUndefined)(o.note)||(Q.text=o.note.toString()),Q.author=(0,t.isNullOrUndefined)(o.author)||""===o.author.toString()?"Guest":o.author.toString(),Q._dictionary.set("NM",o.annotName.toString()),(0,t.isNullOrUndefined)(o.subject)||(Q.subject=o.subject.toString()),!(0,t.isNullOrUndefined)(o.strokeColor)){var F,m=[(F=JSON.parse(o.strokeColor)).r,F.g,F.b];Q.color=m}if(!(0,t.isNullOrUndefined)(o.fillColor)){var w=JSON.parse(o.fillColor);if(!(0,t.isNullOrUndefined)(w.r)&&!(0,t.isNullOrUndefined)(w.g)&&!(0,t.isNullOrUndefined)(w.b)&&!(0,t.isNullOrUndefined)(w.a)&&w.a>0){var y=[w.r,w.g,w.b];Q.innerColor=y}}(0,t.isNullOrUndefined)(o.opacity)||(Q.opacity=o.opacity),(V=new Do).width=o.thickness,V.style=o.borderStyle,V.dash=o.borderDashArray,Q.border=V,Q.rotationAngle=this.getRotateAngle(o.rotateAngle),Q.lineEndingStyle.begin=this.getLineEndingStyle(o.lineHeadStart),Q.lineEndingStyle.end=this.getLineEndingStyle(o.lineHeadEnd);var S=void 0;(0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(S=new Date(Date.parse(o.modifiedDate)),Q.modifiedDate=S);var T=o.comments,A=JSON.parse(o.bounds);if(Q.bounds=A,Q.bounds.x=A.left,Q.bounds.y=A.top,T.length>0)for(var C=0;C<T.length;C++)Q.comments.add(this.addCommentsCollection(T[parseInt(C.toString(),10)],Q.bounds));var B=o.review;Q.reviewHistory.add(this.addReviewCollections(B,Q.bounds)),this.preserveIsLockProperty(o,Q),(0,t.isNullOrUndefined)(o.customData)||Q.setValues("CustomData",JSON.stringify(o.customData)),o.allowedInteractions&&null!=o.allowedInteractions&&Q.setValues("AllowedInteractions",JSON.stringify(o.allowedInteractions)),Q.setAppearance(!0),n.annotations.add(Q)}if(!(0,t.isNullOrUndefined)(o.enableShapeLabel)&&o.enableShapeLabel){var k=JSON.parse(o.labelBounds.toString()),P=(p=this.convertPixelToPoint(k.left),this.convertPixelToPoint(k.top));"Line"===o.shapeAnnotationType&&(P-=5);var N=this.convertPixelToPoint(k.width),R=this.convertPixelToPoint(k.height),L=new yo(P,p,N,R);L.author=o.author;S=void 0;(0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(S=new Date(Date.parse(o.modifiedDate)),L.modifiedDate=S),L._dictionary.set("NM",o.annotName.toString()+"freeText"),L.lineEndingStyle=Oe.openArrow,L.annotationIntent=at.freeTextTypeWriter;var O=0;(0,t.isNullOrUndefined)(o.fontSize)||(O=parseFloat(o.fontSize)),O=!(0,t.isNullOrUndefined)(O)&&!isNaN(O)&&O>0?O:16;var U=this.getFontFamily(o.fontFamily),z=this.getFontStyle({});if(L.font=new nn(U,this.convertPixelToPoint(O),z),L.subject="Text Box",L.text="",(0,t.isNullOrUndefined)(o.labelContent)||null!==o.labelContent.toString()&&(L.text=o.labelContent.toString()),L.rotationAngle=this.getRotateAngle(o.rotateAngle),L.border=new Do,Object.prototype.hasOwnProperty.call(o,"thickness")&&!(0,t.isNullOrUndefined)(o.thickness)){var H=parseInt(o.thickness.toString(),10);L.border.width=H}L.opacity=1,Object.prototype.hasOwnProperty.call(o,"opacity")&&((0,t.isNullOrUndefined)(o.opacity)||(L.opacity=parseFloat(o.opacity)));var Y=[(m=JSON.parse(o.labelBorderColor)).r,m.g,m.b];L.borderColor=Y;var j=[(w=JSON.parse(o.labelFillColor)).r,w.g,w.b];L.color=j;var G=JSON.parse(o.fontColor),J=[G.r,G.g,G.b];if(L.textMarkUpColor=J,(T=L.comments).length>0)for(C=0;C<T.length;C++)L.comments.add(this.addCommentsCollection(T[parseInt(C.toString(),10)],L.bounds));(0,t.isNullOrUndefined)(o.customData)||L.setValues("CustomData",o.customData),n.annotations.add(L)}},e.prototype.saveInkSignature=function(e,n){var o=e,r=JSON.parse(o.bounds),a=JSON.parse(o.data.toString()),s=this.getInkRotateAngle(n.rotation.toString()),l=this.convertPixelToPoint(r.x),d=this.convertPixelToPoint(r.y),h=this.convertPixelToPoint(r.width),A=this.convertPixelToPoint(r.height),p=o.opacity,c=parseInt(o.thickness.toString(),10);if(!(0,t.isNullOrUndefined)(o.strokeColor)){var g=JSON.parse(o.strokeColor),u=[g.r,g.g,g.b];o.color=u}for(var f=-1,m=-1,w=-1,y=-1,S=new An,C=0;C<a.length;C++){var B=a[parseInt(C.toString(),10)];S.addLine(B.x,B.y,0,0)}for(var I=this.getRotatedPathForMinMax(S._points,s),b=0;b<I.points.length;b+=2){var v=I.points[parseInt(b.toString(),10)];if(-1===f)f=v[0],m=v[1],w=v[0],y=v[1];else{var E=v[0],x=v[1];f>=E&&(f=E),m>=x&&(m=x),w<=E&&(w=E),y<=x&&(y=x)}}var _=(w-f)/h,D=(y-m)/A;0===_?_=1:0===D&&(D=1);var M=[],V=0;if(0!==s){for(var Q=0;Q<a.length;Q++){if("M"===(B=a[parseInt(Q.toString(),10)]).command.toString()&&Q!==V){V=Q;break}M.push(parseFloat(B.x.toString())),M.push(parseFloat(B.y.toString()))}var F=this.getRotatedPath(M,s);M=[];for(var T=0;T<F._points.length;T+=2)M.push((F._points[parseInt(T.toString(),10)][0]-f)/_+l),M.push(n.size[1]-(F._points[parseInt(T.toString(),10)][1]-m)/D-d)}else for(Q=0;Q<a.length;Q++){if("M"===(B=a[parseInt(Q.toString(),10)]).command.toString()&&Q!==V){V=Q;break}M.push((B.x-f)/_+l);var k=(B.y-m)/D;M.push(n.size[1]-k-d)}var P=[o.color[0],o.color[1],o.color[2]],N=new ao([l,d,h,A],M),R=new i.Rect;if(R=new i.Rect(N.bounds.x,n.size[1]-(N.bounds.y+N.bounds.height),N.bounds.width,N.bounds.height),N.bounds=R,N.color=P,M=[],V>0)if(0!==s){for(var L=[],O=V;O<a.length;O++){"M"===(B=a[parseInt(O.toString(),10)]).command.toString()&&O!==V&&(L.push(M),M=[]),M.push(B.x),M.push(B.y)}M.length>0&&L.push(M);for(var U=0;U<L.length;U++){var z=[],H=L[parseInt(U.toString(),10)];if(H.length>0){for(F=this.getRotatedPath(H,s),T=0;T<F._points.length;T+=2)z.push((F._points[parseInt(T.toString(),10)][0]-f)/_+l),z.push(n.size[1]-(F._points[parseInt(T.toString(),10)][1]-m)/D-d);N.inkPointsCollection.push(z)}z=[]}}else{for(O=V;O<a.length;O++){"M"===(B=a[parseInt(O.toString(),10)]).command.toString()&&O!==V&&(N.inkPointsCollection.push(M),M=[]),M.push((B.x-f)/_+l);k=(B.y-m)/D;M.push(n.size[1]-k-d)}M.length>0&&N.inkPointsCollection.push(M)}var Y;this.checkAnnotationLock(o);(0,t.isNullOrUndefined)(o.author)||(0,t.isNullOrUndefined)(o.author)&&""===o.author?o.author="Guest":N.author=(0,t.isNullOrUndefined)(o.author)?"Guest":""!==o.author.toString()?o.author.toString():"Guest",(0,t.isNullOrUndefined)(o.subject)||""===o.subject||(N.subject=o.subject.toString()),(0,t.isNullOrUndefined)(o.note)?(0,t.isNullOrUndefined)(o.notes)||(N.text=o.notes.toString()):N.text=o.note.toString(),(0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(Y=new Date(Date.parse(o.modifiedDate)),N.modifiedDate=Y);var j=o.review;N.reviewHistory.add(this.addReviewCollections(j,N.bounds));var G=o.comments;if(G.length>0)for(O=0;O<G.length;O++)N.comments.add(this.addCommentsCollection(G[parseInt(O.toString(),10)],N.bounds));return this.preserveIsLockProperty(o,N),N.border.width=c,N.opacity=p,N._isEnableControlPoints=!1,N._dictionary.set("NM",o.annotName.toString()),N.rotationAngle=this.getRotateAngle(o.rotationAngle),(0,t.isNullOrUndefined)(o.customData)||N.setValues("CustomData",JSON.stringify(o.customData)),N.setAppearance(!0),n.annotations.add(N),o},e.prototype.getRotatedPath=function(e,t){for(var i=this.getRotatedPoints(e,t),n=new An,o=0;o<i.points.length;o+=2)n.addLine(i.points[parseInt(o.toString(),10)][0],i.points[parseInt(o.toString(),10)][1],i.points[parseInt((o+1).toString(),10)][0],i.points[o+1][1]);return n},e.prototype.getRotationMatrix=function(e){var t=e*(Math.PI/180),i=Math.cos(t),n=Math.sin(t);return[[i,-n,0],[n,i,0],[0,0,1]]},e.prototype.getRotatedPoints=function(e,t){for(var i=new pA,n=0;n<e.length;n+=2)i.moveTo(e[parseInt(n.toString(),10)],e[parseInt((n+1).toString(),10)]),i.lineTo(0,0);var o=this.getRotationMatrix(t);return i.transform(o),i},e.prototype.getRotatedPathForMinMax=function(e,t){for(var i=new pA,n=0;n<e.length;n+=2)i.moveTo(e[parseInt(n.toString(),10)][0],e[parseInt(n.toString(),10)][1]),i.lineTo(e[parseInt((n+1).toString(),10)][0],e[parseInt((n+1).toString(),10)][1]);var o=this.getRotationMatrix(t);return i.transform(o),i},e.prototype.addTextMarkup=function(e,n){var o=e,r=parseInt(o.pageNumber.toString(),10),a=n.getPage(r),s=new uo;switch(o.textMarkupAnnotationType.toString()){case"Highlight":s.textMarkupType=tt.highlight;break;case"Strikethrough":s.textMarkupType=tt.strikeOut;break;case"Underline":s.textMarkupType=tt.underline;break;case"Squiggly":s.textMarkupType=tt.squiggly}for(var l=JSON.parse(o.bounds),d=[],h=function(e){var n=l[parseInt(e.toString(),10)],o=A.getCropBoxValue(a,!0);(0,t.isNullOrUndefined)(n.left)||d.push(new i.Rect(o.x+A.convertPixelToPoint(n.left),o.y+A.convertPixelToPoint(n.top),Object.prototype.hasOwnProperty.call(n,"width")?A.convertPixelToPoint(n.width):0,Object.prototype.hasOwnProperty.call(n,"height")?A.convertPixelToPoint(n.height):0));for(var r=new Map,s=0,h=d;s<h.length;s++){var p=h[s];r.has(p.y)||r.set(p.y,[]),r.get(p.y)&&r.get(p.y).push(p)}var c=[];r.forEach((function(e,t){if(e.length>0){var n=Math.min.apply(Math,e.map((function(e){return e.x}))),o=e.map((function(e){return e.width})).reduce((function(e,t){return e+t}),0),r=e[0].height;c.push(new i.Rect(n,t,o,r))}})),d=c},A=this,p=0;p<l.length;p++)h(p);var c=new uo(null,0,0,0,0);d.length>0&&(c.bounds={x:d[0].x,y:d[0].y,width:d[0].width,height:d[0].height}),c.textMarkupType=s.textMarkupType;var g;this.checkAnnotationLock(o);if((0,t.isNullOrUndefined)(o.author)||(0,t.isNullOrUndefined)(o.author)&&""===o.author?o.author="Guest":c.author=(0,t.isNullOrUndefined)(o.author)?"Guest":""!==o.author.toString()?o.author.toString():"Guest",(0,t.isNullOrUndefined)(o.subject)||""===o.subject||(c.subject=o.subject.toString()),(0,t.isNullOrUndefined)(o.note)||(c.text=o.note.toString()),(0,t.isNullOrUndefined)(o.annotationRotation)||(c.rotateAngle=this.getRotateAngle(o.annotationRotation)),(0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(g=new Date(Date.parse(o.modifiedDate)),c.modifiedDate=g),c._dictionary.set("NM",o.annotName.toString()),!(0,t.isNullOrUndefined)(o.color)){var u=[(b=JSON.parse(o.color)).r,b.g,b.b];c.color=u}if((0,t.isNullOrUndefined)(o.opacity)||(c.opacity=o.opacity),d.length>0){var f=[];for(p=0;p<d.length;p++){var m=d[parseInt(p.toString(),10)],w=m.x,y=m.y,S=m.width,C=m.height;0!==w&&0!==y&&0!==S&&0!==C&&f.push([w,y,S,C])}c.boundsCollection=f}var B=o.comments;if(B.length>0)for(p=0;p<B.length;p++)c.comments.add(this.addCommentsCollection(B[parseInt(p.toString(),10)],c.bounds));var I=o.review;if(c.reviewHistory.add(this.addReviewCollections(I,c.bounds)),!(0,t.isNullOrUndefined)(o.color)){var b;u=[(b=JSON.parse(o.color)).r,b.g,b.b];c.textMarkUpColor=u}this.preserveIsLockProperty(o,c),(0,t.isNullOrUndefined)(o.customData)||c.setValues("CustomData",JSON.stringify(o.customData)),(0,t.isNullOrUndefined)(o.allowedInteractions)||c.setValues("AllowedInteractions",JSON.stringify(o.allowedInteractions)),(0,t.isNullOrUndefined)(o.textMarkupContent)||c._dictionary.set("TextMarkupContent",o.textMarkupContent.toString()),c.setAppearance(!0),a.annotations.add(c)},e.prototype.getCropBoxValue=function(e,t){var i=0,n=0;return null!=e&&(i=t?0:e.cropBox[0],n=t?0:e.cropBox[1]),{x:i,y:n}},e.prototype.getBothCropBoxValue=function(e){return[e.cropBox[0],e.cropBox[1]]},e.prototype.preserveIsLockProperty=function(e,i){var n=this.checkAnnotationLock(e),o=!1,r=!1;e.isCommentLock&&null!==e.isCommentLock&&(r=Boolean(e.isCommentLock.toString())),e.isPrint&&null!==e.isPrint&&(o=Boolean(e.isPrint.toString())),(!(0,t.isNullOrUndefined)(e.isLocked)&&e.isLocked||n)&&(n=!0),i.flags=n&&r&&o?Le.locked|Le.print|Le.readOnly:n&&r?Le.locked|Le.readOnly:n&&o?Le.locked|Le.print:r&&o?Le.print|Le.readOnly:n?Le.locked:r?Le.readOnly:Le.print},e.prototype.addCustomStampAnnotation=function(e,n){var o=e,r=JSON.parse(o.bounds),a=parseInt(o.pageNumber.toString(),10),s=this.getCropBoxValue(n,!1),l=0,d=0,h=(n.graphics,!(0,t.isNullOrUndefined)(o.template)&&""!==o.template);if(Object.prototype.hasOwnProperty.call(o,"wrapperBounds")&&!h){var A=o.wrapperBounds,p=this.calculateBoundsXY(A,r,a,n);l=p.x,d=p.y}else l=this.convertPixelToPoint(r.left),d=this.convertPixelToPoint(r.top);var c=0,g=0;(0!==s.x&&0!==s.y&&s.x===l||0===s.x&&n.cropBox[2]===n.size[0]&&s.y===n.size[1])&&(c=s.x,g=s.y),l+=c,d+=g;var u=this.convertPixelToPoint(r.width),f=this.convertPixelToPoint(r.height);(0,t.isNullOrUndefined)(o.stampAnnotationType)||"image"!==o.stampAnnotationType||" "===o.stampAnnotationPath||h||n.rotation!==Ge.angle90&&n.rotation!==Ge.angle270||(u=this.convertPixelToPoint(r.height),f=this.convertPixelToPoint(r.width));var m=o.opacity,w=o.rotateAngle;if(Object.prototype.hasOwnProperty.call(o,"annotationSettings")&&!(0,t.isNullOrUndefined)(o.annotationSettings)){var y=o.annotationSettings;(0,t.isNullOrUndefined)(y.isLock)||y.isLock}if(!(0,t.isNullOrUndefined)(o.stampAnnotationType)&&"image"===o.stampAnnotationType&&" "!==o.stampAnnotationPath||h){var S=new mo(l,d,u,f);if(n.annotations.add(S),h){var C=S.appearance.normal,B=new Va(n._crossReference),I=C.graphics.save();C.graphics.setTransparency(m);var b=new Fn(o.template,B._crossReference);b._isExported=!0,b._appearance=o.template,b._crossReference=B._crossReference,b._size=[o.templateSize[0],o.templateSize[1]];var v={x:0,y:0,width:u,height:f};C.graphics.drawTemplate(b,v),C.graphics.restore(I)}else{var E=br(o.stampAnnotationPath.toString().split(",")[1],!1),x=void 0;if(E&&E.length>2&&(255===E[0]&&216===E[1]||137===E[0]&&80===E[1]&&78===E[2]&&71===E[3]&&13===E[4]&&10===E[5]&&26===E[6]&&10===E[7])){x=new Zs(E);I=(C=S.appearance.normal).graphics.save();C.graphics.setTransparency(m),C.graphics.drawImage(x,0,0,u,f),C.graphics.restore(I)}else{C=S.appearance;var _=(B=this.pdfViewerBase.pngData.filter((function(e){return e.name===o.annotName}))[0]._dictionary.get("AP")).get("N");C.normal=new Fn(_,n._crossReference)}S.rotationAngle=this.getRubberStampRotateAngle(n.rotation,w)}S.opacity=m,(0,t.isNullOrUndefined)(o.note)||(S.text=o.note.toString()),S._dictionary.set("NM",o.annotName.toString());var D=void 0;if((0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(D=new Date(Date.parse(o.modifiedDate)),S.modifiedDate=D),(z=o.comments).length>0)for(var M=0;M<z.length;M++)S.comments.add(this.addCommentsCollection(z[parseInt(M.toString(),10)],S.bounds));var V=o.review;S.reviewHistory.add(this.addReviewCollections(V,S.bounds)),!(0,t.isNullOrUndefined)(o.author)&&o.author&&(S.author=o.author.toString()),!(0,t.isNullOrUndefined)(o.subject)&&o.subject&&(S.subject=o.subject.toString()),this.preserveIsLockProperty(o,S),(0,t.isNullOrUndefined)(o.customData)||S.setValues("CustomData",JSON.stringify(o.customData)),(0,t.isNullOrUndefined)(o.icon)||S.setValues("iconName",o.icon)}else{var Q=o.icon.toString(),F=o.stampFillcolor.toString(),T=(0,t.isNullOrUndefined)(o.fillColor)?"#192760":o.fillColor.toString(),k=o.isDynamicStamp.toString(),P=new Sn([0,0,0]),N=[];"#192760"===T?N=[25,39,96]:"#516c30"===T?N=[81,108,48]:"#8a251a"===T&&(N=[138,37,26]),new Sn(N);var R=new Sn([0,0,0]),L=[];"#e6eddf"===F?L=[230,237,223]:"#f6dedd"===F?L=[246,222,221]:"#dce3ef"===F&&(L=[220,227,239]),P=new Sn(N),R=new Sn(L);var O=new Cn(N,1),U=new i.Rect(l,d,u,f);n.rotation!==Ge.angle90&&n.rotation!==Ge.angle270||(U=new i.Rect(l,d,f,u)),(S=new mo).bounds=U,!(0,t.isNullOrUndefined)(o.subject)&&o.subject&&(S.subject=o.subject.toString()),(0,t.isNullOrUndefined)(o.note)||(S.text=o.note.toString()),S._dictionary.set("NM",o.annotName.toString());var z;D=void 0;if((0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(D=new Date(Date.parse(o.modifiedDate)),S.modifiedDate=D),(z=o.comments).length>0)for(M=0;M<z.length;M++)S.comments.add(this.addCommentsCollection(z[parseInt(M.toString(),10)],S.bounds));V=o.review;S.reviewHistory.add(this.addReviewCollections(V,S.bounds));var H=!1;"true"!==k&&(H=this.getIconName(o,Q,S));var Y,j=void 0;if("Accepted"===Q.trim()||"Rejected"===Q.trim()?j=this.drawStampAsPath(o.stampAnnotationPath,S,P,R):H&&(n.rotation!==Ge.angle90&&n.rotation!==Ge.angle270||(S.bounds=U),S.rotationAngle=this.getRubberStampRotateAngle(n.rotation,o.rotateAngle)),!(0,t.isNullOrUndefined)(o.modifiedDate)&&!isNaN(Date.parse(o.modifiedDate)))(0,t.isNullOrUndefined)(o.modifiedDate)||isNaN(Date.parse(o.modifiedDate))||(Y=new Date(Date.parse(o.modifiedDate)),S.modifiedDate=Y);if(S.opacity=m,S.author=(0,t.isNullOrUndefined)(o.author)||""===o.author.toString()?"Guest":o.author.toString(),this.preserveIsLockProperty(o,S),(0,t.isNullOrUndefined)(o.customData)||S.setValues("CustomData",JSON.stringify(o.customData)),(0,t.isNullOrUndefined)(o.rotateAngle)||S.setValues("rotateAngle",o.rotateAngle.toString()),(0,t.isNullOrUndefined)(o.icon)||S.setValues("iconName",o.icon.toString()),n.annotations.add(S),!H){if((C=S.appearance.normal).graphics.drawRoundedRectangle(0,0,U.width,U.height,10,O,R),"true"===k){var G=o.dynamicText.toString();I=C.graphics.save();C.graphics.setTransparency(m),this.renderDynamicStamp(S,Q,G,P,U,O,n),C.graphics.restore(I),S._dictionary.set("Name",va.get("#23D"+Q.split(" ").join("")))}else{this.retriveDefaultWidth(Q.trim());I=C.graphics.save();C.graphics.setTransparency(m),this.renderSignHereStamp(S,U,Q,P,n,O,j),C.graphics.restore(I)}S.rotationAngle=this.getRubberStampRotateAngle(n.rotation,w)}}},e.prototype.addMeasure=function(e,i){var n=e;if((0,t.isNullOrUndefined)(n.shapeAnnotationType)||"Line"!==n.shapeAnnotationType)if((0,t.isNullOrUndefined)(n.shapeAnnotationType)||"Polyline"!==n.shapeAnnotationType){if(!(0,t.isNullOrUndefined)(n.shapeAnnotationType)&&"Polyline"===n.shapeAnnotationType&&"PolygonRadius"===n.shapeAnnotationType||"Circle"===n.shapeAnnotationType){var o=this.addCircleMeasurementAnnotation(n,i);i.annotations.add(o)}else if(!(0,t.isNullOrUndefined)(n.shapeAnnotationType)&&"Polygon"===n.shapeAnnotationType&&"PolygonRadius"!==n.indent){a=JSON.parse(n.vertexPoints),s=this.getSaveVertexPoints(a,i);var r=new no(s);if(r.author=(0,t.isNullOrUndefined)(n.author)||""===n.author.toString()?"Guest":n.author.toString(),(0,t.isNullOrUndefined)(n.note)||(r.text=n.note.toString()),(0,t.isNullOrUndefined)(n.annotName)||(r.name=n.annotName.toString()),(0,t.isNullOrUndefined)(n.subject)||(r.subject=n.subject.toString()),!(0,t.isNullOrUndefined)(n.strokeColor)){I=JSON.parse(n.strokeColor);r.color=[I.r,I.g,I.b]}if(!(0,t.isNullOrUndefined)(n.fillColor)){h=JSON.parse(n.fillColor);if(!this.isTransparentColor(h)){A=[h.r,h.g,h.b];r.innerColor=A}h.a<1&&h.a>0?(r._dictionary.update("FillOpacity",h.a),h.a=1):r._dictionary.update("FillOpacity",h.a)}(0,t.isNullOrUndefined)(n.opacity)||(r.opacity=n.opacity),(C=new Do).width=n.thickness,C.style=n.borderStyle,(0,t.isNullOrUndefined)(n.borderDashArray)||(C.dash=[n.borderDashArray,n.borderDashArray]),r.border=C,r._dictionary.update("IT",va.get(n.indent.toString())),r.rotationAngle=this.getRotateAngle(n.rotateAngle);p=void 0;(0,t.isNullOrUndefined)(n.modifiedDate)||isNaN(Date.parse(n.modifiedDate))||(p=new Date(Date.parse(n.modifiedDate)),r.modifiedDate=p);c=n.comments,g=JSON.parse(n.bounds);if(r.bounds=g,r.bounds.x=g.left,r.bounds.y=g.top,c.length>0)for(u=0;u<c.length;u++)r.comments.add(this.addCommentsCollection(c[parseInt(u.toString(),10)],r.bounds));f=n.review;if(r.reviewHistory.add(this.addReviewCollections(f,r.bounds)),!(0,t.isNullOrUndefined)(n.isCloudShape)&&Boolean(n.isCloudShape.toString()))if(r.borderEffect.style=je.cloudy,r.borderEffect.intensity=n.cloudIntensity,(m=JSON.parse(n.rectangleDifference)).length>0){y=this.getRDValues(m);r._dictionary.update("RD",y)}this.preserveIsLockProperty(n,r);S=JSON.parse(n.calibrate);(0,t.isNullOrUndefined)(S)||(r._dictionary.set("Measure",this.setMeasureDictionary(S)),"PolygonVolume"===n.indent&&Object.prototype.hasOwnProperty.call(S,"depth")&&r._dictionary.update("Depth",S.depth)),(0,t.isNullOrUndefined)(n.customData)||r.setValues("CustomData",JSON.stringify(n.customData)),n.allowedInteractions&&null!=n.allowedInteractions&&r.setValues("AllowedInteractions",JSON.stringify(n.allowedInteractions)),r.setAppearance(!0),i.annotations.add(r)}}else{var a=JSON.parse(n.vertexPoints),s=this.getSaveVertexPoints(a,i),l=new oo(s);if(l.author=(0,t.isNullOrUndefined)(n.author)||""===n.author.toString()?"Guest":n.author.toString(),(0,t.isNullOrUndefined)(n.note)||(l.text=n.note.toString()),l._dictionary.set("NM",n.annotName.toString()),(0,t.isNullOrUndefined)(n.subject)||(l.subject=n.subject.toString()),!(0,t.isNullOrUndefined)(n.strokeColor)){var d=[(I=JSON.parse(n.strokeColor)).r,I.g,I.b];l.color=d}if(!(0,t.isNullOrUndefined)(n.fillColor)){var h=JSON.parse(n.fillColor);if(!this.isTransparentColor(h)){var A=[h.r,h.g,h.b];l.innerColor=A}h.a<1&&h.a>0?(l._dictionary.update("FillOpacity",h.a),h.a=1):l._dictionary.update("FillOpacity",h.a)}(0,t.isNullOrUndefined)(n.opacity)||(l.opacity=n.opacity),(C=new Do).width=n.thickness,C.style=this.getBorderStyle(n.borderStyle),C.dash=n.borderDashArray,l.border=C,l.rotationAngle=this.getRotateAngle(n.rotateAngle),l.beginLineStyle=this.getLineEndingStyle(n.lineHeadStart),l.endLineStyle=this.getLineEndingStyle(n.lineHeadEnd);var p=void 0;(0,t.isNullOrUndefined)(n.modifiedDate)||isNaN(Date.parse(n.modifiedDate))||(p=new Date(Date.parse(n.modifiedDate)),l.modifiedDate=p);var c=n.comments,g=JSON.parse(n.bounds);if(l.bounds=g,l.bounds.x=g.left,l.bounds.y=g.top,c.length>0)for(var u=0;u<c.length;u++)l.comments.add(this.addCommentsCollection(c[parseInt(u.toString(),10)],l.bounds));var f=n.review;if(l.reviewHistory.add(this.addReviewCollections(f,l.bounds)),l._dictionary.set("IT",va.get(n.indent.toString())),!(0,t.isNullOrUndefined)(n.isCloudShape)&&n.isCloudShape){var m,w=new Va(i._crossReference);if(w.update("S",va.get("C")),w.update("I",n.cloudIntensity),l._dictionary.update("BE",w),(m=JSON.parse(n.rectangleDifference)).length>0){var y=this.getRDValues(m);l._dictionary.update("RD",y)}}this.preserveIsLockProperty(n,l);var S=JSON.parse(n.calibrate);(0,t.isNullOrUndefined)(S)||l._dictionary.set("Measure",this.setMeasureDictionary(S)),(0,t.isNullOrUndefined)(n.customData)||l.setValues("CustomData",JSON.stringify(n.customData)),n.allowedInteractions&&null!==n.allowedInteractions&&l.setValues("AllowedInteractions",JSON.stringify(n.allowedInteractions)),l.setAppearance(!0),i.annotations.add(l)}else{var C,a=JSON.parse(n.vertexPoints),s=this.getSaveVertexPoints(a,i),B=new qn(s);if((0,t.isNullOrUndefined)(n.note)||(B.text=n.note.toString()),B.author=(0,t.isNullOrUndefined)(n.author)||""===n.author.toString()?"Guest":n.author.toString(),(0,t.isNullOrUndefined)(n.subject)||(B.subject=n.subject.toString()),B.lineIntent=Ue.lineDimension,(0,t.isNullOrUndefined)(n.annotName)||(B.name=n.annotName.toString()),!(0,t.isNullOrUndefined)(n.strokeColor)){var I=JSON.parse(n.strokeColor);B.color=[I.r,I.g,I.b]}if(!(0,t.isNullOrUndefined)(n.fillColor)){var h=JSON.parse(n.fillColor);if(!this.isTransparentColor(h)){var A=[h.r,h.g,h.b];B.innerColor=A}h.a<1&&h.a>0?(B._dictionary.update("FillOpacity",h.a),h.a=1):B._dictionary.update("FillOpacity",h.a)}(0,t.isNullOrUndefined)(n.opacity)||(B.opacity=n.opacity),(C=new Do).width=n.thickness,(0,t.isNullOrUndefined)(n.borderStyle)||""===n.borderStyle||(C.style=this.getBorderStyle(n.borderStyle)),(0,t.isNullOrUndefined)(n.borderDashArray)||(C.dash=[n.borderDashArray,n.borderDashArray]),B.border=C,B.rotationAngle=this.getRotateAngle(n.rotateAngle),B.lineEndingStyle.begin=this.getLineEndingStyle(n.lineHeadStart),B.lineEndingStyle.end=this.getLineEndingStyle(n.lineHeadEnd);var p=void 0;(0,t.isNullOrUndefined)(n.modifiedDate)||isNaN(Date.parse(n.modifiedDate))||(p=new Date(Date.parse(n.modifiedDate)),B.modifiedDate=p),B.caption.type=this.getCaptionType(n.captionPosition),B.caption.cap=n.caption,B.leaderExt=n.leaderLength,B.leaderLine=n.leaderLineExtension;var c=n.comments,g=JSON.parse(n.bounds);if(B.bounds=g,B.bounds.x=g.left,B.bounds.y=g.top,c.length>0)for(var u=0;u<c.length;u++)B.comments.add(this.addCommentsCollection(c[parseInt(u.toString(),10)],B.bounds));var f=n.review;B.reviewHistory.add(this.addReviewCollections(f,B.bounds)),B._dictionary.update("LLO",n.leaderLineOffset),this.preserveIsLockProperty(n,B);var S=JSON.parse(n.calibrate);(0,t.isNullOrUndefined)(S)||B._dictionary.set("Measure",this.setMeasureDictionary(S)),(0,t.isNullOrUndefined)(n.customData)||B.setValues("CustomData",JSON.stringify(n.customData)),n.allowedInteractions&&null!=n.allowedInteractions&&B.setValues("AllowedInteractions",JSON.stringify(n.allowedInteractions)),B.setAppearance(!0),i.annotations.add(B)}},e.prototype.addStickyNotes=function(e,i){var n=e,o=JSON.parse(n.bounds),r=this.getCropBoxValue(i,!1),a=this.convertPixelToPoint(o.left),s=this.convertPixelToPoint(o.top),l=this.convertPixelToPoint(o.width),d=this.convertPixelToPoint(o.height),h=0,A=0;(0!==r.x&&0!==r.y&&r.x===a||0===r.x&&i.cropBox[2]===i.size[0]&&r.y===i.size[1])&&(h=r.x,A=r.y);var p,c=new so(null,h+a,A+s,l,d);null===n.author&&(n.author="Guest"),null!=n.note&&(c.text=n.note.toString()),c.author=n.author.toString(),null!=n.subject&&(c.subject=n.subject.toString()),c._dictionary.set("NM",n.annotName.toString()),(0,t.isNullOrUndefined)(n.modifiedDate)||isNaN(Date.parse(n.modifiedDate))||(p=new Date(Date.parse(n.modifiedDate)),c.modifiedDate=p);var g=n.comments;if(g.length>0)for(var u=0;u<g.length;u++)c.comments.add(this.addCommentsCollection(g[parseInt(u.toString(),10)],c.bounds));var f=n.review;c.reviewHistory.add(this.addReviewCollections(f,c.bounds));c.color=[255,255,51],c.opacity=n.opacity,c.icon=it.comment,this.preserveIsLockProperty(n,c),(0,t.isNullOrUndefined)(n.customData)||c.setValues("CustomData",JSON.stringify(n.customData)),i.annotations.add(c)},e.hasDynamicText=function(e){return Object.prototype.hasOwnProperty.call(e,"dynamicText")&&!(0,t.isNullOrUndefined)(e.dynamicText.toString())},e.setFontFromKeys=function(e,i,n,o,r){var a=nd.tryGetFontFromKeys(n,e.dynamicText.toString(),o,r);(0,t.isNullOrUndefined)(a)?i.setAppearance(!1):(i.font=a,i.setAppearance(!0))},e.prototype.addFreeText=function(i,n,o){var r=i,a=JSON.parse(r.bounds),s=this.getCropBoxValue(n,!1),l=this.convertPixelToPoint(a.left),d=this.convertPixelToPoint(a.top),h=this.convertPixelToPoint(a.width),A=this.convertPixelToPoint(a.height),p=0,c=0;(0!==s.x&&0!==s.y&&s.x===l||0===s.x&&n.cropBox[2]===n.size[0]&&s.y===n.size[1])&&(p=s.x,c=s.y);var g,u=new yo(p+l,c+d,h,A);u.setAppearance(!0),(0,t.isNullOrUndefined)(r.author)&&(r.author="Guest"),u.author=r.author.toString(),(0,t.isNullOrUndefined)(r.modifiedDate)||isNaN(Date.parse(r.modifiedDate))||(g=new Date(Date.parse(r.modifiedDate)),u.modifiedDate=g);var f=r.review;u.reviewHistory.add(this.addReviewCollections(f,u.bounds)),u._dictionary.set("NM",r.annotName.toString()),u.lineEndingStyle=Oe.openArrow,u.annotationIntent=at.freeTextTypeWriter;var m=0;(0,t.isNullOrUndefined)(r.fontSize)||(m=parseFloat(r.fontSize)),m=!(0,t.isNullOrUndefined)(m)&&!isNaN(m)&&m>0?m:16;var w=this.getFontFamily(r.fontFamily),y={};Object.prototype.hasOwnProperty.call(r,"font")&&!(0,t.isNullOrUndefined)(r.font)&&(y=r.font);var S=this.getFontStyle(y);if(u.font=new nn(w,this.convertPixelToPoint(m),S),e.hasDynamicText(r))if(!(0,t.isNullOrUndefined)(o)&&Object.keys(o).length>0){var C=nd.getFontKey(o,r.fontFamily.toLowerCase());if((0,t.isNullOrUndefined)(C))e.setFontFromKeys(r,u,o,m,S);else{var B=o[""+C];B=nd.processFontStream(B);var I=new rn(B,this.convertPixelToPoint(m),S),b=nd.isSupportedFont(r.dynamicText.toString(),I);u.setAppearance(b),b?u.font=I:e.setFontFromKeys(r,u,o,m,S)}}else try{u.font.measureString(r.dynamicText.toString())}catch(e){u.setAppearance(!1)}null!=r.subject&&(u.subject=r.subject.toString()),u.text="",Object.prototype.hasOwnProperty.call(r,"dynamicText")&&!(0,t.isNullOrUndefined)(r.dynamicText.toString())&&(u.text=r.dynamicText.toString());var v="RotateAngle"+Math.abs(r.rotateAngle);u.rotationAngle=this.getRotateAngle(v);var E=new Do;if(E.width=(0,t.isNullOrUndefined)(r.thickness)?1:r.thickness,u.border=E,u.border.width=E.width,Object.prototype.hasOwnProperty.call(r,"padding")&&(0,t.isNullOrUndefined)(r.padding),u.opacity=(0,t.isNullOrUndefined)(r.opacity)?1:r.opacity,!(0,t.isNullOrUndefined)(r.strokeColor)){var x=JSON.parse(r.strokeColor),_=[x.r,x.g,x.b];u.borderColor=_,this.isTransparentColor(x)||(u.border.width=(0,t.isNullOrUndefined)(r.thickness)?0:r.thickness)}if(!(0,t.isNullOrUndefined)(r.fillColor)){var D=JSON.parse(r.fillColor);if(!this.isTransparentColor(D)){_=[D.r,D.g,D.b];r.isTransparentSet?u.color=void 0:u.color=_}D.a<1&&D.a>0?(u._dictionary.update("FillOpacity",D.a),D.a=1):u._dictionary.update("FillOpacity",D.a)}if(!(0,t.isNullOrUndefined)(r.fontColor)){var M=JSON.parse(r.fontColor);if(!this.isTransparentColor(M)){var V=[M.r,M.g,M.b];u.textMarkUpColor=V}}var Q=r.comments;if(Q.length>0)for(var F=0;F<Q.length;F++)u.comments.add(this.addCommentsCollection(Q[parseInt(F.toString(),10)],u.bounds));this.preserveIsLockProperty(r,u),(0,t.isNullOrUndefined)(r.customData)||u.setValues("CustomData",JSON.stringify(r.customData)),Object.prototype.hasOwnProperty.call(r,"textAlign")&&!(0,t.isNullOrUndefined)(r.textAlign)&&(u.textAlignment=this.getPdfTextAlignment(r.textAlign.toString().toLowerCase())),Object.prototype.hasOwnProperty.call(r,"allowedInteractions")&&!(0,t.isNullOrUndefined)(r.allowedInteractions)&&u.setValues("AllowedInteractions",JSON.stringify(r.allowedInteractions)),n.annotations.add(u)},e.prototype.renderSignHereStamp=function(e,t,i,n,o,r,a){var s=new pi,l=new nn(Ei.helvetica,20,vi.bold|vi.italic);s.alignment=We.center,s.lineAlignment=hi.middle;var d,h,A=new An,p=e.appearance.normal;this.defaultHeight>0&&this.defaultWidth>0&&p.graphics.scaleTransform(t.width/(this.defaultWidth+4),t.height/28),d=[this.defaultWidth/2+1,15,0,0],h=[0,0],A.addLine(d[0],d[1],h[0],h[1]);var c=[A._points[0][0],A._points[0][1],0,0];if(a){for(var g=Number.MAX_VALUE,u=Number.MAX_VALUE,f=Number.MIN_VALUE,m=Number.MIN_VALUE,w=0;w<a._points.length;w++){var y=a._points[parseInt(w.toString(),10)];g=Math.min(g,y[0]),u=Math.min(u,y[1]),f=Math.max(f,y[0]),m=Math.max(m,y[1])}var S=(t.width-(f-g))/2-g,C=(t.height-(m-u))/2-u;for(w=0;w<a._points.length;w++)a._points[parseInt(w.toString(),10)][0]+=S,a._points[parseInt(w.toString(),10)][1]+=C;e.appearance.normal.graphics.drawPath(a,r,n)}else p.graphics.drawString(i.toUpperCase(),l,c,r,n,s)},e.prototype.retriveDefaultWidth=function(e){switch(e.trim()){case"Witness":this.defaultWidth=97.39,this.defaultHeight=16.84;break;case"Initial Here":this.defaultWidth=151.345,this.defaultHeight=16.781;break;case"Sign Here":this.defaultWidth=121.306,this.defaultHeight=16.899;break;default:this.defaultWidth=0,this.defaultHeight=0}},e.prototype.renderDynamicStamp=function(e,t,i,n,o,r,a){var s=new pi;s.alignment=We.left,s.lineAlignment=hi.middle;var l=null,d=null,h=!1;/[\u0600-\u06FF]/.test(i)&&(h=!0),h?(l=new rn(jh(),this.pdfViewer.annotationModule.calculateFontSize(t.toUpperCase(),o)-5,vi.bold|vi.italic),d=new rn(jh(),this.pdfViewer.annotationModule.calculateFontSize(i.toUpperCase(),o)-5,vi.bold|vi.italic)):(l=new nn(Ei.helvetica,this.pdfViewer.annotationModule.calculateFontSize(t.toUpperCase(),o)-5,vi.bold|vi.italic),d=new nn(Ei.helvetica,this.pdfViewer.annotationModule.calculateFontSize(i,o)-5,vi.bold|vi.italic));var A,p,c=e.appearance.normal,g=new An;A=[5,o.height/3],p=[5,o.height-2*d.size],g.addLine(A[0],A[1],p[0],p[1]);var u=[g._points[0][0],g._points[0][1],0,0],f=[g._points[1][0],g._points[1][1],o.width-g._points[1][0],o.height-g._points[1][1]];c.graphics.drawString(t.toUpperCase(),l,u,r,n,s),c.graphics.drawString(i,d,f,r,n,s)},e.prototype.calculateBoundsXY=function(e,t,n,o){var r=new i.Rect,a=this.pdfViewer.pdfRendererModule.getPageSize(n);return o.rotation===Ge.angle90?(r.x=this.convertPixelToPoint(e.y),r.y=this.convertPixelToPoint(a.width-e.x-e.width)):o.rotation===Ge.angle180?(r.x=this.convertPixelToPoint(a.width-e.x-e.width),r.y=this.convertPixelToPoint(a.height-e.y-e.height)):o.rotation===Ge.angle270?(r.x=this.convertPixelToPoint(a.height-e.y-e.height),r.y=this.convertPixelToPoint(e.x)):(r.x=this.convertPixelToPoint(e.x),r.y=this.convertPixelToPoint(e.y)),r},e.prototype.setMeasurementUnit=function(e){var t;switch(e){case"cm":t=Ze.centimeter;break;case"in":t=Ze.inch;break;case"mm":t=Ze.millimeter;break;case"pt":t=Ze.point;break;case"p":t=Ze.pica}return t},e.prototype.getRubberStampRotateAngle=function(e,t){var i=Ge.angle0;switch(t){case 0:i=Ge.angle0;break;case 90:i=Ge.angle90;break;case 180:i=Ge.angle180;break;case 270:i=Ge.angle270}return i=(e-i+4)%4},e.prototype.getFontFamily=function(e){var i=Ei.helvetica;switch(e=(0,t.isNullOrUndefined)(e)||""===e?"Helvetica":e){case"Helvetica":i=Ei.helvetica;break;case"Courier":i=Ei.courier;break;case"Times New Roman":i=Ei.timesRoman;break;case"Symbol":i=Ei.symbol;break;case"ZapfDingbats":i=Ei.zapfDingbats}return i},e.prototype.getFontStyle=function(e){var i=vi.regular;return(0,t.isNullOrUndefined)(e)||(e.isBold&&(i|=vi.bold),e.isItalic&&(i|=vi.italic),e.isStrikeout&&(i|=vi.strikeout),e.isUnderline&&(i|=vi.underline)),i},e.prototype.getPdfTextAlignment=function(e){var t=We.left;switch(e){case"center":t=We.center;break;case"right":t=We.right;break;case"justify":t=We.justify}return t},e.prototype.drawStampAsPath=function(e,t,i,n){for(var o={x:0,y:0},r=new An,a=e,s=0;s<a.length;s++){var l=a[parseInt(s.toString(),10)],d=l.command.toString();if("M"===d&&(r.startFigure(),o={x:l.x,y:l.y}),"L"===d){var h=[o,{x:l.x,y:l.y}];this.transformPoints(h);var A=[{x:h[0].x,y:h[0].y},{x:h[1].x,y:h[1].y}];r.addLine(this.convertPixelToPoint(A[0].x),this.convertPixelToPoint(A[0].y),this.convertPixelToPoint(A[1].x),this.convertPixelToPoint(A[1].y)),o={x:l.x,y:l.y}}if("C"===d){var p=[o,{x:l.x,y:l.y},{x:l.x1,y:l.y1},{x:l.x2,y:l.y2}];this.transformPoints(p);var c=[{x:p[0].x,y:p[0].y},{x:p[1].x,y:p[1].y},{x:p[2].x,y:p[2].y},{x:p[3].x,y:p[3].y}];r.addBezier(this.convertPixelToPoint(c[0].x),this.convertPixelToPoint(c[0].y),this.convertPixelToPoint(c[1].x),this.convertPixelToPoint(c[1].y),this.convertPixelToPoint(c[2].x),this.convertPixelToPoint(c[2].y),this.convertPixelToPoint(c[3].x),this.convertPixelToPoint(c[3].y)),o={x:l.x,y:l.y}}"Z"!==d&&"z"!==d||r.closeFigure()}return r},e.prototype.transformPoints=function(e){if(!(0,t.isNullOrUndefined)(e))for(var i=0;i<e.length;i++)e[parseInt(i.toString(),10)]=this.transform(e[parseInt(i.toString(),10)])},e.prototype.transform=function(e){return{x:e.x,y:e.y}},e.prototype.getIconName=function(e,t,i){var n=!0;switch(t.trim()){case"Approved":i.icon=$e.approved;break;case"Confidential":i.icon=$e.confidential;break;case"Not Approved":i.icon=$e.notApproved;break;case"Draft":i.icon=$e.draft;break;case"Final":i.icon=$e.final;break;case"Completed":i.icon=$e.completed;break;case"For Public Release":i.icon=$e.forPublicRelease;break;case"Not For Public Release":i.icon=$e.notForPublicRelease;break;case"For Comment":i.icon=$e.forComment;break;case"Void":i.icon=$e.void;break;case"Preliminary Results":i.icon=$e.preliminaryResults;break;case"Information Only":i.icon=$e.informationOnly;break;default:n=!1}return n},e.prototype.addCircleMeasurementAnnotation=function(e,i){var n=JSON.parse(e.bounds),o=this.getCropBoxValue(i,!1),r=this.convertPixelToPoint(n.left),a=this.convertPixelToPoint(n.top),s=this.convertPixelToPoint(n.width),l=this.convertPixelToPoint(n.height);(0,t.isNullOrUndefined)(n.left)&&(e.bounds.left=0),(0,t.isNullOrUndefined)(n.top)&&(e.bounds.top=0);var d=0,h=0;(0!==o.x&&0!==o.y&&o.x===r||0===o.x&&i.cropBox[2]===i.size[0]&&o.y===i.size[1])&&(d=o.x,h=o.y);var A=new $n(d+r,h+a,s,l);if((0,t.isNullOrUndefined)(e.note)||(A.text=e.note.toString()),A.author=(0,t.isNullOrUndefined)(e.author)||""===e.author.toString()?"Guest":e.author.toString(),A._dictionary.set("NM",e.annotName.toString()),(0,t.isNullOrUndefined)(e.subject)||(A.subject=e.subject.toString()),!(0,t.isNullOrUndefined)(e.strokeColor)){var p=JSON.parse(e.strokeColor),c=[p.r,p.g,p.b];A.color=c}if(!(0,t.isNullOrUndefined)(e.fillColor)){var g=JSON.parse(e.fillColor);if(!this.isTransparentColor(g)){var u=[g.r,g.g,g.b];A.innerColor=u}g.a<1&&g.a>0?(A._dictionary.update("FillOpacity",g.a),g.a=1):A._dictionary.update("FillOpacity",g.a)}(0,t.isNullOrUndefined)(e.opacity)||(A.opacity=e.opacity);var f,m=new Do;m.width=e.thickness,m.style=e.borderStyle,m.dash=e.borderDashArray,A.border=m,A.rotationAngle=this.getRotateAngle(e.rotateAngle),(0,t.isNullOrUndefined)(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(f=new Date(Date.parse(e.modifiedDate)),A.modifiedDate=f);var w=e.comments;if(w.length>0)for(var y=0;y<w.length;y++)A.comments.add(this.addCommentsCollection(w[parseInt(y.toString(),10)],A.bounds));var S=e.review;if(A.reviewHistory.add(this.addReviewCollections(S,A.bounds)),!(0,t.isNullOrUndefined)(e.isCloudShape)&&e.isCloudShape){var C=new Mo;C.style=je.cloudy,C.intensity=e.cloudIntensity,A._borderEffect=C;var B=JSON.parse(e.rectangleDifference);if(B.length>0){var I=this.getRDValues(B);A._dictionary.update("RD",I)}}this.preserveIsLockProperty(e,A),A.measureType=qe.radius;var b=JSON.parse(e.calibrate);return(0,t.isNullOrUndefined)(b)||A._dictionary.set("Measure",this.setMeasureDictionary(b)),(0,t.isNullOrUndefined)(e.customData)||A.setValues("CustomData",JSON.stringify(e.customData)),A.setAppearance(!0),A},e.prototype.setMeasureDictionary=function(e){var i=new Va;if(i.set("Type","Measure"),i.set("R",e.ratio),!(0,t.isNullOrUndefined)(e.x)){var n=this.createNumberFormat(e.x);i.set("X",n)}if(!(0,t.isNullOrUndefined)(e.distance)){var o=this.createNumberFormat(JSON.parse(e.distance));i.set("D",o)}if(!(0,t.isNullOrUndefined)(e.area)){var r=this.createNumberFormat(JSON.parse(e.area));i.set("A",r)}if(!(0,t.isNullOrUndefined)(e.angle)){var a=this.createNumberFormat(JSON.parse(e.angle));i.set("T",a)}if(!(0,t.isNullOrUndefined)(e.volume)){var s=this.createNumberFormat(JSON.parse(e.volume));i.set("V",s)}return i},e.prototype.createNumberFormat=function(e){var i=[];if(!(0,t.isNullOrUndefined)(e)&&0!==e.length){for(var n=0;n<e.length;n++){var o=new Va,r=e[parseInt(n.toString(),10)];o.set("Type","NumberFormat"),o.set("U",r.unit),o.set("F",r.fractionalType),o.set("D",r.denominator),o.set("C",r.conversionFactor),o.set("FD",r.formatDenominator),i.push(o)}return i}},e.prototype.checkAnnotationLock=function(e){var i=!1;if(!(0,t.isNullOrUndefined)(e.annotationSettings)){var n=e.annotationSettings;(0,t.isNullOrUndefined)(n.isLock)||(i=n.isLock)}return i},e.prototype.getSaveVertexPoints=function(e,t){for(var i=t.size[1],n=[],o=0;o<e.length;o++){var r=this.convertPixelToPoint(e[parseInt(o.toString(),10)].x);n.push(r);var a=i-this.convertPixelToPoint(e[parseInt(o.toString(),10)].y);n.push(a)}return n},e.prototype.getLineEndingStyle=function(e){var t=Oe.none;switch(e){case"Square":t=Oe.square;break;case"ClosedArrow":t=Oe.closedArrow;break;case"RClosedArrow":t=Oe.rClosedArrow;break;case"OpenArrow":t=Oe.openArrow;break;case"ROpenArrow":t=Oe.rOpenArrow;break;case"Butt":t=Oe.butt;break;case"Circle":t=Oe.circle;break;case"Diamond":t=Oe.diamond;break;case"Slash":t=Oe.slash}return t},e.prototype.getCaptionType=function(e){var t=He.inline;switch(e){case"Inline":t=He.inline;break;case"Top":t=He.top}return t},e.prototype.addReviewCollections=function(e,t){var i=new so(null,t.x,t.y,t.width,t.height);return null!=e.state&&(i.state=this.getReviewState(e.state.toString()),i.stateModel=ot.review),i},e.prototype.addCommentsCollection=function(e,i){var n=new so;n.text=e.note,n.author=e.author,n.subject=e.subject,(0,t.isNullOrUndefined)(e.note)?n._annotFlags=Le.print:n.text=e.note.toString();var o,r=e.review;return n.reviewHistory.add(this.addReviewCollections(r,i)),(0,t.isNullOrUndefined)(e.modifiedDate)||isNaN(Date.parse(e.modifiedDate))||(o=new Date(Date.parse(e.modifiedDate)),n.modifiedDate=o),n._dictionary.set("NM",e.annotName.toString()),n},e.prototype.getReviewState=function(e){var t;switch(e){case"Accepted":t=nt.accepted;break;case"Cancelled":t=nt.cancel;break;case"Completed":t=nt.completed;break;case"Rejected":t=nt.rejected;break;case"None":t=nt.none;break;default:t=nt.unmarked}return t},e.prototype.convertPixelToPoint=function(e){return 72*e/96},e.prototype.convertPointToPixel=function(e){return 96*e/72},e.prototype.isTransparentColor=function(e){return e&&0===e.a},e.prototype.getRDValues=function(e){for(var t=[],i=0;i<e.length;i++)t.push(parseFloat(e[parseInt(i.toString(),10)]));return t},e.prototype.getRotateAngle=function(e){var t=Ge.angle0;switch(e){case"RotateAngle0":t=Ge.angle0;break;case"RotateAngle180":t=Ge.angle180;break;case"RotateAngle270":t=Ge.angle270;break;case"RotateAngle90":t=Ge.angle90}return t},e.prototype.getInkRotateAngle=function(e){var t=0;switch(e){case"0":t=0;break;case"1":t=-90;break;case"2":t=-180;break;case"3":t=-270}return t},e.prototype.loadSignature=function(e,i,n,o,r,a){var s=new iA,l="";if(!(0,t.isNullOrUndefined)(e.inkPointsCollection))for(var d=0;d<e.inkPointsCollection.length;d++)for(var h=e.inkPointsCollection[parseInt(d.toString(),10)],A=0;A<h.length;A+=2){var p=void 0,c=void 0;e._page.rotation===Ge.angle90?(p=h[A+1],c=h[parseInt(A.toString(),10)]):e._page.rotation===Ge.angle180?(p=e._page.size[0]-h[parseInt(A.toString(),10)],c=h[A+1]):e._page.rotation===Ge.angle270?(p=e._page.size[0]-h[A+1],c=e._page.size[1]-h[parseInt(A.toString(),10)]):(p=h[parseInt(A.toString(),10)],c=e._page.size[1]-h[A+1]),l+=0===A?"M"+p+","+c+" ":"L"+p+","+c+" "}return s.AnnotationType="Signature",s.Bounds=this.getBounds(e.bounds,i,n,o),s.Opacity=e.opacity,s.Thickness=e.border.width,s.PathData=l,s.StrokeColor="rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]?e.color[3]:1)+")",s.PageNumber=r,s.SignatureName=e.name,s},e.prototype.loadInkAnnotation=function(e,n,o,r,a,s){var l=new $h,d="";if(!(0,t.isNullOrUndefined)(e.inkPointsCollection))for(var h=0;h<e.inkPointsCollection.length;h++)for(var A=e.inkPointsCollection[parseInt(h.toString(),10)],p=0;p<A.length;p+=2){var c=void 0,g=void 0;e._page.rotation===Ge.angle90?(c=A[p+1],g=A[parseInt(p.toString(),10)]):e._page.rotation===Ge.angle180?(c=e._page.size[0]-A[parseInt(p.toString(),10)],g=A[p+1]):e._page.rotation===Ge.angle270?(c=e._page.size[0]-A[p+1],g=e._page.size[1]-A[parseInt(p.toString(),10)]):(c=A[parseInt(p.toString(),10)],g=e._page.size[1]-A[p+1]),d+=0===p?"M"+c+","+g+" ":"L"+c+","+g+" "}l.Author=e.author,l.Subject=e.subject,(0,t.isNullOrUndefined)(e.modifiedDate)?l.ModifiedDate=this.formatDate(new Date):l.ModifiedDate=this.formatDate(e.modifiedDate),l.Note=this.getValidNoteContent(e.text);for(var u=0;u<e.reviewHistory.count;u++)l.State=this.getStateString(e.reviewHistory.at(parseInt(u.toString(),10)).state),l.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(u.toString(),10)).stateModel);((0,t.isNullOrUndefined)(l.State)||(0,t.isNullOrUndefined)(l.StateModel))&&(l.State="Unmarked",l.StateModel="None"),l.Comments=new Array;for(u=0;u<e.comments.count;u++){var f=this.loadPopupAnnotation(e.comments.at(u),n,o,r);l.Comments.push(f)}if(this.updateIsLockProperty(l,e),l.AnnotationType="Ink",l.AnnotType="Ink",l.Bounds=this.getBounds(e.bounds,n,o,r),e.bounds.y<0){var m=new i.Rect(e.bounds.x,s.cropBox[1]+e.bounds.y,e.bounds.width,e.bounds.height);l.Bounds=this.getBounds(m,n,o,r)}if(l.Opacity=e.opacity,l.Thickness=e.border.width,l.PathData=d,l.StrokeColor="rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]?e.color[3]:1)+")",l.PageNumber=a,l.AnnotName=e.name,e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData"))){var w=e._dictionary.get("CustomData");null!=w&&(l.ExistingCustomData=w)}return l},e.prototype.loadSquareAnnotation=function(e,i,n,o,r){var a=new eA;a.ShapeAnnotationType="Square",a.Author=e.author,a.AnnotName=e.name,a.Subject=e.subject,(0,t.isNullOrUndefined)(e.modifiedDate)?a.ModifiedDate=this.formatDate(new Date):a.ModifiedDate=this.formatDate(e.modifiedDate),a.Note=this.getValidNoteContent(e.text),a.Thickness=e.border.width,a.BorderStyle=this.getBorderStylesString(e.border.style),a.BorderDashArray=e.border.dash&&e.border.dash[0]?e.border.dash[0]:0,a.Opacity=e.opacity,a.RotateAngle=this.getRotateAngleString(e.rotate),a.AnnotType="shape";for(var s=0;s<e.reviewHistory.count;s++)a.State=this.getStateString(e.reviewHistory.at(parseInt(s.toString(),10)).state),a.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(s.toString(),10)).stateModel);((0,t.isNullOrUndefined)(a.State)||(0,t.isNullOrUndefined)(a.StateModel))&&(a.State="Unmarked",a.StateModel="None"),a.Comments=new Array;for(s=0;s<e.comments.count;s++){var l=this.loadPopupAnnotation(e.comments.at(s),i,n,o);a.Comments.push(l)}if(a.Bounds=this.getBounds(e.bounds,i,n,o),a.LineHeadStart="None",a.LineHeadEnd="None",(0,t.isNullOrUndefined)(e.borderEffect)?(a.IsCloudShape=!1,a.CloudIntensity=0):e.borderEffect.style===je.cloudy?(a.IsCloudShape=!0,a.CloudIntensity=e.borderEffect.intensity):(a.IsCloudShape=!1,a.CloudIntensity=0),e._dictionary.has("RD")&&!(0,t.isNullOrUndefined)(e._dictionary.get("RD"))?a.RectangleDifference=e._dictionary.get("RD"):a.RectangleDifference=new Array,this.updateIsLockProperty(a,e),e._dictionary.has("AllowedInteractions")){var d=e.getValues("AllowedInteractions")[0];a.AllowedInteractions=JSON.parse(d)}a.StrokeColor=(0,t.isNullOrUndefined)(e.color)?"rgba(0,0,0,1)":"rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]?e.color[3]:1)+")";var h=!(0,t.isNullOrUndefined)(e.color)&&e.color[3]?e.color[3]:1;if(e._dictionary.has("FillOpacity")&&!(0,t.isNullOrUndefined)(e._dictionary.get("FillOpacity"))&&(h=parseInt(e._dictionary.get("FillOpacity").toString(),10)),h=e.innerColor?h:0,e.innerColor=e.innerColor?e.innerColor:[255,255,255],a.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+h+")",a.EnableShapeLabel=!1,null!=r&&(a.EnableShapeLabel=!0,a.LabelContent=r.text,a.LabelFillColor="rgba("+r.color[0]+","+r.color[1]+","+r.color[2]+","+(r.color[3]?r.color[3]:1)+")",a.FontColor="rgba("+r.textMarkUpColor[0]+","+r.textMarkUpColor[1]+","+r.textMarkUpColor[2]+","+(r.textMarkUpColor[3]?r.textMarkUpColor[3]:1)+")",a.LabelBorderColor="rgba("+r.borderColor[0]+","+r.borderColor[1]+","+r.borderColor[2]+","+(r.borderColor[3]?r.borderColor[3]:1)+")",a.FontSize=r.font.size),e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData"))){var A=e._dictionary.get("CustomData");null!=A&&(a.ExistingCustomData=A)}return a},e.prototype.loadLineAnnotation=function(e,i,n,o,r){var a=new eA;a.ShapeAnnotationType="Line",a.Author=e.author,a.AnnotName=e.name,a.Subject=e.subject,(0,t.isNullOrUndefined)(e.modifiedDate)?a.ModifiedDate=this.formatDate(new Date):a.ModifiedDate=this.formatDate(e.modifiedDate),a.Note=this.getValidNoteContent(e.text),a.Thickness=e.border.width,a.BorderStyle=this.getBorderStylesString(e.border.style),a.BorderDashArray=e.border.dash&&e.border.dash[0]?e.border.dash[0]:0,a.Opacity=e.opacity,a.RotateAngle=this.getRotateAngleString(e.rotate),a.AnnotType="shape",a.EnableShapeLabel=!1,null!=r&&(a.EnableShapeLabel=!0,a.LabelContent=r.text,a.LabelFillColor="rgba("+r.color[0]+","+r.color[1]+","+r.color[2]+","+(r.color[3]?r.color[3]:1)+")",a.FontColor="rgba("+r.textMarkUpColor[0]+","+r.textMarkUpColor[1]+","+r.textMarkUpColor[2]+","+(r.textMarkUpColor[3]?r.textMarkUpColor[3]:1)+")",a.LabelBorderColor="rgba("+r.borderColor[0]+","+r.borderColor[1]+","+r.borderColor[2]+","+(r.borderColor[3]?r.borderColor[3]:1)+")",a.FontSize=r.font.size);for(var s=0;s<e.reviewHistory.count;s++)a.State=this.getStateString(e.reviewHistory.at(parseInt(s.toString(),10)).state),a.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(s.toString(),10)).stateModel);((0,t.isNullOrUndefined)(a.State)||(0,t.isNullOrUndefined)(a.StateModel))&&(a.State="Unmarked",a.StateModel="None"),a.Comments=new Array;for(s=0;s<e.comments.count;s++){var l=this.loadPopupAnnotation(e.comments.at(s),i,n,o);a.Comments.push(l)}if(a.Bounds=this.getBounds(e.bounds,i,n,o),a.LineHeadStart=this.getLineEndingStyleString(e.lineEndingStyle.begin),a.LineHeadEnd=this.getLineEndingStyleString(e.lineEndingStyle.end),(0,t.isNullOrUndefined)(e._borderEffect)?(a.IsCloudShape=!1,a.CloudIntensity=0):e._borderEffect.style===je.cloudy?(a.IsCloudShape=!0,a.CloudIntensity=e._borderEffect.intensity):(a.IsCloudShape=!1,a.CloudIntensity=0),a.VertexPoints=this.getLinePoints(e.linePoints,i,n,o,e._page),e._dictionary.has("RD")&&!(0,t.isNullOrUndefined)(e._dictionary.get("RD"))?a.RectangleDifference=e._dictionary.get("RD"):a.RectangleDifference=new Array,this.updateIsLockProperty(a,e),e._dictionary.has("AllowedInteractions")){var d=e.getValues("AllowedInteractions")[0];a.AllowedInteractions=JSON.parse(d)}var h=(0,t.isNullOrUndefined)(e.color)?[0,0,0]:e.color;a.StrokeColor="rgba("+h[0]+","+h[1]+","+h[2]+","+(h[3]?h[3]:1)+")";var A=e.color&&e.color[3]?e.color[3]:1;(e._dictionary.has("FillOpacity")&&!(0,t.isNullOrUndefined)(e._dictionary.get("FillOpacity"))&&(A=parseInt(e._dictionary.get("FillOpacity").toString(),10)),A=e.innerColor?A:0,e.innerColor=e.innerColor?e.innerColor:[255,255,255],a.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+A+")",e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData")))&&(null!=(p=e._dictionary.get("CustomData"))&&(a.ExistingCustomData=p));if(e.lineIntent!==Ue.lineArrow&&e._dictionary.has("Measure")){var p,c=new tA(a);if(e._dictionary.has("Measure")&&(c.Calibrate=this.getMeasureObject(e)),c.Indent=e.lineIntent.toString(),c.Caption=e.caption.cap,c.LeaderLength=e.leaderExt,c.LeaderLineExtension=e.leaderLine,c.ExistingCustomData=a.ExistingCustomData,e._dictionary.has("LLO")?c.LeaderLineOffset=e._dictionary.get("LLO"):c.LeaderLineOffset=0,c.CaptionPosition=e.caption.type.toString(),e.flags===Le.readOnly?c.IsCommentLock=!0:c.IsCommentLock=!1,e.flags===Le.print&&(c.IsPrint=!0),e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData")))null!=(p=e._dictionary.get("CustomData"))&&(c.ExistingCustomData=p);return c}return a},e.prototype.getLinePoints=function(e,t,i,n,o){var r=[],a=new lA(e[0],e[1]),s=new lA(e[2],e[3]),l=this.getBothCropBoxValue(o),d=0,h=0;return 0===l[0]&&o.cropBox[2]===o.size[2]&&l[1]===o.size[3]||(d=l[0],h=l[1]),0===n?(a={X:this.convertPointToPixel(e[0])-this.convertPointToPixel(d),Y:t-this.convertPointToPixel(e[1])+this.convertPointToPixel(h)},s={X:this.convertPointToPixel(e[2])-this.convertPointToPixel(d),Y:t-this.convertPointToPixel(e[3])+this.convertPointToPixel(h)}):1===n?(a={X:this.convertPointToPixel(e[1]),Y:this.convertPointToPixel(e[0])},s={X:this.convertPointToPixel(e[3]),Y:this.convertPointToPixel(e[2])}):2===n?(a={X:i-this.convertPointToPixel(e[0]),Y:this.convertPointToPixel(e[1])},s={X:i-this.convertPointToPixel(e[2]),Y:this.convertPointToPixel(e[3])}):3===n&&(a={X:i-this.convertPointToPixel(e[1]),Y:t-this.convertPointToPixel(e[0])},s={X:i-this.convertPointToPixel(e[3]),Y:t-this.convertPointToPixel(e[2])}),r.push(a),r.push(s),r},e.prototype.loadEllipseAnnotation=function(e,i,n,o,r){var a=new eA;a.ShapeAnnotationType="Circle",a.Author=e.author,a.AnnotName=e.name,a.Subject=e.subject,(0,t.isNullOrUndefined)(e.modifiedDate)?a.ModifiedDate=this.formatDate(new Date):a.ModifiedDate=this.formatDate(e.modifiedDate),a.Note=this.getValidNoteContent(e.text),a.Thickness=e.border.width,a.BorderStyle=this.getBorderStylesString(e.border.style),a.BorderDashArray=e.border.dash&&e.border.dash[0]?e.border.dash[0]:0,a.Opacity=e.opacity,a.RotateAngle=this.getRotateAngleString(e.rotate),a.AnnotType="shape";for(var s=0;s<e.reviewHistory.count;s++)a.State=this.getStateString(e.reviewHistory.at(parseInt(s.toString(),10)).state),a.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(s.toString(),10)).stateModel);((0,t.isNullOrUndefined)(a.State)||(0,t.isNullOrUndefined)(a.StateModel))&&(a.State="Unmarked",a.StateModel="None"),a.Comments=new Array;for(s=0;s<e.comments.count;s++){var l=this.loadPopupAnnotation(e.comments.at(s),i,n,o);a.Comments.push(l)}if(a.Bounds=this.getBounds(e.bounds,i,n,o),a.LineHeadStart="None",a.LineHeadEnd="None",(0,t.isNullOrUndefined)(e._borderEffect)?(a.IsCloudShape=!1,a.CloudIntensity=0):e._borderEffect.style===je.cloudy?(a.IsCloudShape=!0,a.CloudIntensity=e._borderEffect.intensity):(a.IsCloudShape=!1,a.CloudIntensity=0),e._dictionary.has("RD")&&!(0,t.isNullOrUndefined)(e._dictionary.get("RD"))?a.RectangleDifference=e._dictionary.get("RD"):a.RectangleDifference=new Array,this.updateIsLockProperty(a,e),e._dictionary.has("AllowedInteractions")){var d=e.getValues("AllowedInteractions")[0];a.AllowedInteractions=JSON.parse(d)}a.StrokeColor="rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]?e.color[3]:1)+")";var h=e.color[3]?e.color[3]:1;(e._dictionary.has("FillOpacity")&&!(0,t.isNullOrUndefined)(e._dictionary.get("FillOpacity"))&&(h=parseInt(e._dictionary.get("FillOpacity").toString(),10)),h=e.innerColor?h:0,e.innerColor=e.innerColor?e.innerColor:[255,255,255],a.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+h+")",a.EnableShapeLabel=!1,null!=r&&(a.EnableShapeLabel=!0,a.LabelContent=r.text,a.LabelFillColor="rgba("+r.color[0]+","+r.color[1]+","+r.color[2]+","+(r.color[3]?r.color[3]:1)+")",a.FontColor="rgba("+r.textMarkUpColor[0]+","+r.textMarkUpColor[1]+","+r.textMarkUpColor[2]+","+(r.textMarkUpColor[3]?r.textMarkUpColor[3]:1)+")",a.LabelBorderColor="rgba("+r.borderColor[0]+","+r.borderColor[1]+","+r.borderColor[2]+","+(r.borderColor[3]?r.borderColor[3]:1)+")",a.FontSize=r.font.size),e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData")))&&(null!=(A=e._dictionary.get("CustomData"))&&(a.ExistingCustomData=A));if(e._dictionary.has("Measure")){a.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+h+")";var A,p=new tA(a);if(p.Calibrate=this.getMeasureObject(e),e._dictionary.has("IT")?p.Indent=e._dictionary.get("IT"):p.Indent="PolyLineDimension",p.Caption=!1,p.LeaderLength=0,p.LeaderLineExtension=0,p.LeaderLineOffset=0,p.CaptionPosition="",e.flags===Le.readOnly?p.IsCommentLock=!0:p.IsCommentLock=!1,e.flags===Le.print&&(p.IsPrint=!0),e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData")))null!=(A=e._dictionary.get("CustomData"))&&(p.ExistingCustomData=A);return p}return a},e.prototype.loadPolygonAnnotation=function(e,i,n,o,r){var a=new eA;a.ShapeAnnotationType="Polygon",a.Author=e.author,a.AnnotName=e.name,a.Subject=e.subject,(0,t.isNullOrUndefined)(e.modifiedDate)?a.ModifiedDate=this.formatDate(new Date):a.ModifiedDate=this.formatDate(e.modifiedDate),a.Note=this.getValidNoteContent(e.text),a.Thickness=e.border.width,a.BorderStyle=this.getBorderStylesString(e.border.style),a.BorderDashArray=e.border.dash&&e.border.dash[0]?e.border.dash[0]:0,a.Opacity=e.opacity,a.RotateAngle=this.getRotateAngleString(e.rotate),a.AnnotType="shape";for(var s=0;s<e.reviewHistory.count;s++)a.State=this.getStateString(e.reviewHistory.at(parseInt(s.toString(),10)).state),a.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(s.toString(),10)).stateModel);((0,t.isNullOrUndefined)(a.State)||(0,t.isNullOrUndefined)(a.StateModel))&&(a.State="Unmarked",a.StateModel="None"),a.Comments=new Array;for(s=0;s<e.comments.count;s++){var l=this.loadPopupAnnotation(e.comments.at(s),i,n,o);a.Comments.push(l)}a.Bounds=this.getBounds(e.bounds,i,n,o),(0,t.isNullOrUndefined)(e._dictionary.get("Vertices"))||(a.VertexPoints=this.getVertexPoints(e._dictionary.get("Vertices"),n,i,o,e._page)),(0,t.isNullOrUndefined)(a.VertexPoints)||a.VertexPoints[0]===a.VertexPoints[a.VertexPoints.length-1]||a.VertexPoints.push(a.VertexPoints[0]),a.StrokeColor="rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]?e.color[3]:1)+")";var d=e.color[3]?e.color[3]:1;(e._dictionary.has("FillOpacity")&&!(0,t.isNullOrUndefined)(e._dictionary.get("FillOpacity"))&&(d=parseInt(e._dictionary.get("FillOpacity").toString(),10)),d=e.innerColor?d:0,e.innerColor=e.innerColor?e.innerColor:[255,255,255],a.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+d+")",a.LineHeadStart="None",a.LineHeadEnd="None",a.EnableShapeLabel=!1,null!=r&&(a.EnableShapeLabel=!0,a.LabelContent=r.text,a.LabelFillColor="rgba("+r.color[0]+","+r.color[1]+","+r.color[2]+","+(r.color[3]?r.color[3]:1)+")",a.FontColor="rgba("+r.textMarkUpColor[0]+","+r.textMarkUpColor[1]+","+r.textMarkUpColor[2]+","+(r.textMarkUpColor[3]?r.textMarkUpColor[3]:1)+")",a.LabelBorderColor="rgba("+r.borderColor[0]+","+r.borderColor[1]+","+r.borderColor[2]+","+(r.borderColor[3]?r.borderColor[3]:1)+")",a.FontSize=r.font.size),(0,t.isNullOrUndefined)(e.borderEffect)?(a.IsCloudShape=!1,a.CloudIntensity=0):e.borderEffect.style===je.cloudy?(a.IsCloudShape=!0,a.CloudIntensity=e.borderEffect.intensity):(a.IsCloudShape=!1,a.CloudIntensity=0),e._dictionary.has("RD")&&!(0,t.isNullOrUndefined)(e._dictionary.get("RD"))?a.RectangleDifference=e._dictionary.get("RD"):a.RectangleDifference=new Array,this.updateIsLockProperty(a,e),e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData")))&&(null!=(p=e._dictionary.get("CustomData"))&&(a.ExistingCustomData=p));if(e._dictionary.has("AllowedInteractions")){var h=e.getValues("AllowedInteractions")[0];a.AllowedInteractions=JSON.parse(h)}if(e._dictionary.has("Measure")){var A=new tA(a);if(e._dictionary.has("IT")&&!(0,t.isNullOrUndefined)(e._dictionary.get("IT"))?A.Indent=e._dictionary.get("IT").name:A.Indent="PolygonDimension",A.Calibrate=this.getMeasureObject(e),(0,t.isNullOrUndefined)(A.Calibrate))return a;if("PolygonVolume"===A.Indent&&e._dictionary.has("Depth")&&!(0,t.isNullOrUndefined)(e._dictionary.get("Depth"))&&(A.Calibrate.Depth=e._dictionary.get("Depth")),A.Caption=!1,A.LeaderLength=0,A.LeaderLineExtension=0,A.LeaderLineOffset=0,A.CaptionPosition="",e.flags===Le.readOnly?A.IsCommentLock=!0:A.IsCommentLock=!1,e.flags===Le.print&&(A.IsPrint=!0),e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData"))){var p=e._dictionary.get("CustomData");(0,t.isNullOrUndefined)(p)||(A.ExistingCustomData=p)}return A}return a},e.prototype.loadPolylineAnnotation=function(e,i,n,o,r){var a=new eA;if(a.ShapeAnnotationType="Polyline",a.Author=e.author,a.AnnotName=e.name,a.Subject=e.subject,(0,t.isNullOrUndefined)(e.modifiedDate)?a.ModifiedDate=this.formatDate(new Date):a.ModifiedDate=this.formatDate(e.modifiedDate),a.Note=this.getValidNoteContent(e.text),a.Thickness=e.border.width,a.BorderStyle=this.getBorderStylesString(e.border.style),a.BorderDashArray=e.border.dash&&e.border.dash[0]?e.border.dash[0]:0,a.Opacity=e.opacity,a.RotateAngle=this.getRotateAngleString(e.rotate),a.AnnotType="shape",!(0,t.isNullOrUndefined)(e.reviewHistory))for(var s=0;s<e.reviewHistory.count;s++)a.State=this.getStateString(e.reviewHistory.at(parseInt(s.toString(),10)).state),a.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(s.toString(),10)).stateModel);if(((0,t.isNullOrUndefined)(a.State)||(0,t.isNullOrUndefined)(a.StateModel))&&(a.State="Unmarked",a.StateModel="None"),a.Comments=new Array,!(0,t.isNullOrUndefined)(e.comments))for(s=0;s<e.comments.count;s++){var l=this.loadPopupAnnotation(e.comments.at(s),i,n,o);a.Comments.push(l)}a.Bounds=this.getBounds(e.bounds,i,n,o),(0,t.isNullOrUndefined)(e._dictionary.get("Vertices"))||(a.VertexPoints=this.getVertexPoints(e._dictionary.get("Vertices"),n,i,o,e._page)),a.StrokeColor="rgba("+e.color[0]+","+e.color[1]+","+e.color[2]+","+(e.color[3]?e.color[3]:1)+")";var d=e.color[3]?e.color[3]:1;(e._dictionary.has("FillOpacity")&&!(0,t.isNullOrUndefined)(e._dictionary.get("FillOpacity"))&&(d=parseInt(e._dictionary.get("FillOpacity").toString(),10)),d=e.innerColor?d:0,e.innerColor=e.innerColor?e.innerColor:[255,255,255],a.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+d+")",a.LineHeadStart=this.getLineEndingStyleString(e.beginLineStyle),a.LineHeadEnd=this.getLineEndingStyleString(e.endLineStyle),a.EnableShapeLabel=!1,null!=r&&(a.EnableShapeLabel=!0,a.LabelContent=r.text,a.LabelFillColor="rgba("+r.color[0]+","+r.color[1]+","+r.color[2]+","+(r.color[3]?r.color[3]:1)+")",a.FontColor="rgba("+r.textMarkUpColor[0]+","+r.textMarkUpColor[1]+","+r.textMarkUpColor[2]+","+(r.textMarkUpColor[3]?r.textMarkUpColor[3]:1)+")",a.LabelBorderColor="rgba("+r.borderColor[0]+","+r.borderColor[1]+","+r.borderColor[2]+","+(r.borderColor[3]?r.borderColor[3]:1)+")",a.FontSize=r.font.size),(0,t.isNullOrUndefined)(e._borderEffect)?(a.IsCloudShape=!1,a.CloudIntensity=0):e._borderEffect.style===je.cloudy?(a.IsCloudShape=!0,a.CloudIntensity=e._borderEffect.intensity):(a.IsCloudShape=!1,a.CloudIntensity=0),e._dictionary.has("RD")&&!(0,t.isNullOrUndefined)(e._dictionary.get("RD"))?a.RectangleDifference=e._dictionary.get("RD"):a.RectangleDifference=new Array,this.updateIsLockProperty(a,e),e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData")))&&(null!=(A=e._dictionary.get("CustomData"))&&(a.ExistingCustomData=A));if(e._dictionary.has("AllowedInteractions")){var h=e.getValues("AllowedInteractions")[0];a.AllowedInteractions=JSON.parse(h)}if(e._dictionary.has("Measure")){a.FillColor="rgba("+e.innerColor[0]+","+e.innerColor[1]+","+e.innerColor[2]+","+d+")";var A,p=new tA(a);if(p.Calibrate=this.getMeasureObject(e),e._dictionary.has("IT")?p.Indent=e._dictionary.get("IT").name:p.Indent="PolyLineDimension",p.Caption=!1,p.LeaderLength=0,p.LeaderLineExtension=0,p.LeaderLineOffset=0,p.CaptionPosition="",e.flags===Le.readOnly?p.IsCommentLock=!0:p.IsCommentLock=!1,e.flags===Le.print&&(p.IsPrint=!0),e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData")))null!=(A=e._dictionary.get("CustomData"))&&(p.ExistingCustomData=A);return p}return a},e.prototype.loadSignatureImage=function(e,t){var n=e,o=new iA;o.SignatureName=n.name;var r=e._dictionary.get("AP");if(null===r){var a=e._dictionary.get("AP");null!==a&&null!==a.Object&&(r=a.Object)}return null!==r&&r.has("N")&&this.m_renderer.findStampImage(e),o.Bounds=new i.Rect(n.bounds.x,n.bounds.y,n.bounds.width,n.bounds.height),o.PathData=this.m_renderer.imageData,o.AnnotationType="SignatureImage",o.PageNumber=t,o.Opacity=n.opacity,o.StrokeColor="rgba("+n.color+","+n.color[1]+","+n.color[2]+","+(n.color[3]?n.color[3]:1)+")",o},e.prototype.getMeasureObject=function(e){var i,n,o,r,a,s,l=new nA;return e._dictionary.has("Measure")&&(i=e._dictionary.get("Measure")),i.has("R")?(l.Ratio=i.get("R"),i.has("X")&&(n=this.getMeasureValues(i.getArray("X"))),l.X=n,i.has("D")&&(o=this.getMeasureValues(i.getArray("D"))),l.Distance=o,i.has("A")&&(r=this.getMeasureValues(i.getArray("A"))),l.Area=r,i.has("T")&&(a=this.getMeasureValues(i.getArray("T"))),l.Angle=a,i.has("V")&&(s=this.getMeasureValues(i.getArray("V"))),l.Volume=s,!(0,t.isNullOrUndefined)(i)&&i.has("TargetUnitConversion")?l.TargetUnitConversion=i.get("TargetUnitConversion").FloatValue:l.TargetUnitConversion=0,l):null},e.prototype.getMeasureValues=function(e){var i=new Array;if(!(0,t.isNullOrUndefined)(e))for(var n=0;n<e.length;n++){var o=e[parseInt(n.toString(),10)],r=new oA;if(!(0,t.isNullOrUndefined)(o)){if(o.has("D")&&!(0,t.isNullOrUndefined)(o.get("D"))&&(r.Denominator=o.get("D")),o.has("C")&&!(0,t.isNullOrUndefined)(o.get("C"))&&(r.ConversionFactor=o.get("C")),o.has("F")&&!(0,t.isNullOrUndefined)(o.get("F"))){var a=o.get("F");"object"!=typeof a||(0,t.isNullOrUndefined)(a.name)||(r.FractionalType=a.name)}else r.FractionalType="D";o.has("FD")&&!(0,t.isNullOrUndefined)(o.get("FD"))&&(r.FormatDenominator=o.get("FD")),o.has("U")&&!(0,t.isNullOrUndefined)(o.get("U"))&&(r.Unit=o.get("U"))}i.push(r)}return i},e.prototype.getVertexPoints=function(e,t,i,n,o){var r=[],a=this.getBothCropBoxValue(o),s=0,l=0;if(0===a[0]&&o.cropBox[2]===o.size[2]&&a[1]===o.size[3]||(s=a[0],l=a[1]),0===n)for(var d=0;d<e.length;d++){var h={X:this.convertPointToPixel(e[parseInt(d.toString(),10)])-this.convertPointToPixel(s),Y:i-this.convertPointToPixel(e[d+1])+this.convertPointToPixel(l)};d+=1,r.push(h)}else if(1===n)for(d=0;d<e.length;d++){h={X:this.convertPointToPixel(e[d+1]),Y:this.convertPointToPixel(e[parseInt(d.toString(),10)])};d+=1,r.push(h)}else if(2===n)for(d=0;d<e.length;d++){h={X:t-this.convertPointToPixel(e[parseInt(d.toString(),10)]),Y:this.convertPointToPixel(e[d+1])};d+=1,r.push(h)}else if(3===n)for(d=0;d<e.length;d++){h={X:t-this.convertPointToPixel(e[d+1]),Y:i-this.convertPointToPixel(e[parseInt(d.toString(),10)])};d+=1,r.push(h)}return r},e.prototype.getLineIndentString=function(e){switch(e){case Ue.lineArrow:return"LineArrow";case Ue.lineDimension:return"LineDimension"}},e.prototype.getLineEndingStyleString=function(e){switch(e){case Oe.none:return"None";case Oe.butt:return"Butt";case Oe.circle:return"Circle";case Oe.closedArrow:return"ClosedArrow";case Oe.diamond:return"Diamond";case Oe.openArrow:return"OpenArrow";case Oe.rClosedArrow:return"RClosedArrow";case Oe.rOpenArrow:return"ROpenArrow";case Oe.slash:return"Slash";case Oe.square:return"Square"}},e.prototype.getBorderStylesString=function(e){switch(e){case Ye.solid:return"Solid";case Ye.dashed:return"Dashed";case Ye.beveled:return"Beveled";case Ye.inset:return"Inset";case Ye.underline:return"Underline";case Ye.dot:return"Dot";default:return"None"}},e.prototype.getBorderStyle=function(e){var t=Ye.solid;switch(e){case"Solid":t=Ye.solid;break;case"Dashed":t=Ye.dashed;break;case"Beveled":t=Ye.beveled;break;case"Inset":t=Ye.inset;break;case"Underline":t=Ye.underline;break;case"Dot":t=Ye.dot}return t},e.prototype.getRotateAngleString=function(e){switch(e){case Ge.angle0:return"RotateAngle0";case Ge.angle90:return"RotateAngle90";case Ge.angle180:return"RotateAngle180";case Ge.angle270:return"RotateAngle270";default:return"RotateAngle0"}},e.prototype.getValidNoteContent=function(e){return(0,t.isNullOrUndefined)(e)||""===e||" "===e?"":e},e.prototype.getBounds=function(e,t,i,n){var o;return 0===n?o=new dA(this.convertPointToPixel(e.x),this.convertPointToPixel(e.y),this.convertPointToPixel(e.width),this.convertPointToPixel(e.height)):1===n?o=new dA(i-this.convertPointToPixel(e.y)-this.convertPointToPixel(e.height),this.convertPointToPixel(e.x),this.convertPointToPixel(e.height),this.convertPointToPixel(e.width)):2===n?o=new dA(i-this.convertPointToPixel(e.x)-this.convertPointToPixel(e.width),t-this.convertPointToPixel(e.y)-this.convertPointToPixel(e.height),this.convertPointToPixel(e.width),this.convertPointToPixel(e.height)):3===n&&(o=new dA(this.convertPointToPixel(e.y),t-this.convertPointToPixel(e.x)-this.convertPointToPixel(e.width),this.convertPointToPixel(e.height),this.convertPointToPixel(e.width))),o},e.prototype.loadPopupAnnotation=function(e,i,n,o){var r=new rA;if(r.Author=e.author,r.Subject=e.subject,!e._dictionary.has("Subtype")||(0,t.isNullOrUndefined)(e._dictionary.get("Subtype"))||(0,t.isNullOrUndefined)(e._dictionary.get("Subtype").name)||(r.SubType=e._dictionary.get("Subtype").name.toString()),!e._dictionary.has("Type")||(0,t.isNullOrUndefined)(e._dictionary.get("Type"))||(0,t.isNullOrUndefined)(e._dictionary.get("Type").name)||(r.Type=e._dictionary.get("Type").name.toString()),e._dictionary.has("IRT")&&!(0,t.isNullOrUndefined)(e._dictionary.get("IRT"))){var a=e._dictionary.get("IRT");null!=a&&(r.Reference=a.Reference)}r.AnnotName=e.name,(0,t.isNullOrUndefined)(e.modifiedDate)?r.ModifiedDate=this.formatDate(new Date):r.ModifiedDate=this.formatDate(e.modifiedDate),r.Note=e.text,this.updateIsLockProperty(r,e),r.Icon=this.getPopupIconString(e.icon),r.State=this.getStateString(e.state),r.StateModel=this.getStateModelString(e.stateModel),r.Size=new Hh(e.bounds.width,e.bounds.height),e.color=e.color?e.color:[0,0,0],r.Color=new hA(e.color[0],e.color[1],e.color[2]),r.Opacity=e.opacity,r.AnnotType="sticky",r.StrokeColor="rgba("+r.Color.R+","+r.Color.G+","+r.Color.B+",1)",r.Bounds=this.getBounds(e.bounds,i,n,o);for(var s=0;s<e.reviewHistory.count;s++)r.State=this.getStateString(e.reviewHistory.at(parseInt(s.toString(),10)).state),r.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(s.toString(),10)).stateModel);if(((0,t.isNullOrUndefined)(r.State)||"None"===r.State||(0,t.isNullOrUndefined)(r.StateModel))&&(r.State="Unmarked",r.StateModel="None"),r.Comments=new Array,e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData"))){var l=e._dictionary.get("CustomData");null!=l&&(r.ExistingCustomData=l)}for(s=0;s<e.comments.count;s++)r.Comments.push(this.loadPopupAnnotation(e.comments.at(s),i,n,o));return r},e.prototype.loadFreeTextAnnotation=function(e,i,n,o,r){var a=new qh;a.AnnotationIntent=this.getAnnotationIntentString(e.annotationIntent),a.AnnotationFlags=this.getAnnotationFlagsString(e.flags),a.Author=e.author,a.AnnotName=e.name,((0,t.isNullOrUndefined)(a.AnnotName)||""===a.AnnotName)&&(a.AnnotName=Math.abs(Math.random()).toString(36).substring(2)),a.AnnotType="Text Box",a.FreeTextAnnotationType="Text Box",a.BorderColor=new hA(e.borderColor[0],e.borderColor[1],e.borderColor[2]);a.CalloutLines=[{X:100,Y:400},{X:200,Y:400}];var s,l=e.color?e.color:[0,0,0];(0,t.isNullOrUndefined)(e.color)&&(a.IsTransparentSet=!0),a.Color=new hA(l[0],l[1],l[2]),a.Flatten=e.flatten,a.FlattenPopups=!(0,t.isNullOrUndefined)(e.flattenPopups)&&e.flattenPopups,a.FontFamily=this.getFontFamilyString(e.font._fontFamily),a.FontSize=this.convertPointToPixel(e.font.size),a.Font=new AA(e.font,a.FontFamily),a.Thickness=e.border.width,a.StrokeColor="rgba("+e.borderColor[0]+","+e.borderColor[1]+","+e.borderColor[2]+","+(e.borderColor[3]?e.borderColor[3]:1)+")",e._dictionary.has("FillOpacity")&&!(0,t.isNullOrUndefined)(e._dictionary.get("FillOpacity"))&&(s=parseInt(e._dictionary.get("FillOpacity").toString(),10)),s=e.color?(0,t.isNullOrUndefined)(s)?1:s:0,a.FillColor="rgba("+l[0]+","+l[1]+","+l[2]+","+s+")",a.Layer=e._dictionary.has("Layer")?e._dictionary.get("Layer"):null,a.Location=e._dictionary.has("Location")?e._dictionary.get("Location"):"{X="+e.bounds.x+",Y="+e.bounds.y+"}",a.MarkupText=e.text,(0,t.isNullOrUndefined)(e.modifiedDate)?a.ModifiedDate=this.formatDate(new Date):a.ModifiedDate=this.formatDate(e.modifiedDate),a.Name="freeText",a.Opacity=e.opacity,e._dictionary.has("Rotation")&&!(0,t.isNullOrUndefined)(e._dictionary.get("Rotation"))&&(a.Rotate=parseInt(e._dictionary.get("Rotation"),10)),e._dictionary.has("Rotate")&&!(0,t.isNullOrUndefined)(e._dictionary.get("Rotate"))&&(a.Rotate=parseInt(e._dictionary.get("Rotate"),10)),(0,t.isNullOrUndefined)(e.subject)?a.Subject="Text Box":a.Subject=e.subject,a.Text=e.text,a.MarkupText=e.text,a.TextAlign=this.getTextAlignmentString(e.textAlignment),((0,t.isNullOrUndefined)(a.State)||"None"===a.State||(0,t.isNullOrUndefined)(a.StateModel))&&(a.State="Unmarked",a.StateModel="None"),a.FontColor=(0,t.isNullOrUndefined)(e.textMarkUpColor)?"rgba(0, 0, 0, 1)":"rgba("+e.textMarkUpColor[0]+","+e.textMarkUpColor[1]+","+e.textMarkUpColor[2]+","+(e.textMarkUpColor[3]?e.textMarkUpColor[3]:1)+")";for(var d=0;d<e.reviewHistory.count;d++)a.State=this.getStateString(e.reviewHistory.at(parseInt(d.toString(),10)).state),a.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(d.toString(),10)).stateModel);a.Comments=new Array;for(d=0;d<e.comments.count;d++){var h=this.loadPopupAnnotation(e.comments.at(d),i,n,o);a.Comments.push(h)}if(a.Bounds=this.getBounds(e.bounds,i,n,o),a.Bounds.Y<0){var A={x:e.bounds.x,y:r.cropBox[1]+e.bounds.y,width:e.bounds.width,height:e.bounds.height};a.Bounds=this.getBounds(A,i,n,o)}if(a.PageRotation=o,this.updateIsLockProperty(a,e),e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData"))){var p=e._dictionary.get("CustomData");null!=p&&(a.ExistingCustomData=p)}if(e._dictionary.has("AllowedInteractions")){var c=e.getValues("AllowedInteractions")[0];a.AllowedInteractions=JSON.parse(c)}return a},e.prototype.getTextAlignmentString=function(e){switch(e){case We.left:return"Left";case We.right:return"Right";case We.center:return"Center";case We.justify:return"Justify";default:return"Left"}},e.prototype.loadSignatureText=function(e,t,i,n,o){var r=new iA;return r.SignatureName=e.name,r.Bounds=this.getBounds(e.bounds,n,i,o),r.AnnotationType="SignatureText",r.FontFamily=this.getFontFamilyString(e.font._fontFamily),r.FontSize=this.convertPointToPixel(e.font.size),r.PathData=e.text,r.PageNumber=t,r.StrokeColor="rgba("+e.textMarkUpColor[0]+","+e.textMarkUpColor[1]+","+e.textMarkUpColor[2]+","+(e.textMarkUpColor[3]?e.textMarkUpColor[3]:1)+")",r.Opacity=e.opacity,r.Thickness=1,r},e.prototype.getFontFamilyString=function(e){switch(e){case Ei.helvetica:return"Helvetica";case Ei.timesRoman:return"Times New Roman";case Ei.courier:return"Courier";case Ei.symbol:return"Symbol";case Ei.zapfDingbats:return"ZapfDingbats";default:return"Helvetica"}},e.prototype.getAnnotationFlagsString=function(e){switch(e){case Le.default:return"Default";case Le.invisible:return"Invisible";case Le.hidden:return"Hidden";case Le.print:return"Print";case Le.noZoom:return"NoZoom";case Le.noRotate:return"NoRotate";case Le.noView:return"NoView";case Le.readOnly:return"ReadOnly";case Le.locked:return"Locked";case Le.toggleNoView:return"ToggleNoView";default:return"Default"}},e.prototype.getAnnotationIntentString=function(e){switch(e){case at.freeTextCallout:return"FreeTextCallout";case at.freeTextTypeWriter:return"FreeTextTypeWriter";case at.none:return"None"}},e.prototype.getStateString=function(e){switch(e){case nt.accepted:return"Accepted";case nt.rejected:return"Rejected";case nt.cancel:return"Cancelled";case nt.completed:return"Completed";case nt.none:return"None";case nt.unmarked:return"Unmarked";case nt.marked:return"Marked";case nt.unknown:return"Unknown";default:return null}},e.prototype.getStateModelString=function(e){switch(e){case ot.review:return"Review";case ot.marked:return"Marked";case ot.none:default:return"None"}},e.prototype.getPopupIconString=function(e){switch(e){case it.comment:return"Comment";case it.help:return"Help";case it.insert:return"Insert";case it.key:return"Key";case it.newParagraph:return"NewParagraph";case it.note:return"Note";case it.paragraph:return"Paragraph";default:return null}},e.prototype.formatDate=function(e){return this.datePadding(e.getMonth()+1)+"/"+this.datePadding(e.getDate())+"/"+e.getFullYear()+" "+this.datePadding(e.getHours())+":"+this.datePadding(e.getMinutes())+":"+this.datePadding(e.getSeconds())},e.prototype.datePadding=function(e){return e<10?"0"+e:e.toString()},e.prototype.removeSignatureTypeAnnot=function(e,t){if(Object.prototype.hasOwnProperty.call(e,"isAnnotationsExist")&&JSON.parse(e.isAnnotationsExist)||Object.prototype.hasOwnProperty.call(e,"isFormFieldAnnotationsExist")&&JSON.parse(e.isFormFieldAnnotationsExist)){var i=e.annotationsPageList?e.annotationsPageList:[],n=e.formFieldsPageList?e.formFieldsPageList:"[]";if(0!==i.length)for(var o=JSON.parse(i),r=0;r<o.length;r++)for(var a=o[parseInt(r.toString(),10)],s=t.getPage(parseInt(a,10)).annotations,l=parseInt(s.count.toString(),10)-1;l>=0;l--){((d=s.at(l))instanceof yo||d instanceof ao||d instanceof qn||d instanceof mo||d instanceof uo||d instanceof so||d instanceof to||d instanceof $n||d instanceof eo||d instanceof no||d instanceof io||d instanceof oo)&&s.remove(d)}if(0!==n.length)for(o=JSON.parse(n),r=0;r<o.length;r++)for(a=o[parseInt(r.toString(),10)],s=t.getPage(parseInt(a,10)-1).annotations,l=parseInt(s.count.toString(),10)-1;l>=0;l--){var d;((d=s.at(l))instanceof yo||d instanceof ao||d instanceof qn||d instanceof mo||d instanceof uo||d instanceof so||d instanceof to||d instanceof $n||d instanceof eo||d instanceof no||d instanceof io||d instanceof oo)&&s.remove(d)}}},e.prototype.updateIsLockProperty=function(e,i){var n=hr(i.flags);!(0,t.isNullOrUndefined)(n)&&n.includes("locked")?e.IsLocked=!0:e.IsLocked=!1,!(0,t.isNullOrUndefined)(n)&&n.includes("readOnly")?e.IsCommentLock=!0:e.IsCommentLock=!1,!(0,t.isNullOrUndefined)(n)&&n.includes("print")&&(e.IsPrint=!0)},e.prototype.loadTextMarkupAnnotation=function(e,i,n,o,r){var a=new aA;a.TextMarkupAnnotationType=this.getMarkupAnnotTypeString(e.textMarkupType),"StrikeOut"===a.TextMarkupAnnotationType&&(a.TextMarkupAnnotationType="Strikethrough"),a.Author=e.author,a.Subject=e.subject,a.AnnotName=e.name,a.Note=e.text?e.text:"",a.Rect=new cA(e.bounds.x,e.bounds.y,e.bounds.width+e.bounds.x,e.bounds.height+e.bounds.y),a.Opacity=e.opacity,a.Color="#"+(1<<24|e.color[0]<<16|e.color[1]<<8|e.color[2]).toString(16).slice(1),(0,t.isNullOrUndefined)(e.modifiedDate)?a.ModifiedDate=this.formatDate(new Date):a.ModifiedDate=this.formatDate(e.modifiedDate),a.AnnotationRotation=e.rotationAngle;var s=e._dictionary.has("QuadPoints")?e._dictionary.get("QuadPoints"):[],l=[];if(0===o)for(var d=0;d<e.boundsCollection.length;d++){var h=e.boundsCollection[parseInt(d.toString(),10)],A=h[0],p=h[1],c=h[2],g=h[3],u={x:A,y:p,width:c,height:g};l.push(this.getBounds(u,g,c,o))}else l=this.getTextMarkupBounds(s,i,n,o,r);a.Bounds=l,a.AnnotType="textMarkup";for(d=0;d<e.reviewHistory.count;d++)a.State=this.getStateString(e.reviewHistory.at(parseInt(d.toString(),10)).state),a.StateModel=this.getStateModelString(e.reviewHistory.at(parseInt(d.toString(),10)).stateModel);((0,t.isNullOrUndefined)(a.State)||(0,t.isNullOrUndefined)(a.StateModel))&&(a.State="Unmarked",a.StateModel="None"),a.Comments=new Array;for(d=0;d<e.comments.count;d++){var f=this.loadPopupAnnotation(e.comments.at(d),i,n,o);a.Comments.push(f)}if(this.updateIsLockProperty(a,e),e._dictionary.has("CustomData")&&!(0,t.isNullOrUndefined)(e._dictionary.get("CustomData"))){var m=e._dictionary.get("CustomData");null!=m&&(a.ExistingCustomData=m)}if(e._dictionary.has("AllowedInteractions")){var w=e.getValues("AllowedInteractions")[0];a.AllowedInteractions=JSON.parse(w)}if(e._dictionary.has("TextMarkupContent")){var y=e.getValues("TextMarkupContent");(0,t.isNullOrUndefined)(y)||(a.TextMarkupContent=y[0])}return a},e.prototype.getTextMarkupBounds=function(e,i,n,o,r){var a=0,s=0,l=0,d=0,h=[],A=this.getCropBoxValue(r,!1),p=0,c=0;if(0!==A.x&&0!==A.y&&(p=A.x,c=A.y),!(0,t.isNullOrUndefined)(e))for(var g=0;g<e.length;g++){0===o?(a=this.convertPointToPixel(parseInt(e[parseInt(g.toString(),10)],10)-p),s=i-this.convertPointToPixel(parseInt(e[g+1],10)+c),d=this.convertPointToPixel(parseInt(e[g+3],10)-parseInt(e[g+7],10)),l=this.convertPointToPixel(parseInt(e[g+6],10)-parseInt(e[g+4],10))):1===o?(a=this.convertPointToPixel(parseInt(e[g+5],10)),s=this.convertPointToPixel(parseInt(e[parseInt(g.toString(),10)],10)),d=this.convertPointToPixel(parseInt(e[g+6],10)-parseInt(e[g+4],10)),l=this.convertPointToPixel(parseInt(e[g+3],10)-parseInt(e[g+7],10))):2===o?(a=n-this.convertPointToPixel(parseInt(e[g+2],10)),s=this.convertPointToPixel(parseInt(e[g+5],10)),d=this.convertPointToPixel(parseInt(e[g+3],10)-parseInt(e[g+7],10)),l=this.convertPointToPixel(parseInt(e[g+6],10)-parseInt(e[g+4],10))):(a=n-this.convertPointToPixel(parseInt(e[g+1],10)),s=i-this.convertPointToPixel(parseInt(e[g+6],10)),d=this.convertPointToPixel(parseInt(e[g+6],10)-parseInt(e[g+4],10)),l=this.convertPointToPixel(parseInt(e[g+3],10)-parseInt(e[g+7],10)));var u=new dA(a,s,l,d);g+=7,h.push(u)}return h},e.prototype.getMarkupAnnotTypeString=function(e){var t="";switch(e){case tt.highlight:t="Highlight";break;case tt.strikeOut:t="StrikeOut";break;case tt.underline:t="Underline";break;case tt.squiggly:t="Squiggly"}return t},e}(),Zh=function(e,t){this.x=e,this.y=t},qh=function(){this.AnnotationSelectorSettings=null,this.TextMarkupColor=null,this.Color=null,this.Font=null,this.Border=null,this.LineEndingStyle=null,this.AnnotationFlags=null,this.CalloutLines=null,this.ModifiedDate=null,this.Comments=null,this.CreatedDate=null,this.InnerColor=null,this.Layer=null,this.Page=null,this.PageTags=null,this.ReviewHistory=null,this.Rotate=0,this.Note=null,this.CustomData=null,this.AnnotationSettings=null,this.IsPrint=!0,this.IsReadonly=!1,this.ExistingCustomData=null,this.Bounds=null,this.PageRotation=0,this.IsTransparentSet=!1},$h=function(){this.AnnotationType=null,this.Bounds=null,this.CustomData=null,this.Opacity=0,this.StrokeColor=null,this.Thickness=null,this.PathData=null,this.IsLocked=null,this.IsCommentLock=null,this.PageNumber=null,this.AnnotName=null,this.Author=null,this.ModifiedDate=null,this.Subject=null,this.Note=null,this.State=null,this.StateModel=null,this.AnnotationSelectorSettings=null,this.AnnotationSettings=null,this.AllowedInteractions=null,this.Comments=null,this.AnnotType=null,this.IsPrint=null,this.ExistingCustomData=null},eA=function(){this.LabelBounds=new dA(0,0,0,0),this.LabelContent=null,this.LabelFillColor=null,this.LabelBorderColor=null,this.LabelSettings=null,this.FontColor=null,this.FontSize=0,this.AnnotationSettings=null,this.AnnotationSelectorSettings=null,this.VertexPoints=null,this.CustomData=null,this.ExistingCustomData=null,this.IsPrint=!0,this.AllowedInteractions=null,this.AnnotationRotation=0},tA=function(e){this.LabelBounds=new dA(0,0,0,0),this.LabelContent=null,this.LabelFillColor=null,this.LabelBorderColor=null,this.LabelSettings=null,this.FontColor=null,this.FontSize=0,this.AnnotationSettings=null,this.AnnotationSelectorSettings=null,this.VertexPoints=null,this.CustomData=null,this.ExistingCustomData=null,this.IsPrint=!0,this.AllowedInteractions=null,this.AnnotationRotation=0,this.Author=e.Author,this.AnnotationSelectorSettings=e.AnnotationSelectorSettings,this.BorderDashArray=e.BorderDashArray,this.BorderStyle=e.BorderStyle,this.Bounds=e.Bounds,this.CloudIntensity=e.CloudIntensity,this.FillColor=e.FillColor,this.IsCloudShape=e.IsCloudShape,this.IsLocked=e.IsLocked,this.LineHeadEnd=e.LineHeadEnd,this.LineHeadStart=e.LineHeadStart,this.ModifiedDate=e.ModifiedDate,this.Note=e.Note,this.Opacity=e.Opacity,this.RectangleDifference=e.RectangleDifference,this.RotateAngle=e.RotateAngle,this.ShapeAnnotationType=e.ShapeAnnotationType,this.StrokeColor=e.StrokeColor,this.Subject=e.Subject,this.Thickness=e.Thickness,this.VertexPoints=e.VertexPoints,this.AnnotName=e.AnnotName,this.Comments=e.Comments,this.State=e.State,this.StateModel=e.StateModel,this.AnnotType="shape_measure",this.AnnotationSettings=e.AnnotationSettings,this.EnableShapeLabel=e.EnableShapeLabel,this.AllowedInteractions=e.AllowedInteractions,this.AnnotationRotation=e.AnnotationRotation,!0===e.EnableShapeLabel&&(this.LabelContent=e.LabelContent,this.LabelFillColor=e.LabelFillColor,this.FontColor=e.FontColor,this.LabelBorderColor=e.LabelBorderColor,this.FontSize=e.FontSize,this.LabelSettings=e.LabelSettings,this.LabelBounds=e.LabelBounds)},iA=function(){this.PathData=null,this.ExistingCustomData=null},nA=function(){this.Ratio="",this.X=[],this.Distance=[],this.Area=[],this.Angle=[],this.Volume=[],this.TargetUnitConversion=0,this.Depth=0},oA=function(){this.Unit="",this.ConversionFactor=0,this.FractionalType="",this.Denominator=0,this.FormatDenominator=!1},rA=function(){this.AnnotationFlags=null,this.AnnotationSelectorSettings=null,this.AnnotationSettings=null,this.ExistingCustomData=null,this.CustomData=null,this.IsPrint=!1},aA=function(){this.AnnotationSelectorSettings=null,this.AnnotationSettings=null,this.ExistingCustomData=null,this.CustomData=null,this.IsPrint=!0,this.IsMultiSelect=!1,this.AnnotpageNumbers=null,this.AnnotNameCollection=null},sA=function(){},lA=function(e,t){this.X=e,this.Y=t},dA=function(e,t,i,n){this.X=e,this.Y=t,this.Width=i,this.Height=n,this.Location={X:e,Y:t},this.Size={IsEmpty:!1,Width:i,Height:n},this.Left=e,this.Top=t,this.Right=e+i,this.Bottom=t+n},hA=function(e,t,i){this.IsEmpty=!0,this.R=e,this.G=t,this.B=i,0===this.R&&0===this.G&&0===this.B||(this.IsEmpty=!1)},AA=function(e,t){this.Bold=e.isBold,this.FontFamily=e._fontFamily,this.Height=e.height,this.Italic=e.isItalic,this.Name=t,this.Size=e.size,this.Strikeout=e.isStrikeout,this.Style=e.style,this.Underline=e.isUnderline},pA=function(){function e(){this.points=[]}return e.prototype.moveTo=function(e,t){this.points.push([e,t])},e.prototype.lineTo=function(e,t){this.points.push([e,t])},e.prototype.transform=function(e){this.points=this.points.map((function(t){var i=t[0],n=t[1];return[e[0][0]*i+e[0][1]*n+e[0][2],e[1][0]*i+e[1][1]*n+e[1][2]]}))},e}(),cA=function(e,t,i,n){this.left=e,this.top=t,this.right=i,this.bottom=n,this.width=i-e,this.height=n-t},gA=function(){function e(e,t){this.pdfViewer=e,this.pdfViewerBase=t}return e.prototype.saveSignatureData=function(e,i){var n=new Kh(this.pdfViewer,this.pdfViewerBase),o=JSON.parse(e.signatureData);if(!(0,t.isNullOrUndefined)(o))for(var r=0;r<o.length;r++){var a=o[parseInt(r.toString(),10)];if(a.length>0)for(var s=0;s<a.length;s++){var l=a[parseInt(s.toString(),10)],d=Object.prototype.hasOwnProperty.call(l,"shapeAnnotationType")&&null!==l.shapeAnnotationType?l.shapeAnnotationType.toString():null;if(null!==d&&"SignatureText"===d)n.drawFreeTextAnnotations(l,i,!0);else if(null!==d&&"SignatureImage"===d)n.drawImage(l,i,!0);else{var h=l.pageIndex,A=i.getPage(h),p=this.getRotateAngle(A.rotation.toString()),c=A.size,g=c[0],u=c[1];1===p||3===p?(u=c[0],g=c[1]):(u=c[1],g=c[0]);var f=JSON.parse(l.bounds);f=this.getSignatureBounds(f,this.convertPointToPixel(u),this.convertPointToPixel(g),p);for(var m=JSON.parse(l.data),w=this.convertPixelToPoint(f.left),y=this.convertPixelToPoint(f.top),S=this.convertPixelToPoint(f.width),C=this.convertPixelToPoint(f.height),B=l.opacity,I=l.thickness,b=JSON.parse(l.strokeColor),v=[b.r,b.g,b.b],E=-1,x=-1,_=-1,D=-1,M=0;M<m.length;M++){var V=m[parseInt(M.toString(),10)];if(-1===E)E=V.x,x=V.y,_=V.x,D=V.x;else{var Q=V.x,F=V.y;E>=Q&&(E=Q),x>=F&&(x=F),_<=Q&&(_=Q),D<=F&&(D=F)}}var T=_-E,k=D-x,P=[0,0],N=i.getPage(h),R=null;null!=N&&((R=N.graphics).save(),R.setTransparency(B),R.translateTransform(w,y));var L=new Cn(v,S);if(L._width=I,m.length>0)for(var O=new An,U=0;U<m.length;U++){var z=(V=m[parseInt(U.toString(),10)]).command.toString(),H=T/S,Y=k/C,j=(V.x-E)/H,G=(V.y-x)/Y;if("M"===z)0!==U&&(A.graphics.drawPath(O,L,null),O=new An),P=[j,G],(0,t.isNullOrUndefined)(R)||O.addLine(j,G,j,G);else if("L"===z){var J=[j,G];null!=R&&O.addLine(P[0],P[1],J[0],J[1]),P=J}U===m.length-1&&A.graphics.drawPath(O,L,null)}null!=R&&R.restore()}}}},e.prototype.getSignatureBounds=function(e,t,i,n){var o;return 0===n?o={left:e.left,top:e.top,width:e.width,height:e.height}:1===n?o={left:i-e.top-e.height,top:e.left,width:e.height,height:e.width}:2===n?o={left:i-e.left-e.width,top:t-e.top-e.height,width:e.width,height:e.height}:3===n&&(o={left:e.top,top:t-e.left-e.width,width:e.height,height:e.width}),o},e.prototype.saveSignatureAsAnnotatation=function(e,n){var o=new Xh(this.pdfViewer,this.pdfViewerBase),r=JSON.parse(e.signatureData);if(!(0,t.isNullOrUndefined)(r))for(var a=0;a<r.length;a++){var s=r[parseInt(a.toString(),10)];if(s.length>0)for(var l=0;l<s.length;l++){var d=new Kh(this.pdfViewer,this.pdfViewerBase),h=s[parseInt(l.toString(),10)],A=Object.prototype.hasOwnProperty.call(h,"shapeAnnotationType")&&null!==h.shapeAnnotationType?h.shapeAnnotationType.toString():null;if(null!==A&&"SignatureText"===A)d.drawFreeTextAnnotations(h,n,!1);else if(null!==A&&"SignatureImage"===A)d.drawImage(h,n,!1);else{var p=JSON.parse(h.bounds),c=JSON.parse(h.data),g=h.pageIndex,u=n.getPage(g),f=o.getCropBoxValue(u,!1),m=f.x+this.convertPixelToPoint(p.left),w=this.convertPixelToPoint(p.top);0===f.x&&u.cropBox[2]===u.size[0]&&f.y===u.size[1]||(w-=f.y);for(var y=this.convertPixelToPoint(p.width),S=this.convertPixelToPoint(p.height),C=h.opacity,B=h.thickness,I=JSON.parse(h.strokeColor),b=[I.r,I.g,I.b],v=-1,E=-1,x=-1,_=-1,D=o.getInkRotateAngle(u.rotation.toString()),M=new An,V=0;V<c.length;V++){var Q=c[parseInt(V.toString(),10)];M.addLine(Q.x,Q.y,0,0)}for(var F=o.getRotatedPathForMinMax(M._points,D),T=0;T<F.points.length;T+=2){var k=F.points[parseInt(T.toString(),10)];if(-1===v)v=k[0],E=k[1],x=k[0],_=k[1];else{var P=k[0],N=k[1];v>=P&&(v=P),E>=N&&(E=N),x<=P&&(x=P),_<=N&&(_=N)}}var R=(x-v)/y,L=(_-E)/S;0===R?R=1:0===L&&(L=1);var O=[],U=0;if(0!==D){for(var z=0;z<c.length;z++){if("M"===(Q=c[parseInt(z.toString(),10)]).command.toString()&&z!==U){U=z;break}O.push(parseFloat(Q.x.toString())),O.push(parseFloat(Q.y.toString()))}var H=o.getRotatedPath(O,D);O=[];for(var Y=0;Y<H._points.length;Y+=2)O.push((H._points[parseInt(Y.toString(),10)][0]-v)/R+m),O.push(u.size[1]-(H._points[parseInt(Y.toString(),10)][1]-E)/L-w)}else for(z=0;z<c.length;z++){if("M"===(Q=c[parseInt(z.toString(),10)]).command.toString()&&z!==U){U=z;break}O.push((Q.x-v)/R+m);var j=(Q.y-E)/L;O.push(u.size[1]-j-w)}var G=new ao([m,w,y,S],O),J=new i.Rect;if(J=new i.Rect(G.bounds.x,u.size[1]-(G.bounds.y+G.bounds.height),G.bounds.width,G.bounds.height),G.bounds=J,G.color=b,O=[],U>0)if(0!==D){for(var K=[],W=U;W<c.length;W++){"M"===(Q=c[parseInt(W.toString(),10)]).command.toString()&&W!==U&&(K.push(O),O=[]),O.push(Q.x),O.push(Q.y)}O.length>0&&K.push(O);for(var X=0;X<K.length;X++){var Z=[],q=K[parseInt(X.toString(),10)];if(q.length>0){for(H=o.getRotatedPath(q,D),Y=0;Y<H._points.length;Y+=2)Z.push((H._points[parseInt(Y.toString(),10)][0]-v)/R+m),Z.push(u.size[1]-(H._points[parseInt(Y.toString(),10)][1]-E)/L-w);G.inkPointsCollection.push(Z)}Z=[]}}else{for(var $=U;$<c.length;$++){"M"===(Q=c[parseInt($.toString(),10)]).command.toString()&&$!==U&&(G.inkPointsCollection.push(O),O=[]),O.push((Q.x-v)/R+m);j=(Q.y-E)/L;O.push(u.size[1]-j-w)}O.length>0&&G.inkPointsCollection.push(O)}if(G.border.width=B,G.opacity=C,G._dictionary.set("NM",h.signatureName.toString()),G._annotFlags=Le.print,Object.prototype.hasOwnProperty.call(h,"author")&&null!==h.author){var ee=h.author.toString();"Guest"!==ee&&(G.author=ee)}u.annotations.add(G)}}}},e.prototype.convertPointToPixel=function(e){return 96*e/72},e.prototype.convertPixelToPoint=function(e){return.75*e},e.prototype.getRotateAngle=function(e){var t=0;switch(e){case"RotateAngle0":case"0":t=0;break;case"RotateAngle180":case"2":t=2;break;case"RotateAngle270":case"3":t=3;break;case"RotateAngle90":case"1":t=1}return t},e}(),uA=function(){this.HasChild=!1},fA=function(){},mA=function(){},wA=function(){function e(e,i){this.mIsImageStreamParsed=!1,this.mIsImageInterpolated=!1,this.isDualFilter=!1,this.numberOfComponents=0,(0,t.isNullOrUndefined)(i)||(this.mImageStream=e,this.mImageDictionary=i)}return e.prototype.getImageStream=function(){this.mIsImageStreamParsed=!0;var e=this.mImageDictionary;this.getImageInterpolation(e);var i=this.setImageFilter(),n=this.imageStream();if((0,t.isNullOrUndefined)(i)&&(this.mImageFilter.push("FlateDecode"),!1),!(0,t.isNullOrUndefined)(i)){for(var o=0;o<i.length;o++)switch(i.length>1&&(this.isDualFilter=!0),i[parseInt(o.toString(),10)]){case"DCTDecode":if(!this.mImageDictionary.has("SMask")&&!this.mImageDictionary.has("Mask")){var r=this.setColorSpace();if(("DeviceCMYK"===r.name||"DeviceN"===r.name||"DeviceGray"===r.name||"Separation"===r.name||"DeviceRGB"===r.name||"ICCBased"===r.name&&4===this.numberOfComponents)&&"DeviceRGB"===r.name&&(this.mImageDictionary.has("DecodeParms")||this.mImageDictionary.has("Decode")))break}}return this.mImageFilter=null,n}return null},e.prototype.setColorSpace=function(){if((0,t.isNullOrUndefined)(this.mColorspace))return this.getColorSpace(),this.mColorspace},e.prototype.getColorSpace=function(){if(this.mImageDictionary.has("ColorSpace")){this.internalColorSpace="";if(this.mImageDictionary.has("ColorSpace")){var e=this.mImageDictionary.getArray("ColorSpace");e&&Array.isArray(e)&&e.length>0&&this.mImageDictionary.get("ColorSpace")}this.mImageDictionary.get("ColorSpace")instanceof va&&(this.mColorspace=this.mImageDictionary.get("ColorSpace"))}},e.prototype.setImageFilter=function(){return(0,t.isNullOrUndefined)(this.mImageFilter)&&(this.mImageFilter=this.getImageFilter()),this.mImageFilter},e.prototype.getImageFilter=function(){var e=[];return(0,t.isNullOrUndefined)(this.mImageDictionary)||this.mImageDictionary.has("Filter")&&this.mImageDictionary.get("Filter")instanceof va&&e.push(this.mImageDictionary.get("Filter").name),e},e.prototype.getImageInterpolation=function(e){!(0,t.isNullOrUndefined)(e)&&e.has("Interpolate")&&(this.mIsImageInterpolated=e.get("Interpolate"))},e.prototype.imageStream=function(){return cr(this.mImageStream.getString(),!1,!0)},e}(),yA=function(){return yA=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yA.apply(this,arguments)},SA=function(){function e(e,i){var n=this;this.dataDetails=[],this.mobileContextMenu=[],this.organizePagesCollection=[],this.tempOrganizePagesCollection=[],this.isSkipRevert=!1,this.isAllImagesReceived=!1,this.selectedPageIndexes=[],this.autoScrollInterval=null,this.gapBetweenDivs=48,this.isDocumentModified=!1,this.undoOrganizeCollection=[],this.redoOrganizeCollection=[],this.toolbarUndoRedoCollection=[],this.isTouchEvent=!1,this.isOrganizeWindowOpen=!1,this.pageDragDrop=function(e){var t=e.target.closest(".e-pv-organize-anchor-node"),i=parseInt(t.getAttribute("data-page-order"),10);n.dragEndIndex=i,n.movePDFpages(n.selectedPageIndexes,n.dragEndIndex,n.isRightInsertion)},this.thumbnailMouseOver=function(e){var t=n;if(e.currentTarget instanceof HTMLElement)for(var i=0,o=Array.from(e.currentTarget.children);i<o.length;i++)for(var r=o[i],a=0,s=Array.from(r.children);a<s.length;a++){var l=s[a];if(!l.classList.contains("e-pv-image-container"))if(l.style.display="flex",l.classList.contains("e-checkbox-wrapper"))l.children[0].style.display="block";else if(l.classList.contains("e-pv-organize-buttondiv")&&l.childElementCount>0)for(var d=0,h=Array.from(l.children);d<h.length;d++){var A=h[d];t.totalCheckedCount>1?"insert"===A.id.split("_")[1]?A.style.display="flex":A.style.display="none":A.style.display="flex"}}},this.thumbnailMouseLeave=function(e){if(e.currentTarget instanceof HTMLElement)for(var t=0,i=Array.from(e.currentTarget.children);t<i.length;t++)for(var n=i[t],o=0,r=Array.from(n.children);o<r.length;o++){var a=r[o];a.classList.contains("e-pv-image-container")||(e.currentTarget.classList.contains("e-pv-organize-node-selection-ring")&&a.classList.contains("e-checkbox-wrapper")?a.style.display="block":a.style.display="none")}},this.onSelectClick=function(e){var i=event.currentTarget.querySelector(".e-pv-organize-tile-checkbox"),o=i.closest(".e-pv-organize-anchor-node");if("mouse"!==e.event.pointerType&&(n.isTouchEvent||t.Browser.isDevice&&!n.pdfViewer.enableDesktopMode))("touch"===e.event.pointerType||n.isTouchEvent||t.Browser.isDevice&&!n.pdfViewer.enableDesktopMode)&&((0,t.isNullOrUndefined)(i)||(0,t.isNullOrUndefined)(o)||o&&n.setSelectionRingStyle(i,o));else if(!n.isClickedOnCheckBox||(0,t.isNullOrUndefined)(i)||(0,t.isNullOrUndefined)(o)){if(!(0,t.isNullOrUndefined)(i)&&!(0,t.isNullOrUndefined)(o)){if(!n.ctrlKey&&!n.shiftKey){var r=document.querySelectorAll(".e-pv-organize-node-selection-ring");if(r.length>0)for(var a=0;a<r.length;a++){var s=r[parseInt(a.toString(),10)].closest(".e-pv-organize-anchor-node").querySelector(".e-pv-organize-tile-checkbox");s.checked=!1,n.setSelectionRingStyle(s,r[parseInt(a.toString(),10)])}n.isClickedOnCheckBox||(i.checked=!0)}n.shiftKey&&(i.checked=!0),n.setSelectionRingStyle(i,o)}}else o&&n.setSelectionRingStyle(i,o);if(n.updateSelectAllCheckbox(),n.enableDisableToolbarItems(),n.totalCheckedCount>1)for(a=0;a<o.querySelector(".e-pv-organize-buttondiv").childElementCount;a++){"insert"===o.querySelector(".e-pv-organize-buttondiv").children[parseInt(a.toString(),10)].id.split("_")[1]?o.querySelector(".e-pv-organize-buttondiv").children[parseInt(a.toString(),10)].style.display="flex":o.querySelector(".e-pv-organize-buttondiv").children[parseInt(a.toString(),10)].style.display="none"}},this.rotateButtonClick=function(e){if(n.pdfViewer.pageOrganizerSettings.canRotate){var t=e.currentTarget.closest(".e-pv-organize-anchor-node"),i=t.querySelector(".e-pv-organize-image"),o=parseInt(t.getAttribute("data-page-order"),10);if(i){var r=parseFloat(i.style.transform.replace("rotate(","").replace("deg)",""))||0;(r+=90)>=360&&(r=0),i.style.transform="rotate("+r+"deg)",n.updateTempRotationDetail(o,90);var a=[];a.push(n.clonedCollection(n.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===o})))),n.addOrganizeAction(a,"Rotate Right",[],[],null,!1)}}},this.rotateLeftButtonClick=function(e){if(n.pdfViewer.pageOrganizerSettings.canRotate){var t=e.currentTarget.closest(".e-pv-organize-anchor-node"),i=t.querySelector(".e-pv-organize-image"),o=parseInt(t.getAttribute("data-page-order"),10);if(i){var r=parseFloat(i.style.transform.replace("rotate(","").replace("deg)",""))||0;(r-=90)>=360&&(r=0),-90===r&&(r=270),i.style.transform="rotate("+r+"deg)",n.updateTempRotationDetail(o,-90);var a=[];a.push(n.clonedCollection(n.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===o})))),n.addOrganizeAction(a,"Rotate Left",[],[],null,!1)}}},this.onToolbarRightButtonClick=function(){if(n.pdfViewer.pageOrganizerSettings.canRotate){for(var e=n,t=function(t){var i=e.tileAreaDiv.childNodes[parseInt(t.toString(),10)];if(i instanceof HTMLElement&&i.classList.contains("e-pv-organize-node-selection-ring")){var o=i.querySelector(".e-pv-organize-image"),r=parseInt(i.getAttribute("data-page-order"),10);if(o){var a=parseFloat(o.style.transform.replace("rotate(","").replace("deg)",""))||0;(a+=90)>=360&&(a=0),o.style.transform="rotate("+a+"deg)",n.updateTempRotationDetail(r,90),n.toolbarUndoRedoCollection.push(n.clonedCollection(n.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===r}))))}}},i=0;i<e.tileAreaDiv.childElementCount;i++)t(i);n.addOrganizeAction(null,"Toolbar Rotate Right",n.toolbarUndoRedoCollection,[],null,!1),n.toolbarUndoRedoCollection=[]}},this.onToolbarLeftButtonClick=function(){for(var e=n,t=function(t){var i=e.tileAreaDiv.childNodes[parseInt(t.toString(),10)];if(i instanceof HTMLElement&&i.classList.contains("e-pv-organize-node-selection-ring")){var o=i.querySelector(".e-pv-organize-image"),r=parseInt(i.getAttribute("data-page-order"),10);if(o){var a=parseFloat(o.style.transform.replace("rotate(","").replace("deg)",""))||0;(a-=90)>=360&&(a=0),-90===a&&(a=270),o.style.transform="rotate("+a+"deg)",n.updateTempRotationDetail(r,-90),n.toolbarUndoRedoCollection.push(n.clonedCollection(n.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===r}))))}}},i=0;i<e.tileAreaDiv.childElementCount;i++)t(i);n.addOrganizeAction(null,"Toolbar Rotate Left",n.toolbarUndoRedoCollection,[],null,!1),n.toolbarUndoRedoCollection=[]},this.onToolbarCopyButtonClick=function(){if(n.pdfViewer.pageOrganizerSettings.canCopy){for(var e=n,t=function(t){var i=e.tileAreaDiv.childNodes[parseInt(t.toString(),10)];if(i instanceof HTMLElement&&i.classList.contains("e-pv-organize-node-selection-ring")){var o,r=i.id.split("anchor_page_")[i.id.split("anchor_page_").length-1],a=parseInt(i.getAttribute("data-page-order"),10),s=r.split("_"),l=parseInt(s[parseInt((s.length-1).toString(),10)],10);s.length>1&&(l=parseInt(s[parseInt((s.length-2).toString(),10)],10)),o=n.getNextSubIndex(i.parentElement,l),n.copyPage(a,i),n.tileImageRender(l,o,a+1,i,!0,!1,!1),n.updatePageNumber(),n.toolbarUndoRedoCollection.push(n.clonedCollection(n.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===a+1}))))}},i=0;i<e.tileAreaDiv.childElementCount;i++)t(i);n.updateTotalPageCount(),n.disableTileDeleteButton(),n.addOrganizeAction(null,"Toolbar Copy",n.toolbarUndoRedoCollection,[],null,!1),n.toolbarUndoRedoCollection=[]}},this.onToolbarDeleteButtonClick=function(){if(n.pdfViewer.pageOrganizerSettings.canDelete){var e=n,t=e.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring");t.forEach((function(e){var t=e.closest(".e-pv-organize-anchor-node"),i=parseInt(t.getAttribute("data-page-order"),10);n.toolbarUndoRedoCollection.push(n.clonedCollection(n.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===i}))))})),t.forEach((function(t){var i=t.closest(".e-pv-organize-anchor-node");e.deletePageElement(i)}))}n.enableDisableToolbarItems(),n.addOrganizeAction(null,"Toolbar Delete",n.toolbarUndoRedoCollection,[],null,!1),n.toolbarUndoRedoCollection=[]},this.undo=function(){var e=n.undoOrganizeCollection.pop();if(e){var t=JSON.parse(JSON.stringify(e));switch(t.action){case"Insert Right":case"Insert Left":case"Import Pages":case"Copy":n.removePage(t.UndoRedoTileActions[0].currentPageIndex);break;case"Rotate Right":n.rotateImage(t.UndoRedoTileActions[0].currentPageIndex,-90);break;case"Rotate Left":n.rotateImage(t.UndoRedoTileActions[0].currentPageIndex,90);break;case"Delete":var i=n.tileAreaDiv.childNodes[parseInt(t.UndoRedoTileActions[0].currentPageIndex.toString(),10)];t.UndoRedoTileActions[0].isCopied?(n.insertRemovedPages(t.UndoRedoTileActions[0],t.UndoRedoTileActions[0].currentPageIndex,i),n.tileImageRender(t.UndoRedoTileActions[0].copiedPageIndex,0,t.UndoRedoTileActions[0].currentPageIndex,i,!0,!0,!1)):t.UndoRedoTileActions[0].isInserted?(n.insertRemovedPages(t.UndoRedoTileActions[0],t.UndoRedoTileActions[0].currentPageIndex,i),n.tileImageRender(t.UndoRedoTileActions[0].copiedPageIndex,0,t.UndoRedoTileActions[0].currentPageIndex,i,!0,!0,!0)):t.UndoRedoTileActions[0].isImportedDoc?(n.insertRemovedPages(t.UndoRedoTileActions[0],t.UndoRedoTileActions[0].currentPageIndex,i),n.tileImageRender(t.UndoRedoTileActions[0].copiedPageIndex,0,t.UndoRedoTileActions[0].currentPageIndex,i,!0,!0,!1,!0,t.UndoRedoTileActions[0].documentName)):t.UndoRedoTileActions[0].isCopied||t.UndoRedoTileActions[0].isInserted||t.UndoRedoTileActions[0].isImportedDoc||(n.undoDeletedPage(t.UndoRedoTileActions[0].currentPageIndex,t.UndoRedoTileActions[0].pageIndex,t.UndoRedoTileActions[0].rotateAngle,i),n.tileImageRender(t.UndoRedoTileActions[0].pageIndex,0,t.UndoRedoTileActions[0].currentPageIndex,i,!0,!0,!1)),n.updatePageDetail();break;case"Move Pages":for(var o=t.dropIndex,r=[],a=[],s=new Set,l=function(e,t,i){return i>=e&&i<=t},d=function(e){var i=t.UndoRedoTileActions[parseInt(e.toString(),10)],d=n.tempOrganizePagesCollection.find((function(e){return i.isCopied?e.copiedPageIndex===i.copiedPageIndex&&l(o-t.selectedPagesIndexes.length,o+t.selectedPagesIndexes.length,e.currentPageIndex)&&!s.has(e.currentPageIndex):i.isInserted?e.copiedPageIndex===i.copiedPageIndex&&e.isInserted&&l(o-t.selectedPagesIndexes.length,o+t.selectedPagesIndexes.length,e.currentPageIndex)&&!s.has(e.currentPageIndex):i.isImportedDoc?e.copiedPageIndex===i.copiedPageIndex&&e.isImportedDoc&&l(o-t.selectedPagesIndexes.length,o+t.selectedPagesIndexes.length,e.currentPageIndex)&&!s.has(e.currentPageIndex):e.pageIndex===i.pageIndex}));if(d){var h=[d.currentPageIndex];s.add(d.currentPageIndex),o<i.currentPageIndex?a.push({currentPageIndex:i.currentPageIndex,selectedIndexes:h}):r.push({currentPageIndex:i.currentPageIndex,selectedIndexes:h})}},h=0;h<t.UndoRedoTileActions.length;h++)d(h);if(r.length>0){r.sort((function(e,t){return e.currentPageIndex-t.currentPageIndex}));for(var A=0;A<r.length;A++)n.rearrangePages(r[parseInt(A.toString(),10)].selectedIndexes,r[parseInt(A.toString(),10)].currentPageIndex,r[parseInt(A.toString(),10)].currentPageIndex>r[parseInt(A.toString(),10)].selectedIndexes[0])}if(a.length>0){a.sort((function(e,t){return t.currentPageIndex-e.currentPageIndex}));for(A=0;A<a.length;A++)n.rearrangePages(a[parseInt(A.toString(),10)].selectedIndexes,a[parseInt(A.toString(),10)].currentPageIndex,a[parseInt(A.toString(),10)].currentPageIndex>a[parseInt(A.toString(),10)].selectedIndexes[0])}break;case"Toolbar Rotate Right":n.rotateImages(t,-90);break;case"Toolbar Rotate Left":n.rotateImages(t,90);break;case"Toolbar Copy":if(t.toolbarActions.length>0)for(h=t.toolbarActions.length-1;h>=0;h--){i=n.tileAreaDiv.childNodes[parseInt(t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex.toString(),10)];n.deleteTempPage(t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex,i),n.tileAreaDiv.removeChild(i),n.updatePageDetail()}n.disableTileDeleteButton();break;case"Toolbar Delete":if(t.toolbarActions.length>0)for(h=0;h<t.toolbarActions.length;h++){i=n.tileAreaDiv.childNodes[parseInt(t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex.toString(),10)];t.toolbarActions[parseInt(h.toString(),10)].isCopied?(n.insertRemovedPages(t.toolbarActions[parseInt(h.toString(),10)],t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex,i),n.tileImageRender(t.toolbarActions[parseInt(h.toString(),10)].copiedPageIndex,0,t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex,i,!0,!0,!1)):t.toolbarActions[parseInt(h.toString(),10)].isInserted?(n.insertRemovedPages(t.toolbarActions[parseInt(h.toString(),10)],t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex,i),n.tileImageRender(t.toolbarActions[parseInt(h.toString(),10)].copiedPageIndex,0,t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex,i,!0,!0,!0)):t.toolbarActions[parseInt(h.toString(),10)].isImportedDoc?(n.insertRemovedPages(t.toolbarActions[parseInt(h.toString(),10)],t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex,i),n.tileImageRender(t.toolbarActions[parseInt(h.toString(),10)].copiedPageIndex,0,t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex,i,!0,!0,!1,!0,t.toolbarActions[parseInt(h.toString(),10)].documentName)):t.toolbarActions[parseInt(h.toString(),10)].isCopied||t.toolbarActions[parseInt(h.toString(),10)].isInserted||t.toolbarActions[parseInt(h.toString(),10)].isImportedDoc||(n.undoDeletedPage(t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex,t.toolbarActions[parseInt(h.toString(),10)].pageIndex,t.toolbarActions[parseInt(h.toString(),10)].rotateAngle,i),n.tileImageRender(t.toolbarActions[parseInt(h.toString(),10)].pageIndex,0,t.toolbarActions[parseInt(h.toString(),10)].currentPageIndex,i,!0,!0,!1)),n.updatePageDetail()}n.disableTileDeleteButton()}}n.redoOrganizeCollection.push(e),n.enableDisableToolbarItems(),n.updateUndoRedoButtons()},this.redo=function(){var e=n.redoOrganizeCollection.pop();if(e){var t=JSON.parse(JSON.stringify(e));switch(t.action){case"Insert Right":case"Insert Left":var i=n.tileAreaDiv.childNodes[parseInt(t.UndoRedoTileActions[0].currentPageIndex.toString(),10)];n.insertRemovedPages(t.UndoRedoTileActions[0],t.UndoRedoTileActions[0].currentPageIndex,i),n.tileImageRender(t.UndoRedoTileActions[0].copiedPageIndex,0,t.UndoRedoTileActions[0].currentPageIndex,i,!0,!0,!0),n.disableTileCopyButton(),n.updatePageDetail();break;case"Rotate Right":n.rotateImage(t.UndoRedoTileActions[0].currentPageIndex,90);break;case"Rotate Left":n.rotateImage(t.UndoRedoTileActions[0].currentPageIndex,-90);break;case"Copy":i=n.tileAreaDiv.childNodes[parseInt(t.UndoRedoTileActions[0].currentPageIndex.toString(),10)];n.insertRemovedPages(t.UndoRedoTileActions[0],t.UndoRedoTileActions[0].currentPageIndex,i),n.tileImageRender(t.UndoRedoTileActions[0].copiedPageIndex,0,t.UndoRedoTileActions[0].currentPageIndex,i,!0,!0,!1),n.updatePageDetail();break;case"Import Pages":i=n.tileAreaDiv.childNodes[parseInt(t.UndoRedoTileActions[0].currentPageIndex.toString(),10)];n.insertRemovedPages(t.UndoRedoTileActions[0],t.UndoRedoTileActions[0].currentPageIndex,i),n.tileImageRender(t.UndoRedoTileActions[0].copiedPageIndex,0,t.UndoRedoTileActions[0].currentPageIndex,i,!0,!0,!1,!0,t.UndoRedoTileActions[0].documentName),n.disableTileCopyRotateButton();break;case"Delete":n.removePage(t.UndoRedoTileActions[0].currentPageIndex);break;case"Move Pages":n.rearrangePages(t.selectedPagesIndexes,t.dropIndex,t.isRightInsertion);break;case"Toolbar Rotate Right":n.rotateImages(t,90);break;case"Toolbar Rotate Left":n.rotateImages(t,-90);break;case"Toolbar Copy":if(t.toolbarActions.length>0)for(var o=0;o<t.toolbarActions.length;o++){i=n.tileAreaDiv.childNodes[parseInt(t.toolbarActions[parseInt(o.toString(),10)].currentPageIndex.toString(),10)];n.insertRemovedPages(t.toolbarActions[parseInt(o.toString(),10)],t.toolbarActions[parseInt(o.toString(),10)].currentPageIndex,i),n.tileImageRender(t.toolbarActions[parseInt(o.toString(),10)].copiedPageIndex,0,t.toolbarActions[parseInt(o.toString(),10)].currentPageIndex,i,!0,!0,!1),n.updatePageDetail()}n.disableTileDeleteButton();break;case"Toolbar Delete":if(t.toolbarActions.length>0)for(o=t.toolbarActions.length-1;o>=0;o--){i=n.tileAreaDiv.childNodes[parseInt(t.toolbarActions[parseInt(o.toString(),10)].currentPageIndex.toString(),10)];n.deleteTempPage(t.toolbarActions[parseInt(o.toString(),10)].currentPageIndex,i),n.tileAreaDiv.removeChild(i),n.updatePageDetail()}n.disableTileDeleteButton()}}n.undoOrganizeCollection.push(e),n.enableDisableToolbarItems(),n.updateUndoRedoButtons()},this.rotateImages=function(e,t){if(e.toolbarActions.length>0)for(var i=0;i<e.toolbarActions.length;i++){var o=n.tileAreaDiv.childNodes[parseInt(e.toolbarActions[parseInt(i.toString(),10)].currentPageIndex.toString(),10)].querySelector(".e-pv-organize-image");if(o){var r=parseFloat(o.style.transform.replace("rotate(","").replace("deg)",""))||0;r=(r+t+360)%360,o.style.transform="rotate("+r+"deg)",n.updateTempRotationDetail(e.toolbarActions[parseInt(i.toString(),10)].currentPageIndex,t)}}},this.insertRightButtonClick=function(e){if(n.pdfViewer.pageOrganizerSettings.canInsert){var t,i=e.currentTarget,o=i.id.split("_insert_page_")[i.id.split("_insert_page_").length-1],r=i.closest(".e-pv-organize-anchor-node"),a=parseInt(r.getAttribute("data-page-order"),10),s=o.split("_"),l=parseInt(s[parseInt((s.length-1).toString(),10)],10);s.length>1&&(l=parseInt(s[parseInt((s.length-2).toString(),10)],10)),t=n.getNextSubIndex(r.parentElement,l),n.insertTempPage(a,!1,r),n.tileImageRender(l,t,a+1,r,!0,!1,!0),n.updateTotalPageCount(),n.updatePageNumber(),n.disableTileDeleteButton(),n.disableTileCopyButton(),n.updateSelectAllCheckbox(),n.enableDisableToolbarItems();var d=[];d.push(n.clonedCollection(n.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===a+1})))),n.addOrganizeAction(d,"Insert Right",[],[],null,!1)}},this.insertLeftButtonClick=function(e){if(n.pdfViewer.pageOrganizerSettings.canInsert){var t,i=e.currentTarget,o=i.id.split("_insert_page_")[i.id.split("_insert_page_").length-1],r=i.closest(".e-pv-organize-anchor-node"),a=parseInt(r.getAttribute("data-page-order"),10),s=o.split("_"),l=parseInt(s[parseInt((s.length-1).toString(),10)],10);s.length>1&&(l=parseInt(s[parseInt((s.length-2).toString(),10)],10)),t=n.getNextSubIndex(r.parentElement,l),n.insertTempPage(a,!0,r),n.tileImageRender(l,t,a,r,!0,!0,!0),n.updateTotalPageCount(),n.updatePageNumber(),n.disableTileDeleteButton(),n.disableTileCopyButton(),n.updateSelectAllCheckbox(),n.enableDisableToolbarItems();var d=[];d.push(n.clonedCollection(n.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===a})))),n.addOrganizeAction(d,"Insert Left",[],[],null,!1)}},this.copyButtonClick=function(e){if(n.pdfViewer.pageOrganizerSettings.canCopy){var t,i=e.currentTarget,o=i.id.split("_copy_page_")[i.id.split("_copy_page_").length-1],r=i.closest(".e-pv-organize-anchor-node"),a=parseInt(r.getAttribute("data-page-order"),10),s=o.split("_"),l=parseInt(s[parseInt((s.length-1).toString(),10)],10);s.length>1&&(l=parseInt(s[parseInt((s.length-2).toString(),10)],10)),t=n.getNextSubIndex(r.parentElement,l),n.copyPage(a,r),n.tileImageRender(l,t,a+1,r,!0,!1,!1),n.updateTotalPageCount(),n.updatePageNumber(),n.disableTileDeleteButton();var d=[];d.push(n.clonedCollection(n.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===a+1})))),n.addOrganizeAction(d,"Copy",[],[],null,!1)}},this.deleteButtonClick=function(e){if(n.pdfViewer.pageOrganizerSettings.canDelete){var t=e.currentTarget.closest(".e-pv-organize-anchor-node"),i=parseInt(t.getAttribute("data-page-order"),10),o=[];o.push(n.clonedCollection(n.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===i})))),n.addOrganizeAction(o,"Delete",[],[],null,!1),n.deletePageElement(t)}n.updateSelectAllCheckbox(),n.enableDisableToolbarItems()},this.pdfViewer=e,this.pdfViewerBase=i}return e.prototype.createOrganizeWindow=function(e){var i=this,n=this.pdfViewer.element.id;if(!(0,t.isNullOrUndefined)(document.getElementById(n+"_organize_window"))&&!(0,t.isNullOrUndefined)(this.organizeDialog))return this.organizeDialog.show(!0),void(this.isOrganizeWindowOpen=!0);this.dialogDivElement=(0,t.createElement)("div",{id:n+"_organize_window",className:"e-pv-organize-window"});var o=this.dialogDivElement,r=this.createContentArea();if(this.pdfViewerBase.mainContainer.appendChild(o),this.organizeDialog=new Ne.Dialog({showCloseIcon:!0,closeOnEscape:!0,isModal:!0,header:this.pdfViewer.localeObj.getConstant("Organize Pages"),target:this.pdfViewerBase.mainContainer,content:r,visible:!1,open:function(){i.organizeWindowFocus()},close:function(e){i.isSkipRevert?i.isSkipRevert=!1:(i.tempOrganizePagesCollection=JSON.parse(JSON.stringify(i.organizePagesCollection)),i.undoOrganizeCollection=[],i.redoOrganizeCollection=[],i.isDocumentModified=!1,i.pdfViewerBase.isImportDoc=!1,i.startTile=null,i.ctrlKey=!1,i.shiftKey=!1,i.isTouchEvent=!1,i.isClickedOnCheckBox=!1,i.totalCheckedCount=0,i.isOrganizeWindowOpen=!1,i.destroyDialogWindow(),i.createOrganizeWindow(!0))}}),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode){var a=this.pdfViewerBase.pageCount;this.organizeDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Save As"),isPrimary:!0},click:this.onSaveasClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Save"),isPrimary:!0},click:this.onSaveClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Total")+" "+a.toString()+" "+this.pdfViewer.localeObj.getConstant("Pages"),cssClass:"e-pv-organize-total-page-button",disabled:!0}}]}window.addEventListener("resize",(function(){i.updateOrganizeDialogSize()})),this.pdfViewer.enableRtl&&(this.organizeDialog.enableRtl=!0),this.waitingPopup=(0,t.createElement)("div",{id:n+"_organizeLoadingIndicator"}),o.appendChild(this.waitingPopup),Nl({target:this.waitingPopup,cssClass:"e-spin-center"}),this.pdfViewerBase.setLoaderProperties(this.waitingPopup),this.organizeDialog.appendTo(o),e||(this.organizeDialog.show(!0),this.isOrganizeWindowOpen=!0),this.disableTileDeleteButton(),this.enableDisableToolbarItems(),this.updateUndoRedoButtons(),this.initEventListeners()},e.prototype.createOrganizeWindowForMobile=function(){var e=this,i=this.pdfViewer.element.id;if((0,t.isNullOrUndefined)(document.getElementById(i+"_organize_window"))||(0,t.isNullOrUndefined)(this.organizeDialog)){this.dialogDivElement=(0,t.createElement)("div",{id:i+"_organize_window",className:"e-pv-organize-window"});var n=this.dialogDivElement,o=this.createContentArea();if(this.pdfViewerBase.mainContainer.appendChild(n),this.organizeDialog=new Ne.Dialog({showCloseIcon:!0,closeOnEscape:!0,isModal:!0,header:this.pdfViewer.localeObj.getConstant("Organize Pages"),target:this.pdfViewerBase.mainContainer,content:o,visible:!1,close:function(){e.isSkipRevert?e.isSkipRevert=!1:(e.tempOrganizePagesCollection=JSON.parse(JSON.stringify(e.organizePagesCollection)),e.undoOrganizeCollection=[],e.redoOrganizeCollection=[],e.isDocumentModified=!1,e.pdfViewerBase.isImportDoc=!1,e.startTile=null,e.ctrlKey=!1,e.shiftKey=!1,e.isTouchEvent=!1,e.isClickedOnCheckBox=!1,e.isOrganizeWindowOpen=!1,e.totalCheckedCount=0,e.destroyDialogWindow(),e.createOrganizeWindow(!0))}}),!t.Browser.isDevice||this.pdfViewer.enableDesktopMode){var r=this.pdfViewerBase.pageCount;this.organizeDialog.buttons=[{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Save As"),isPrimary:!0},click:this.onSaveasClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Save"),isPrimary:!0},click:this.onSaveClicked.bind(this)},{buttonModel:{content:this.pdfViewer.localeObj.getConstant("Total")+" "+r.toString()+" "+this.pdfViewer.localeObj.getConstant("Pages"),cssClass:"e-pv-organize-total-page-button",disabled:!0}}]}window.addEventListener("resize",(function(){e.updateOrganizeDialogSize()})),this.pdfViewer.enableRtl&&(this.organizeDialog.enableRtl=!0),this.waitingPopup=(0,t.createElement)("div",{id:i+"_organizeLoadingIndicator"}),n.appendChild(this.waitingPopup),Nl({target:this.waitingPopup,cssClass:"e-spin-center"}),this.pdfViewerBase.setLoaderProperties(this.waitingPopup),this.organizeDialog.appendTo(n),this.organizeDialog.show(!0),this.createMobileContextMenu(),this.disableTileDeleteButton(),this.enableDisableToolbarItems(),this.updateUndoRedoButtons(),this.initEventListeners()}else this.organizeDialog.show(!0)},e.prototype.initEventListeners=function(){this.boundOnTileAreaMouseDown=this.onTileAreaMouseDown.bind(this),this.boundOnTileAreaKeyDown=this.onTileAreaKeyDown.bind(this),this.boundOnTileAreaKeyUp=this.onTileAreaKeyUp.bind(this),this.tileAreaDiv.addEventListener("mousedown",this.boundOnTileAreaMouseDown),document.addEventListener("keydown",this.boundOnTileAreaKeyDown),document.addEventListener("keyup",this.boundOnTileAreaKeyUp)},e.prototype.removeEventListeners=function(){(0,t.isNullOrUndefined)(this.tileAreaDiv)||this.tileAreaDiv.removeEventListener("mousedown",this.boundOnTileAreaMouseDown),document.removeEventListener("keydown",this.boundOnTileAreaKeyDown),document.removeEventListener("keyup",this.boundOnTileAreaKeyUp)},e.prototype.onTileAreaMouseDown=function(e){var t=this;if(e.target&&e.target.previousElementSibling&&e.target.previousElementSibling.classList.contains("e-pv-organize-tile-checkbox")?this.isClickedOnCheckBox=!0:this.isClickedOnCheckBox=!1,e.target.closest(".e-pv-organize-anchor-node")){var i=e.target,n=Array.from(this.tileAreaDiv.children);if(this.shiftKey&&this.startTile){var o=Array.from(this.tileAreaDiv.children).indexOf(i.closest(".e-pv-organize-anchor-node"));if(this.startTile){var r=Array.from(this.tileAreaDiv.children).indexOf(this.startTile.closest(".e-pv-organize-anchor-node"));this.selectRange(r,o),n.forEach((function(e,i){(i<Math.min(r,o)||i>Math.max(r,o))&&t.deselectTile(e)}))}}else this.ctrlKey||(this.startTile=i)}else this.ctrlKey||this.shiftKey||(this.clearSelection(),this.startTile=null);this.updateSelectAllCheckbox(),this.enableDisableToolbarItems()},e.prototype.onTileAreaKeyDown=function(e){!e.ctrlKey&&!e.metaKey||e.shiftKey||(this.ctrlKey=!0,this.isOrganizeWindowOpen&&(65===e.keyCode&&(e.preventDefault(),this.selectAllTiles()),90===e.keyCode?(e.preventDefault(),this.undo()):89===e.keyCode&&(e.preventDefault(),this.redo()))),e.shiftKey&&(this.shiftKey=!0)},e.prototype.onTileAreaKeyUp=function(e){e.ctrlKey||e.metaKey||(this.ctrlKey=!1),e.shiftKey||(this.shiftKey=!1)},e.prototype.onSelectAllClick=function(e){e.checked?this.selectAllTiles():this.clearSelection()},e.prototype.selectRange=function(e,t){for(var i=Math.min(e,t),n=Math.max(e,t),o=i;o<=n;o++){var r=this.tileAreaDiv.children[parseInt(o.toString(),10)];this.selectTile(r)}},e.prototype.selectTile=function(e){if(!(0,t.isNullOrUndefined)(e)){var i=e.closest(".e-pv-organize-anchor-node").querySelector(".e-pv-organize-tile-checkbox");i&&(i.checked=!0,this.setSelectionRingStyle(i,e))}},e.prototype.deselectTile=function(e){if(!(0,t.isNullOrUndefined)(e)){var i=e.closest(".e-pv-organize-anchor-node").querySelector(".e-pv-organize-tile-checkbox");i&&(i.checked=!1,this.setSelectionRingStyle(i,e))}},e.prototype.clearSelection=function(){var e=this;document.querySelectorAll(".e-pv-organize-node-selection-ring").forEach((function(t){var i=t.closest(".e-pv-organize-anchor-node").querySelector(".e-pv-organize-tile-checkbox");i.checked=!1,e.setSelectionRingStyle(i,t)})),this.updateSelectAllCheckbox(),this.enableDisableToolbarItems()},e.prototype.selectAllTiles=function(){var e=this;Array.from(this.tileAreaDiv.children).forEach((function(t){e.selectTile(t)})),this.updateSelectAllCheckbox(),this.enableDisableToolbarItems()},e.prototype.updateOrganizeDialogSize=function(){var e=this.pdfViewer.element.getBoundingClientRect().width,i=this.pdfViewer.element.getBoundingClientRect().height;(0,t.isNullOrUndefined)(this.organizeDialog)||(this.organizeDialog.width=e+"px",this.organizeDialog.height=i+"px")},e.prototype.createContentArea=function(){var e=this,i=this.pdfViewer.element.id,n=(0,t.createElement)("div",{id:i+"_content_appearance",className:"e-pv-organize-content-apperance"}),o=(0,t.createElement)("div",{id:i+"_toolbar_appearance",className:"e-pv-organize-toolbar-apperance"});this.tileAreaWrapper=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_organize_tile_view_wrapper",className:"e-pv-organize-tile-view-wrapper"}),this.tileAreaDiv=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_organize_tile_view",className:"e-pv-organize-tile-view e-pv-thumbnail-row"}),this.tileAreaWrapper.style.width="100%",this.tileAreaWrapper.style.height="calc(100% - 48px)",this.tileAreaWrapper.style.position="relative",n.style.width="100%",n.style.height="100%",o.style.height="48px",this.tileAreaDiv.style.height="100%",this.selectAllCheckBox=new Ad.CheckBox({label:t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?"":this.pdfViewer.localeObj.getConstant("Select All"),cssClass:"e-pv-organize-select-all",checked:!1,change:this.onSelectAllClick.bind(this)});var r=[],a=[{type:"Input",template:this.selectAllCheckBox,id:"selectAllCheckbox",align:"Left"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-undo-icon e-pv-icon",visible:!0,cssClass:"e-pv-undo-container",id:this.pdfViewer.element.id+"_undo_organize_Pages",align:"Left",click:function(t){e.undo()}},{prefixIcon:"e-pv-redo-icon e-pv-icon",visible:!0,cssClass:"e-pv-redo-container",id:this.pdfViewer.element.id+"_redo_organize_Pages",align:"Left",click:function(t){e.redo()}},{prefixIcon:"e-pv-rotate-left-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-left",id:this.pdfViewer.element.id+"_rotate_page_left",align:"Center",click:function(t){e.onToolbarLeftButtonClick()}},{prefixIcon:"e-pv-rotate-right-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-right",id:this.pdfViewer.element.id+"_rotate_page_right",align:"Center",click:function(t){e.onToolbarRightButtonClick()}},{type:"Separator",align:"Center"},{prefixIcon:"e-pv-copy-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-right",id:this.pdfViewer.element.id+"_copy_page",align:"Center",click:function(t){e.onToolbarCopyButtonClick()}},{type:"Separator",align:"Center"},{prefixIcon:"e-pv-delete-icon e-pv-icon",visible:!0,cssClass:"e-pv-delete-selected",id:this.pdfViewer.element.id+"_delete_selected",align:"Center",click:function(t){e.onToolbarDeleteButtonClick()}},{prefixIcon:"e-pv-import-icon e-pv-icon",text:this.pdfViewer.localeObj.getConstant("Import Document"),visible:!0,cssClass:"e-pv-import-pages",id:this.pdfViewer.element.id+"_import_pages",align:"Right",click:function(t){e.bindImportDocEvent()}}],s=[{type:"Input",template:this.selectAllCheckBox,id:"selectAllCheckbox",align:"Left"},{type:"Separator",align:"Left"},{prefixIcon:"e-pv-undo-icon e-pv-icon",visible:!0,cssClass:"e-pv-undo-container",id:this.pdfViewer.element.id+"_undo_organize_Pages",align:"Left",click:function(t){e.undo()}},{prefixIcon:"e-pv-redo-icon e-pv-icon",visible:!0,cssClass:"e-pv-redo-container",id:this.pdfViewer.element.id+"_redo_organize_Pages",align:"Left",click:function(t){e.redo()}},{prefixIcon:"e-pv-rotate-left-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-left",id:this.pdfViewer.element.id+"_rotate_page_left",align:"Right",click:function(t){e.onToolbarLeftButtonClick()}},{prefixIcon:"e-pv-rotate-right-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-right",id:this.pdfViewer.element.id+"_rotate_page_right",align:"Right",click:function(t){e.onToolbarRightButtonClick()}},{prefixIcon:"e-pv-delete-icon e-pv-icon",visible:!0,cssClass:"e-pv-delete-selected",id:this.pdfViewer.element.id+"_delete_selected",align:"Right",click:function(t){e.onToolbarDeleteButtonClick()}},{type:"Separator",align:"Right"},{prefixIcon:"e-pv-more-icon e-pv-icon",visible:!0,cssClass:"e-pv-toolbar-rotate-right",id:this.pdfViewer.element.id+"_organize_more_button",align:"Right",click:this.openContextMenu.bind(this)}];t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?r.push.apply(r,s):r.push.apply(r,a),this.toolbar=new ai.Toolbar({items:r}),this.toolbar.cssClass="e-pv-organize-toolbar",this.toolbar.height="48px",this.toolbar.width="auto",this.toolbar.appendTo(o),n.appendChild(o),this.renderThumbnailImage(),this.tileAreaWrapper.appendChild(this.tileAreaDiv),n.appendChild(this.tileAreaWrapper),this.createImportDocElement(o),this.organizeWireEvent();var l=o.querySelector("#"+this.pdfViewer.element.id+"_rotate_page_right");(0,t.isNullOrUndefined)(l)||this.createTooltip(l,this.pdfViewer.localeObj.getConstant("Rotate Right"));var d=o.querySelector("#"+this.pdfViewer.element.id+"_rotate_page_left");(0,t.isNullOrUndefined)(d)||this.createTooltip(d,this.pdfViewer.localeObj.getConstant("Rotate Left"));var h=o.querySelector("#"+this.pdfViewer.element.id+"_copy_page");(0,t.isNullOrUndefined)(h)||this.createTooltip(h,this.pdfViewer.localeObj.getConstant("Copy Pages"));var A=o.querySelector("#"+this.pdfViewer.element.id+"_delete_selected");(0,t.isNullOrUndefined)(A)||this.createTooltip(A,this.pdfViewer.localeObj.getConstant("Delete Pages"));var p=o.querySelector("#"+this.pdfViewer.element.id+"_undo_organize_Pages");(0,t.isNullOrUndefined)(p)||this.createTooltip(p,this.pdfViewer.localeObj.getConstant("Undo"));var c=o.querySelector("#"+this.pdfViewer.element.id+"_redo_organize_Pages");return(0,t.isNullOrUndefined)(c)||this.createTooltip(c,this.pdfViewer.localeObj.getConstant("Redo")),n},e.prototype.createMobileContextMenu=function(){this.mobileContextMenu=[{text:this.pdfViewer.localeObj.getConstant("Save"),iconCss:"e-icons e-pv-save-icon e-pv-icon"},{text:this.pdfViewer.localeObj.getConstant("Save As"),iconCss:"e-icons e-pv-save-as-icon e-pv-icon"},{separator:!0},{text:this.pdfViewer.localeObj.getConstant("Copy"),iconCss:"e-pv-copy-icon e-pv-icon"},{separator:!0},{text:this.pdfViewer.localeObj.getConstant("Import Document"),id:this.pdfViewer.element.id+"_import_pages",iconCss:"e-pv-import-icon e-pv-icon"}];var e=(0,t.createElement)("ul",{id:this.pdfViewer.element.id+"_organize_context_menu"});this.pdfViewer.element.appendChild(e),(0,t.isNullOrUndefined)(this.contextMenuObj)&&(this.contextMenuObj=new ai.ContextMenu({target:"#"+this.pdfViewer.element.id+"_organize_more_button",items:this.mobileContextMenu,beforeOpen:this.contextMenuBeforeOpen.bind(this),select:this.contextMenuItemSelect.bind(this)}),this.pdfViewer.enableRtl&&(this.contextMenuObj.enableRtl=!0),this.contextMenuObj.appendTo(e)),t.Browser.isDevice&&!this.pdfViewer.enableDesktopMode?this.contextMenuObj.animationSettings.effect="ZoomIn":this.contextMenuObj.animationSettings.effect="SlideDown"},e.prototype.contextMenuBeforeOpen=function(e){this.contextMenuObj.enableItems(["Save","Save As"],!0),this.contextMenuObj.enableItems(["Copy"],!1),this.contextMenuObj.enableItems(["Import Document"],!0);!this.selectAllCheckBox.checked&&!this.selectAllCheckBox.indeterminate||!this.pdfViewer.pageOrganizerSettings.canCopy||this.getCopiedItems(!1)||this.getImportedItems(!1)||this.contextMenuObj.enableItems(["Copy"],!0)},e.prototype.getCopiedItems=function(e){var t=this;return this.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring").forEach((function(i){var n=i.closest(".e-pv-organize-anchor-node"),o=parseInt(n.getAttribute("data-page-order"),10),r=t.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===o}));r.isInserted&&!r.isDeleted&&(e=!0)})),e},e.prototype.getImportedItems=function(e){var t=this;return this.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring").forEach((function(i){var n=i.closest(".e-pv-organize-anchor-node"),o=parseInt(n.getAttribute("data-page-order"),10),r=t.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===o}));r.isImportedDoc&&!r.isDeleted&&(e=!0)})),e},e.prototype.contextMenuItemSelect=function(e){switch(e.item.text){case"Save":this.onSaveClicked();break;case"Save As":this.onSaveasClicked();break;case"Copy":this.onToolbarCopyButtonClick();break;case"Import Document":this.bindImportDocEvent()}},e.prototype.createRequestForPreview=function(){var e=this;return!!document.documentMode?(this.requestPreviewCreation(e),null):new Promise((function(t,i){e.requestPreviewCreation(e)}))},e.prototype.requestPreviewCreation=function(e){for(var i=e.pdfViewer.pageCount,n=!1,o=0;o<i;o++)e.pdfViewerBase.digitalSignaturePresent(o)&&(n=!0);var r="";n&&(r=e.pdfViewerBase.digitalSignaturePages.toString());var a={startPage:(0).toString(),endPage:i.toString(),sizeX:"99.7",sizeY:"141",hashId:e.pdfViewerBase.hashId,action:"RenderThumbnailImages",elementId:e.pdfViewer.element.id,uniqueId:e.pdfViewerBase.documentId,digitalSignaturePresent:n,digitalSignaturePageList:r};if(this.pdfViewerBase.jsonDocumentId&&(a.documentId=this.pdfViewerBase.jsonDocumentId),this.pdfViewerBase.clientSideRendering)for(var s=0;s<i;s++)this.pdfViewerBase.pdfViewerRunner.postMessage({startIndex:0,endIndex:i,pageIndex:s,message:"renderPreviewTileImage"});else this.previewRequestHandler=new hd(this.pdfViewer),this.previewRequestHandler.url=e.pdfViewer.serviceUrl+"/"+e.pdfViewer.serverActionSettings.renderThumbnail,this.previewRequestHandler.responseType="json",i>0&&!(0,t.isNullOrUndefined)(e.pdfViewerBase.hashId)&&this.previewRequestHandler.send(a),this.previewRequestHandler.onSuccess=function(t){var i=t.data;e.pdfViewerBase.checkRedirection(i)||e.updatePreviewCollection(i)},this.previewRequestHandler.onFailure=function(t){e.pdfViewer.fireAjaxRequestFailed(t.status,t.statusText,e.pdfViewer.serverActionSettings.renderThumbnail)},this.previewRequestHandler.onError=function(t){e.pdfViewerBase.openNotificationPopup(),e.pdfViewer.fireAjaxRequestFailed(t.status,t.statusText,e.pdfViewer.serverActionSettings.renderThumbnail)}},e.prototype.updatePreviewCollection=function(e){if(e){var t=this;if("object"!=typeof e)try{e=JSON.parse(e)}catch(i){t.pdfViewerBase.onControlError(500,e,t.pdfViewer.serverActionSettings.renderThumbnail),e=null}e&&e.uniqueId===t.pdfViewerBase.documentId&&(t.pdfViewer.fireAjaxRequestSuccess(t.pdfViewer.serverActionSettings.renderThumbnail,e),this.getData(e,t.pdfViewerBase.clientSideRendering))}},e.prototype.previewOnMessage=function(e){if("renderPreviewTileImage"===e.data.message){var t=document.createElement("canvas"),i=e.data,n=i.value,o=i.width,r=i.height,a=i.pageIndex,s=i.startIndex,l=i.endIndex;t.width=o,t.height=r;var d=t.getContext("2d"),h=d.createImageData(o,r);h.data.set(n),d.putImageData(h,0,0);var A=t.toDataURL();this.pdfViewerBase.releaseCanvas(t);var p={thumbnailImage:A,startPage:s,endPage:l,uniqueId:this.pdfViewerBase.documentId,pageIndex:a};this.updatePreviewCollection(p)}},e.prototype.getData=function(e,i){if(this.dataDetails||(this.dataDetails=[]),i)this.dataDetails.push({pageId:e.pageIndex,image:e.thumbnailImage});else for(var n=e.startPage,o=e.endPage,r=n;r<o;r++){var a=e.thumbnailImage[parseInt(r.toString(),10)],s=r;this.dataDetails.push({pageId:s,image:a})}this.dataDetails.length===this.pdfViewer.pageCount&&((0,t.isNullOrUndefined)(this.pdfViewerBase.navigationPane)||this.pdfViewerBase.navigationPane.enableOrganizeButton(!0),(0,t.isNullOrUndefined)(this.pdfViewer.toolbar)||this.pdfViewer.toolbar.enableToolbarItem(["OrganizePagesTool"],!0),this.pdfViewer.isPageOrganizerOpen&&(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.createOrganizeWindow():this.createOrganizeWindowForMobile()),this.isAllImagesReceived=!0)},e.prototype.createImportDocElement=function(e){this.pdfViewer.pageOrganizerSettings.canImport&&e&&(this.importDocInputElement=(0,t.createElement)("input",{id:this.pdfViewer.element.id+"_importDocElement",styles:"position:fixed; left:-100em",attrs:{type:"file"}}),this.importDocInputElement.setAttribute("accept",".pdf"),this.importDocInputElement.setAttribute("aria-label","import document element"),this.importDocInputElement.setAttribute("tabindex","-1"),e.appendChild(this.importDocInputElement))},e.prototype.movePDFpages=function(e,t,i){for(var n=this,o=!1,r=0,a=e;r<a.length;r++){if(a[r]===t){o=!0;break}}if(!o){for(var s=[],l=function(e){s.push(d.clonedCollection(d.tempOrganizePagesCollection.find((function(t){return t.currentPageIndex===n.selectedPageIndexes[parseInt(e.toString(),10)]}))))},d=this,h=0;h<this.selectedPageIndexes.length;h++)l(h);var A=[];A.push.apply(A,this.selectedPageIndexes),this.addOrganizeAction(s,"Move Pages",[],A,this.dragEndIndex,this.isRightInsertion),this.rearrangePages(e,t,i)}},e.prototype.rearrangePages=function(e,t,i){var n=this;this.tempOrganizePagesCollection=this.updateCollection(this.tempOrganizePagesCollection,e,t,i);var o=Array.from(this.tileAreaDiv.children);e.sort((function(e,t){return e-t}));var r=e.map((function(e){return o[parseInt(e.toString(),10)]})),a=i?t+1:t;r.forEach((function(e){o.splice(a,0,e),a+=1}));for(var s=0;s<e.length;s++)e[parseInt(s.toString(),10)]>=t&&(e[parseInt(s.toString(),10)]+=r.length);e.sort((function(e,t){return t-e})).forEach((function(e){o.splice(e,1)})),this.tileAreaDiv.innerHTML="",o.forEach((function(e,t){n.tileAreaDiv.appendChild(e),e.setAttribute("data-page-order",t.toString())})),this.updatePageNumber()},e.prototype.updateCollection=function(e,i,n,o){var r=this,a=[],s=0,l=[];i.sort(),n=o?n+1:n;var d=0;i.forEach((function(e){e<n&&d++}));var h=e.sort((function(e,t){return r.sorting(e.currentPageIndex,t.currentPageIndex)})),A=h.filter((function(e){return null===e.currentPageIndex})).length;h.forEach((function(e){null===e.currentPageIndex&&a.push(yA({},e))}));for(var p=0;p<h.length;p++){for(var c=!1,g=0;g<i.length;g++)if(h[parseInt(p.toString(),10)].currentPageIndex===i[parseInt(g.toString(),10)]){c=!0;break}if(s===n-d)break;c||this.containsPageDetails(h[parseInt(p.toString(),10)],l)||(0,t.isNullOrUndefined)(h[parseInt(p.toString(),10)].currentPageIndex)||(a.push(yA({},h[parseInt(p.toString(),10)])),l.push(h[parseInt(p.toString(),10)]),a[a.length-1].currentPageIndex=s,s+=1)}for(p=0;p<h.length;p++){for(c=!1,g=0;g<i.length;g++)if(h[parseInt(p.toString(),10)].currentPageIndex===i[parseInt(g.toString(),10)]){c=!0;break}c&&!this.containsPageDetails(h[parseInt(p.toString(),10)],l)&&(a.push(yA({},h[parseInt(p.toString(),10)])),l.push(h[parseInt(p.toString(),10)]),a[a.length-1].currentPageIndex=s,s+=1)}for(p=A;p<h.length;p++){for(c=!1,g=0;g<i.length;g++)if(h[parseInt(p.toString(),10)].currentPageIndex===i[parseInt(g.toString(),10)]){c=!0;break}c||this.containsPageDetails(h[parseInt(p.toString(),10)],l)||(a.push(yA({},h[parseInt(p.toString(),10)])),l.push(h[parseInt(p.toString(),10)]),a[a.length-1].currentPageIndex=s,s+=1)}return a},e.prototype.sorting=function(e,i){return(e=(0,t.isNullOrUndefined)(e)?-1:parseInt(e.toString(),10))>(i=(0,t.isNullOrUndefined)(i)?-1:parseInt(i.toString(),10))?1:e<i?-1:0},e.prototype.containsPageDetails=function(e,t){for(var i=!1,n=!1,o=0;o<t.length;o++)t[parseInt(o.toString(),10)].pageIndex===e.pageIndex&&(i=!0),t[parseInt(o.toString(),10)].currentPageIndex===e.currentPageIndex&&(n=!0);return i&&n},e.prototype.renderThumbnailImage=function(){this.organizePagesCollection=[];for(var e=0;e<this.pdfViewer.pageCount;e++)this.tileImageRender(e),this.organizePagesCollection.push(new BA(e,e,null,!1,!1,!1,!1,!1,!1,this.getRotatedAngle(this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].rotation.toString()),this.pdfViewerBase.pageSize[parseInt(e.toString(),10)],!1,null,null,null));this.tempOrganizePagesCollection=JSON.parse(JSON.stringify(this.organizePagesCollection))},e.prototype.bindImportDocEvent=function(){this.pdfViewer.pageOrganizerSettings.canImport&&(document.getElementById(this.pdfViewer.element.id+"_import_pages")&&this.importDocInputElement.click())},e.prototype.tileImageRender=function(e,i,n,o,r,a,s,l,d){var h,A,p,c=this,g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAAD5Ip3+AAAAC0lEQVQIHWP4DwQACfsD/Qy7W+cAAAAASUVORK5CYII=";if(this.pageLink=(0,t.createElement)("div",{id:"anchor_page_"+e,className:"e-pv-organize-anchor-node"}),r?(this.pageLink.id=this.pageLink.id+"_"+i,this.pageLink.setAttribute("data-page-order",n.toString())):this.pageLink.setAttribute("data-page-order",e.toString()),this.thumbnail=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_organize_page_"+e,className:"e-pv-organize-tile e-pv-thumbnail-column"}),r&&(this.thumbnail.id=this.thumbnail.id+"_"+i),this.imageContainer=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_container_image_"+e,className:"e-pv-image-container"}),r&&(this.imageContainer.id=this.imageContainer.id+"_"+i),r||s?(h=this.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===n})).pageSize,a&&n-1>=0&&(h=this.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===n-1})).pageSize)):h=this.pdfViewerBase.pageSize[parseInt(e.toString(),10)],this.thumbnailImage=(0,t.createElement)("img",{id:this.pdfViewer.element.id+"_organize_image_"+e,className:"e-pv-organize-image"}),r&&(this.thumbnailImage.id=this.thumbnailImage.id+"_"+i),h.height>h.width?(A=100*h.width/h.height,p=100):(A=100,p=100*h.height/h.width),this.thumbnailImage.style.width=A+"%",this.thumbnailImage.style.height=p+"%",s)this.thumbnailImage.src=g;else if(n&&null!==n){var u=this.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===n}));u&&-1!==u.pageIndex?this.thumbnailImage.src=this.dataDetails[parseInt(u.pageIndex.toString(),10)].image:u&&null!==u.copiedPageIndex&&u.copiedPageIndex>=0?this.thumbnailImage.src=this.dataDetails[parseInt(u.copiedPageIndex.toString(),10)].image:this.thumbnailImage.src=g}else this.thumbnailImage.src=this.dataDetails[parseInt(e.toString(),10)].image;if(this.imageContainer.addEventListener("click",(function(e){c.handleImageContainerClick(e)})),this.thumbnailImage.alt=this.pdfViewer.element.id+"_organize_page_"+e,r&&(this.thumbnailImage.alt=this.pdfViewer.element.id+"_organize_page_"+n),l){var f=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_organize_import_download_icon_"+e,className:"e-pv-organize-import-download-icon e-pv-import-icon e-pv-icon"});this.importImageWrapper=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_organize_import_image_wrapper_"+e,className:"e-pv-organize-import-image-wrapper"}),this.importImageWrapper.appendChild(f),this.imageContainer.appendChild(this.importImageWrapper)}else this.imageContainer.appendChild(this.thumbnailImage);var m=0;r&&!(0,t.isNullOrUndefined)(this.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===n})))&&(m=this.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===n})).rotateAngle,this.imageContainer.style.transform="rotate("+m+"deg)"),this.thumbnail.appendChild(this.imageContainer);var w=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_tile_pagenumber_"+e,className:"e-pv-tile-number"});r&&(w.id=w.id+"_"+i),w.textContent=l?d:r?(n+1).toString():(e+1).toString();var y=document.createElement("input");y.type="checkbox",y.className="e-pv-organize-tile-checkbox",y.id="checkboxdiv_page_"+e,r&&(y.id=y.id+"_"+i),this.thumbnail.appendChild(y),new Ad.CheckBox({disabled:!1,checked:!1,change:this.onSelectClick.bind(this)}).appendTo(y),y.parentElement.style.height="100%",y.parentElement.style.width="100%",y.parentElement.style.display="none";var S=(0,t.createElement)("div",{id:this.pdfViewer.element.id+"_organize_buttondiv_"+e,className:"e-pv-organize-buttondiv"});r&&(S.id=S.id+"_"+i),this.deleteButton=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_delete_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Delete Page"),tabindex:"-1"}}),r&&(this.deleteButton.id=this.deleteButton.id+"_"+i),this.deleteButton.className="e-pv-tbar-btn e-pv-delete-button e-btn e-pv-organize-pdf-tile-btn",this.deleteButton.setAttribute("type","button");var C=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_delete_icon",className:"e-pv-delete-icon e-pv-icon"});this.deleteButton.appendChild(C),new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return this.pdfViewer.localeObj.getConstant("Delete Page")}),this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.deleteButton),this.rotateRightButton=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_rotate_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Rotate Right"),tabindex:"-1"}}),r&&(this.rotateRightButton.id=this.rotateRightButton.id+"_"+i),this.rotateRightButton.className="e-pv-tbar-btn e-pv-rotate-right-button e-btn e-pv-organize-pdf-tile-btn",this.rotateRightButton.setAttribute("type","button");var B=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_rotate-right_icon",className:"e-pv-rotate-right-icon e-pv-icon"});this.rotateRightButton.appendChild(B),new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return this.pdfViewer.localeObj.getConstant("Rotate Right")}),this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.rotateRightButton),this.rotateLeftButton=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_rotate_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Rotate Left"),tabindex:"-1"}}),r&&(this.rotateLeftButton.id=this.rotateLeftButton.id+"_"+i),this.rotateLeftButton.className="e-pv-tbar-btn e-pv-rotate-left-button e-btn e-pv-organize-pdf-tile-btn",this.rotateLeftButton.setAttribute("type","button");var I=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_rotate_left_icon",className:"e-pv-rotate-left-icon e-pv-icon"});this.rotateLeftButton.appendChild(I),new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return this.pdfViewer.localeObj.getConstant("Rotate Left")}),this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.rotateLeftButton),this.copyButton=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_copy_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Copy Page"),tabindex:"-1"}}),r&&(this.copyButton.id=this.copyButton.id+"_"+i),this.copyButton.className="e-pv-tbar-btn e-pv-copy-button e-btn e-pv-organize-pdf-tile-btn",this.copyButton.setAttribute("type","button");var b=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_copy_icon",className:"e-pv-copy-icon e-pv-icon"});this.copyButton.appendChild(b),new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return this.pdfViewer.localeObj.getConstant("Copy Page")}),this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.copyButton),this.insertRightButton=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_insert_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Insert Right"),tabindex:"-1"}}),r&&(this.insertRightButton.id=this.insertRightButton.id+"_"+i),this.insertRightButton.className="e-pv-tbar-btn e-pv-insert-right-button e-btn e-pv-organize-pdf-tile-btn",this.insertRightButton.setAttribute("type","button");var v=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_insert_right_icon",className:"e-icons e-plus"});this.insertRightButton.appendChild(v),new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return this.pdfViewer.localeObj.getConstant("Insert Right")}),this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.insertRightButton),this.insertLeftButton=(0,t.createElement)("button",{id:this.pdfViewer.element.id+"_insert_page_"+e,attrs:{"aria-label":this.pdfViewer.localeObj.getConstant("Insert Left"),tabindex:"-1"}}),r&&(this.insertLeftButton.id=this.insertLeftButton.id+"_"+i),this.insertLeftButton.className="e-pv-tbar-btn e-pv-insert-left-button e-btn e-pv-organize-pdf-tile-btn",this.insertLeftButton.setAttribute("type","button");var E=(0,t.createElement)("span",{id:this.pdfViewer.element.id+"_insert_left_icon",className:"e-icons e-plus"});this.insertLeftButton.appendChild(E),new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return this.pdfViewer.localeObj.getConstant("Insert Left")}),this),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(this.insertLeftButton),this.pdfViewer.pageOrganizerSettings.canInsert||(this.insertLeftButton.setAttribute("disabled","disabled"),this.insertLeftButton.firstElementChild.classList.add("e-disabled"),this.insertRightButton.setAttribute("disabled","disabled"),this.insertRightButton.firstElementChild.classList.add("e-disabled")),this.pdfViewer.pageOrganizerSettings.canRotate||(this.rotateLeftButton.setAttribute("disabled","disabled"),this.rotateLeftButton.firstElementChild.classList.add("e-disabled"),this.rotateRightButton.setAttribute("disabled","disabled"),this.rotateRightButton.firstElementChild.classList.add("e-disabled")),this.pdfViewer.pageOrganizerSettings.canDelete||(this.deleteButton.setAttribute("disabled","disabled"),this.deleteButton.firstElementChild.classList.add("e-disabled")),this.pdfViewer.pageOrganizerSettings.canCopy||(this.copyButton.setAttribute("disabled","disabled"),this.copyButton.firstElementChild.classList.add("e-disabled")),S.appendChild(this.insertLeftButton),l||(S.appendChild(this.rotateLeftButton),S.appendChild(this.rotateRightButton),S.appendChild(this.copyButton)),S.appendChild(this.deleteButton),S.appendChild(this.insertRightButton),this.thumbnail.appendChild(S),S.style.display="none",this.pageLink.appendChild(this.thumbnail),this.tileAreaDiv.appendChild(this.pageLink),this.pageLink.appendChild(w),this.rotateRightButton.addEventListener("click",this.rotateButtonClick),this.rotateLeftButton.addEventListener("click",this.rotateLeftButtonClick),this.insertRightButton.addEventListener("click",this.insertRightButtonClick),this.insertLeftButton.addEventListener("click",this.insertLeftButtonClick),this.deleteButton.addEventListener("click",this.deleteButtonClick),this.copyButton.addEventListener("click",this.copyButtonClick),this.pageLink.addEventListener("mouseover",this.thumbnailMouseOver),this.pageLink.addEventListener("mouseleave",this.thumbnailMouseLeave),this.movePages(),r&&(a?this.tileAreaDiv.insertBefore(this.pageLink,o):this.tileAreaDiv.insertBefore(this.pageLink,o.nextSibling))},e.prototype.handleImageContainerClick=function(e){var i=e.target.closest(".e-pv-organize-anchor-node").querySelector(".e-pv-organize-tile-checkbox.e-control.e-checkbox.e-lib");e instanceof PointerEvent?"touch"===e.pointerType?this.isTouchEvent=!0:"mouse"===e.pointerType&&(this.isTouchEvent=!1):!this.pdfViewerBase.isMacSafari&&e instanceof TouchEvent?this.isTouchEvent=!0:e instanceof MouseEvent&&(this.isTouchEvent=!1),i&&!(0,t.isNullOrUndefined)(i)&&!(0,t.isNullOrUndefined)(i.ej2_instances)&&i.ej2_instances.length>0&&i.ej2_instances[0].click()},e.prototype.movePages=function(){var e=this,i=this,n=this.imageContainer;this.dragObj=new t.Draggable(n,{dragArea:this.tileAreaDiv,isDragScroll:!0,enableTapHold:!0,tapHoldThreshold:t.Browser.isDevice?50:750,helper:function(i){if(e.pdfViewer.pageOrganizerSettings.canRearrange){var n=i.element.querySelector(".e-pv-organize-image, .e-pv-organize-import-image-wrapper"),o=n.cloneNode(!0);return o.style.width=n.clientWidth+"px",o.style.height=n.clientHeight+"px",e.virtualEle=(0,t.createElement)("div",{className:"e-pv-virtual-image-container"}),e.virtualEle.appendChild(o),e.tileAreaWrapper.appendChild(e.virtualEle),e.virtualEle}return null},drag:function(e){if(e.event.preventDefault(),i.pdfViewer.pageOrganizerSettings.canRearrange){i.autoScroll(e),i.addSelectionRingStyle();var n=!(0,t.isNullOrUndefined)(e.target)&&e.target instanceof Element?e.target.closest(".e-pv-organize-anchor-node"):null;if(!(0,t.isNullOrUndefined)(n)){var o=parseInt(n.getAttribute("data-page-order"),10);i.dragHoveredIndex=o;var r=n.getBoundingClientRect(),a=document.querySelector(".e-pv-organize-outer-border");(0,t.isNullOrUndefined)(a)&&(a=(0,t.createElement)("div",{className:"e-pv-organize-outer-border"}),i.tileAreaWrapper.appendChild(a)),a.style.display="block",i.isHoveredOnSelectedPages(i.selectedPageIndexes,i.dragHoveredIndex)&&!(0,t.isNullOrUndefined)(e.target)&&(e.target.classList.contains("e-pv-organize-image")||e.target.classList.contains("e-pv-organize-import-image-wrapper")||e.target.classList.contains("e-pv-image-container"))?(a.classList.add("e-pv-selected"),a.classList.remove("e-pv-not-selected")):!(0,t.isNullOrUndefined)(e.target)&&(e.target.classList.contains("e-pv-organize-image")||e.target.classList.contains("e-pv-organize-import-image-wrapper")||e.target.classList.contains("e-pv-image-container"))&&(a.classList.add("e-pv-not-selected"),a.classList.remove("e-pv-selected")),i.handlePageMove(e,r,i.gapBetweenDivs,a)}}},dragStart:function(n){if(i.selectedPageIndexes=[],i.pdfViewer.pageOrganizerSettings.canRearrange){if(n.element.parentElement.querySelector(".e-pv-organize-tile-checkbox").checked)for(var o=i.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring"),r=0;r<o.length;r++){i.selectedPageIndexes.push(parseInt(o[parseInt(r.toString(),10)].getAttribute("data-page-order"),10)),o[parseInt(r.toString(),10)].classList.add("e-pv-organize-tile-draggedEle"),(a=o[parseInt(r.toString(),10)].querySelector(".e-pv-organize-image, .e-pv-organize-import-image-wrapper"))&&a.classList.add("e-pv-organize-tile-draggedEle")}else{var a,s=n.element.closest(".e-pv-organize-anchor-node");if(s)i.selectedPageIndexes.push(parseInt(s.getAttribute("data-page-order"),10)),s.classList.add("e-pv-organize-tile-draggedEle"),(a=s.querySelector(".e-pv-organize-image, .e-pv-organize-import-image-wrapper"))&&a.classList.add("e-pv-organize-tile-draggedEle")}var l=(0,t.createElement)("span",{className:"e-badge e-badge-primary e-badge-overlap e-badge-notification",innerHTML:""+e.selectedPageIndexes.length});l.classList.add("e-pv-notification"),i.virtualEle.append(l),i.addSelectionRingStyle()}},dragStop:function(e){var n=function(){i.virtualEle.parentNode.removeChild(i.virtualEle),i.tileAreaDiv.querySelectorAll(".e-pv-organize-tile-draggedEle").forEach((function(e){e.classList.remove("e-pv-organize-tile-draggedEle")}));var e=document.querySelector(".e-pv-organize-outer-border");(0,t.isNullOrUndefined)(e)||(e.classList.remove("e-pv-selected","e-pv-not-selected"),i.selectedPageIndexes=[])};null!==i.autoScrollInterval&&(clearInterval(i.autoScrollInterval),i.autoScrollInterval=null),i.removeSelectionRingStyle(),e.target instanceof Element&&e.target.classList&&null!=e.target&&(e.target.classList.contains("e-pv-organize-image")||e.target.classList.contains("e-pv-organize-import-image-wrapper")||e.target.classList.contains("e-pv-image-container"))||n()}});var o=this.thumbnail;this.dropObj=new t.Droppable(o,{drop:function(e){null!==i.autoScrollInterval&&(clearInterval(i.autoScrollInterval),i.autoScrollInterval=null),i.removeSelectionRingStyle();var t=document.querySelector(".e-pv-organize-outer-border");t&&(t.classList.remove("e-pv-selected","e-pv-not-selected"),t.parentNode.removeChild(t)),i.virtualEle&&i.virtualEle.parentNode&&(i.virtualEle.parentNode.removeChild(i.virtualEle),i.virtualEle=null),i.pageDragDrop(e),i.tileAreaDiv.querySelectorAll(".e-pv-organize-tile-draggedEle").forEach((function(e){e.classList.remove("e-pv-organize-tile-draggedEle")})),i.selectedPageIndexes=[]},over:function(e){},out:function(e){var i=document.querySelector(".e-pv-organize-outer-border");(0,t.isNullOrUndefined)(i)||i.classList.remove("e-pv-selected","e-pv-not-selected")}})},e.prototype.autoScroll=function(e){var i=this,n=("touchmove"===e.event.type?e.event.touches[0].clientY:e.event.clientY,10);this.autoScrollInterval=null;var o,r=window.innerHeight,a=n,s=r-n,l=document.getElementById(this.pdfViewer.element.id+"_toolbar_appearance").getBoundingClientRect().bottom+n,d=this.organizeDialog.element.getElementsByClassName("e-footer-content");!(0,t.isNullOrUndefined)(d)&&d.length>0&&(o=d[0].getBoundingClientRect());var h=(0,t.isNullOrUndefined)(o)?this.tileAreaDiv.getBoundingClientRect().bottom-n:o.top-n;a=parseFloat(Math.max(a,l).toFixed(2)),s=Math.min(s,h);var A=parseFloat(this.virtualEle.getBoundingClientRect().top.toFixed(2))<=a,p=this.virtualEle.getBoundingClientRect().bottom>=s;if(!A&&!p)return clearTimeout(this.autoScrollInterval),void(i.autoScrollInterval=null);var c=this.tileAreaDiv.scrollHeight-this.tileAreaDiv.clientHeight;!function e(){clearTimeout(i.autoScrollInterval),i.autoScrollInterval=null,function(){i.tileAreaDiv.onscroll=function(){var e=document.querySelector(".e-pv-organize-outer-border");(0,t.isNullOrUndefined)(e)||(e.style.display="none")};var e=i.virtualEle.getBoundingClientRect(),o=e.bottom-(i.previousClientY+e.height),r=e.top-i.previousClientY;i.previousClientY=e.top;var l=i.tileAreaDiv.scrollTop,d=l>0&&r<=0,h=l<c&&o>=0,g=l,u=10;if(A&&d){g-=u*((a-i.virtualEle.getBoundingClientRect().top)/n)}else if(p&&h){g+=u*((i.virtualEle.getBoundingClientRect().bottom-s)/n)}return(g=Math.max(0,Math.min(c,g)))!==l&&(i.tileAreaDiv.scrollTop=g,!0)}()&&(i.autoScrollInterval=window.setTimeout(e,30))}()},e.prototype.handlePageMove=function(e,i,n,o){var r=this.isTileRightInsertion(e);if(!(0,t.isNullOrUndefined)(this.isTileRightInsertion)){var a=r?i.width+n/2:-n/2,s=o.parentElement.getBoundingClientRect();o.style.left=i.x+a-s.x+"px",o.style.top=i.top-s.y+"px",o.style.height=i.height+"px",this.isRightInsertion=r}},e.prototype.isTileRightInsertion=function(e){var i=(0,t.isNullOrUndefined)(e.target)?null:e.target.closest(".e-pv-organize-anchor-node");if(!(0,t.isNullOrUndefined)(i)){var n=i.getBoundingClientRect();return("mousemove"===e.event.type?e.event.clientX:e.event.touches[0].clientX)>n.x+n.width/2}return null},e.prototype.addSelectionRingStyle=function(){for(var e=this.tileAreaDiv.querySelectorAll(".e-pv-organize-anchor-node"),t=0;t<this.selectedPageIndexes.length;t++)e[this.selectedPageIndexes[parseInt(t.toString(),10)]].classList.add("e-pv-dragging-style")},e.prototype.removeSelectionRingStyle=function(){for(var e=this.tileAreaDiv.querySelectorAll(".e-pv-organize-anchor-node"),t=0;t<this.selectedPageIndexes.length;t++)e[this.selectedPageIndexes[parseInt(t.toString(),10)]].classList.remove("e-pv-dragging-style")},e.prototype.isHoveredOnSelectedPages=function(e,t){for(var i=!1,n=0;n<e.length;n++)if(e[parseInt(n.toString(),10)]===t){i=!0;break}return i},e.prototype.addOrganizeAction=function(e,t,i,n,o,r){var a={UndoRedoTileActions:e,action:t,toolbarActions:i,selectedPagesIndexes:n,dropIndex:o,isRightInsertion:r};this.undoOrganizeCollection.push(a),this.redoOrganizeCollection=[],this.updateUndoRedoButtons()},e.prototype.updateUndoRedoButtons=function(){var e=this;this.toolbar.items.forEach((function(t){t.id===e.pdfViewer.element.id+"_undo_organize_Pages"?e.enableToolbarItem(t.id,e.undoOrganizeCollection.length>0):t.id===e.pdfViewer.element.id+"_redo_organize_Pages"&&e.enableToolbarItem(t.id,e.redoOrganizeCollection.length>0)}))},e.prototype.enableDisableToolbarItems=function(){var e=this,t=!1;this.toolbar.items.forEach((function(i){i.id===e.pdfViewer.element.id+"_rotate_page_left"||i.id===e.pdfViewer.element.id+"_rotate_page_right"?e.enableToolbarItem(i.id,(e.selectAllCheckBox.checked||e.selectAllCheckBox.indeterminate)&&e.pdfViewer.pageOrganizerSettings.canRotate&&!e.getImportedItems(t)):i.id===e.pdfViewer.element.id+"_copy_page"?e.enableToolbarItem(i.id,(e.selectAllCheckBox.checked||e.selectAllCheckBox.indeterminate)&&e.pdfViewer.pageOrganizerSettings.canCopy&&!e.getCopiedItems(false)&&!e.getImportedItems(t)):i.id===e.pdfViewer.element.id+"_delete_selected"?e.enableToolbarItem(i.id,e.selectAllCheckBox.indeterminate&&e.pdfViewer.pageOrganizerSettings.canDelete):i.id===e.pdfViewer.element.id+"_import_pages"&&e.enableToolbarItem(i.id,e.pdfViewer.pageOrganizerSettings.canImport)}))},e.prototype.enableToolbarItem=function(e,i){var n=document.getElementById(e);(0,t.isNullOrUndefined)(n)||(0,t.isNullOrUndefined)(n.parentElement)||(this.toolbar.enableItems(n.parentElement,i),n.setAttribute("tabindex",i?"0":"-1"),n.setAttribute("data-tabindex",i?"0":"-1"))},e.prototype.disableTileDeleteButton=function(){if(1===this.tileAreaDiv.childElementCount){var e=this.tileAreaDiv.querySelector(".e-pv-organize-anchor-node").querySelector(".e-pv-delete-button");(0,t.isNullOrUndefined)(e)||(e.setAttribute("disabled","disabled"),e.firstElementChild.classList.add("e-disabled"))}else for(var i=0;i<this.tileAreaDiv.childElementCount;i++){e=(this.tileAreaDiv.childNodes[parseInt(i.toString(),10)].classList.contains("e-pv-organize-anchor-node")?this.tileAreaDiv.childNodes[parseInt(i.toString(),10)]:this.tileAreaDiv.childNodes[parseInt(i.toString(),10)].querySelector(".e-pv-organize-anchor-node")).querySelector(".e-pv-delete-button");!(0,t.isNullOrUndefined)(e)&&this.pdfViewer.pageOrganizerSettings.canDelete&&(e.removeAttribute("disabled"),e.firstElementChild.classList.remove("e-disabled"))}},e.prototype.disableTileCopyRotateButton=function(){for(var e=0;e<this.tempOrganizePagesCollection.length;e++){var i=this.tempOrganizePagesCollection[parseInt(e.toString(),10)];if(i.isImportedDoc&&!i.isDeleted&&null!=!i.currentPageIndex){var n=this.tileAreaDiv.querySelector('[data-page-order="'+i.currentPageIndex.toString()+'"]'),o=n.querySelector(".e-pv-rotate-left-button"),r=n.querySelector(".e-pv-rotate-right-button"),a=n.querySelector(".e-pv-copy-button");(0,t.isNullOrUndefined)(o)||(o.setAttribute("disabled","disabled"),o.firstElementChild.classList.add("e-disabled")),(0,t.isNullOrUndefined)(r)||(r.setAttribute("disabled","disabled"),r.firstElementChild.classList.add("e-disabled")),(0,t.isNullOrUndefined)(a)||(a.setAttribute("disabled","disabled"),a.firstElementChild.classList.add("e-disabled"))}}},e.prototype.disableTileCopyButton=function(){for(var e=0;e<this.tempOrganizePagesCollection.length;e++){var i=this.tempOrganizePagesCollection[parseInt(e.toString(),10)];if(i.isInserted&&!i.isDeleted&&null!=!i.currentPageIndex){var n=this.tileAreaDiv.querySelector('[data-page-order="'+i.currentPageIndex.toString()+'"]').querySelector(".e-pv-copy-button");(0,t.isNullOrUndefined)(n)||(n.setAttribute("disabled","disabled"),n.firstElementChild.classList.add("e-disabled"))}}},e.prototype.updateSelectAllCheckbox=function(){var e=this.tileAreaDiv.childElementCount;this.totalCheckedCount=this.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring").length,this.selectAllCheckBox&&(0===this.totalCheckedCount?(this.selectAllCheckBox.indeterminate=!1,this.selectAllCheckBox.checked=!1):e===this.totalCheckedCount?(this.selectAllCheckBox.indeterminate=!1,this.selectAllCheckBox.checked=!0):this.selectAllCheckBox.indeterminate=!0)},e.prototype.setSelectionRingStyle=function(e,i){e.checked?i.classList.add("e-pv-organize-node-selection-ring"):i.classList.remove("e-pv-organize-node-selection-ring");for(var n=0,o=Array.from(i.children);n<o.length;n++)for(var r=o[n],a=0,s=Array.from(r.children);a<s.length;a++){var l=s[a];if(l.classList.contains("e-checkbox-wrapper")){var d=l.getElementsByClassName("e-control e-checkbox e-lib")[0].id,h=(0,t.getComponent)(document.getElementById(d),"checkbox");e.checked?(l.style.display="block",l.children[0].style.display="block",h.checked=!0):(l.style.display="none",l.children[0].style.display="none",h.checked=!1,(0,t.isNullOrUndefined)(l.parentElement)||(0,t.isNullOrUndefined)(l.parentElement.lastElementChild)||!l.parentElement.lastElementChild.classList.contains("e-pv-organize-buttondiv")||(l.parentElement.lastElementChild.style.display="none"))}}},e.prototype.onTooltipBeforeOpen=function(e){this.pdfViewer.toolbarSettings.showTooltip||(e.cancel=!0)},e.prototype.openContextMenu=function(e){var i=document.getElementById(this.pdfViewer.element.id+"_organize_context_menu");(0,t.isNullOrUndefined)(i)||"block"===i.style.display||this.contextMenuObj.open(e.originalEvent.clientY,e.originalEvent.clientX,e.originalEvent.currentTarget)},e.prototype.updateTempRotationDetail=function(e,t){if(this.pdfViewer.pageOrganizerSettings.canRotate){var i=this.tempOrganizePagesCollection.findIndex((function(t){return t.currentPageIndex===e}));if(-1!==i){var n=this.tempOrganizePagesCollection[parseInt(i.toString(),10)].rotateAngle+t;-90===n&&(n=0),this.tempOrganizePagesCollection[parseInt(i.toString(),10)].rotateAngle=Math.abs((this.tempOrganizePagesCollection[parseInt(i.toString(),10)].rotateAngle+t+360)%360)}}this.organizeWindowFocus()},e.prototype.organizeWindowFocus=function(){var e=this.pdfViewer.element.id;document.getElementById(e+"_organize_window").focus()},e.prototype.getRotatedAngle=function(e){switch(e.trim()){case"0":case"360":case"4":default:return 0;case"90":case"1":return 90;case"180":case"2":return 180;case"270":case"3":return 270}},e.prototype.getRotation=function(e){switch(e.trim()){case"0":case"360":default:return 0;case"90":return 1;case"180":return 2;case"270":return 3}},e.prototype.updateRotationDetailCollection=function(){for(var e=0;e<this.tempOrganizePagesCollection.length;e++){var t=this.tempOrganizePagesCollection[parseInt(e.toString(),10)];if(-1!==t.pageIndex){var i=this.pdfViewerBase.pageSize[parseInt(t.pageIndex.toString(),10)];Math.abs(this.getRotation(i.rotation.toString())-t.rotateAngle)%180==90&&this.updatePageSize(t.pageIndex,i.height,i.width)}}},e.prototype.updatePageSize=function(e,t,i){this.pdfViewerBase.pageSize[parseInt(e.toString(),10)]&&(this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].width=t,this.pdfViewerBase.pageSize[parseInt(e.toString(),10)].height=i,this.pdfViewerBase.highestWidth<t&&(this.pdfViewerBase.highestWidth=t),this.pdfViewerBase.isMixedSizeDocument=!0);for(var n=e;n<this.pdfViewerBase.pageSize.length;n++)!this.pdfViewerBase.pageSize[parseInt((n-1).toString(),10)]&&n-1<0?this.pdfViewerBase.pageSize[parseInt(n.toString(),10)].top=this.pdfViewerBase.pageGap:this.pdfViewerBase.pageSize[parseInt(n.toString(),10)].top=this.pdfViewerBase.pageSize[parseInt((n-1).toString(),10)].top+this.pdfViewerBase.pageSize[parseInt((n-1).toString(),10)].height+this.pdfViewerBase.pageGap},e.prototype.onSaveClicked=function(){var e,i=this;(this.isSkipRevert=!0,this.showOrganizeLoadingIndicator(!0),JSON.stringify(this.tempOrganizePagesCollection)!==JSON.stringify(this.organizePagesCollection)||this.isDocumentModified)?(this.updateOrganizePageCollection(),this.isDocumentModified=!0,this.pdfViewer.saveAsBlob().then((function(n){e=n,i.blobToBase64(e).then((function(e){if(!(0,t.isNullOrUndefined)(e)&&""!==e){var n=i.pdfViewer.fileName,o=i.pdfViewer.downloadFileName,r=i.pdfViewerBase.jsonDocumentId;i.showOrganizeLoadingIndicator(!1),i.organizeDialog.hide(),i.undoOrganizeCollection=[],i.redoOrganizeCollection=[],i.pdfViewer.loadDocInternally(e,null,!1),i.pdfViewerBase.updateDocumentEditedProperty(!0),i.pdfViewer.fileName=n,(0,t.isNullOrUndefined)(o)?i.pdfViewer.downloadFileName=n:i.pdfViewer.downloadFileName=o,i.pdfViewerBase.jsonDocumentId=r}}))}))):(this.showOrganizeLoadingIndicator(!1),this.organizeDialog.hide(),this.undoOrganizeCollection=[],this.redoOrganizeCollection=[])},e.prototype.blobToByteArray=function(e){return new Promise((function(t,i){var n=new FileReader;n.onloadend=function(){var e=n.result,i=new Uint8Array(e);t(i)},n.readAsArrayBuffer(e)}))},e.prototype.blobToBase64=function(e){return new Promise((function(t,i){var n=new FileReader;n.onloadend=function(){return t(n.result)},n.readAsDataURL(e)}))},e.prototype.showOrganizeLoadingIndicator=function(e){var t=document.getElementById(this.pdfViewer.element.id+"_organizeLoadingIndicator");t&&(e?(t.style.display="block",Wl(t)):(t.style.display="none",Zl(t)))},e.prototype.updateOrganizePageDetailsInViewer=function(){for(var e=0,t=this.organizePagesCollection;e<t.length;e++){var i=t[e],n=i.pageIndex,o=i.rotateAngle,r=void 0,a=(r=-1!==n?this.pdfViewerBase.pageSize[parseInt(n.toString(),10)]:this.pdfViewerBase.pageSize[parseInt(i.copiedPageIndex.toString(),10)]).width*this.pdfViewerBase.getZoomFactor(),s=r.height*this.pdfViewerBase.getZoomFactor(),l=r.top*this.pdfViewerBase.getZoomFactor(),d=this.pdfViewerBase.getElement("_pageDiv_"+n),h=this.pdfViewerBase.getElement("_pageCanvas_"+n);if(d&&h){if(d.style.width=a+"px",d.style.height=s+"px",this.pdfViewer.enableRtl?d.style.right=this.pdfViewerBase.updateLeftPosition(n)+"px":d.style.left=this.pdfViewerBase.updateLeftPosition(n)+"px",d.style.top=l+"px",this.pdfViewerBase.pageContainer.style.width=this.pdfViewerBase.isMixedSizeDocument&&this.pdfViewerBase.highestWidth*this.pdfViewerBase.getZoomFactor()>this.pdfViewerBase.viewerContainer.clientWidth?this.pdfViewerBase.highestWidth*this.pdfViewerBase.getZoomFactor()+"px":this.pdfViewerBase.viewerContainer.clientWidth+"px",90===o||270===o){var A=d.style.width;d.style.width=d.style.height,d.style.height=A}else d.style.width="",d.style.height="";if(d.style.left=(this.pdfViewerBase.viewerContainer.clientWidth-parseInt(d.style.width,10)*this.pdfViewerBase.getZoomFactor())/2+"px",h.style.transform="rotate("+o+"deg)",90===o||270===o){var p=h.width;h.style.width=h.height+"px",h.width=h.height,h.style.height=p+"px",h.height=p,h.style.margin="0px",h.style.marginLeft=(h.height-h.width)/2+"px",h.style.marginTop=(h.width-h.height)/2+"px"}else h.style.margin="0px";this.applyElementStyles(h,n)}}},e.prototype.getNextSubIndex=function(e,t){var i=e.querySelectorAll("[id^='anchor_page_"+t+"']"),n=-1;return i.forEach((function(e){var t=e.id.split("_").slice(2),i=(t[0],t[1]);Number(i)>n&&(n=Number(i))})),n+1},e.prototype.removePage=function(e){var t=this.tileAreaDiv.childNodes[parseInt(e.toString(),10)];this.deleteTempPage(e,t),this.tileAreaDiv.removeChild(t),this.updatePageDetail()},e.prototype.rotateImage=function(e,t){var i=this.tileAreaDiv.childNodes[parseInt(e.toString(),10)].querySelector(".e-pv-organize-image");if(i){var n=parseFloat(i.style.transform.replace("rotate(","").replace("deg)",""))||0;n=(n+t+360)%360,i.style.transform="rotate("+n+"deg)",this.updateTempRotationDetail(e,t)}},e.prototype.updatePageDetail=function(){this.updateTotalPageCount(),this.updatePageNumber()},e.prototype.deletePageElement=function(e){if(this.pdfViewer.pageOrganizerSettings.canDelete&&this.tileAreaDiv.childElementCount>1){var i=parseInt(e.getAttribute("data-page-order"),10);this.deleteTempPage(i,e);var n=e.querySelector(".e-pv-delete-button");!(0,t.isNullOrUndefined)(n)&&!(0,t.isNullOrUndefined)(n.ej2_instances)&&n.ej2_instances.length>0&&n.ej2_instances[0].destroy(),this.tileAreaDiv.removeChild(e),this.updateTotalPageCount(),this.updatePageNumber(),this.updateSelectAllCheckbox(),this.disableTileDeleteButton()}},e.prototype.deleteTempPage=function(e,i){if(this.pdfViewer.pageOrganizerSettings.canDelete&&this.tempOrganizePagesCollection.filter((function(e){return!1===e.isDeleted})).length>0){var n=this.tempOrganizePagesCollection.findIndex((function(t){return t.currentPageIndex===e})),o=this.tempOrganizePagesCollection[parseInt(n.toString(),10)].currentPageIndex;for(-1===n||this.tempOrganizePagesCollection[parseInt(n.toString(),10)].isInserted||this.tempOrganizePagesCollection[parseInt(n.toString(),10)].isCopied||this.tempOrganizePagesCollection[parseInt(n.toString(),10)].isImportedDoc?this.tempOrganizePagesCollection.splice(n,1):(this.tempOrganizePagesCollection[parseInt(n.toString(),10)].isDeleted=!0,this.tempOrganizePagesCollection[parseInt(n.toString(),10)].currentPageIndex=null),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map((function(e){return o<e.currentPageIndex&&!e.isDeleted&&(e.currentPageIndex=e.currentPageIndex-1),e}));!(0,t.isNullOrUndefined)(i.nextElementSibling);){var r=i.nextElementSibling,a=parseInt(r.getAttribute("data-page-order"),10);a-=1,r.setAttribute("data-page-order",a.toString()),i=r}}},e.prototype.undoDeletedPage=function(e,i,n,o){if(this.tempOrganizePagesCollection.some((function(e){return e.isDeleted}))){var r=this.tempOrganizePagesCollection.find((function(e){return null===e.currentPageIndex&&e.isDeleted&&-1!==e.pageIndex&&e.pageIndex===i&&null===e.copiedPageIndex}));r&&(r.currentPageIndex=e,r.rotateAngle=n)}for(this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map((function(t){return t.currentPageIndex>=e&&!t.isDeleted?t.currentPageIndex+=1:t.currentPageIndex===e&&t.isDeleted&&(t.isDeleted=!1),t})),this.tempOrganizePagesCollection.sort((function(e,t){return e.currentPageIndex-t.currentPageIndex})),o&&o.setAttribute("data-page-order",(e+1).toString());o&&!(0,t.isNullOrUndefined)(o.nextElementSibling);){var a=o.nextElementSibling,s=parseInt(a.getAttribute("data-page-order"),10);s+=1,a.setAttribute("data-page-order",s.toString()),o=a}},e.prototype.insertRemovedPages=function(e,i,n){var o=0,r=this.tempOrganizePagesCollection.findIndex((function(e){return e.currentPageIndex===i}));if(-1!==r)for(var a=0;a<r;a++)this.tempOrganizePagesCollection[parseInt(a.toString(),10)].isDeleted&&o++;else for(a=0;a<i;a++)this.tempOrganizePagesCollection[parseInt(a.toString(),10)].isDeleted&&o++;for(this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,i+o).concat(e,this.tempOrganizePagesCollection.slice(i+o)),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map((function(e,t){return t>i+o&&!e.isDeleted&&(e.currentPageIndex+=1),e})),n&&n.setAttribute("data-page-order",(i+1).toString());n&&!(0,t.isNullOrUndefined)(n.nextElementSibling);){var s=n.nextElementSibling,l=parseInt(s.getAttribute("data-page-order"),10);l+=1,s.setAttribute("data-page-order",l.toString()),n=s}},e.prototype.clonedCollection=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.updateTotalPageCount=function(){var e=document.querySelectorAll(".e-pv-organize-anchor-node").length,i=document.querySelector(".e-pv-organize-total-page-button");(0,t.isNullOrUndefined)(i)||(i.textContent=this.pdfViewer.localeObj.getConstant("Total")+" "+e.toString()+" "+this.pdfViewer.localeObj.getConstant("Pages"))},e.prototype.updatePageNumber=function(){var e=this;document.querySelectorAll(".e-pv-organize-anchor-node").forEach((function(i){var n=parseInt(i.getAttribute("data-page-order"),10),o=i.querySelector(".e-pv-tile-number");if(o){var r=e.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===n}));if(r.isImportedDoc)o.textContent=r.documentName,new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return o.textContent}),e),opensOn:"Hover",beforeOpen:e.onTooltipBeforeOpen.bind(e)}).appendTo(o);else o.textContent=(n+1).toString()}})),this.organizeWindowFocus()},e.prototype.insertTempPage=function(e,i,n){if(this.pdfViewer.pageOrganizerSettings.canInsert){var o=this.tempOrganizePagesCollection.findIndex((function(t){return t.currentPageIndex===e})),r=void 0;r=0!==e?this.tempOrganizePagesCollection.findIndex((function(t){return t.currentPageIndex===e-1})):o;var a=void 0,s=void 0;if(i){if(a=this.tempOrganizePagesCollection[parseInt(r.toString(),10)].pageIndex,o-1>=0&&!this.tempOrganizePagesCollection[parseInt((o-1).toString(),10)].isInserted&&(this.tempOrganizePagesCollection[parseInt((o-1).toString(),10)].hasEmptyPageAfter=!0),o<=this.tempOrganizePagesCollection.length-1&&!this.tempOrganizePagesCollection[parseInt(o.toString(),10)].isInserted&&(this.tempOrganizePagesCollection[parseInt(o.toString(),10)].hasEmptyPageBefore=!0),s=JSON.parse(JSON.stringify(this.tempOrganizePagesCollection[parseInt(r.toString(),10)].pageSize)),-1!==a&&!(0,t.isNullOrUndefined)(s.rotation)&&(90===this.getRotatedAngle(s.rotation.toString())||270===this.getRotatedAngle(s.rotation.toString()))){var l=s.width;s.width=s.height,s.height=l}this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,o).concat([new BA(e,-1,this.tempOrganizePagesCollection[parseInt(o.toString(),10)].pageIndex,!0,!1,!1,!1,!1,!1,this.tempOrganizePagesCollection[parseInt(r.toString(),10)].rotateAngle,s,!1,null,null,null)],this.tempOrganizePagesCollection.slice(o)),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map((function(t,i){return i!==o&&t.currentPageIndex>=e&&null!=t.currentPageIndex&&(t.currentPageIndex=t.currentPageIndex+1),t})),n.setAttribute("data-page-order",(e+1).toString())}else{if(a=this.tempOrganizePagesCollection[parseInt(o.toString(),10)].pageIndex,o>=0&&!this.tempOrganizePagesCollection[parseInt(o.toString(),10)].isInserted&&(this.tempOrganizePagesCollection[parseInt(o.toString(),10)].hasEmptyPageAfter=!0),o+1<=this.tempOrganizePagesCollection.length-1&&!this.tempOrganizePagesCollection[parseInt((o+1).toString(),10)].isInserted&&(this.tempOrganizePagesCollection[parseInt((o+1).toString(),10)].hasEmptyPageBefore=!0),s=JSON.parse(JSON.stringify(this.tempOrganizePagesCollection[parseInt(o.toString(),10)].pageSize)),-1!==a&&!(0,t.isNullOrUndefined)(s.rotation)&&(90===this.getRotatedAngle(s.rotation.toString())||270===this.getRotatedAngle(s.rotation.toString()))){l=s.width;s.width=s.height,s.height=l}this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,o+1).concat([new BA(e+1,-1,this.tempOrganizePagesCollection[parseInt(o.toString(),10)].pageIndex,!0,!1,!1,!1,!1,!1,this.tempOrganizePagesCollection[parseInt(o.toString(),10)].rotateAngle,s,!1,null,null,null)],this.tempOrganizePagesCollection.slice(o+1)),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map((function(t,i){return i!==o+1&&t.currentPageIndex>=e+1&&null!=t.currentPageIndex&&(t.currentPageIndex=t.currentPageIndex+1),t}))}for(;!(0,t.isNullOrUndefined)(n.nextElementSibling);){var d=n.nextElementSibling,h=parseInt(d.getAttribute("data-page-order"),10);h+=1,d.setAttribute("data-page-order",h.toString()),n=d}}},e.prototype.copyPage=function(e,i){if(this.pdfViewer.pageOrganizerSettings.canCopy){var n=this.tempOrganizePagesCollection.findIndex((function(t){return t.currentPageIndex===e})),o=void 0,r=void 0;if(-1!==n){if(o=this.tempOrganizePagesCollection[parseInt(n.toString(),10)].pageIndex,r=JSON.parse(JSON.stringify(this.tempOrganizePagesCollection[parseInt(n.toString(),10)].pageSize)),-1!==o&&!(0,t.isNullOrUndefined)(r.rotation)&&(90==this.getRotatedAngle(r.rotation.toString())||270===this.getRotatedAngle(r.rotation.toString()))){var a=r.width;r.width=r.height,r.height=a}for(-1===o&&this.tempOrganizePagesCollection[parseInt(n.toString(),10)].isCopied?this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,n+1).concat([new BA(e+1,-1,this.tempOrganizePagesCollection[parseInt(n.toString(),10)].copiedPageIndex,!1,!1,!0,!1,!1,!1,this.tempOrganizePagesCollection[parseInt(n.toString(),10)].rotateAngle,r,!1,null,null,null)],this.tempOrganizePagesCollection.slice(n+1)):this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,n+1).concat([new BA(e+1,-1,o,!1,!1,!0,!1,!1,!1,this.tempOrganizePagesCollection[parseInt(n.toString(),10)].rotateAngle,r,!1,null,null,null)],this.tempOrganizePagesCollection.slice(n+1)),this.tempOrganizePagesCollection[parseInt(n.toString(),10)].istargetCopied=!0,this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map((function(e,t){return t>n+1&&null!=e.currentPageIndex&&(e.currentPageIndex=e.currentPageIndex+1),e}));!(0,t.isNullOrUndefined)(i.nextElementSibling);){var s=i.nextElementSibling,l=parseInt(s.getAttribute("data-page-order"),10);l+=1,s.setAttribute("data-page-order",l.toString()),i=s}}}},e.prototype.importPage=function(e,i,n,o,r,a){if(this.pdfViewer.pageOrganizerSettings.canImport){var s=this.tempOrganizePagesCollection.findIndex((function(t){return t.currentPageIndex===e})),l=void 0,d=void 0;if(-1!==s)for(l=this.tempOrganizePagesCollection[parseInt(s.toString(),10)].pageIndex,d=JSON.parse(JSON.stringify(this.tempOrganizePagesCollection[parseInt(s.toString(),10)].pageSize)),r?(this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,s).concat([new BA(e,-1,l,!1,!1,!1,!1,!1,!1,0,d,!0,o,n,a)],this.tempOrganizePagesCollection.slice(s)),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map((function(t,i){return i!==s&&t.currentPageIndex>=e&&null!=t.currentPageIndex&&(t.currentPageIndex=t.currentPageIndex+1),t})),i.setAttribute("data-page-order",(e+1).toString())):(this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.slice(0,s+1).concat([new BA(e+1,-1,l,!1,!1,!1,!1,!1,!1,0,d,!0,o,n,a)],this.tempOrganizePagesCollection.slice(s+1)),this.tempOrganizePagesCollection=this.tempOrganizePagesCollection.map((function(e,t){return t>s+1&&null!=e.currentPageIndex&&(e.currentPageIndex=e.currentPageIndex+1),e})));!(0,t.isNullOrUndefined)(i.nextElementSibling);){var h=i.nextElementSibling,A=parseInt(h.getAttribute("data-page-order"),10);A+=1,h.setAttribute("data-page-order",A.toString()),i=h}}},e.prototype.organizeWireEvent=function(){this.importDocInputElement&&this.importDocInputElement.addEventListener("change",this.importDocument.bind(this))},e.prototype.organizeUnWireEvent=function(){this.importDocInputElement&&this.importDocInputElement.removeEventListener("change",this.importDocument.bind(this))},e.prototype.importDocument=function(e){if(this.pdfViewer.pageOrganizerSettings.canImport){var i=this,n=e.target.files;if(null!==e.target.files[0]){var o=n[0];if(o){this.importedDocumentName=o.name;var r=new FileReader;r.readAsDataURL(o),r.onload=function(e){var n=e.currentTarget.result;i.loadImportDoc(n,null,!1),(0,t.isNullOrUndefined)(i.importDocInputElement)||(i.importDocInputElement.value="")}}}}},e.prototype.loadImportDoc=function(e,t,i){var n=this;if(this.pdfViewer.pageOrganizerSettings.canImport){var o;o=this;var r=!1;this.importedDocumentData=e;var a=this.pdfViewerBase.createGUID(),s=e.includes("pdf;base64,"),l=e;e=this.pdfViewerBase.checkDocumentData(e,!1);var d=this.pdfViewerBase.constructJsonObject(e,t,s);this.pdfViewer.serverActionSettings&&(this.pdfViewerBase.loadRequestHandler=new hd(this.pdfViewer),this.pdfViewerBase.loadRequestHandler.url=this.pdfViewer.serviceUrl+"/"+this.pdfViewer.serverActionSettings.validatePassword,this.pdfViewerBase.loadRequestHandler.responseType="json",this.pdfViewerBase.loadRequestHandler.mode=!0,d.action="ValidatePassword",d.elementId=this.pdfViewer.element.id,d.isFileName=!1,this.pdfViewerBase.clientSideRendering?this.pdfViewerBase.getPdfByteArray(l).then((function(o){var s=n.pdfViewer.pdfRendererModule.loadImportDocument(o,a,t,d);if(s){if("object"!=typeof s)try{s=JSON.parse(s)}catch(e){n.pdfViewerBase.onControlError(500,s,n.pdfViewer.serverActionSettings.load),s=null}if(s){for(;"object"!=typeof s;)if(s=JSON.parse(s),"number"==typeof parseInt(s,10)&&!isNaN(parseInt(s,10))){s=parseInt(s,10);break}(s.uniqueId===a||"number"==typeof parseInt(s,10)&&!isNaN(parseInt(s,10)))&&(4===s?(n.pdfViewerBase.isImportDoc=!0,r=!0,n.pdfViewerBase.renderPasswordPopup(e,t,n.pdfViewerBase.isImportDoc)):3===s&&(n.pdfViewerBase.isImportDoc=!0,n.pdfViewerBase.renderCorruptPopup(n.pdfViewerBase.isImportDoc)))}i&&4!==s&&(n.pdfViewerBase.passwordDialogReset(),n.pdfViewerBase.passwordPopup&&n.pdfViewerBase.passwordPopup.hide()),(!r||i&&4!==s)&&3!==s&&n.importDocuments(t,n.importedDocumentName,e)}})):(this.pdfViewerBase.loadRequestHandler.send(d),this.pdfViewerBase.loadRequestHandler.onSuccess=function(n){var s=n.data;if(s){if("object"!=typeof s)try{s=JSON.parse(s)}catch(e){o.pdfViewerBase.onControlError(500,s,o.pdfViewer.serverActionSettings.load),s=null}if(s){for(;"object"!=typeof s;)if(s=JSON.parse(s),"number"==typeof parseInt(s,10)&&!isNaN(parseInt(s,10))){s=parseInt(s,10);break}(s.uniqueId===a||"number"==typeof parseInt(s,10)&&!isNaN(parseInt(s,10)))&&(4===s?(o.pdfViewerBase.isImportDoc=!0,r=!0,o.pdfViewerBase.renderPasswordPopup(e,t,o.pdfViewerBase.isImportDoc)):3===s&&(o.pdfViewerBase.isImportDoc=!0,o.pdfViewerBase.renderCorruptPopup(o.pdfViewerBase.isImportDoc)))}i&&4!==s&&(o.pdfViewerBase.passwordDialogReset(),o.pdfViewerBase.passwordPopup&&o.pdfViewerBase.passwordPopup.hide()),(!r||i&&4!==s)&&3!==s&&o.importDocuments(t,o.importedDocumentName,e)}}))}},e.prototype.importDocuments=function(e,t,i){if(this.pdfViewer.pageOrganizerSettings.canImport){var n=this;if(1===this.tileAreaDiv.querySelectorAll(".e-pv-organize-node-selection-ring").length)for(var o=function(o){var a=n.tileAreaDiv.childNodes[parseInt(o.toString(),10)];if(a instanceof HTMLElement&&a.classList.contains("e-pv-organize-node-selection-ring")){var s,l=a.id.split("anchor_page_")[a.id.split("anchor_page_").length-1],d=parseInt(a.getAttribute("data-page-order"),10),h=l.split("_"),A=parseInt(h[parseInt((h.length-1).toString(),10)],10);h.length>1&&(A=parseInt(h[parseInt((h.length-2).toString(),10)],10)),s=r.getNextSubIndex(a.parentElement,A),r.importPage(d,a,e,t,!1,i),r.tileImageRender(A,s,d+1,a,!0,!1,!1,!0,t);var p=[];p.push(r.clonedCollection(r.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===d+1})))),r.addOrganizeAction(p,"Import Pages",[],[],null,!1)}},r=this,a=0;a<n.tileAreaDiv.childElementCount;a++)o(a);else{var s,l=n.tileAreaDiv.childNodes[0],d=l.id.split("anchor_page_")[l.id.split("anchor_page_").length-1],h=parseInt(l.getAttribute("data-page-order"),10),A=d.split("_"),p=parseInt(A[parseInt((A.length-1).toString(),10)],10);A.length>1&&(p=parseInt(A[parseInt((A.length-2).toString(),10)],10)),s=this.getNextSubIndex(l.parentElement,p),this.importPage(h,l,e,t,!0,i),this.tileImageRender(p,s,h,l,!0,!0,!1,!0,t);var c=[];c.push(this.clonedCollection(this.tempOrganizePagesCollection.find((function(e){return e.currentPageIndex===h})))),this.addOrganizeAction(c,"Import Pages",[],[],null,!1)}this.updatePageNumber(),this.updateTotalPageCount(),this.enableDisableToolbarItems(),this.disableTileCopyRotateButton(),this.disableTileDeleteButton()}},e.prototype.updateOrganizePageCollection=function(){this.organizePagesCollection=JSON.parse(JSON.stringify(this.tempOrganizePagesCollection))},e.prototype.applyElementStyles=function(e,t){if(e){var i=document.getElementById(this.pdfViewer.element.id+"_pageCanvas_"+t),n=document.getElementById(this.pdfViewer.element.id+"_oldCanvas_"+t);if(i&&i.offsetLeft>0){var o=i.offsetLeft,r=i.offsetTop;e.style.marginLeft=o+"px",e.style.marginRight=o+"px",e.style.top=r+"px"}else if(n&&n.offsetLeft>0){o=n.offsetLeft,r=n.offsetTop;e.style.marginLeft=o+"px",e.style.marginRight=o+"px",e.style.top=r+"px"}else e.style.marginLeft="auto",e.style.marginRight="auto",e.style.top="auto"}},e.prototype.onSaveasClicked=function(){var e=this;JSON.stringify(this.tempOrganizePagesCollection)!==JSON.stringify(this.organizePagesCollection)&&(this.updateOrganizePageCollection(),this.isDocumentModified=!0,this.pdfViewerBase.updateDocumentEditedProperty(!0));var i,n=this.pdfViewer.fileName,o=JSON.parse(JSON.stringify(this.organizePagesCollection));this.pdfViewer.saveAsBlob().then((function(r){i=r,(e.pdfViewerBase.clientSideRendering?e.blobToByteArray(i):e.blobToBase64(i)).then((function(i){(0,t.isNullOrUndefined)(i)||""===i||e.pdfViewer.firePageOrganizerSaveAsEventArgs(n,i)&&(e.pdfViewerBase.fileDownload(i,e.pdfViewerBase,!0),e.organizePagesCollection=JSON.parse(JSON.stringify(o)))}))}))},e.prototype.rotateAllPages=function(e){if(this.pdfViewer.pageOrganizerSettings.canRotate){var t=e,i=this.pdfViewer.pageCount,n=Array.from({length:i},(function(e,t){return t}));this.processRotation(n,t)}},e.prototype.rotatePages=function(e,t){if(this.pdfViewer.pageOrganizerSettings.canRotate)if(Array.isArray(e))if(void 0!==t&&"number"==typeof t){var i=e,n=t;this.processRotation(i,n)}else for(var o=0,r=e;o<r.length;o++){var a=r[o];this.processRotation([a.pageIndex],a.rotationAngle)}else if("number"==typeof e&&"number"==typeof t){var s=e,l=t;n=arguments[2];this.processRotation(this.generateRange(s,l),n)}},e.prototype.processRotation=function(e,t){if(this.pdfViewer.pageOrganizerSettings.canRotate)for(var i=function(e){var i=n.pdfRotateAngle(t),o=n.organizePagesCollection.findIndex((function(t){return t.pageIndex===e}));-1!==o&&(n.organizePagesCollection[parseInt(o.toString(),10)].rotateAngle=(n.organizePagesCollection[parseInt(o.toString(),10)].rotateAngle+i+360)%360)},n=this,o=0,r=e;o<r.length;o++){i(r[o])}},e.prototype.generateRange=function(e,t){return Array.from({length:t-e+1},(function(t,i){return e+i}))},e.prototype.pdfRotateAngle=function(e){var t=0;return e===Gh.RotateAngle0?t=0:e===Gh.RotateAngle90?t=90:e===Gh.RotateAngle180?t=180:e===Gh.RotateAngle270?t=270:e===Gh.RotateAngle360&&(t=0),t},e.prototype.createTooltip=function(e,i){null!==i&&new Ne.Tooltip({content:(0,t.initializeCSPTemplate)((function(){return i})),opensOn:"Hover",beforeOpen:this.onTooltipBeforeOpen.bind(this)}).appendTo(e)},e.prototype.rotateClockwise=function(e){if(this.pdfViewer.pageOrganizerSettings.canRotate)for(var t=function(e){var t=i.organizePagesCollection.findIndex((function(t){return t.pageIndex===e}));-1!==t&&(i.organizePagesCollection[parseInt(t.toString(),10)].rotateAngle=(i.organizePagesCollection[parseInt(t.toString(),10)].rotateAngle+90+360)%360)},i=this,n=0,o=e;n<o.length;n++){t(o[n])}},e.prototype.rotateCounterclockwise=function(e){if(this.pdfViewer.pageOrganizerSettings.canRotate)for(var t=function(e){var t=i.organizePagesCollection.findIndex((function(t){return t.pageIndex===e}));-1!==t&&(i.organizePagesCollection[parseInt(t.toString(),10)].rotateAngle=(i.organizePagesCollection[parseInt(t.toString(),10)].rotateAngle-90+360)%360)},i=this,n=0,o=e;n<o.length;n++){t(o[n])}},e.prototype.openPageOrganizer=function(){(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer)?this.pdfViewerBase.getModuleWarningMessage("PageOrganizer"):this.isAllImagesReceived&&(!t.Browser.isDevice||this.pdfViewer.enableDesktopMode?this.createOrganizeWindow():this.createOrganizeWindowForMobile())},e.prototype.closePageOrganizer=function(){(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer)?this.pdfViewerBase.getModuleWarningMessage("PageOrganizer"):(0,t.isNullOrUndefined)(this.organizeDialog)||this.organizeDialog.hide()},e.prototype.switchPageOrganizer=function(){(0,t.isNullOrUndefined)(this.pdfViewer.pageOrganizer)||(!(0,t.isNullOrUndefined)(this.organizeDialog)&&this.organizeDialog.visible?this.closePageOrganizer():this.openPageOrganizer())},e.prototype.getModuleName=function(){return"PageOrganizer"},e.prototype.destroyDialogWindow=function(){this.removeEventListeners(),this.isOrganizeWindowOpen=!1,(0,t.isNullOrUndefined)(this.organizeDialog)||(this.organizeUnWireEvent(),this.organizeDialog.destroy(),this.organizeDialog=null);var e=this.pdfViewerBase.getElement("_organize_window");(0,t.isNullOrUndefined)(e)||e.parentElement.removeChild(e)},e.prototype.clear=function(){(0,t.isNullOrUndefined)(this.pdfViewerBase.navigationPane)||this.pdfViewerBase.navigationPane.enableOrganizeButton(!1),(0,t.isNullOrUndefined)(this.pdfViewer.toolbar)||this.pdfViewer.toolbar.enableToolbarItem(["OrganizePagesTool"],!1),this.destroyDialogWindow(),this.organizePagesCollection=[],this.tempOrganizePagesCollection=[],this.undoOrganizeCollection=[],this.redoOrganizeCollection=[],this.isDocumentModified=!1,this.pdfViewerBase.isImportDoc=!1,this.mobileContextMenu=[],this.dataDetails=[]},e.prototype.destroy=function(){return!0},e}();!function(e){e[e.RotateAngle0=1]="RotateAngle0",e[e.RotateAngle90=2]="RotateAngle90",e[e.RotateAngle180=3]="RotateAngle180",e[e.RotateAngle270=4]="RotateAngle270",e[e.RotateAngle360=1]="RotateAngle360"}(Gh||(Gh={}));var CA=function(e,t){this.pageIndex=e,this.rotationAngle=t},BA=function(e,t,i,n,o,r,a,s,l,d,h,A,p,c,g){this.currentPageIndex=e,this.pageIndex=t,this.copiedPageIndex=i,this.isInserted=n,this.isDeleted=o,this.isCopied=r,this.istargetCopied=a,this.hasEmptyPageAfter=s,this.hasEmptyPageBefore=l,this.rotateAngle=d,this.pageSize=h,this.isImportedDoc=A,this.documentName=p,this.password=c,this.documentData=g}})(),m})()));